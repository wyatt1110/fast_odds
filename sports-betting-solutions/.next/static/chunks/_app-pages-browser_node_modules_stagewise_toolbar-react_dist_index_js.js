/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_stagewise_toolbar-react_dist_index_js"],{

/***/ "(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js":
/*!***********************************************************!*\
  !*** ./node_modules/next/dist/build/polyfills/process.js ***!
  \***********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar _global_process, _global_process1;\nmodule.exports = ((_global_process = __webpack_require__.g.process) == null ? void 0 : _global_process.env) && typeof ((_global_process1 = __webpack_require__.g.process) == null ? void 0 : _global_process1.env) === \"object\" ? __webpack_require__.g.process : __webpack_require__(/*! next/dist/compiled/process */ \"(app-pages-browser)/./node_modules/next/dist/compiled/process/browser.js\");\n\n//# sourceMappingURL=process.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvcG9seWZpbGxzL3Byb2Nlc3MuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLHFDQUFxQyxxQkFBTSxpRkFBaUYscUJBQU0sa0VBQWtFLHFCQUFNLFdBQVcsbUJBQU8sQ0FBQyw0R0FBNEI7O0FBRXpQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvcG9seWZpbGxzL3Byb2Nlc3MuanM/NjdiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfZ2xvYmFsX3Byb2Nlc3MsIF9nbG9iYWxfcHJvY2VzczE7XG5tb2R1bGUuZXhwb3J0cyA9ICgoX2dsb2JhbF9wcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3MpID09IG51bGwgPyB2b2lkIDAgOiBfZ2xvYmFsX3Byb2Nlc3MuZW52KSAmJiB0eXBlb2YgKChfZ2xvYmFsX3Byb2Nlc3MxID0gZ2xvYmFsLnByb2Nlc3MpID09IG51bGwgPyB2b2lkIDAgOiBfZ2xvYmFsX3Byb2Nlc3MxLmVudikgPT09IFwib2JqZWN0XCIgPyBnbG9iYWwucHJvY2VzcyA6IHJlcXVpcmUoXCJuZXh0L2Rpc3QvY29tcGlsZWQvcHJvY2Vzc1wiKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvY2Vzcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/process/browser.js":
/*!************************************************************!*\
  !*** ./node_modules/next/dist/compiled/process/browser.js ***!
  \************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var __dirname = \"/\";\n(function(){var e={229:function(e){var t=e.exports={};var r;var n;function defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}(function(){try{if(typeof setTimeout===\"function\"){r=setTimeout}else{r=defaultSetTimout}}catch(e){r=defaultSetTimout}try{if(typeof clearTimeout===\"function\"){n=clearTimeout}else{n=defaultClearTimeout}}catch(e){n=defaultClearTimeout}})();function runTimeout(e){if(r===setTimeout){return setTimeout(e,0)}if((r===defaultSetTimout||!r)&&setTimeout){r=setTimeout;return setTimeout(e,0)}try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function runClearTimeout(e){if(n===clearTimeout){return clearTimeout(e)}if((n===defaultClearTimeout||!n)&&clearTimeout){n=clearTimeout;return clearTimeout(e)}try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}var i=[];var o=false;var u;var a=-1;function cleanUpNextTick(){if(!o||!u){return}o=false;if(u.length){i=u.concat(i)}else{a=-1}if(i.length){drainQueue()}}function drainQueue(){if(o){return}var e=runTimeout(cleanUpNextTick);o=true;var t=i.length;while(t){u=i;i=[];while(++a<t){if(u){u[a].run()}}a=-1;t=i.length}u=null;o=false;runClearTimeout(e)}t.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}i.push(new Item(e,t));if(i.length===1&&!o){runTimeout(drainQueue)}};function Item(e,t){this.fun=e;this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};t.title=\"browser\";t.browser=true;t.env={};t.argv=[];t.version=\"\";t.versions={};function noop(){}t.on=noop;t.addListener=noop;t.once=noop;t.off=noop;t.removeListener=noop;t.removeAllListeners=noop;t.emit=noop;t.prependListener=noop;t.prependOnceListener=noop;t.listeners=function(e){return[]};t.binding=function(e){throw new Error(\"process.binding is not supported\")};t.cwd=function(){return\"/\"};t.chdir=function(e){throw new Error(\"process.chdir is not supported\")};t.umask=function(){return 0}}};var t={};function __nccwpck_require__(r){var n=t[r];if(n!==undefined){return n.exports}var i=t[r]={exports:{}};var o=true;try{e[r](i,i.exports,__nccwpck_require__);o=false}finally{if(o)delete t[r]}return i.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var r=__nccwpck_require__(229);module.exports=r})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcHJvY2Vzcy9icm93c2VyLmpzIiwibWFwcGluZ3MiOiI7QUFBQSxZQUFZLE9BQU8sZ0JBQWdCLG1CQUFtQixNQUFNLE1BQU0sNEJBQTRCLG1EQUFtRCwrQkFBK0IscURBQXFELFlBQVksSUFBSSxtQ0FBbUMsYUFBYSxLQUFLLG9CQUFvQixTQUFTLG1CQUFtQixJQUFJLHFDQUFxQyxlQUFlLEtBQUssdUJBQXVCLFNBQVMsdUJBQXVCLElBQUksdUJBQXVCLG1CQUFtQix1QkFBdUIsMkNBQTJDLGFBQWEsdUJBQXVCLElBQUksY0FBYyxTQUFTLElBQUksd0JBQXdCLFNBQVMsMEJBQTBCLDRCQUE0QixxQkFBcUIsdUJBQXVCLGdEQUFnRCxlQUFlLHVCQUF1QixJQUFJLFlBQVksU0FBUyxJQUFJLHNCQUFzQixTQUFTLHdCQUF3QixTQUFTLFlBQVksTUFBTSxTQUFTLDJCQUEyQixXQUFXLE9BQU8sUUFBUSxhQUFhLGNBQWMsS0FBSyxLQUFLLGFBQWEsY0FBYyxzQkFBc0IsTUFBTSxPQUFPLGtDQUFrQyxPQUFPLGVBQWUsU0FBUyxJQUFJLEtBQUssYUFBYSxNQUFNLFlBQVksS0FBSyxXQUFXLE9BQU8sUUFBUSxtQkFBbUIsdUJBQXVCLG9DQUFvQyx1QkFBdUIsWUFBWSxtQkFBbUIsS0FBSyxxQkFBcUIsc0JBQXNCLHFCQUFxQix5QkFBeUIsbUJBQW1CLFdBQVcsYUFBYSw4QkFBOEIsaUNBQWlDLGtCQUFrQixlQUFlLFNBQVMsVUFBVSxhQUFhLGNBQWMsaUJBQWlCLFVBQVUsbUJBQW1CLFlBQVksV0FBVyxzQkFBc0IsMEJBQTBCLFlBQVksdUJBQXVCLDJCQUEyQix3QkFBd0IsVUFBVSxzQkFBc0IscURBQXFELGlCQUFpQixXQUFXLG9CQUFvQixtREFBbUQsbUJBQW1CLFlBQVksU0FBUyxnQ0FBZ0MsV0FBVyxrQkFBa0IsaUJBQWlCLFlBQVksWUFBWSxXQUFXLElBQUksc0NBQXNDLFFBQVEsUUFBUSxpQkFBaUIsaUJBQWlCLG1FQUFtRSxTQUFTLEtBQUssK0JBQStCLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3Byb2Nlc3MvYnJvd3Nlci5qcz9hNjQ1Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe3ZhciBlPXsyMjk6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5leHBvcnRzPXt9O3ZhciByO3ZhciBuO2Z1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9KGZ1bmN0aW9uKCl7dHJ5e2lmKHR5cGVvZiBzZXRUaW1lb3V0PT09XCJmdW5jdGlvblwiKXtyPXNldFRpbWVvdXR9ZWxzZXtyPWRlZmF1bHRTZXRUaW1vdXR9fWNhdGNoKGUpe3I9ZGVmYXVsdFNldFRpbW91dH10cnl7aWYodHlwZW9mIGNsZWFyVGltZW91dD09PVwiZnVuY3Rpb25cIil7bj1jbGVhclRpbWVvdXR9ZWxzZXtuPWRlZmF1bHRDbGVhclRpbWVvdXR9fWNhdGNoKGUpe249ZGVmYXVsdENsZWFyVGltZW91dH19KSgpO2Z1bmN0aW9uIHJ1blRpbWVvdXQoZSl7aWYocj09PXNldFRpbWVvdXQpe3JldHVybiBzZXRUaW1lb3V0KGUsMCl9aWYoKHI9PT1kZWZhdWx0U2V0VGltb3V0fHwhcikmJnNldFRpbWVvdXQpe3I9c2V0VGltZW91dDtyZXR1cm4gc2V0VGltZW91dChlLDApfXRyeXtyZXR1cm4gcihlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gci5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gci5jYWxsKHRoaXMsZSwwKX19fWZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChlKXtpZihuPT09Y2xlYXJUaW1lb3V0KXtyZXR1cm4gY2xlYXJUaW1lb3V0KGUpfWlmKChuPT09ZGVmYXVsdENsZWFyVGltZW91dHx8IW4pJiZjbGVhclRpbWVvdXQpe249Y2xlYXJUaW1lb3V0O3JldHVybiBjbGVhclRpbWVvdXQoZSl9dHJ5e3JldHVybiBuKGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gbi5jYWxsKG51bGwsZSl9Y2F0Y2godCl7cmV0dXJuIG4uY2FsbCh0aGlzLGUpfX19dmFyIGk9W107dmFyIG89ZmFsc2U7dmFyIHU7dmFyIGE9LTE7ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCl7aWYoIW98fCF1KXtyZXR1cm59bz1mYWxzZTtpZih1Lmxlbmd0aCl7aT11LmNvbmNhdChpKX1lbHNle2E9LTF9aWYoaS5sZW5ndGgpe2RyYWluUXVldWUoKX19ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpe2lmKG8pe3JldHVybn12YXIgZT1ydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7bz10cnVlO3ZhciB0PWkubGVuZ3RoO3doaWxlKHQpe3U9aTtpPVtdO3doaWxlKCsrYTx0KXtpZih1KXt1W2FdLnJ1bigpfX1hPS0xO3Q9aS5sZW5ndGh9dT1udWxsO289ZmFsc2U7cnVuQ2xlYXJUaW1lb3V0KGUpfXQubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt0W3ItMV09YXJndW1lbnRzW3JdfX1pLnB1c2gobmV3IEl0ZW0oZSx0KSk7aWYoaS5sZW5ndGg9PT0xJiYhbyl7cnVuVGltZW91dChkcmFpblF1ZXVlKX19O2Z1bmN0aW9uIEl0ZW0oZSx0KXt0aGlzLmZ1bj1lO3RoaXMuYXJyYXk9dH1JdGVtLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfTt0LnRpdGxlPVwiYnJvd3NlclwiO3QuYnJvd3Nlcj10cnVlO3QuZW52PXt9O3QuYXJndj1bXTt0LnZlcnNpb249XCJcIjt0LnZlcnNpb25zPXt9O2Z1bmN0aW9uIG5vb3AoKXt9dC5vbj1ub29wO3QuYWRkTGlzdGVuZXI9bm9vcDt0Lm9uY2U9bm9vcDt0Lm9mZj1ub29wO3QucmVtb3ZlTGlzdGVuZXI9bm9vcDt0LnJlbW92ZUFsbExpc3RlbmVycz1ub29wO3QuZW1pdD1ub29wO3QucHJlcGVuZExpc3RlbmVyPW5vb3A7dC5wcmVwZW5kT25jZUxpc3RlbmVyPW5vb3A7dC5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuW119O3QuYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX07dC5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn07dC5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9O3QudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19fTt2YXIgdD17fTtmdW5jdGlvbiBfX25jY3dwY2tfcmVxdWlyZV9fKHIpe3ZhciBuPXRbcl07aWYobiE9PXVuZGVmaW5lZCl7cmV0dXJuIG4uZXhwb3J0c312YXIgaT10W3JdPXtleHBvcnRzOnt9fTt2YXIgbz10cnVlO3RyeXtlW3JdKGksaS5leHBvcnRzLF9fbmNjd3Bja19yZXF1aXJlX18pO289ZmFsc2V9ZmluYWxseXtpZihvKWRlbGV0ZSB0W3JdfXJldHVybiBpLmV4cG9ydHN9aWYodHlwZW9mIF9fbmNjd3Bja19yZXF1aXJlX18hPT1cInVuZGVmaW5lZFwiKV9fbmNjd3Bja19yZXF1aXJlX18uYWI9X19kaXJuYW1lK1wiL1wiO3ZhciByPV9fbmNjd3Bja19yZXF1aXJlX18oMjI5KTttb2R1bGUuZXhwb3J0cz1yfSkoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/process/browser.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stagewise/toolbar-react/dist/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@stagewise/toolbar-react/dist/index.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StagewiseToolbar: function() { return /* binding */ StagewiseToolbar; }\n/* harmony export */ });\n/* harmony import */ var _stagewise_toolbar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stagewise/toolbar */ \"(app-pages-browser)/./node_modules/@stagewise/toolbar/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\nfunction StagewiseToolbar({ config }) {\n  const isLoaded = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (isLoaded.current) return;\n    isLoaded.current = true;\n    (0,_stagewise_toolbar__WEBPACK_IMPORTED_MODULE_0__.initToolbar)(config);\n  }, [config]);\n  return null;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhZ2V3aXNlL3Rvb2xiYXItcmVhY3QvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBaUQ7QUFDUDtBQUMxQyw0QkFBNEIsUUFBUTtBQUNwQyxtQkFBbUIsNkNBQU07QUFDekIsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQSxJQUFJLCtEQUFXO0FBQ2YsR0FBRztBQUNIO0FBQ0E7QUFHRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHN0YWdld2lzZS90b29sYmFyLXJlYWN0L2Rpc3QvaW5kZXguanM/NzdjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbml0VG9vbGJhciB9IGZyb20gXCJAc3RhZ2V3aXNlL3Rvb2xiYXJcIjtcbmltcG9ydCB7IHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTdGFnZXdpc2VUb29sYmFyKHsgY29uZmlnIH0pIHtcbiAgY29uc3QgaXNMb2FkZWQgPSB1c2VSZWYoZmFsc2UpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0xvYWRlZC5jdXJyZW50KSByZXR1cm47XG4gICAgaXNMb2FkZWQuY3VycmVudCA9IHRydWU7XG4gICAgaW5pdFRvb2xiYXIoY29uZmlnKTtcbiAgfSwgW2NvbmZpZ10pO1xuICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCB7XG4gIFN0YWdld2lzZVRvb2xiYXJcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stagewise/toolbar-react/dist/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@stagewise/toolbar/dist/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@stagewise/toolbar/dist/index.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initToolbar: function() { return /* binding */ initToolbar; }\n/* harmony export */ });\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\nvar n$4, l$4, u$a, i$8, r$5, o$9, e$5, f$9, c$7, s$9, a$b, h$6, p$4 = {}, y$7 = [], v$3 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i, w$5 = Array.isArray;\nfunction d$5(n2, l2) {\n  for (var u2 in l2) n2[u2] = l2[u2];\n  return n2;\n}\nfunction g$4(n2) {\n  n2 && n2.parentNode && n2.parentNode.removeChild(n2);\n}\nfunction _$4(l2, u2, t2) {\n  var i2, r2, o3, e2 = {};\n  for (o3 in u2) \"key\" == o3 ? i2 = u2[o3] : \"ref\" == o3 ? r2 = u2[o3] : e2[o3] = u2[o3];\n  if (arguments.length > 2 && (e2.children = arguments.length > 3 ? n$4.call(arguments, 2) : t2), \"function\" == typeof l2 && null != l2.defaultProps) for (o3 in l2.defaultProps) null == e2[o3] && (e2[o3] = l2.defaultProps[o3]);\n  return m$6(l2, e2, i2, r2, null);\n}\nfunction m$6(n2, t2, i2, r2, o3) {\n  var e2 = { type: n2, props: t2, key: i2, ref: r2, __k: null, __: null, __b: 0, __e: null, __c: null, constructor: void 0, __v: null == o3 ? ++u$a : o3, __i: -1, __u: 0 };\n  return null == o3 && null != l$4.vnode && l$4.vnode(e2), e2;\n}\nfunction b$5() {\n  return { current: null };\n}\nfunction k$3(n2) {\n  return n2.children;\n}\nfunction x$5(n2, l2) {\n  this.props = n2, this.context = l2;\n}\nfunction S$5(n2, l2) {\n  if (null == l2) return n2.__ ? S$5(n2.__, n2.__i + 1) : null;\n  for (var u2; l2 < n2.__k.length; l2++) if (null != (u2 = n2.__k[l2]) && null != u2.__e) return u2.__e;\n  return \"function\" == typeof n2.type ? S$5(n2) : null;\n}\nfunction C$5(n2) {\n  var l2, u2;\n  if (null != (n2 = n2.__) && null != n2.__c) {\n    for (n2.__e = n2.__c.base = null, l2 = 0; l2 < n2.__k.length; l2++) if (null != (u2 = n2.__k[l2]) && null != u2.__e) {\n      n2.__e = n2.__c.base = u2.__e;\n      break;\n    }\n    return C$5(n2);\n  }\n}\nfunction M$4(n2) {\n  (!n2.__d && (n2.__d = true) && i$8.push(n2) && !$$2.__r++ || r$5 != l$4.debounceRendering) && ((r$5 = l$4.debounceRendering) || o$9)($$2);\n}\nfunction $$2() {\n  for (var n2, u2, t2, r2, o3, f2, c2, s2 = 1; i$8.length; ) i$8.length > s2 && i$8.sort(e$5), n2 = i$8.shift(), s2 = i$8.length, n2.__d && (t2 = void 0, o3 = (r2 = (u2 = n2).__v).__e, f2 = [], c2 = [], u2.__P && ((t2 = d$5({}, r2)).__v = r2.__v + 1, l$4.vnode && l$4.vnode(t2), O$3(u2.__P, t2, r2, u2.__n, u2.__P.namespaceURI, 32 & r2.__u ? [o3] : null, f2, null == o3 ? S$5(r2) : o3, !!(32 & r2.__u), c2), t2.__v = r2.__v, t2.__.__k[t2.__i] = t2, z$3(f2, t2, c2), t2.__e != o3 && C$5(t2)));\n  $$2.__r = 0;\n}\nfunction I$4(n2, l2, u2, t2, i2, r2, o3, e2, f2, c2, s2) {\n  var a3, h2, v2, w2, d2, g2, _2 = t2 && t2.__k || y$7, m2 = l2.length;\n  for (f2 = P$6(u2, l2, _2, f2, m2), a3 = 0; a3 < m2; a3++) null != (v2 = u2.__k[a3]) && (h2 = -1 == v2.__i ? p$4 : _2[v2.__i] || p$4, v2.__i = a3, g2 = O$3(n2, v2, h2, i2, r2, o3, e2, f2, c2, s2), w2 = v2.__e, v2.ref && h2.ref != v2.ref && (h2.ref && q$4(h2.ref, null, v2), s2.push(v2.ref, v2.__c || w2, v2)), null == d2 && null != w2 && (d2 = w2), 4 & v2.__u || h2.__k === v2.__k ? f2 = A$4(v2, f2, n2) : \"function\" == typeof v2.type && void 0 !== g2 ? f2 = g2 : w2 && (f2 = w2.nextSibling), v2.__u &= -7);\n  return u2.__e = d2, f2;\n}\nfunction P$6(n2, l2, u2, t2, i2) {\n  var r2, o3, e2, f2, c2, s2 = u2.length, a3 = s2, h2 = 0;\n  for (n2.__k = new Array(i2), r2 = 0; r2 < i2; r2++) null != (o3 = l2[r2]) && \"boolean\" != typeof o3 && \"function\" != typeof o3 ? (f2 = r2 + h2, (o3 = n2.__k[r2] = \"string\" == typeof o3 || \"number\" == typeof o3 || \"bigint\" == typeof o3 || o3.constructor == String ? m$6(null, o3, null, null, null) : w$5(o3) ? m$6(k$3, { children: o3 }, null, null, null) : null == o3.constructor && o3.__b > 0 ? m$6(o3.type, o3.props, o3.key, o3.ref ? o3.ref : null, o3.__v) : o3).__ = n2, o3.__b = n2.__b + 1, e2 = null, -1 != (c2 = o3.__i = L$4(o3, u2, f2, a3)) && (a3--, (e2 = u2[c2]) && (e2.__u |= 2)), null == e2 || null == e2.__v ? (-1 == c2 && (i2 > s2 ? h2-- : i2 < s2 && h2++), \"function\" != typeof o3.type && (o3.__u |= 4)) : c2 != f2 && (c2 == f2 - 1 ? h2-- : c2 == f2 + 1 ? h2++ : (c2 > f2 ? h2-- : h2++, o3.__u |= 4))) : n2.__k[r2] = null;\n  if (a3) for (r2 = 0; r2 < s2; r2++) null != (e2 = u2[r2]) && 0 == (2 & e2.__u) && (e2.__e == t2 && (t2 = S$5(e2)), B$3(e2, e2));\n  return t2;\n}\nfunction A$4(n2, l2, u2) {\n  var t2, i2;\n  if (\"function\" == typeof n2.type) {\n    for (t2 = n2.__k, i2 = 0; t2 && i2 < t2.length; i2++) t2[i2] && (t2[i2].__ = n2, l2 = A$4(t2[i2], l2, u2));\n    return l2;\n  }\n  n2.__e != l2 && (l2 && n2.type && !u2.contains(l2) && (l2 = S$5(n2)), u2.insertBefore(n2.__e, l2 || null), l2 = n2.__e);\n  do {\n    l2 = l2 && l2.nextSibling;\n  } while (null != l2 && 8 == l2.nodeType);\n  return l2;\n}\nfunction H$6(n2, l2) {\n  return l2 = l2 || [], null == n2 || \"boolean\" == typeof n2 || (w$5(n2) ? n2.some(function(n3) {\n    H$6(n3, l2);\n  }) : l2.push(n2)), l2;\n}\nfunction L$4(n2, l2, u2, t2) {\n  var i2, r2, o3 = n2.key, e2 = n2.type, f2 = l2[u2];\n  if (null === f2 && null == n2.key || f2 && o3 == f2.key && e2 == f2.type && 0 == (2 & f2.__u)) return u2;\n  if (t2 > (null != f2 && 0 == (2 & f2.__u) ? 1 : 0)) for (i2 = u2 - 1, r2 = u2 + 1; i2 >= 0 || r2 < l2.length; ) {\n    if (i2 >= 0) {\n      if ((f2 = l2[i2]) && 0 == (2 & f2.__u) && o3 == f2.key && e2 == f2.type) return i2;\n      i2--;\n    }\n    if (r2 < l2.length) {\n      if ((f2 = l2[r2]) && 0 == (2 & f2.__u) && o3 == f2.key && e2 == f2.type) return r2;\n      r2++;\n    }\n  }\n  return -1;\n}\nfunction T$6(n2, l2, u2) {\n  \"-\" == l2[0] ? n2.setProperty(l2, null == u2 ? \"\" : u2) : n2[l2] = null == u2 ? \"\" : \"number\" != typeof u2 || v$3.test(l2) ? u2 : u2 + \"px\";\n}\nfunction j$5(n2, l2, u2, t2, i2) {\n  var r2;\n  n: if (\"style\" == l2) if (\"string\" == typeof u2) n2.style.cssText = u2;\n  else {\n    if (\"string\" == typeof t2 && (n2.style.cssText = t2 = \"\"), t2) for (l2 in t2) u2 && l2 in u2 || T$6(n2.style, l2, \"\");\n    if (u2) for (l2 in u2) t2 && u2[l2] == t2[l2] || T$6(n2.style, l2, u2[l2]);\n  }\n  else if (\"o\" == l2[0] && \"n\" == l2[1]) r2 = l2 != (l2 = l2.replace(f$9, \"$1\")), l2 = l2.toLowerCase() in n2 || \"onFocusOut\" == l2 || \"onFocusIn\" == l2 ? l2.toLowerCase().slice(2) : l2.slice(2), n2.l || (n2.l = {}), n2.l[l2 + r2] = u2, u2 ? t2 ? u2.u = t2.u : (u2.u = c$7, n2.addEventListener(l2, r2 ? a$b : s$9, r2)) : n2.removeEventListener(l2, r2 ? a$b : s$9, r2);\n  else {\n    if (\"http://www.w3.org/2000/svg\" == i2) l2 = l2.replace(/xlink(H|:h)/, \"h\").replace(/sName$/, \"s\");\n    else if (\"width\" != l2 && \"height\" != l2 && \"href\" != l2 && \"list\" != l2 && \"form\" != l2 && \"tabIndex\" != l2 && \"download\" != l2 && \"rowSpan\" != l2 && \"colSpan\" != l2 && \"role\" != l2 && \"popover\" != l2 && l2 in n2) try {\n      n2[l2] = null == u2 ? \"\" : u2;\n      break n;\n    } catch (n3) {\n    }\n    \"function\" == typeof u2 || (null == u2 || false === u2 && \"-\" != l2[4] ? n2.removeAttribute(l2) : n2.setAttribute(l2, \"popover\" == l2 && 1 == u2 ? \"\" : u2));\n  }\n}\nfunction F$6(n2) {\n  return function(u2) {\n    if (this.l) {\n      var t2 = this.l[u2.type + n2];\n      if (null == u2.t) u2.t = c$7++;\n      else if (u2.t < t2.u) return;\n      return t2(l$4.event ? l$4.event(u2) : u2);\n    }\n  };\n}\nfunction O$3(n2, u2, t2, i2, r2, o3, e2, f2, c2, s2) {\n  var a3, h2, p2, y2, v2, _2, m2, b2, S2, C2, M2, $2, P2, A2, H2, L2, T2, j2 = u2.type;\n  if (null != u2.constructor) return null;\n  128 & t2.__u && (c2 = !!(32 & t2.__u), o3 = [f2 = u2.__e = t2.__e]), (a3 = l$4.__b) && a3(u2);\n  n: if (\"function\" == typeof j2) try {\n    if (b2 = u2.props, S2 = \"prototype\" in j2 && j2.prototype.render, C2 = (a3 = j2.contextType) && i2[a3.__c], M2 = a3 ? C2 ? C2.props.value : a3.__ : i2, t2.__c ? m2 = (h2 = u2.__c = t2.__c).__ = h2.__E : (S2 ? u2.__c = h2 = new j2(b2, M2) : (u2.__c = h2 = new x$5(b2, M2), h2.constructor = j2, h2.render = D$3), C2 && C2.sub(h2), h2.props = b2, h2.state || (h2.state = {}), h2.context = M2, h2.__n = i2, p2 = h2.__d = true, h2.__h = [], h2._sb = []), S2 && null == h2.__s && (h2.__s = h2.state), S2 && null != j2.getDerivedStateFromProps && (h2.__s == h2.state && (h2.__s = d$5({}, h2.__s)), d$5(h2.__s, j2.getDerivedStateFromProps(b2, h2.__s))), y2 = h2.props, v2 = h2.state, h2.__v = u2, p2) S2 && null == j2.getDerivedStateFromProps && null != h2.componentWillMount && h2.componentWillMount(), S2 && null != h2.componentDidMount && h2.__h.push(h2.componentDidMount);\n    else {\n      if (S2 && null == j2.getDerivedStateFromProps && b2 !== y2 && null != h2.componentWillReceiveProps && h2.componentWillReceiveProps(b2, M2), !h2.__e && null != h2.shouldComponentUpdate && false === h2.shouldComponentUpdate(b2, h2.__s, M2) || u2.__v == t2.__v) {\n        for (u2.__v != t2.__v && (h2.props = b2, h2.state = h2.__s, h2.__d = false), u2.__e = t2.__e, u2.__k = t2.__k, u2.__k.some(function(n3) {\n          n3 && (n3.__ = u2);\n        }), $2 = 0; $2 < h2._sb.length; $2++) h2.__h.push(h2._sb[$2]);\n        h2._sb = [], h2.__h.length && e2.push(h2);\n        break n;\n      }\n      null != h2.componentWillUpdate && h2.componentWillUpdate(b2, h2.__s, M2), S2 && null != h2.componentDidUpdate && h2.__h.push(function() {\n        h2.componentDidUpdate(y2, v2, _2);\n      });\n    }\n    if (h2.context = M2, h2.props = b2, h2.__P = n2, h2.__e = false, P2 = l$4.__r, A2 = 0, S2) {\n      for (h2.state = h2.__s, h2.__d = false, P2 && P2(u2), a3 = h2.render(h2.props, h2.state, h2.context), H2 = 0; H2 < h2._sb.length; H2++) h2.__h.push(h2._sb[H2]);\n      h2._sb = [];\n    } else do {\n      h2.__d = false, P2 && P2(u2), a3 = h2.render(h2.props, h2.state, h2.context), h2.state = h2.__s;\n    } while (h2.__d && ++A2 < 25);\n    h2.state = h2.__s, null != h2.getChildContext && (i2 = d$5(d$5({}, i2), h2.getChildContext())), S2 && !p2 && null != h2.getSnapshotBeforeUpdate && (_2 = h2.getSnapshotBeforeUpdate(y2, v2)), L2 = a3, null != a3 && a3.type === k$3 && null == a3.key && (L2 = N$2(a3.props.children)), f2 = I$4(n2, w$5(L2) ? L2 : [L2], u2, t2, i2, r2, o3, e2, f2, c2, s2), h2.base = u2.__e, u2.__u &= -161, h2.__h.length && e2.push(h2), m2 && (h2.__E = h2.__ = null);\n  } catch (n3) {\n    if (u2.__v = null, c2 || null != o3) if (n3.then) {\n      for (u2.__u |= c2 ? 160 : 128; f2 && 8 == f2.nodeType && f2.nextSibling; ) f2 = f2.nextSibling;\n      o3[o3.indexOf(f2)] = null, u2.__e = f2;\n    } else for (T2 = o3.length; T2--; ) g$4(o3[T2]);\n    else u2.__e = t2.__e, u2.__k = t2.__k;\n    l$4.__e(n3, u2, t2);\n  }\n  else null == o3 && u2.__v == t2.__v ? (u2.__k = t2.__k, u2.__e = t2.__e) : f2 = u2.__e = V$2(t2.__e, u2, t2, i2, r2, o3, e2, c2, s2);\n  return (a3 = l$4.diffed) && a3(u2), 128 & u2.__u ? void 0 : f2;\n}\nfunction z$3(n2, u2, t2) {\n  for (var i2 = 0; i2 < t2.length; i2++) q$4(t2[i2], t2[++i2], t2[++i2]);\n  l$4.__c && l$4.__c(u2, n2), n2.some(function(u3) {\n    try {\n      n2 = u3.__h, u3.__h = [], n2.some(function(n3) {\n        n3.call(u3);\n      });\n    } catch (n3) {\n      l$4.__e(n3, u3.__v);\n    }\n  });\n}\nfunction N$2(n2) {\n  return \"object\" != typeof n2 || null == n2 || n2.__b && n2.__b > 0 ? n2 : w$5(n2) ? n2.map(N$2) : d$5({}, n2);\n}\nfunction V$2(u2, t2, i2, r2, o3, e2, f2, c2, s2) {\n  var a3, h2, y2, v2, d2, _2, m2, b2 = i2.props, k2 = t2.props, x2 = t2.type;\n  if (\"svg\" == x2 ? o3 = \"http://www.w3.org/2000/svg\" : \"math\" == x2 ? o3 = \"http://www.w3.org/1998/Math/MathML\" : o3 || (o3 = \"http://www.w3.org/1999/xhtml\"), null != e2) {\n    for (a3 = 0; a3 < e2.length; a3++) if ((d2 = e2[a3]) && \"setAttribute\" in d2 == !!x2 && (x2 ? d2.localName == x2 : 3 == d2.nodeType)) {\n      u2 = d2, e2[a3] = null;\n      break;\n    }\n  }\n  if (null == u2) {\n    if (null == x2) return document.createTextNode(k2);\n    u2 = document.createElementNS(o3, x2, k2.is && k2), c2 && (l$4.__m && l$4.__m(t2, e2), c2 = false), e2 = null;\n  }\n  if (null == x2) b2 === k2 || c2 && u2.data == k2 || (u2.data = k2);\n  else {\n    if (e2 = e2 && n$4.call(u2.childNodes), b2 = i2.props || p$4, !c2 && null != e2) for (b2 = {}, a3 = 0; a3 < u2.attributes.length; a3++) b2[(d2 = u2.attributes[a3]).name] = d2.value;\n    for (a3 in b2) if (d2 = b2[a3], \"children\" == a3) ;\n    else if (\"dangerouslySetInnerHTML\" == a3) y2 = d2;\n    else if (!(a3 in k2)) {\n      if (\"value\" == a3 && \"defaultValue\" in k2 || \"checked\" == a3 && \"defaultChecked\" in k2) continue;\n      j$5(u2, a3, null, d2, o3);\n    }\n    for (a3 in k2) d2 = k2[a3], \"children\" == a3 ? v2 = d2 : \"dangerouslySetInnerHTML\" == a3 ? h2 = d2 : \"value\" == a3 ? _2 = d2 : \"checked\" == a3 ? m2 = d2 : c2 && \"function\" != typeof d2 || b2[a3] === d2 || j$5(u2, a3, d2, b2[a3], o3);\n    if (h2) c2 || y2 && (h2.__html == y2.__html || h2.__html == u2.innerHTML) || (u2.innerHTML = h2.__html), t2.__k = [];\n    else if (y2 && (u2.innerHTML = \"\"), I$4(\"template\" == t2.type ? u2.content : u2, w$5(v2) ? v2 : [v2], t2, i2, r2, \"foreignObject\" == x2 ? \"http://www.w3.org/1999/xhtml\" : o3, e2, f2, e2 ? e2[0] : i2.__k && S$5(i2, 0), c2, s2), null != e2) for (a3 = e2.length; a3--; ) g$4(e2[a3]);\n    c2 || (a3 = \"value\", \"progress\" == x2 && null == _2 ? u2.removeAttribute(\"value\") : null != _2 && (_2 !== u2[a3] || \"progress\" == x2 && !_2 || \"option\" == x2 && _2 != b2[a3]) && j$5(u2, a3, _2, b2[a3], o3), a3 = \"checked\", null != m2 && m2 != u2[a3] && j$5(u2, a3, m2, b2[a3], o3));\n  }\n  return u2;\n}\nfunction q$4(n2, u2, t2) {\n  try {\n    if (\"function\" == typeof n2) {\n      var i2 = \"function\" == typeof n2.__u;\n      i2 && n2.__u(), i2 && null == u2 || (n2.__u = n2(u2));\n    } else n2.current = u2;\n  } catch (n3) {\n    l$4.__e(n3, t2);\n  }\n}\nfunction B$3(n2, u2, t2) {\n  var i2, r2;\n  if (l$4.unmount && l$4.unmount(n2), (i2 = n2.ref) && (i2.current && i2.current != n2.__e || q$4(i2, null, u2)), null != (i2 = n2.__c)) {\n    if (i2.componentWillUnmount) try {\n      i2.componentWillUnmount();\n    } catch (n3) {\n      l$4.__e(n3, u2);\n    }\n    i2.base = i2.__P = null;\n  }\n  if (i2 = n2.__k) for (r2 = 0; r2 < i2.length; r2++) i2[r2] && B$3(i2[r2], u2, t2 || \"function\" != typeof n2.type);\n  t2 || g$4(n2.__e), n2.__c = n2.__ = n2.__e = void 0;\n}\nfunction D$3(n2, l2, u2) {\n  return this.constructor(n2, u2);\n}\nfunction E$3(u2, t2, i2) {\n  var r2, o3, e2, f2;\n  t2 == document && (t2 = document.documentElement), l$4.__ && l$4.__(u2, t2), o3 = (r2 = \"function\" == typeof i2) ? null : i2 && i2.__k || t2.__k, e2 = [], f2 = [], O$3(t2, u2 = (!r2 && i2 || t2).__k = _$4(k$3, null, [u2]), o3 || p$4, p$4, t2.namespaceURI, !r2 && i2 ? [i2] : o3 ? null : t2.firstChild ? n$4.call(t2.childNodes) : null, e2, !r2 && i2 ? i2 : o3 ? o3.__e : t2.firstChild, r2, f2), z$3(e2, u2, f2);\n}\nfunction G$3(n2, l2) {\n  E$3(n2, l2, G$3);\n}\nfunction J$4(l2, u2, t2) {\n  var i2, r2, o3, e2, f2 = d$5({}, l2.props);\n  for (o3 in l2.type && l2.type.defaultProps && (e2 = l2.type.defaultProps), u2) \"key\" == o3 ? i2 = u2[o3] : \"ref\" == o3 ? r2 = u2[o3] : f2[o3] = null == u2[o3] && null != e2 ? e2[o3] : u2[o3];\n  return arguments.length > 2 && (f2.children = arguments.length > 3 ? n$4.call(arguments, 2) : t2), m$6(l2.type, f2, i2 || l2.key, r2 || l2.ref, null);\n}\nfunction K$3(n2) {\n  function l2(n3) {\n    var u2, t2;\n    return this.getChildContext || (u2 = /* @__PURE__ */ new Set(), (t2 = {})[l2.__c] = this, this.getChildContext = function() {\n      return t2;\n    }, this.componentWillUnmount = function() {\n      u2 = null;\n    }, this.shouldComponentUpdate = function(n4) {\n      this.props.value != n4.value && u2.forEach(function(n5) {\n        n5.__e = true, M$4(n5);\n      });\n    }, this.sub = function(n4) {\n      u2.add(n4);\n      var l3 = n4.componentWillUnmount;\n      n4.componentWillUnmount = function() {\n        u2 && u2.delete(n4), l3 && l3.call(n4);\n      };\n    }), n3.children;\n  }\n  return l2.__c = \"__cC\" + h$6++, l2.__ = n2, l2.Provider = l2.__l = (l2.Consumer = function(n3, l3) {\n    return n3.children(l3);\n  }).contextType = l2, l2;\n}\nn$4 = y$7.slice, l$4 = { __e: function(n2, l2, u2, t2) {\n  for (var i2, r2, o3; l2 = l2.__; ) if ((i2 = l2.__c) && !i2.__) try {\n    if ((r2 = i2.constructor) && null != r2.getDerivedStateFromError && (i2.setState(r2.getDerivedStateFromError(n2)), o3 = i2.__d), null != i2.componentDidCatch && (i2.componentDidCatch(n2, t2 || {}), o3 = i2.__d), o3) return i2.__E = i2;\n  } catch (l3) {\n    n2 = l3;\n  }\n  throw n2;\n} }, u$a = 0, x$5.prototype.setState = function(n2, l2) {\n  var u2;\n  u2 = null != this.__s && this.__s != this.state ? this.__s : this.__s = d$5({}, this.state), \"function\" == typeof n2 && (n2 = n2(d$5({}, u2), this.props)), n2 && d$5(u2, n2), null != n2 && this.__v && (l2 && this._sb.push(l2), M$4(this));\n}, x$5.prototype.forceUpdate = function(n2) {\n  this.__v && (this.__e = true, n2 && this.__h.push(n2), M$4(this));\n}, x$5.prototype.render = k$3, i$8 = [], o$9 = \"function\" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, e$5 = function(n2, l2) {\n  return n2.__v.__b - l2.__v.__b;\n}, $$2.__r = 0, f$9 = /(PointerCapture)$|Capture$/i, c$7 = 0, s$9 = F$6(false), a$b = F$6(true), h$6 = 0;\nconst appStyle = '/*! tailwindcss v4.1.5 | MIT License | https://tailwindcss.com */\\n@layer properties{@supports ((-webkit-hyphens:none) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){stagewise-companion-anchor *,stagewise-companion-anchor :before,stagewise-companion-anchor :after,stagewise-companion-anchor ::backdrop{--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial}}}@layer theme{stagewise-companion-anchor,stagewise-companion-anchor{--font-sans:ui-sans-serif,system-ui,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace;--color-red-600:oklch(57.7% .245 27.325);--color-green-600:oklch(62.7% .194 149.214);--color-teal-500:oklch(70.4% .14 182.503);--color-blue-500:oklch(62.3% .214 259.815);--color-blue-600:oklch(54.6% .245 262.881);--color-indigo-700:oklch(45.7% .24 277.023);--color-indigo-950:oklch(25.7% .09 281.288);--color-rose-600:oklch(58.6% .253 17.585);--color-zinc-50:oklch(98.5% 0 0);--color-zinc-100:oklch(96.7% .001 286.375);--color-zinc-500:oklch(55.2% .016 285.938);--color-zinc-600:oklch(44.2% .017 285.786);--color-zinc-700:oklch(37% .013 285.805);--color-zinc-900:oklch(21% .006 285.885);--color-zinc-950:oklch(14.1% .005 285.823);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-sm:24rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height:calc(1.5/1);--font-weight-normal:400;--font-weight-semibold:600;--font-weight-bold:700;--radius-md:.375rem;--radius-lg:.5rem;--radius-xl:.75rem;--radius-2xl:1rem;--radius-3xl:1.5rem;--drop-shadow-xs:0 1px 1px #0000000d;--drop-shadow-md:0 3px 3px #0000001f;--drop-shadow-xl:0 9px 7px #0000001a;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--blur-xs:4px;--blur-sm:8px;--blur-md:12px;--blur-lg:16px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono);--color-background:var(--color-white);--color-foreground:var(--color-zinc-950);--color-muted-foreground:var(--color-zinc-700);--color-border:var(--color-zinc-500)}}@layer base{stagewise-companion-anchor *,stagewise-companion-anchor :after,stagewise-companion-anchor :before,stagewise-companion-anchor ::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}stagewise-companion-anchor ::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}:where(stagewise-companion-anchor),stagewise-companion-anchor{-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}stagewise-companion-anchor hr{height:0;color:inherit;border-top-width:1px}stagewise-companion-anchor abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}stagewise-companion-anchor h1,stagewise-companion-anchor h2,stagewise-companion-anchor h3,stagewise-companion-anchor h4,stagewise-companion-anchor h5,stagewise-companion-anchor h6{font-size:inherit;font-weight:inherit}stagewise-companion-anchor a{color:inherit;-webkit-text-decoration:inherit;-webkit-text-decoration:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}stagewise-companion-anchor b,stagewise-companion-anchor strong{font-weight:bolder}stagewise-companion-anchor code,stagewise-companion-anchor kbd,stagewise-companion-anchor samp,stagewise-companion-anchor pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}stagewise-companion-anchor small{font-size:80%}stagewise-companion-anchor sub,stagewise-companion-anchor sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}stagewise-companion-anchor sub{bottom:-.25em}stagewise-companion-anchor sup{top:-.5em}stagewise-companion-anchor table{text-indent:0;border-color:inherit;border-collapse:collapse}stagewise-companion-anchor :-moz-focusring{outline:auto}stagewise-companion-anchor progress{vertical-align:baseline}stagewise-companion-anchor summary{display:list-item}stagewise-companion-anchor ol,stagewise-companion-anchor ul,stagewise-companion-anchor menu{list-style:none}stagewise-companion-anchor img,stagewise-companion-anchor svg,stagewise-companion-anchor video,stagewise-companion-anchor canvas,stagewise-companion-anchor audio,stagewise-companion-anchor iframe,stagewise-companion-anchor embed,stagewise-companion-anchor object{vertical-align:middle;display:block}stagewise-companion-anchor img,stagewise-companion-anchor video{max-width:100%;height:auto}stagewise-companion-anchor button,stagewise-companion-anchor input,stagewise-companion-anchor select,stagewise-companion-anchor optgroup,stagewise-companion-anchor textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}stagewise-companion-anchor ::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}stagewise-companion-anchor :where(select:is([multiple],[size])) optgroup{font-weight:bolder}stagewise-companion-anchor :where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}stagewise-companion-anchor ::file-selector-button{margin-inline-end:4px}stagewise-companion-anchor ::-moz-placeholder{opacity:1}stagewise-companion-anchor ::placeholder{opacity:1}@supports (not (-webkit-appearance:-apple-pay-button)) or (contain-intrinsic-size:1px){stagewise-companion-anchor ::-moz-placeholder{color:currentColor}stagewise-companion-anchor ::placeholder{color:currentColor}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor ::-moz-placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}stagewise-companion-anchor ::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}stagewise-companion-anchor textarea{resize:vertical}stagewise-companion-anchor ::-webkit-search-decoration{-webkit-appearance:none}stagewise-companion-anchor ::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}stagewise-companion-anchor ::-webkit-datetime-edit{display:inline-flex}stagewise-companion-anchor ::-webkit-datetime-edit-fields-wrapper{padding:0}stagewise-companion-anchor ::-webkit-datetime-edit{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-year-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-month-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-day-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-hour-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-minute-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-second-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-millisecond-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-meridiem-field{padding-block:0}stagewise-companion-anchor :-moz-ui-invalid{box-shadow:none}stagewise-companion-anchor button,stagewise-companion-anchor input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}stagewise-companion-anchor ::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}stagewise-companion-anchor ::-webkit-inner-spin-button{height:auto}stagewise-companion-anchor ::-webkit-outer-spin-button{height:auto}stagewise-companion-anchor [hidden]:where(:not([hidden=until-found])){display:none!important}stagewise-companion-anchor stagewise-companion-anchor *{min-width:0;min-height:0;position:relative}}@layer components;@layer utilities{stagewise-companion-anchor .pointer-events-auto{pointer-events:auto!important}stagewise-companion-anchor .pointer-events-none{pointer-events:none!important}stagewise-companion-anchor .visible{visibility:visible!important}stagewise-companion-anchor .absolute{position:absolute!important}stagewise-companion-anchor .fixed{position:fixed!important}stagewise-companion-anchor .relative{position:relative!important}stagewise-companion-anchor .inset-0{inset:calc(var(--spacing)*0)!important}stagewise-companion-anchor .inset-4{inset:calc(var(--spacing)*4)!important}stagewise-companion-anchor .top-0{top:calc(var(--spacing)*0)!important}stagewise-companion-anchor .top-1\\\\/2{top:50%!important}stagewise-companion-anchor .top-\\\\[-20\\\\%\\\\]{top:-20%!important}stagewise-companion-anchor .top-\\\\[25\\\\%\\\\]{top:25%!important}stagewise-companion-anchor .-right-1{right:calc(var(--spacing)*-1)!important}stagewise-companion-anchor .right-0{right:calc(var(--spacing)*0)!important}stagewise-companion-anchor .right-1\\\\/2{right:50%!important}stagewise-companion-anchor .right-2{right:calc(var(--spacing)*2)!important}stagewise-companion-anchor .-bottom-0\\\\.5{bottom:calc(var(--spacing)*-.5)!important}stagewise-companion-anchor .bottom-1\\\\/2{bottom:50%!important}stagewise-companion-anchor .bottom-3{bottom:calc(var(--spacing)*3)!important}stagewise-companion-anchor .left-0{left:calc(var(--spacing)*0)!important}stagewise-companion-anchor .left-1\\\\/2{left:50%!important}stagewise-companion-anchor .left-3{left:calc(var(--spacing)*3)!important}stagewise-companion-anchor .left-\\\\[-10\\\\%\\\\]{left:-10%!important}stagewise-companion-anchor .left-\\\\[25\\\\%\\\\]{left:25%!important}stagewise-companion-anchor .z-50{z-index:50!important}stagewise-companion-anchor .container{width:100%!important}@media (min-width:40rem){stagewise-companion-anchor .container{max-width:40rem!important}}@media (min-width:48rem){stagewise-companion-anchor .container{max-width:48rem!important}}@media (min-width:64rem){stagewise-companion-anchor .container{max-width:64rem!important}}@media (min-width:80rem){stagewise-companion-anchor .container{max-width:80rem!important}}@media (min-width:96rem){stagewise-companion-anchor .container{max-width:96rem!important}}stagewise-companion-anchor .block{display:block!important}stagewise-companion-anchor .contents{display:contents!important}stagewise-companion-anchor .flex{display:flex!important}stagewise-companion-anchor .hidden{display:none!important}stagewise-companion-anchor .inline{display:inline!important}stagewise-companion-anchor .aspect-square{aspect-ratio:1!important}stagewise-companion-anchor .size-0{width:calc(var(--spacing)*0)!important;height:calc(var(--spacing)*0)!important}stagewise-companion-anchor .size-1\\\\.5{width:calc(var(--spacing)*1.5)!important;height:calc(var(--spacing)*1.5)!important}stagewise-companion-anchor .size-2\\\\/3{width:66.6667%!important;height:66.6667%!important}stagewise-companion-anchor .size-3{width:calc(var(--spacing)*3)!important;height:calc(var(--spacing)*3)!important}stagewise-companion-anchor .size-4{width:calc(var(--spacing)*4)!important;height:calc(var(--spacing)*4)!important}stagewise-companion-anchor .size-5{width:calc(var(--spacing)*5)!important;height:calc(var(--spacing)*5)!important}stagewise-companion-anchor .size-6{width:calc(var(--spacing)*6)!important;height:calc(var(--spacing)*6)!important}stagewise-companion-anchor .size-8{width:calc(var(--spacing)*8)!important;height:calc(var(--spacing)*8)!important}stagewise-companion-anchor .size-9\\\\/12{width:75%!important;height:75%!important}stagewise-companion-anchor .size-12{width:calc(var(--spacing)*12)!important;height:calc(var(--spacing)*12)!important}stagewise-companion-anchor .size-\\\\[120\\\\%\\\\]{width:120%!important;height:120%!important}stagewise-companion-anchor .size-full{width:100%!important;height:100%!important}stagewise-companion-anchor .h-4{height:calc(var(--spacing)*4)!important}stagewise-companion-anchor .h-5{height:calc(var(--spacing)*5)!important}stagewise-companion-anchor .h-6{height:calc(var(--spacing)*6)!important}stagewise-companion-anchor .h-8{height:calc(var(--spacing)*8)!important}stagewise-companion-anchor .h-\\\\[4\\\\.5em\\\\]{height:4.5em!important}stagewise-companion-anchor .h-\\\\[50\\\\%\\\\]{height:50%!important}stagewise-companion-anchor .h-\\\\[120\\\\%\\\\]{height:120%!important}stagewise-companion-anchor .h-auto{height:auto!important}stagewise-companion-anchor .h-fit{height:-moz-fit-content!important;height:fit-content!important}stagewise-companion-anchor .h-full{height:100%!important}stagewise-companion-anchor .h-screen{height:100vh!important}stagewise-companion-anchor .max-h-\\\\[50vh\\\\]{max-height:50vh!important}stagewise-companion-anchor .max-h-full{max-height:100%!important}stagewise-companion-anchor .w-0{width:calc(var(--spacing)*0)!important}stagewise-companion-anchor .w-6{width:calc(var(--spacing)*6)!important}stagewise-companion-anchor .w-80{width:calc(var(--spacing)*80)!important}stagewise-companion-anchor .w-96{width:calc(var(--spacing)*96)!important}stagewise-companion-anchor .w-\\\\[50\\\\%\\\\]{width:50%!important}stagewise-companion-anchor .w-fit{width:-moz-fit-content!important;width:fit-content!important}stagewise-companion-anchor .w-full{width:100%!important}stagewise-companion-anchor .w-max{width:-moz-max-content!important;width:max-content!important}stagewise-companion-anchor .w-screen{width:100vw!important}stagewise-companion-anchor .max-w-8{max-width:calc(var(--spacing)*8)!important}stagewise-companion-anchor .max-w-48{max-width:calc(var(--spacing)*48)!important}stagewise-companion-anchor .max-w-90{max-width:calc(var(--spacing)*90)!important}stagewise-companion-anchor .max-w-\\\\[80\\\\%\\\\]{max-width:80%!important}stagewise-companion-anchor .max-w-\\\\[80vw\\\\]{max-width:80vw!important}stagewise-companion-anchor .max-w-sm{max-width:var(--container-sm)!important}stagewise-companion-anchor .min-w-4{min-width:calc(var(--spacing)*4)!important}stagewise-companion-anchor .min-w-24{min-width:calc(var(--spacing)*24)!important}stagewise-companion-anchor .flex-1{flex:1!important}stagewise-companion-anchor .flex-shrink-0,stagewise-companion-anchor .shrink-0{flex-shrink:0!important}stagewise-companion-anchor .origin-center{transform-origin:50%!important}stagewise-companion-anchor .transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)!important}stagewise-companion-anchor .animate-pulse{animation:var(--animate-pulse)!important}stagewise-companion-anchor .cursor-grab{cursor:grab!important}stagewise-companion-anchor .cursor-pointer{cursor:pointer!important}stagewise-companion-anchor .resize{resize:both!important}stagewise-companion-anchor .resize-none{resize:none!important}stagewise-companion-anchor .snap-start{scroll-snap-align:start!important}stagewise-companion-anchor .flex-col{flex-direction:column!important}stagewise-companion-anchor .flex-row{flex-direction:row!important}stagewise-companion-anchor .items-center{align-items:center!important}stagewise-companion-anchor .items-end{align-items:flex-end!important}stagewise-companion-anchor .items-start{align-items:flex-start!important}stagewise-companion-anchor .items-stretch{align-items:stretch!important}stagewise-companion-anchor .justify-between{justify-content:space-between!important}stagewise-companion-anchor .justify-center{justify-content:center!important}stagewise-companion-anchor .justify-end{justify-content:flex-end!important}stagewise-companion-anchor .justify-start{justify-content:flex-start!important}stagewise-companion-anchor .gap-1{gap:calc(var(--spacing)*1)!important}stagewise-companion-anchor .gap-2{gap:calc(var(--spacing)*2)!important}stagewise-companion-anchor .gap-3{gap:calc(var(--spacing)*3)!important}stagewise-companion-anchor .truncate{text-overflow:ellipsis!important;white-space:nowrap!important;overflow:hidden!important}stagewise-companion-anchor .overflow-hidden{overflow:hidden!important}stagewise-companion-anchor .overflow-visible{overflow:visible!important}stagewise-companion-anchor .overflow-x-auto{overflow-x:auto!important}stagewise-companion-anchor .overflow-x-hidden{overflow-x:hidden!important}stagewise-companion-anchor .overflow-y-auto{overflow-y:auto!important}stagewise-companion-anchor .overflow-y-visible{overflow-y:visible!important}stagewise-companion-anchor .rounded{border-radius:.25rem!important}stagewise-companion-anchor .rounded-2xl{border-radius:var(--radius-2xl)!important}stagewise-companion-anchor .rounded-3xl{border-radius:var(--radius-3xl)!important}stagewise-companion-anchor .rounded-full{border-radius:3.40282e38px!important}stagewise-companion-anchor .rounded-lg{border-radius:var(--radius-lg)!important}stagewise-companion-anchor .rounded-md{border-radius:var(--radius-md)!important}stagewise-companion-anchor .rounded-xl{border-radius:var(--radius-xl)!important}stagewise-companion-anchor .rounded-t-3xl{border-top-left-radius:var(--radius-3xl)!important;border-top-right-radius:var(--radius-3xl)!important}stagewise-companion-anchor .border{border-style:var(--tw-border-style)!important;border-width:1px!important}stagewise-companion-anchor .border-2{border-style:var(--tw-border-style)!important;border-width:2px!important}stagewise-companion-anchor .border-x{border-inline-style:var(--tw-border-style)!important;border-inline-width:1px!important}stagewise-companion-anchor .border-t{border-top-style:var(--tw-border-style)!important;border-top-width:1px!important}stagewise-companion-anchor .border-r{border-right-style:var(--tw-border-style)!important;border-right-width:1px!important}stagewise-companion-anchor .border-solid{--tw-border-style:solid!important;border-style:solid!important}stagewise-companion-anchor .border-blue-600\\\\/80{border-color:#155dfccc!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-blue-600\\\\/80{border-color:color-mix(in oklab,var(--color-blue-600)80%,transparent)!important}}stagewise-companion-anchor .border-border\\\\/10{border-color:#71717b1a!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-border\\\\/10{border-color:color-mix(in oklab,var(--color-border)10%,transparent)!important}}stagewise-companion-anchor .border-border\\\\/20{border-color:#71717b33!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-border\\\\/20{border-color:color-mix(in oklab,var(--color-border)20%,transparent)!important}}stagewise-companion-anchor .border-border\\\\/30{border-color:#71717b4d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-border\\\\/30{border-color:color-mix(in oklab,var(--color-border)30%,transparent)!important}}stagewise-companion-anchor .border-green-600\\\\/80{border-color:#00a544cc!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-green-600\\\\/80{border-color:color-mix(in oklab,var(--color-green-600)80%,transparent)!important}}stagewise-companion-anchor .border-r-border\\\\/30{border-right-color:#71717b4d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-r-border\\\\/30{border-right-color:color-mix(in oklab,var(--color-border)30%,transparent)!important}}stagewise-companion-anchor .border-l-transparent{border-left-color:#0000!important}stagewise-companion-anchor .bg-background\\\\/40{background-color:#fff6!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-background\\\\/40{background-color:color-mix(in oklab,var(--color-background)40%,transparent)!important}}stagewise-companion-anchor .bg-background\\\\/60{background-color:#fff9!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-background\\\\/60{background-color:color-mix(in oklab,var(--color-background)60%,transparent)!important}}stagewise-companion-anchor .bg-blue-600{background-color:var(--color-blue-600)!important}stagewise-companion-anchor .bg-blue-600\\\\/20{background-color:#155dfc33!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-blue-600\\\\/20{background-color:color-mix(in oklab,var(--color-blue-600)20%,transparent)!important}}stagewise-companion-anchor .bg-green-600\\\\/5{background-color:#00a5440d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-green-600\\\\/5{background-color:color-mix(in oklab,var(--color-green-600)5%,transparent)!important}}stagewise-companion-anchor .bg-rose-600{background-color:var(--color-rose-600)!important}stagewise-companion-anchor .bg-transparent{background-color:#0000!important}stagewise-companion-anchor .bg-white\\\\/60{background-color:#fff9!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-white\\\\/60{background-color:color-mix(in oklab,var(--color-white)60%,transparent)!important}}stagewise-companion-anchor .bg-zinc-50\\\\/80{background-color:#fafafacc!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-zinc-50\\\\/80{background-color:color-mix(in oklab,var(--color-zinc-50)80%,transparent)!important}}stagewise-companion-anchor .bg-zinc-500{background-color:var(--color-zinc-500)!important}stagewise-companion-anchor .bg-zinc-500\\\\/10{background-color:#71717b1a!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-zinc-500\\\\/10{background-color:color-mix(in oklab,var(--color-zinc-500)10%,transparent)!important}}stagewise-companion-anchor .bg-zinc-600{background-color:var(--color-zinc-600)!important}stagewise-companion-anchor .bg-zinc-950\\\\/5{background-color:#09090b0d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-zinc-950\\\\/5{background-color:color-mix(in oklab,var(--color-zinc-950)5%,transparent)!important}}stagewise-companion-anchor .bg-gradient-to-tr{--tw-gradient-position:to top right in oklab!important;background-image:linear-gradient(var(--tw-gradient-stops))!important}stagewise-companion-anchor .bg-\\\\[radial-gradient\\\\(circle\\\\,rgba\\\\(55\\\\,48\\\\,163\\\\,0\\\\)_55\\\\%\\\\,rgba\\\\(55\\\\,48\\\\,163\\\\,0\\\\.35\\\\)_73\\\\%\\\\)\\\\]{background-image:radial-gradient(circle,#3730a300 55%,#3730a359 73%)!important}stagewise-companion-anchor .bg-\\\\[radial-gradient\\\\(circle\\\\,rgba\\\\(219\\\\,39\\\\,119\\\\,0\\\\.2\\\\)_0\\\\%\\\\,rgba\\\\(219\\\\,39\\\\,119\\\\,0\\\\)_100\\\\%\\\\)\\\\]{background-image:radial-gradient(circle,#db277733 0%,#db277700 100%)!important}stagewise-companion-anchor .bg-\\\\[radial-gradient\\\\(circle\\\\,rgba\\\\(255\\\\,255\\\\,255\\\\,0\\\\)_60\\\\%\\\\,rgba\\\\(255\\\\,255\\\\,255\\\\,0\\\\.2\\\\)_70\\\\%\\\\)\\\\]{background-image:radial-gradient(circle,#fff0 60%,#fff3 70%)!important}stagewise-companion-anchor .from-indigo-700{--tw-gradient-from:var(--color-indigo-700)!important;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))!important}stagewise-companion-anchor .via-blue-500{--tw-gradient-via:var(--color-blue-500)!important;--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position)!important;--tw-gradient-stops:var(--tw-gradient-via-stops)!important}stagewise-companion-anchor .to-teal-500{--tw-gradient-to:var(--color-teal-500)!important;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))!important}stagewise-companion-anchor .fill-current{fill:currentColor!important}stagewise-companion-anchor .fill-white{fill:var(--color-white)!important}stagewise-companion-anchor .fill-zinc-500\\\\/50{fill:#71717b80!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .fill-zinc-500\\\\/50{fill:color-mix(in oklab,var(--color-zinc-500)50%,transparent)!important}}stagewise-companion-anchor .fill-zinc-950{fill:var(--color-zinc-950)!important}stagewise-companion-anchor .stroke-black\\\\/30{stroke:#0000004d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .stroke-black\\\\/30{stroke:color-mix(in oklab,var(--color-black)30%,transparent)!important}}stagewise-companion-anchor .stroke-none{stroke:none!important}stagewise-companion-anchor .stroke-1{stroke-width:1px!important}stagewise-companion-anchor .p-0{padding:calc(var(--spacing)*0)!important}stagewise-companion-anchor .p-0\\\\.5{padding:calc(var(--spacing)*.5)!important}stagewise-companion-anchor .p-1{padding:calc(var(--spacing)*1)!important}stagewise-companion-anchor .p-1\\\\.5{padding:calc(var(--spacing)*1.5)!important}stagewise-companion-anchor .p-2{padding:calc(var(--spacing)*2)!important}stagewise-companion-anchor .p-3{padding:calc(var(--spacing)*3)!important}stagewise-companion-anchor .px-0\\\\.5{padding-inline:calc(var(--spacing)*.5)!important}stagewise-companion-anchor .px-1{padding-inline:calc(var(--spacing)*1)!important}stagewise-companion-anchor .px-2{padding-inline:calc(var(--spacing)*2)!important}stagewise-companion-anchor .px-3{padding-inline:calc(var(--spacing)*3)!important}stagewise-companion-anchor .py-0{padding-block:calc(var(--spacing)*0)!important}stagewise-companion-anchor .py-1{padding-block:calc(var(--spacing)*1)!important}stagewise-companion-anchor .pt-2{padding-top:calc(var(--spacing)*2)!important}stagewise-companion-anchor .pr-6{padding-right:calc(var(--spacing)*6)!important}stagewise-companion-anchor .pb-0{padding-bottom:calc(var(--spacing)*0)!important}stagewise-companion-anchor .pb-2{padding-bottom:calc(var(--spacing)*2)!important}stagewise-companion-anchor .pl-2{padding-left:calc(var(--spacing)*2)!important}stagewise-companion-anchor .text-base{font-size:var(--text-base)!important;line-height:var(--tw-leading,var(--text-base--line-height))!important}stagewise-companion-anchor .text-sm{font-size:var(--text-sm)!important;line-height:var(--tw-leading,var(--text-sm--line-height))!important}stagewise-companion-anchor .text-xs{font-size:var(--text-xs)!important;line-height:var(--tw-leading,var(--text-xs--line-height))!important}stagewise-companion-anchor .font-bold{--tw-font-weight:var(--font-weight-bold)!important;font-weight:var(--font-weight-bold)!important}stagewise-companion-anchor .font-normal{--tw-font-weight:var(--font-weight-normal)!important;font-weight:var(--font-weight-normal)!important}stagewise-companion-anchor .font-semibold{--tw-font-weight:var(--font-weight-semibold)!important;font-weight:var(--font-weight-semibold)!important}stagewise-companion-anchor .text-border\\\\/60{color:#71717b99!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .text-border\\\\/60{color:color-mix(in oklab,var(--color-border)60%,transparent)!important}}stagewise-companion-anchor .text-foreground{color:var(--color-foreground)!important}stagewise-companion-anchor .text-muted-foreground{color:var(--color-muted-foreground)!important}stagewise-companion-anchor .text-muted-foreground\\\\/30{color:#3f3f464d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .text-muted-foreground\\\\/30{color:color-mix(in oklab,var(--color-muted-foreground)30%,transparent)!important}}stagewise-companion-anchor .text-transparent{color:#0000!important}stagewise-companion-anchor .text-white{color:var(--color-white)!important}stagewise-companion-anchor .text-zinc-50{color:var(--color-zinc-50)!important}stagewise-companion-anchor .text-zinc-950{color:var(--color-zinc-950)!important}stagewise-companion-anchor .text-zinc-950\\\\/50{color:#09090b80!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .text-zinc-950\\\\/50{color:color-mix(in oklab,var(--color-zinc-950)50%,transparent)!important}}stagewise-companion-anchor .opacity-20{opacity:.2!important}stagewise-companion-anchor .opacity-50{opacity:.5!important}stagewise-companion-anchor .opacity-80{opacity:.8!important}stagewise-companion-anchor .opacity-100{opacity:1!important}stagewise-companion-anchor .shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .shadow-inner{--tw-shadow:inset 0 2px 4px 0 var(--tw-shadow-color,#0000000d)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .shadow-black\\\\/50{--tw-shadow-color:#00000080!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .shadow-black\\\\/50{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-black)50%,transparent)var(--tw-shadow-alpha),transparent)!important}}stagewise-companion-anchor .shadow-blue-600\\\\/50{--tw-shadow-color:#155dfc80!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .shadow-blue-600\\\\/50{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-blue-600)50%,transparent)var(--tw-shadow-alpha),transparent)!important}}stagewise-companion-anchor .ring-blue-600{--tw-ring-color:var(--color-blue-600)!important}stagewise-companion-anchor .blur{--tw-blur:blur(8px)!important;filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .drop-shadow-md{--tw-drop-shadow-size:drop-shadow(0 3px 3px var(--tw-drop-shadow-color,#0000001f))!important;--tw-drop-shadow:drop-shadow(var(--drop-shadow-md))!important;filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .drop-shadow-xl{--tw-drop-shadow-size:drop-shadow(0 9px 7px var(--tw-drop-shadow-color,#0000001a))!important;--tw-drop-shadow:drop-shadow(var(--drop-shadow-xl))!important;filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .drop-shadow-xs{--tw-drop-shadow-size:drop-shadow(0 1px 1px var(--tw-drop-shadow-color,#0000000d))!important;--tw-drop-shadow:drop-shadow(var(--drop-shadow-xs))!important;filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .drop-shadow-black{--tw-drop-shadow-color:#000!important;--tw-drop-shadow:var(--tw-drop-shadow-size)!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .drop-shadow-black{--tw-drop-shadow-color:color-mix(in oklab,var(--color-black)var(--tw-drop-shadow-alpha),transparent)!important}}stagewise-companion-anchor .drop-shadow-indigo-950{--tw-drop-shadow-color:oklch(25.7% .09 281.288)!important;--tw-drop-shadow:var(--tw-drop-shadow-size)!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .drop-shadow-indigo-950{--tw-drop-shadow-color:color-mix(in oklab,var(--color-indigo-950)var(--tw-drop-shadow-alpha),transparent)!important}}stagewise-companion-anchor .filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .backdrop-blur-lg{--tw-backdrop-blur:blur(var(--blur-lg))!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}stagewise-companion-anchor .backdrop-blur-md{--tw-backdrop-blur:blur(var(--blur-md))!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}stagewise-companion-anchor .backdrop-blur-xs{--tw-backdrop-blur:blur(var(--blur-xs))!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}stagewise-companion-anchor .backdrop-saturate-150{--tw-backdrop-saturate:saturate(150%)!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}stagewise-companion-anchor .transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,visibility,content-visibility,overlay,pointer-events!important;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))!important;transition-duration:var(--tw-duration,var(--default-transition-duration))!important}stagewise-companion-anchor .transition-all{transition-property:all!important;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))!important;transition-duration:var(--tw-duration,var(--default-transition-duration))!important}stagewise-companion-anchor .transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to!important;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))!important;transition-duration:var(--tw-duration,var(--default-transition-duration))!important}stagewise-companion-anchor .duration-0{--tw-duration:0s!important;transition-duration:0s!important}stagewise-companion-anchor .duration-100{--tw-duration:.1s!important;transition-duration:.1s!important}stagewise-companion-anchor .duration-150{--tw-duration:.15s!important;transition-duration:.15s!important}stagewise-companion-anchor .duration-500{--tw-duration:.5s!important;transition-duration:.5s!important}stagewise-companion-anchor .outline-none{--tw-outline-style:none!important;outline-style:none!important}stagewise-companion-anchor .select-none{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/50::-moz-placeholder{color:#09090b80!important}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/50::placeholder{color:#09090b80!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/50::-moz-placeholder{color:color-mix(in oklab,var(--color-zinc-950)50%,transparent)!important}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/50::placeholder{color:color-mix(in oklab,var(--color-zinc-950)50%,transparent)!important}}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/70::-moz-placeholder{color:#09090bb3!important}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/70::placeholder{color:#09090bb3!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/70::-moz-placeholder{color:color-mix(in oklab,var(--color-zinc-950)70%,transparent)!important}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/70::placeholder{color:color-mix(in oklab,var(--color-zinc-950)70%,transparent)!important}}stagewise-companion-anchor .first\\\\:border-none:first-child{--tw-border-style:none!important;border-style:none!important}stagewise-companion-anchor .first\\\\:pl-0:first-child{padding-left:calc(var(--spacing)*0)!important}stagewise-companion-anchor .last\\\\:border-r-transparent:last-child{border-right-color:#0000!important}stagewise-companion-anchor .last\\\\:pr-0:last-child{padding-right:calc(var(--spacing)*0)!important}@media (hover:hover){stagewise-companion-anchor .hover\\\\:border-red-600\\\\/80:hover{border-color:#e40014cc!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .hover\\\\:border-red-600\\\\/80:hover{border-color:color-mix(in oklab,var(--color-red-600)80%,transparent)!important}}stagewise-companion-anchor .hover\\\\:bg-red-600\\\\/20:hover{background-color:#e4001433!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .hover\\\\:bg-red-600\\\\/20:hover{background-color:color-mix(in oklab,var(--color-red-600)20%,transparent)!important}}stagewise-companion-anchor .hover\\\\:bg-zinc-950\\\\/5:hover{background-color:#09090b0d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .hover\\\\:bg-zinc-950\\\\/5:hover{background-color:color-mix(in oklab,var(--color-zinc-950)5%,transparent)!important}}stagewise-companion-anchor .hover\\\\:bg-zinc-950\\\\/10:hover{background-color:#09090b1a!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .hover\\\\:bg-zinc-950\\\\/10:hover{background-color:color-mix(in oklab,var(--color-zinc-950)10%,transparent)!important}}stagewise-companion-anchor .hover\\\\:text-muted-foreground:hover{color:var(--color-muted-foreground)!important}stagewise-companion-anchor .hover\\\\:text-white:hover{color:var(--color-white)!important}stagewise-companion-anchor .hover\\\\:opacity-100:hover{opacity:1!important}stagewise-companion-anchor .hover\\\\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .hover\\\\:backdrop-blur-sm:hover{--tw-backdrop-blur:blur(var(--blur-sm))!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}}stagewise-companion-anchor .focus\\\\:cursor-grabbing:focus{cursor:grabbing!important}stagewise-companion-anchor .focus\\\\:text-zinc-900:focus{color:var(--color-zinc-900)!important}stagewise-companion-anchor .focus\\\\:outline-none:focus,stagewise-companion-anchor .data-focus\\\\:outline-none[data-focus]{--tw-outline-style:none!important;outline-style:none!important}}stagewise-companion-anchor stagewise-companion-anchor{all:initial;interpolate-size:allow-keywords;transform:translate(0);color:var(--color-zinc-950)!important;letter-spacing:normal!important;text-rendering:auto!important;font-family:Inter,Noto Color Emoji,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,SF Compact,SF Pro,Helvetica Neue,sans-serif!important;font-weight:400!important;line-height:normal!important}@supports (font-variation-settings:normal){stagewise-companion-anchor stagewise-companion-anchor{font-optical-sizing:auto!important;font-family:InterVariable,Noto Color Emoji,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,SF Compact,SF Pro,Helvetica Neue,sans-serif!important}}stagewise-companion-anchor #headlessui-portal-root{z-index:50!important;width:100vw!important;height:100vh!important;position:fixed!important}stagewise-companion-anchor #headlessui-portal-root>*{pointer-events:auto!important}@property --tw-rotate-x{syntax:\"*\";inherits:false}@property --tw-rotate-y{syntax:\"*\";inherits:false}@property --tw-rotate-z{syntax:\"*\";inherits:false}@property --tw-skew-x{syntax:\"*\";inherits:false}@property --tw-skew-y{syntax:\"*\";inherits:false}@property --tw-border-style{syntax:\"*\";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:\"*\";inherits:false}@property --tw-gradient-from{syntax:\"<color>\";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:\"<color>\";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:\"<color>\";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:\"*\";inherits:false}@property --tw-gradient-via-stops{syntax:\"*\";inherits:false}@property --tw-gradient-from-position{syntax:\"<length-percentage>\";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:\"<length-percentage>\";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:\"<length-percentage>\";inherits:false;initial-value:100%}@property --tw-font-weight{syntax:\"*\";inherits:false}@property --tw-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:\"*\";inherits:false}@property --tw-shadow-alpha{syntax:\"<percentage>\";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:\"*\";inherits:false}@property --tw-inset-shadow-alpha{syntax:\"<percentage>\";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:\"*\";inherits:false}@property --tw-ring-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:\"*\";inherits:false}@property --tw-inset-ring-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:\"*\";inherits:false}@property --tw-ring-offset-width{syntax:\"<length>\";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:\"*\";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:\"*\";inherits:false}@property --tw-brightness{syntax:\"*\";inherits:false}@property --tw-contrast{syntax:\"*\";inherits:false}@property --tw-grayscale{syntax:\"*\";inherits:false}@property --tw-hue-rotate{syntax:\"*\";inherits:false}@property --tw-invert{syntax:\"*\";inherits:false}@property --tw-opacity{syntax:\"*\";inherits:false}@property --tw-saturate{syntax:\"*\";inherits:false}@property --tw-sepia{syntax:\"*\";inherits:false}@property --tw-drop-shadow{syntax:\"*\";inherits:false}@property --tw-drop-shadow-color{syntax:\"*\";inherits:false}@property --tw-drop-shadow-alpha{syntax:\"<percentage>\";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:\"*\";inherits:false}@property --tw-backdrop-blur{syntax:\"*\";inherits:false}@property --tw-backdrop-brightness{syntax:\"*\";inherits:false}@property --tw-backdrop-contrast{syntax:\"*\";inherits:false}@property --tw-backdrop-grayscale{syntax:\"*\";inherits:false}@property --tw-backdrop-hue-rotate{syntax:\"*\";inherits:false}@property --tw-backdrop-invert{syntax:\"*\";inherits:false}@property --tw-backdrop-opacity{syntax:\"*\";inherits:false}@property --tw-backdrop-saturate{syntax:\"*\";inherits:false}@property --tw-backdrop-sepia{syntax:\"*\";inherits:false}@property --tw-duration{syntax:\"*\";inherits:false}@keyframes pulse{50%{opacity:.5}}\\n';\nvar f$8 = 0;\nfunction u$9(e2, t2, n2, o3, i2, u2) {\n  t2 || (t2 = {});\n  var a3, c2, p2 = t2;\n  if (\"ref\" in p2) for (c2 in p2 = {}, t2) \"ref\" == c2 ? a3 = t2[c2] : p2[c2] = t2[c2];\n  var l2 = { type: e2, props: p2, key: n2, ref: a3, __k: null, __: null, __b: 0, __e: null, __c: null, constructor: void 0, __v: --f$8, __i: -1, __u: 0, __source: i2, __self: u2 };\n  if (\"function\" == typeof e2 && (a3 = e2.defaultProps)) for (c2 in a3) void 0 === p2[c2] && (p2[c2] = a3[c2]);\n  return l$4.vnode && l$4.vnode(l2), l2;\n}\nvar t$5, r$4, u$8, i$7, o$8 = 0, f$7 = [], c$6 = l$4, e$4 = c$6.__b, a$a = c$6.__r, v$2 = c$6.diffed, l$3 = c$6.__c, m$5 = c$6.unmount, s$8 = c$6.__;\nfunction p$3(n2, t2) {\n  c$6.__h && c$6.__h(r$4, n2, o$8 || t2), o$8 = 0;\n  var u2 = r$4.__H || (r$4.__H = { __: [], __h: [] });\n  return n2 >= u2.__.length && u2.__.push({}), u2.__[n2];\n}\nfunction d$4(n2) {\n  return o$8 = 1, h$5(D$2, n2);\n}\nfunction h$5(n2, u2, i2) {\n  var o3 = p$3(t$5++, 2);\n  if (o3.t = n2, !o3.__c && (o3.__ = [i2 ? i2(u2) : D$2(void 0, u2), function(n3) {\n    var t2 = o3.__N ? o3.__N[0] : o3.__[0], r2 = o3.t(t2, n3);\n    t2 !== r2 && (o3.__N = [r2, o3.__[1]], o3.__c.setState({}));\n  }], o3.__c = r$4, !r$4.__f)) {\n    var f2 = function(n3, t2, r2) {\n      if (!o3.__c.__H) return true;\n      var u3 = o3.__c.__H.__.filter(function(n4) {\n        return !!n4.__c;\n      });\n      if (u3.every(function(n4) {\n        return !n4.__N;\n      })) return !c2 || c2.call(this, n3, t2, r2);\n      var i3 = o3.__c.props !== n3;\n      return u3.forEach(function(n4) {\n        if (n4.__N) {\n          var t3 = n4.__[0];\n          n4.__ = n4.__N, n4.__N = void 0, t3 !== n4.__[0] && (i3 = true);\n        }\n      }), c2 && c2.call(this, n3, t2, r2) || i3;\n    };\n    r$4.__f = true;\n    var c2 = r$4.shouldComponentUpdate, e2 = r$4.componentWillUpdate;\n    r$4.componentWillUpdate = function(n3, t2, r2) {\n      if (this.__e) {\n        var u3 = c2;\n        c2 = void 0, f2(n3, t2, r2), c2 = u3;\n      }\n      e2 && e2.call(this, n3, t2, r2);\n    }, r$4.shouldComponentUpdate = f2;\n  }\n  return o3.__N || o3.__;\n}\nfunction y$6(n2, u2) {\n  var i2 = p$3(t$5++, 3);\n  !c$6.__s && C$4(i2.__H, u2) && (i2.__ = n2, i2.u = u2, r$4.__H.__h.push(i2));\n}\nfunction _$3(n2, u2) {\n  var i2 = p$3(t$5++, 4);\n  !c$6.__s && C$4(i2.__H, u2) && (i2.__ = n2, i2.u = u2, r$4.__h.push(i2));\n}\nfunction A$3(n2) {\n  return o$8 = 5, T$5(function() {\n    return { current: n2 };\n  }, []);\n}\nfunction F$5(n2, t2, r2) {\n  o$8 = 6, _$3(function() {\n    if (\"function\" == typeof n2) {\n      var r3 = n2(t2());\n      return function() {\n        n2(null), r3 && \"function\" == typeof r3 && r3();\n      };\n    }\n    if (n2) return n2.current = t2(), function() {\n      return n2.current = null;\n    };\n  }, null == r2 ? r2 : r2.concat(n2));\n}\nfunction T$5(n2, r2) {\n  var u2 = p$3(t$5++, 7);\n  return C$4(u2.__H, r2) && (u2.__ = n2(), u2.__H = r2, u2.__h = n2), u2.__;\n}\nfunction q$3(n2, t2) {\n  return o$8 = 8, T$5(function() {\n    return n2;\n  }, t2);\n}\nfunction x$4(n2) {\n  var u2 = r$4.context[n2.__c], i2 = p$3(t$5++, 9);\n  return i2.c = n2, u2 ? (null == i2.__ && (i2.__ = true, u2.sub(r$4)), u2.props.value) : n2.__;\n}\nfunction P$5(n2, t2) {\n  c$6.useDebugValue && c$6.useDebugValue(t2 ? t2(n2) : n2);\n}\nfunction b$4(n2) {\n  var u2 = p$3(t$5++, 10), i2 = d$4();\n  return u2.__ = n2, r$4.componentDidCatch || (r$4.componentDidCatch = function(n3, t2) {\n    u2.__ && u2.__(n3, t2), i2[1](n3);\n  }), [i2[0], function() {\n    i2[1](void 0);\n  }];\n}\nfunction g$3() {\n  var n2 = p$3(t$5++, 11);\n  if (!n2.__) {\n    for (var u2 = r$4.__v; null !== u2 && !u2.__m && null !== u2.__; ) u2 = u2.__;\n    var i2 = u2.__m || (u2.__m = [0, 0]);\n    n2.__ = \"P\" + i2[0] + \"-\" + i2[1]++;\n  }\n  return n2.__;\n}\nfunction j$4() {\n  for (var n2; n2 = f$7.shift(); ) if (n2.__P && n2.__H) try {\n    n2.__H.__h.forEach(z$2), n2.__H.__h.forEach(B$2), n2.__H.__h = [];\n  } catch (t2) {\n    n2.__H.__h = [], c$6.__e(t2, n2.__v);\n  }\n}\nc$6.__b = function(n2) {\n  r$4 = null, e$4 && e$4(n2);\n}, c$6.__ = function(n2, t2) {\n  n2 && t2.__k && t2.__k.__m && (n2.__m = t2.__k.__m), s$8 && s$8(n2, t2);\n}, c$6.__r = function(n2) {\n  a$a && a$a(n2), t$5 = 0;\n  var i2 = (r$4 = n2.__c).__H;\n  i2 && (u$8 === r$4 ? (i2.__h = [], r$4.__h = [], i2.__.forEach(function(n3) {\n    n3.__N && (n3.__ = n3.__N), n3.u = n3.__N = void 0;\n  })) : (i2.__h.forEach(z$2), i2.__h.forEach(B$2), i2.__h = [], t$5 = 0)), u$8 = r$4;\n}, c$6.diffed = function(n2) {\n  v$2 && v$2(n2);\n  var t2 = n2.__c;\n  t2 && t2.__H && (t2.__H.__h.length && (1 !== f$7.push(t2) && i$7 === c$6.requestAnimationFrame || ((i$7 = c$6.requestAnimationFrame) || w$4)(j$4)), t2.__H.__.forEach(function(n3) {\n    n3.u && (n3.__H = n3.u), n3.u = void 0;\n  })), u$8 = r$4 = null;\n}, c$6.__c = function(n2, t2) {\n  t2.some(function(n3) {\n    try {\n      n3.__h.forEach(z$2), n3.__h = n3.__h.filter(function(n4) {\n        return !n4.__ || B$2(n4);\n      });\n    } catch (r2) {\n      t2.some(function(n4) {\n        n4.__h && (n4.__h = []);\n      }), t2 = [], c$6.__e(r2, n3.__v);\n    }\n  }), l$3 && l$3(n2, t2);\n}, c$6.unmount = function(n2) {\n  m$5 && m$5(n2);\n  var t2, r2 = n2.__c;\n  r2 && r2.__H && (r2.__H.__.forEach(function(n3) {\n    try {\n      z$2(n3);\n    } catch (n4) {\n      t2 = n4;\n    }\n  }), r2.__H = void 0, t2 && c$6.__e(t2, r2.__v));\n};\nvar k$2 = \"function\" == typeof requestAnimationFrame;\nfunction w$4(n2) {\n  var t2, r2 = function() {\n    clearTimeout(u2), k$2 && cancelAnimationFrame(t2), setTimeout(n2);\n  }, u2 = setTimeout(r2, 100);\n  k$2 && (t2 = requestAnimationFrame(r2));\n}\nfunction z$2(n2) {\n  var t2 = r$4, u2 = n2.__c;\n  \"function\" == typeof u2 && (n2.__c = void 0, u2()), r$4 = t2;\n}\nfunction B$2(n2) {\n  var t2 = r$4;\n  n2.__c = n2.__(), r$4 = t2;\n}\nfunction C$4(n2, t2) {\n  return !n2 || n2.length !== t2.length || t2.some(function(t3, r2) {\n    return t3 !== n2[r2];\n  });\n}\nfunction D$2(n2, t2) {\n  return \"function\" == typeof t2 ? t2(n2) : t2;\n}\nconst PluginContext = K$3([]);\nfunction PluginProvider({\n  children,\n  plugins\n}) {\n  return /* @__PURE__ */ u$9(PluginContext.Provider, { value: plugins, children });\n}\nfunction usePlugins() {\n  const plugin = x$4(PluginContext);\n  if (!plugin) return [];\n  return plugin;\n}\nfunction g$2(n2, t2) {\n  for (var e2 in t2) n2[e2] = t2[e2];\n  return n2;\n}\nfunction E$2(n2, t2) {\n  for (var e2 in n2) if (\"__source\" !== e2 && !(e2 in t2)) return true;\n  for (var r2 in t2) if (\"__source\" !== r2 && n2[r2] !== t2[r2]) return true;\n  return false;\n}\nfunction C$3(n2, t2) {\n  var e2 = t2(), r2 = d$4({ t: { __: e2, u: t2 } }), u2 = r2[0].t, o3 = r2[1];\n  return _$3(function() {\n    u2.__ = e2, u2.u = t2, x$3(u2) && o3({ t: u2 });\n  }, [n2, e2, t2]), y$6(function() {\n    return x$3(u2) && o3({ t: u2 }), n2(function() {\n      x$3(u2) && o3({ t: u2 });\n    });\n  }, [n2]), e2;\n}\nfunction x$3(n2) {\n  var t2, e2, r2 = n2.u, u2 = n2.__;\n  try {\n    var o3 = r2();\n    return !((t2 = u2) === (e2 = o3) && (0 !== t2 || 1 / t2 == 1 / e2) || t2 != t2 && e2 != e2);\n  } catch (n3) {\n    return true;\n  }\n}\nfunction R$3(n2) {\n  n2();\n}\nfunction w$3(n2) {\n  return n2;\n}\nfunction k$1() {\n  return [false, R$3];\n}\nvar I$3 = _$3;\nfunction N$1(n2, t2) {\n  this.props = n2, this.context = t2;\n}\nfunction M$3(n2, e2) {\n  function r2(n3) {\n    var t2 = this.props.ref, r3 = t2 == n3.ref;\n    return !r3 && t2 && (t2.call ? t2(null) : t2.current = null), e2 ? !e2(this.props, n3) || !r3 : E$2(this.props, n3);\n  }\n  function u2(e3) {\n    return this.shouldComponentUpdate = r2, _$4(n2, e3);\n  }\n  return u2.displayName = \"Memo(\" + (n2.displayName || n2.name) + \")\", u2.prototype.isReactComponent = true, u2.__f = true, u2;\n}\n(N$1.prototype = new x$5()).isPureReactComponent = true, N$1.prototype.shouldComponentUpdate = function(n2, t2) {\n  return E$2(this.props, n2) || E$2(this.state, t2);\n};\nvar T$4 = l$4.__b;\nl$4.__b = function(n2) {\n  n2.type && n2.type.__f && n2.ref && (n2.props.ref = n2.ref, n2.ref = null), T$4 && T$4(n2);\n};\nvar A$2 = \"undefined\" != typeof Symbol && Symbol.for && Symbol.for(\"react.forward_ref\") || 3911;\nfunction D$1(n2) {\n  function t2(t3) {\n    var e2 = g$2({}, t3);\n    return delete e2.ref, n2(e2, t3.ref || null);\n  }\n  return t2.$$typeof = A$2, t2.render = t2, t2.prototype.isReactComponent = t2.__f = true, t2.displayName = \"ForwardRef(\" + (n2.displayName || n2.name) + \")\", t2;\n}\nvar L$3 = function(n2, t2) {\n  return null == n2 ? null : H$6(H$6(n2).map(t2));\n}, O$2 = { map: L$3, forEach: L$3, count: function(n2) {\n  return n2 ? H$6(n2).length : 0;\n}, only: function(n2) {\n  var t2 = H$6(n2);\n  if (1 !== t2.length) throw \"Children.only\";\n  return t2[0];\n}, toArray: H$6 }, F$4 = l$4.__e;\nl$4.__e = function(n2, t2, e2, r2) {\n  if (n2.then) {\n    for (var u2, o3 = t2; o3 = o3.__; ) if ((u2 = o3.__c) && u2.__c) return null == t2.__e && (t2.__e = e2.__e, t2.__k = e2.__k), u2.__c(n2, t2);\n  }\n  F$4(n2, t2, e2, r2);\n};\nvar U$3 = l$4.unmount;\nfunction V$1(n2, t2, e2) {\n  return n2 && (n2.__c && n2.__c.__H && (n2.__c.__H.__.forEach(function(n3) {\n    \"function\" == typeof n3.__c && n3.__c();\n  }), n2.__c.__H = null), null != (n2 = g$2({}, n2)).__c && (n2.__c.__P === e2 && (n2.__c.__P = t2), n2.__c.__e = true, n2.__c = null), n2.__k = n2.__k && n2.__k.map(function(n3) {\n    return V$1(n3, t2, e2);\n  })), n2;\n}\nfunction W(n2, t2, e2) {\n  return n2 && e2 && (n2.__v = null, n2.__k = n2.__k && n2.__k.map(function(n3) {\n    return W(n3, t2, e2);\n  }), n2.__c && n2.__c.__P === t2 && (n2.__e && e2.appendChild(n2.__e), n2.__c.__e = true, n2.__c.__P = e2)), n2;\n}\nfunction P$4() {\n  this.__u = 0, this.o = null, this.__b = null;\n}\nfunction j$3(n2) {\n  var t2 = n2.__.__c;\n  return t2 && t2.__a && t2.__a(n2);\n}\nfunction z$1(n2) {\n  var e2, r2, u2;\n  function o3(o4) {\n    if (e2 || (e2 = n2()).then(function(n3) {\n      r2 = n3.default || n3;\n    }, function(n3) {\n      u2 = n3;\n    }), u2) throw u2;\n    if (!r2) throw e2;\n    return _$4(r2, o4);\n  }\n  return o3.displayName = \"Lazy\", o3.__f = true, o3;\n}\nfunction B$1() {\n  this.i = null, this.l = null;\n}\nl$4.unmount = function(n2) {\n  var t2 = n2.__c;\n  t2 && t2.__R && t2.__R(), t2 && 32 & n2.__u && (n2.type = null), U$3 && U$3(n2);\n}, (P$4.prototype = new x$5()).__c = function(n2, t2) {\n  var e2 = t2.__c, r2 = this;\n  null == r2.o && (r2.o = []), r2.o.push(e2);\n  var u2 = j$3(r2.__v), o3 = false, i2 = function() {\n    o3 || (o3 = true, e2.__R = null, u2 ? u2(l2) : l2());\n  };\n  e2.__R = i2;\n  var l2 = function() {\n    if (!--r2.__u) {\n      if (r2.state.__a) {\n        var n3 = r2.state.__a;\n        r2.__v.__k[0] = W(n3, n3.__c.__P, n3.__c.__O);\n      }\n      var t3;\n      for (r2.setState({ __a: r2.__b = null }); t3 = r2.o.pop(); ) t3.forceUpdate();\n    }\n  };\n  r2.__u++ || 32 & t2.__u || r2.setState({ __a: r2.__b = r2.__v.__k[0] }), n2.then(i2, i2);\n}, P$4.prototype.componentWillUnmount = function() {\n  this.o = [];\n}, P$4.prototype.render = function(n2, e2) {\n  if (this.__b) {\n    if (this.__v.__k) {\n      var r2 = document.createElement(\"div\"), o3 = this.__v.__k[0].__c;\n      this.__v.__k[0] = V$1(this.__b, r2, o3.__O = o3.__P);\n    }\n    this.__b = null;\n  }\n  var i2 = e2.__a && _$4(k$3, null, n2.fallback);\n  return i2 && (i2.__u &= -33), [_$4(k$3, null, e2.__a ? null : n2.children), i2];\n};\nvar H$5 = function(n2, t2, e2) {\n  if (++e2[1] === e2[0] && n2.l.delete(t2), n2.props.revealOrder && (\"t\" !== n2.props.revealOrder[0] || !n2.l.size)) for (e2 = n2.i; e2; ) {\n    for (; e2.length > 3; ) e2.pop()();\n    if (e2[1] < e2[0]) break;\n    n2.i = e2 = e2[2];\n  }\n};\nfunction Z(n2) {\n  return this.getChildContext = function() {\n    return n2.context;\n  }, n2.children;\n}\nfunction Y(n2) {\n  var e2 = this, r2 = n2.h;\n  if (e2.componentWillUnmount = function() {\n    E$3(null, e2.v), e2.v = null, e2.h = null;\n  }, e2.h && e2.h !== r2 && e2.componentWillUnmount(), !e2.v) {\n    for (var u2 = e2.__v; null !== u2 && !u2.__m && null !== u2.__; ) u2 = u2.__;\n    e2.h = r2, e2.v = { nodeType: 1, parentNode: r2, childNodes: [], __k: { __m: u2.__m }, contains: function() {\n      return true;\n    }, appendChild: function(n3) {\n      this.childNodes.push(n3), e2.h.appendChild(n3);\n    }, insertBefore: function(n3, t2) {\n      this.childNodes.push(n3), e2.h.insertBefore(n3, t2);\n    }, removeChild: function(n3) {\n      this.childNodes.splice(this.childNodes.indexOf(n3) >>> 1, 1), e2.h.removeChild(n3);\n    } };\n  }\n  E$3(_$4(Z, { context: e2.context }, n2.__v), e2.v);\n}\nfunction $$1(n2, e2) {\n  var r2 = _$4(Y, { __v: n2, h: e2 });\n  return r2.containerInfo = e2, r2;\n}\n(B$1.prototype = new x$5()).__a = function(n2) {\n  var t2 = this, e2 = j$3(t2.__v), r2 = t2.l.get(n2);\n  return r2[0]++, function(u2) {\n    var o3 = function() {\n      t2.props.revealOrder ? (r2.push(u2), H$5(t2, n2, r2)) : u2();\n    };\n    e2 ? e2(o3) : o3();\n  };\n}, B$1.prototype.render = function(n2) {\n  this.i = null, this.l = /* @__PURE__ */ new Map();\n  var t2 = H$6(n2.children);\n  n2.revealOrder && \"b\" === n2.revealOrder[0] && t2.reverse();\n  for (var e2 = t2.length; e2--; ) this.l.set(t2[e2], this.i = [1, 0, this.i]);\n  return n2.children;\n}, B$1.prototype.componentDidUpdate = B$1.prototype.componentDidMount = function() {\n  var n2 = this;\n  this.l.forEach(function(t2, e2) {\n    H$5(n2, e2, t2);\n  });\n};\nvar q$2 = \"undefined\" != typeof Symbol && Symbol.for && Symbol.for(\"react.element\") || 60103, G$2 = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/, J$3 = /^on(Ani|Tra|Tou|BeforeInp|Compo)/, K$2 = /[A-Z0-9]/g, Q = \"undefined\" != typeof document, X$1 = function(n2) {\n  return (\"undefined\" != typeof Symbol && \"symbol\" == typeof Symbol() ? /fil|che|rad/ : /fil|che|ra/).test(n2);\n};\nfunction nn(n2, t2, e2) {\n  return null == t2.__k && (t2.textContent = \"\"), E$3(n2, t2), \"function\" == typeof e2 && e2(), n2 ? n2.__c : null;\n}\nfunction tn(n2, t2, e2) {\n  return G$3(n2, t2), \"function\" == typeof e2 && e2(), n2 ? n2.__c : null;\n}\nx$5.prototype.isReactComponent = {}, [\"componentWillMount\", \"componentWillReceiveProps\", \"componentWillUpdate\"].forEach(function(t2) {\n  Object.defineProperty(x$5.prototype, t2, { configurable: true, get: function() {\n    return this[\"UNSAFE_\" + t2];\n  }, set: function(n2) {\n    Object.defineProperty(this, t2, { configurable: true, writable: true, value: n2 });\n  } });\n});\nvar en = l$4.event;\nfunction rn() {\n}\nfunction un() {\n  return this.cancelBubble;\n}\nfunction on() {\n  return this.defaultPrevented;\n}\nl$4.event = function(n2) {\n  return en && (n2 = en(n2)), n2.persist = rn, n2.isPropagationStopped = un, n2.isDefaultPrevented = on, n2.nativeEvent = n2;\n};\nvar ln, cn$1 = { enumerable: false, configurable: true, get: function() {\n  return this.class;\n} }, fn = l$4.vnode;\nl$4.vnode = function(n2) {\n  \"string\" == typeof n2.type && function(n3) {\n    var t2 = n3.props, e2 = n3.type, u2 = {}, o3 = -1 === e2.indexOf(\"-\");\n    for (var i2 in t2) {\n      var l2 = t2[i2];\n      if (!(\"value\" === i2 && \"defaultValue\" in t2 && null == l2 || Q && \"children\" === i2 && \"noscript\" === e2 || \"class\" === i2 || \"className\" === i2)) {\n        var c2 = i2.toLowerCase();\n        \"defaultValue\" === i2 && \"value\" in t2 && null == t2.value ? i2 = \"value\" : \"download\" === i2 && true === l2 ? l2 = \"\" : \"translate\" === c2 && \"no\" === l2 ? l2 = false : \"o\" === c2[0] && \"n\" === c2[1] ? \"ondoubleclick\" === c2 ? i2 = \"ondblclick\" : \"onchange\" !== c2 || \"input\" !== e2 && \"textarea\" !== e2 || X$1(t2.type) ? \"onfocus\" === c2 ? i2 = \"onfocusin\" : \"onblur\" === c2 ? i2 = \"onfocusout\" : J$3.test(i2) && (i2 = c2) : c2 = i2 = \"oninput\" : o3 && G$2.test(i2) ? i2 = i2.replace(K$2, \"-$&\").toLowerCase() : null === l2 && (l2 = void 0), \"oninput\" === c2 && u2[i2 = c2] && (i2 = \"oninputCapture\"), u2[i2] = l2;\n      }\n    }\n    \"select\" == e2 && u2.multiple && Array.isArray(u2.value) && (u2.value = H$6(t2.children).forEach(function(n4) {\n      n4.props.selected = -1 != u2.value.indexOf(n4.props.value);\n    })), \"select\" == e2 && null != u2.defaultValue && (u2.value = H$6(t2.children).forEach(function(n4) {\n      n4.props.selected = u2.multiple ? -1 != u2.defaultValue.indexOf(n4.props.value) : u2.defaultValue == n4.props.value;\n    })), t2.class && !t2.className ? (u2.class = t2.class, Object.defineProperty(u2, \"className\", cn$1)) : (t2.className && !t2.class || t2.class && t2.className) && (u2.class = u2.className = t2.className), n3.props = u2;\n  }(n2), n2.$$typeof = q$2, fn && fn(n2);\n};\nvar an = l$4.__r;\nl$4.__r = function(n2) {\n  an && an(n2), ln = n2.__c;\n};\nvar sn = l$4.diffed;\nl$4.diffed = function(n2) {\n  sn && sn(n2);\n  var t2 = n2.props, e2 = n2.__e;\n  null != e2 && \"textarea\" === n2.type && \"value\" in t2 && t2.value !== e2.value && (e2.value = null == t2.value ? \"\" : t2.value), ln = null;\n};\nvar hn = { ReactCurrentDispatcher: { current: { readContext: function(n2) {\n  return ln.__n[n2.__c].props.value;\n}, useCallback: q$3, useContext: x$4, useDebugValue: P$5, useDeferredValue: w$3, useEffect: y$6, useId: g$3, useImperativeHandle: F$5, useInsertionEffect: I$3, useLayoutEffect: _$3, useMemo: T$5, useReducer: h$5, useRef: A$3, useState: d$4, useSyncExternalStore: C$3, useTransition: k$1 } } }, vn = \"18.3.1\";\nfunction dn(n2) {\n  return _$4.bind(null, n2);\n}\nfunction mn(n2) {\n  return !!n2 && n2.$$typeof === q$2;\n}\nfunction pn(n2) {\n  return mn(n2) && n2.type === k$3;\n}\nfunction yn(n2) {\n  return !!n2 && !!n2.displayName && (\"string\" == typeof n2.displayName || n2.displayName instanceof String) && n2.displayName.startsWith(\"Memo(\");\n}\nfunction _n(n2) {\n  return mn(n2) ? J$4.apply(null, arguments) : n2;\n}\nfunction bn(n2) {\n  return !!n2.__k && (E$3(null, n2), true);\n}\nfunction Sn(n2) {\n  return n2 && (n2.base || 1 === n2.nodeType && n2) || null;\n}\nvar gn = function(n2, t2) {\n  return n2(t2);\n}, En = function(n2, t2) {\n  return n2(t2);\n}, Cn = k$3, xn = mn, Rn = { useState: d$4, useId: g$3, useReducer: h$5, useEffect: y$6, useLayoutEffect: _$3, useInsertionEffect: I$3, useTransition: k$1, useDeferredValue: w$3, useSyncExternalStore: C$3, startTransition: R$3, useRef: A$3, useImperativeHandle: F$5, useMemo: T$5, useCallback: q$3, useContext: x$4, useDebugValue: P$5, version: \"18.3.1\", Children: O$2, render: nn, hydrate: tn, unmountComponentAtNode: bn, createPortal: $$1, createElement: _$4, createContext: K$3, createFactory: dn, cloneElement: _n, createRef: b$5, Fragment: k$3, isValidElement: mn, isElement: xn, isFragment: pn, isMemo: yn, findDOMNode: Sn, Component: x$5, PureComponent: N$1, memo: M$3, forwardRef: D$1, flushSync: En, unstable_batchedUpdates: gn, StrictMode: Cn, Suspense: P$4, SuspenseList: B$1, lazy: z$1, __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: hn };\nconst t$4 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  Children: O$2,\n  Component: x$5,\n  Fragment: k$3,\n  PureComponent: N$1,\n  StrictMode: Cn,\n  Suspense: P$4,\n  SuspenseList: B$1,\n  __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: hn,\n  cloneElement: _n,\n  createContext: K$3,\n  createElement: _$4,\n  createFactory: dn,\n  createPortal: $$1,\n  createRef: b$5,\n  default: Rn,\n  findDOMNode: Sn,\n  flushSync: En,\n  forwardRef: D$1,\n  hydrate: tn,\n  isElement: xn,\n  isFragment: pn,\n  isMemo: yn,\n  isValidElement: mn,\n  lazy: z$1,\n  memo: M$3,\n  render: nn,\n  startTransition: R$3,\n  unmountComponentAtNode: bn,\n  unstable_batchedUpdates: gn,\n  useCallback: q$3,\n  useContext: x$4,\n  useDebugValue: P$5,\n  useDeferredValue: w$3,\n  useEffect: y$6,\n  useErrorBoundary: b$4,\n  useId: g$3,\n  useImperativeHandle: F$5,\n  useInsertionEffect: I$3,\n  useLayoutEffect: _$3,\n  useMemo: T$5,\n  useReducer: h$5,\n  useRef: A$3,\n  useState: d$4,\n  useSyncExternalStore: C$3,\n  useTransition: k$1,\n  version: vn\n}, Symbol.toStringTag, { value: \"Module\" }));\nvar __require = /* @__PURE__ */ ((x2) => typeof require !== \"undefined\" ? require : typeof Proxy !== \"undefined\" ? new Proxy(x2, {\n  get: (a3, b2) => (typeof require !== \"undefined\" ? require : a3)[b2]\n}) : x2)(function(x2) {\n  if (typeof require !== \"undefined\") return require.apply(this, arguments);\n  throw Error('Dynamic require of \"' + x2 + '\" is not supported');\n});\nvar DEFAULT_OPTIONS = {\n  maxReconnectAttempts: 5,\n  reconnectDelay: 1e3,\n  requestTimeout: 3e4\n  // Extended timeout for longer operations\n};\nvar WebSocketRpcBridge = class {\n  constructor(options = {}) {\n    this.ws = null;\n    this.pendingRequests = /* @__PURE__ */ new Map();\n    this.reconnectAttempts = 0;\n    this.methods = {};\n    this.isIntentionalClose = false;\n    this.options = { ...DEFAULT_OPTIONS, ...options };\n  }\n  /**\n   * Register RPC method handlers\n   * @param methodHandlers Object containing method handlers\n   */\n  register(methodHandlers) {\n    Object.entries(methodHandlers).forEach(([methodName, handler]) => {\n      this.methods[methodName] = { handler };\n    });\n  }\n  /**\n   * Generic method to call a remote procedure with support for streaming updates\n   * @param method Method name to call\n   * @param payload Request payload\n   * @param onUpdate Optional callback for progress updates\n   * @returns Promise resolving with the response\n   */\n  callMethod(method, payload, onUpdate) {\n    if (!this.ws) {\n      throw new Error(\"WebSocket is not connected\");\n    }\n    const id = crypto.randomUUID();\n    const requestMessage = {\n      id,\n      messageType: \"request\",\n      method,\n      payload\n    };\n    return new Promise((resolve, reject) => {\n      var _a;\n      const timeout = setTimeout(() => {\n        this.pendingRequests.delete(id);\n        reject(new Error(`Request timed out: ${method}`));\n      }, this.options.requestTimeout);\n      this.pendingRequests.set(id, { resolve, reject, timeout, onUpdate });\n      (_a = this.ws) == null ? void 0 : _a.send(JSON.stringify(requestMessage));\n    });\n  }\n  /**\n   * Sets up WebSocket event handlers\n   * @param ws WebSocket instance\n   */\n  setupWebSocketHandlers(ws) {\n    ws.onmessage = (event) => {\n      try {\n        const message = JSON.parse(event.data);\n        this.handleMessage(message);\n      } catch (error2) {\n        console.error(\"Error handling WebSocket message:\", error2);\n      }\n    };\n    ws.onclose = () => {\n      console.log(\"WebSocket disconnected\");\n      this.handleDisconnect();\n    };\n    ws.onerror = (event) => {\n      console.error(\"WebSocket error:\", event);\n    };\n  }\n  /**\n   * Handles incoming WebSocket messages\n   * @param message The message to handle\n   */\n  handleMessage(message) {\n    const { messageType, id } = message;\n    switch (messageType) {\n      case \"request\":\n        this.handleRequest(message);\n        break;\n      case \"response\":\n        this.handleResponse(id, message.payload);\n        break;\n      case \"update\":\n        this.handleUpdate(id, message.payload);\n        break;\n      case \"error\":\n        this.handleError(id, message.error.message);\n        break;\n      default:\n        console.warn(`Unknown message type: ${messageType}`);\n    }\n  }\n  /**\n   * Handle incoming requests by invoking the registered method\n   * @param message Request message\n   */\n  async handleRequest(message) {\n    const { id, method, payload } = message;\n    if (!method) {\n      this.sendError(id, \"Method name is required\");\n      return;\n    }\n    const methodDef = this.methods[method];\n    if (!methodDef) {\n      this.sendError(id, `Method not found: ${method}`);\n      return;\n    }\n    try {\n      const sendUpdate = (update) => {\n        this.sendUpdate(id, method, update);\n      };\n      const result = await methodDef.handler(payload, sendUpdate);\n      this.sendResponse(id, method, result);\n    } catch (error2) {\n      this.sendError(\n        id,\n        error2 instanceof Error ? error2.message : String(error2)\n      );\n    }\n  }\n  /**\n   * Handle response messages by resolving the pending request\n   * @param id Request ID\n   * @param payload Response payload\n   */\n  handleResponse(id, payload) {\n    const pendingRequest = this.pendingRequests.get(id);\n    if (!pendingRequest) {\n      console.warn(`Received response for unknown request ID: ${id}`);\n      return;\n    }\n    clearTimeout(pendingRequest.timeout);\n    this.pendingRequests.delete(id);\n    pendingRequest.resolve(payload);\n  }\n  /**\n   * Handle update messages by calling the update callback\n   * @param id Request ID\n   * @param payload Update payload\n   */\n  handleUpdate(id, payload) {\n    const pendingRequest = this.pendingRequests.get(id);\n    if (!pendingRequest || !pendingRequest.onUpdate) {\n      console.warn(`Received update for unknown request ID: ${id}`);\n      return;\n    }\n    pendingRequest.onUpdate(payload);\n  }\n  /**\n   * Handle error messages by rejecting the pending request\n   * @param id Request ID\n   * @param error Error message\n   */\n  handleError(id, error2) {\n    const pendingRequest = this.pendingRequests.get(id);\n    if (!pendingRequest) {\n      console.warn(`Received error for unknown request ID: ${id}`);\n      return;\n    }\n    clearTimeout(pendingRequest.timeout);\n    this.pendingRequests.delete(id);\n    pendingRequest.reject(new Error(error2));\n  }\n  /**\n   * Send a response message\n   * @param id Request ID\n   * @param method Method name\n   * @param payload Response payload\n   */\n  sendResponse(id, method, payload) {\n    if (!this.ws) {\n      throw new Error(\"WebSocket is not connected\");\n    }\n    const responseMessage = {\n      id,\n      messageType: \"response\",\n      method,\n      payload\n    };\n    this.ws.send(JSON.stringify(responseMessage));\n  }\n  /**\n   * Send an update message for streaming\n   * @param id Request ID\n   * @param method Method name\n   * @param payload Update payload\n   */\n  sendUpdate(id, method, payload) {\n    if (!this.ws) {\n      throw new Error(\"WebSocket is not connected\");\n    }\n    const updateMessage = {\n      id,\n      messageType: \"update\",\n      method,\n      payload\n    };\n    this.ws.send(JSON.stringify(updateMessage));\n  }\n  /**\n   * Send an error message\n   * @param id Request ID\n   * @param errorMessage Error message\n   */\n  sendError(id, errorMessage) {\n    if (!this.ws) {\n      throw new Error(\"WebSocket is not connected\");\n    }\n    const errorResponse = {\n      id,\n      messageType: \"error\",\n      error: {\n        message: errorMessage\n      }\n    };\n    this.ws.send(JSON.stringify(errorResponse));\n  }\n  /**\n   * Handle disconnection by attempting to reconnect\n   */\n  handleDisconnect() {\n    if (this.isIntentionalClose) {\n      console.log(\n        \"WebSocket closed intentionally, not attempting to reconnect\"\n      );\n      this.clearPendingRequests(new Error(\"Connection closed by user\"));\n      return;\n    }\n    if (this.reconnectAttempts < this.options.maxReconnectAttempts) {\n      this.reconnectAttempts++;\n      console.log(\n        `Attempting to reconnect (${this.reconnectAttempts}/${this.options.maxReconnectAttempts})...`\n      );\n      setTimeout(\n        () => this.reconnect(),\n        this.options.reconnectDelay * this.reconnectAttempts\n      );\n    } else {\n      console.error(\"Max reconnection attempts reached\");\n      this.clearPendingRequests(new Error(\"Connection closed\"));\n    }\n  }\n  /**\n   * Clear all pending requests with an error\n   * @param error Error to reject with\n   */\n  clearPendingRequests(error2) {\n    this.pendingRequests.forEach(({ reject }) => {\n      reject(error2);\n    });\n    this.pendingRequests.clear();\n  }\n  /**\n   * Close the WebSocket connection\n   * @returns Promise that resolves when the connection is closed\n   */\n  async close() {\n    this.isIntentionalClose = true;\n    if (this.ws) {\n      this.ws.close();\n      this.ws = null;\n    }\n    this.clearPendingRequests(new Error(\"Connection closed by user\"));\n  }\n};\ntypeof window !== \"undefined\" ? window.WebSocket : __require(\"ws\").WebSocket;\nfunction createBridgeContract(contract2) {\n  return contract2;\n}\nfunction validateWithZod(schema, data, context, silent = false) {\n  const result = schema.safeParse(data);\n  if (!result.success) {\n    const error2 = new Error(\n      `Validation failed for ${context}: ${result.error.message}`\n    );\n    if (silent) {\n      console.error(error2);\n      return data;\n    }\n    throw error2;\n  }\n  return result.data;\n}\nvar WebSocketImpl2 = typeof window !== \"undefined\" ? window.WebSocket : __require(\"ws\").WebSocket;\nvar ZodTypedBridge = class {\n  constructor(bridge, contract2) {\n    this.bridge = bridge;\n    this.contract = contract2;\n    this.call = new Proxy({}, {\n      get: (target, prop) => {\n        return (request, options) => {\n          return this.callMethod(prop, request, options);\n        };\n      }\n    });\n  }\n  async callMethod(method, request, options) {\n    const methodContract = this.contract.consumes[method];\n    if (!methodContract) {\n      throw new Error(`Method ${String(method)} not found in contract`);\n    }\n    const validatedRequest = validateWithZod(\n      methodContract.request,\n      request,\n      `request for method ${String(method)}`\n    );\n    const onUpdate = (options == null ? void 0 : options.onUpdate) && methodContract.update ? (update) => {\n      var _a;\n      if (!methodContract.update) return;\n      try {\n        const validatedUpdate = validateWithZod(\n          methodContract.update,\n          update,\n          `update for method ${String(method)}`,\n          true\n          // silently log validation errors\n        );\n        (_a = options.onUpdate) == null ? void 0 : _a.call(options, validatedUpdate);\n      } catch (error2) {\n        console.error(\"Update validation failed:\", error2);\n      }\n    } : void 0;\n    const response = await this.bridge.callMethod(\n      method,\n      validatedRequest,\n      onUpdate\n    );\n    return validateWithZod(\n      methodContract.response,\n      response,\n      `response for method ${String(method)}`\n    );\n  }\n  register(implementations) {\n    const wrappedImplementations = {};\n    for (const [method, implementation] of Object.entries(implementations)) {\n      const methodContract = this.contract.serves[method];\n      if (!methodContract) {\n        throw new Error(`Method ${method} not found in contract`);\n      }\n      wrappedImplementations[method] = async (request, sendUpdate) => {\n        const validatedRequest = validateWithZod(\n          methodContract.request,\n          request,\n          `request for method ${method}`\n        );\n        const wrappedSendUpdate = methodContract.update && sendUpdate ? (update) => {\n          if (!methodContract.update) return;\n          try {\n            const validatedUpdate = validateWithZod(\n              methodContract.update,\n              update,\n              `update for method ${method}`,\n              true\n              // silently log validation errors\n            );\n            sendUpdate(validatedUpdate);\n          } catch (error2) {\n            console.error(\"Update validation failed:\", error2);\n          }\n        } : void 0;\n        const response = await implementation(validatedRequest, {\n          sendUpdate: wrappedSendUpdate\n        });\n        return validateWithZod(\n          methodContract.response,\n          response,\n          `response for method ${method}`\n        );\n      };\n    }\n    this.bridge.register(wrappedImplementations);\n  }\n  async close() {\n    await this.bridge.close();\n  }\n};\nvar ClientBridge = class extends WebSocketRpcBridge {\n  constructor(url, options) {\n    super(options);\n    this.reconnectTimer = null;\n    this.url = url;\n  }\n  call(method, payload, onUpdate) {\n    return this.callMethod(method, payload, onUpdate);\n  }\n  reconnect() {\n    if (this.reconnectTimer) {\n      clearTimeout(this.reconnectTimer);\n    }\n    this.reconnectTimer = setTimeout(async () => {\n      try {\n        await this.connect();\n      } catch (error2) {\n        this.reconnect();\n      }\n    }, this.options.reconnectDelay);\n  }\n  connect() {\n    return new Promise((resolve, reject) => {\n      try {\n        const ws = new WebSocketImpl2(this.url);\n        ws.onopen = () => {\n          this.ws = ws;\n          this.setupWebSocketHandlers(ws);\n          resolve();\n        };\n        ws.onerror = () => {\n          reject(new Error(\"Failed to connect to WebSocket server\"));\n        };\n      } catch (error2) {\n        reject(error2);\n      }\n    });\n  }\n};\nvar ZodClient = class extends ZodTypedBridge {\n  constructor(url, contract2, options) {\n    super(new ClientBridge(url, options), {\n      serves: contract2.client || {},\n      consumes: contract2.server || {}\n    });\n  }\n  connect() {\n    return this.bridge.connect();\n  }\n};\nfunction createSRPCClientBridge(url, contract2, options) {\n  return new ZodClient(url, contract2, options);\n}\nvar util;\n(function(util2) {\n  util2.assertEqual = (val) => val;\n  function assertIs(_arg) {\n  }\n  util2.assertIs = assertIs;\n  function assertNever(_x) {\n    throw new Error();\n  }\n  util2.assertNever = assertNever;\n  util2.arrayToEnum = (items) => {\n    const obj = {};\n    for (const item of items) {\n      obj[item] = item;\n    }\n    return obj;\n  };\n  util2.getValidEnumValues = (obj) => {\n    const validKeys = util2.objectKeys(obj).filter((k2) => typeof obj[obj[k2]] !== \"number\");\n    const filtered = {};\n    for (const k2 of validKeys) {\n      filtered[k2] = obj[k2];\n    }\n    return util2.objectValues(filtered);\n  };\n  util2.objectValues = (obj) => {\n    return util2.objectKeys(obj).map(function(e2) {\n      return obj[e2];\n    });\n  };\n  util2.objectKeys = typeof Object.keys === \"function\" ? (obj) => Object.keys(obj) : (object) => {\n    const keys = [];\n    for (const key in object) {\n      if (Object.prototype.hasOwnProperty.call(object, key)) {\n        keys.push(key);\n      }\n    }\n    return keys;\n  };\n  util2.find = (arr, checker) => {\n    for (const item of arr) {\n      if (checker(item))\n        return item;\n    }\n    return void 0;\n  };\n  util2.isInteger = typeof Number.isInteger === \"function\" ? (val) => Number.isInteger(val) : (val) => typeof val === \"number\" && isFinite(val) && Math.floor(val) === val;\n  function joinValues(array, separator = \" | \") {\n    return array.map((val) => typeof val === \"string\" ? `'${val}'` : val).join(separator);\n  }\n  util2.joinValues = joinValues;\n  util2.jsonStringifyReplacer = (_2, value) => {\n    if (typeof value === \"bigint\") {\n      return value.toString();\n    }\n    return value;\n  };\n})(util || (util = {}));\nvar objectUtil;\n(function(objectUtil2) {\n  objectUtil2.mergeShapes = (first, second) => {\n    return {\n      ...first,\n      ...second\n      // second overwrites first\n    };\n  };\n})(objectUtil || (objectUtil = {}));\nconst ZodParsedType = util.arrayToEnum([\n  \"string\",\n  \"nan\",\n  \"number\",\n  \"integer\",\n  \"float\",\n  \"boolean\",\n  \"date\",\n  \"bigint\",\n  \"symbol\",\n  \"function\",\n  \"undefined\",\n  \"null\",\n  \"array\",\n  \"object\",\n  \"unknown\",\n  \"promise\",\n  \"void\",\n  \"never\",\n  \"map\",\n  \"set\"\n]);\nconst getParsedType = (data) => {\n  const t2 = typeof data;\n  switch (t2) {\n    case \"undefined\":\n      return ZodParsedType.undefined;\n    case \"string\":\n      return ZodParsedType.string;\n    case \"number\":\n      return isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n    case \"boolean\":\n      return ZodParsedType.boolean;\n    case \"function\":\n      return ZodParsedType.function;\n    case \"bigint\":\n      return ZodParsedType.bigint;\n    case \"symbol\":\n      return ZodParsedType.symbol;\n    case \"object\":\n      if (Array.isArray(data)) {\n        return ZodParsedType.array;\n      }\n      if (data === null) {\n        return ZodParsedType.null;\n      }\n      if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n        return ZodParsedType.promise;\n      }\n      if (typeof Map !== \"undefined\" && data instanceof Map) {\n        return ZodParsedType.map;\n      }\n      if (typeof Set !== \"undefined\" && data instanceof Set) {\n        return ZodParsedType.set;\n      }\n      if (typeof Date !== \"undefined\" && data instanceof Date) {\n        return ZodParsedType.date;\n      }\n      return ZodParsedType.object;\n    default:\n      return ZodParsedType.unknown;\n  }\n};\nconst ZodIssueCode = util.arrayToEnum([\n  \"invalid_type\",\n  \"invalid_literal\",\n  \"custom\",\n  \"invalid_union\",\n  \"invalid_union_discriminator\",\n  \"invalid_enum_value\",\n  \"unrecognized_keys\",\n  \"invalid_arguments\",\n  \"invalid_return_type\",\n  \"invalid_date\",\n  \"invalid_string\",\n  \"too_small\",\n  \"too_big\",\n  \"invalid_intersection_types\",\n  \"not_multiple_of\",\n  \"not_finite\"\n]);\nconst quotelessJson = (obj) => {\n  const json = JSON.stringify(obj, null, 2);\n  return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nclass ZodError extends Error {\n  get errors() {\n    return this.issues;\n  }\n  constructor(issues) {\n    super();\n    this.issues = [];\n    this.addIssue = (sub) => {\n      this.issues = [...this.issues, sub];\n    };\n    this.addIssues = (subs = []) => {\n      this.issues = [...this.issues, ...subs];\n    };\n    const actualProto = new.target.prototype;\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(this, actualProto);\n    } else {\n      this.__proto__ = actualProto;\n    }\n    this.name = \"ZodError\";\n    this.issues = issues;\n  }\n  format(_mapper) {\n    const mapper = _mapper || function(issue) {\n      return issue.message;\n    };\n    const fieldErrors = { _errors: [] };\n    const processError = (error2) => {\n      for (const issue of error2.issues) {\n        if (issue.code === \"invalid_union\") {\n          issue.unionErrors.map(processError);\n        } else if (issue.code === \"invalid_return_type\") {\n          processError(issue.returnTypeError);\n        } else if (issue.code === \"invalid_arguments\") {\n          processError(issue.argumentsError);\n        } else if (issue.path.length === 0) {\n          fieldErrors._errors.push(mapper(issue));\n        } else {\n          let curr = fieldErrors;\n          let i2 = 0;\n          while (i2 < issue.path.length) {\n            const el = issue.path[i2];\n            const terminal = i2 === issue.path.length - 1;\n            if (!terminal) {\n              curr[el] = curr[el] || { _errors: [] };\n            } else {\n              curr[el] = curr[el] || { _errors: [] };\n              curr[el]._errors.push(mapper(issue));\n            }\n            curr = curr[el];\n            i2++;\n          }\n        }\n      }\n    };\n    processError(this);\n    return fieldErrors;\n  }\n  static assert(value) {\n    if (!(value instanceof ZodError)) {\n      throw new Error(`Not a ZodError: ${value}`);\n    }\n  }\n  toString() {\n    return this.message;\n  }\n  get message() {\n    return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n  }\n  get isEmpty() {\n    return this.issues.length === 0;\n  }\n  flatten(mapper = (issue) => issue.message) {\n    const fieldErrors = {};\n    const formErrors = [];\n    for (const sub of this.issues) {\n      if (sub.path.length > 0) {\n        fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n        fieldErrors[sub.path[0]].push(mapper(sub));\n      } else {\n        formErrors.push(mapper(sub));\n      }\n    }\n    return { formErrors, fieldErrors };\n  }\n  get formErrors() {\n    return this.flatten();\n  }\n}\nZodError.create = (issues) => {\n  const error2 = new ZodError(issues);\n  return error2;\n};\nconst errorMap = (issue, _ctx) => {\n  let message;\n  switch (issue.code) {\n    case ZodIssueCode.invalid_type:\n      if (issue.received === ZodParsedType.undefined) {\n        message = \"Required\";\n      } else {\n        message = `Expected ${issue.expected}, received ${issue.received}`;\n      }\n      break;\n    case ZodIssueCode.invalid_literal:\n      message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n      break;\n    case ZodIssueCode.unrecognized_keys:\n      message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n      break;\n    case ZodIssueCode.invalid_union:\n      message = `Invalid input`;\n      break;\n    case ZodIssueCode.invalid_union_discriminator:\n      message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n      break;\n    case ZodIssueCode.invalid_enum_value:\n      message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n      break;\n    case ZodIssueCode.invalid_arguments:\n      message = `Invalid function arguments`;\n      break;\n    case ZodIssueCode.invalid_return_type:\n      message = `Invalid function return type`;\n      break;\n    case ZodIssueCode.invalid_date:\n      message = `Invalid date`;\n      break;\n    case ZodIssueCode.invalid_string:\n      if (typeof issue.validation === \"object\") {\n        if (\"includes\" in issue.validation) {\n          message = `Invalid input: must include \"${issue.validation.includes}\"`;\n          if (typeof issue.validation.position === \"number\") {\n            message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n          }\n        } else if (\"startsWith\" in issue.validation) {\n          message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n        } else if (\"endsWith\" in issue.validation) {\n          message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n        } else {\n          util.assertNever(issue.validation);\n        }\n      } else if (issue.validation !== \"regex\") {\n        message = `Invalid ${issue.validation}`;\n      } else {\n        message = \"Invalid\";\n      }\n      break;\n    case ZodIssueCode.too_small:\n      if (issue.type === \"array\")\n        message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n      else if (issue.type === \"string\")\n        message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n      else if (issue.type === \"number\")\n        message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;\n      else if (issue.type === \"date\")\n        message = `Date must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue.minimum))}`;\n      else\n        message = \"Invalid input\";\n      break;\n    case ZodIssueCode.too_big:\n      if (issue.type === \"array\")\n        message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n      else if (issue.type === \"string\")\n        message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n      else if (issue.type === \"number\")\n        message = `Number must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n      else if (issue.type === \"bigint\")\n        message = `BigInt must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n      else if (issue.type === \"date\")\n        message = `Date must be ${issue.exact ? `exactly` : issue.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue.maximum))}`;\n      else\n        message = \"Invalid input\";\n      break;\n    case ZodIssueCode.custom:\n      message = `Invalid input`;\n      break;\n    case ZodIssueCode.invalid_intersection_types:\n      message = `Intersection results could not be merged`;\n      break;\n    case ZodIssueCode.not_multiple_of:\n      message = `Number must be a multiple of ${issue.multipleOf}`;\n      break;\n    case ZodIssueCode.not_finite:\n      message = \"Number must be finite\";\n      break;\n    default:\n      message = _ctx.defaultError;\n      util.assertNever(issue);\n  }\n  return { message };\n};\nlet overrideErrorMap = errorMap;\nfunction setErrorMap(map) {\n  overrideErrorMap = map;\n}\nfunction getErrorMap() {\n  return overrideErrorMap;\n}\nconst makeIssue = (params) => {\n  const { data, path, errorMaps, issueData } = params;\n  const fullPath = [...path, ...issueData.path || []];\n  const fullIssue = {\n    ...issueData,\n    path: fullPath\n  };\n  if (issueData.message !== void 0) {\n    return {\n      ...issueData,\n      path: fullPath,\n      message: issueData.message\n    };\n  }\n  let errorMessage = \"\";\n  const maps = errorMaps.filter((m2) => !!m2).slice().reverse();\n  for (const map of maps) {\n    errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n  }\n  return {\n    ...issueData,\n    path: fullPath,\n    message: errorMessage\n  };\n};\nconst EMPTY_PATH = [];\nfunction addIssueToContext(ctx, issueData) {\n  const overrideMap = getErrorMap();\n  const issue = makeIssue({\n    issueData,\n    data: ctx.data,\n    path: ctx.path,\n    errorMaps: [\n      ctx.common.contextualErrorMap,\n      // contextual error map is first priority\n      ctx.schemaErrorMap,\n      // then schema-bound map if available\n      overrideMap,\n      // then global override map\n      overrideMap === errorMap ? void 0 : errorMap\n      // then global default map\n    ].filter((x2) => !!x2)\n  });\n  ctx.common.issues.push(issue);\n}\nclass ParseStatus {\n  constructor() {\n    this.value = \"valid\";\n  }\n  dirty() {\n    if (this.value === \"valid\")\n      this.value = \"dirty\";\n  }\n  abort() {\n    if (this.value !== \"aborted\")\n      this.value = \"aborted\";\n  }\n  static mergeArray(status, results) {\n    const arrayValue = [];\n    for (const s2 of results) {\n      if (s2.status === \"aborted\")\n        return INVALID;\n      if (s2.status === \"dirty\")\n        status.dirty();\n      arrayValue.push(s2.value);\n    }\n    return { status: status.value, value: arrayValue };\n  }\n  static async mergeObjectAsync(status, pairs) {\n    const syncPairs = [];\n    for (const pair of pairs) {\n      const key = await pair.key;\n      const value = await pair.value;\n      syncPairs.push({\n        key,\n        value\n      });\n    }\n    return ParseStatus.mergeObjectSync(status, syncPairs);\n  }\n  static mergeObjectSync(status, pairs) {\n    const finalObject = {};\n    for (const pair of pairs) {\n      const { key, value } = pair;\n      if (key.status === \"aborted\")\n        return INVALID;\n      if (value.status === \"aborted\")\n        return INVALID;\n      if (key.status === \"dirty\")\n        status.dirty();\n      if (value.status === \"dirty\")\n        status.dirty();\n      if (key.value !== \"__proto__\" && (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n        finalObject[key.value] = value.value;\n      }\n    }\n    return { status: status.value, value: finalObject };\n  }\n}\nconst INVALID = Object.freeze({\n  status: \"aborted\"\n});\nconst DIRTY = (value) => ({ status: \"dirty\", value });\nconst OK = (value) => ({ status: \"valid\", value });\nconst isAborted = (x2) => x2.status === \"aborted\";\nconst isDirty = (x2) => x2.status === \"dirty\";\nconst isValid = (x2) => x2.status === \"valid\";\nconst isAsync = (x2) => typeof Promise !== \"undefined\" && x2 instanceof Promise;\nfunction __classPrivateFieldGet(receiver, state, kind, f2) {\n  if (typeof state === \"function\" ? receiver !== state || true : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return state.get(receiver);\n}\nfunction __classPrivateFieldSet(receiver, state, value, kind, f2) {\n  if (typeof state === \"function\" ? receiver !== state || true : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return state.set(receiver, value), value;\n}\ntypeof SuppressedError === \"function\" ? SuppressedError : function(error2, suppressed, message) {\n  var e2 = new Error(message);\n  return e2.name = \"SuppressedError\", e2.error = error2, e2.suppressed = suppressed, e2;\n};\nvar errorUtil;\n(function(errorUtil2) {\n  errorUtil2.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n  errorUtil2.toString = (message) => typeof message === \"string\" ? message : message === null || message === void 0 ? void 0 : message.message;\n})(errorUtil || (errorUtil = {}));\nvar _ZodEnum_cache, _ZodNativeEnum_cache;\nclass ParseInputLazyPath {\n  constructor(parent, value, path, key) {\n    this._cachedPath = [];\n    this.parent = parent;\n    this.data = value;\n    this._path = path;\n    this._key = key;\n  }\n  get path() {\n    if (!this._cachedPath.length) {\n      if (this._key instanceof Array) {\n        this._cachedPath.push(...this._path, ...this._key);\n      } else {\n        this._cachedPath.push(...this._path, this._key);\n      }\n    }\n    return this._cachedPath;\n  }\n}\nconst handleResult = (ctx, result) => {\n  if (isValid(result)) {\n    return { success: true, data: result.value };\n  } else {\n    if (!ctx.common.issues.length) {\n      throw new Error(\"Validation failed but no issues detected.\");\n    }\n    return {\n      success: false,\n      get error() {\n        if (this._error)\n          return this._error;\n        const error2 = new ZodError(ctx.common.issues);\n        this._error = error2;\n        return this._error;\n      }\n    };\n  }\n};\nfunction processCreateParams(params) {\n  if (!params)\n    return {};\n  const { errorMap: errorMap2, invalid_type_error, required_error, description } = params;\n  if (errorMap2 && (invalid_type_error || required_error)) {\n    throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n  }\n  if (errorMap2)\n    return { errorMap: errorMap2, description };\n  const customMap = (iss, ctx) => {\n    var _a, _b;\n    const { message } = params;\n    if (iss.code === \"invalid_enum_value\") {\n      return { message: message !== null && message !== void 0 ? message : ctx.defaultError };\n    }\n    if (typeof ctx.data === \"undefined\") {\n      return { message: (_a = message !== null && message !== void 0 ? message : required_error) !== null && _a !== void 0 ? _a : ctx.defaultError };\n    }\n    if (iss.code !== \"invalid_type\")\n      return { message: ctx.defaultError };\n    return { message: (_b = message !== null && message !== void 0 ? message : invalid_type_error) !== null && _b !== void 0 ? _b : ctx.defaultError };\n  };\n  return { errorMap: customMap, description };\n}\nclass ZodType {\n  get description() {\n    return this._def.description;\n  }\n  _getType(input) {\n    return getParsedType(input.data);\n  }\n  _getOrReturnCtx(input, ctx) {\n    return ctx || {\n      common: input.parent.common,\n      data: input.data,\n      parsedType: getParsedType(input.data),\n      schemaErrorMap: this._def.errorMap,\n      path: input.path,\n      parent: input.parent\n    };\n  }\n  _processInputParams(input) {\n    return {\n      status: new ParseStatus(),\n      ctx: {\n        common: input.parent.common,\n        data: input.data,\n        parsedType: getParsedType(input.data),\n        schemaErrorMap: this._def.errorMap,\n        path: input.path,\n        parent: input.parent\n      }\n    };\n  }\n  _parseSync(input) {\n    const result = this._parse(input);\n    if (isAsync(result)) {\n      throw new Error(\"Synchronous parse encountered promise.\");\n    }\n    return result;\n  }\n  _parseAsync(input) {\n    const result = this._parse(input);\n    return Promise.resolve(result);\n  }\n  parse(data, params) {\n    const result = this.safeParse(data, params);\n    if (result.success)\n      return result.data;\n    throw result.error;\n  }\n  safeParse(data, params) {\n    var _a;\n    const ctx = {\n      common: {\n        issues: [],\n        async: (_a = params === null || params === void 0 ? void 0 : params.async) !== null && _a !== void 0 ? _a : false,\n        contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap\n      },\n      path: (params === null || params === void 0 ? void 0 : params.path) || [],\n      schemaErrorMap: this._def.errorMap,\n      parent: null,\n      data,\n      parsedType: getParsedType(data)\n    };\n    const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n    return handleResult(ctx, result);\n  }\n  \"~validate\"(data) {\n    var _a, _b;\n    const ctx = {\n      common: {\n        issues: [],\n        async: !!this[\"~standard\"].async\n      },\n      path: [],\n      schemaErrorMap: this._def.errorMap,\n      parent: null,\n      data,\n      parsedType: getParsedType(data)\n    };\n    if (!this[\"~standard\"].async) {\n      try {\n        const result = this._parseSync({ data, path: [], parent: ctx });\n        return isValid(result) ? {\n          value: result.value\n        } : {\n          issues: ctx.common.issues\n        };\n      } catch (err) {\n        if ((_b = (_a = err === null || err === void 0 ? void 0 : err.message) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === null || _b === void 0 ? void 0 : _b.includes(\"encountered\")) {\n          this[\"~standard\"].async = true;\n        }\n        ctx.common = {\n          issues: [],\n          async: true\n        };\n      }\n    }\n    return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result) ? {\n      value: result.value\n    } : {\n      issues: ctx.common.issues\n    });\n  }\n  async parseAsync(data, params) {\n    const result = await this.safeParseAsync(data, params);\n    if (result.success)\n      return result.data;\n    throw result.error;\n  }\n  async safeParseAsync(data, params) {\n    const ctx = {\n      common: {\n        issues: [],\n        contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n        async: true\n      },\n      path: (params === null || params === void 0 ? void 0 : params.path) || [],\n      schemaErrorMap: this._def.errorMap,\n      parent: null,\n      data,\n      parsedType: getParsedType(data)\n    };\n    const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n    const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));\n    return handleResult(ctx, result);\n  }\n  refine(check, message) {\n    const getIssueProperties = (val) => {\n      if (typeof message === \"string\" || typeof message === \"undefined\") {\n        return { message };\n      } else if (typeof message === \"function\") {\n        return message(val);\n      } else {\n        return message;\n      }\n    };\n    return this._refinement((val, ctx) => {\n      const result = check(val);\n      const setError = () => ctx.addIssue({\n        code: ZodIssueCode.custom,\n        ...getIssueProperties(val)\n      });\n      if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n        return result.then((data) => {\n          if (!data) {\n            setError();\n            return false;\n          } else {\n            return true;\n          }\n        });\n      }\n      if (!result) {\n        setError();\n        return false;\n      } else {\n        return true;\n      }\n    });\n  }\n  refinement(check, refinementData) {\n    return this._refinement((val, ctx) => {\n      if (!check(val)) {\n        ctx.addIssue(typeof refinementData === \"function\" ? refinementData(val, ctx) : refinementData);\n        return false;\n      } else {\n        return true;\n      }\n    });\n  }\n  _refinement(refinement) {\n    return new ZodEffects({\n      schema: this,\n      typeName: ZodFirstPartyTypeKind.ZodEffects,\n      effect: { type: \"refinement\", refinement }\n    });\n  }\n  superRefine(refinement) {\n    return this._refinement(refinement);\n  }\n  constructor(def) {\n    this.spa = this.safeParseAsync;\n    this._def = def;\n    this.parse = this.parse.bind(this);\n    this.safeParse = this.safeParse.bind(this);\n    this.parseAsync = this.parseAsync.bind(this);\n    this.safeParseAsync = this.safeParseAsync.bind(this);\n    this.spa = this.spa.bind(this);\n    this.refine = this.refine.bind(this);\n    this.refinement = this.refinement.bind(this);\n    this.superRefine = this.superRefine.bind(this);\n    this.optional = this.optional.bind(this);\n    this.nullable = this.nullable.bind(this);\n    this.nullish = this.nullish.bind(this);\n    this.array = this.array.bind(this);\n    this.promise = this.promise.bind(this);\n    this.or = this.or.bind(this);\n    this.and = this.and.bind(this);\n    this.transform = this.transform.bind(this);\n    this.brand = this.brand.bind(this);\n    this.default = this.default.bind(this);\n    this.catch = this.catch.bind(this);\n    this.describe = this.describe.bind(this);\n    this.pipe = this.pipe.bind(this);\n    this.readonly = this.readonly.bind(this);\n    this.isNullable = this.isNullable.bind(this);\n    this.isOptional = this.isOptional.bind(this);\n    this[\"~standard\"] = {\n      version: 1,\n      vendor: \"zod\",\n      validate: (data) => this[\"~validate\"](data)\n    };\n  }\n  optional() {\n    return ZodOptional.create(this, this._def);\n  }\n  nullable() {\n    return ZodNullable.create(this, this._def);\n  }\n  nullish() {\n    return this.nullable().optional();\n  }\n  array() {\n    return ZodArray.create(this);\n  }\n  promise() {\n    return ZodPromise.create(this, this._def);\n  }\n  or(option) {\n    return ZodUnion.create([this, option], this._def);\n  }\n  and(incoming) {\n    return ZodIntersection.create(this, incoming, this._def);\n  }\n  transform(transform) {\n    return new ZodEffects({\n      ...processCreateParams(this._def),\n      schema: this,\n      typeName: ZodFirstPartyTypeKind.ZodEffects,\n      effect: { type: \"transform\", transform }\n    });\n  }\n  default(def) {\n    const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n    return new ZodDefault({\n      ...processCreateParams(this._def),\n      innerType: this,\n      defaultValue: defaultValueFunc,\n      typeName: ZodFirstPartyTypeKind.ZodDefault\n    });\n  }\n  brand() {\n    return new ZodBranded({\n      typeName: ZodFirstPartyTypeKind.ZodBranded,\n      type: this,\n      ...processCreateParams(this._def)\n    });\n  }\n  catch(def) {\n    const catchValueFunc = typeof def === \"function\" ? def : () => def;\n    return new ZodCatch({\n      ...processCreateParams(this._def),\n      innerType: this,\n      catchValue: catchValueFunc,\n      typeName: ZodFirstPartyTypeKind.ZodCatch\n    });\n  }\n  describe(description) {\n    const This = this.constructor;\n    return new This({\n      ...this._def,\n      description\n    });\n  }\n  pipe(target) {\n    return ZodPipeline.create(this, target);\n  }\n  readonly() {\n    return ZodReadonly.create(this);\n  }\n  isOptional() {\n    return this.safeParse(void 0).success;\n  }\n  isNullable() {\n    return this.safeParse(null).success;\n  }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\nconst ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\nconst ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\nconst base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n  let secondsRegexSource = `[0-5]\\\\d`;\n  if (args.precision) {\n    secondsRegexSource = `${secondsRegexSource}\\\\.\\\\d{${args.precision}}`;\n  } else if (args.precision == null) {\n    secondsRegexSource = `${secondsRegexSource}(\\\\.\\\\d+)?`;\n  }\n  const secondsQuantifier = args.precision ? \"+\" : \"?\";\n  return `([01]\\\\d|2[0-3]):[0-5]\\\\d(:${secondsRegexSource})${secondsQuantifier}`;\n}\nfunction timeRegex(args) {\n  return new RegExp(`^${timeRegexSource(args)}$`);\n}\nfunction datetimeRegex(args) {\n  let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n  const opts = [];\n  opts.push(args.local ? `Z?` : `Z`);\n  if (args.offset)\n    opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n  regex = `${regex}(${opts.join(\"|\")})`;\n  return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n  if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n    return true;\n  }\n  if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n    return true;\n  }\n  return false;\n}\nfunction isValidJWT(jwt, alg) {\n  if (!jwtRegex.test(jwt))\n    return false;\n  try {\n    const [header] = jwt.split(\".\");\n    const base64 = header.replace(/-/g, \"+\").replace(/_/g, \"/\").padEnd(header.length + (4 - header.length % 4) % 4, \"=\");\n    const decoded = JSON.parse(atob(base64));\n    if (typeof decoded !== \"object\" || decoded === null)\n      return false;\n    if (!decoded.typ || !decoded.alg)\n      return false;\n    if (alg && decoded.alg !== alg)\n      return false;\n    return true;\n  } catch (_a) {\n    return false;\n  }\n}\nfunction isValidCidr(ip, version) {\n  if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n    return true;\n  }\n  if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n    return true;\n  }\n  return false;\n}\nclass ZodString extends ZodType {\n  _parse(input) {\n    if (this._def.coerce) {\n      input.data = String(input.data);\n    }\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.string) {\n      const ctx2 = this._getOrReturnCtx(input);\n      addIssueToContext(ctx2, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.string,\n        received: ctx2.parsedType\n      });\n      return INVALID;\n    }\n    const status = new ParseStatus();\n    let ctx = void 0;\n    for (const check of this._def.checks) {\n      if (check.kind === \"min\") {\n        if (input.data.length < check.value) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_small,\n            minimum: check.value,\n            type: \"string\",\n            inclusive: true,\n            exact: false,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"max\") {\n        if (input.data.length > check.value) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_big,\n            maximum: check.value,\n            type: \"string\",\n            inclusive: true,\n            exact: false,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"length\") {\n        const tooBig = input.data.length > check.value;\n        const tooSmall = input.data.length < check.value;\n        if (tooBig || tooSmall) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          if (tooBig) {\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.too_big,\n              maximum: check.value,\n              type: \"string\",\n              inclusive: true,\n              exact: true,\n              message: check.message\n            });\n          } else if (tooSmall) {\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.too_small,\n              minimum: check.value,\n              type: \"string\",\n              inclusive: true,\n              exact: true,\n              message: check.message\n            });\n          }\n          status.dirty();\n        }\n      } else if (check.kind === \"email\") {\n        if (!emailRegex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"email\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"emoji\") {\n        if (!emojiRegex) {\n          emojiRegex = new RegExp(_emojiRegex, \"u\");\n        }\n        if (!emojiRegex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"emoji\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"uuid\") {\n        if (!uuidRegex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"uuid\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"nanoid\") {\n        if (!nanoidRegex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"nanoid\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"cuid\") {\n        if (!cuidRegex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"cuid\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"cuid2\") {\n        if (!cuid2Regex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"cuid2\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"ulid\") {\n        if (!ulidRegex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"ulid\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"url\") {\n        try {\n          new URL(input.data);\n        } catch (_a) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"url\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"regex\") {\n        check.regex.lastIndex = 0;\n        const testResult = check.regex.test(input.data);\n        if (!testResult) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"regex\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"trim\") {\n        input.data = input.data.trim();\n      } else if (check.kind === \"includes\") {\n        if (!input.data.includes(check.value, check.position)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_string,\n            validation: { includes: check.value, position: check.position },\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"toLowerCase\") {\n        input.data = input.data.toLowerCase();\n      } else if (check.kind === \"toUpperCase\") {\n        input.data = input.data.toUpperCase();\n      } else if (check.kind === \"startsWith\") {\n        if (!input.data.startsWith(check.value)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_string,\n            validation: { startsWith: check.value },\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"endsWith\") {\n        if (!input.data.endsWith(check.value)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_string,\n            validation: { endsWith: check.value },\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"datetime\") {\n        const regex = datetimeRegex(check);\n        if (!regex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_string,\n            validation: \"datetime\",\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"date\") {\n        const regex = dateRegex;\n        if (!regex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_string,\n            validation: \"date\",\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"time\") {\n        const regex = timeRegex(check);\n        if (!regex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_string,\n            validation: \"time\",\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"duration\") {\n        if (!durationRegex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"duration\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"ip\") {\n        if (!isValidIP(input.data, check.version)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"ip\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"jwt\") {\n        if (!isValidJWT(input.data, check.alg)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"jwt\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"cidr\") {\n        if (!isValidCidr(input.data, check.version)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"cidr\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"base64\") {\n        if (!base64Regex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"base64\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"base64url\") {\n        if (!base64urlRegex.test(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            validation: \"base64url\",\n            code: ZodIssueCode.invalid_string,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else {\n        util.assertNever(check);\n      }\n    }\n    return { status: status.value, value: input.data };\n  }\n  _regex(regex, validation, message) {\n    return this.refinement((data) => regex.test(data), {\n      validation,\n      code: ZodIssueCode.invalid_string,\n      ...errorUtil.errToObj(message)\n    });\n  }\n  _addCheck(check) {\n    return new ZodString({\n      ...this._def,\n      checks: [...this._def.checks, check]\n    });\n  }\n  email(message) {\n    return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n  }\n  url(message) {\n    return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n  }\n  emoji(message) {\n    return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n  }\n  uuid(message) {\n    return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n  }\n  nanoid(message) {\n    return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n  }\n  cuid(message) {\n    return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n  }\n  cuid2(message) {\n    return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n  }\n  ulid(message) {\n    return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n  }\n  base64(message) {\n    return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n  }\n  base64url(message) {\n    return this._addCheck({\n      kind: \"base64url\",\n      ...errorUtil.errToObj(message)\n    });\n  }\n  jwt(options) {\n    return this._addCheck({ kind: \"jwt\", ...errorUtil.errToObj(options) });\n  }\n  ip(options) {\n    return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n  }\n  cidr(options) {\n    return this._addCheck({ kind: \"cidr\", ...errorUtil.errToObj(options) });\n  }\n  datetime(options) {\n    var _a, _b;\n    if (typeof options === \"string\") {\n      return this._addCheck({\n        kind: \"datetime\",\n        precision: null,\n        offset: false,\n        local: false,\n        message: options\n      });\n    }\n    return this._addCheck({\n      kind: \"datetime\",\n      precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n      offset: (_a = options === null || options === void 0 ? void 0 : options.offset) !== null && _a !== void 0 ? _a : false,\n      local: (_b = options === null || options === void 0 ? void 0 : options.local) !== null && _b !== void 0 ? _b : false,\n      ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message)\n    });\n  }\n  date(message) {\n    return this._addCheck({ kind: \"date\", message });\n  }\n  time(options) {\n    if (typeof options === \"string\") {\n      return this._addCheck({\n        kind: \"time\",\n        precision: null,\n        message: options\n      });\n    }\n    return this._addCheck({\n      kind: \"time\",\n      precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n      ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message)\n    });\n  }\n  duration(message) {\n    return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n  }\n  regex(regex, message) {\n    return this._addCheck({\n      kind: \"regex\",\n      regex,\n      ...errorUtil.errToObj(message)\n    });\n  }\n  includes(value, options) {\n    return this._addCheck({\n      kind: \"includes\",\n      value,\n      position: options === null || options === void 0 ? void 0 : options.position,\n      ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message)\n    });\n  }\n  startsWith(value, message) {\n    return this._addCheck({\n      kind: \"startsWith\",\n      value,\n      ...errorUtil.errToObj(message)\n    });\n  }\n  endsWith(value, message) {\n    return this._addCheck({\n      kind: \"endsWith\",\n      value,\n      ...errorUtil.errToObj(message)\n    });\n  }\n  min(minLength, message) {\n    return this._addCheck({\n      kind: \"min\",\n      value: minLength,\n      ...errorUtil.errToObj(message)\n    });\n  }\n  max(maxLength, message) {\n    return this._addCheck({\n      kind: \"max\",\n      value: maxLength,\n      ...errorUtil.errToObj(message)\n    });\n  }\n  length(len, message) {\n    return this._addCheck({\n      kind: \"length\",\n      value: len,\n      ...errorUtil.errToObj(message)\n    });\n  }\n  /**\n   * Equivalent to `.min(1)`\n   */\n  nonempty(message) {\n    return this.min(1, errorUtil.errToObj(message));\n  }\n  trim() {\n    return new ZodString({\n      ...this._def,\n      checks: [...this._def.checks, { kind: \"trim\" }]\n    });\n  }\n  toLowerCase() {\n    return new ZodString({\n      ...this._def,\n      checks: [...this._def.checks, { kind: \"toLowerCase\" }]\n    });\n  }\n  toUpperCase() {\n    return new ZodString({\n      ...this._def,\n      checks: [...this._def.checks, { kind: \"toUpperCase\" }]\n    });\n  }\n  get isDatetime() {\n    return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n  }\n  get isDate() {\n    return !!this._def.checks.find((ch) => ch.kind === \"date\");\n  }\n  get isTime() {\n    return !!this._def.checks.find((ch) => ch.kind === \"time\");\n  }\n  get isDuration() {\n    return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n  }\n  get isEmail() {\n    return !!this._def.checks.find((ch) => ch.kind === \"email\");\n  }\n  get isURL() {\n    return !!this._def.checks.find((ch) => ch.kind === \"url\");\n  }\n  get isEmoji() {\n    return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n  }\n  get isUUID() {\n    return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n  }\n  get isNANOID() {\n    return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n  }\n  get isCUID() {\n    return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n  }\n  get isCUID2() {\n    return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n  }\n  get isULID() {\n    return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n  }\n  get isIP() {\n    return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n  }\n  get isCIDR() {\n    return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n  }\n  get isBase64() {\n    return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n  }\n  get isBase64url() {\n    return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n  }\n  get minLength() {\n    let min2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"min\") {\n        if (min2 === null || ch.value > min2)\n          min2 = ch.value;\n      }\n    }\n    return min2;\n  }\n  get maxLength() {\n    let max2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"max\") {\n        if (max2 === null || ch.value < max2)\n          max2 = ch.value;\n      }\n    }\n    return max2;\n  }\n}\nZodString.create = (params) => {\n  var _a;\n  return new ZodString({\n    checks: [],\n    typeName: ZodFirstPartyTypeKind.ZodString,\n    coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n    ...processCreateParams(params)\n  });\n};\nfunction floatSafeRemainder(val, step) {\n  const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n  const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n  const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n  const valInt = parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n  const stepInt = parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n  return valInt % stepInt / Math.pow(10, decCount);\n}\nclass ZodNumber extends ZodType {\n  constructor() {\n    super(...arguments);\n    this.min = this.gte;\n    this.max = this.lte;\n    this.step = this.multipleOf;\n  }\n  _parse(input) {\n    if (this._def.coerce) {\n      input.data = Number(input.data);\n    }\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.number) {\n      const ctx2 = this._getOrReturnCtx(input);\n      addIssueToContext(ctx2, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.number,\n        received: ctx2.parsedType\n      });\n      return INVALID;\n    }\n    let ctx = void 0;\n    const status = new ParseStatus();\n    for (const check of this._def.checks) {\n      if (check.kind === \"int\") {\n        if (!util.isInteger(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: \"integer\",\n            received: \"float\",\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"min\") {\n        const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n        if (tooSmall) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_small,\n            minimum: check.value,\n            type: \"number\",\n            inclusive: check.inclusive,\n            exact: false,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"max\") {\n        const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n        if (tooBig) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_big,\n            maximum: check.value,\n            type: \"number\",\n            inclusive: check.inclusive,\n            exact: false,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"multipleOf\") {\n        if (floatSafeRemainder(input.data, check.value) !== 0) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.not_multiple_of,\n            multipleOf: check.value,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"finite\") {\n        if (!Number.isFinite(input.data)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.not_finite,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else {\n        util.assertNever(check);\n      }\n    }\n    return { status: status.value, value: input.data };\n  }\n  gte(value, message) {\n    return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n  }\n  gt(value, message) {\n    return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n  }\n  lte(value, message) {\n    return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n  }\n  lt(value, message) {\n    return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n  }\n  setLimit(kind, value, inclusive, message) {\n    return new ZodNumber({\n      ...this._def,\n      checks: [\n        ...this._def.checks,\n        {\n          kind,\n          value,\n          inclusive,\n          message: errorUtil.toString(message)\n        }\n      ]\n    });\n  }\n  _addCheck(check) {\n    return new ZodNumber({\n      ...this._def,\n      checks: [...this._def.checks, check]\n    });\n  }\n  int(message) {\n    return this._addCheck({\n      kind: \"int\",\n      message: errorUtil.toString(message)\n    });\n  }\n  positive(message) {\n    return this._addCheck({\n      kind: \"min\",\n      value: 0,\n      inclusive: false,\n      message: errorUtil.toString(message)\n    });\n  }\n  negative(message) {\n    return this._addCheck({\n      kind: \"max\",\n      value: 0,\n      inclusive: false,\n      message: errorUtil.toString(message)\n    });\n  }\n  nonpositive(message) {\n    return this._addCheck({\n      kind: \"max\",\n      value: 0,\n      inclusive: true,\n      message: errorUtil.toString(message)\n    });\n  }\n  nonnegative(message) {\n    return this._addCheck({\n      kind: \"min\",\n      value: 0,\n      inclusive: true,\n      message: errorUtil.toString(message)\n    });\n  }\n  multipleOf(value, message) {\n    return this._addCheck({\n      kind: \"multipleOf\",\n      value,\n      message: errorUtil.toString(message)\n    });\n  }\n  finite(message) {\n    return this._addCheck({\n      kind: \"finite\",\n      message: errorUtil.toString(message)\n    });\n  }\n  safe(message) {\n    return this._addCheck({\n      kind: \"min\",\n      inclusive: true,\n      value: Number.MIN_SAFE_INTEGER,\n      message: errorUtil.toString(message)\n    })._addCheck({\n      kind: \"max\",\n      inclusive: true,\n      value: Number.MAX_SAFE_INTEGER,\n      message: errorUtil.toString(message)\n    });\n  }\n  get minValue() {\n    let min2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"min\") {\n        if (min2 === null || ch.value > min2)\n          min2 = ch.value;\n      }\n    }\n    return min2;\n  }\n  get maxValue() {\n    let max2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"max\") {\n        if (max2 === null || ch.value < max2)\n          max2 = ch.value;\n      }\n    }\n    return max2;\n  }\n  get isInt() {\n    return !!this._def.checks.find((ch) => ch.kind === \"int\" || ch.kind === \"multipleOf\" && util.isInteger(ch.value));\n  }\n  get isFinite() {\n    let max2 = null, min2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"finite\" || ch.kind === \"int\" || ch.kind === \"multipleOf\") {\n        return true;\n      } else if (ch.kind === \"min\") {\n        if (min2 === null || ch.value > min2)\n          min2 = ch.value;\n      } else if (ch.kind === \"max\") {\n        if (max2 === null || ch.value < max2)\n          max2 = ch.value;\n      }\n    }\n    return Number.isFinite(min2) && Number.isFinite(max2);\n  }\n}\nZodNumber.create = (params) => {\n  return new ZodNumber({\n    checks: [],\n    typeName: ZodFirstPartyTypeKind.ZodNumber,\n    coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n    ...processCreateParams(params)\n  });\n};\nclass ZodBigInt extends ZodType {\n  constructor() {\n    super(...arguments);\n    this.min = this.gte;\n    this.max = this.lte;\n  }\n  _parse(input) {\n    if (this._def.coerce) {\n      try {\n        input.data = BigInt(input.data);\n      } catch (_a) {\n        return this._getInvalidInput(input);\n      }\n    }\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.bigint) {\n      return this._getInvalidInput(input);\n    }\n    let ctx = void 0;\n    const status = new ParseStatus();\n    for (const check of this._def.checks) {\n      if (check.kind === \"min\") {\n        const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n        if (tooSmall) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_small,\n            type: \"bigint\",\n            minimum: check.value,\n            inclusive: check.inclusive,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"max\") {\n        const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n        if (tooBig) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_big,\n            type: \"bigint\",\n            maximum: check.value,\n            inclusive: check.inclusive,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"multipleOf\") {\n        if (input.data % check.value !== BigInt(0)) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.not_multiple_of,\n            multipleOf: check.value,\n            message: check.message\n          });\n          status.dirty();\n        }\n      } else {\n        util.assertNever(check);\n      }\n    }\n    return { status: status.value, value: input.data };\n  }\n  _getInvalidInput(input) {\n    const ctx = this._getOrReturnCtx(input);\n    addIssueToContext(ctx, {\n      code: ZodIssueCode.invalid_type,\n      expected: ZodParsedType.bigint,\n      received: ctx.parsedType\n    });\n    return INVALID;\n  }\n  gte(value, message) {\n    return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n  }\n  gt(value, message) {\n    return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n  }\n  lte(value, message) {\n    return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n  }\n  lt(value, message) {\n    return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n  }\n  setLimit(kind, value, inclusive, message) {\n    return new ZodBigInt({\n      ...this._def,\n      checks: [\n        ...this._def.checks,\n        {\n          kind,\n          value,\n          inclusive,\n          message: errorUtil.toString(message)\n        }\n      ]\n    });\n  }\n  _addCheck(check) {\n    return new ZodBigInt({\n      ...this._def,\n      checks: [...this._def.checks, check]\n    });\n  }\n  positive(message) {\n    return this._addCheck({\n      kind: \"min\",\n      value: BigInt(0),\n      inclusive: false,\n      message: errorUtil.toString(message)\n    });\n  }\n  negative(message) {\n    return this._addCheck({\n      kind: \"max\",\n      value: BigInt(0),\n      inclusive: false,\n      message: errorUtil.toString(message)\n    });\n  }\n  nonpositive(message) {\n    return this._addCheck({\n      kind: \"max\",\n      value: BigInt(0),\n      inclusive: true,\n      message: errorUtil.toString(message)\n    });\n  }\n  nonnegative(message) {\n    return this._addCheck({\n      kind: \"min\",\n      value: BigInt(0),\n      inclusive: true,\n      message: errorUtil.toString(message)\n    });\n  }\n  multipleOf(value, message) {\n    return this._addCheck({\n      kind: \"multipleOf\",\n      value,\n      message: errorUtil.toString(message)\n    });\n  }\n  get minValue() {\n    let min2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"min\") {\n        if (min2 === null || ch.value > min2)\n          min2 = ch.value;\n      }\n    }\n    return min2;\n  }\n  get maxValue() {\n    let max2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"max\") {\n        if (max2 === null || ch.value < max2)\n          max2 = ch.value;\n      }\n    }\n    return max2;\n  }\n}\nZodBigInt.create = (params) => {\n  var _a;\n  return new ZodBigInt({\n    checks: [],\n    typeName: ZodFirstPartyTypeKind.ZodBigInt,\n    coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n    ...processCreateParams(params)\n  });\n};\nclass ZodBoolean extends ZodType {\n  _parse(input) {\n    if (this._def.coerce) {\n      input.data = Boolean(input.data);\n    }\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.boolean) {\n      const ctx = this._getOrReturnCtx(input);\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.boolean,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    return OK(input.data);\n  }\n}\nZodBoolean.create = (params) => {\n  return new ZodBoolean({\n    typeName: ZodFirstPartyTypeKind.ZodBoolean,\n    coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n    ...processCreateParams(params)\n  });\n};\nclass ZodDate extends ZodType {\n  _parse(input) {\n    if (this._def.coerce) {\n      input.data = new Date(input.data);\n    }\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.date) {\n      const ctx2 = this._getOrReturnCtx(input);\n      addIssueToContext(ctx2, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.date,\n        received: ctx2.parsedType\n      });\n      return INVALID;\n    }\n    if (isNaN(input.data.getTime())) {\n      const ctx2 = this._getOrReturnCtx(input);\n      addIssueToContext(ctx2, {\n        code: ZodIssueCode.invalid_date\n      });\n      return INVALID;\n    }\n    const status = new ParseStatus();\n    let ctx = void 0;\n    for (const check of this._def.checks) {\n      if (check.kind === \"min\") {\n        if (input.data.getTime() < check.value) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_small,\n            message: check.message,\n            inclusive: true,\n            exact: false,\n            minimum: check.value,\n            type: \"date\"\n          });\n          status.dirty();\n        }\n      } else if (check.kind === \"max\") {\n        if (input.data.getTime() > check.value) {\n          ctx = this._getOrReturnCtx(input, ctx);\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_big,\n            message: check.message,\n            inclusive: true,\n            exact: false,\n            maximum: check.value,\n            type: \"date\"\n          });\n          status.dirty();\n        }\n      } else {\n        util.assertNever(check);\n      }\n    }\n    return {\n      status: status.value,\n      value: new Date(input.data.getTime())\n    };\n  }\n  _addCheck(check) {\n    return new ZodDate({\n      ...this._def,\n      checks: [...this._def.checks, check]\n    });\n  }\n  min(minDate, message) {\n    return this._addCheck({\n      kind: \"min\",\n      value: minDate.getTime(),\n      message: errorUtil.toString(message)\n    });\n  }\n  max(maxDate, message) {\n    return this._addCheck({\n      kind: \"max\",\n      value: maxDate.getTime(),\n      message: errorUtil.toString(message)\n    });\n  }\n  get minDate() {\n    let min2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"min\") {\n        if (min2 === null || ch.value > min2)\n          min2 = ch.value;\n      }\n    }\n    return min2 != null ? new Date(min2) : null;\n  }\n  get maxDate() {\n    let max2 = null;\n    for (const ch of this._def.checks) {\n      if (ch.kind === \"max\") {\n        if (max2 === null || ch.value < max2)\n          max2 = ch.value;\n      }\n    }\n    return max2 != null ? new Date(max2) : null;\n  }\n}\nZodDate.create = (params) => {\n  return new ZodDate({\n    checks: [],\n    coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n    typeName: ZodFirstPartyTypeKind.ZodDate,\n    ...processCreateParams(params)\n  });\n};\nclass ZodSymbol extends ZodType {\n  _parse(input) {\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.symbol) {\n      const ctx = this._getOrReturnCtx(input);\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.symbol,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    return OK(input.data);\n  }\n}\nZodSymbol.create = (params) => {\n  return new ZodSymbol({\n    typeName: ZodFirstPartyTypeKind.ZodSymbol,\n    ...processCreateParams(params)\n  });\n};\nclass ZodUndefined extends ZodType {\n  _parse(input) {\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.undefined) {\n      const ctx = this._getOrReturnCtx(input);\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.undefined,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    return OK(input.data);\n  }\n}\nZodUndefined.create = (params) => {\n  return new ZodUndefined({\n    typeName: ZodFirstPartyTypeKind.ZodUndefined,\n    ...processCreateParams(params)\n  });\n};\nclass ZodNull extends ZodType {\n  _parse(input) {\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.null) {\n      const ctx = this._getOrReturnCtx(input);\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.null,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    return OK(input.data);\n  }\n}\nZodNull.create = (params) => {\n  return new ZodNull({\n    typeName: ZodFirstPartyTypeKind.ZodNull,\n    ...processCreateParams(params)\n  });\n};\nclass ZodAny extends ZodType {\n  constructor() {\n    super(...arguments);\n    this._any = true;\n  }\n  _parse(input) {\n    return OK(input.data);\n  }\n}\nZodAny.create = (params) => {\n  return new ZodAny({\n    typeName: ZodFirstPartyTypeKind.ZodAny,\n    ...processCreateParams(params)\n  });\n};\nclass ZodUnknown extends ZodType {\n  constructor() {\n    super(...arguments);\n    this._unknown = true;\n  }\n  _parse(input) {\n    return OK(input.data);\n  }\n}\nZodUnknown.create = (params) => {\n  return new ZodUnknown({\n    typeName: ZodFirstPartyTypeKind.ZodUnknown,\n    ...processCreateParams(params)\n  });\n};\nclass ZodNever extends ZodType {\n  _parse(input) {\n    const ctx = this._getOrReturnCtx(input);\n    addIssueToContext(ctx, {\n      code: ZodIssueCode.invalid_type,\n      expected: ZodParsedType.never,\n      received: ctx.parsedType\n    });\n    return INVALID;\n  }\n}\nZodNever.create = (params) => {\n  return new ZodNever({\n    typeName: ZodFirstPartyTypeKind.ZodNever,\n    ...processCreateParams(params)\n  });\n};\nclass ZodVoid extends ZodType {\n  _parse(input) {\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.undefined) {\n      const ctx = this._getOrReturnCtx(input);\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.void,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    return OK(input.data);\n  }\n}\nZodVoid.create = (params) => {\n  return new ZodVoid({\n    typeName: ZodFirstPartyTypeKind.ZodVoid,\n    ...processCreateParams(params)\n  });\n};\nclass ZodArray extends ZodType {\n  _parse(input) {\n    const { ctx, status } = this._processInputParams(input);\n    const def = this._def;\n    if (ctx.parsedType !== ZodParsedType.array) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.array,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    if (def.exactLength !== null) {\n      const tooBig = ctx.data.length > def.exactLength.value;\n      const tooSmall = ctx.data.length < def.exactLength.value;\n      if (tooBig || tooSmall) {\n        addIssueToContext(ctx, {\n          code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n          minimum: tooSmall ? def.exactLength.value : void 0,\n          maximum: tooBig ? def.exactLength.value : void 0,\n          type: \"array\",\n          inclusive: true,\n          exact: true,\n          message: def.exactLength.message\n        });\n        status.dirty();\n      }\n    }\n    if (def.minLength !== null) {\n      if (ctx.data.length < def.minLength.value) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.too_small,\n          minimum: def.minLength.value,\n          type: \"array\",\n          inclusive: true,\n          exact: false,\n          message: def.minLength.message\n        });\n        status.dirty();\n      }\n    }\n    if (def.maxLength !== null) {\n      if (ctx.data.length > def.maxLength.value) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.too_big,\n          maximum: def.maxLength.value,\n          type: \"array\",\n          inclusive: true,\n          exact: false,\n          message: def.maxLength.message\n        });\n        status.dirty();\n      }\n    }\n    if (ctx.common.async) {\n      return Promise.all([...ctx.data].map((item, i2) => {\n        return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i2));\n      })).then((result2) => {\n        return ParseStatus.mergeArray(status, result2);\n      });\n    }\n    const result = [...ctx.data].map((item, i2) => {\n      return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i2));\n    });\n    return ParseStatus.mergeArray(status, result);\n  }\n  get element() {\n    return this._def.type;\n  }\n  min(minLength, message) {\n    return new ZodArray({\n      ...this._def,\n      minLength: { value: minLength, message: errorUtil.toString(message) }\n    });\n  }\n  max(maxLength, message) {\n    return new ZodArray({\n      ...this._def,\n      maxLength: { value: maxLength, message: errorUtil.toString(message) }\n    });\n  }\n  length(len, message) {\n    return new ZodArray({\n      ...this._def,\n      exactLength: { value: len, message: errorUtil.toString(message) }\n    });\n  }\n  nonempty(message) {\n    return this.min(1, message);\n  }\n}\nZodArray.create = (schema, params) => {\n  return new ZodArray({\n    type: schema,\n    minLength: null,\n    maxLength: null,\n    exactLength: null,\n    typeName: ZodFirstPartyTypeKind.ZodArray,\n    ...processCreateParams(params)\n  });\n};\nfunction deepPartialify(schema) {\n  if (schema instanceof ZodObject) {\n    const newShape = {};\n    for (const key in schema.shape) {\n      const fieldSchema = schema.shape[key];\n      newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n    }\n    return new ZodObject({\n      ...schema._def,\n      shape: () => newShape\n    });\n  } else if (schema instanceof ZodArray) {\n    return new ZodArray({\n      ...schema._def,\n      type: deepPartialify(schema.element)\n    });\n  } else if (schema instanceof ZodOptional) {\n    return ZodOptional.create(deepPartialify(schema.unwrap()));\n  } else if (schema instanceof ZodNullable) {\n    return ZodNullable.create(deepPartialify(schema.unwrap()));\n  } else if (schema instanceof ZodTuple) {\n    return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n  } else {\n    return schema;\n  }\n}\nclass ZodObject extends ZodType {\n  constructor() {\n    super(...arguments);\n    this._cached = null;\n    this.nonstrict = this.passthrough;\n    this.augment = this.extend;\n  }\n  _getCached() {\n    if (this._cached !== null)\n      return this._cached;\n    const shape = this._def.shape();\n    const keys = util.objectKeys(shape);\n    return this._cached = { shape, keys };\n  }\n  _parse(input) {\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.object) {\n      const ctx2 = this._getOrReturnCtx(input);\n      addIssueToContext(ctx2, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.object,\n        received: ctx2.parsedType\n      });\n      return INVALID;\n    }\n    const { status, ctx } = this._processInputParams(input);\n    const { shape, keys: shapeKeys } = this._getCached();\n    const extraKeys = [];\n    if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === \"strip\")) {\n      for (const key in ctx.data) {\n        if (!shapeKeys.includes(key)) {\n          extraKeys.push(key);\n        }\n      }\n    }\n    const pairs = [];\n    for (const key of shapeKeys) {\n      const keyValidator = shape[key];\n      const value = ctx.data[key];\n      pairs.push({\n        key: { status: \"valid\", value: key },\n        value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n        alwaysSet: key in ctx.data\n      });\n    }\n    if (this._def.catchall instanceof ZodNever) {\n      const unknownKeys = this._def.unknownKeys;\n      if (unknownKeys === \"passthrough\") {\n        for (const key of extraKeys) {\n          pairs.push({\n            key: { status: \"valid\", value: key },\n            value: { status: \"valid\", value: ctx.data[key] }\n          });\n        }\n      } else if (unknownKeys === \"strict\") {\n        if (extraKeys.length > 0) {\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.unrecognized_keys,\n            keys: extraKeys\n          });\n          status.dirty();\n        }\n      } else if (unknownKeys === \"strip\") ;\n      else {\n        throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n      }\n    } else {\n      const catchall = this._def.catchall;\n      for (const key of extraKeys) {\n        const value = ctx.data[key];\n        pairs.push({\n          key: { status: \"valid\", value: key },\n          value: catchall._parse(\n            new ParseInputLazyPath(ctx, value, ctx.path, key)\n            //, ctx.child(key), value, getParsedType(value)\n          ),\n          alwaysSet: key in ctx.data\n        });\n      }\n    }\n    if (ctx.common.async) {\n      return Promise.resolve().then(async () => {\n        const syncPairs = [];\n        for (const pair of pairs) {\n          const key = await pair.key;\n          const value = await pair.value;\n          syncPairs.push({\n            key,\n            value,\n            alwaysSet: pair.alwaysSet\n          });\n        }\n        return syncPairs;\n      }).then((syncPairs) => {\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n      });\n    } else {\n      return ParseStatus.mergeObjectSync(status, pairs);\n    }\n  }\n  get shape() {\n    return this._def.shape();\n  }\n  strict(message) {\n    errorUtil.errToObj;\n    return new ZodObject({\n      ...this._def,\n      unknownKeys: \"strict\",\n      ...message !== void 0 ? {\n        errorMap: (issue, ctx) => {\n          var _a, _b, _c, _d;\n          const defaultError = (_c = (_b = (_a = this._def).errorMap) === null || _b === void 0 ? void 0 : _b.call(_a, issue, ctx).message) !== null && _c !== void 0 ? _c : ctx.defaultError;\n          if (issue.code === \"unrecognized_keys\")\n            return {\n              message: (_d = errorUtil.errToObj(message).message) !== null && _d !== void 0 ? _d : defaultError\n            };\n          return {\n            message: defaultError\n          };\n        }\n      } : {}\n    });\n  }\n  strip() {\n    return new ZodObject({\n      ...this._def,\n      unknownKeys: \"strip\"\n    });\n  }\n  passthrough() {\n    return new ZodObject({\n      ...this._def,\n      unknownKeys: \"passthrough\"\n    });\n  }\n  // const AugmentFactory =\n  //   <Def extends ZodObjectDef>(def: Def) =>\n  //   <Augmentation extends ZodRawShape>(\n  //     augmentation: Augmentation\n  //   ): ZodObject<\n  //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n  //     Def[\"unknownKeys\"],\n  //     Def[\"catchall\"]\n  //   > => {\n  //     return new ZodObject({\n  //       ...def,\n  //       shape: () => ({\n  //         ...def.shape(),\n  //         ...augmentation,\n  //       }),\n  //     }) as any;\n  //   };\n  extend(augmentation) {\n    return new ZodObject({\n      ...this._def,\n      shape: () => ({\n        ...this._def.shape(),\n        ...augmentation\n      })\n    });\n  }\n  /**\n   * Prior to zod@1.0.12 there was a bug in the\n   * inferred type of merged objects. Please\n   * upgrade if you are experiencing issues.\n   */\n  merge(merging) {\n    const merged = new ZodObject({\n      unknownKeys: merging._def.unknownKeys,\n      catchall: merging._def.catchall,\n      shape: () => ({\n        ...this._def.shape(),\n        ...merging._def.shape()\n      }),\n      typeName: ZodFirstPartyTypeKind.ZodObject\n    });\n    return merged;\n  }\n  // merge<\n  //   Incoming extends AnyZodObject,\n  //   Augmentation extends Incoming[\"shape\"],\n  //   NewOutput extends {\n  //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n  //       ? Augmentation[k][\"_output\"]\n  //       : k extends keyof Output\n  //       ? Output[k]\n  //       : never;\n  //   },\n  //   NewInput extends {\n  //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n  //       ? Augmentation[k][\"_input\"]\n  //       : k extends keyof Input\n  //       ? Input[k]\n  //       : never;\n  //   }\n  // >(\n  //   merging: Incoming\n  // ): ZodObject<\n  //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n  //   Incoming[\"_def\"][\"unknownKeys\"],\n  //   Incoming[\"_def\"][\"catchall\"],\n  //   NewOutput,\n  //   NewInput\n  // > {\n  //   const merged: any = new ZodObject({\n  //     unknownKeys: merging._def.unknownKeys,\n  //     catchall: merging._def.catchall,\n  //     shape: () =>\n  //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n  //     typeName: ZodFirstPartyTypeKind.ZodObject,\n  //   }) as any;\n  //   return merged;\n  // }\n  setKey(key, schema) {\n    return this.augment({ [key]: schema });\n  }\n  // merge<Incoming extends AnyZodObject>(\n  //   merging: Incoming\n  // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n  // ZodObject<\n  //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n  //   Incoming[\"_def\"][\"unknownKeys\"],\n  //   Incoming[\"_def\"][\"catchall\"]\n  // > {\n  //   // const mergedShape = objectUtil.mergeShapes(\n  //   //   this._def.shape(),\n  //   //   merging._def.shape()\n  //   // );\n  //   const merged: any = new ZodObject({\n  //     unknownKeys: merging._def.unknownKeys,\n  //     catchall: merging._def.catchall,\n  //     shape: () =>\n  //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n  //     typeName: ZodFirstPartyTypeKind.ZodObject,\n  //   }) as any;\n  //   return merged;\n  // }\n  catchall(index2) {\n    return new ZodObject({\n      ...this._def,\n      catchall: index2\n    });\n  }\n  pick(mask) {\n    const shape = {};\n    util.objectKeys(mask).forEach((key) => {\n      if (mask[key] && this.shape[key]) {\n        shape[key] = this.shape[key];\n      }\n    });\n    return new ZodObject({\n      ...this._def,\n      shape: () => shape\n    });\n  }\n  omit(mask) {\n    const shape = {};\n    util.objectKeys(this.shape).forEach((key) => {\n      if (!mask[key]) {\n        shape[key] = this.shape[key];\n      }\n    });\n    return new ZodObject({\n      ...this._def,\n      shape: () => shape\n    });\n  }\n  /**\n   * @deprecated\n   */\n  deepPartial() {\n    return deepPartialify(this);\n  }\n  partial(mask) {\n    const newShape = {};\n    util.objectKeys(this.shape).forEach((key) => {\n      const fieldSchema = this.shape[key];\n      if (mask && !mask[key]) {\n        newShape[key] = fieldSchema;\n      } else {\n        newShape[key] = fieldSchema.optional();\n      }\n    });\n    return new ZodObject({\n      ...this._def,\n      shape: () => newShape\n    });\n  }\n  required(mask) {\n    const newShape = {};\n    util.objectKeys(this.shape).forEach((key) => {\n      if (mask && !mask[key]) {\n        newShape[key] = this.shape[key];\n      } else {\n        const fieldSchema = this.shape[key];\n        let newField = fieldSchema;\n        while (newField instanceof ZodOptional) {\n          newField = newField._def.innerType;\n        }\n        newShape[key] = newField;\n      }\n    });\n    return new ZodObject({\n      ...this._def,\n      shape: () => newShape\n    });\n  }\n  keyof() {\n    return createZodEnum(util.objectKeys(this.shape));\n  }\n}\nZodObject.create = (shape, params) => {\n  return new ZodObject({\n    shape: () => shape,\n    unknownKeys: \"strip\",\n    catchall: ZodNever.create(),\n    typeName: ZodFirstPartyTypeKind.ZodObject,\n    ...processCreateParams(params)\n  });\n};\nZodObject.strictCreate = (shape, params) => {\n  return new ZodObject({\n    shape: () => shape,\n    unknownKeys: \"strict\",\n    catchall: ZodNever.create(),\n    typeName: ZodFirstPartyTypeKind.ZodObject,\n    ...processCreateParams(params)\n  });\n};\nZodObject.lazycreate = (shape, params) => {\n  return new ZodObject({\n    shape,\n    unknownKeys: \"strip\",\n    catchall: ZodNever.create(),\n    typeName: ZodFirstPartyTypeKind.ZodObject,\n    ...processCreateParams(params)\n  });\n};\nclass ZodUnion extends ZodType {\n  _parse(input) {\n    const { ctx } = this._processInputParams(input);\n    const options = this._def.options;\n    function handleResults(results) {\n      for (const result of results) {\n        if (result.result.status === \"valid\") {\n          return result.result;\n        }\n      }\n      for (const result of results) {\n        if (result.result.status === \"dirty\") {\n          ctx.common.issues.push(...result.ctx.common.issues);\n          return result.result;\n        }\n      }\n      const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_union,\n        unionErrors\n      });\n      return INVALID;\n    }\n    if (ctx.common.async) {\n      return Promise.all(options.map(async (option) => {\n        const childCtx = {\n          ...ctx,\n          common: {\n            ...ctx.common,\n            issues: []\n          },\n          parent: null\n        };\n        return {\n          result: await option._parseAsync({\n            data: ctx.data,\n            path: ctx.path,\n            parent: childCtx\n          }),\n          ctx: childCtx\n        };\n      })).then(handleResults);\n    } else {\n      let dirty = void 0;\n      const issues = [];\n      for (const option of options) {\n        const childCtx = {\n          ...ctx,\n          common: {\n            ...ctx.common,\n            issues: []\n          },\n          parent: null\n        };\n        const result = option._parseSync({\n          data: ctx.data,\n          path: ctx.path,\n          parent: childCtx\n        });\n        if (result.status === \"valid\") {\n          return result;\n        } else if (result.status === \"dirty\" && !dirty) {\n          dirty = { result, ctx: childCtx };\n        }\n        if (childCtx.common.issues.length) {\n          issues.push(childCtx.common.issues);\n        }\n      }\n      if (dirty) {\n        ctx.common.issues.push(...dirty.ctx.common.issues);\n        return dirty.result;\n      }\n      const unionErrors = issues.map((issues2) => new ZodError(issues2));\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_union,\n        unionErrors\n      });\n      return INVALID;\n    }\n  }\n  get options() {\n    return this._def.options;\n  }\n}\nZodUnion.create = (types, params) => {\n  return new ZodUnion({\n    options: types,\n    typeName: ZodFirstPartyTypeKind.ZodUnion,\n    ...processCreateParams(params)\n  });\n};\nconst getDiscriminator = (type) => {\n  if (type instanceof ZodLazy) {\n    return getDiscriminator(type.schema);\n  } else if (type instanceof ZodEffects) {\n    return getDiscriminator(type.innerType());\n  } else if (type instanceof ZodLiteral) {\n    return [type.value];\n  } else if (type instanceof ZodEnum) {\n    return type.options;\n  } else if (type instanceof ZodNativeEnum) {\n    return util.objectValues(type.enum);\n  } else if (type instanceof ZodDefault) {\n    return getDiscriminator(type._def.innerType);\n  } else if (type instanceof ZodUndefined) {\n    return [void 0];\n  } else if (type instanceof ZodNull) {\n    return [null];\n  } else if (type instanceof ZodOptional) {\n    return [void 0, ...getDiscriminator(type.unwrap())];\n  } else if (type instanceof ZodNullable) {\n    return [null, ...getDiscriminator(type.unwrap())];\n  } else if (type instanceof ZodBranded) {\n    return getDiscriminator(type.unwrap());\n  } else if (type instanceof ZodReadonly) {\n    return getDiscriminator(type.unwrap());\n  } else if (type instanceof ZodCatch) {\n    return getDiscriminator(type._def.innerType);\n  } else {\n    return [];\n  }\n};\nclass ZodDiscriminatedUnion extends ZodType {\n  _parse(input) {\n    const { ctx } = this._processInputParams(input);\n    if (ctx.parsedType !== ZodParsedType.object) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.object,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    const discriminator = this.discriminator;\n    const discriminatorValue = ctx.data[discriminator];\n    const option = this.optionsMap.get(discriminatorValue);\n    if (!option) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_union_discriminator,\n        options: Array.from(this.optionsMap.keys()),\n        path: [discriminator]\n      });\n      return INVALID;\n    }\n    if (ctx.common.async) {\n      return option._parseAsync({\n        data: ctx.data,\n        path: ctx.path,\n        parent: ctx\n      });\n    } else {\n      return option._parseSync({\n        data: ctx.data,\n        path: ctx.path,\n        parent: ctx\n      });\n    }\n  }\n  get discriminator() {\n    return this._def.discriminator;\n  }\n  get options() {\n    return this._def.options;\n  }\n  get optionsMap() {\n    return this._def.optionsMap;\n  }\n  /**\n   * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n   * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n   * have a different value for each object in the union.\n   * @param discriminator the name of the discriminator property\n   * @param types an array of object schemas\n   * @param params\n   */\n  static create(discriminator, options, params) {\n    const optionsMap = /* @__PURE__ */ new Map();\n    for (const type of options) {\n      const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n      if (!discriminatorValues.length) {\n        throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n      }\n      for (const value of discriminatorValues) {\n        if (optionsMap.has(value)) {\n          throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n        }\n        optionsMap.set(value, type);\n      }\n    }\n    return new ZodDiscriminatedUnion({\n      typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n      discriminator,\n      options,\n      optionsMap,\n      ...processCreateParams(params)\n    });\n  }\n}\nfunction mergeValues(a3, b2) {\n  const aType = getParsedType(a3);\n  const bType = getParsedType(b2);\n  if (a3 === b2) {\n    return { valid: true, data: a3 };\n  } else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n    const bKeys = util.objectKeys(b2);\n    const sharedKeys = util.objectKeys(a3).filter((key) => bKeys.indexOf(key) !== -1);\n    const newObj = { ...a3, ...b2 };\n    for (const key of sharedKeys) {\n      const sharedValue = mergeValues(a3[key], b2[key]);\n      if (!sharedValue.valid) {\n        return { valid: false };\n      }\n      newObj[key] = sharedValue.data;\n    }\n    return { valid: true, data: newObj };\n  } else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n    if (a3.length !== b2.length) {\n      return { valid: false };\n    }\n    const newArray = [];\n    for (let index2 = 0; index2 < a3.length; index2++) {\n      const itemA = a3[index2];\n      const itemB = b2[index2];\n      const sharedValue = mergeValues(itemA, itemB);\n      if (!sharedValue.valid) {\n        return { valid: false };\n      }\n      newArray.push(sharedValue.data);\n    }\n    return { valid: true, data: newArray };\n  } else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a3 === +b2) {\n    return { valid: true, data: a3 };\n  } else {\n    return { valid: false };\n  }\n}\nclass ZodIntersection extends ZodType {\n  _parse(input) {\n    const { status, ctx } = this._processInputParams(input);\n    const handleParsed = (parsedLeft, parsedRight) => {\n      if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n        return INVALID;\n      }\n      const merged = mergeValues(parsedLeft.value, parsedRight.value);\n      if (!merged.valid) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_intersection_types\n        });\n        return INVALID;\n      }\n      if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n        status.dirty();\n      }\n      return { status: status.value, value: merged.data };\n    };\n    if (ctx.common.async) {\n      return Promise.all([\n        this._def.left._parseAsync({\n          data: ctx.data,\n          path: ctx.path,\n          parent: ctx\n        }),\n        this._def.right._parseAsync({\n          data: ctx.data,\n          path: ctx.path,\n          parent: ctx\n        })\n      ]).then(([left, right]) => handleParsed(left, right));\n    } else {\n      return handleParsed(this._def.left._parseSync({\n        data: ctx.data,\n        path: ctx.path,\n        parent: ctx\n      }), this._def.right._parseSync({\n        data: ctx.data,\n        path: ctx.path,\n        parent: ctx\n      }));\n    }\n  }\n}\nZodIntersection.create = (left, right, params) => {\n  return new ZodIntersection({\n    left,\n    right,\n    typeName: ZodFirstPartyTypeKind.ZodIntersection,\n    ...processCreateParams(params)\n  });\n};\nclass ZodTuple extends ZodType {\n  _parse(input) {\n    const { status, ctx } = this._processInputParams(input);\n    if (ctx.parsedType !== ZodParsedType.array) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.array,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    if (ctx.data.length < this._def.items.length) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.too_small,\n        minimum: this._def.items.length,\n        inclusive: true,\n        exact: false,\n        type: \"array\"\n      });\n      return INVALID;\n    }\n    const rest = this._def.rest;\n    if (!rest && ctx.data.length > this._def.items.length) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.too_big,\n        maximum: this._def.items.length,\n        inclusive: true,\n        exact: false,\n        type: \"array\"\n      });\n      status.dirty();\n    }\n    const items = [...ctx.data].map((item, itemIndex) => {\n      const schema = this._def.items[itemIndex] || this._def.rest;\n      if (!schema)\n        return null;\n      return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n    }).filter((x2) => !!x2);\n    if (ctx.common.async) {\n      return Promise.all(items).then((results) => {\n        return ParseStatus.mergeArray(status, results);\n      });\n    } else {\n      return ParseStatus.mergeArray(status, items);\n    }\n  }\n  get items() {\n    return this._def.items;\n  }\n  rest(rest) {\n    return new ZodTuple({\n      ...this._def,\n      rest\n    });\n  }\n}\nZodTuple.create = (schemas, params) => {\n  if (!Array.isArray(schemas)) {\n    throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n  }\n  return new ZodTuple({\n    items: schemas,\n    typeName: ZodFirstPartyTypeKind.ZodTuple,\n    rest: null,\n    ...processCreateParams(params)\n  });\n};\nclass ZodRecord extends ZodType {\n  get keySchema() {\n    return this._def.keyType;\n  }\n  get valueSchema() {\n    return this._def.valueType;\n  }\n  _parse(input) {\n    const { status, ctx } = this._processInputParams(input);\n    if (ctx.parsedType !== ZodParsedType.object) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.object,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    const pairs = [];\n    const keyType = this._def.keyType;\n    const valueType = this._def.valueType;\n    for (const key in ctx.data) {\n      pairs.push({\n        key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n        value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n        alwaysSet: key in ctx.data\n      });\n    }\n    if (ctx.common.async) {\n      return ParseStatus.mergeObjectAsync(status, pairs);\n    } else {\n      return ParseStatus.mergeObjectSync(status, pairs);\n    }\n  }\n  get element() {\n    return this._def.valueType;\n  }\n  static create(first, second, third) {\n    if (second instanceof ZodType) {\n      return new ZodRecord({\n        keyType: first,\n        valueType: second,\n        typeName: ZodFirstPartyTypeKind.ZodRecord,\n        ...processCreateParams(third)\n      });\n    }\n    return new ZodRecord({\n      keyType: ZodString.create(),\n      valueType: first,\n      typeName: ZodFirstPartyTypeKind.ZodRecord,\n      ...processCreateParams(second)\n    });\n  }\n}\nclass ZodMap extends ZodType {\n  get keySchema() {\n    return this._def.keyType;\n  }\n  get valueSchema() {\n    return this._def.valueType;\n  }\n  _parse(input) {\n    const { status, ctx } = this._processInputParams(input);\n    if (ctx.parsedType !== ZodParsedType.map) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.map,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    const keyType = this._def.keyType;\n    const valueType = this._def.valueType;\n    const pairs = [...ctx.data.entries()].map(([key, value], index2) => {\n      return {\n        key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index2, \"key\"])),\n        value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index2, \"value\"]))\n      };\n    });\n    if (ctx.common.async) {\n      const finalMap = /* @__PURE__ */ new Map();\n      return Promise.resolve().then(async () => {\n        for (const pair of pairs) {\n          const key = await pair.key;\n          const value = await pair.value;\n          if (key.status === \"aborted\" || value.status === \"aborted\") {\n            return INVALID;\n          }\n          if (key.status === \"dirty\" || value.status === \"dirty\") {\n            status.dirty();\n          }\n          finalMap.set(key.value, value.value);\n        }\n        return { status: status.value, value: finalMap };\n      });\n    } else {\n      const finalMap = /* @__PURE__ */ new Map();\n      for (const pair of pairs) {\n        const key = pair.key;\n        const value = pair.value;\n        if (key.status === \"aborted\" || value.status === \"aborted\") {\n          return INVALID;\n        }\n        if (key.status === \"dirty\" || value.status === \"dirty\") {\n          status.dirty();\n        }\n        finalMap.set(key.value, value.value);\n      }\n      return { status: status.value, value: finalMap };\n    }\n  }\n}\nZodMap.create = (keyType, valueType, params) => {\n  return new ZodMap({\n    valueType,\n    keyType,\n    typeName: ZodFirstPartyTypeKind.ZodMap,\n    ...processCreateParams(params)\n  });\n};\nclass ZodSet extends ZodType {\n  _parse(input) {\n    const { status, ctx } = this._processInputParams(input);\n    if (ctx.parsedType !== ZodParsedType.set) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.set,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    const def = this._def;\n    if (def.minSize !== null) {\n      if (ctx.data.size < def.minSize.value) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.too_small,\n          minimum: def.minSize.value,\n          type: \"set\",\n          inclusive: true,\n          exact: false,\n          message: def.minSize.message\n        });\n        status.dirty();\n      }\n    }\n    if (def.maxSize !== null) {\n      if (ctx.data.size > def.maxSize.value) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.too_big,\n          maximum: def.maxSize.value,\n          type: \"set\",\n          inclusive: true,\n          exact: false,\n          message: def.maxSize.message\n        });\n        status.dirty();\n      }\n    }\n    const valueType = this._def.valueType;\n    function finalizeSet(elements2) {\n      const parsedSet = /* @__PURE__ */ new Set();\n      for (const element of elements2) {\n        if (element.status === \"aborted\")\n          return INVALID;\n        if (element.status === \"dirty\")\n          status.dirty();\n        parsedSet.add(element.value);\n      }\n      return { status: status.value, value: parsedSet };\n    }\n    const elements = [...ctx.data.values()].map((item, i2) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i2)));\n    if (ctx.common.async) {\n      return Promise.all(elements).then((elements2) => finalizeSet(elements2));\n    } else {\n      return finalizeSet(elements);\n    }\n  }\n  min(minSize, message) {\n    return new ZodSet({\n      ...this._def,\n      minSize: { value: minSize, message: errorUtil.toString(message) }\n    });\n  }\n  max(maxSize, message) {\n    return new ZodSet({\n      ...this._def,\n      maxSize: { value: maxSize, message: errorUtil.toString(message) }\n    });\n  }\n  size(size2, message) {\n    return this.min(size2, message).max(size2, message);\n  }\n  nonempty(message) {\n    return this.min(1, message);\n  }\n}\nZodSet.create = (valueType, params) => {\n  return new ZodSet({\n    valueType,\n    minSize: null,\n    maxSize: null,\n    typeName: ZodFirstPartyTypeKind.ZodSet,\n    ...processCreateParams(params)\n  });\n};\nclass ZodFunction extends ZodType {\n  constructor() {\n    super(...arguments);\n    this.validate = this.implement;\n  }\n  _parse(input) {\n    const { ctx } = this._processInputParams(input);\n    if (ctx.parsedType !== ZodParsedType.function) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.function,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    function makeArgsIssue(args, error2) {\n      return makeIssue({\n        data: args,\n        path: ctx.path,\n        errorMaps: [\n          ctx.common.contextualErrorMap,\n          ctx.schemaErrorMap,\n          getErrorMap(),\n          errorMap\n        ].filter((x2) => !!x2),\n        issueData: {\n          code: ZodIssueCode.invalid_arguments,\n          argumentsError: error2\n        }\n      });\n    }\n    function makeReturnsIssue(returns, error2) {\n      return makeIssue({\n        data: returns,\n        path: ctx.path,\n        errorMaps: [\n          ctx.common.contextualErrorMap,\n          ctx.schemaErrorMap,\n          getErrorMap(),\n          errorMap\n        ].filter((x2) => !!x2),\n        issueData: {\n          code: ZodIssueCode.invalid_return_type,\n          returnTypeError: error2\n        }\n      });\n    }\n    const params = { errorMap: ctx.common.contextualErrorMap };\n    const fn2 = ctx.data;\n    if (this._def.returns instanceof ZodPromise) {\n      const me = this;\n      return OK(async function(...args) {\n        const error2 = new ZodError([]);\n        const parsedArgs = await me._def.args.parseAsync(args, params).catch((e2) => {\n          error2.addIssue(makeArgsIssue(args, e2));\n          throw error2;\n        });\n        const result = await Reflect.apply(fn2, this, parsedArgs);\n        const parsedReturns = await me._def.returns._def.type.parseAsync(result, params).catch((e2) => {\n          error2.addIssue(makeReturnsIssue(result, e2));\n          throw error2;\n        });\n        return parsedReturns;\n      });\n    } else {\n      const me = this;\n      return OK(function(...args) {\n        const parsedArgs = me._def.args.safeParse(args, params);\n        if (!parsedArgs.success) {\n          throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n        }\n        const result = Reflect.apply(fn2, this, parsedArgs.data);\n        const parsedReturns = me._def.returns.safeParse(result, params);\n        if (!parsedReturns.success) {\n          throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n        }\n        return parsedReturns.data;\n      });\n    }\n  }\n  parameters() {\n    return this._def.args;\n  }\n  returnType() {\n    return this._def.returns;\n  }\n  args(...items) {\n    return new ZodFunction({\n      ...this._def,\n      args: ZodTuple.create(items).rest(ZodUnknown.create())\n    });\n  }\n  returns(returnType) {\n    return new ZodFunction({\n      ...this._def,\n      returns: returnType\n    });\n  }\n  implement(func) {\n    const validatedFunc = this.parse(func);\n    return validatedFunc;\n  }\n  strictImplement(func) {\n    const validatedFunc = this.parse(func);\n    return validatedFunc;\n  }\n  static create(args, returns, params) {\n    return new ZodFunction({\n      args: args ? args : ZodTuple.create([]).rest(ZodUnknown.create()),\n      returns: returns || ZodUnknown.create(),\n      typeName: ZodFirstPartyTypeKind.ZodFunction,\n      ...processCreateParams(params)\n    });\n  }\n}\nclass ZodLazy extends ZodType {\n  get schema() {\n    return this._def.getter();\n  }\n  _parse(input) {\n    const { ctx } = this._processInputParams(input);\n    const lazySchema = this._def.getter();\n    return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n  }\n}\nZodLazy.create = (getter, params) => {\n  return new ZodLazy({\n    getter,\n    typeName: ZodFirstPartyTypeKind.ZodLazy,\n    ...processCreateParams(params)\n  });\n};\nclass ZodLiteral extends ZodType {\n  _parse(input) {\n    if (input.data !== this._def.value) {\n      const ctx = this._getOrReturnCtx(input);\n      addIssueToContext(ctx, {\n        received: ctx.data,\n        code: ZodIssueCode.invalid_literal,\n        expected: this._def.value\n      });\n      return INVALID;\n    }\n    return { status: \"valid\", value: input.data };\n  }\n  get value() {\n    return this._def.value;\n  }\n}\nZodLiteral.create = (value, params) => {\n  return new ZodLiteral({\n    value,\n    typeName: ZodFirstPartyTypeKind.ZodLiteral,\n    ...processCreateParams(params)\n  });\n};\nfunction createZodEnum(values, params) {\n  return new ZodEnum({\n    values,\n    typeName: ZodFirstPartyTypeKind.ZodEnum,\n    ...processCreateParams(params)\n  });\n}\nclass ZodEnum extends ZodType {\n  constructor() {\n    super(...arguments);\n    _ZodEnum_cache.set(this, void 0);\n  }\n  _parse(input) {\n    if (typeof input.data !== \"string\") {\n      const ctx = this._getOrReturnCtx(input);\n      const expectedValues = this._def.values;\n      addIssueToContext(ctx, {\n        expected: util.joinValues(expectedValues),\n        received: ctx.parsedType,\n        code: ZodIssueCode.invalid_type\n      });\n      return INVALID;\n    }\n    if (!__classPrivateFieldGet(this, _ZodEnum_cache)) {\n      __classPrivateFieldSet(this, _ZodEnum_cache, new Set(this._def.values));\n    }\n    if (!__classPrivateFieldGet(this, _ZodEnum_cache).has(input.data)) {\n      const ctx = this._getOrReturnCtx(input);\n      const expectedValues = this._def.values;\n      addIssueToContext(ctx, {\n        received: ctx.data,\n        code: ZodIssueCode.invalid_enum_value,\n        options: expectedValues\n      });\n      return INVALID;\n    }\n    return OK(input.data);\n  }\n  get options() {\n    return this._def.values;\n  }\n  get enum() {\n    const enumValues = {};\n    for (const val of this._def.values) {\n      enumValues[val] = val;\n    }\n    return enumValues;\n  }\n  get Values() {\n    const enumValues = {};\n    for (const val of this._def.values) {\n      enumValues[val] = val;\n    }\n    return enumValues;\n  }\n  get Enum() {\n    const enumValues = {};\n    for (const val of this._def.values) {\n      enumValues[val] = val;\n    }\n    return enumValues;\n  }\n  extract(values, newDef = this._def) {\n    return ZodEnum.create(values, {\n      ...this._def,\n      ...newDef\n    });\n  }\n  exclude(values, newDef = this._def) {\n    return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n      ...this._def,\n      ...newDef\n    });\n  }\n}\n_ZodEnum_cache = /* @__PURE__ */ new WeakMap();\nZodEnum.create = createZodEnum;\nclass ZodNativeEnum extends ZodType {\n  constructor() {\n    super(...arguments);\n    _ZodNativeEnum_cache.set(this, void 0);\n  }\n  _parse(input) {\n    const nativeEnumValues = util.getValidEnumValues(this._def.values);\n    const ctx = this._getOrReturnCtx(input);\n    if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {\n      const expectedValues = util.objectValues(nativeEnumValues);\n      addIssueToContext(ctx, {\n        expected: util.joinValues(expectedValues),\n        received: ctx.parsedType,\n        code: ZodIssueCode.invalid_type\n      });\n      return INVALID;\n    }\n    if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache)) {\n      __classPrivateFieldSet(this, _ZodNativeEnum_cache, new Set(util.getValidEnumValues(this._def.values)));\n    }\n    if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache).has(input.data)) {\n      const expectedValues = util.objectValues(nativeEnumValues);\n      addIssueToContext(ctx, {\n        received: ctx.data,\n        code: ZodIssueCode.invalid_enum_value,\n        options: expectedValues\n      });\n      return INVALID;\n    }\n    return OK(input.data);\n  }\n  get enum() {\n    return this._def.values;\n  }\n}\n_ZodNativeEnum_cache = /* @__PURE__ */ new WeakMap();\nZodNativeEnum.create = (values, params) => {\n  return new ZodNativeEnum({\n    values,\n    typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n    ...processCreateParams(params)\n  });\n};\nclass ZodPromise extends ZodType {\n  unwrap() {\n    return this._def.type;\n  }\n  _parse(input) {\n    const { ctx } = this._processInputParams(input);\n    if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.promise,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);\n    return OK(promisified.then((data) => {\n      return this._def.type.parseAsync(data, {\n        path: ctx.path,\n        errorMap: ctx.common.contextualErrorMap\n      });\n    }));\n  }\n}\nZodPromise.create = (schema, params) => {\n  return new ZodPromise({\n    type: schema,\n    typeName: ZodFirstPartyTypeKind.ZodPromise,\n    ...processCreateParams(params)\n  });\n};\nclass ZodEffects extends ZodType {\n  innerType() {\n    return this._def.schema;\n  }\n  sourceType() {\n    return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects ? this._def.schema.sourceType() : this._def.schema;\n  }\n  _parse(input) {\n    const { status, ctx } = this._processInputParams(input);\n    const effect = this._def.effect || null;\n    const checkCtx = {\n      addIssue: (arg) => {\n        addIssueToContext(ctx, arg);\n        if (arg.fatal) {\n          status.abort();\n        } else {\n          status.dirty();\n        }\n      },\n      get path() {\n        return ctx.path;\n      }\n    };\n    checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n    if (effect.type === \"preprocess\") {\n      const processed = effect.transform(ctx.data, checkCtx);\n      if (ctx.common.async) {\n        return Promise.resolve(processed).then(async (processed2) => {\n          if (status.value === \"aborted\")\n            return INVALID;\n          const result = await this._def.schema._parseAsync({\n            data: processed2,\n            path: ctx.path,\n            parent: ctx\n          });\n          if (result.status === \"aborted\")\n            return INVALID;\n          if (result.status === \"dirty\")\n            return DIRTY(result.value);\n          if (status.value === \"dirty\")\n            return DIRTY(result.value);\n          return result;\n        });\n      } else {\n        if (status.value === \"aborted\")\n          return INVALID;\n        const result = this._def.schema._parseSync({\n          data: processed,\n          path: ctx.path,\n          parent: ctx\n        });\n        if (result.status === \"aborted\")\n          return INVALID;\n        if (result.status === \"dirty\")\n          return DIRTY(result.value);\n        if (status.value === \"dirty\")\n          return DIRTY(result.value);\n        return result;\n      }\n    }\n    if (effect.type === \"refinement\") {\n      const executeRefinement = (acc) => {\n        const result = effect.refinement(acc, checkCtx);\n        if (ctx.common.async) {\n          return Promise.resolve(result);\n        }\n        if (result instanceof Promise) {\n          throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n        }\n        return acc;\n      };\n      if (ctx.common.async === false) {\n        const inner2 = this._def.schema._parseSync({\n          data: ctx.data,\n          path: ctx.path,\n          parent: ctx\n        });\n        if (inner2.status === \"aborted\")\n          return INVALID;\n        if (inner2.status === \"dirty\")\n          status.dirty();\n        executeRefinement(inner2.value);\n        return { status: status.value, value: inner2.value };\n      } else {\n        return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner2) => {\n          if (inner2.status === \"aborted\")\n            return INVALID;\n          if (inner2.status === \"dirty\")\n            status.dirty();\n          return executeRefinement(inner2.value).then(() => {\n            return { status: status.value, value: inner2.value };\n          });\n        });\n      }\n    }\n    if (effect.type === \"transform\") {\n      if (ctx.common.async === false) {\n        const base = this._def.schema._parseSync({\n          data: ctx.data,\n          path: ctx.path,\n          parent: ctx\n        });\n        if (!isValid(base))\n          return base;\n        const result = effect.transform(base.value, checkCtx);\n        if (result instanceof Promise) {\n          throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n        }\n        return { status: status.value, value: result };\n      } else {\n        return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {\n          if (!isValid(base))\n            return base;\n          return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({ status: status.value, value: result }));\n        });\n      }\n    }\n    util.assertNever(effect);\n  }\n}\nZodEffects.create = (schema, effect, params) => {\n  return new ZodEffects({\n    schema,\n    typeName: ZodFirstPartyTypeKind.ZodEffects,\n    effect,\n    ...processCreateParams(params)\n  });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n  return new ZodEffects({\n    schema,\n    effect: { type: \"preprocess\", transform: preprocess },\n    typeName: ZodFirstPartyTypeKind.ZodEffects,\n    ...processCreateParams(params)\n  });\n};\nclass ZodOptional extends ZodType {\n  _parse(input) {\n    const parsedType = this._getType(input);\n    if (parsedType === ZodParsedType.undefined) {\n      return OK(void 0);\n    }\n    return this._def.innerType._parse(input);\n  }\n  unwrap() {\n    return this._def.innerType;\n  }\n}\nZodOptional.create = (type, params) => {\n  return new ZodOptional({\n    innerType: type,\n    typeName: ZodFirstPartyTypeKind.ZodOptional,\n    ...processCreateParams(params)\n  });\n};\nclass ZodNullable extends ZodType {\n  _parse(input) {\n    const parsedType = this._getType(input);\n    if (parsedType === ZodParsedType.null) {\n      return OK(null);\n    }\n    return this._def.innerType._parse(input);\n  }\n  unwrap() {\n    return this._def.innerType;\n  }\n}\nZodNullable.create = (type, params) => {\n  return new ZodNullable({\n    innerType: type,\n    typeName: ZodFirstPartyTypeKind.ZodNullable,\n    ...processCreateParams(params)\n  });\n};\nclass ZodDefault extends ZodType {\n  _parse(input) {\n    const { ctx } = this._processInputParams(input);\n    let data = ctx.data;\n    if (ctx.parsedType === ZodParsedType.undefined) {\n      data = this._def.defaultValue();\n    }\n    return this._def.innerType._parse({\n      data,\n      path: ctx.path,\n      parent: ctx\n    });\n  }\n  removeDefault() {\n    return this._def.innerType;\n  }\n}\nZodDefault.create = (type, params) => {\n  return new ZodDefault({\n    innerType: type,\n    typeName: ZodFirstPartyTypeKind.ZodDefault,\n    defaultValue: typeof params.default === \"function\" ? params.default : () => params.default,\n    ...processCreateParams(params)\n  });\n};\nclass ZodCatch extends ZodType {\n  _parse(input) {\n    const { ctx } = this._processInputParams(input);\n    const newCtx = {\n      ...ctx,\n      common: {\n        ...ctx.common,\n        issues: []\n      }\n    };\n    const result = this._def.innerType._parse({\n      data: newCtx.data,\n      path: newCtx.path,\n      parent: {\n        ...newCtx\n      }\n    });\n    if (isAsync(result)) {\n      return result.then((result2) => {\n        return {\n          status: \"valid\",\n          value: result2.status === \"valid\" ? result2.value : this._def.catchValue({\n            get error() {\n              return new ZodError(newCtx.common.issues);\n            },\n            input: newCtx.data\n          })\n        };\n      });\n    } else {\n      return {\n        status: \"valid\",\n        value: result.status === \"valid\" ? result.value : this._def.catchValue({\n          get error() {\n            return new ZodError(newCtx.common.issues);\n          },\n          input: newCtx.data\n        })\n      };\n    }\n  }\n  removeCatch() {\n    return this._def.innerType;\n  }\n}\nZodCatch.create = (type, params) => {\n  return new ZodCatch({\n    innerType: type,\n    typeName: ZodFirstPartyTypeKind.ZodCatch,\n    catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n    ...processCreateParams(params)\n  });\n};\nclass ZodNaN extends ZodType {\n  _parse(input) {\n    const parsedType = this._getType(input);\n    if (parsedType !== ZodParsedType.nan) {\n      const ctx = this._getOrReturnCtx(input);\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.nan,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    return { status: \"valid\", value: input.data };\n  }\n}\nZodNaN.create = (params) => {\n  return new ZodNaN({\n    typeName: ZodFirstPartyTypeKind.ZodNaN,\n    ...processCreateParams(params)\n  });\n};\nconst BRAND = Symbol(\"zod_brand\");\nclass ZodBranded extends ZodType {\n  _parse(input) {\n    const { ctx } = this._processInputParams(input);\n    const data = ctx.data;\n    return this._def.type._parse({\n      data,\n      path: ctx.path,\n      parent: ctx\n    });\n  }\n  unwrap() {\n    return this._def.type;\n  }\n}\nclass ZodPipeline extends ZodType {\n  _parse(input) {\n    const { status, ctx } = this._processInputParams(input);\n    if (ctx.common.async) {\n      const handleAsync = async () => {\n        const inResult = await this._def.in._parseAsync({\n          data: ctx.data,\n          path: ctx.path,\n          parent: ctx\n        });\n        if (inResult.status === \"aborted\")\n          return INVALID;\n        if (inResult.status === \"dirty\") {\n          status.dirty();\n          return DIRTY(inResult.value);\n        } else {\n          return this._def.out._parseAsync({\n            data: inResult.value,\n            path: ctx.path,\n            parent: ctx\n          });\n        }\n      };\n      return handleAsync();\n    } else {\n      const inResult = this._def.in._parseSync({\n        data: ctx.data,\n        path: ctx.path,\n        parent: ctx\n      });\n      if (inResult.status === \"aborted\")\n        return INVALID;\n      if (inResult.status === \"dirty\") {\n        status.dirty();\n        return {\n          status: \"dirty\",\n          value: inResult.value\n        };\n      } else {\n        return this._def.out._parseSync({\n          data: inResult.value,\n          path: ctx.path,\n          parent: ctx\n        });\n      }\n    }\n  }\n  static create(a3, b2) {\n    return new ZodPipeline({\n      in: a3,\n      out: b2,\n      typeName: ZodFirstPartyTypeKind.ZodPipeline\n    });\n  }\n}\nclass ZodReadonly extends ZodType {\n  _parse(input) {\n    const result = this._def.innerType._parse(input);\n    const freeze = (data) => {\n      if (isValid(data)) {\n        data.value = Object.freeze(data.value);\n      }\n      return data;\n    };\n    return isAsync(result) ? result.then((data) => freeze(data)) : freeze(result);\n  }\n  unwrap() {\n    return this._def.innerType;\n  }\n}\nZodReadonly.create = (type, params) => {\n  return new ZodReadonly({\n    innerType: type,\n    typeName: ZodFirstPartyTypeKind.ZodReadonly,\n    ...processCreateParams(params)\n  });\n};\nfunction cleanParams(params, data) {\n  const p2 = typeof params === \"function\" ? params(data) : typeof params === \"string\" ? { message: params } : params;\n  const p22 = typeof p2 === \"string\" ? { message: p2 } : p2;\n  return p22;\n}\nfunction custom(check, _params = {}, fatal) {\n  if (check)\n    return ZodAny.create().superRefine((data, ctx) => {\n      var _a, _b;\n      const r2 = check(data);\n      if (r2 instanceof Promise) {\n        return r2.then((r3) => {\n          var _a2, _b2;\n          if (!r3) {\n            const params = cleanParams(_params, data);\n            const _fatal = (_b2 = (_a2 = params.fatal) !== null && _a2 !== void 0 ? _a2 : fatal) !== null && _b2 !== void 0 ? _b2 : true;\n            ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n          }\n        });\n      }\n      if (!r2) {\n        const params = cleanParams(_params, data);\n        const _fatal = (_b = (_a = params.fatal) !== null && _a !== void 0 ? _a : fatal) !== null && _b !== void 0 ? _b : true;\n        ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n      }\n      return;\n    });\n  return ZodAny.create();\n}\nconst late = {\n  object: ZodObject.lazycreate\n};\nvar ZodFirstPartyTypeKind;\n(function(ZodFirstPartyTypeKind2) {\n  ZodFirstPartyTypeKind2[\"ZodString\"] = \"ZodString\";\n  ZodFirstPartyTypeKind2[\"ZodNumber\"] = \"ZodNumber\";\n  ZodFirstPartyTypeKind2[\"ZodNaN\"] = \"ZodNaN\";\n  ZodFirstPartyTypeKind2[\"ZodBigInt\"] = \"ZodBigInt\";\n  ZodFirstPartyTypeKind2[\"ZodBoolean\"] = \"ZodBoolean\";\n  ZodFirstPartyTypeKind2[\"ZodDate\"] = \"ZodDate\";\n  ZodFirstPartyTypeKind2[\"ZodSymbol\"] = \"ZodSymbol\";\n  ZodFirstPartyTypeKind2[\"ZodUndefined\"] = \"ZodUndefined\";\n  ZodFirstPartyTypeKind2[\"ZodNull\"] = \"ZodNull\";\n  ZodFirstPartyTypeKind2[\"ZodAny\"] = \"ZodAny\";\n  ZodFirstPartyTypeKind2[\"ZodUnknown\"] = \"ZodUnknown\";\n  ZodFirstPartyTypeKind2[\"ZodNever\"] = \"ZodNever\";\n  ZodFirstPartyTypeKind2[\"ZodVoid\"] = \"ZodVoid\";\n  ZodFirstPartyTypeKind2[\"ZodArray\"] = \"ZodArray\";\n  ZodFirstPartyTypeKind2[\"ZodObject\"] = \"ZodObject\";\n  ZodFirstPartyTypeKind2[\"ZodUnion\"] = \"ZodUnion\";\n  ZodFirstPartyTypeKind2[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n  ZodFirstPartyTypeKind2[\"ZodIntersection\"] = \"ZodIntersection\";\n  ZodFirstPartyTypeKind2[\"ZodTuple\"] = \"ZodTuple\";\n  ZodFirstPartyTypeKind2[\"ZodRecord\"] = \"ZodRecord\";\n  ZodFirstPartyTypeKind2[\"ZodMap\"] = \"ZodMap\";\n  ZodFirstPartyTypeKind2[\"ZodSet\"] = \"ZodSet\";\n  ZodFirstPartyTypeKind2[\"ZodFunction\"] = \"ZodFunction\";\n  ZodFirstPartyTypeKind2[\"ZodLazy\"] = \"ZodLazy\";\n  ZodFirstPartyTypeKind2[\"ZodLiteral\"] = \"ZodLiteral\";\n  ZodFirstPartyTypeKind2[\"ZodEnum\"] = \"ZodEnum\";\n  ZodFirstPartyTypeKind2[\"ZodEffects\"] = \"ZodEffects\";\n  ZodFirstPartyTypeKind2[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n  ZodFirstPartyTypeKind2[\"ZodOptional\"] = \"ZodOptional\";\n  ZodFirstPartyTypeKind2[\"ZodNullable\"] = \"ZodNullable\";\n  ZodFirstPartyTypeKind2[\"ZodDefault\"] = \"ZodDefault\";\n  ZodFirstPartyTypeKind2[\"ZodCatch\"] = \"ZodCatch\";\n  ZodFirstPartyTypeKind2[\"ZodPromise\"] = \"ZodPromise\";\n  ZodFirstPartyTypeKind2[\"ZodBranded\"] = \"ZodBranded\";\n  ZodFirstPartyTypeKind2[\"ZodPipeline\"] = \"ZodPipeline\";\n  ZodFirstPartyTypeKind2[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\nconst instanceOfType = (cls, params = {\n  message: `Input not instance of ${cls.name}`\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nconst coerce = {\n  string: (arg) => ZodString.create({ ...arg, coerce: true }),\n  number: (arg) => ZodNumber.create({ ...arg, coerce: true }),\n  boolean: (arg) => ZodBoolean.create({\n    ...arg,\n    coerce: true\n  }),\n  bigint: (arg) => ZodBigInt.create({ ...arg, coerce: true }),\n  date: (arg) => ZodDate.create({ ...arg, coerce: true })\n};\nconst NEVER = INVALID;\nvar z = /* @__PURE__ */ Object.freeze({\n  __proto__: null,\n  defaultErrorMap: errorMap,\n  setErrorMap,\n  getErrorMap,\n  makeIssue,\n  EMPTY_PATH,\n  addIssueToContext,\n  ParseStatus,\n  INVALID,\n  DIRTY,\n  OK,\n  isAborted,\n  isDirty,\n  isValid,\n  isAsync,\n  get util() {\n    return util;\n  },\n  get objectUtil() {\n    return objectUtil;\n  },\n  ZodParsedType,\n  getParsedType,\n  ZodType,\n  datetimeRegex,\n  ZodString,\n  ZodNumber,\n  ZodBigInt,\n  ZodBoolean,\n  ZodDate,\n  ZodSymbol,\n  ZodUndefined,\n  ZodNull,\n  ZodAny,\n  ZodUnknown,\n  ZodNever,\n  ZodVoid,\n  ZodArray,\n  ZodObject,\n  ZodUnion,\n  ZodDiscriminatedUnion,\n  ZodIntersection,\n  ZodTuple,\n  ZodRecord,\n  ZodMap,\n  ZodSet,\n  ZodFunction,\n  ZodLazy,\n  ZodLiteral,\n  ZodEnum,\n  ZodNativeEnum,\n  ZodPromise,\n  ZodEffects,\n  ZodTransformer: ZodEffects,\n  ZodOptional,\n  ZodNullable,\n  ZodDefault,\n  ZodCatch,\n  ZodNaN,\n  BRAND,\n  ZodBranded,\n  ZodPipeline,\n  ZodReadonly,\n  custom,\n  Schema: ZodType,\n  ZodSchema: ZodType,\n  late,\n  get ZodFirstPartyTypeKind() {\n    return ZodFirstPartyTypeKind;\n  },\n  coerce,\n  any: anyType,\n  array: arrayType,\n  bigint: bigIntType,\n  boolean: booleanType,\n  date: dateType,\n  discriminatedUnion: discriminatedUnionType,\n  effect: effectsType,\n  \"enum\": enumType,\n  \"function\": functionType,\n  \"instanceof\": instanceOfType,\n  intersection: intersectionType,\n  lazy: lazyType,\n  literal: literalType,\n  map: mapType,\n  nan: nanType,\n  nativeEnum: nativeEnumType,\n  never: neverType,\n  \"null\": nullType,\n  nullable: nullableType,\n  number: numberType,\n  object: objectType,\n  oboolean,\n  onumber,\n  optional: optionalType,\n  ostring,\n  pipeline: pipelineType,\n  preprocess: preprocessType,\n  promise: promiseType,\n  record: recordType,\n  set: setType,\n  strictObject: strictObjectType,\n  string: stringType,\n  symbol: symbolType,\n  transformer: effectsType,\n  tuple: tupleType,\n  \"undefined\": undefinedType,\n  union: unionType,\n  unknown: unknownType,\n  \"void\": voidType,\n  NEVER,\n  ZodIssueCode,\n  quotelessJson,\n  ZodError\n});\nvar DEFAULT_PORT = 5746;\nvar PING_ENDPOINT = \"/ping/stagewise\";\nvar PING_RESPONSE = \"stagewise\";\nvar contract = createBridgeContract({\n  server: {\n    triggerAgentPrompt: {\n      request: z.object({\n        prompt: z.string()\n      }),\n      response: z.object({\n        result: z.object({\n          success: z.boolean(),\n          error: z.string().optional(),\n          output: z.string().optional()\n        })\n      }),\n      update: z.object({\n        updateText: z.string()\n      })\n    }\n  }\n});\nasync function findPort(maxAttempts = 10, timeout = 300) {\n  for (let attempt = 0; attempt < maxAttempts; attempt++) {\n    const port = DEFAULT_PORT + attempt;\n    try {\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), timeout);\n      try {\n        const response = await fetch(\n          `http://localhost:${port}${PING_ENDPOINT}`,\n          {\n            signal: controller.signal\n          }\n        );\n        clearTimeout(timeoutId);\n        if (response.ok) {\n          const text = await response.text();\n          if (text === PING_RESPONSE) {\n            return port;\n          }\n        }\n      } catch (error2) {\n        clearTimeout(timeoutId);\n        continue;\n      }\n    } catch (error2) {\n      continue;\n    }\n  }\n  return null;\n}\nconst SRPCBridgeContext = K$3({\n  bridge: null,\n  isConnecting: false,\n  error: null\n});\nfunction SRPCBridgeProvider({\n  children\n}) {\n  const [state, setState] = d$4({\n    bridge: null,\n    isConnecting: true,\n    error: null\n  });\n  y$6(() => {\n    async function initializeBridge() {\n      try {\n        const port = await findPort();\n        const bridge = createSRPCClientBridge(\n          `ws://localhost:${port}`,\n          contract\n        );\n        await bridge.connect();\n        setState({\n          bridge,\n          isConnecting: false,\n          error: null\n        });\n      } catch (error2) {\n        setState({\n          bridge: null,\n          isConnecting: false,\n          error: error2 instanceof Error ? error2 : new Error(String(error2))\n        });\n      }\n    }\n    initializeBridge();\n  }, []);\n  return /* @__PURE__ */ u$9(SRPCBridgeContext.Provider, { value: state, children });\n}\nfunction useSRPCBridge() {\n  const context = x$4(SRPCBridgeContext);\n  if (!context) {\n    throw new Error(\"useSRPCBridge must be used within an SRPCBridgeProvider\");\n  }\n  return context;\n}\nfunction getElementAttributes(element) {\n  const attrs = {};\n  const priorityAttrs = [\n    \"id\",\n    \"class\",\n    \"name\",\n    \"type\",\n    \"href\",\n    \"src\",\n    \"alt\",\n    \"for\",\n    \"placeholder\"\n  ];\n  const dataAttrs = [];\n  for (let i2 = 0; i2 < element.attributes.length; i2++) {\n    const attr = element.attributes[i2];\n    if (attr.name.startsWith(\"data-\")) {\n      dataAttrs.push({ name: attr.name, value: attr.value });\n    } else if (priorityAttrs.includes(attr.name.toLowerCase()) || attr.name.toLowerCase() !== \"style\") {\n      attrs[attr.name] = attr.value;\n    }\n  }\n  dataAttrs.forEach((da) => {\n    attrs[da.name] = da.value;\n  });\n  return attrs;\n}\nfunction generateElementContext(element, index2) {\n  var _a;\n  let context = `<element index=\"${index2 + 1}\">\n`;\n  context += `  <tag>${element.tagName.toLowerCase()}</tag>\n`;\n  const id = element.id;\n  if (id) {\n    context += `  <id>${id}</id>\n`;\n  }\n  const classes = Array.from(element.classList).join(\", \");\n  if (classes) {\n    context += `  <classes>${classes}</classes>\n`;\n  }\n  const attributes = getElementAttributes(element);\n  if (Object.keys(attributes).length > 0) {\n    context += `  <attributes>\n`;\n    for (const [key, value] of Object.entries(attributes)) {\n      if (key.toLowerCase() !== \"class\" || !classes) {\n        context += `    <${key}>${value}</${key}>\n`;\n      }\n    }\n    context += `  </attributes>\n`;\n  }\n  const text = (_a = element.innerText) == null ? void 0 : _a.trim();\n  if (text) {\n    const maxLength = 100;\n    context += `  <text>${text.length > maxLength ? `${text.substring(0, maxLength)}...` : text}</text>\n`;\n  }\n  context += `  <structural_context>\n`;\n  if (element.parentElement) {\n    const parent = element.parentElement;\n    context += `    <parent>\n`;\n    context += `      <tag>${parent.tagName.toLowerCase()}</tag>\n`;\n    if (parent.id) {\n      context += `      <id>${parent.id}</id>\n`;\n    }\n    const parentClasses = Array.from(parent.classList).join(\", \");\n    if (parentClasses) {\n      context += `      <classes>${parentClasses}</classes>\n`;\n    }\n    context += `    </parent>\n`;\n  } else {\n    context += `    <parent>No parent element found (likely root or disconnected)</parent>\n`;\n  }\n  context += `  </structural_context>\n`;\n  try {\n    const styles = window.getComputedStyle(element);\n    const relevantStyles = {\n      color: styles.color,\n      backgroundColor: styles.backgroundColor,\n      fontSize: styles.fontSize,\n      fontWeight: styles.fontWeight,\n      display: styles.display\n    };\n    context += `  <styles>\n`;\n    for (const [key, value] of Object.entries(relevantStyles)) {\n      context += `    <${key}>${value}</${key}>\n`;\n    }\n    context += `  </styles>\n`;\n  } catch (e2) {\n    context += `  <styles>Could not retrieve computed styles</styles>\n`;\n  }\n  context += `</element>\n`;\n  return context;\n}\nfunction createPrompt(selectedElements, userPrompt, url) {\n  if (!selectedElements || selectedElements.length === 0) {\n    return `\n    <request>\n      <user_goal>${userPrompt}</user_goal>\n      <url>${url}</url>\n  <context>No specific element was selected on the page. Please analyze the page code in general or ask for clarification.</context>\n</request>`.trim();\n  }\n  let detailedContext = \"\";\n  selectedElements.forEach((element, index2) => {\n    detailedContext += generateElementContext(element, index2);\n  });\n  return `\n<request>\n  <user_goal>${userPrompt}</user_goal>\n  <url>${url}</url>\n  <selected_elements>\n    ${detailedContext.trim()}\n  </selected_elements>\n</request>`.trim();\n}\nconst DropAreaZone = {\n  BOTTOM_CENTER: 4\n};\nconst createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = Rn.useSyncExternalStore(\n    api.subscribe,\n    () => selector(api.getState()),\n    () => selector(api.getInitialState())\n  );\n  Rn.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = createStore(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nclass DoubleIndexedKV {\n  constructor() {\n    this.keyToValue = /* @__PURE__ */ new Map();\n    this.valueToKey = /* @__PURE__ */ new Map();\n  }\n  set(key, value) {\n    this.keyToValue.set(key, value);\n    this.valueToKey.set(value, key);\n  }\n  getByKey(key) {\n    return this.keyToValue.get(key);\n  }\n  getByValue(value) {\n    return this.valueToKey.get(value);\n  }\n  clear() {\n    this.keyToValue.clear();\n    this.valueToKey.clear();\n  }\n}\nclass Registry {\n  constructor(generateIdentifier) {\n    this.generateIdentifier = generateIdentifier;\n    this.kv = new DoubleIndexedKV();\n  }\n  register(value, identifier) {\n    if (this.kv.getByValue(value)) {\n      return;\n    }\n    if (!identifier) {\n      identifier = this.generateIdentifier(value);\n    }\n    this.kv.set(identifier, value);\n  }\n  clear() {\n    this.kv.clear();\n  }\n  getIdentifier(value) {\n    return this.kv.getByValue(value);\n  }\n  getValue(identifier) {\n    return this.kv.getByKey(identifier);\n  }\n}\nclass ClassRegistry extends Registry {\n  constructor() {\n    super((c2) => c2.name);\n    this.classToAllowedProps = /* @__PURE__ */ new Map();\n  }\n  register(value, options) {\n    if (typeof options === \"object\") {\n      if (options.allowProps) {\n        this.classToAllowedProps.set(value, options.allowProps);\n      }\n      super.register(value, options.identifier);\n    } else {\n      super.register(value, options);\n    }\n  }\n  getAllowedProps(value) {\n    return this.classToAllowedProps.get(value);\n  }\n}\nfunction valuesOfObj(record) {\n  if (\"values\" in Object) {\n    return Object.values(record);\n  }\n  const values = [];\n  for (const key in record) {\n    if (record.hasOwnProperty(key)) {\n      values.push(record[key]);\n    }\n  }\n  return values;\n}\nfunction find(record, predicate) {\n  const values = valuesOfObj(record);\n  if (\"find\" in values) {\n    return values.find(predicate);\n  }\n  const valuesNotNever = values;\n  for (let i2 = 0; i2 < valuesNotNever.length; i2++) {\n    const value = valuesNotNever[i2];\n    if (predicate(value)) {\n      return value;\n    }\n  }\n  return void 0;\n}\nfunction forEach(record, run) {\n  Object.entries(record).forEach(([key, value]) => run(value, key));\n}\nfunction includes(arr, value) {\n  return arr.indexOf(value) !== -1;\n}\nfunction findArr(record, predicate) {\n  for (let i2 = 0; i2 < record.length; i2++) {\n    const value = record[i2];\n    if (predicate(value)) {\n      return value;\n    }\n  }\n  return void 0;\n}\nclass CustomTransformerRegistry {\n  constructor() {\n    this.transfomers = {};\n  }\n  register(transformer) {\n    this.transfomers[transformer.name] = transformer;\n  }\n  findApplicable(v2) {\n    return find(this.transfomers, (transformer) => transformer.isApplicable(v2));\n  }\n  findByName(name) {\n    return this.transfomers[name];\n  }\n}\nconst getType$1 = (payload) => Object.prototype.toString.call(payload).slice(8, -1);\nconst isUndefined = (payload) => typeof payload === \"undefined\";\nconst isNull = (payload) => payload === null;\nconst isPlainObject$1 = (payload) => {\n  if (typeof payload !== \"object\" || payload === null)\n    return false;\n  if (payload === Object.prototype)\n    return false;\n  if (Object.getPrototypeOf(payload) === null)\n    return true;\n  return Object.getPrototypeOf(payload) === Object.prototype;\n};\nconst isEmptyObject = (payload) => isPlainObject$1(payload) && Object.keys(payload).length === 0;\nconst isArray$1 = (payload) => Array.isArray(payload);\nconst isString$1 = (payload) => typeof payload === \"string\";\nconst isNumber$1 = (payload) => typeof payload === \"number\" && !isNaN(payload);\nconst isBoolean = (payload) => typeof payload === \"boolean\";\nconst isRegExp = (payload) => payload instanceof RegExp;\nconst isMap = (payload) => payload instanceof Map;\nconst isSet = (payload) => payload instanceof Set;\nconst isSymbol = (payload) => getType$1(payload) === \"Symbol\";\nconst isDate = (payload) => payload instanceof Date && !isNaN(payload.valueOf());\nconst isError = (payload) => payload instanceof Error;\nconst isNaNValue = (payload) => typeof payload === \"number\" && isNaN(payload);\nconst isPrimitive = (payload) => isBoolean(payload) || isNull(payload) || isUndefined(payload) || isNumber$1(payload) || isString$1(payload) || isSymbol(payload);\nconst isBigint = (payload) => typeof payload === \"bigint\";\nconst isInfinite = (payload) => payload === Infinity || payload === -Infinity;\nconst isTypedArray = (payload) => ArrayBuffer.isView(payload) && !(payload instanceof DataView);\nconst isURL = (payload) => payload instanceof URL;\nconst escapeKey = (key) => key.replace(/\\./g, \"\\\\.\");\nconst stringifyPath = (path) => path.map(String).map(escapeKey).join(\".\");\nconst parsePath = (string) => {\n  const result = [];\n  let segment = \"\";\n  for (let i2 = 0; i2 < string.length; i2++) {\n    let char = string.charAt(i2);\n    const isEscapedDot = char === \"\\\\\" && string.charAt(i2 + 1) === \".\";\n    if (isEscapedDot) {\n      segment += \".\";\n      i2++;\n      continue;\n    }\n    const isEndOfSegment = char === \".\";\n    if (isEndOfSegment) {\n      result.push(segment);\n      segment = \"\";\n      continue;\n    }\n    segment += char;\n  }\n  const lastSegment = segment;\n  result.push(lastSegment);\n  return result;\n};\nfunction simpleTransformation(isApplicable, annotation, transform, untransform) {\n  return {\n    isApplicable,\n    annotation,\n    transform,\n    untransform\n  };\n}\nconst simpleRules = [\n  simpleTransformation(isUndefined, \"undefined\", () => null, () => void 0),\n  simpleTransformation(isBigint, \"bigint\", (v2) => v2.toString(), (v2) => {\n    if (typeof BigInt !== \"undefined\") {\n      return BigInt(v2);\n    }\n    console.error(\"Please add a BigInt polyfill.\");\n    return v2;\n  }),\n  simpleTransformation(isDate, \"Date\", (v2) => v2.toISOString(), (v2) => new Date(v2)),\n  simpleTransformation(isError, \"Error\", (v2, superJson) => {\n    const baseError = {\n      name: v2.name,\n      message: v2.message\n    };\n    superJson.allowedErrorProps.forEach((prop) => {\n      baseError[prop] = v2[prop];\n    });\n    return baseError;\n  }, (v2, superJson) => {\n    const e2 = new Error(v2.message);\n    e2.name = v2.name;\n    e2.stack = v2.stack;\n    superJson.allowedErrorProps.forEach((prop) => {\n      e2[prop] = v2[prop];\n    });\n    return e2;\n  }),\n  simpleTransformation(isRegExp, \"regexp\", (v2) => \"\" + v2, (regex) => {\n    const body = regex.slice(1, regex.lastIndexOf(\"/\"));\n    const flags = regex.slice(regex.lastIndexOf(\"/\") + 1);\n    return new RegExp(body, flags);\n  }),\n  simpleTransformation(\n    isSet,\n    \"set\",\n    // (sets only exist in es6+)\n    // eslint-disable-next-line es5/no-es6-methods\n    (v2) => [...v2.values()],\n    (v2) => new Set(v2)\n  ),\n  simpleTransformation(isMap, \"map\", (v2) => [...v2.entries()], (v2) => new Map(v2)),\n  simpleTransformation((v2) => isNaNValue(v2) || isInfinite(v2), \"number\", (v2) => {\n    if (isNaNValue(v2)) {\n      return \"NaN\";\n    }\n    if (v2 > 0) {\n      return \"Infinity\";\n    } else {\n      return \"-Infinity\";\n    }\n  }, Number),\n  simpleTransformation((v2) => v2 === 0 && 1 / v2 === -Infinity, \"number\", () => {\n    return \"-0\";\n  }, Number),\n  simpleTransformation(isURL, \"URL\", (v2) => v2.toString(), (v2) => new URL(v2))\n];\nfunction compositeTransformation(isApplicable, annotation, transform, untransform) {\n  return {\n    isApplicable,\n    annotation,\n    transform,\n    untransform\n  };\n}\nconst symbolRule = compositeTransformation((s2, superJson) => {\n  if (isSymbol(s2)) {\n    const isRegistered = !!superJson.symbolRegistry.getIdentifier(s2);\n    return isRegistered;\n  }\n  return false;\n}, (s2, superJson) => {\n  const identifier = superJson.symbolRegistry.getIdentifier(s2);\n  return [\"symbol\", identifier];\n}, (v2) => v2.description, (_2, a3, superJson) => {\n  const value = superJson.symbolRegistry.getValue(a3[1]);\n  if (!value) {\n    throw new Error(\"Trying to deserialize unknown symbol\");\n  }\n  return value;\n});\nconst constructorToName = [\n  Int8Array,\n  Uint8Array,\n  Int16Array,\n  Uint16Array,\n  Int32Array,\n  Uint32Array,\n  Float32Array,\n  Float64Array,\n  Uint8ClampedArray\n].reduce((obj, ctor) => {\n  obj[ctor.name] = ctor;\n  return obj;\n}, {});\nconst typedArrayRule = compositeTransformation(isTypedArray, (v2) => [\"typed-array\", v2.constructor.name], (v2) => [...v2], (v2, a3) => {\n  const ctor = constructorToName[a3[1]];\n  if (!ctor) {\n    throw new Error(\"Trying to deserialize unknown typed array\");\n  }\n  return new ctor(v2);\n});\nfunction isInstanceOfRegisteredClass(potentialClass, superJson) {\n  if (potentialClass == null ? void 0 : potentialClass.constructor) {\n    const isRegistered = !!superJson.classRegistry.getIdentifier(potentialClass.constructor);\n    return isRegistered;\n  }\n  return false;\n}\nconst classRule = compositeTransformation(isInstanceOfRegisteredClass, (clazz, superJson) => {\n  const identifier = superJson.classRegistry.getIdentifier(clazz.constructor);\n  return [\"class\", identifier];\n}, (clazz, superJson) => {\n  const allowedProps = superJson.classRegistry.getAllowedProps(clazz.constructor);\n  if (!allowedProps) {\n    return { ...clazz };\n  }\n  const result = {};\n  allowedProps.forEach((prop) => {\n    result[prop] = clazz[prop];\n  });\n  return result;\n}, (v2, a3, superJson) => {\n  const clazz = superJson.classRegistry.getValue(a3[1]);\n  if (!clazz) {\n    throw new Error(`Trying to deserialize unknown class '${a3[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);\n  }\n  return Object.assign(Object.create(clazz.prototype), v2);\n});\nconst customRule = compositeTransformation((value, superJson) => {\n  return !!superJson.customTransformerRegistry.findApplicable(value);\n}, (value, superJson) => {\n  const transformer = superJson.customTransformerRegistry.findApplicable(value);\n  return [\"custom\", transformer.name];\n}, (value, superJson) => {\n  const transformer = superJson.customTransformerRegistry.findApplicable(value);\n  return transformer.serialize(value);\n}, (v2, a3, superJson) => {\n  const transformer = superJson.customTransformerRegistry.findByName(a3[1]);\n  if (!transformer) {\n    throw new Error(\"Trying to deserialize unknown custom value\");\n  }\n  return transformer.deserialize(v2);\n});\nconst compositeRules = [classRule, symbolRule, customRule, typedArrayRule];\nconst transformValue = (value, superJson) => {\n  const applicableCompositeRule = findArr(compositeRules, (rule) => rule.isApplicable(value, superJson));\n  if (applicableCompositeRule) {\n    return {\n      value: applicableCompositeRule.transform(value, superJson),\n      type: applicableCompositeRule.annotation(value, superJson)\n    };\n  }\n  const applicableSimpleRule = findArr(simpleRules, (rule) => rule.isApplicable(value, superJson));\n  if (applicableSimpleRule) {\n    return {\n      value: applicableSimpleRule.transform(value, superJson),\n      type: applicableSimpleRule.annotation\n    };\n  }\n  return void 0;\n};\nconst simpleRulesByAnnotation = {};\nsimpleRules.forEach((rule) => {\n  simpleRulesByAnnotation[rule.annotation] = rule;\n});\nconst untransformValue = (json, type, superJson) => {\n  if (isArray$1(type)) {\n    switch (type[0]) {\n      case \"symbol\":\n        return symbolRule.untransform(json, type, superJson);\n      case \"class\":\n        return classRule.untransform(json, type, superJson);\n      case \"custom\":\n        return customRule.untransform(json, type, superJson);\n      case \"typed-array\":\n        return typedArrayRule.untransform(json, type, superJson);\n      default:\n        throw new Error(\"Unknown transformation: \" + type);\n    }\n  } else {\n    const transformation = simpleRulesByAnnotation[type];\n    if (!transformation) {\n      throw new Error(\"Unknown transformation: \" + type);\n    }\n    return transformation.untransform(json, superJson);\n  }\n};\nconst getNthKey = (value, n2) => {\n  if (n2 > value.size)\n    throw new Error(\"index out of bounds\");\n  const keys = value.keys();\n  while (n2 > 0) {\n    keys.next();\n    n2--;\n  }\n  return keys.next().value;\n};\nfunction validatePath(path) {\n  if (includes(path, \"__proto__\")) {\n    throw new Error(\"__proto__ is not allowed as a property\");\n  }\n  if (includes(path, \"prototype\")) {\n    throw new Error(\"prototype is not allowed as a property\");\n  }\n  if (includes(path, \"constructor\")) {\n    throw new Error(\"constructor is not allowed as a property\");\n  }\n}\nconst getDeep = (object, path) => {\n  validatePath(path);\n  for (let i2 = 0; i2 < path.length; i2++) {\n    const key = path[i2];\n    if (isSet(object)) {\n      object = getNthKey(object, +key);\n    } else if (isMap(object)) {\n      const row = +key;\n      const type = +path[++i2] === 0 ? \"key\" : \"value\";\n      const keyOfRow = getNthKey(object, row);\n      switch (type) {\n        case \"key\":\n          object = keyOfRow;\n          break;\n        case \"value\":\n          object = object.get(keyOfRow);\n          break;\n      }\n    } else {\n      object = object[key];\n    }\n  }\n  return object;\n};\nconst setDeep = (object, path, mapper) => {\n  validatePath(path);\n  if (path.length === 0) {\n    return mapper(object);\n  }\n  let parent = object;\n  for (let i2 = 0; i2 < path.length - 1; i2++) {\n    const key = path[i2];\n    if (isArray$1(parent)) {\n      const index2 = +key;\n      parent = parent[index2];\n    } else if (isPlainObject$1(parent)) {\n      parent = parent[key];\n    } else if (isSet(parent)) {\n      const row = +key;\n      parent = getNthKey(parent, row);\n    } else if (isMap(parent)) {\n      const isEnd = i2 === path.length - 2;\n      if (isEnd) {\n        break;\n      }\n      const row = +key;\n      const type = +path[++i2] === 0 ? \"key\" : \"value\";\n      const keyOfRow = getNthKey(parent, row);\n      switch (type) {\n        case \"key\":\n          parent = keyOfRow;\n          break;\n        case \"value\":\n          parent = parent.get(keyOfRow);\n          break;\n      }\n    }\n  }\n  const lastKey = path[path.length - 1];\n  if (isArray$1(parent)) {\n    parent[+lastKey] = mapper(parent[+lastKey]);\n  } else if (isPlainObject$1(parent)) {\n    parent[lastKey] = mapper(parent[lastKey]);\n  }\n  if (isSet(parent)) {\n    const oldValue = getNthKey(parent, +lastKey);\n    const newValue = mapper(oldValue);\n    if (oldValue !== newValue) {\n      parent.delete(oldValue);\n      parent.add(newValue);\n    }\n  }\n  if (isMap(parent)) {\n    const row = +path[path.length - 2];\n    const keyToRow = getNthKey(parent, row);\n    const type = +lastKey === 0 ? \"key\" : \"value\";\n    switch (type) {\n      case \"key\": {\n        const newKey = mapper(keyToRow);\n        parent.set(newKey, parent.get(keyToRow));\n        if (newKey !== keyToRow) {\n          parent.delete(keyToRow);\n        }\n        break;\n      }\n      case \"value\": {\n        parent.set(keyToRow, mapper(parent.get(keyToRow)));\n        break;\n      }\n    }\n  }\n  return object;\n};\nfunction traverse(tree, walker2, origin = []) {\n  if (!tree) {\n    return;\n  }\n  if (!isArray$1(tree)) {\n    forEach(tree, (subtree, key) => traverse(subtree, walker2, [...origin, ...parsePath(key)]));\n    return;\n  }\n  const [nodeValue, children] = tree;\n  if (children) {\n    forEach(children, (child, key) => {\n      traverse(child, walker2, [...origin, ...parsePath(key)]);\n    });\n  }\n  walker2(nodeValue, origin);\n}\nfunction applyValueAnnotations(plain, annotations, superJson) {\n  traverse(annotations, (type, path) => {\n    plain = setDeep(plain, path, (v2) => untransformValue(v2, type, superJson));\n  });\n  return plain;\n}\nfunction applyReferentialEqualityAnnotations(plain, annotations) {\n  function apply(identicalPaths, path) {\n    const object = getDeep(plain, parsePath(path));\n    identicalPaths.map(parsePath).forEach((identicalObjectPath) => {\n      plain = setDeep(plain, identicalObjectPath, () => object);\n    });\n  }\n  if (isArray$1(annotations)) {\n    const [root, other] = annotations;\n    root.forEach((identicalPath) => {\n      plain = setDeep(plain, parsePath(identicalPath), () => plain);\n    });\n    if (other) {\n      forEach(other, apply);\n    }\n  } else {\n    forEach(annotations, apply);\n  }\n  return plain;\n}\nconst isDeep = (object, superJson) => isPlainObject$1(object) || isArray$1(object) || isMap(object) || isSet(object) || isInstanceOfRegisteredClass(object, superJson);\nfunction addIdentity(object, path, identities) {\n  const existingSet = identities.get(object);\n  if (existingSet) {\n    existingSet.push(path);\n  } else {\n    identities.set(object, [path]);\n  }\n}\nfunction generateReferentialEqualityAnnotations(identitites, dedupe) {\n  const result = {};\n  let rootEqualityPaths = void 0;\n  identitites.forEach((paths) => {\n    if (paths.length <= 1) {\n      return;\n    }\n    if (!dedupe) {\n      paths = paths.map((path) => path.map(String)).sort((a3, b2) => a3.length - b2.length);\n    }\n    const [representativePath, ...identicalPaths] = paths;\n    if (representativePath.length === 0) {\n      rootEqualityPaths = identicalPaths.map(stringifyPath);\n    } else {\n      result[stringifyPath(representativePath)] = identicalPaths.map(stringifyPath);\n    }\n  });\n  if (rootEqualityPaths) {\n    if (isEmptyObject(result)) {\n      return [rootEqualityPaths];\n    } else {\n      return [rootEqualityPaths, result];\n    }\n  } else {\n    return isEmptyObject(result) ? void 0 : result;\n  }\n}\nconst walker = (object, identities, superJson, dedupe, path = [], objectsInThisPath = [], seenObjects = /* @__PURE__ */ new Map()) => {\n  const primitive = isPrimitive(object);\n  if (!primitive) {\n    addIdentity(object, path, identities);\n    const seen = seenObjects.get(object);\n    if (seen) {\n      return dedupe ? {\n        transformedValue: null\n      } : seen;\n    }\n  }\n  if (!isDeep(object, superJson)) {\n    const transformed2 = transformValue(object, superJson);\n    const result2 = transformed2 ? {\n      transformedValue: transformed2.value,\n      annotations: [transformed2.type]\n    } : {\n      transformedValue: object\n    };\n    if (!primitive) {\n      seenObjects.set(object, result2);\n    }\n    return result2;\n  }\n  if (includes(objectsInThisPath, object)) {\n    return {\n      transformedValue: null\n    };\n  }\n  const transformationResult = transformValue(object, superJson);\n  const transformed = (transformationResult == null ? void 0 : transformationResult.value) ?? object;\n  const transformedValue = isArray$1(transformed) ? [] : {};\n  const innerAnnotations = {};\n  forEach(transformed, (value, index2) => {\n    if (index2 === \"__proto__\" || index2 === \"constructor\" || index2 === \"prototype\") {\n      throw new Error(`Detected property ${index2}. This is a prototype pollution risk, please remove it from your object.`);\n    }\n    const recursiveResult = walker(value, identities, superJson, dedupe, [...path, index2], [...objectsInThisPath, object], seenObjects);\n    transformedValue[index2] = recursiveResult.transformedValue;\n    if (isArray$1(recursiveResult.annotations)) {\n      innerAnnotations[index2] = recursiveResult.annotations;\n    } else if (isPlainObject$1(recursiveResult.annotations)) {\n      forEach(recursiveResult.annotations, (tree, key) => {\n        innerAnnotations[escapeKey(index2) + \".\" + key] = tree;\n      });\n    }\n  });\n  const result = isEmptyObject(innerAnnotations) ? {\n    transformedValue,\n    annotations: !!transformationResult ? [transformationResult.type] : void 0\n  } : {\n    transformedValue,\n    annotations: !!transformationResult ? [transformationResult.type, innerAnnotations] : innerAnnotations\n  };\n  if (!primitive) {\n    seenObjects.set(object, result);\n  }\n  return result;\n};\nfunction getType(payload) {\n  return Object.prototype.toString.call(payload).slice(8, -1);\n}\nfunction isArray(payload) {\n  return getType(payload) === \"Array\";\n}\nfunction isPlainObject(payload) {\n  if (getType(payload) !== \"Object\")\n    return false;\n  const prototype = Object.getPrototypeOf(payload);\n  return !!prototype && prototype.constructor === Object && prototype === Object.prototype;\n}\nfunction assignProp(carry, key, newVal, originalObject, includeNonenumerable) {\n  const propType = {}.propertyIsEnumerable.call(originalObject, key) ? \"enumerable\" : \"nonenumerable\";\n  if (propType === \"enumerable\")\n    carry[key] = newVal;\n  if (includeNonenumerable && propType === \"nonenumerable\") {\n    Object.defineProperty(carry, key, {\n      value: newVal,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    });\n  }\n}\nfunction copy(target, options = {}) {\n  if (isArray(target)) {\n    return target.map((item) => copy(item, options));\n  }\n  if (!isPlainObject(target)) {\n    return target;\n  }\n  const props = Object.getOwnPropertyNames(target);\n  const symbols = Object.getOwnPropertySymbols(target);\n  return [...props, ...symbols].reduce((carry, key) => {\n    if (isArray(options.props) && !options.props.includes(key)) {\n      return carry;\n    }\n    const val = target[key];\n    const newVal = copy(val, options);\n    assignProp(carry, key, newVal, target, options.nonenumerable);\n    return carry;\n  }, {});\n}\nclass SuperJSON {\n  /**\n   * @param dedupeReferentialEqualities  If true, SuperJSON will make sure only one instance of referentially equal objects are serialized and the rest are replaced with `null`.\n   */\n  constructor({ dedupe = false } = {}) {\n    this.classRegistry = new ClassRegistry();\n    this.symbolRegistry = new Registry((s2) => s2.description ?? \"\");\n    this.customTransformerRegistry = new CustomTransformerRegistry();\n    this.allowedErrorProps = [];\n    this.dedupe = dedupe;\n  }\n  serialize(object) {\n    const identities = /* @__PURE__ */ new Map();\n    const output = walker(object, identities, this, this.dedupe);\n    const res = {\n      json: output.transformedValue\n    };\n    if (output.annotations) {\n      res.meta = {\n        ...res.meta,\n        values: output.annotations\n      };\n    }\n    const equalityAnnotations = generateReferentialEqualityAnnotations(identities, this.dedupe);\n    if (equalityAnnotations) {\n      res.meta = {\n        ...res.meta,\n        referentialEqualities: equalityAnnotations\n      };\n    }\n    return res;\n  }\n  deserialize(payload) {\n    const { json, meta } = payload;\n    let result = copy(json);\n    if (meta == null ? void 0 : meta.values) {\n      result = applyValueAnnotations(result, meta.values, this);\n    }\n    if (meta == null ? void 0 : meta.referentialEqualities) {\n      result = applyReferentialEqualityAnnotations(result, meta.referentialEqualities);\n    }\n    return result;\n  }\n  stringify(object) {\n    return JSON.stringify(this.serialize(object));\n  }\n  parse(string) {\n    return this.deserialize(JSON.parse(string));\n  }\n  registerClass(v2, options) {\n    this.classRegistry.register(v2, options);\n  }\n  registerSymbol(v2, identifier) {\n    this.symbolRegistry.register(v2, identifier);\n  }\n  registerCustom(transformer, name) {\n    this.customTransformerRegistry.register({\n      name,\n      ...transformer\n    });\n  }\n  allowErrorProps(...props) {\n    this.allowedErrorProps.push(...props);\n  }\n}\nSuperJSON.defaultInstance = new SuperJSON();\nSuperJSON.serialize = SuperJSON.defaultInstance.serialize.bind(SuperJSON.defaultInstance);\nSuperJSON.deserialize = SuperJSON.defaultInstance.deserialize.bind(SuperJSON.defaultInstance);\nSuperJSON.stringify = SuperJSON.defaultInstance.stringify.bind(SuperJSON.defaultInstance);\nSuperJSON.parse = SuperJSON.defaultInstance.parse.bind(SuperJSON.defaultInstance);\nSuperJSON.registerClass = SuperJSON.defaultInstance.registerClass.bind(SuperJSON.defaultInstance);\nSuperJSON.registerSymbol = SuperJSON.defaultInstance.registerSymbol.bind(SuperJSON.defaultInstance);\nSuperJSON.registerCustom = SuperJSON.defaultInstance.registerCustom.bind(SuperJSON.defaultInstance);\nSuperJSON.allowErrorProps = SuperJSON.defaultInstance.allowErrorProps.bind(SuperJSON.defaultInstance);\nSuperJSON.serialize;\nSuperJSON.deserialize;\nSuperJSON.stringify;\nSuperJSON.parse;\nSuperJSON.registerClass;\nSuperJSON.registerCustom;\nSuperJSON.registerSymbol;\nSuperJSON.allowErrorProps;\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e2) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, void 0);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, void 0)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn2) => (input) => {\n  try {\n    const result = fn2(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e2) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e2);\n      }\n    };\n  }\n};\nconst persistImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            const migration = options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n            if (migration instanceof Promise) {\n              return migration.then((result) => [true, result]);\n            }\n            return [true, migration];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e2) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e2);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persist = persistImpl;\nconst createAppStore = (s2) => {\n  const set = s2;\n  return {\n    appBlockRequestList: [],\n    appUnblockRequestList: [],\n    lastBlockRequestNumber: 0,\n    lastUnblockRequestNumber: 0,\n    isMainAppBlocked: false,\n    requestMainAppBlock: () => {\n      let newHandleValue = 0;\n      set((state) => {\n        newHandleValue = state.lastBlockRequestNumber + 1;\n        return {\n          appBlockRequestList: [...state.appBlockRequestList, newHandleValue],\n          lastBlockRequestNumber: newHandleValue,\n          isMainAppBlocked: state.appUnblockRequestList.length === 0\n          // Unblock requests override block requests\n        };\n      });\n      return newHandleValue;\n    },\n    requestMainAppUnblock: () => {\n      let newHandleValue = 0;\n      set((state) => {\n        newHandleValue = state.lastUnblockRequestNumber + 1;\n        return {\n          appUnblockRequestList: [\n            ...state.appUnblockRequestList,\n            newHandleValue\n          ],\n          lastUnblockRequestNumber: newHandleValue,\n          isMainAppBlocked: false\n        };\n      });\n      return newHandleValue;\n    },\n    discardMainAppBlock: (handle) => {\n      set((state) => {\n        const newBlockRequestList = state.appBlockRequestList.filter(\n          (h2) => h2 !== handle\n        );\n        return {\n          appBlockRequestList: newBlockRequestList,\n          isMainAppBlocked: newBlockRequestList.length > 0 && state.appUnblockRequestList.length === 0\n        };\n      });\n    },\n    discardMainAppUnblock: (handle) => {\n      set((state) => {\n        const newUnblockRequestList = state.appUnblockRequestList.filter(\n          (h2) => h2 !== handle\n        );\n        return {\n          appUnblockRequestList: newUnblockRequestList,\n          isMainAppBlocked: state.appBlockRequestList.length > 0 && newUnblockRequestList.length === 0\n        };\n      });\n    },\n    toolbarPosition: DropAreaZone.BOTTOM_CENTER,\n    setToolbarPosition: (position) => set(() => ({ toolbarPosition: position })),\n    toolbarBoxRef: b$5(),\n    setToolbarBoxRef: (ref) => set(() => ({ toolbarBoxRef: ref })),\n    unsetToolbarBoxRef: () => set(() => ({ toolbarBoxRef: b$5() })),\n    minimized: false,\n    minimize: () => set(() => ({ minimized: true })),\n    expand: () => set(() => ({ minimized: false })),\n    promotedOnStartup: false,\n    promotionFinished: () => set(() => ({ promotedOnStartup: true }))\n  };\n};\nfunction createSuperJSONStorage(storage) {\n  return {\n    getItem: (name) => {\n      const str = storage.getItem(name);\n      if (!str) return null;\n      return SuperJSON.parse(str);\n    },\n    setItem: (name, value) => {\n      storage.setItem(name, SuperJSON.stringify(value));\n    },\n    removeItem: (name) => storage.removeItem(name)\n  };\n}\nconst useAppState = create(\n  persist(createAppStore, {\n    name: \"stgws:companion\",\n    storage: createSuperJSONStorage(sessionStorage),\n    partialize: (state) => {\n      return {\n        toolbarPosition: state.toolbarPosition\n      };\n    }\n  })\n);\nconst ChatContext = K$3({\n  chats: [],\n  currentChatId: null,\n  createChat: () => \"\",\n  deleteChat: () => {\n  },\n  setCurrentChat: () => {\n  },\n  setChatInput: () => {\n  },\n  addChatDomContext: () => {\n  },\n  removeChatDomContext: () => {\n  },\n  addMessage: () => {\n  },\n  chatAreaState: \"hidden\",\n  setChatAreaState: () => {\n  },\n  isPromptCreationActive: false,\n  startPromptCreation: () => {\n  },\n  stopPromptCreation: () => {\n  }\n});\nconst ChatStateProvider = ({ children }) => {\n  const [chats, setChats] = d$4([\n    {\n      id: \"new_chat\",\n      messages: [],\n      title: \"New chat\",\n      inputValue: \"\",\n      domContextElements: []\n    }\n  ]);\n  const [currentChatId, setCurrentChatId] = d$4(\"new_chat\");\n  const [chatAreaState, internalSetChatAreaState] = d$4(\"hidden\");\n  const [isPromptCreationMode, setIsPromptCreationMode] = d$4(false);\n  const isMinimized = useAppState((state) => state.minimized);\n  y$6(() => {\n    if (isMinimized) {\n      setIsPromptCreationMode(false);\n      internalSetChatAreaState(\"hidden\");\n    }\n  }, [isMinimized]);\n  const { bridge } = useSRPCBridge();\n  const createChat = q$3(() => {\n    const newChatId = crypto.randomUUID();\n    const newChat = {\n      id: newChatId,\n      title: null,\n      messages: [],\n      inputValue: \"\",\n      domContextElements: []\n    };\n    setChats((prev) => [...prev, newChat]);\n    setCurrentChatId(newChatId);\n    return newChatId;\n  }, []);\n  const deleteChat = q$3(\n    (chatId) => {\n      setChats((prev) => {\n        const filteredChats = prev.filter((chat) => chat.id !== chatId);\n        if (filteredChats.length === 0) {\n          return [\n            {\n              id: \"new_chat\",\n              messages: [],\n              title: \"New chat\",\n              inputValue: \"\",\n              domContextElements: []\n            }\n          ];\n        }\n        return filteredChats;\n      });\n      if (currentChatId === chatId) {\n        setChats((prev) => {\n          setCurrentChatId(prev[0].id);\n          return prev;\n        });\n      }\n    },\n    [currentChatId]\n  );\n  const setCurrentChat = q$3((chatId) => {\n    setCurrentChatId(chatId);\n  }, []);\n  const setChatInput = q$3((chatId, value2) => {\n    setChats(\n      (prev) => prev.map(\n        (chat) => chat.id === chatId ? { ...chat, inputValue: value2 } : chat\n      )\n    );\n  }, []);\n  const startPromptCreation = q$3(() => {\n    setIsPromptCreationMode(true);\n    if (chatAreaState === \"hidden\") {\n      internalSetChatAreaState(\"compact\");\n    }\n  }, [chatAreaState]);\n  const stopPromptCreation = q$3(() => {\n    setIsPromptCreationMode(false);\n    setChats(\n      (prev) => prev.map(\n        (chat) => chat.id === currentChatId ? { ...chat, domContextElements: [] } : chat\n      )\n    );\n    if (chatAreaState === \"compact\") {\n      internalSetChatAreaState(\"hidden\");\n    }\n  }, [currentChatId, chatAreaState]);\n  const setChatAreaState = q$3(\n    (state) => {\n      internalSetChatAreaState(state);\n      if (state === \"hidden\") {\n        stopPromptCreation();\n      }\n    },\n    [internalSetChatAreaState, stopPromptCreation]\n  );\n  const addChatDomContext = q$3(\n    (chatId, element) => {\n      setChats(\n        (prev) => prev.map(\n          (chat) => chat.id === chatId ? {\n            ...chat,\n            domContextElements: [...chat.domContextElements, element]\n          } : chat\n        )\n      );\n    },\n    []\n  );\n  const removeChatDomContext = q$3(\n    (chatId, element) => {\n      setChats(\n        (prev) => prev.map(\n          (chat) => chat.id === chatId ? {\n            ...chat,\n            domContextElements: chat.domContextElements.filter(\n              (e2) => e2 !== element\n            )\n          } : chat\n        )\n      );\n    },\n    []\n  );\n  const addMessage = q$3(\n    (chatId, content) => {\n      if (!content.trim()) return;\n      const chat = chats.find((chat2) => chat2.id === chatId);\n      const prompt = createPrompt(\n        chat == null ? void 0 : chat.domContextElements,\n        content,\n        window.location.href\n      );\n      const newMessage = {\n        id: crypto.randomUUID(),\n        content: content.trim(),\n        sender: \"user\",\n        type: \"regular\",\n        timestamp: /* @__PURE__ */ new Date()\n      };\n      async function triggerAgentPrompt() {\n        if (bridge) {\n          await bridge.call.triggerAgentPrompt(\n            { prompt },\n            {\n              onUpdate: (update) => {\n              }\n            }\n          );\n        }\n      }\n      triggerAgentPrompt();\n      setIsPromptCreationMode(false);\n      if (chatAreaState === \"hidden\") {\n        internalSetChatAreaState(\"compact\");\n      }\n      setChats(\n        (prev) => prev.map(\n          (chat2) => chat2.id === chatId ? {\n            ...chat2,\n            messages: [...chat2.messages, newMessage],\n            inputValue: \"\",\n            domContextElements: []\n          } : chat2\n        )\n      );\n    },\n    [\n      chatAreaState,\n      bridge,\n      chats,\n      setIsPromptCreationMode,\n      internalSetChatAreaState\n    ]\n  );\n  const value = {\n    chats,\n    currentChatId,\n    createChat,\n    deleteChat,\n    setCurrentChat,\n    setChatInput,\n    addMessage,\n    chatAreaState,\n    setChatAreaState,\n    isPromptCreationActive: isPromptCreationMode,\n    startPromptCreation,\n    stopPromptCreation,\n    addChatDomContext,\n    removeChatDomContext\n  };\n  return /* @__PURE__ */ u$9(ChatContext.Provider, { value, children });\n};\nfunction useChatState() {\n  const context = x$4(ChatContext);\n  if (!context) {\n    throw new Error(\"useChatState must be used within a ChatStateProvider\");\n  }\n  return context;\n}\nfunction useCyclicUpdate(func, frameRate) {\n  const animationFrameHandle = A$3(void 0);\n  const timeBetweenFrames = T$5(\n    () => frameRate && frameRate > 0 ? 1e3 / frameRate : 0,\n    [frameRate]\n  );\n  const lastCallFrameTime = A$3(0);\n  const update = q$3(\n    (frameTime) => {\n      if (frameTime - lastCallFrameTime.current >= timeBetweenFrames) {\n        func();\n        lastCallFrameTime.current = frameTime;\n      }\n      animationFrameHandle.current = requestAnimationFrame(update);\n    },\n    [func, timeBetweenFrames]\n  );\n  y$6(() => {\n    if (!frameRate || frameRate > 0) {\n      animationFrameHandle.current = requestAnimationFrame(update);\n    }\n    return () => {\n      if (animationFrameHandle.current) {\n        cancelAnimationFrame(animationFrameHandle.current);\n        animationFrameHandle.current = void 0;\n      }\n    };\n  }, [frameRate, update]);\n}\nconst LocationContext = K$3(new URL(window.location.href));\nfunction LocationProvider({\n  children\n}) {\n  const [currentUrl, setCurrentUrl] = d$4(\n    new URL(window.location.href)\n  );\n  const update = q$3(() => {\n    setCurrentUrl(new URL(window.location.href));\n  }, []);\n  useCyclicUpdate(update, 15);\n  return /* @__PURE__ */ u$9(LocationContext.Provider, { value: currentUrl, children });\n}\nfunction ContextProviders({\n  children,\n  config\n}) {\n  return /* @__PURE__ */ u$9(LocationProvider, { children: /* @__PURE__ */ u$9(SRPCBridgeProvider, { children: /* @__PURE__ */ u$9(PluginProvider, { plugins: (config == null ? void 0 : config.plugins) || [], children: /* @__PURE__ */ u$9(ChatStateProvider, { children }) }) }) });\n}\nfunction useEventListener(eventName, handler, options, element = window) {\n  y$6(() => {\n    if (typeof window === \"undefined\") return;\n    if (!element) return;\n    element.addEventListener(eventName, handler, options);\n    return () => element.removeEventListener(eventName, handler);\n  }, [eventName, handler, element, options]);\n}\nfunction r$3(e2) {\n  var t2, f2, n2 = \"\";\n  if (\"string\" == typeof e2 || \"number\" == typeof e2) n2 += e2;\n  else if (\"object\" == typeof e2) if (Array.isArray(e2)) {\n    var o3 = e2.length;\n    for (t2 = 0; t2 < o3; t2++) e2[t2] && (f2 = r$3(e2[t2])) && (n2 && (n2 += \" \"), n2 += f2);\n  } else for (f2 in e2) e2[f2] && (n2 && (n2 += \" \"), n2 += f2);\n  return n2;\n}\nfunction clsx() {\n  for (var e2, t2, f2 = 0, n2 = \"\", o3 = arguments.length; f2 < o3; f2++) (e2 = arguments[f2]) && (t2 = r$3(e2)) && (n2 && (n2 += \" \"), n2 += t2);\n  return n2;\n}\nconst CLASS_PART_SEPARATOR = \"-\";\nconst createClassGroupUtils = (config) => {\n  const classMap = createClassMap(config);\n  const {\n    conflictingClassGroups,\n    conflictingClassGroupModifiers\n  } = config;\n  const getClassGroupId = (className) => {\n    const classParts = className.split(CLASS_PART_SEPARATOR);\n    if (classParts[0] === \"\" && classParts.length !== 1) {\n      classParts.shift();\n    }\n    return getGroupRecursive(classParts, classMap) || getGroupIdForArbitraryProperty(className);\n  };\n  const getConflictingClassGroupIds = (classGroupId, hasPostfixModifier) => {\n    const conflicts = conflictingClassGroups[classGroupId] || [];\n    if (hasPostfixModifier && conflictingClassGroupModifiers[classGroupId]) {\n      return [...conflicts, ...conflictingClassGroupModifiers[classGroupId]];\n    }\n    return conflicts;\n  };\n  return {\n    getClassGroupId,\n    getConflictingClassGroupIds\n  };\n};\nconst getGroupRecursive = (classParts, classPartObject) => {\n  var _a;\n  if (classParts.length === 0) {\n    return classPartObject.classGroupId;\n  }\n  const currentClassPart = classParts[0];\n  const nextClassPartObject = classPartObject.nextPart.get(currentClassPart);\n  const classGroupFromNextClassPart = nextClassPartObject ? getGroupRecursive(classParts.slice(1), nextClassPartObject) : void 0;\n  if (classGroupFromNextClassPart) {\n    return classGroupFromNextClassPart;\n  }\n  if (classPartObject.validators.length === 0) {\n    return void 0;\n  }\n  const classRest = classParts.join(CLASS_PART_SEPARATOR);\n  return (_a = classPartObject.validators.find(({\n    validator\n  }) => validator(classRest))) == null ? void 0 : _a.classGroupId;\n};\nconst arbitraryPropertyRegex = /^\\[(.+)\\]$/;\nconst getGroupIdForArbitraryProperty = (className) => {\n  if (arbitraryPropertyRegex.test(className)) {\n    const arbitraryPropertyClassName = arbitraryPropertyRegex.exec(className)[1];\n    const property = arbitraryPropertyClassName == null ? void 0 : arbitraryPropertyClassName.substring(0, arbitraryPropertyClassName.indexOf(\":\"));\n    if (property) {\n      return \"arbitrary..\" + property;\n    }\n  }\n};\nconst createClassMap = (config) => {\n  const {\n    theme,\n    classGroups\n  } = config;\n  const classMap = {\n    nextPart: /* @__PURE__ */ new Map(),\n    validators: []\n  };\n  for (const classGroupId in classGroups) {\n    processClassesRecursively(classGroups[classGroupId], classMap, classGroupId, theme);\n  }\n  return classMap;\n};\nconst processClassesRecursively = (classGroup, classPartObject, classGroupId, theme) => {\n  classGroup.forEach((classDefinition) => {\n    if (typeof classDefinition === \"string\") {\n      const classPartObjectToEdit = classDefinition === \"\" ? classPartObject : getPart(classPartObject, classDefinition);\n      classPartObjectToEdit.classGroupId = classGroupId;\n      return;\n    }\n    if (typeof classDefinition === \"function\") {\n      if (isThemeGetter(classDefinition)) {\n        processClassesRecursively(classDefinition(theme), classPartObject, classGroupId, theme);\n        return;\n      }\n      classPartObject.validators.push({\n        validator: classDefinition,\n        classGroupId\n      });\n      return;\n    }\n    Object.entries(classDefinition).forEach(([key, classGroup2]) => {\n      processClassesRecursively(classGroup2, getPart(classPartObject, key), classGroupId, theme);\n    });\n  });\n};\nconst getPart = (classPartObject, path) => {\n  let currentClassPartObject = classPartObject;\n  path.split(CLASS_PART_SEPARATOR).forEach((pathPart) => {\n    if (!currentClassPartObject.nextPart.has(pathPart)) {\n      currentClassPartObject.nextPart.set(pathPart, {\n        nextPart: /* @__PURE__ */ new Map(),\n        validators: []\n      });\n    }\n    currentClassPartObject = currentClassPartObject.nextPart.get(pathPart);\n  });\n  return currentClassPartObject;\n};\nconst isThemeGetter = (func) => func.isThemeGetter;\nconst createLruCache = (maxCacheSize) => {\n  if (maxCacheSize < 1) {\n    return {\n      get: () => void 0,\n      set: () => {\n      }\n    };\n  }\n  let cacheSize = 0;\n  let cache = /* @__PURE__ */ new Map();\n  let previousCache = /* @__PURE__ */ new Map();\n  const update = (key, value) => {\n    cache.set(key, value);\n    cacheSize++;\n    if (cacheSize > maxCacheSize) {\n      cacheSize = 0;\n      previousCache = cache;\n      cache = /* @__PURE__ */ new Map();\n    }\n  };\n  return {\n    get(key) {\n      let value = cache.get(key);\n      if (value !== void 0) {\n        return value;\n      }\n      if ((value = previousCache.get(key)) !== void 0) {\n        update(key, value);\n        return value;\n      }\n    },\n    set(key, value) {\n      if (cache.has(key)) {\n        cache.set(key, value);\n      } else {\n        update(key, value);\n      }\n    }\n  };\n};\nconst IMPORTANT_MODIFIER = \"!\";\nconst MODIFIER_SEPARATOR = \":\";\nconst MODIFIER_SEPARATOR_LENGTH = MODIFIER_SEPARATOR.length;\nconst createParseClassName = (config) => {\n  const {\n    prefix,\n    experimentalParseClassName\n  } = config;\n  let parseClassName = (className) => {\n    const modifiers = [];\n    let bracketDepth = 0;\n    let parenDepth = 0;\n    let modifierStart = 0;\n    let postfixModifierPosition;\n    for (let index2 = 0; index2 < className.length; index2++) {\n      let currentCharacter = className[index2];\n      if (bracketDepth === 0 && parenDepth === 0) {\n        if (currentCharacter === MODIFIER_SEPARATOR) {\n          modifiers.push(className.slice(modifierStart, index2));\n          modifierStart = index2 + MODIFIER_SEPARATOR_LENGTH;\n          continue;\n        }\n        if (currentCharacter === \"/\") {\n          postfixModifierPosition = index2;\n          continue;\n        }\n      }\n      if (currentCharacter === \"[\") {\n        bracketDepth++;\n      } else if (currentCharacter === \"]\") {\n        bracketDepth--;\n      } else if (currentCharacter === \"(\") {\n        parenDepth++;\n      } else if (currentCharacter === \")\") {\n        parenDepth--;\n      }\n    }\n    const baseClassNameWithImportantModifier = modifiers.length === 0 ? className : className.substring(modifierStart);\n    const baseClassName = stripImportantModifier(baseClassNameWithImportantModifier);\n    const hasImportantModifier = baseClassName !== baseClassNameWithImportantModifier;\n    const maybePostfixModifierPosition = postfixModifierPosition && postfixModifierPosition > modifierStart ? postfixModifierPosition - modifierStart : void 0;\n    return {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    };\n  };\n  if (prefix) {\n    const fullPrefix = prefix + MODIFIER_SEPARATOR;\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = (className) => className.startsWith(fullPrefix) ? parseClassNameOriginal(className.substring(fullPrefix.length)) : {\n      isExternal: true,\n      modifiers: [],\n      hasImportantModifier: false,\n      baseClassName: className,\n      maybePostfixModifierPosition: void 0\n    };\n  }\n  if (experimentalParseClassName) {\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = (className) => experimentalParseClassName({\n      className,\n      parseClassName: parseClassNameOriginal\n    });\n  }\n  return parseClassName;\n};\nconst stripImportantModifier = (baseClassName) => {\n  if (baseClassName.endsWith(IMPORTANT_MODIFIER)) {\n    return baseClassName.substring(0, baseClassName.length - 1);\n  }\n  if (baseClassName.startsWith(IMPORTANT_MODIFIER)) {\n    return baseClassName.substring(1);\n  }\n  return baseClassName;\n};\nconst createSortModifiers = (config) => {\n  const orderSensitiveModifiers = Object.fromEntries(config.orderSensitiveModifiers.map((modifier) => [modifier, true]));\n  const sortModifiers = (modifiers) => {\n    if (modifiers.length <= 1) {\n      return modifiers;\n    }\n    const sortedModifiers = [];\n    let unsortedModifiers = [];\n    modifiers.forEach((modifier) => {\n      const isPositionSensitive = modifier[0] === \"[\" || orderSensitiveModifiers[modifier];\n      if (isPositionSensitive) {\n        sortedModifiers.push(...unsortedModifiers.sort(), modifier);\n        unsortedModifiers = [];\n      } else {\n        unsortedModifiers.push(modifier);\n      }\n    });\n    sortedModifiers.push(...unsortedModifiers.sort());\n    return sortedModifiers;\n  };\n  return sortModifiers;\n};\nconst createConfigUtils = (config) => ({\n  cache: createLruCache(config.cacheSize),\n  parseClassName: createParseClassName(config),\n  sortModifiers: createSortModifiers(config),\n  ...createClassGroupUtils(config)\n});\nconst SPLIT_CLASSES_REGEX = /\\s+/;\nconst mergeClassList = (classList, configUtils) => {\n  const {\n    parseClassName,\n    getClassGroupId,\n    getConflictingClassGroupIds,\n    sortModifiers\n  } = configUtils;\n  const classGroupsInConflict = [];\n  const classNames = classList.trim().split(SPLIT_CLASSES_REGEX);\n  let result = \"\";\n  for (let index2 = classNames.length - 1; index2 >= 0; index2 -= 1) {\n    const originalClassName = classNames[index2];\n    const {\n      isExternal,\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    } = parseClassName(originalClassName);\n    if (isExternal) {\n      result = originalClassName + (result.length > 0 ? \" \" + result : result);\n      continue;\n    }\n    let hasPostfixModifier = !!maybePostfixModifierPosition;\n    let classGroupId = getClassGroupId(hasPostfixModifier ? baseClassName.substring(0, maybePostfixModifierPosition) : baseClassName);\n    if (!classGroupId) {\n      if (!hasPostfixModifier) {\n        result = originalClassName + (result.length > 0 ? \" \" + result : result);\n        continue;\n      }\n      classGroupId = getClassGroupId(baseClassName);\n      if (!classGroupId) {\n        result = originalClassName + (result.length > 0 ? \" \" + result : result);\n        continue;\n      }\n      hasPostfixModifier = false;\n    }\n    const variantModifier = sortModifiers(modifiers).join(\":\");\n    const modifierId = hasImportantModifier ? variantModifier + IMPORTANT_MODIFIER : variantModifier;\n    const classId = modifierId + classGroupId;\n    if (classGroupsInConflict.includes(classId)) {\n      continue;\n    }\n    classGroupsInConflict.push(classId);\n    const conflictGroups = getConflictingClassGroupIds(classGroupId, hasPostfixModifier);\n    for (let i2 = 0; i2 < conflictGroups.length; ++i2) {\n      const group = conflictGroups[i2];\n      classGroupsInConflict.push(modifierId + group);\n    }\n    result = originalClassName + (result.length > 0 ? \" \" + result : result);\n  }\n  return result;\n};\nfunction twJoin() {\n  let index2 = 0;\n  let argument;\n  let resolvedValue;\n  let string = \"\";\n  while (index2 < arguments.length) {\n    if (argument = arguments[index2++]) {\n      if (resolvedValue = toValue(argument)) {\n        string && (string += \" \");\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n}\nconst toValue = (mix) => {\n  if (typeof mix === \"string\") {\n    return mix;\n  }\n  let resolvedValue;\n  let string = \"\";\n  for (let k2 = 0; k2 < mix.length; k2++) {\n    if (mix[k2]) {\n      if (resolvedValue = toValue(mix[k2])) {\n        string && (string += \" \");\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nfunction createTailwindMerge(createConfigFirst, ...createConfigRest) {\n  let configUtils;\n  let cacheGet;\n  let cacheSet;\n  let functionToCall = initTailwindMerge;\n  function initTailwindMerge(classList) {\n    const config = createConfigRest.reduce((previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig), createConfigFirst());\n    configUtils = createConfigUtils(config);\n    cacheGet = configUtils.cache.get;\n    cacheSet = configUtils.cache.set;\n    functionToCall = tailwindMerge;\n    return tailwindMerge(classList);\n  }\n  function tailwindMerge(classList) {\n    const cachedResult = cacheGet(classList);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    const result = mergeClassList(classList, configUtils);\n    cacheSet(classList, result);\n    return result;\n  }\n  return function callTailwindMerge() {\n    return functionToCall(twJoin.apply(null, arguments));\n  };\n}\nconst fromTheme = (key) => {\n  const themeGetter = (theme) => theme[key] || [];\n  themeGetter.isThemeGetter = true;\n  return themeGetter;\n};\nconst arbitraryValueRegex = /^\\[(?:(\\w[\\w-]*):)?(.+)\\]$/i;\nconst arbitraryVariableRegex = /^\\((?:(\\w[\\w-]*):)?(.+)\\)$/i;\nconst fractionRegex = /^\\d+\\/\\d+$/;\nconst tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/;\nconst lengthUnitRegex = /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/;\nconst colorFunctionRegex = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\\(.+\\)$/;\nconst shadowRegex = /^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/;\nconst imageRegex = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/;\nconst isFraction = (value) => fractionRegex.test(value);\nconst isNumber = (value) => !!value && !Number.isNaN(Number(value));\nconst isInteger = (value) => !!value && Number.isInteger(Number(value));\nconst isPercent = (value) => value.endsWith(\"%\") && isNumber(value.slice(0, -1));\nconst isTshirtSize = (value) => tshirtUnitRegex.test(value);\nconst isAny = () => true;\nconst isLengthOnly = (value) => (\n  // `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.\n  // For example, `hsl(0 0% 0%)` would be classified as a length without this check.\n  // I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.\n  lengthUnitRegex.test(value) && !colorFunctionRegex.test(value)\n);\nconst isNever = () => false;\nconst isShadow = (value) => shadowRegex.test(value);\nconst isImage = (value) => imageRegex.test(value);\nconst isAnyNonArbitrary = (value) => !isArbitraryValue(value) && !isArbitraryVariable(value);\nconst isArbitrarySize = (value) => getIsArbitraryValue(value, isLabelSize, isNever);\nconst isArbitraryValue = (value) => arbitraryValueRegex.test(value);\nconst isArbitraryLength = (value) => getIsArbitraryValue(value, isLabelLength, isLengthOnly);\nconst isArbitraryNumber = (value) => getIsArbitraryValue(value, isLabelNumber, isNumber);\nconst isArbitraryPosition = (value) => getIsArbitraryValue(value, isLabelPosition, isNever);\nconst isArbitraryImage = (value) => getIsArbitraryValue(value, isLabelImage, isImage);\nconst isArbitraryShadow = (value) => getIsArbitraryValue(value, isLabelShadow, isShadow);\nconst isArbitraryVariable = (value) => arbitraryVariableRegex.test(value);\nconst isArbitraryVariableLength = (value) => getIsArbitraryVariable(value, isLabelLength);\nconst isArbitraryVariableFamilyName = (value) => getIsArbitraryVariable(value, isLabelFamilyName);\nconst isArbitraryVariablePosition = (value) => getIsArbitraryVariable(value, isLabelPosition);\nconst isArbitraryVariableSize = (value) => getIsArbitraryVariable(value, isLabelSize);\nconst isArbitraryVariableImage = (value) => getIsArbitraryVariable(value, isLabelImage);\nconst isArbitraryVariableShadow = (value) => getIsArbitraryVariable(value, isLabelShadow, true);\nconst getIsArbitraryValue = (value, testLabel, testValue) => {\n  const result = arbitraryValueRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return testValue(result[2]);\n  }\n  return false;\n};\nconst getIsArbitraryVariable = (value, testLabel, shouldMatchNoLabel = false) => {\n  const result = arbitraryVariableRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return shouldMatchNoLabel;\n  }\n  return false;\n};\nconst isLabelPosition = (label) => label === \"position\" || label === \"percentage\";\nconst isLabelImage = (label) => label === \"image\" || label === \"url\";\nconst isLabelSize = (label) => label === \"length\" || label === \"size\" || label === \"bg-size\";\nconst isLabelLength = (label) => label === \"length\";\nconst isLabelNumber = (label) => label === \"number\";\nconst isLabelFamilyName = (label) => label === \"family-name\";\nconst isLabelShadow = (label) => label === \"shadow\";\nconst getDefaultConfig = () => {\n  const themeColor = fromTheme(\"color\");\n  const themeFont = fromTheme(\"font\");\n  const themeText = fromTheme(\"text\");\n  const themeFontWeight = fromTheme(\"font-weight\");\n  const themeTracking = fromTheme(\"tracking\");\n  const themeLeading = fromTheme(\"leading\");\n  const themeBreakpoint = fromTheme(\"breakpoint\");\n  const themeContainer = fromTheme(\"container\");\n  const themeSpacing = fromTheme(\"spacing\");\n  const themeRadius = fromTheme(\"radius\");\n  const themeShadow = fromTheme(\"shadow\");\n  const themeInsetShadow = fromTheme(\"inset-shadow\");\n  const themeTextShadow = fromTheme(\"text-shadow\");\n  const themeDropShadow = fromTheme(\"drop-shadow\");\n  const themeBlur = fromTheme(\"blur\");\n  const themePerspective = fromTheme(\"perspective\");\n  const themeAspect = fromTheme(\"aspect\");\n  const themeEase = fromTheme(\"ease\");\n  const themeAnimate = fromTheme(\"animate\");\n  const scaleBreak = () => [\"auto\", \"avoid\", \"all\", \"avoid-page\", \"page\", \"left\", \"right\", \"column\"];\n  const scalePosition = () => [\n    \"center\",\n    \"top\",\n    \"bottom\",\n    \"left\",\n    \"right\",\n    \"top-left\",\n    // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n    \"left-top\",\n    \"top-right\",\n    // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n    \"right-top\",\n    \"bottom-right\",\n    // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n    \"right-bottom\",\n    \"bottom-left\",\n    // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n    \"left-bottom\"\n  ];\n  const scalePositionWithArbitrary = () => [...scalePosition(), isArbitraryVariable, isArbitraryValue];\n  const scaleOverflow = () => [\"auto\", \"hidden\", \"clip\", \"visible\", \"scroll\"];\n  const scaleOverscroll = () => [\"auto\", \"contain\", \"none\"];\n  const scaleUnambiguousSpacing = () => [isArbitraryVariable, isArbitraryValue, themeSpacing];\n  const scaleInset = () => [isFraction, \"full\", \"auto\", ...scaleUnambiguousSpacing()];\n  const scaleGridTemplateColsRows = () => [isInteger, \"none\", \"subgrid\", isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartAndEnd = () => [\"auto\", {\n    span: [\"full\", isInteger, isArbitraryVariable, isArbitraryValue]\n  }, isInteger, isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartOrEnd = () => [isInteger, \"auto\", isArbitraryVariable, isArbitraryValue];\n  const scaleGridAutoColsRows = () => [\"auto\", \"min\", \"max\", \"fr\", isArbitraryVariable, isArbitraryValue];\n  const scaleAlignPrimaryAxis = () => [\"start\", \"end\", \"center\", \"between\", \"around\", \"evenly\", \"stretch\", \"baseline\", \"center-safe\", \"end-safe\"];\n  const scaleAlignSecondaryAxis = () => [\"start\", \"end\", \"center\", \"stretch\", \"center-safe\", \"end-safe\"];\n  const scaleMargin = () => [\"auto\", ...scaleUnambiguousSpacing()];\n  const scaleSizing = () => [isFraction, \"auto\", \"full\", \"dvw\", \"dvh\", \"lvw\", \"lvh\", \"svw\", \"svh\", \"min\", \"max\", \"fit\", ...scaleUnambiguousSpacing()];\n  const scaleColor = () => [themeColor, isArbitraryVariable, isArbitraryValue];\n  const scaleBgPosition = () => [...scalePosition(), isArbitraryVariablePosition, isArbitraryPosition, {\n    position: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleBgRepeat = () => [\"no-repeat\", {\n    repeat: [\"\", \"x\", \"y\", \"space\", \"round\"]\n  }];\n  const scaleBgSize = () => [\"auto\", \"cover\", \"contain\", isArbitraryVariableSize, isArbitrarySize, {\n    size: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleGradientStopPosition = () => [isPercent, isArbitraryVariableLength, isArbitraryLength];\n  const scaleRadius = () => [\n    // Deprecated since Tailwind CSS v4.0.0\n    \"\",\n    \"none\",\n    \"full\",\n    themeRadius,\n    isArbitraryVariable,\n    isArbitraryValue\n  ];\n  const scaleBorderWidth = () => [\"\", isNumber, isArbitraryVariableLength, isArbitraryLength];\n  const scaleLineStyle = () => [\"solid\", \"dashed\", \"dotted\", \"double\"];\n  const scaleBlendMode = () => [\"normal\", \"multiply\", \"screen\", \"overlay\", \"darken\", \"lighten\", \"color-dodge\", \"color-burn\", \"hard-light\", \"soft-light\", \"difference\", \"exclusion\", \"hue\", \"saturation\", \"color\", \"luminosity\"];\n  const scaleMaskImagePosition = () => [isNumber, isPercent, isArbitraryVariablePosition, isArbitraryPosition];\n  const scaleBlur = () => [\n    // Deprecated since Tailwind CSS v4.0.0\n    \"\",\n    \"none\",\n    themeBlur,\n    isArbitraryVariable,\n    isArbitraryValue\n  ];\n  const scaleRotate = () => [\"none\", isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleScale = () => [\"none\", isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleSkew = () => [isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleTranslate = () => [isFraction, \"full\", ...scaleUnambiguousSpacing()];\n  return {\n    cacheSize: 500,\n    theme: {\n      animate: [\"spin\", \"ping\", \"pulse\", \"bounce\"],\n      aspect: [\"video\"],\n      blur: [isTshirtSize],\n      breakpoint: [isTshirtSize],\n      color: [isAny],\n      container: [isTshirtSize],\n      \"drop-shadow\": [isTshirtSize],\n      ease: [\"in\", \"out\", \"in-out\"],\n      font: [isAnyNonArbitrary],\n      \"font-weight\": [\"thin\", \"extralight\", \"light\", \"normal\", \"medium\", \"semibold\", \"bold\", \"extrabold\", \"black\"],\n      \"inset-shadow\": [isTshirtSize],\n      leading: [\"none\", \"tight\", \"snug\", \"normal\", \"relaxed\", \"loose\"],\n      perspective: [\"dramatic\", \"near\", \"normal\", \"midrange\", \"distant\", \"none\"],\n      radius: [isTshirtSize],\n      shadow: [isTshirtSize],\n      spacing: [\"px\", isNumber],\n      text: [isTshirtSize],\n      \"text-shadow\": [isTshirtSize],\n      tracking: [\"tighter\", \"tight\", \"normal\", \"wide\", \"wider\", \"widest\"]\n    },\n    classGroups: {\n      // --------------\n      // --- Layout ---\n      // --------------\n      /**\n       * Aspect Ratio\n       * @see https://tailwindcss.com/docs/aspect-ratio\n       */\n      aspect: [{\n        aspect: [\"auto\", \"square\", isFraction, isArbitraryValue, isArbitraryVariable, themeAspect]\n      }],\n      /**\n       * Container\n       * @see https://tailwindcss.com/docs/container\n       * @deprecated since Tailwind CSS v4.0.0\n       */\n      container: [\"container\"],\n      /**\n       * Columns\n       * @see https://tailwindcss.com/docs/columns\n       */\n      columns: [{\n        columns: [isNumber, isArbitraryValue, isArbitraryVariable, themeContainer]\n      }],\n      /**\n       * Break After\n       * @see https://tailwindcss.com/docs/break-after\n       */\n      \"break-after\": [{\n        \"break-after\": scaleBreak()\n      }],\n      /**\n       * Break Before\n       * @see https://tailwindcss.com/docs/break-before\n       */\n      \"break-before\": [{\n        \"break-before\": scaleBreak()\n      }],\n      /**\n       * Break Inside\n       * @see https://tailwindcss.com/docs/break-inside\n       */\n      \"break-inside\": [{\n        \"break-inside\": [\"auto\", \"avoid\", \"avoid-page\", \"avoid-column\"]\n      }],\n      /**\n       * Box Decoration Break\n       * @see https://tailwindcss.com/docs/box-decoration-break\n       */\n      \"box-decoration\": [{\n        \"box-decoration\": [\"slice\", \"clone\"]\n      }],\n      /**\n       * Box Sizing\n       * @see https://tailwindcss.com/docs/box-sizing\n       */\n      box: [{\n        box: [\"border\", \"content\"]\n      }],\n      /**\n       * Display\n       * @see https://tailwindcss.com/docs/display\n       */\n      display: [\"block\", \"inline-block\", \"inline\", \"flex\", \"inline-flex\", \"table\", \"inline-table\", \"table-caption\", \"table-cell\", \"table-column\", \"table-column-group\", \"table-footer-group\", \"table-header-group\", \"table-row-group\", \"table-row\", \"flow-root\", \"grid\", \"inline-grid\", \"contents\", \"list-item\", \"hidden\"],\n      /**\n       * Screen Reader Only\n       * @see https://tailwindcss.com/docs/display#screen-reader-only\n       */\n      sr: [\"sr-only\", \"not-sr-only\"],\n      /**\n       * Floats\n       * @see https://tailwindcss.com/docs/float\n       */\n      float: [{\n        float: [\"right\", \"left\", \"none\", \"start\", \"end\"]\n      }],\n      /**\n       * Clear\n       * @see https://tailwindcss.com/docs/clear\n       */\n      clear: [{\n        clear: [\"left\", \"right\", \"both\", \"none\", \"start\", \"end\"]\n      }],\n      /**\n       * Isolation\n       * @see https://tailwindcss.com/docs/isolation\n       */\n      isolation: [\"isolate\", \"isolation-auto\"],\n      /**\n       * Object Fit\n       * @see https://tailwindcss.com/docs/object-fit\n       */\n      \"object-fit\": [{\n        object: [\"contain\", \"cover\", \"fill\", \"none\", \"scale-down\"]\n      }],\n      /**\n       * Object Position\n       * @see https://tailwindcss.com/docs/object-position\n       */\n      \"object-position\": [{\n        object: scalePositionWithArbitrary()\n      }],\n      /**\n       * Overflow\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      overflow: [{\n        overflow: scaleOverflow()\n      }],\n      /**\n       * Overflow X\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      \"overflow-x\": [{\n        \"overflow-x\": scaleOverflow()\n      }],\n      /**\n       * Overflow Y\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      \"overflow-y\": [{\n        \"overflow-y\": scaleOverflow()\n      }],\n      /**\n       * Overscroll Behavior\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      overscroll: [{\n        overscroll: scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior X\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      \"overscroll-x\": [{\n        \"overscroll-x\": scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior Y\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      \"overscroll-y\": [{\n        \"overscroll-y\": scaleOverscroll()\n      }],\n      /**\n       * Position\n       * @see https://tailwindcss.com/docs/position\n       */\n      position: [\"static\", \"fixed\", \"absolute\", \"relative\", \"sticky\"],\n      /**\n       * Top / Right / Bottom / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      inset: [{\n        inset: scaleInset()\n      }],\n      /**\n       * Right / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      \"inset-x\": [{\n        \"inset-x\": scaleInset()\n      }],\n      /**\n       * Top / Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      \"inset-y\": [{\n        \"inset-y\": scaleInset()\n      }],\n      /**\n       * Start\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      start: [{\n        start: scaleInset()\n      }],\n      /**\n       * End\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      end: [{\n        end: scaleInset()\n      }],\n      /**\n       * Top\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      top: [{\n        top: scaleInset()\n      }],\n      /**\n       * Right\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      right: [{\n        right: scaleInset()\n      }],\n      /**\n       * Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      bottom: [{\n        bottom: scaleInset()\n      }],\n      /**\n       * Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      left: [{\n        left: scaleInset()\n      }],\n      /**\n       * Visibility\n       * @see https://tailwindcss.com/docs/visibility\n       */\n      visibility: [\"visible\", \"invisible\", \"collapse\"],\n      /**\n       * Z-Index\n       * @see https://tailwindcss.com/docs/z-index\n       */\n      z: [{\n        z: [isInteger, \"auto\", isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------------\n      // --- Flexbox and Grid ---\n      // ------------------------\n      /**\n       * Flex Basis\n       * @see https://tailwindcss.com/docs/flex-basis\n       */\n      basis: [{\n        basis: [isFraction, \"full\", \"auto\", themeContainer, ...scaleUnambiguousSpacing()]\n      }],\n      /**\n       * Flex Direction\n       * @see https://tailwindcss.com/docs/flex-direction\n       */\n      \"flex-direction\": [{\n        flex: [\"row\", \"row-reverse\", \"col\", \"col-reverse\"]\n      }],\n      /**\n       * Flex Wrap\n       * @see https://tailwindcss.com/docs/flex-wrap\n       */\n      \"flex-wrap\": [{\n        flex: [\"nowrap\", \"wrap\", \"wrap-reverse\"]\n      }],\n      /**\n       * Flex\n       * @see https://tailwindcss.com/docs/flex\n       */\n      flex: [{\n        flex: [isNumber, isFraction, \"auto\", \"initial\", \"none\", isArbitraryValue]\n      }],\n      /**\n       * Flex Grow\n       * @see https://tailwindcss.com/docs/flex-grow\n       */\n      grow: [{\n        grow: [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Flex Shrink\n       * @see https://tailwindcss.com/docs/flex-shrink\n       */\n      shrink: [{\n        shrink: [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Order\n       * @see https://tailwindcss.com/docs/order\n       */\n      order: [{\n        order: [isInteger, \"first\", \"last\", \"none\", isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Grid Template Columns\n       * @see https://tailwindcss.com/docs/grid-template-columns\n       */\n      \"grid-cols\": [{\n        \"grid-cols\": scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Column Start / End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      \"col-start-end\": [{\n        col: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Column Start\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      \"col-start\": [{\n        \"col-start\": scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Column End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      \"col-end\": [{\n        \"col-end\": scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Template Rows\n       * @see https://tailwindcss.com/docs/grid-template-rows\n       */\n      \"grid-rows\": [{\n        \"grid-rows\": scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Row Start / End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      \"row-start-end\": [{\n        row: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Row Start\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      \"row-start\": [{\n        \"row-start\": scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Row End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      \"row-end\": [{\n        \"row-end\": scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Auto Flow\n       * @see https://tailwindcss.com/docs/grid-auto-flow\n       */\n      \"grid-flow\": [{\n        \"grid-flow\": [\"row\", \"col\", \"dense\", \"row-dense\", \"col-dense\"]\n      }],\n      /**\n       * Grid Auto Columns\n       * @see https://tailwindcss.com/docs/grid-auto-columns\n       */\n      \"auto-cols\": [{\n        \"auto-cols\": scaleGridAutoColsRows()\n      }],\n      /**\n       * Grid Auto Rows\n       * @see https://tailwindcss.com/docs/grid-auto-rows\n       */\n      \"auto-rows\": [{\n        \"auto-rows\": scaleGridAutoColsRows()\n      }],\n      /**\n       * Gap\n       * @see https://tailwindcss.com/docs/gap\n       */\n      gap: [{\n        gap: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap X\n       * @see https://tailwindcss.com/docs/gap\n       */\n      \"gap-x\": [{\n        \"gap-x\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap Y\n       * @see https://tailwindcss.com/docs/gap\n       */\n      \"gap-y\": [{\n        \"gap-y\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Justify Content\n       * @see https://tailwindcss.com/docs/justify-content\n       */\n      \"justify-content\": [{\n        justify: [...scaleAlignPrimaryAxis(), \"normal\"]\n      }],\n      /**\n       * Justify Items\n       * @see https://tailwindcss.com/docs/justify-items\n       */\n      \"justify-items\": [{\n        \"justify-items\": [...scaleAlignSecondaryAxis(), \"normal\"]\n      }],\n      /**\n       * Justify Self\n       * @see https://tailwindcss.com/docs/justify-self\n       */\n      \"justify-self\": [{\n        \"justify-self\": [\"auto\", ...scaleAlignSecondaryAxis()]\n      }],\n      /**\n       * Align Content\n       * @see https://tailwindcss.com/docs/align-content\n       */\n      \"align-content\": [{\n        content: [\"normal\", ...scaleAlignPrimaryAxis()]\n      }],\n      /**\n       * Align Items\n       * @see https://tailwindcss.com/docs/align-items\n       */\n      \"align-items\": [{\n        items: [...scaleAlignSecondaryAxis(), {\n          baseline: [\"\", \"last\"]\n        }]\n      }],\n      /**\n       * Align Self\n       * @see https://tailwindcss.com/docs/align-self\n       */\n      \"align-self\": [{\n        self: [\"auto\", ...scaleAlignSecondaryAxis(), {\n          baseline: [\"\", \"last\"]\n        }]\n      }],\n      /**\n       * Place Content\n       * @see https://tailwindcss.com/docs/place-content\n       */\n      \"place-content\": [{\n        \"place-content\": scaleAlignPrimaryAxis()\n      }],\n      /**\n       * Place Items\n       * @see https://tailwindcss.com/docs/place-items\n       */\n      \"place-items\": [{\n        \"place-items\": [...scaleAlignSecondaryAxis(), \"baseline\"]\n      }],\n      /**\n       * Place Self\n       * @see https://tailwindcss.com/docs/place-self\n       */\n      \"place-self\": [{\n        \"place-self\": [\"auto\", ...scaleAlignSecondaryAxis()]\n      }],\n      // Spacing\n      /**\n       * Padding\n       * @see https://tailwindcss.com/docs/padding\n       */\n      p: [{\n        p: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding X\n       * @see https://tailwindcss.com/docs/padding\n       */\n      px: [{\n        px: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Y\n       * @see https://tailwindcss.com/docs/padding\n       */\n      py: [{\n        py: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Start\n       * @see https://tailwindcss.com/docs/padding\n       */\n      ps: [{\n        ps: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding End\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pe: [{\n        pe: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Top\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pt: [{\n        pt: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Right\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pr: [{\n        pr: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Bottom\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pb: [{\n        pb: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Left\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pl: [{\n        pl: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Margin\n       * @see https://tailwindcss.com/docs/margin\n       */\n      m: [{\n        m: scaleMargin()\n      }],\n      /**\n       * Margin X\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mx: [{\n        mx: scaleMargin()\n      }],\n      /**\n       * Margin Y\n       * @see https://tailwindcss.com/docs/margin\n       */\n      my: [{\n        my: scaleMargin()\n      }],\n      /**\n       * Margin Start\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ms: [{\n        ms: scaleMargin()\n      }],\n      /**\n       * Margin End\n       * @see https://tailwindcss.com/docs/margin\n       */\n      me: [{\n        me: scaleMargin()\n      }],\n      /**\n       * Margin Top\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mt: [{\n        mt: scaleMargin()\n      }],\n      /**\n       * Margin Right\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mr: [{\n        mr: scaleMargin()\n      }],\n      /**\n       * Margin Bottom\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mb: [{\n        mb: scaleMargin()\n      }],\n      /**\n       * Margin Left\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ml: [{\n        ml: scaleMargin()\n      }],\n      /**\n       * Space Between X\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      \"space-x\": [{\n        \"space-x\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between X Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      \"space-x-reverse\": [\"space-x-reverse\"],\n      /**\n       * Space Between Y\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      \"space-y\": [{\n        \"space-y\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between Y Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      \"space-y-reverse\": [\"space-y-reverse\"],\n      // --------------\n      // --- Sizing ---\n      // --------------\n      /**\n       * Size\n       * @see https://tailwindcss.com/docs/width#setting-both-width-and-height\n       */\n      size: [{\n        size: scaleSizing()\n      }],\n      /**\n       * Width\n       * @see https://tailwindcss.com/docs/width\n       */\n      w: [{\n        w: [themeContainer, \"screen\", ...scaleSizing()]\n      }],\n      /**\n       * Min-Width\n       * @see https://tailwindcss.com/docs/min-width\n       */\n      \"min-w\": [{\n        \"min-w\": [\n          themeContainer,\n          \"screen\",\n          /** Deprecated. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n          \"none\",\n          ...scaleSizing()\n        ]\n      }],\n      /**\n       * Max-Width\n       * @see https://tailwindcss.com/docs/max-width\n       */\n      \"max-w\": [{\n        \"max-w\": [\n          themeContainer,\n          \"screen\",\n          \"none\",\n          /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n          \"prose\",\n          /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n          {\n            screen: [themeBreakpoint]\n          },\n          ...scaleSizing()\n        ]\n      }],\n      /**\n       * Height\n       * @see https://tailwindcss.com/docs/height\n       */\n      h: [{\n        h: [\"screen\", ...scaleSizing()]\n      }],\n      /**\n       * Min-Height\n       * @see https://tailwindcss.com/docs/min-height\n       */\n      \"min-h\": [{\n        \"min-h\": [\"screen\", \"none\", ...scaleSizing()]\n      }],\n      /**\n       * Max-Height\n       * @see https://tailwindcss.com/docs/max-height\n       */\n      \"max-h\": [{\n        \"max-h\": [\"screen\", ...scaleSizing()]\n      }],\n      // ------------------\n      // --- Typography ---\n      // ------------------\n      /**\n       * Font Size\n       * @see https://tailwindcss.com/docs/font-size\n       */\n      \"font-size\": [{\n        text: [\"base\", themeText, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Font Smoothing\n       * @see https://tailwindcss.com/docs/font-smoothing\n       */\n      \"font-smoothing\": [\"antialiased\", \"subpixel-antialiased\"],\n      /**\n       * Font Style\n       * @see https://tailwindcss.com/docs/font-style\n       */\n      \"font-style\": [\"italic\", \"not-italic\"],\n      /**\n       * Font Weight\n       * @see https://tailwindcss.com/docs/font-weight\n       */\n      \"font-weight\": [{\n        font: [themeFontWeight, isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Font Stretch\n       * @see https://tailwindcss.com/docs/font-stretch\n       */\n      \"font-stretch\": [{\n        \"font-stretch\": [\"ultra-condensed\", \"extra-condensed\", \"condensed\", \"semi-condensed\", \"normal\", \"semi-expanded\", \"expanded\", \"extra-expanded\", \"ultra-expanded\", isPercent, isArbitraryValue]\n      }],\n      /**\n       * Font Family\n       * @see https://tailwindcss.com/docs/font-family\n       */\n      \"font-family\": [{\n        font: [isArbitraryVariableFamilyName, isArbitraryValue, themeFont]\n      }],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      \"fvn-normal\": [\"normal-nums\"],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      \"fvn-ordinal\": [\"ordinal\"],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      \"fvn-slashed-zero\": [\"slashed-zero\"],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      \"fvn-figure\": [\"lining-nums\", \"oldstyle-nums\"],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      \"fvn-spacing\": [\"proportional-nums\", \"tabular-nums\"],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      \"fvn-fraction\": [\"diagonal-fractions\", \"stacked-fractions\"],\n      /**\n       * Letter Spacing\n       * @see https://tailwindcss.com/docs/letter-spacing\n       */\n      tracking: [{\n        tracking: [themeTracking, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Line Clamp\n       * @see https://tailwindcss.com/docs/line-clamp\n       */\n      \"line-clamp\": [{\n        \"line-clamp\": [isNumber, \"none\", isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Line Height\n       * @see https://tailwindcss.com/docs/line-height\n       */\n      leading: [{\n        leading: [\n          /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n          themeLeading,\n          ...scaleUnambiguousSpacing()\n        ]\n      }],\n      /**\n       * List Style Image\n       * @see https://tailwindcss.com/docs/list-style-image\n       */\n      \"list-image\": [{\n        \"list-image\": [\"none\", isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * List Style Position\n       * @see https://tailwindcss.com/docs/list-style-position\n       */\n      \"list-style-position\": [{\n        list: [\"inside\", \"outside\"]\n      }],\n      /**\n       * List Style Type\n       * @see https://tailwindcss.com/docs/list-style-type\n       */\n      \"list-style-type\": [{\n        list: [\"disc\", \"decimal\", \"none\", isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Alignment\n       * @see https://tailwindcss.com/docs/text-align\n       */\n      \"text-alignment\": [{\n        text: [\"left\", \"center\", \"right\", \"justify\", \"start\", \"end\"]\n      }],\n      /**\n       * Placeholder Color\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://v3.tailwindcss.com/docs/placeholder-color\n       */\n      \"placeholder-color\": [{\n        placeholder: scaleColor()\n      }],\n      /**\n       * Text Color\n       * @see https://tailwindcss.com/docs/text-color\n       */\n      \"text-color\": [{\n        text: scaleColor()\n      }],\n      /**\n       * Text Decoration\n       * @see https://tailwindcss.com/docs/text-decoration\n       */\n      \"text-decoration\": [\"underline\", \"overline\", \"line-through\", \"no-underline\"],\n      /**\n       * Text Decoration Style\n       * @see https://tailwindcss.com/docs/text-decoration-style\n       */\n      \"text-decoration-style\": [{\n        decoration: [...scaleLineStyle(), \"wavy\"]\n      }],\n      /**\n       * Text Decoration Thickness\n       * @see https://tailwindcss.com/docs/text-decoration-thickness\n       */\n      \"text-decoration-thickness\": [{\n        decoration: [isNumber, \"from-font\", \"auto\", isArbitraryVariable, isArbitraryLength]\n      }],\n      /**\n       * Text Decoration Color\n       * @see https://tailwindcss.com/docs/text-decoration-color\n       */\n      \"text-decoration-color\": [{\n        decoration: scaleColor()\n      }],\n      /**\n       * Text Underline Offset\n       * @see https://tailwindcss.com/docs/text-underline-offset\n       */\n      \"underline-offset\": [{\n        \"underline-offset\": [isNumber, \"auto\", isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Transform\n       * @see https://tailwindcss.com/docs/text-transform\n       */\n      \"text-transform\": [\"uppercase\", \"lowercase\", \"capitalize\", \"normal-case\"],\n      /**\n       * Text Overflow\n       * @see https://tailwindcss.com/docs/text-overflow\n       */\n      \"text-overflow\": [\"truncate\", \"text-ellipsis\", \"text-clip\"],\n      /**\n       * Text Wrap\n       * @see https://tailwindcss.com/docs/text-wrap\n       */\n      \"text-wrap\": [{\n        text: [\"wrap\", \"nowrap\", \"balance\", \"pretty\"]\n      }],\n      /**\n       * Text Indent\n       * @see https://tailwindcss.com/docs/text-indent\n       */\n      indent: [{\n        indent: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Vertical Alignment\n       * @see https://tailwindcss.com/docs/vertical-align\n       */\n      \"vertical-align\": [{\n        align: [\"baseline\", \"top\", \"middle\", \"bottom\", \"text-top\", \"text-bottom\", \"sub\", \"super\", isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Whitespace\n       * @see https://tailwindcss.com/docs/whitespace\n       */\n      whitespace: [{\n        whitespace: [\"normal\", \"nowrap\", \"pre\", \"pre-line\", \"pre-wrap\", \"break-spaces\"]\n      }],\n      /**\n       * Word Break\n       * @see https://tailwindcss.com/docs/word-break\n       */\n      break: [{\n        break: [\"normal\", \"words\", \"all\", \"keep\"]\n      }],\n      /**\n       * Overflow Wrap\n       * @see https://tailwindcss.com/docs/overflow-wrap\n       */\n      wrap: [{\n        wrap: [\"break-word\", \"anywhere\", \"normal\"]\n      }],\n      /**\n       * Hyphens\n       * @see https://tailwindcss.com/docs/hyphens\n       */\n      hyphens: [{\n        hyphens: [\"none\", \"manual\", \"auto\"]\n      }],\n      /**\n       * Content\n       * @see https://tailwindcss.com/docs/content\n       */\n      content: [{\n        content: [\"none\", isArbitraryVariable, isArbitraryValue]\n      }],\n      // -------------------\n      // --- Backgrounds ---\n      // -------------------\n      /**\n       * Background Attachment\n       * @see https://tailwindcss.com/docs/background-attachment\n       */\n      \"bg-attachment\": [{\n        bg: [\"fixed\", \"local\", \"scroll\"]\n      }],\n      /**\n       * Background Clip\n       * @see https://tailwindcss.com/docs/background-clip\n       */\n      \"bg-clip\": [{\n        \"bg-clip\": [\"border\", \"padding\", \"content\", \"text\"]\n      }],\n      /**\n       * Background Origin\n       * @see https://tailwindcss.com/docs/background-origin\n       */\n      \"bg-origin\": [{\n        \"bg-origin\": [\"border\", \"padding\", \"content\"]\n      }],\n      /**\n       * Background Position\n       * @see https://tailwindcss.com/docs/background-position\n       */\n      \"bg-position\": [{\n        bg: scaleBgPosition()\n      }],\n      /**\n       * Background Repeat\n       * @see https://tailwindcss.com/docs/background-repeat\n       */\n      \"bg-repeat\": [{\n        bg: scaleBgRepeat()\n      }],\n      /**\n       * Background Size\n       * @see https://tailwindcss.com/docs/background-size\n       */\n      \"bg-size\": [{\n        bg: scaleBgSize()\n      }],\n      /**\n       * Background Image\n       * @see https://tailwindcss.com/docs/background-image\n       */\n      \"bg-image\": [{\n        bg: [\"none\", {\n          linear: [{\n            to: [\"t\", \"tr\", \"r\", \"br\", \"b\", \"bl\", \"l\", \"tl\"]\n          }, isInteger, isArbitraryVariable, isArbitraryValue],\n          radial: [\"\", isArbitraryVariable, isArbitraryValue],\n          conic: [isInteger, isArbitraryVariable, isArbitraryValue]\n        }, isArbitraryVariableImage, isArbitraryImage]\n      }],\n      /**\n       * Background Color\n       * @see https://tailwindcss.com/docs/background-color\n       */\n      \"bg-color\": [{\n        bg: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops From Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      \"gradient-from-pos\": [{\n        from: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops Via Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      \"gradient-via-pos\": [{\n        via: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops To Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      \"gradient-to-pos\": [{\n        to: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops From\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      \"gradient-from\": [{\n        from: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops Via\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      \"gradient-via\": [{\n        via: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops To\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      \"gradient-to\": [{\n        to: scaleColor()\n      }],\n      // ---------------\n      // --- Borders ---\n      // ---------------\n      /**\n       * Border Radius\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      rounded: [{\n        rounded: scaleRadius()\n      }],\n      /**\n       * Border Radius Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-s\": [{\n        \"rounded-s\": scaleRadius()\n      }],\n      /**\n       * Border Radius End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-e\": [{\n        \"rounded-e\": scaleRadius()\n      }],\n      /**\n       * Border Radius Top\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-t\": [{\n        \"rounded-t\": scaleRadius()\n      }],\n      /**\n       * Border Radius Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-r\": [{\n        \"rounded-r\": scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-b\": [{\n        \"rounded-b\": scaleRadius()\n      }],\n      /**\n       * Border Radius Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-l\": [{\n        \"rounded-l\": scaleRadius()\n      }],\n      /**\n       * Border Radius Start Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-ss\": [{\n        \"rounded-ss\": scaleRadius()\n      }],\n      /**\n       * Border Radius Start End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-se\": [{\n        \"rounded-se\": scaleRadius()\n      }],\n      /**\n       * Border Radius End End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-ee\": [{\n        \"rounded-ee\": scaleRadius()\n      }],\n      /**\n       * Border Radius End Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-es\": [{\n        \"rounded-es\": scaleRadius()\n      }],\n      /**\n       * Border Radius Top Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-tl\": [{\n        \"rounded-tl\": scaleRadius()\n      }],\n      /**\n       * Border Radius Top Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-tr\": [{\n        \"rounded-tr\": scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-br\": [{\n        \"rounded-br\": scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      \"rounded-bl\": [{\n        \"rounded-bl\": scaleRadius()\n      }],\n      /**\n       * Border Width\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w\": [{\n        border: scaleBorderWidth()\n      }],\n      /**\n       * Border Width X\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w-x\": [{\n        \"border-x\": scaleBorderWidth()\n      }],\n      /**\n       * Border Width Y\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w-y\": [{\n        \"border-y\": scaleBorderWidth()\n      }],\n      /**\n       * Border Width Start\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w-s\": [{\n        \"border-s\": scaleBorderWidth()\n      }],\n      /**\n       * Border Width End\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w-e\": [{\n        \"border-e\": scaleBorderWidth()\n      }],\n      /**\n       * Border Width Top\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w-t\": [{\n        \"border-t\": scaleBorderWidth()\n      }],\n      /**\n       * Border Width Right\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w-r\": [{\n        \"border-r\": scaleBorderWidth()\n      }],\n      /**\n       * Border Width Bottom\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w-b\": [{\n        \"border-b\": scaleBorderWidth()\n      }],\n      /**\n       * Border Width Left\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      \"border-w-l\": [{\n        \"border-l\": scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      \"divide-x\": [{\n        \"divide-x\": scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      \"divide-x-reverse\": [\"divide-x-reverse\"],\n      /**\n       * Divide Width Y\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      \"divide-y\": [{\n        \"divide-y\": scaleBorderWidth()\n      }],\n      /**\n       * Divide Width Y Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      \"divide-y-reverse\": [\"divide-y-reverse\"],\n      /**\n       * Border Style\n       * @see https://tailwindcss.com/docs/border-style\n       */\n      \"border-style\": [{\n        border: [...scaleLineStyle(), \"hidden\", \"none\"]\n      }],\n      /**\n       * Divide Style\n       * @see https://tailwindcss.com/docs/border-style#setting-the-divider-style\n       */\n      \"divide-style\": [{\n        divide: [...scaleLineStyle(), \"hidden\", \"none\"]\n      }],\n      /**\n       * Border Color\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color\": [{\n        border: scaleColor()\n      }],\n      /**\n       * Border Color X\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color-x\": [{\n        \"border-x\": scaleColor()\n      }],\n      /**\n       * Border Color Y\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color-y\": [{\n        \"border-y\": scaleColor()\n      }],\n      /**\n       * Border Color S\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color-s\": [{\n        \"border-s\": scaleColor()\n      }],\n      /**\n       * Border Color E\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color-e\": [{\n        \"border-e\": scaleColor()\n      }],\n      /**\n       * Border Color Top\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color-t\": [{\n        \"border-t\": scaleColor()\n      }],\n      /**\n       * Border Color Right\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color-r\": [{\n        \"border-r\": scaleColor()\n      }],\n      /**\n       * Border Color Bottom\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color-b\": [{\n        \"border-b\": scaleColor()\n      }],\n      /**\n       * Border Color Left\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      \"border-color-l\": [{\n        \"border-l\": scaleColor()\n      }],\n      /**\n       * Divide Color\n       * @see https://tailwindcss.com/docs/divide-color\n       */\n      \"divide-color\": [{\n        divide: scaleColor()\n      }],\n      /**\n       * Outline Style\n       * @see https://tailwindcss.com/docs/outline-style\n       */\n      \"outline-style\": [{\n        outline: [...scaleLineStyle(), \"none\", \"hidden\"]\n      }],\n      /**\n       * Outline Offset\n       * @see https://tailwindcss.com/docs/outline-offset\n       */\n      \"outline-offset\": [{\n        \"outline-offset\": [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Outline Width\n       * @see https://tailwindcss.com/docs/outline-width\n       */\n      \"outline-w\": [{\n        outline: [\"\", isNumber, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Outline Color\n       * @see https://tailwindcss.com/docs/outline-color\n       */\n      \"outline-color\": [{\n        outline: scaleColor()\n      }],\n      // ---------------\n      // --- Effects ---\n      // ---------------\n      /**\n       * Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow\n       */\n      shadow: [{\n        shadow: [\n          // Deprecated since Tailwind CSS v4.0.0\n          \"\",\n          \"none\",\n          themeShadow,\n          isArbitraryVariableShadow,\n          isArbitraryShadow\n        ]\n      }],\n      /**\n       * Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-shadow-color\n       */\n      \"shadow-color\": [{\n        shadow: scaleColor()\n      }],\n      /**\n       * Inset Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-shadow\n       */\n      \"inset-shadow\": [{\n        \"inset-shadow\": [\"none\", themeInsetShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Inset Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-shadow-color\n       */\n      \"inset-shadow-color\": [{\n        \"inset-shadow\": scaleColor()\n      }],\n      /**\n       * Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-a-ring\n       */\n      \"ring-w\": [{\n        ring: scaleBorderWidth()\n      }],\n      /**\n       * Ring Width Inset\n       * @see https://v3.tailwindcss.com/docs/ring-width#inset-rings\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      \"ring-w-inset\": [\"ring-inset\"],\n      /**\n       * Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-ring-color\n       */\n      \"ring-color\": [{\n        ring: scaleColor()\n      }],\n      /**\n       * Ring Offset Width\n       * @see https://v3.tailwindcss.com/docs/ring-offset-width\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      \"ring-offset-w\": [{\n        \"ring-offset\": [isNumber, isArbitraryLength]\n      }],\n      /**\n       * Ring Offset Color\n       * @see https://v3.tailwindcss.com/docs/ring-offset-color\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      \"ring-offset-color\": [{\n        \"ring-offset\": scaleColor()\n      }],\n      /**\n       * Inset Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-ring\n       */\n      \"inset-ring-w\": [{\n        \"inset-ring\": scaleBorderWidth()\n      }],\n      /**\n       * Inset Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-ring-color\n       */\n      \"inset-ring-color\": [{\n        \"inset-ring\": scaleColor()\n      }],\n      /**\n       * Text Shadow\n       * @see https://tailwindcss.com/docs/text-shadow\n       */\n      \"text-shadow\": [{\n        \"text-shadow\": [\"none\", themeTextShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Text Shadow Color\n       * @see https://tailwindcss.com/docs/text-shadow#setting-the-shadow-color\n       */\n      \"text-shadow-color\": [{\n        \"text-shadow\": scaleColor()\n      }],\n      /**\n       * Opacity\n       * @see https://tailwindcss.com/docs/opacity\n       */\n      opacity: [{\n        opacity: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Mix Blend Mode\n       * @see https://tailwindcss.com/docs/mix-blend-mode\n       */\n      \"mix-blend\": [{\n        \"mix-blend\": [...scaleBlendMode(), \"plus-darker\", \"plus-lighter\"]\n      }],\n      /**\n       * Background Blend Mode\n       * @see https://tailwindcss.com/docs/background-blend-mode\n       */\n      \"bg-blend\": [{\n        \"bg-blend\": scaleBlendMode()\n      }],\n      /**\n       * Mask Clip\n       * @see https://tailwindcss.com/docs/mask-clip\n       */\n      \"mask-clip\": [{\n        \"mask-clip\": [\"border\", \"padding\", \"content\", \"fill\", \"stroke\", \"view\"]\n      }, \"mask-no-clip\"],\n      /**\n       * Mask Composite\n       * @see https://tailwindcss.com/docs/mask-composite\n       */\n      \"mask-composite\": [{\n        mask: [\"add\", \"subtract\", \"intersect\", \"exclude\"]\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      \"mask-image-linear-pos\": [{\n        \"mask-linear\": [isNumber]\n      }],\n      \"mask-image-linear-from-pos\": [{\n        \"mask-linear-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-linear-to-pos\": [{\n        \"mask-linear-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-linear-from-color\": [{\n        \"mask-linear-from\": scaleColor()\n      }],\n      \"mask-image-linear-to-color\": [{\n        \"mask-linear-to\": scaleColor()\n      }],\n      \"mask-image-t-from-pos\": [{\n        \"mask-t-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-t-to-pos\": [{\n        \"mask-t-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-t-from-color\": [{\n        \"mask-t-from\": scaleColor()\n      }],\n      \"mask-image-t-to-color\": [{\n        \"mask-t-to\": scaleColor()\n      }],\n      \"mask-image-r-from-pos\": [{\n        \"mask-r-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-r-to-pos\": [{\n        \"mask-r-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-r-from-color\": [{\n        \"mask-r-from\": scaleColor()\n      }],\n      \"mask-image-r-to-color\": [{\n        \"mask-r-to\": scaleColor()\n      }],\n      \"mask-image-b-from-pos\": [{\n        \"mask-b-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-b-to-pos\": [{\n        \"mask-b-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-b-from-color\": [{\n        \"mask-b-from\": scaleColor()\n      }],\n      \"mask-image-b-to-color\": [{\n        \"mask-b-to\": scaleColor()\n      }],\n      \"mask-image-l-from-pos\": [{\n        \"mask-l-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-l-to-pos\": [{\n        \"mask-l-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-l-from-color\": [{\n        \"mask-l-from\": scaleColor()\n      }],\n      \"mask-image-l-to-color\": [{\n        \"mask-l-to\": scaleColor()\n      }],\n      \"mask-image-x-from-pos\": [{\n        \"mask-x-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-x-to-pos\": [{\n        \"mask-x-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-x-from-color\": [{\n        \"mask-x-from\": scaleColor()\n      }],\n      \"mask-image-x-to-color\": [{\n        \"mask-x-to\": scaleColor()\n      }],\n      \"mask-image-y-from-pos\": [{\n        \"mask-y-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-y-to-pos\": [{\n        \"mask-y-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-y-from-color\": [{\n        \"mask-y-from\": scaleColor()\n      }],\n      \"mask-image-y-to-color\": [{\n        \"mask-y-to\": scaleColor()\n      }],\n      \"mask-image-radial\": [{\n        \"mask-radial\": [isArbitraryVariable, isArbitraryValue]\n      }],\n      \"mask-image-radial-from-pos\": [{\n        \"mask-radial-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-radial-to-pos\": [{\n        \"mask-radial-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-radial-from-color\": [{\n        \"mask-radial-from\": scaleColor()\n      }],\n      \"mask-image-radial-to-color\": [{\n        \"mask-radial-to\": scaleColor()\n      }],\n      \"mask-image-radial-shape\": [{\n        \"mask-radial\": [\"circle\", \"ellipse\"]\n      }],\n      \"mask-image-radial-size\": [{\n        \"mask-radial\": [{\n          closest: [\"side\", \"corner\"],\n          farthest: [\"side\", \"corner\"]\n        }]\n      }],\n      \"mask-image-radial-pos\": [{\n        \"mask-radial-at\": scalePosition()\n      }],\n      \"mask-image-conic-pos\": [{\n        \"mask-conic\": [isNumber]\n      }],\n      \"mask-image-conic-from-pos\": [{\n        \"mask-conic-from\": scaleMaskImagePosition()\n      }],\n      \"mask-image-conic-to-pos\": [{\n        \"mask-conic-to\": scaleMaskImagePosition()\n      }],\n      \"mask-image-conic-from-color\": [{\n        \"mask-conic-from\": scaleColor()\n      }],\n      \"mask-image-conic-to-color\": [{\n        \"mask-conic-to\": scaleColor()\n      }],\n      /**\n       * Mask Mode\n       * @see https://tailwindcss.com/docs/mask-mode\n       */\n      \"mask-mode\": [{\n        mask: [\"alpha\", \"luminance\", \"match\"]\n      }],\n      /**\n       * Mask Origin\n       * @see https://tailwindcss.com/docs/mask-origin\n       */\n      \"mask-origin\": [{\n        \"mask-origin\": [\"border\", \"padding\", \"content\", \"fill\", \"stroke\", \"view\"]\n      }],\n      /**\n       * Mask Position\n       * @see https://tailwindcss.com/docs/mask-position\n       */\n      \"mask-position\": [{\n        mask: scaleBgPosition()\n      }],\n      /**\n       * Mask Repeat\n       * @see https://tailwindcss.com/docs/mask-repeat\n       */\n      \"mask-repeat\": [{\n        mask: scaleBgRepeat()\n      }],\n      /**\n       * Mask Size\n       * @see https://tailwindcss.com/docs/mask-size\n       */\n      \"mask-size\": [{\n        mask: scaleBgSize()\n      }],\n      /**\n       * Mask Type\n       * @see https://tailwindcss.com/docs/mask-type\n       */\n      \"mask-type\": [{\n        \"mask-type\": [\"alpha\", \"luminance\"]\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      \"mask-image\": [{\n        mask: [\"none\", isArbitraryVariable, isArbitraryValue]\n      }],\n      // ---------------\n      // --- Filters ---\n      // ---------------\n      /**\n       * Filter\n       * @see https://tailwindcss.com/docs/filter\n       */\n      filter: [{\n        filter: [\n          // Deprecated since Tailwind CSS v3.0.0\n          \"\",\n          \"none\",\n          isArbitraryVariable,\n          isArbitraryValue\n        ]\n      }],\n      /**\n       * Blur\n       * @see https://tailwindcss.com/docs/blur\n       */\n      blur: [{\n        blur: scaleBlur()\n      }],\n      /**\n       * Brightness\n       * @see https://tailwindcss.com/docs/brightness\n       */\n      brightness: [{\n        brightness: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Contrast\n       * @see https://tailwindcss.com/docs/contrast\n       */\n      contrast: [{\n        contrast: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Drop Shadow\n       * @see https://tailwindcss.com/docs/drop-shadow\n       */\n      \"drop-shadow\": [{\n        \"drop-shadow\": [\n          // Deprecated since Tailwind CSS v4.0.0\n          \"\",\n          \"none\",\n          themeDropShadow,\n          isArbitraryVariableShadow,\n          isArbitraryShadow\n        ]\n      }],\n      /**\n       * Drop Shadow Color\n       * @see https://tailwindcss.com/docs/filter-drop-shadow#setting-the-shadow-color\n       */\n      \"drop-shadow-color\": [{\n        \"drop-shadow\": scaleColor()\n      }],\n      /**\n       * Grayscale\n       * @see https://tailwindcss.com/docs/grayscale\n       */\n      grayscale: [{\n        grayscale: [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Hue Rotate\n       * @see https://tailwindcss.com/docs/hue-rotate\n       */\n      \"hue-rotate\": [{\n        \"hue-rotate\": [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Invert\n       * @see https://tailwindcss.com/docs/invert\n       */\n      invert: [{\n        invert: [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Saturate\n       * @see https://tailwindcss.com/docs/saturate\n       */\n      saturate: [{\n        saturate: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Sepia\n       * @see https://tailwindcss.com/docs/sepia\n       */\n      sepia: [{\n        sepia: [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Filter\n       * @see https://tailwindcss.com/docs/backdrop-filter\n       */\n      \"backdrop-filter\": [{\n        \"backdrop-filter\": [\n          // Deprecated since Tailwind CSS v3.0.0\n          \"\",\n          \"none\",\n          isArbitraryVariable,\n          isArbitraryValue\n        ]\n      }],\n      /**\n       * Backdrop Blur\n       * @see https://tailwindcss.com/docs/backdrop-blur\n       */\n      \"backdrop-blur\": [{\n        \"backdrop-blur\": scaleBlur()\n      }],\n      /**\n       * Backdrop Brightness\n       * @see https://tailwindcss.com/docs/backdrop-brightness\n       */\n      \"backdrop-brightness\": [{\n        \"backdrop-brightness\": [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Contrast\n       * @see https://tailwindcss.com/docs/backdrop-contrast\n       */\n      \"backdrop-contrast\": [{\n        \"backdrop-contrast\": [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Grayscale\n       * @see https://tailwindcss.com/docs/backdrop-grayscale\n       */\n      \"backdrop-grayscale\": [{\n        \"backdrop-grayscale\": [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Hue Rotate\n       * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n       */\n      \"backdrop-hue-rotate\": [{\n        \"backdrop-hue-rotate\": [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Invert\n       * @see https://tailwindcss.com/docs/backdrop-invert\n       */\n      \"backdrop-invert\": [{\n        \"backdrop-invert\": [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Opacity\n       * @see https://tailwindcss.com/docs/backdrop-opacity\n       */\n      \"backdrop-opacity\": [{\n        \"backdrop-opacity\": [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Saturate\n       * @see https://tailwindcss.com/docs/backdrop-saturate\n       */\n      \"backdrop-saturate\": [{\n        \"backdrop-saturate\": [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Sepia\n       * @see https://tailwindcss.com/docs/backdrop-sepia\n       */\n      \"backdrop-sepia\": [{\n        \"backdrop-sepia\": [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      // --------------\n      // --- Tables ---\n      // --------------\n      /**\n       * Border Collapse\n       * @see https://tailwindcss.com/docs/border-collapse\n       */\n      \"border-collapse\": [{\n        border: [\"collapse\", \"separate\"]\n      }],\n      /**\n       * Border Spacing\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      \"border-spacing\": [{\n        \"border-spacing\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing X\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      \"border-spacing-x\": [{\n        \"border-spacing-x\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing Y\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      \"border-spacing-y\": [{\n        \"border-spacing-y\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Table Layout\n       * @see https://tailwindcss.com/docs/table-layout\n       */\n      \"table-layout\": [{\n        table: [\"auto\", \"fixed\"]\n      }],\n      /**\n       * Caption Side\n       * @see https://tailwindcss.com/docs/caption-side\n       */\n      caption: [{\n        caption: [\"top\", \"bottom\"]\n      }],\n      // ---------------------------------\n      // --- Transitions and Animation ---\n      // ---------------------------------\n      /**\n       * Transition Property\n       * @see https://tailwindcss.com/docs/transition-property\n       */\n      transition: [{\n        transition: [\"\", \"all\", \"colors\", \"opacity\", \"shadow\", \"transform\", \"none\", isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Behavior\n       * @see https://tailwindcss.com/docs/transition-behavior\n       */\n      \"transition-behavior\": [{\n        transition: [\"normal\", \"discrete\"]\n      }],\n      /**\n       * Transition Duration\n       * @see https://tailwindcss.com/docs/transition-duration\n       */\n      duration: [{\n        duration: [isNumber, \"initial\", isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Timing Function\n       * @see https://tailwindcss.com/docs/transition-timing-function\n       */\n      ease: [{\n        ease: [\"linear\", \"initial\", themeEase, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Delay\n       * @see https://tailwindcss.com/docs/transition-delay\n       */\n      delay: [{\n        delay: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Animation\n       * @see https://tailwindcss.com/docs/animation\n       */\n      animate: [{\n        animate: [\"none\", themeAnimate, isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------\n      // --- Transforms ---\n      // ------------------\n      /**\n       * Backface Visibility\n       * @see https://tailwindcss.com/docs/backface-visibility\n       */\n      backface: [{\n        backface: [\"hidden\", \"visible\"]\n      }],\n      /**\n       * Perspective\n       * @see https://tailwindcss.com/docs/perspective\n       */\n      perspective: [{\n        perspective: [themePerspective, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Perspective Origin\n       * @see https://tailwindcss.com/docs/perspective-origin\n       */\n      \"perspective-origin\": [{\n        \"perspective-origin\": scalePositionWithArbitrary()\n      }],\n      /**\n       * Rotate\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      rotate: [{\n        rotate: scaleRotate()\n      }],\n      /**\n       * Rotate X\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      \"rotate-x\": [{\n        \"rotate-x\": scaleRotate()\n      }],\n      /**\n       * Rotate Y\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      \"rotate-y\": [{\n        \"rotate-y\": scaleRotate()\n      }],\n      /**\n       * Rotate Z\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      \"rotate-z\": [{\n        \"rotate-z\": scaleRotate()\n      }],\n      /**\n       * Scale\n       * @see https://tailwindcss.com/docs/scale\n       */\n      scale: [{\n        scale: scaleScale()\n      }],\n      /**\n       * Scale X\n       * @see https://tailwindcss.com/docs/scale\n       */\n      \"scale-x\": [{\n        \"scale-x\": scaleScale()\n      }],\n      /**\n       * Scale Y\n       * @see https://tailwindcss.com/docs/scale\n       */\n      \"scale-y\": [{\n        \"scale-y\": scaleScale()\n      }],\n      /**\n       * Scale Z\n       * @see https://tailwindcss.com/docs/scale\n       */\n      \"scale-z\": [{\n        \"scale-z\": scaleScale()\n      }],\n      /**\n       * Scale 3D\n       * @see https://tailwindcss.com/docs/scale\n       */\n      \"scale-3d\": [\"scale-3d\"],\n      /**\n       * Skew\n       * @see https://tailwindcss.com/docs/skew\n       */\n      skew: [{\n        skew: scaleSkew()\n      }],\n      /**\n       * Skew X\n       * @see https://tailwindcss.com/docs/skew\n       */\n      \"skew-x\": [{\n        \"skew-x\": scaleSkew()\n      }],\n      /**\n       * Skew Y\n       * @see https://tailwindcss.com/docs/skew\n       */\n      \"skew-y\": [{\n        \"skew-y\": scaleSkew()\n      }],\n      /**\n       * Transform\n       * @see https://tailwindcss.com/docs/transform\n       */\n      transform: [{\n        transform: [isArbitraryVariable, isArbitraryValue, \"\", \"none\", \"gpu\", \"cpu\"]\n      }],\n      /**\n       * Transform Origin\n       * @see https://tailwindcss.com/docs/transform-origin\n       */\n      \"transform-origin\": [{\n        origin: scalePositionWithArbitrary()\n      }],\n      /**\n       * Transform Style\n       * @see https://tailwindcss.com/docs/transform-style\n       */\n      \"transform-style\": [{\n        transform: [\"3d\", \"flat\"]\n      }],\n      /**\n       * Translate\n       * @see https://tailwindcss.com/docs/translate\n       */\n      translate: [{\n        translate: scaleTranslate()\n      }],\n      /**\n       * Translate X\n       * @see https://tailwindcss.com/docs/translate\n       */\n      \"translate-x\": [{\n        \"translate-x\": scaleTranslate()\n      }],\n      /**\n       * Translate Y\n       * @see https://tailwindcss.com/docs/translate\n       */\n      \"translate-y\": [{\n        \"translate-y\": scaleTranslate()\n      }],\n      /**\n       * Translate Z\n       * @see https://tailwindcss.com/docs/translate\n       */\n      \"translate-z\": [{\n        \"translate-z\": scaleTranslate()\n      }],\n      /**\n       * Translate None\n       * @see https://tailwindcss.com/docs/translate\n       */\n      \"translate-none\": [\"translate-none\"],\n      // ---------------------\n      // --- Interactivity ---\n      // ---------------------\n      /**\n       * Accent Color\n       * @see https://tailwindcss.com/docs/accent-color\n       */\n      accent: [{\n        accent: scaleColor()\n      }],\n      /**\n       * Appearance\n       * @see https://tailwindcss.com/docs/appearance\n       */\n      appearance: [{\n        appearance: [\"none\", \"auto\"]\n      }],\n      /**\n       * Caret Color\n       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n       */\n      \"caret-color\": [{\n        caret: scaleColor()\n      }],\n      /**\n       * Color Scheme\n       * @see https://tailwindcss.com/docs/color-scheme\n       */\n      \"color-scheme\": [{\n        scheme: [\"normal\", \"dark\", \"light\", \"light-dark\", \"only-dark\", \"only-light\"]\n      }],\n      /**\n       * Cursor\n       * @see https://tailwindcss.com/docs/cursor\n       */\n      cursor: [{\n        cursor: [\"auto\", \"default\", \"pointer\", \"wait\", \"text\", \"move\", \"help\", \"not-allowed\", \"none\", \"context-menu\", \"progress\", \"cell\", \"crosshair\", \"vertical-text\", \"alias\", \"copy\", \"no-drop\", \"grab\", \"grabbing\", \"all-scroll\", \"col-resize\", \"row-resize\", \"n-resize\", \"e-resize\", \"s-resize\", \"w-resize\", \"ne-resize\", \"nw-resize\", \"se-resize\", \"sw-resize\", \"ew-resize\", \"ns-resize\", \"nesw-resize\", \"nwse-resize\", \"zoom-in\", \"zoom-out\", isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Field Sizing\n       * @see https://tailwindcss.com/docs/field-sizing\n       */\n      \"field-sizing\": [{\n        \"field-sizing\": [\"fixed\", \"content\"]\n      }],\n      /**\n       * Pointer Events\n       * @see https://tailwindcss.com/docs/pointer-events\n       */\n      \"pointer-events\": [{\n        \"pointer-events\": [\"auto\", \"none\"]\n      }],\n      /**\n       * Resize\n       * @see https://tailwindcss.com/docs/resize\n       */\n      resize: [{\n        resize: [\"none\", \"\", \"y\", \"x\"]\n      }],\n      /**\n       * Scroll Behavior\n       * @see https://tailwindcss.com/docs/scroll-behavior\n       */\n      \"scroll-behavior\": [{\n        scroll: [\"auto\", \"smooth\"]\n      }],\n      /**\n       * Scroll Margin\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-m\": [{\n        \"scroll-m\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin X\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-mx\": [{\n        \"scroll-mx\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Y\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-my\": [{\n        \"scroll-my\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Start\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-ms\": [{\n        \"scroll-ms\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin End\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-me\": [{\n        \"scroll-me\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Top\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-mt\": [{\n        \"scroll-mt\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Right\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-mr\": [{\n        \"scroll-mr\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Bottom\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-mb\": [{\n        \"scroll-mb\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Left\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      \"scroll-ml\": [{\n        \"scroll-ml\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-p\": [{\n        \"scroll-p\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding X\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-px\": [{\n        \"scroll-px\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Y\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-py\": [{\n        \"scroll-py\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Start\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-ps\": [{\n        \"scroll-ps\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding End\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-pe\": [{\n        \"scroll-pe\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Top\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-pt\": [{\n        \"scroll-pt\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Right\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-pr\": [{\n        \"scroll-pr\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Bottom\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-pb\": [{\n        \"scroll-pb\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Left\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      \"scroll-pl\": [{\n        \"scroll-pl\": scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Snap Align\n       * @see https://tailwindcss.com/docs/scroll-snap-align\n       */\n      \"snap-align\": [{\n        snap: [\"start\", \"end\", \"center\", \"align-none\"]\n      }],\n      /**\n       * Scroll Snap Stop\n       * @see https://tailwindcss.com/docs/scroll-snap-stop\n       */\n      \"snap-stop\": [{\n        snap: [\"normal\", \"always\"]\n      }],\n      /**\n       * Scroll Snap Type\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      \"snap-type\": [{\n        snap: [\"none\", \"x\", \"y\", \"both\"]\n      }],\n      /**\n       * Scroll Snap Type Strictness\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      \"snap-strictness\": [{\n        snap: [\"mandatory\", \"proximity\"]\n      }],\n      /**\n       * Touch Action\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      touch: [{\n        touch: [\"auto\", \"none\", \"manipulation\"]\n      }],\n      /**\n       * Touch Action X\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      \"touch-x\": [{\n        \"touch-pan\": [\"x\", \"left\", \"right\"]\n      }],\n      /**\n       * Touch Action Y\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      \"touch-y\": [{\n        \"touch-pan\": [\"y\", \"up\", \"down\"]\n      }],\n      /**\n       * Touch Action Pinch Zoom\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      \"touch-pz\": [\"touch-pinch-zoom\"],\n      /**\n       * User Select\n       * @see https://tailwindcss.com/docs/user-select\n       */\n      select: [{\n        select: [\"none\", \"text\", \"all\", \"auto\"]\n      }],\n      /**\n       * Will Change\n       * @see https://tailwindcss.com/docs/will-change\n       */\n      \"will-change\": [{\n        \"will-change\": [\"auto\", \"scroll\", \"contents\", \"transform\", isArbitraryVariable, isArbitraryValue]\n      }],\n      // -----------\n      // --- SVG ---\n      // -----------\n      /**\n       * Fill\n       * @see https://tailwindcss.com/docs/fill\n       */\n      fill: [{\n        fill: [\"none\", ...scaleColor()]\n      }],\n      /**\n       * Stroke Width\n       * @see https://tailwindcss.com/docs/stroke-width\n       */\n      \"stroke-w\": [{\n        stroke: [isNumber, isArbitraryVariableLength, isArbitraryLength, isArbitraryNumber]\n      }],\n      /**\n       * Stroke\n       * @see https://tailwindcss.com/docs/stroke\n       */\n      stroke: [{\n        stroke: [\"none\", ...scaleColor()]\n      }],\n      // ---------------------\n      // --- Accessibility ---\n      // ---------------------\n      /**\n       * Forced Color Adjust\n       * @see https://tailwindcss.com/docs/forced-color-adjust\n       */\n      \"forced-color-adjust\": [{\n        \"forced-color-adjust\": [\"auto\", \"none\"]\n      }]\n    },\n    conflictingClassGroups: {\n      overflow: [\"overflow-x\", \"overflow-y\"],\n      overscroll: [\"overscroll-x\", \"overscroll-y\"],\n      inset: [\"inset-x\", \"inset-y\", \"start\", \"end\", \"top\", \"right\", \"bottom\", \"left\"],\n      \"inset-x\": [\"right\", \"left\"],\n      \"inset-y\": [\"top\", \"bottom\"],\n      flex: [\"basis\", \"grow\", \"shrink\"],\n      gap: [\"gap-x\", \"gap-y\"],\n      p: [\"px\", \"py\", \"ps\", \"pe\", \"pt\", \"pr\", \"pb\", \"pl\"],\n      px: [\"pr\", \"pl\"],\n      py: [\"pt\", \"pb\"],\n      m: [\"mx\", \"my\", \"ms\", \"me\", \"mt\", \"mr\", \"mb\", \"ml\"],\n      mx: [\"mr\", \"ml\"],\n      my: [\"mt\", \"mb\"],\n      size: [\"w\", \"h\"],\n      \"font-size\": [\"leading\"],\n      \"fvn-normal\": [\"fvn-ordinal\", \"fvn-slashed-zero\", \"fvn-figure\", \"fvn-spacing\", \"fvn-fraction\"],\n      \"fvn-ordinal\": [\"fvn-normal\"],\n      \"fvn-slashed-zero\": [\"fvn-normal\"],\n      \"fvn-figure\": [\"fvn-normal\"],\n      \"fvn-spacing\": [\"fvn-normal\"],\n      \"fvn-fraction\": [\"fvn-normal\"],\n      \"line-clamp\": [\"display\", \"overflow\"],\n      rounded: [\"rounded-s\", \"rounded-e\", \"rounded-t\", \"rounded-r\", \"rounded-b\", \"rounded-l\", \"rounded-ss\", \"rounded-se\", \"rounded-ee\", \"rounded-es\", \"rounded-tl\", \"rounded-tr\", \"rounded-br\", \"rounded-bl\"],\n      \"rounded-s\": [\"rounded-ss\", \"rounded-es\"],\n      \"rounded-e\": [\"rounded-se\", \"rounded-ee\"],\n      \"rounded-t\": [\"rounded-tl\", \"rounded-tr\"],\n      \"rounded-r\": [\"rounded-tr\", \"rounded-br\"],\n      \"rounded-b\": [\"rounded-br\", \"rounded-bl\"],\n      \"rounded-l\": [\"rounded-tl\", \"rounded-bl\"],\n      \"border-spacing\": [\"border-spacing-x\", \"border-spacing-y\"],\n      \"border-w\": [\"border-w-x\", \"border-w-y\", \"border-w-s\", \"border-w-e\", \"border-w-t\", \"border-w-r\", \"border-w-b\", \"border-w-l\"],\n      \"border-w-x\": [\"border-w-r\", \"border-w-l\"],\n      \"border-w-y\": [\"border-w-t\", \"border-w-b\"],\n      \"border-color\": [\"border-color-x\", \"border-color-y\", \"border-color-s\", \"border-color-e\", \"border-color-t\", \"border-color-r\", \"border-color-b\", \"border-color-l\"],\n      \"border-color-x\": [\"border-color-r\", \"border-color-l\"],\n      \"border-color-y\": [\"border-color-t\", \"border-color-b\"],\n      translate: [\"translate-x\", \"translate-y\", \"translate-none\"],\n      \"translate-none\": [\"translate\", \"translate-x\", \"translate-y\", \"translate-z\"],\n      \"scroll-m\": [\"scroll-mx\", \"scroll-my\", \"scroll-ms\", \"scroll-me\", \"scroll-mt\", \"scroll-mr\", \"scroll-mb\", \"scroll-ml\"],\n      \"scroll-mx\": [\"scroll-mr\", \"scroll-ml\"],\n      \"scroll-my\": [\"scroll-mt\", \"scroll-mb\"],\n      \"scroll-p\": [\"scroll-px\", \"scroll-py\", \"scroll-ps\", \"scroll-pe\", \"scroll-pt\", \"scroll-pr\", \"scroll-pb\", \"scroll-pl\"],\n      \"scroll-px\": [\"scroll-pr\", \"scroll-pl\"],\n      \"scroll-py\": [\"scroll-pt\", \"scroll-pb\"],\n      touch: [\"touch-x\", \"touch-y\", \"touch-pz\"],\n      \"touch-x\": [\"touch\"],\n      \"touch-y\": [\"touch\"],\n      \"touch-pz\": [\"touch\"]\n    },\n    conflictingClassGroupModifiers: {\n      \"font-size\": [\"leading\"]\n    },\n    orderSensitiveModifiers: [\"*\", \"**\", \"after\", \"backdrop\", \"before\", \"details-content\", \"file\", \"first-letter\", \"first-line\", \"marker\", \"placeholder\", \"selection\"]\n  };\n};\nconst mergeConfigs = (baseConfig, {\n  cacheSize,\n  prefix,\n  experimentalParseClassName,\n  extend: extend2 = {},\n  override = {}\n}) => {\n  overrideProperty(baseConfig, \"cacheSize\", cacheSize);\n  overrideProperty(baseConfig, \"prefix\", prefix);\n  overrideProperty(baseConfig, \"experimentalParseClassName\", experimentalParseClassName);\n  overrideConfigProperties(baseConfig.theme, override.theme);\n  overrideConfigProperties(baseConfig.classGroups, override.classGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroups, override.conflictingClassGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroupModifiers, override.conflictingClassGroupModifiers);\n  overrideProperty(baseConfig, \"orderSensitiveModifiers\", override.orderSensitiveModifiers);\n  mergeConfigProperties(baseConfig.theme, extend2.theme);\n  mergeConfigProperties(baseConfig.classGroups, extend2.classGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroups, extend2.conflictingClassGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroupModifiers, extend2.conflictingClassGroupModifiers);\n  mergeArrayProperties(baseConfig, extend2, \"orderSensitiveModifiers\");\n  return baseConfig;\n};\nconst overrideProperty = (baseObject, overrideKey, overrideValue) => {\n  if (overrideValue !== void 0) {\n    baseObject[overrideKey] = overrideValue;\n  }\n};\nconst overrideConfigProperties = (baseObject, overrideObject) => {\n  if (overrideObject) {\n    for (const key in overrideObject) {\n      overrideProperty(baseObject, key, overrideObject[key]);\n    }\n  }\n};\nconst mergeConfigProperties = (baseObject, mergeObject) => {\n  if (mergeObject) {\n    for (const key in mergeObject) {\n      mergeArrayProperties(baseObject, mergeObject, key);\n    }\n  }\n};\nconst mergeArrayProperties = (baseObject, mergeObject, key) => {\n  const mergeValue = mergeObject[key];\n  if (mergeValue !== void 0) {\n    baseObject[key] = baseObject[key] ? baseObject[key].concat(mergeValue) : mergeValue;\n  }\n};\nconst extendTailwindMerge = (configExtension, ...createConfig) => typeof configExtension === \"function\" ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig) : createTailwindMerge(() => mergeConfigs(getDefaultConfig(), configExtension), ...createConfig);\nconst companionAnchorTagName = \"stagewise-companion-anchor\";\nfunction getElementAtPoint(x2, y2) {\n  const elementsBelowAnnotation = document.elementsFromPoint(x2, y2);\n  const refElement = elementsBelowAnnotation.find(\n    (element) => element.nodeName !== \"STAGEWISE-COMPANION-ANCHOR\" && !element.closest(companionAnchorTagName) && !element.closest(\"svg\") && isElementAtPoint(element, x2, y2)\n  ) || document.body;\n  return refElement;\n}\nconst isElementAtPoint = (element, clientX, clientY) => {\n  const boundingRect = element.getBoundingClientRect();\n  const isInHorizontalBounds = clientX > boundingRect.left && clientX < boundingRect.left + boundingRect.width;\n  const isInVerticalBounds = clientY > boundingRect.top && clientY < boundingRect.top + boundingRect.height;\n  return isInHorizontalBounds && isInVerticalBounds;\n};\nvar HotkeyActions = /* @__PURE__ */ ((HotkeyActions2) => {\n  HotkeyActions2[HotkeyActions2[\"ESC\"] = 0] = \"ESC\";\n  HotkeyActions2[HotkeyActions2[\"CTRL_ALT_C\"] = 1] = \"CTRL_ALT_C\";\n  return HotkeyActions2;\n})(HotkeyActions || {});\nconst hotkeyActionDefinitions = {\n  [\n    0\n    /* ESC */\n  ]: {\n    keyComboDefault: \"Esc\",\n    keyComboMac: \"esc\",\n    isEventMatching: (ev) => ev.code === \"Escape\"\n  },\n  [\n    1\n    /* CTRL_ALT_C */\n  ]: {\n    keyComboDefault: \"Ctrl+Alt+C\",\n    keyComboMac: \"++C\",\n    isEventMatching: (ev) => ev.code === \"KeyC\" && (ev.ctrlKey || ev.metaKey) && ev.altKey\n  }\n};\nconst customTwMerge = extendTailwindMerge({\n  extend: {\n    classGroups: {\n      \"bg-image\": [\n        \"bg-gradient\",\n        \"bg-gradient-light-1\",\n        \"bg-gradient-light-2\",\n        \"bg-gradient-light-3\"\n      ]\n    }\n  }\n});\nfunction cn(...inputs) {\n  return customTwMerge(clsx(inputs));\n}\nfunction HotkeyListener() {\n  const { startPromptCreation, stopPromptCreation } = useChatState();\n  const hotKeyHandlerMap = T$5(\n    () => ({\n      [HotkeyActions.CTRL_ALT_C]: () => {\n        startPromptCreation();\n      },\n      [HotkeyActions.ESC]: () => {\n        stopPromptCreation();\n      }\n    }),\n    [startPromptCreation, stopPromptCreation]\n  );\n  const hotKeyListener = q$3(\n    (ev) => {\n      for (const [action, definition] of Object.entries(\n        hotkeyActionDefinitions\n      )) {\n        if (definition.isEventMatching(ev)) {\n          ev.preventDefault();\n          ev.stopPropagation();\n          hotKeyHandlerMap[action]();\n          break;\n        }\n      }\n    },\n    [hotKeyHandlerMap]\n  );\n  useEventListener(\"keydown\", hotKeyListener, {\n    capture: true\n  });\n  return null;\n}\nconst $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c = typeof document !== \"undefined\" ? Rn.useLayoutEffect : () => {\n};\nfunction $8ae05eaa5c114e9c$export$7f54fc3180508a52(fn2) {\n  const ref = A$3(null);\n  $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(() => {\n    ref.current = fn2;\n  }, [\n    fn2\n  ]);\n  return q$3((...args) => {\n    const f2 = ref.current;\n    return f2 === null || f2 === void 0 ? void 0 : f2(...args);\n  }, []);\n}\nconst $431fbd86ca7dc216$export$b204af158042fbac = (el) => {\n  var _el_ownerDocument;\n  return (_el_ownerDocument = el === null || el === void 0 ? void 0 : el.ownerDocument) !== null && _el_ownerDocument !== void 0 ? _el_ownerDocument : document;\n};\nconst $431fbd86ca7dc216$export$f21a1ffae260145a = (el) => {\n  if (el && \"window\" in el && el.window === el) return el;\n  const doc = $431fbd86ca7dc216$export$b204af158042fbac(el);\n  return doc.defaultView || window;\n};\nfunction $431fbd86ca7dc216$var$isNode(value) {\n  return value !== null && typeof value === \"object\" && \"nodeType\" in value && typeof value.nodeType === \"number\";\n}\nfunction $431fbd86ca7dc216$export$af51f0f06c0f328a(node) {\n  return $431fbd86ca7dc216$var$isNode(node) && node.nodeType === Node.DOCUMENT_FRAGMENT_NODE && \"host\" in node;\n}\nlet $f4e2df6bd15f8569$var$_shadowDOM = false;\nfunction $f4e2df6bd15f8569$export$98658e8c59125e6a() {\n  return $f4e2df6bd15f8569$var$_shadowDOM;\n}\nfunction $d4ee10de306f2510$export$4282f70798064fe0(node, otherNode) {\n  if (!$f4e2df6bd15f8569$export$98658e8c59125e6a()) return otherNode && node ? node.contains(otherNode) : false;\n  if (!node || !otherNode) return false;\n  let currentNode = otherNode;\n  while (currentNode !== null) {\n    if (currentNode === node) return true;\n    if (currentNode.tagName === \"SLOT\" && currentNode.assignedSlot)\n      currentNode = currentNode.assignedSlot.parentNode;\n    else if ($431fbd86ca7dc216$export$af51f0f06c0f328a(currentNode))\n      currentNode = currentNode.host;\n    else currentNode = currentNode.parentNode;\n  }\n  return false;\n}\nconst $d4ee10de306f2510$export$cd4e5573fbe2b576 = (doc = document) => {\n  var _activeElement_shadowRoot;\n  if (!$f4e2df6bd15f8569$export$98658e8c59125e6a()) return doc.activeElement;\n  let activeElement = doc.activeElement;\n  while (activeElement && \"shadowRoot\" in activeElement && ((_activeElement_shadowRoot = activeElement.shadowRoot) === null || _activeElement_shadowRoot === void 0 ? void 0 : _activeElement_shadowRoot.activeElement)) activeElement = activeElement.shadowRoot.activeElement;\n  return activeElement;\n};\nfunction $d4ee10de306f2510$export$e58f029f0fbfdb29(event) {\n  if ($f4e2df6bd15f8569$export$98658e8c59125e6a() && event.target.shadowRoot) {\n    if (event.composedPath) return event.composedPath()[0];\n  }\n  return event.target;\n}\nfunction $c87311424ea30a05$var$testUserAgent(re) {\n  var _window_navigator_userAgentData;\n  if (typeof window === \"undefined\" || window.navigator == null) return false;\n  return ((_window_navigator_userAgentData = window.navigator[\"userAgentData\"]) === null || _window_navigator_userAgentData === void 0 ? void 0 : _window_navigator_userAgentData.brands.some((brand) => re.test(brand.brand))) || re.test(window.navigator.userAgent);\n}\nfunction $c87311424ea30a05$var$testPlatform(re) {\n  var _window_navigator_userAgentData;\n  return typeof window !== \"undefined\" && window.navigator != null ? re.test(((_window_navigator_userAgentData = window.navigator[\"userAgentData\"]) === null || _window_navigator_userAgentData === void 0 ? void 0 : _window_navigator_userAgentData.platform) || window.navigator.platform) : false;\n}\nfunction $c87311424ea30a05$var$cached(fn2) {\n  if (false) {}\n  let res = null;\n  return () => {\n    if (res == null) res = fn2();\n    return res;\n  };\n}\nconst $c87311424ea30a05$export$9ac100e40613ea10 = $c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$var$testPlatform(/^Mac/i);\n});\nconst $c87311424ea30a05$export$186c6964ca17d99 = $c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$var$testPlatform(/^iPhone/i);\n});\nconst $c87311424ea30a05$export$7bef049ce92e4224 = $c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$var$testPlatform(/^iPad/i) || // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\n  $c87311424ea30a05$export$9ac100e40613ea10() && navigator.maxTouchPoints > 1;\n});\nconst $c87311424ea30a05$export$fedb369cb70207f1 = $c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$export$186c6964ca17d99() || $c87311424ea30a05$export$7bef049ce92e4224();\n});\n$c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$export$9ac100e40613ea10() || $c87311424ea30a05$export$fedb369cb70207f1();\n});\n$c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$var$testUserAgent(/AppleWebKit/i) && !$c87311424ea30a05$export$6446a186d09e379e();\n});\nconst $c87311424ea30a05$export$6446a186d09e379e = $c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$var$testUserAgent(/Chrome/i);\n});\nconst $c87311424ea30a05$export$a11b0059900ceec8 = $c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$var$testUserAgent(/Android/i);\n});\n$c87311424ea30a05$var$cached(function() {\n  return $c87311424ea30a05$var$testUserAgent(/Firefox/i);\n});\nfunction $03deb23ff14920c4$export$4eaf04e54aa8eed6() {\n  let globalListeners = A$3(/* @__PURE__ */ new Map());\n  let addGlobalListener = q$3((eventTarget, type, listener, options) => {\n    let fn2 = (options === null || options === void 0 ? void 0 : options.once) ? (...args) => {\n      globalListeners.current.delete(listener);\n      listener(...args);\n    } : listener;\n    globalListeners.current.set(listener, {\n      type,\n      eventTarget,\n      fn: fn2,\n      options\n    });\n    eventTarget.addEventListener(type, fn2, options);\n  }, []);\n  let removeGlobalListener = q$3((eventTarget, type, listener, options) => {\n    var _globalListeners_current_get;\n    let fn2 = ((_globalListeners_current_get = globalListeners.current.get(listener)) === null || _globalListeners_current_get === void 0 ? void 0 : _globalListeners_current_get.fn) || listener;\n    eventTarget.removeEventListener(type, fn2, options);\n    globalListeners.current.delete(listener);\n  }, []);\n  let removeAllGlobalListeners = q$3(() => {\n    globalListeners.current.forEach((value, key) => {\n      removeGlobalListener(value.eventTarget, value.type, key, value.options);\n    });\n  }, [\n    removeGlobalListener\n  ]);\n  y$6(() => {\n    return removeAllGlobalListeners;\n  }, [\n    removeAllGlobalListeners\n  ]);\n  return {\n    addGlobalListener,\n    removeGlobalListener,\n    removeAllGlobalListeners\n  };\n}\nfunction $6a7db85432448f7f$export$60278871457622de(event) {\n  if (event.mozInputSource === 0 && event.isTrusted) return true;\n  if ($c87311424ea30a05$export$a11b0059900ceec8() && event.pointerType) return event.type === \"click\" && event.buttons === 1;\n  return event.detail === 0 && !event.pointerType;\n}\nfunction $8a9cb279dc87e130$export$525bc4921d56d4a(nativeEvent) {\n  let event = nativeEvent;\n  event.nativeEvent = nativeEvent;\n  event.isDefaultPrevented = () => event.defaultPrevented;\n  event.isPropagationStopped = () => event.cancelBubble;\n  event.persist = () => {\n  };\n  return event;\n}\nfunction $8a9cb279dc87e130$export$c2b7abe5d61ec696(event, target) {\n  Object.defineProperty(event, \"target\", {\n    value: target\n  });\n  Object.defineProperty(event, \"currentTarget\", {\n    value: target\n  });\n}\nfunction $8a9cb279dc87e130$export$715c682d09d639cc(onBlur) {\n  let stateRef = A$3({\n    isFocused: false,\n    observer: null\n  });\n  $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(() => {\n    const state = stateRef.current;\n    return () => {\n      if (state.observer) {\n        state.observer.disconnect();\n        state.observer = null;\n      }\n    };\n  }, []);\n  let dispatchBlur = $8ae05eaa5c114e9c$export$7f54fc3180508a52((e2) => {\n    onBlur === null || onBlur === void 0 ? void 0 : onBlur(e2);\n  });\n  return q$3((e2) => {\n    if (e2.target instanceof HTMLButtonElement || e2.target instanceof HTMLInputElement || e2.target instanceof HTMLTextAreaElement || e2.target instanceof HTMLSelectElement) {\n      stateRef.current.isFocused = true;\n      let target = e2.target;\n      let onBlurHandler = (e3) => {\n        stateRef.current.isFocused = false;\n        if (target.disabled) {\n          let event = $8a9cb279dc87e130$export$525bc4921d56d4a(e3);\n          dispatchBlur(event);\n        }\n        if (stateRef.current.observer) {\n          stateRef.current.observer.disconnect();\n          stateRef.current.observer = null;\n        }\n      };\n      target.addEventListener(\"focusout\", onBlurHandler, {\n        once: true\n      });\n      stateRef.current.observer = new MutationObserver(() => {\n        if (stateRef.current.isFocused && target.disabled) {\n          var _stateRef_current_observer;\n          (_stateRef_current_observer = stateRef.current.observer) === null || _stateRef_current_observer === void 0 ? void 0 : _stateRef_current_observer.disconnect();\n          let relatedTargetEl = target === document.activeElement ? null : document.activeElement;\n          target.dispatchEvent(new FocusEvent(\"blur\", {\n            relatedTarget: relatedTargetEl\n          }));\n          target.dispatchEvent(new FocusEvent(\"focusout\", {\n            bubbles: true,\n            relatedTarget: relatedTargetEl\n          }));\n        }\n      });\n      stateRef.current.observer.observe(target, {\n        attributes: true,\n        attributeFilter: [\n          \"disabled\"\n        ]\n      });\n    }\n  }, [\n    dispatchBlur\n  ]);\n}\nlet $8a9cb279dc87e130$export$fda7da73ab5d4c48 = false;\nlet $507fabe10e71c6fb$var$currentModality = null;\nlet $507fabe10e71c6fb$var$changeHandlers = /* @__PURE__ */ new Set();\nlet $507fabe10e71c6fb$export$d90243b58daecda7 = /* @__PURE__ */ new Map();\nlet $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\nlet $507fabe10e71c6fb$var$hasBlurredWindowRecently = false;\nconst $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS = {\n  Tab: true,\n  Escape: true\n};\nfunction $507fabe10e71c6fb$var$triggerChangeHandlers(modality, e2) {\n  for (let handler of $507fabe10e71c6fb$var$changeHandlers) handler(modality, e2);\n}\nfunction $507fabe10e71c6fb$var$isValidKey(e2) {\n  return !(e2.metaKey || !$c87311424ea30a05$export$9ac100e40613ea10() && e2.altKey || e2.ctrlKey || e2.key === \"Control\" || e2.key === \"Shift\" || e2.key === \"Meta\");\n}\nfunction $507fabe10e71c6fb$var$handleKeyboardEvent(e2) {\n  $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n  if ($507fabe10e71c6fb$var$isValidKey(e2)) {\n    $507fabe10e71c6fb$var$currentModality = \"keyboard\";\n    $507fabe10e71c6fb$var$triggerChangeHandlers(\"keyboard\", e2);\n  }\n}\nfunction $507fabe10e71c6fb$var$handlePointerEvent(e2) {\n  $507fabe10e71c6fb$var$currentModality = \"pointer\";\n  if (e2.type === \"mousedown\" || e2.type === \"pointerdown\") {\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n    $507fabe10e71c6fb$var$triggerChangeHandlers(\"pointer\", e2);\n  }\n}\nfunction $507fabe10e71c6fb$var$handleClickEvent(e2) {\n  if ($6a7db85432448f7f$export$60278871457622de(e2)) {\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n    $507fabe10e71c6fb$var$currentModality = \"virtual\";\n  }\n}\nfunction $507fabe10e71c6fb$var$handleFocusEvent(e2) {\n  if (e2.target === window || e2.target === document || $8a9cb279dc87e130$export$fda7da73ab5d4c48 || !e2.isTrusted) return;\n  if (!$507fabe10e71c6fb$var$hasEventBeforeFocus && !$507fabe10e71c6fb$var$hasBlurredWindowRecently) {\n    $507fabe10e71c6fb$var$currentModality = \"virtual\";\n    $507fabe10e71c6fb$var$triggerChangeHandlers(\"virtual\", e2);\n  }\n  $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\n  $507fabe10e71c6fb$var$hasBlurredWindowRecently = false;\n}\nfunction $507fabe10e71c6fb$var$handleWindowBlur() {\n  $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\n  $507fabe10e71c6fb$var$hasBlurredWindowRecently = true;\n}\nfunction $507fabe10e71c6fb$var$setupGlobalFocusEvents(element) {\n  if (typeof window === \"undefined\" || $507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(element))) return;\n  const windowObject = $431fbd86ca7dc216$export$f21a1ffae260145a(element);\n  const documentObject = $431fbd86ca7dc216$export$b204af158042fbac(element);\n  let focus = windowObject.HTMLElement.prototype.focus;\n  windowObject.HTMLElement.prototype.focus = function() {\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n    focus.apply(this, arguments);\n  };\n  documentObject.addEventListener(\"keydown\", $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n  documentObject.addEventListener(\"keyup\", $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n  documentObject.addEventListener(\"click\", $507fabe10e71c6fb$var$handleClickEvent, true);\n  windowObject.addEventListener(\"focus\", $507fabe10e71c6fb$var$handleFocusEvent, true);\n  windowObject.addEventListener(\"blur\", $507fabe10e71c6fb$var$handleWindowBlur, false);\n  if (typeof PointerEvent !== \"undefined\") {\n    documentObject.addEventListener(\"pointerdown\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n    documentObject.addEventListener(\"pointermove\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n    documentObject.addEventListener(\"pointerup\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n  } else if (false) {}\n  windowObject.addEventListener(\"beforeunload\", () => {\n    $507fabe10e71c6fb$var$tearDownWindowFocusTracking(element);\n  }, {\n    once: true\n  });\n  $507fabe10e71c6fb$export$d90243b58daecda7.set(windowObject, {\n    focus\n  });\n}\nconst $507fabe10e71c6fb$var$tearDownWindowFocusTracking = (element, loadListener) => {\n  const windowObject = $431fbd86ca7dc216$export$f21a1ffae260145a(element);\n  const documentObject = $431fbd86ca7dc216$export$b204af158042fbac(element);\n  if (loadListener) documentObject.removeEventListener(\"DOMContentLoaded\", loadListener);\n  if (!$507fabe10e71c6fb$export$d90243b58daecda7.has(windowObject)) return;\n  windowObject.HTMLElement.prototype.focus = $507fabe10e71c6fb$export$d90243b58daecda7.get(windowObject).focus;\n  documentObject.removeEventListener(\"keydown\", $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n  documentObject.removeEventListener(\"keyup\", $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n  documentObject.removeEventListener(\"click\", $507fabe10e71c6fb$var$handleClickEvent, true);\n  windowObject.removeEventListener(\"focus\", $507fabe10e71c6fb$var$handleFocusEvent, true);\n  windowObject.removeEventListener(\"blur\", $507fabe10e71c6fb$var$handleWindowBlur, false);\n  if (typeof PointerEvent !== \"undefined\") {\n    documentObject.removeEventListener(\"pointerdown\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n    documentObject.removeEventListener(\"pointermove\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n    documentObject.removeEventListener(\"pointerup\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n  } else if (false) {}\n  $507fabe10e71c6fb$export$d90243b58daecda7.delete(windowObject);\n};\nfunction $507fabe10e71c6fb$export$2f1888112f558a7d(element) {\n  const documentObject = $431fbd86ca7dc216$export$b204af158042fbac(element);\n  let loadListener;\n  if (documentObject.readyState !== \"loading\") $507fabe10e71c6fb$var$setupGlobalFocusEvents(element);\n  else {\n    loadListener = () => {\n      $507fabe10e71c6fb$var$setupGlobalFocusEvents(element);\n    };\n    documentObject.addEventListener(\"DOMContentLoaded\", loadListener);\n  }\n  return () => $507fabe10e71c6fb$var$tearDownWindowFocusTracking(element, loadListener);\n}\nif (typeof document !== \"undefined\") $507fabe10e71c6fb$export$2f1888112f558a7d();\nfunction $507fabe10e71c6fb$export$b9b3dfddab17db27() {\n  return $507fabe10e71c6fb$var$currentModality !== \"pointer\";\n}\nconst $507fabe10e71c6fb$var$nonTextInputTypes = /* @__PURE__ */ new Set([\n  \"checkbox\",\n  \"radio\",\n  \"range\",\n  \"color\",\n  \"file\",\n  \"image\",\n  \"button\",\n  \"submit\",\n  \"reset\"\n]);\nfunction $507fabe10e71c6fb$var$isKeyboardFocusEvent(isTextInput, modality, e2) {\n  let document1 = $431fbd86ca7dc216$export$b204af158042fbac(e2 === null || e2 === void 0 ? void 0 : e2.target);\n  const IHTMLInputElement = typeof window !== \"undefined\" ? $431fbd86ca7dc216$export$f21a1ffae260145a(e2 === null || e2 === void 0 ? void 0 : e2.target).HTMLInputElement : HTMLInputElement;\n  const IHTMLTextAreaElement = typeof window !== \"undefined\" ? $431fbd86ca7dc216$export$f21a1ffae260145a(e2 === null || e2 === void 0 ? void 0 : e2.target).HTMLTextAreaElement : HTMLTextAreaElement;\n  const IHTMLElement = typeof window !== \"undefined\" ? $431fbd86ca7dc216$export$f21a1ffae260145a(e2 === null || e2 === void 0 ? void 0 : e2.target).HTMLElement : HTMLElement;\n  const IKeyboardEvent = typeof window !== \"undefined\" ? $431fbd86ca7dc216$export$f21a1ffae260145a(e2 === null || e2 === void 0 ? void 0 : e2.target).KeyboardEvent : KeyboardEvent;\n  isTextInput = isTextInput || document1.activeElement instanceof IHTMLInputElement && !$507fabe10e71c6fb$var$nonTextInputTypes.has(document1.activeElement.type) || document1.activeElement instanceof IHTMLTextAreaElement || document1.activeElement instanceof IHTMLElement && document1.activeElement.isContentEditable;\n  return !(isTextInput && modality === \"keyboard\" && e2 instanceof IKeyboardEvent && !$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[e2.key]);\n}\nfunction $507fabe10e71c6fb$export$ec71b4b83ac08ec3(fn2, deps, opts) {\n  $507fabe10e71c6fb$var$setupGlobalFocusEvents();\n  y$6(() => {\n    let handler = (modality, e2) => {\n      if (!$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(opts === null || opts === void 0 ? void 0 : opts.isTextInput), modality, e2)) return;\n      fn2($507fabe10e71c6fb$export$b9b3dfddab17db27());\n    };\n    $507fabe10e71c6fb$var$changeHandlers.add(handler);\n    return () => {\n      $507fabe10e71c6fb$var$changeHandlers.delete(handler);\n    };\n  }, deps);\n}\nfunction $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(props) {\n  let { isDisabled, onFocus: onFocusProp, onBlur: onBlurProp, onFocusChange } = props;\n  const onBlur = q$3((e2) => {\n    if (e2.target === e2.currentTarget) {\n      if (onBlurProp) onBlurProp(e2);\n      if (onFocusChange) onFocusChange(false);\n      return true;\n    }\n  }, [\n    onBlurProp,\n    onFocusChange\n  ]);\n  const onSyntheticFocus = $8a9cb279dc87e130$export$715c682d09d639cc(onBlur);\n  const onFocus = q$3((e2) => {\n    const ownerDocument = $431fbd86ca7dc216$export$b204af158042fbac(e2.target);\n    const activeElement = ownerDocument ? $d4ee10de306f2510$export$cd4e5573fbe2b576(ownerDocument) : $d4ee10de306f2510$export$cd4e5573fbe2b576();\n    if (e2.target === e2.currentTarget && activeElement === $d4ee10de306f2510$export$e58f029f0fbfdb29(e2.nativeEvent)) {\n      if (onFocusProp) onFocusProp(e2);\n      if (onFocusChange) onFocusChange(true);\n      onSyntheticFocus(e2);\n    }\n  }, [\n    onFocusChange,\n    onFocusProp,\n    onSyntheticFocus\n  ]);\n  return {\n    focusProps: {\n      onFocus: !isDisabled && (onFocusProp || onFocusChange || onBlurProp) ? onFocus : void 0,\n      onBlur: !isDisabled && (onBlurProp || onFocusChange) ? onBlur : void 0\n    }\n  };\n}\nfunction $9ab94262bd0047c7$export$420e68273165f4ec(props) {\n  let { isDisabled, onBlurWithin, onFocusWithin, onFocusWithinChange } = props;\n  let state = A$3({\n    isFocusWithin: false\n  });\n  let { addGlobalListener, removeAllGlobalListeners } = $03deb23ff14920c4$export$4eaf04e54aa8eed6();\n  let onBlur = q$3((e2) => {\n    if (!e2.currentTarget.contains(e2.target)) return;\n    if (state.current.isFocusWithin && !e2.currentTarget.contains(e2.relatedTarget)) {\n      state.current.isFocusWithin = false;\n      removeAllGlobalListeners();\n      if (onBlurWithin) onBlurWithin(e2);\n      if (onFocusWithinChange) onFocusWithinChange(false);\n    }\n  }, [\n    onBlurWithin,\n    onFocusWithinChange,\n    state,\n    removeAllGlobalListeners\n  ]);\n  let onSyntheticFocus = $8a9cb279dc87e130$export$715c682d09d639cc(onBlur);\n  let onFocus = q$3((e2) => {\n    if (!e2.currentTarget.contains(e2.target)) return;\n    const ownerDocument = $431fbd86ca7dc216$export$b204af158042fbac(e2.target);\n    const activeElement = $d4ee10de306f2510$export$cd4e5573fbe2b576(ownerDocument);\n    if (!state.current.isFocusWithin && activeElement === $d4ee10de306f2510$export$e58f029f0fbfdb29(e2.nativeEvent)) {\n      if (onFocusWithin) onFocusWithin(e2);\n      if (onFocusWithinChange) onFocusWithinChange(true);\n      state.current.isFocusWithin = true;\n      onSyntheticFocus(e2);\n      let currentTarget = e2.currentTarget;\n      addGlobalListener(ownerDocument, \"focus\", (e3) => {\n        if (state.current.isFocusWithin && !$d4ee10de306f2510$export$4282f70798064fe0(currentTarget, e3.target)) {\n          let nativeEvent = new ownerDocument.defaultView.FocusEvent(\"blur\", {\n            relatedTarget: e3.target\n          });\n          $8a9cb279dc87e130$export$c2b7abe5d61ec696(nativeEvent, currentTarget);\n          let event = $8a9cb279dc87e130$export$525bc4921d56d4a(nativeEvent);\n          onBlur(event);\n        }\n      }, {\n        capture: true\n      });\n    }\n  }, [\n    onFocusWithin,\n    onFocusWithinChange,\n    onSyntheticFocus,\n    addGlobalListener,\n    onBlur\n  ]);\n  if (isDisabled) return {\n    focusWithinProps: {\n      // These cannot be null, that would conflict in mergeProps\n      onFocus: void 0,\n      onBlur: void 0\n    }\n  };\n  return {\n    focusWithinProps: {\n      onFocus,\n      onBlur\n    }\n  };\n}\nlet $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = false;\nlet $6179b936705e76d3$var$hoverCount = 0;\nfunction $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents() {\n  $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = true;\n  setTimeout(() => {\n    $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = false;\n  }, 50);\n}\nfunction $6179b936705e76d3$var$handleGlobalPointerEvent(e2) {\n  if (e2.pointerType === \"touch\") $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents();\n}\nfunction $6179b936705e76d3$var$setupGlobalTouchEvents() {\n  if (typeof document === \"undefined\") return;\n  if (typeof PointerEvent !== \"undefined\") document.addEventListener(\"pointerup\", $6179b936705e76d3$var$handleGlobalPointerEvent);\n  else if (false) {}\n  $6179b936705e76d3$var$hoverCount++;\n  return () => {\n    $6179b936705e76d3$var$hoverCount--;\n    if ($6179b936705e76d3$var$hoverCount > 0) return;\n    if (typeof PointerEvent !== \"undefined\") document.removeEventListener(\"pointerup\", $6179b936705e76d3$var$handleGlobalPointerEvent);\n    else if (false) {}\n  };\n}\nfunction $6179b936705e76d3$export$ae780daf29e6d456(props) {\n  let { onHoverStart, onHoverChange, onHoverEnd, isDisabled } = props;\n  let [isHovered, setHovered] = d$4(false);\n  let state = A$3({\n    isHovered: false,\n    ignoreEmulatedMouseEvents: false,\n    pointerType: \"\",\n    target: null\n  }).current;\n  y$6($6179b936705e76d3$var$setupGlobalTouchEvents, []);\n  let { addGlobalListener, removeAllGlobalListeners } = $03deb23ff14920c4$export$4eaf04e54aa8eed6();\n  let { hoverProps, triggerHoverEnd } = T$5(() => {\n    let triggerHoverStart = (event, pointerType) => {\n      state.pointerType = pointerType;\n      if (isDisabled || pointerType === \"touch\" || state.isHovered || !event.currentTarget.contains(event.target)) return;\n      state.isHovered = true;\n      let target = event.currentTarget;\n      state.target = target;\n      addGlobalListener($431fbd86ca7dc216$export$b204af158042fbac(event.target), \"pointerover\", (e2) => {\n        if (state.isHovered && state.target && !$d4ee10de306f2510$export$4282f70798064fe0(state.target, e2.target)) triggerHoverEnd2(e2, e2.pointerType);\n      }, {\n        capture: true\n      });\n      if (onHoverStart) onHoverStart({\n        type: \"hoverstart\",\n        target,\n        pointerType\n      });\n      if (onHoverChange) onHoverChange(true);\n      setHovered(true);\n    };\n    let triggerHoverEnd2 = (event, pointerType) => {\n      let target = state.target;\n      state.pointerType = \"\";\n      state.target = null;\n      if (pointerType === \"touch\" || !state.isHovered || !target) return;\n      state.isHovered = false;\n      removeAllGlobalListeners();\n      if (onHoverEnd) onHoverEnd({\n        type: \"hoverend\",\n        target,\n        pointerType\n      });\n      if (onHoverChange) onHoverChange(false);\n      setHovered(false);\n    };\n    let hoverProps2 = {};\n    if (typeof PointerEvent !== \"undefined\") {\n      hoverProps2.onPointerEnter = (e2) => {\n        if ($6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents && e2.pointerType === \"mouse\") return;\n        triggerHoverStart(e2, e2.pointerType);\n      };\n      hoverProps2.onPointerLeave = (e2) => {\n        if (!isDisabled && e2.currentTarget.contains(e2.target)) triggerHoverEnd2(e2, e2.pointerType);\n      };\n    } else if (false) {}\n    return {\n      hoverProps: hoverProps2,\n      triggerHoverEnd: triggerHoverEnd2\n    };\n  }, [\n    onHoverStart,\n    onHoverChange,\n    onHoverEnd,\n    isDisabled,\n    state,\n    addGlobalListener,\n    removeAllGlobalListeners\n  ]);\n  y$6(() => {\n    if (isDisabled) triggerHoverEnd({\n      currentTarget: state.target\n    }, state.pointerType);\n  }, [\n    isDisabled\n  ]);\n  return {\n    hoverProps,\n    isHovered\n  };\n}\nfunction $f7dceffc5ad7768b$export$4e328f61c538687f(props = {}) {\n  let { autoFocus = false, isTextInput, within } = props;\n  let state = A$3({\n    isFocused: false,\n    isFocusVisible: autoFocus || $507fabe10e71c6fb$export$b9b3dfddab17db27()\n  });\n  let [isFocused, setFocused] = d$4(false);\n  let [isFocusVisibleState, setFocusVisible] = d$4(() => state.current.isFocused && state.current.isFocusVisible);\n  let updateState = q$3(() => setFocusVisible(state.current.isFocused && state.current.isFocusVisible), []);\n  let onFocusChange = q$3((isFocused2) => {\n    state.current.isFocused = isFocused2;\n    setFocused(isFocused2);\n    updateState();\n  }, [\n    updateState\n  ]);\n  $507fabe10e71c6fb$export$ec71b4b83ac08ec3((isFocusVisible) => {\n    state.current.isFocusVisible = isFocusVisible;\n    updateState();\n  }, [], {\n    isTextInput\n  });\n  let { focusProps } = $a1ea59d68270f0dd$export$f8168d8dd8fd66e6({\n    isDisabled: within,\n    onFocusChange\n  });\n  let { focusWithinProps } = $9ab94262bd0047c7$export$420e68273165f4ec({\n    isDisabled: !within,\n    onFocusWithinChange: onFocusChange\n  });\n  return {\n    isFocused,\n    isFocusVisible: isFocusVisibleState,\n    focusProps: within ? focusWithinProps : focusProps\n  };\n}\nvar i$6 = Object.defineProperty;\nvar d$3 = (t2, e2, n2) => e2 in t2 ? i$6(t2, e2, { enumerable: true, configurable: true, writable: true, value: n2 }) : t2[e2] = n2;\nvar r$2 = (t2, e2, n2) => (d$3(t2, typeof e2 != \"symbol\" ? e2 + \"\" : e2, n2), n2);\nlet o$7 = class o {\n  constructor() {\n    r$2(this, \"current\", this.detect());\n    r$2(this, \"handoffState\", \"pending\");\n    r$2(this, \"currentId\", 0);\n  }\n  set(e2) {\n    this.current !== e2 && (this.handoffState = \"pending\", this.currentId = 0, this.current = e2);\n  }\n  reset() {\n    this.set(this.detect());\n  }\n  nextId() {\n    return ++this.currentId;\n  }\n  get isServer() {\n    return this.current === \"server\";\n  }\n  get isClient() {\n    return this.current === \"client\";\n  }\n  detect() {\n    return typeof window == \"undefined\" || typeof document == \"undefined\" ? \"server\" : \"client\";\n  }\n  handoff() {\n    this.handoffState === \"pending\" && (this.handoffState = \"complete\");\n  }\n  get isHandoffComplete() {\n    return this.handoffState === \"complete\";\n  }\n};\nlet s$7 = new o$7();\nfunction o$6(n2) {\n  var e2, r2;\n  return s$7.isServer ? null : n2 ? \"ownerDocument\" in n2 ? n2.ownerDocument : \"current\" in n2 ? (r2 = (e2 = n2.current) == null ? void 0 : e2.ownerDocument) != null ? r2 : document : null : document;\n}\nfunction t$3(e2) {\n  typeof queueMicrotask == \"function\" ? queueMicrotask(e2) : Promise.resolve().then(e2).catch((o3) => setTimeout(() => {\n    throw o3;\n  }));\n}\nfunction o$5() {\n  let n2 = [], r2 = { addEventListener(e2, t2, s2, a3) {\n    return e2.addEventListener(t2, s2, a3), r2.add(() => e2.removeEventListener(t2, s2, a3));\n  }, requestAnimationFrame(...e2) {\n    let t2 = requestAnimationFrame(...e2);\n    return r2.add(() => cancelAnimationFrame(t2));\n  }, nextFrame(...e2) {\n    return r2.requestAnimationFrame(() => r2.requestAnimationFrame(...e2));\n  }, setTimeout(...e2) {\n    let t2 = setTimeout(...e2);\n    return r2.add(() => clearTimeout(t2));\n  }, microTask(...e2) {\n    let t2 = { current: true };\n    return t$3(() => {\n      t2.current && e2[0]();\n    }), r2.add(() => {\n      t2.current = false;\n    });\n  }, style(e2, t2, s2) {\n    let a3 = e2.style.getPropertyValue(t2);\n    return Object.assign(e2.style, { [t2]: s2 }), this.add(() => {\n      Object.assign(e2.style, { [t2]: a3 });\n    });\n  }, group(e2) {\n    let t2 = o$5();\n    return e2(t2), this.add(() => t2.dispose());\n  }, add(e2) {\n    return n2.includes(e2) || n2.push(e2), () => {\n      let t2 = n2.indexOf(e2);\n      if (t2 >= 0) for (let s2 of n2.splice(t2, 1)) s2();\n    };\n  }, dispose() {\n    for (let e2 of n2.splice(0)) e2();\n  } };\n  return r2;\n}\nfunction p$2() {\n  let [e2] = d$4(o$5);\n  return y$6(() => () => e2.dispose(), [e2]), e2;\n}\nlet n$3 = (e2, t2) => {\n  s$7.isServer ? y$6(e2, t2) : _$3(e2, t2);\n};\nfunction s$6(e2) {\n  let r2 = A$3(e2);\n  return n$3(() => {\n    r2.current = e2;\n  }, [e2]), r2;\n}\nlet o$4 = function(t2) {\n  let e2 = s$6(t2);\n  return Rn.useCallback((...r2) => e2.current(...r2), [e2]);\n};\nfunction E$1(e2) {\n  let t2 = e2.width / 2, n2 = e2.height / 2;\n  return { top: e2.clientY - n2, right: e2.clientX + t2, bottom: e2.clientY + n2, left: e2.clientX - t2 };\n}\nfunction P$3(e2, t2) {\n  return !(!e2 || !t2 || e2.right < t2.left || e2.left > t2.right || e2.bottom < t2.top || e2.top > t2.bottom);\n}\nfunction w$2({ disabled: e2 = false } = {}) {\n  let t2 = A$3(null), [n2, l2] = d$4(false), r2 = p$2(), o3 = o$4(() => {\n    t2.current = null, l2(false), r2.dispose();\n  }), f2 = o$4((s2) => {\n    if (r2.dispose(), t2.current === null) {\n      t2.current = s2.currentTarget, l2(true);\n      {\n        let i2 = o$6(s2.currentTarget);\n        r2.addEventListener(i2, \"pointerup\", o3, false), r2.addEventListener(i2, \"pointermove\", (c2) => {\n          if (t2.current) {\n            let p2 = E$1(c2);\n            l2(P$3(p2, t2.current.getBoundingClientRect()));\n          }\n        }, false), r2.addEventListener(i2, \"pointercancel\", o3, false);\n      }\n    }\n  });\n  return { pressed: n2, pressProps: e2 ? {} : { onPointerDown: f2, onPointerUp: o3, onClick: o3 } };\n}\nlet e$3 = K$3(void 0);\nfunction a$9() {\n  return x$4(e$3);\n}\nfunction t$2(...r2) {\n  return Array.from(new Set(r2.flatMap((n2) => typeof n2 == \"string\" ? n2.split(\" \") : []))).filter(Boolean).join(\" \");\n}\nfunction u$7(r2, n2, ...a3) {\n  if (r2 in n2) {\n    let e2 = n2[r2];\n    return typeof e2 == \"function\" ? e2(...a3) : e2;\n  }\n  let t2 = new Error(`Tried to handle \"${r2}\" but there is no handler defined. Only defined handlers are: ${Object.keys(n2).map((e2) => `\"${e2}\"`).join(\", \")}.`);\n  throw Error.captureStackTrace && Error.captureStackTrace(t2, u$7), t2;\n}\nvar O$1 = ((a3) => (a3[a3.None = 0] = \"None\", a3[a3.RenderStrategy = 1] = \"RenderStrategy\", a3[a3.Static = 2] = \"Static\", a3))(O$1 || {}), A$1 = ((e2) => (e2[e2.Unmount = 0] = \"Unmount\", e2[e2.Hidden = 1] = \"Hidden\", e2))(A$1 || {});\nfunction L$2() {\n  let n2 = U$2();\n  return q$3((r2) => C$2({ mergeRefs: n2, ...r2 }), [n2]);\n}\nfunction C$2({ ourProps: n2, theirProps: r2, slot: e2, defaultTag: a3, features: s2, visible: t2 = true, name: l2, mergeRefs: i2 }) {\n  i2 = i2 != null ? i2 : $;\n  let o3 = P$2(r2, n2);\n  if (t2) return F$3(o3, e2, a3, l2, i2);\n  let y2 = s2 != null ? s2 : 0;\n  if (y2 & 2) {\n    let { static: f2 = false, ...u2 } = o3;\n    if (f2) return F$3(u2, e2, a3, l2, i2);\n  }\n  if (y2 & 1) {\n    let { unmount: f2 = true, ...u2 } = o3;\n    return u$7(f2 ? 0 : 1, { [0]() {\n      return null;\n    }, [1]() {\n      return F$3({ ...u2, hidden: true, style: { display: \"none\" } }, e2, a3, l2, i2);\n    } });\n  }\n  return F$3(o3, e2, a3, l2, i2);\n}\nfunction F$3(n2, r2 = {}, e2, a3, s2) {\n  let { as: t2 = e2, children: l2, refName: i2 = \"ref\", ...o3 } = h$4(n2, [\"unmount\", \"static\"]), y2 = n2.ref !== void 0 ? { [i2]: n2.ref } : {}, f2 = typeof l2 == \"function\" ? l2(r2) : l2;\n  \"className\" in o3 && o3.className && typeof o3.className == \"function\" && (o3.className = o3.className(r2)), o3[\"aria-labelledby\"] && o3[\"aria-labelledby\"] === o3.id && (o3[\"aria-labelledby\"] = void 0);\n  let u2 = {};\n  if (r2) {\n    let d2 = false, p2 = [];\n    for (let [c2, T2] of Object.entries(r2)) typeof T2 == \"boolean\" && (d2 = true), T2 === true && p2.push(c2.replace(/([A-Z])/g, (g2) => `-${g2.toLowerCase()}`));\n    if (d2) {\n      u2[\"data-headlessui-state\"] = p2.join(\" \");\n      for (let c2 of p2) u2[`data-${c2}`] = \"\";\n    }\n  }\n  if (t2 === k$3 && (Object.keys(m$4(o3)).length > 0 || Object.keys(m$4(u2)).length > 0)) if (!mn(f2) || Array.isArray(f2) && f2.length > 1) {\n    if (Object.keys(m$4(o3)).length > 0) throw new Error(['Passing props on \"Fragment\"!', \"\", `The current component <${a3} /> is rendering a \"Fragment\".`, \"However we need to passthrough the following props:\", Object.keys(m$4(o3)).concat(Object.keys(m$4(u2))).map((d2) => `  - ${d2}`).join(`\n`), \"\", \"You can apply a few solutions:\", ['Add an `as=\"...\"` prop, to ensure that we render an actual element instead of a \"Fragment\".', \"Render a single element as the child so that we can forward the props onto that element.\"].map((d2) => `  - ${d2}`).join(`\n`)].join(`\n`));\n  } else {\n    let d2 = f2.props, p2 = d2 == null ? void 0 : d2.className, c2 = typeof p2 == \"function\" ? (...R2) => t$2(p2(...R2), o3.className) : t$2(p2, o3.className), T2 = c2 ? { className: c2 } : {}, g2 = P$2(f2.props, m$4(h$4(o3, [\"ref\"])));\n    for (let R2 in u2) R2 in g2 && delete u2[R2];\n    return _n(f2, Object.assign({}, g2, u2, y2, { ref: s2(H$4(f2), y2.ref) }, T2));\n  }\n  return _$4(t2, Object.assign({}, h$4(o3, [\"ref\"]), t2 !== k$3 && y2, t2 !== k$3 && u2), f2);\n}\nfunction U$2() {\n  let n2 = A$3([]), r2 = q$3((e2) => {\n    for (let a3 of n2.current) a3 != null && (typeof a3 == \"function\" ? a3(e2) : a3.current = e2);\n  }, []);\n  return (...e2) => {\n    if (!e2.every((a3) => a3 == null)) return n2.current = e2, r2;\n  };\n}\nfunction $(...n2) {\n  return n2.every((r2) => r2 == null) ? void 0 : (r2) => {\n    for (let e2 of n2) e2 != null && (typeof e2 == \"function\" ? e2(r2) : e2.current = r2);\n  };\n}\nfunction P$2(...n2) {\n  if (n2.length === 0) return {};\n  if (n2.length === 1) return n2[0];\n  let r2 = {}, e2 = {};\n  for (let s2 of n2) for (let t2 in s2) t2.startsWith(\"on\") && typeof s2[t2] == \"function\" ? (e2[t2] != null || (e2[t2] = []), e2[t2].push(s2[t2])) : r2[t2] = s2[t2];\n  if (r2.disabled || r2[\"aria-disabled\"]) for (let s2 in e2) /^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s2) && (e2[s2] = [(t2) => {\n    var l2;\n    return (l2 = t2 == null ? void 0 : t2.preventDefault) == null ? void 0 : l2.call(t2);\n  }]);\n  for (let s2 in e2) Object.assign(r2, { [s2](t2, ...l2) {\n    let i2 = e2[s2];\n    for (let o3 of i2) {\n      if ((t2 instanceof Event || (t2 == null ? void 0 : t2.nativeEvent) instanceof Event) && t2.defaultPrevented) return;\n      o3(t2, ...l2);\n    }\n  } });\n  return r2;\n}\nfunction _$2(...n2) {\n  if (n2.length === 0) return {};\n  if (n2.length === 1) return n2[0];\n  let r2 = {}, e2 = {};\n  for (let s2 of n2) for (let t2 in s2) t2.startsWith(\"on\") && typeof s2[t2] == \"function\" ? (e2[t2] != null || (e2[t2] = []), e2[t2].push(s2[t2])) : r2[t2] = s2[t2];\n  for (let s2 in e2) Object.assign(r2, { [s2](...t2) {\n    let l2 = e2[s2];\n    for (let i2 of l2) i2 == null || i2(...t2);\n  } });\n  return r2;\n}\nfunction K$1(n2) {\n  var r2;\n  return Object.assign(D$1(n2), { displayName: (r2 = n2.displayName) != null ? r2 : n2.name });\n}\nfunction m$4(n2) {\n  let r2 = Object.assign({}, n2);\n  for (let e2 in r2) r2[e2] === void 0 && delete r2[e2];\n  return r2;\n}\nfunction h$4(n2, r2 = []) {\n  let e2 = Object.assign({}, n2);\n  for (let a3 of r2) a3 in e2 && delete e2[a3];\n  return e2;\n}\nfunction H$4(n2) {\n  return Rn.version.split(\".\")[0] >= \"19\" ? n2.props.ref : n2.ref;\n}\nlet R$2 = \"button\";\nfunction v$1(a3, u2) {\n  var p2;\n  let l2 = a$9(), { disabled: e2 = l2 || false, autoFocus: t2 = false, ...o3 } = a3, { isFocusVisible: r2, focusProps: i2 } = $f7dceffc5ad7768b$export$4e328f61c538687f({ autoFocus: t2 }), { isHovered: s2, hoverProps: T2 } = $6179b936705e76d3$export$ae780daf29e6d456({ isDisabled: e2 }), { pressed: n2, pressProps: d2 } = w$2({ disabled: e2 }), f2 = _$2({ ref: u2, type: (p2 = o3.type) != null ? p2 : \"button\", disabled: e2 || void 0, autoFocus: t2 }, i2, T2, d2), m2 = T$5(() => ({ disabled: e2, hover: s2, focus: r2, active: n2, autofocus: t2 }), [e2, s2, r2, n2, t2]);\n  return L$2()({ ourProps: f2, theirProps: o3, slot: m2, defaultTag: R$2, name: \"Button\" });\n}\nlet H$3 = K$1(v$1);\nlet e$2 = K$3(void 0);\nfunction u$6() {\n  return x$4(e$2);\n}\nfunction r$1(n2) {\n  let e2 = n2.parentElement, l2 = null;\n  for (; e2 && !(e2 instanceof HTMLFieldSetElement); ) e2 instanceof HTMLLegendElement && (l2 = e2), e2 = e2.parentElement;\n  let t2 = (e2 == null ? void 0 : e2.getAttribute(\"disabled\")) === \"\";\n  return t2 && i$5(l2) ? false : t2;\n}\nfunction i$5(n2) {\n  if (!n2) return false;\n  let e2 = n2.previousElementSibling;\n  for (; e2 !== null; ) {\n    if (e2 instanceof HTMLLegendElement) return false;\n    e2 = e2.previousElementSibling;\n  }\n  return true;\n}\nlet u$5 = Symbol();\nfunction T$3(t2, n2 = true) {\n  return Object.assign(t2, { [u$5]: n2 });\n}\nfunction y$5(...t2) {\n  let n2 = A$3(t2);\n  y$6(() => {\n    n2.current = t2;\n  }, [t2]);\n  let c2 = o$4((e2) => {\n    for (let o3 of n2.current) o3 != null && (typeof o3 == \"function\" ? o3(e2) : o3.current = e2);\n  });\n  return t2.every((e2) => e2 == null || (e2 == null ? void 0 : e2[u$5])) ? void 0 : c2;\n}\nlet a$8 = K$3(null);\na$8.displayName = \"DescriptionContext\";\nfunction f$6() {\n  let r2 = x$4(a$8);\n  if (r2 === null) {\n    let e2 = new Error(\"You used a <Description /> component, but it is not inside a relevant parent.\");\n    throw Error.captureStackTrace && Error.captureStackTrace(e2, f$6), e2;\n  }\n  return r2;\n}\nfunction U$1() {\n  var r2, e2;\n  return (e2 = (r2 = x$4(a$8)) == null ? void 0 : r2.value) != null ? e2 : void 0;\n}\nfunction w$1() {\n  let [r2, e2] = d$4([]);\n  return [r2.length > 0 ? r2.join(\" \") : void 0, T$5(() => function(t2) {\n    let i2 = o$4((n2) => (e2((s2) => [...s2, n2]), () => e2((s2) => {\n      let o3 = s2.slice(), p2 = o3.indexOf(n2);\n      return p2 !== -1 && o3.splice(p2, 1), o3;\n    }))), l2 = T$5(() => ({ register: i2, slot: t2.slot, name: t2.name, props: t2.props, value: t2.value }), [i2, t2.slot, t2.name, t2.props, t2.value]);\n    return Rn.createElement(a$8.Provider, { value: l2 }, t2.children);\n  }, [e2])];\n}\nlet S$4 = \"p\";\nfunction C$1(r2, e2) {\n  let d2 = g$3(), t2 = a$9(), { id: i2 = `headlessui-description-${d2}`, ...l2 } = r2, n2 = f$6(), s2 = y$5(e2);\n  n$3(() => n2.register(i2), [i2, n2.register]);\n  let o3 = t2 || false, p2 = T$5(() => ({ ...n2.slot, disabled: o3 }), [n2.slot, o3]), D2 = { ref: s2, ...n2.props, id: i2 };\n  return L$2()({ ourProps: D2, theirProps: l2, slot: p2, defaultTag: S$4, name: n2.name || \"Description\" });\n}\nlet _$1 = K$1(C$1);\nObject.assign(_$1, {});\nvar o$3 = ((r2) => (r2.Space = \" \", r2.Enter = \"Enter\", r2.Escape = \"Escape\", r2.Backspace = \"Backspace\", r2.Delete = \"Delete\", r2.ArrowLeft = \"ArrowLeft\", r2.ArrowUp = \"ArrowUp\", r2.ArrowRight = \"ArrowRight\", r2.ArrowDown = \"ArrowDown\", r2.Home = \"Home\", r2.End = \"End\", r2.PageUp = \"PageUp\", r2.PageDown = \"PageDown\", r2.Tab = \"Tab\", r2))(o$3 || {});\nlet c$5 = K$3(null);\nc$5.displayName = \"LabelContext\";\nfunction P$1() {\n  let r2 = x$4(c$5);\n  if (r2 === null) {\n    let l2 = new Error(\"You used a <Label /> component, but it is not inside a relevant parent.\");\n    throw Error.captureStackTrace && Error.captureStackTrace(l2, P$1), l2;\n  }\n  return r2;\n}\nfunction I$2(r2) {\n  var a3, e2, o3;\n  let l2 = (e2 = (a3 = x$4(c$5)) == null ? void 0 : a3.value) != null ? e2 : void 0;\n  return ((o3 = void 0) != null ? o3 : 0) > 0 ? [l2, ...r2].filter(Boolean).join(\" \") : l2;\n}\nfunction K({ inherit: r2 = false } = {}) {\n  let l2 = I$2(), [a3, e2] = d$4([]), o3 = r2 ? [l2, ...a3].filter(Boolean) : a3;\n  return [o3.length > 0 ? o3.join(\" \") : void 0, T$5(() => function(t2) {\n    let s2 = o$4((i2) => (e2((p2) => [...p2, i2]), () => e2((p2) => {\n      let u2 = p2.slice(), d2 = u2.indexOf(i2);\n      return d2 !== -1 && u2.splice(d2, 1), u2;\n    }))), m2 = T$5(() => ({ register: s2, slot: t2.slot, name: t2.name, props: t2.props, value: t2.value }), [s2, t2.slot, t2.name, t2.props, t2.value]);\n    return Rn.createElement(c$5.Provider, { value: m2 }, t2.children);\n  }, [e2])];\n}\nlet N = \"label\";\nfunction G$1(r2, l2) {\n  var y2;\n  let a3 = g$3(), e2 = P$1(), o3 = u$6(), g2 = a$9(), { id: t2 = `headlessui-label-${a3}`, htmlFor: s2 = o3 != null ? o3 : (y2 = e2.props) == null ? void 0 : y2.htmlFor, passive: m2 = false, ...i2 } = r2, p2 = y$5(l2);\n  n$3(() => e2.register(t2), [t2, e2.register]);\n  let u2 = o$4((L2) => {\n    let b2 = L2.currentTarget;\n    if (b2 instanceof HTMLLabelElement && L2.preventDefault(), e2.props && \"onClick\" in e2.props && typeof e2.props.onClick == \"function\" && e2.props.onClick(L2), b2 instanceof HTMLLabelElement) {\n      let n2 = document.getElementById(b2.htmlFor);\n      if (n2) {\n        let E2 = n2.getAttribute(\"disabled\");\n        if (E2 === \"true\" || E2 === \"\") return;\n        let x2 = n2.getAttribute(\"aria-disabled\");\n        if (x2 === \"true\" || x2 === \"\") return;\n        (n2 instanceof HTMLInputElement && (n2.type === \"radio\" || n2.type === \"checkbox\") || n2.role === \"radio\" || n2.role === \"checkbox\" || n2.role === \"switch\") && n2.click(), n2.focus({ preventScroll: true });\n      }\n    }\n  }), d2 = g2 || false, C2 = T$5(() => ({ ...e2.slot, disabled: d2 }), [e2.slot, d2]), f2 = { ref: p2, ...e2.props, id: t2, htmlFor: s2, onClick: u2 };\n  return m2 && (\"onClick\" in f2 && (delete f2.htmlFor, delete f2.onClick), \"onClick\" in i2 && delete i2.onClick), L$2()({ ourProps: f2, theirProps: i2, slot: C2, defaultTag: s2 ? N : \"div\", name: e2.name || \"Label\" });\n}\nlet U = K$1(G$1);\nObject.assign(U, {});\nfunction f$5(e2) {\n  if (e2 === null) return { width: 0, height: 0 };\n  let { width: t2, height: r2 } = e2.getBoundingClientRect();\n  return { width: t2, height: r2 };\n}\nfunction d$2(e2, t2 = false) {\n  let [r2, u2] = h$5(() => ({}), {}), i2 = T$5(() => f$5(e2), [e2, r2]);\n  return n$3(() => {\n    if (!e2) return;\n    let n2 = new ResizeObserver(u2);\n    return n2.observe(e2), () => {\n      n2.disconnect();\n    };\n  }, [e2]), t2 ? { width: `${i2.width}px`, height: `${i2.height}px` } : i2;\n}\nlet a$7 = class a extends Map {\n  constructor(t2) {\n    super();\n    this.factory = t2;\n  }\n  get(t2) {\n    let e2 = super.get(t2);\n    return e2 === void 0 && (e2 = this.factory(t2), this.set(t2, e2)), e2;\n  }\n};\nfunction a$6(o3, r2) {\n  let t2 = o3(), n2 = /* @__PURE__ */ new Set();\n  return { getSnapshot() {\n    return t2;\n  }, subscribe(e2) {\n    return n2.add(e2), () => n2.delete(e2);\n  }, dispatch(e2, ...s2) {\n    let i2 = r2[e2].call(t2, ...s2);\n    i2 && (t2 = i2, n2.forEach((c2) => c2()));\n  } };\n}\nfunction o$2(t2) {\n  return C$3(t2.subscribe, t2.getSnapshot, t2.getSnapshot);\n}\nlet p$1 = new a$7(() => a$6(() => [], { ADD(r2) {\n  return this.includes(r2) ? this : [...this, r2];\n}, REMOVE(r2) {\n  let e2 = this.indexOf(r2);\n  if (e2 === -1) return this;\n  let t2 = this.slice();\n  return t2.splice(e2, 1), t2;\n} }));\nfunction x$2(r2, e2) {\n  let t2 = p$1.get(e2), i2 = g$3(), h2 = o$2(t2);\n  if (n$3(() => {\n    if (r2) return t2.dispatch(\"ADD\", i2), () => t2.dispatch(\"REMOVE\", i2);\n  }, [t2, r2]), !r2) return false;\n  let s2 = h2.indexOf(i2), o3 = h2.length;\n  return s2 === -1 && (s2 = o3, o3 += 1), s2 === o3 - 1;\n}\nlet f$4 = /* @__PURE__ */ new Map(), u$4 = /* @__PURE__ */ new Map();\nfunction h$3(t2) {\n  var e2;\n  let r2 = (e2 = u$4.get(t2)) != null ? e2 : 0;\n  return u$4.set(t2, r2 + 1), r2 !== 0 ? () => m$3(t2) : (f$4.set(t2, { \"aria-hidden\": t2.getAttribute(\"aria-hidden\"), inert: t2.inert }), t2.setAttribute(\"aria-hidden\", \"true\"), t2.inert = true, () => m$3(t2));\n}\nfunction m$3(t2) {\n  var i2;\n  let r2 = (i2 = u$4.get(t2)) != null ? i2 : 1;\n  if (r2 === 1 ? u$4.delete(t2) : u$4.set(t2, r2 - 1), r2 !== 1) return;\n  let e2 = f$4.get(t2);\n  e2 && (e2[\"aria-hidden\"] === null ? t2.removeAttribute(\"aria-hidden\") : t2.setAttribute(\"aria-hidden\", e2[\"aria-hidden\"]), t2.inert = e2.inert, f$4.delete(t2));\n}\nfunction y$4(t2, { allowed: r2, disallowed: e2 } = {}) {\n  let i2 = x$2(t2, \"inert-others\");\n  n$3(() => {\n    var d2, c2;\n    if (!i2) return;\n    let a3 = o$5();\n    for (let n2 of (d2 = e2 == null ? void 0 : e2()) != null ? d2 : []) n2 && a3.add(h$3(n2));\n    let s2 = (c2 = r2 == null ? void 0 : r2()) != null ? c2 : [];\n    for (let n2 of s2) {\n      if (!n2) continue;\n      let l2 = o$6(n2);\n      if (!l2) continue;\n      let o3 = n2.parentElement;\n      for (; o3 && o3 !== l2.body; ) {\n        for (let p2 of o3.children) s2.some((E2) => p2.contains(E2)) || a3.add(h$3(p2));\n        o3 = o3.parentElement;\n      }\n    }\n    return a3.dispose;\n  }, [i2, r2, e2]);\n}\nfunction m$2(s2, n2, l2) {\n  let i2 = s$6((t2) => {\n    let e2 = t2.getBoundingClientRect();\n    e2.x === 0 && e2.y === 0 && e2.width === 0 && e2.height === 0 && l2();\n  });\n  y$6(() => {\n    if (!s2) return;\n    let t2 = n2 === null ? null : n2 instanceof HTMLElement ? n2 : n2.current;\n    if (!t2) return;\n    let e2 = o$5();\n    if (typeof ResizeObserver != \"undefined\") {\n      let r2 = new ResizeObserver(() => i2.current(t2));\n      r2.observe(t2), e2.add(() => r2.disconnect());\n    }\n    if (typeof IntersectionObserver != \"undefined\") {\n      let r2 = new IntersectionObserver(() => i2.current(t2));\n      r2.observe(t2), e2.add(() => r2.disconnect());\n    }\n    return () => e2.dispose();\n  }, [n2, i2, s2]);\n}\nlet f$3 = [\"[contentEditable=true]\", \"[tabindex]\", \"a[href]\", \"area[href]\", \"button:not([disabled])\", \"iframe\", \"input:not([disabled])\", \"select:not([disabled])\", \"textarea:not([disabled])\"].map((e2) => `${e2}:not([tabindex='-1'])`).join(\",\"), p = [\"[data-autofocus]\"].map((e2) => `${e2}:not([tabindex='-1'])`).join(\",\");\nvar F$2 = ((n2) => (n2[n2.First = 1] = \"First\", n2[n2.Previous = 2] = \"Previous\", n2[n2.Next = 4] = \"Next\", n2[n2.Last = 8] = \"Last\", n2[n2.WrapAround = 16] = \"WrapAround\", n2[n2.NoScroll = 32] = \"NoScroll\", n2[n2.AutoFocus = 64] = \"AutoFocus\", n2))(F$2 || {}), T$2 = ((o3) => (o3[o3.Error = 0] = \"Error\", o3[o3.Overflow = 1] = \"Overflow\", o3[o3.Success = 2] = \"Success\", o3[o3.Underflow = 3] = \"Underflow\", o3))(T$2 || {}), y$3 = ((t2) => (t2[t2.Previous = -1] = \"Previous\", t2[t2.Next = 1] = \"Next\", t2))(y$3 || {});\nfunction b$3(e2 = document.body) {\n  return e2 == null ? [] : Array.from(e2.querySelectorAll(f$3)).sort((r2, t2) => Math.sign((r2.tabIndex || Number.MAX_SAFE_INTEGER) - (t2.tabIndex || Number.MAX_SAFE_INTEGER)));\n}\nfunction S$3(e2 = document.body) {\n  return e2 == null ? [] : Array.from(e2.querySelectorAll(p)).sort((r2, t2) => Math.sign((r2.tabIndex || Number.MAX_SAFE_INTEGER) - (t2.tabIndex || Number.MAX_SAFE_INTEGER)));\n}\nvar h$2 = ((t2) => (t2[t2.Strict = 0] = \"Strict\", t2[t2.Loose = 1] = \"Loose\", t2))(h$2 || {});\nfunction A(e2, r2 = 0) {\n  var t2;\n  return e2 === ((t2 = o$6(e2)) == null ? void 0 : t2.body) ? false : u$7(r2, { [0]() {\n    return e2.matches(f$3);\n  }, [1]() {\n    let u2 = e2;\n    for (; u2 !== null; ) {\n      if (u2.matches(f$3)) return true;\n      u2 = u2.parentElement;\n    }\n    return false;\n  } });\n}\nfunction G(e2) {\n  let r2 = o$6(e2);\n  o$5().nextFrame(() => {\n    r2 && !A(r2.activeElement, 0) && I$1(e2);\n  });\n}\nvar H$2 = ((t2) => (t2[t2.Keyboard = 0] = \"Keyboard\", t2[t2.Mouse = 1] = \"Mouse\", t2))(H$2 || {});\ntypeof window != \"undefined\" && typeof document != \"undefined\" && (document.addEventListener(\"keydown\", (e2) => {\n  e2.metaKey || e2.altKey || e2.ctrlKey || (document.documentElement.dataset.headlessuiFocusVisible = \"\");\n}, true), document.addEventListener(\"click\", (e2) => {\n  e2.detail === 1 ? delete document.documentElement.dataset.headlessuiFocusVisible : e2.detail === 0 && (document.documentElement.dataset.headlessuiFocusVisible = \"\");\n}, true));\nfunction I$1(e2) {\n  e2 == null || e2.focus({ preventScroll: true });\n}\nlet w = [\"textarea\", \"input\"].join(\",\");\nfunction O(e2) {\n  var r2, t2;\n  return (t2 = (r2 = e2 == null ? void 0 : e2.matches) == null ? void 0 : r2.call(e2, w)) != null ? t2 : false;\n}\nfunction _(e2, r2 = (t2) => t2) {\n  return e2.slice().sort((t2, u2) => {\n    let o3 = r2(t2), c2 = r2(u2);\n    if (o3 === null || c2 === null) return 0;\n    let l2 = o3.compareDocumentPosition(c2);\n    return l2 & Node.DOCUMENT_POSITION_FOLLOWING ? -1 : l2 & Node.DOCUMENT_POSITION_PRECEDING ? 1 : 0;\n  });\n}\nfunction j$2(e2, r2) {\n  return P(b$3(), r2, { relativeTo: e2 });\n}\nfunction P(e2, r2, { sorted: t2 = true, relativeTo: u2 = null, skipElements: o3 = [] } = {}) {\n  let c2 = Array.isArray(e2) ? e2.length > 0 ? e2[0].ownerDocument : document : e2.ownerDocument, l2 = Array.isArray(e2) ? t2 ? _(e2) : e2 : r2 & 64 ? S$3(e2) : b$3(e2);\n  o3.length > 0 && l2.length > 1 && (l2 = l2.filter((s2) => !o3.some((a3) => a3 != null && \"current\" in a3 ? (a3 == null ? void 0 : a3.current) === s2 : a3 === s2))), u2 = u2 != null ? u2 : c2.activeElement;\n  let n2 = (() => {\n    if (r2 & 5) return 1;\n    if (r2 & 10) return -1;\n    throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\");\n  })(), x2 = (() => {\n    if (r2 & 1) return 0;\n    if (r2 & 2) return Math.max(0, l2.indexOf(u2)) - 1;\n    if (r2 & 4) return Math.max(0, l2.indexOf(u2)) + 1;\n    if (r2 & 8) return l2.length - 1;\n    throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\");\n  })(), M2 = r2 & 32 ? { preventScroll: true } : {}, m2 = 0, d2 = l2.length, i2;\n  do {\n    if (m2 >= d2 || m2 + d2 <= 0) return 0;\n    let s2 = x2 + m2;\n    if (r2 & 16) s2 = (s2 + d2) % d2;\n    else {\n      if (s2 < 0) return 3;\n      if (s2 >= d2) return 1;\n    }\n    i2 = l2[s2], i2 == null || i2.focus(M2), m2 += n2;\n  } while (i2 !== c2.activeElement);\n  return r2 & 6 && O(i2) && i2.select(), 2;\n}\nfunction t$1() {\n  return /iPhone/gi.test(window.navigator.platform) || /Mac/gi.test(window.navigator.platform) && window.navigator.maxTouchPoints > 0;\n}\nfunction i$4() {\n  return /Android/gi.test(window.navigator.userAgent);\n}\nfunction n$2() {\n  return t$1() || i$4();\n}\nfunction i$3(t2, e2, o3, n2) {\n  let u2 = s$6(o3);\n  y$6(() => {\n    if (!t2) return;\n    function r2(m2) {\n      u2.current(m2);\n    }\n    return document.addEventListener(e2, r2, n2), () => document.removeEventListener(e2, r2, n2);\n  }, [t2, e2, n2]);\n}\nfunction s$5(t2, e2, o3, n2) {\n  let i2 = s$6(o3);\n  y$6(() => {\n    if (!t2) return;\n    function r2(d2) {\n      i2.current(d2);\n    }\n    return window.addEventListener(e2, r2, n2), () => window.removeEventListener(e2, r2, n2);\n  }, [t2, e2, n2]);\n}\nconst E = 30;\nfunction R$1(p2, f2, C2) {\n  let u2 = x$2(p2, \"outside-click\"), m2 = s$6(C2), s2 = q$3(function(e2, n2) {\n    if (e2.defaultPrevented) return;\n    let r2 = n2(e2);\n    if (r2 === null || !r2.getRootNode().contains(r2) || !r2.isConnected) return;\n    let h2 = function l2(o3) {\n      return typeof o3 == \"function\" ? l2(o3()) : Array.isArray(o3) || o3 instanceof Set ? o3 : [o3];\n    }(f2);\n    for (let l2 of h2) if (l2 !== null && (l2.contains(r2) || e2.composed && e2.composedPath().includes(l2))) return;\n    return !A(r2, h$2.Loose) && r2.tabIndex !== -1 && e2.preventDefault(), m2.current(e2, r2);\n  }, [m2, f2]), i2 = A$3(null);\n  i$3(u2, \"pointerdown\", (t2) => {\n    var e2, n2;\n    i2.current = ((n2 = (e2 = t2.composedPath) == null ? void 0 : e2.call(t2)) == null ? void 0 : n2[0]) || t2.target;\n  }, true), i$3(u2, \"mousedown\", (t2) => {\n    var e2, n2;\n    i2.current = ((n2 = (e2 = t2.composedPath) == null ? void 0 : e2.call(t2)) == null ? void 0 : n2[0]) || t2.target;\n  }, true), i$3(u2, \"click\", (t2) => {\n    n$2() || i2.current && (s2(t2, () => i2.current), i2.current = null);\n  }, true);\n  let a3 = A$3({ x: 0, y: 0 });\n  i$3(u2, \"touchstart\", (t2) => {\n    a3.current.x = t2.touches[0].clientX, a3.current.y = t2.touches[0].clientY;\n  }, true), i$3(u2, \"touchend\", (t2) => {\n    let e2 = { x: t2.changedTouches[0].clientX, y: t2.changedTouches[0].clientY };\n    if (!(Math.abs(e2.x - a3.current.x) >= E || Math.abs(e2.y - a3.current.y) >= E)) return s2(t2, () => t2.target instanceof HTMLElement ? t2.target : null);\n  }, true), s$5(u2, \"blur\", (t2) => s2(t2, () => window.document.activeElement instanceof HTMLIFrameElement ? window.document.activeElement : null), true);\n}\nfunction n$1(...e2) {\n  return T$5(() => o$6(...e2), [...e2]);\n}\nfunction e$1(t2, u2) {\n  return T$5(() => {\n    var n2;\n    if (t2.type) return t2.type;\n    let r2 = (n2 = t2.as) != null ? n2 : \"button\";\n    if (typeof r2 == \"string\" && r2.toLowerCase() === \"button\" || (u2 == null ? void 0 : u2.tagName) === \"BUTTON\" && !u2.hasAttribute(\"type\")) return \"button\";\n  }, [t2.type, t2.as, u2]);\n}\nfunction d$1() {\n  let r2;\n  return { before({ doc: e2 }) {\n    var l2;\n    let o3 = e2.documentElement, t2 = (l2 = e2.defaultView) != null ? l2 : window;\n    r2 = Math.max(0, t2.innerWidth - o3.clientWidth);\n  }, after({ doc: e2, d: o3 }) {\n    let t2 = e2.documentElement, l2 = Math.max(0, t2.clientWidth - t2.offsetWidth), n2 = Math.max(0, r2 - l2);\n    o3.style(t2, \"paddingRight\", `${n2}px`);\n  } };\n}\nfunction d() {\n  return t$1() ? { before({ doc: r2, d: n2, meta: c2 }) {\n    function o3(a3) {\n      return c2.containers.flatMap((l2) => l2()).some((l2) => l2.contains(a3));\n    }\n    n2.microTask(() => {\n      var s2;\n      if (window.getComputedStyle(r2.documentElement).scrollBehavior !== \"auto\") {\n        let t2 = o$5();\n        t2.style(r2.documentElement, \"scrollBehavior\", \"auto\"), n2.add(() => n2.microTask(() => t2.dispose()));\n      }\n      let a3 = (s2 = window.scrollY) != null ? s2 : window.pageYOffset, l2 = null;\n      n2.addEventListener(r2, \"click\", (t2) => {\n        if (t2.target instanceof HTMLElement) try {\n          let e2 = t2.target.closest(\"a\");\n          if (!e2) return;\n          let { hash: f2 } = new URL(e2.href), i2 = r2.querySelector(f2);\n          i2 && !o3(i2) && (l2 = i2);\n        } catch {\n        }\n      }, true), n2.addEventListener(r2, \"touchstart\", (t2) => {\n        if (t2.target instanceof HTMLElement) if (o3(t2.target)) {\n          let e2 = t2.target;\n          for (; e2.parentElement && o3(e2.parentElement); ) e2 = e2.parentElement;\n          n2.style(e2, \"overscrollBehavior\", \"contain\");\n        } else n2.style(t2.target, \"touchAction\", \"none\");\n      }), n2.addEventListener(r2, \"touchmove\", (t2) => {\n        if (t2.target instanceof HTMLElement) {\n          if (t2.target.tagName === \"INPUT\") return;\n          if (o3(t2.target)) {\n            let e2 = t2.target;\n            for (; e2.parentElement && e2.dataset.headlessuiPortal !== \"\" && !(e2.scrollHeight > e2.clientHeight || e2.scrollWidth > e2.clientWidth); ) e2 = e2.parentElement;\n            e2.dataset.headlessuiPortal === \"\" && t2.preventDefault();\n          } else t2.preventDefault();\n        }\n      }, { passive: false }), n2.add(() => {\n        var e2;\n        let t2 = (e2 = window.scrollY) != null ? e2 : window.pageYOffset;\n        a3 !== t2 && window.scrollTo(0, a3), l2 && l2.isConnected && (l2.scrollIntoView({ block: \"nearest\" }), l2 = null);\n      });\n    });\n  } } : {};\n}\nfunction r() {\n  return { before({ doc: e2, d: o3 }) {\n    o3.style(e2.documentElement, \"overflow\", \"hidden\");\n  } };\n}\nfunction m$1(e2) {\n  let n2 = {};\n  for (let t2 of e2) Object.assign(n2, t2(n2));\n  return n2;\n}\nlet a$5 = a$6(() => /* @__PURE__ */ new Map(), { PUSH(e2, n2) {\n  var o3;\n  let t2 = (o3 = this.get(e2)) != null ? o3 : { doc: e2, count: 0, d: o$5(), meta: /* @__PURE__ */ new Set() };\n  return t2.count++, t2.meta.add(n2), this.set(e2, t2), this;\n}, POP(e2, n2) {\n  let t2 = this.get(e2);\n  return t2 && (t2.count--, t2.meta.delete(n2)), this;\n}, SCROLL_PREVENT({ doc: e2, d: n2, meta: t2 }) {\n  let o3 = { doc: e2, d: n2, meta: m$1(t2) }, c2 = [d(), d$1(), r()];\n  c2.forEach(({ before: r2 }) => r2 == null ? void 0 : r2(o3)), c2.forEach(({ after: r2 }) => r2 == null ? void 0 : r2(o3));\n}, SCROLL_ALLOW({ d: e2 }) {\n  e2.dispose();\n}, TEARDOWN({ doc: e2 }) {\n  this.delete(e2);\n} });\na$5.subscribe(() => {\n  let e2 = a$5.getSnapshot(), n2 = /* @__PURE__ */ new Map();\n  for (let [t2] of e2) n2.set(t2, t2.documentElement.style.overflow);\n  for (let t2 of e2.values()) {\n    let o3 = n2.get(t2.doc) === \"hidden\", c2 = t2.count !== 0;\n    (c2 && !o3 || !c2 && o3) && a$5.dispatch(t2.count > 0 ? \"SCROLL_PREVENT\" : \"SCROLL_ALLOW\", t2), t2.count === 0 && a$5.dispatch(\"TEARDOWN\", t2);\n  }\n});\nfunction a$4(r2, e2, n2 = () => ({ containers: [] })) {\n  let f2 = o$2(a$5), o3 = e2 ? f2.get(e2) : void 0, i2 = o3 ? o3.count > 0 : false;\n  return n$3(() => {\n    if (!(!e2 || !r2)) return a$5.dispatch(\"PUSH\", e2, n2), () => a$5.dispatch(\"POP\", e2, n2);\n  }, [r2, e2]), i2;\n}\nfunction f$2(e2, c2, n2 = () => [document.body]) {\n  let r2 = x$2(e2, \"scroll-lock\");\n  a$4(r2, c2, (t2) => {\n    var o3;\n    return { containers: [...(o3 = t2.containers) != null ? o3 : [], n2] };\n  });\n}\nfunction t(e2) {\n  return [e2.screenX, e2.screenY];\n}\nfunction u$3() {\n  let e2 = A$3([-1, -1]);\n  return { wasMoved(r2) {\n    let n2 = t(r2);\n    return e2.current[0] === n2[0] && e2.current[1] === n2[1] ? false : (e2.current = n2, true);\n  }, update(r2) {\n    e2.current = t(r2);\n  } };\n}\nfunction c$4(u2 = 0) {\n  let [t2, l2] = d$4(u2), g2 = q$3((e2) => l2(e2), [t2]), s2 = q$3((e2) => l2((a3) => a3 | e2), [t2]), m2 = q$3((e2) => (t2 & e2) === e2, [t2]), n2 = q$3((e2) => l2((a3) => a3 & ~e2), [l2]), F2 = q$3((e2) => l2((a3) => a3 ^ e2), [l2]);\n  return { flags: t2, setFlag: g2, addFlag: s2, hasFlag: m2, removeFlag: n2, toggleFlag: F2 };\n}\nvar T$1, b$2;\ntypeof process != \"undefined\" && typeof globalThis != \"undefined\" && typeof Element != \"undefined\" && ((T$1 = process == null ? void 0 : process.env) == null ? void 0 : T$1[\"NODE_ENV\"]) === \"test\" && typeof ((b$2 = Element == null ? void 0 : Element.prototype) == null ? void 0 : b$2.getAnimations) == \"undefined\" && (Element.prototype.getAnimations = function() {\n  return console.warn([\"Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.\", \"Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.\", \"\", \"Example usage:\", \"```js\", \"import { mockAnimationsApi } from 'jsdom-testing-mocks'\", \"mockAnimationsApi()\", \"```\"].join(`\n`)), [];\n});\nvar L$1 = ((r2) => (r2[r2.None = 0] = \"None\", r2[r2.Closed = 1] = \"Closed\", r2[r2.Enter = 2] = \"Enter\", r2[r2.Leave = 4] = \"Leave\", r2))(L$1 || {});\nfunction R(t2) {\n  let n2 = {};\n  for (let e2 in t2) t2[e2] === true && (n2[`data-${e2}`] = \"\");\n  return n2;\n}\nfunction x$1(t2, n2, e2, i2) {\n  let [r2, o3] = d$4(e2), { hasFlag: s2, addFlag: a3, removeFlag: l2 } = c$4(t2 && r2 ? 3 : 0), u2 = A$3(false), f2 = A$3(false), E2 = p$2();\n  return n$3(() => {\n    var d2;\n    if (t2) {\n      if (e2 && o3(true), !n2) {\n        e2 && a3(3);\n        return;\n      }\n      return (d2 = void 0) == null || d2.call(i2, e2), C(n2, { inFlight: u2, prepare() {\n        f2.current ? f2.current = false : f2.current = u2.current, u2.current = true, !f2.current && (e2 ? (a3(3), l2(4)) : (a3(4), l2(2)));\n      }, run() {\n        f2.current ? e2 ? (l2(3), a3(4)) : (l2(4), a3(3)) : e2 ? l2(1) : a3(1);\n      }, done() {\n        var p2;\n        f2.current && typeof n2.getAnimations == \"function\" && n2.getAnimations().length > 0 || (u2.current = false, l2(7), e2 || o3(false), (p2 = void 0) == null || p2.call(i2, e2));\n      } });\n    }\n  }, [t2, e2, n2, E2]), t2 ? [r2, { closed: s2(1), enter: s2(2), leave: s2(4), transition: s2(2) || s2(4) }] : [e2, { closed: void 0, enter: void 0, leave: void 0, transition: void 0 }];\n}\nfunction C(t2, { prepare: n2, run: e2, done: i2, inFlight: r2 }) {\n  let o3 = o$5();\n  return j$1(t2, { prepare: n2, inFlight: r2 }), o3.nextFrame(() => {\n    e2(), o3.requestAnimationFrame(() => {\n      o3.add(M$2(t2, i2));\n    });\n  }), o3.dispose;\n}\nfunction M$2(t2, n2) {\n  var o3, s2;\n  let e2 = o$5();\n  if (!t2) return e2.dispose;\n  let i2 = false;\n  e2.add(() => {\n    i2 = true;\n  });\n  let r2 = (s2 = (o3 = t2.getAnimations) == null ? void 0 : o3.call(t2).filter((a3) => a3 instanceof CSSTransition)) != null ? s2 : [];\n  return r2.length === 0 ? (n2(), e2.dispose) : (Promise.allSettled(r2.map((a3) => a3.finished)).then(() => {\n    i2 || n2();\n  }), e2.dispose);\n}\nfunction j$1(t2, { inFlight: n2, prepare: e2 }) {\n  if (n2 != null && n2.current) {\n    e2();\n    return;\n  }\n  let i2 = t2.style.transition;\n  t2.style.transition = \"none\", e2(), t2.offsetHeight, t2.style.transition = i2;\n}\nfunction F$1(c2, { container: e2, accept: t2, walk: r2 }) {\n  let o3 = A$3(t2), l2 = A$3(r2);\n  y$6(() => {\n    o3.current = t2, l2.current = r2;\n  }, [t2, r2]), n$3(() => {\n    if (!e2 || !c2) return;\n    let n2 = o$6(e2);\n    if (!n2) return;\n    let f2 = o3.current, p2 = l2.current, i2 = Object.assign((m2) => f2(m2), { acceptNode: f2 }), u2 = n2.createTreeWalker(e2, NodeFilter.SHOW_ELEMENT, i2, false);\n    for (; u2.nextNode(); ) p2(u2.currentNode);\n  }, [e2, c2, o3, l2]);\n}\nfunction hasWindow() {\n  return typeof window !== \"undefined\";\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || \"\").toLowerCase();\n  }\n  return \"#document\";\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (!hasWindow() || typeof ShadowRoot === \"undefined\") {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle$1(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && ![\"inline\", \"contents\"].includes(display);\n}\nfunction isTableElement(element) {\n  return [\"table\", \"td\", \"th\"].includes(getNodeName(element));\n}\nfunction isTopLayer(element) {\n  return [\":popover-open\", \":modal\"].some((selector) => {\n    try {\n      return element.matches(selector);\n    } catch (e2) {\n      return false;\n    }\n  });\n}\nfunction isContainingBlock(elementOrCss) {\n  const webkit = isWebKit();\n  const css = isElement(elementOrCss) ? getComputedStyle$1(elementOrCss) : elementOrCss;\n  return [\"transform\", \"translate\", \"scale\", \"rotate\", \"perspective\"].some((value) => css[value] ? css[value] !== \"none\" : false) || (css.containerType ? css.containerType !== \"normal\" : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== \"none\" : false) || !webkit && (css.filter ? css.filter !== \"none\" : false) || [\"transform\", \"translate\", \"scale\", \"rotate\", \"perspective\", \"filter\"].some((value) => (css.willChange || \"\").includes(value)) || [\"paint\", \"layout\", \"strict\", \"content\"].some((value) => (css.contain || \"\").includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else if (isTopLayer(currentNode)) {\n      return null;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === \"undefined\" || !CSS.supports) return false;\n  return CSS.supports(\"-webkit-backdrop-filter\", \"none\");\n}\nfunction isLastTraversableNode(node) {\n  return [\"html\", \"body\", \"#document\"].includes(getNodeName(node));\n}\nfunction getComputedStyle$1(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === \"html\") {\n    return node;\n  }\n  const result = (\n    // Step into the shadow DOM of the parent of a slotted node.\n    node.assignedSlot || // DOM Element detected.\n    node.parentNode || // ShadowRoot detected.\n    isShadowRoot(node) && node.host || // Fallback.\n    getDocumentElement(node)\n  );\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    const frameElement = getFrameElement(win);\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\nfunction getUserAgent() {\n  const uaData = navigator.userAgentData;\n  if (uaData && Array.isArray(uaData.brands)) {\n    return uaData.brands.map((_ref) => {\n      let {\n        brand,\n        version\n      } = _ref;\n      return brand + \"/\" + version;\n    }).join(\" \");\n  }\n  return navigator.userAgent;\n}\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = (v2) => ({\n  x: v2,\n  y: v2\n});\nconst oppositeSideMap = {\n  left: \"right\",\n  right: \"left\",\n  bottom: \"top\",\n  top: \"bottom\"\n};\nconst oppositeAlignmentMap = {\n  start: \"end\",\n  end: \"start\"\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === \"function\" ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split(\"-\")[0];\n}\nfunction getAlignment(placement) {\n  return placement.split(\"-\")[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === \"x\" ? \"y\" : \"x\";\n}\nfunction getAxisLength(axis) {\n  return axis === \"y\" ? \"height\" : \"width\";\n}\nfunction getSideAxis(placement) {\n  return [\"top\", \"bottom\"].includes(getSide(placement)) ? \"y\" : \"x\";\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === \"x\" ? alignment === (rtl ? \"end\" : \"start\") ? \"right\" : \"left\" : alignment === \"start\" ? \"bottom\" : \"top\";\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, (alignment) => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = [\"left\", \"right\"];\n  const rl = [\"right\", \"left\"];\n  const tb = [\"top\", \"bottom\"];\n  const bt = [\"bottom\", \"top\"];\n  switch (side) {\n    case \"top\":\n    case \"bottom\":\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case \"left\":\n    case \"right\":\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === \"start\", rtl);\n  if (alignment) {\n    list = list.map((side) => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, (side) => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== \"number\" ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x: x2,\n    y: y2,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y2,\n    left: x2,\n    right: x2 + width,\n    bottom: y2 + height,\n    x: x2,\n    y: y2\n  };\n}\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === \"y\";\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case \"top\":\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case \"bottom\":\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case \"right\":\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case \"left\":\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case \"start\":\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case \"end\":\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\nconst computePosition$1 = async (reference, floating, config) => {\n  const {\n    placement = \"bottom\",\n    strategy = \"absolute\",\n    middleware = [],\n    platform: platform2\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(floating));\n  let rects = await platform2.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x: x2,\n    y: y2\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i2 = 0; i2 < validMiddleware.length; i2++) {\n    const {\n      name,\n      fn: fn2\n    } = validMiddleware[i2];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn2({\n      x: x2,\n      y: y2,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform: platform2,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x2 = nextX != null ? nextX : x2;\n    y2 = nextY != null ? nextY : y2;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === \"object\") {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform2.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x: x2,\n          y: y2\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i2 = -1;\n    }\n  }\n  return {\n    x: x2,\n    y: y2,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\nasync function detectOverflow$1(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x: x2,\n    y: y2,\n    platform: platform2,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = \"clippingAncestors\",\n    rootBoundary = \"viewport\",\n    elementContext = \"floating\",\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === \"floating\" ? \"reference\" : \"floating\";\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform2.getClippingRect({\n    element: ((_await$platform$isEle = await (platform2.isElement == null ? void 0 : platform2.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || await (platform2.getDocumentElement == null ? void 0 : platform2.getDocumentElement(elements.floating)),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === \"floating\" ? {\n    x: x2,\n    y: y2,\n    width: rects.floating.width,\n    height: rects.floating.height\n  } : rects.reference;\n  const offsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(elements.floating));\n  const offsetScale = await (platform2.isElement == null ? void 0 : platform2.isElement(offsetParent)) ? await (platform2.getScale == null ? void 0 : platform2.getScale(offsetParent)) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform2.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform2.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\nconst flip$2 = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"flip\",\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform: platform2,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = \"bestFit\",\n        fallbackAxisSideDirection = \"none\",\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const initialSideAxis = getSideAxis(initialPlacement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== \"none\";\n      if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow$1(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n      if (!overflows.every((side2) => side2 <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          var _overflowsData$;\n          const ignoreCrossAxisOverflow = checkCrossAxis === \"alignment\" ? initialSideAxis !== getSideAxis(nextPlacement) : false;\n          const hasInitialMainAxisOverflow = ((_overflowsData$ = overflowsData[0]) == null ? void 0 : _overflowsData$.overflows[0]) > 0;\n          if (!ignoreCrossAxisOverflow || hasInitialMainAxisOverflow) {\n            return {\n              data: {\n                index: nextIndex,\n                overflows: overflowsData\n              },\n              reset: {\n                placement: nextPlacement\n              }\n            };\n          }\n        }\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter((d2) => d2.overflows[0] <= 0).sort((a3, b2) => a3.overflows[1] - b2.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case \"bestFit\": {\n              var _overflowsData$filter2;\n              const placement2 = (_overflowsData$filter2 = overflowsData.filter((d2) => {\n                if (hasFallbackAxisSideDirection) {\n                  const currentSideAxis = getSideAxis(d2.placement);\n                  return currentSideAxis === initialSideAxis || // Create a bias to the `y` side axis due to horizontal\n                  // reading directions favoring greater width.\n                  currentSideAxis === \"y\";\n                }\n                return true;\n              }).map((d2) => [d2.placement, d2.overflows.filter((overflow2) => overflow2 > 0).reduce((acc, overflow2) => acc + overflow2, 0)]).sort((a3, b2) => a3[1] - b2[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n              if (placement2) {\n                resetPlacement = placement2;\n              }\n              break;\n            }\n            case \"initialPlacement\":\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform: platform2,\n    elements\n  } = state;\n  const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === \"y\";\n  const mainAxisMulti = [\"left\", \"top\"].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === \"number\" ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: rawValue.mainAxis || 0,\n    crossAxis: rawValue.crossAxis || 0,\n    alignmentAxis: rawValue.alignmentAxis\n  };\n  if (alignment && typeof alignmentAxis === \"number\") {\n    crossAxis = alignment === \"end\" ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\nconst offset$2 = function(options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: \"offset\",\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x: x2,\n        y: y2,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x2 + diffCoords.x,\n        y: y2 + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\nconst shift$2 = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"shift\",\n    options,\n    async fn(state) {\n      const {\n        x: x2,\n        y: y2,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: (_ref) => {\n            let {\n              x: x3,\n              y: y3\n            } = _ref;\n            return {\n              x: x3,\n              y: y3\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x: x2,\n        y: y2\n      };\n      const overflow = await detectOverflow$1(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === \"y\" ? \"top\" : \"left\";\n        const maxSide = mainAxis === \"y\" ? \"bottom\" : \"right\";\n        const min2 = mainAxisCoord + overflow[minSide];\n        const max2 = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min2, mainAxisCoord, max2);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === \"y\" ? \"top\" : \"left\";\n        const maxSide = crossAxis === \"y\" ? \"bottom\" : \"right\";\n        const min2 = crossAxisCoord + overflow[minSide];\n        const max2 = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min2, crossAxisCoord, max2);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x2,\n          y: limitedCoords.y - y2,\n          enabled: {\n            [mainAxis]: checkMainAxis,\n            [crossAxis]: checkCrossAxis\n          }\n        }\n      };\n    }\n  };\n};\nconst size$2 = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"size\",\n    options,\n    async fn(state) {\n      var _state$middlewareData, _state$middlewareData2;\n      const {\n        placement,\n        rects,\n        platform: platform2,\n        elements\n      } = state;\n      const {\n        apply = () => {\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow$1(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === \"y\";\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === \"top\" || side === \"bottom\") {\n        heightSide = side;\n        widthSide = alignment === (await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating)) ? \"start\" : \"end\") ? \"left\" : \"right\";\n      } else {\n        widthSide = side;\n        heightSide = alignment === \"end\" ? \"top\" : \"bottom\";\n      }\n      const maximumClippingHeight = height - overflow.top - overflow.bottom;\n      const maximumClippingWidth = width - overflow.left - overflow.right;\n      const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n      const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n        availableWidth = maximumClippingWidth;\n      }\n      if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n        availableHeight = maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform2.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\nfunction getCssDimensions(element) {\n  const css = getComputedStyle$1(element);\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $: $2\n  } = getCssDimensions(domElement);\n  let x2 = ($2 ? round(rect.width) : rect.width) / width;\n  let y2 = ($2 ? round(rect.height) : rect.height) / height;\n  if (!x2 || !Number.isFinite(x2)) {\n    x2 = 1;\n  }\n  if (!y2 || !Number.isFinite(y2)) {\n    y2 = 1;\n  }\n  return {\n    x: x2,\n    y: y2\n  };\n}\nconst noOffsets = /* @__PURE__ */ createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x2 = (clientRect.left + visualOffsets.x) / scale.x;\n  let y2 = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = getFrameElement(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle$1(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x2 *= iframeScale.x;\n      y2 *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x2 += left;\n      y2 += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = getFrameElement(currentWin);\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x: x2,\n    y: y2\n  });\n}\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = getNodeScroll(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\nfunction getHTMLOffset(documentElement, scroll, ignoreScrollbarX) {\n  if (ignoreScrollbarX === void 0) {\n    ignoreScrollbarX = false;\n  }\n  const htmlRect = documentElement.getBoundingClientRect();\n  const x2 = htmlRect.left + scroll.scrollLeft - (ignoreScrollbarX ? 0 : (\n    // RTL <body> scrollbar.\n    getWindowScrollBarX(documentElement, htmlRect)\n  ));\n  const y2 = htmlRect.top + scroll.scrollTop;\n  return {\n    x: x2,\n    y: y2\n  };\n}\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === \"fixed\";\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== \"body\" || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll, true) : createCoords(0);\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\n  };\n}\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x2 = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y2 = -scroll.scrollTop;\n  if (getComputedStyle$1(body).direction === \"rtl\") {\n    x2 += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x: x2,\n    y: y2\n  };\n}\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x2 = 0;\n  let y2 = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === \"fixed\") {\n      x2 = visualViewport.offsetLeft;\n      y2 = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x: x2,\n    y: y2\n  };\n}\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === \"fixed\");\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x2 = left * scale.x;\n  const y2 = top * scale.y;\n  return {\n    width,\n    height,\n    x: x2,\n    y: y2\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === \"viewport\") {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === \"document\") {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y,\n      width: clippingAncestor.width,\n      height: clippingAncestor.height\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle$1(parentNode).position === \"fixed\" || hasFixedPositionAncestor(parentNode, stopNode);\n}\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter((el) => isElement(el) && getNodeName(el) !== \"body\");\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle$1(element).position === \"fixed\";\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle$1(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === \"fixed\") {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === \"static\" && !!currentContainingBlockComputedStyle && [\"absolute\", \"fixed\"].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      result = result.filter((ancestor) => ancestor !== currentNode);\n    } else {\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === \"clippingAncestors\" ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === \"fixed\";\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  function setLeftRTLScrollbarOffset() {\n    offsets.x = getWindowScrollBarX(documentElement);\n  }\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== \"body\" || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      setLeftRTLScrollbarOffset();\n    }\n  }\n  if (isFixed && !isOffsetParentAnElement && documentElement) {\n    setLeftRTLScrollbarOffset();\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  const x2 = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\n  const y2 = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\n  return {\n    x: x2,\n    y: y2,\n    width: rect.width,\n    height: rect.height\n  };\n}\nfunction isStaticPositioned(element) {\n  return getComputedStyle$1(element).position === \"static\";\n}\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === \"fixed\") {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n  if (getDocumentElement(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\nconst getElementRects = async function(data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  const floatingDimensions = await getDimensionsFn(data.floating);\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: floatingDimensions.width,\n      height: floatingDimensions.height\n    }\n  };\n};\nfunction isRTL(element) {\n  return getComputedStyle$1(element).direction === \"rtl\";\n}\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\nfunction rectsAreEqual(a3, b2) {\n  return a3.x === b2.x && a3.y === b2.y && a3.width === b2.width && a3.height === b2.height;\n}\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const elementRectForRootMargin = element.getBoundingClientRect();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = elementRectForRootMargin;\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1e3);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      if (ratio === 1 && !rectsAreEqual(elementRectForRootMargin, element.getBoundingClientRect())) {\n        refresh();\n      }\n      isFirstUpdate = false;\n    }\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (_e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === \"function\",\n    layoutShift = typeof IntersectionObserver === \"function\",\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...referenceEl ? getOverflowAncestors(referenceEl) : [], ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach((ancestor) => {\n    ancestorScroll && ancestor.addEventListener(\"scroll\", update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener(\"resize\", update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver((_ref) => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && !rectsAreEqual(prevRefRect, nextRefRect)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach((ancestor) => {\n      ancestorScroll && ancestor.removeEventListener(\"scroll\", update);\n      ancestorResize && ancestor.removeEventListener(\"resize\", update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\nconst detectOverflow = detectOverflow$1;\nconst offset$1 = offset$2;\nconst shift$1 = shift$2;\nconst flip$1 = flip$2;\nconst size$1 = size$2;\nconst computePosition = (reference, floating, options) => {\n  const cache = /* @__PURE__ */ new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\nvar index$1 = typeof document !== \"undefined\" ? _$3 : y$6;\nfunction deepEqual(a3, b2) {\n  if (a3 === b2) {\n    return true;\n  }\n  if (typeof a3 !== typeof b2) {\n    return false;\n  }\n  if (typeof a3 === \"function\" && a3.toString() === b2.toString()) {\n    return true;\n  }\n  let length;\n  let i2;\n  let keys;\n  if (a3 && b2 && typeof a3 === \"object\") {\n    if (Array.isArray(a3)) {\n      length = a3.length;\n      if (length !== b2.length) return false;\n      for (i2 = length; i2-- !== 0; ) {\n        if (!deepEqual(a3[i2], b2[i2])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    keys = Object.keys(a3);\n    length = keys.length;\n    if (length !== Object.keys(b2).length) {\n      return false;\n    }\n    for (i2 = length; i2-- !== 0; ) {\n      if (!{}.hasOwnProperty.call(b2, keys[i2])) {\n        return false;\n      }\n    }\n    for (i2 = length; i2-- !== 0; ) {\n      const key = keys[i2];\n      if (key === \"_owner\" && a3.$$typeof) {\n        continue;\n      }\n      if (!deepEqual(a3[key], b2[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return a3 !== a3 && b2 !== b2;\n}\nfunction getDPR(element) {\n  if (typeof window === \"undefined\") {\n    return 1;\n  }\n  const win = element.ownerDocument.defaultView || window;\n  return win.devicePixelRatio || 1;\n}\nfunction roundByDPR(element, value) {\n  const dpr = getDPR(element);\n  return Math.round(value * dpr) / dpr;\n}\nfunction useLatestRef(value) {\n  const ref = A$3(value);\n  index$1(() => {\n    ref.current = value;\n  });\n  return ref;\n}\nfunction useFloating$1(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    placement = \"bottom\",\n    strategy = \"absolute\",\n    middleware = [],\n    platform: platform2,\n    elements: {\n      reference: externalReference,\n      floating: externalFloating\n    } = {},\n    transform = true,\n    whileElementsMounted,\n    open\n  } = options;\n  const [data, setData] = d$4({\n    x: 0,\n    y: 0,\n    strategy,\n    placement,\n    middlewareData: {},\n    isPositioned: false\n  });\n  const [latestMiddleware, setLatestMiddleware] = d$4(middleware);\n  if (!deepEqual(latestMiddleware, middleware)) {\n    setLatestMiddleware(middleware);\n  }\n  const [_reference, _setReference] = d$4(null);\n  const [_floating, _setFloating] = d$4(null);\n  const setReference = q$3((node) => {\n    if (node !== referenceRef.current) {\n      referenceRef.current = node;\n      _setReference(node);\n    }\n  }, []);\n  const setFloating = q$3((node) => {\n    if (node !== floatingRef.current) {\n      floatingRef.current = node;\n      _setFloating(node);\n    }\n  }, []);\n  const referenceEl = externalReference || _reference;\n  const floatingEl = externalFloating || _floating;\n  const referenceRef = A$3(null);\n  const floatingRef = A$3(null);\n  const dataRef = A$3(data);\n  const hasWhileElementsMounted = whileElementsMounted != null;\n  const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n  const platformRef = useLatestRef(platform2);\n  const openRef = useLatestRef(open);\n  const update = q$3(() => {\n    if (!referenceRef.current || !floatingRef.current) {\n      return;\n    }\n    const config = {\n      placement,\n      strategy,\n      middleware: latestMiddleware\n    };\n    if (platformRef.current) {\n      config.platform = platformRef.current;\n    }\n    computePosition(referenceRef.current, floatingRef.current, config).then((data2) => {\n      const fullData = {\n        ...data2,\n        // The floating element's position may be recomputed while it's closed\n        // but still mounted (such as when transitioning out). To ensure\n        // `isPositioned` will be `false` initially on the next open, avoid\n        // setting it to `true` when `open === false` (must be specified).\n        isPositioned: openRef.current !== false\n      };\n      if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n        dataRef.current = fullData;\n        En(() => {\n          setData(fullData);\n        });\n      }\n    });\n  }, [latestMiddleware, placement, strategy, platformRef, openRef]);\n  index$1(() => {\n    if (open === false && dataRef.current.isPositioned) {\n      dataRef.current.isPositioned = false;\n      setData((data2) => ({\n        ...data2,\n        isPositioned: false\n      }));\n    }\n  }, [open]);\n  const isMountedRef = A$3(false);\n  index$1(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n  index$1(() => {\n    if (referenceEl) referenceRef.current = referenceEl;\n    if (floatingEl) floatingRef.current = floatingEl;\n    if (referenceEl && floatingEl) {\n      if (whileElementsMountedRef.current) {\n        return whileElementsMountedRef.current(referenceEl, floatingEl, update);\n      }\n      update();\n    }\n  }, [referenceEl, floatingEl, update, whileElementsMountedRef, hasWhileElementsMounted]);\n  const refs = T$5(() => ({\n    reference: referenceRef,\n    floating: floatingRef,\n    setReference,\n    setFloating\n  }), [setReference, setFloating]);\n  const elements = T$5(() => ({\n    reference: referenceEl,\n    floating: floatingEl\n  }), [referenceEl, floatingEl]);\n  const floatingStyles = T$5(() => {\n    const initialStyles = {\n      position: strategy,\n      left: 0,\n      top: 0\n    };\n    if (!elements.floating) {\n      return initialStyles;\n    }\n    const x2 = roundByDPR(elements.floating, data.x);\n    const y2 = roundByDPR(elements.floating, data.y);\n    if (transform) {\n      return {\n        ...initialStyles,\n        transform: \"translate(\" + x2 + \"px, \" + y2 + \"px)\",\n        ...getDPR(elements.floating) >= 1.5 && {\n          willChange: \"transform\"\n        }\n      };\n    }\n    return {\n      position: strategy,\n      left: x2,\n      top: y2\n    };\n  }, [strategy, transform, elements.floating, data.x, data.y]);\n  return T$5(() => ({\n    ...data,\n    update,\n    refs,\n    elements,\n    floatingStyles\n  }), [data, update, refs, elements, floatingStyles]);\n}\nconst offset = (options, deps) => ({\n  ...offset$1(options),\n  options: [options, deps]\n});\nconst shift = (options, deps) => ({\n  ...shift$1(options),\n  options: [options, deps]\n});\nconst flip = (options, deps) => ({\n  ...flip$1(options),\n  options: [options, deps]\n});\nconst size = (options, deps) => ({\n  ...size$1(options),\n  options: [options, deps]\n});\nconst SafeReact = {\n  ...t$4\n};\nconst useInsertionEffect = SafeReact.useInsertionEffect;\nconst useSafeInsertionEffect = useInsertionEffect || ((fn2) => fn2());\nfunction useEffectEvent(callback) {\n  const ref = A$3(() => {\n    if (true) {\n      throw new Error(\"Cannot call an event handler while rendering.\");\n    }\n  });\n  useSafeInsertionEffect(() => {\n    ref.current = callback;\n  });\n  return q$3(function() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return ref.current == null ? void 0 : ref.current(...args);\n  }, []);\n}\nvar index = typeof document !== \"undefined\" ? _$3 : y$6;\nlet serverHandoffComplete = false;\nlet count = 0;\nconst genId = () => (\n  // Ensure the id is unique with multiple independent versions of Floating UI\n  // on <React 18\n  \"floating-ui-\" + Math.random().toString(36).slice(2, 6) + count++\n);\nfunction useFloatingId() {\n  const [id, setId] = d$4(() => serverHandoffComplete ? genId() : void 0);\n  index(() => {\n    if (id == null) {\n      setId(genId());\n    }\n  }, []);\n  y$6(() => {\n    serverHandoffComplete = true;\n  }, []);\n  return id;\n}\nconst useReactId = SafeReact.useId;\nconst useId = useReactId || useFloatingId;\nlet devMessageSet;\nif (true) {\n  devMessageSet = /* @__PURE__ */ new Set();\n}\nfunction warn() {\n  var _devMessageSet;\n  for (var _len = arguments.length, messages = new Array(_len), _key = 0; _key < _len; _key++) {\n    messages[_key] = arguments[_key];\n  }\n  const message = \"Floating UI: \" + messages.join(\" \");\n  if (!((_devMessageSet = devMessageSet) != null && _devMessageSet.has(message))) {\n    var _devMessageSet2;\n    (_devMessageSet2 = devMessageSet) == null || _devMessageSet2.add(message);\n    console.warn(message);\n  }\n}\nfunction error() {\n  var _devMessageSet3;\n  for (var _len2 = arguments.length, messages = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    messages[_key2] = arguments[_key2];\n  }\n  const message = \"Floating UI: \" + messages.join(\" \");\n  if (!((_devMessageSet3 = devMessageSet) != null && _devMessageSet3.has(message))) {\n    var _devMessageSet4;\n    (_devMessageSet4 = devMessageSet) == null || _devMessageSet4.add(message);\n    console.error(message);\n  }\n}\nfunction createPubSub() {\n  const map = /* @__PURE__ */ new Map();\n  return {\n    emit(event, data) {\n      var _map$get;\n      (_map$get = map.get(event)) == null || _map$get.forEach((handler) => handler(data));\n    },\n    on(event, listener) {\n      map.set(event, [...map.get(event) || [], listener]);\n    },\n    off(event, listener) {\n      var _map$get2;\n      map.set(event, ((_map$get2 = map.get(event)) == null ? void 0 : _map$get2.filter((l2) => l2 !== listener)) || []);\n    }\n  };\n}\nconst FloatingNodeContext = /* @__PURE__ */ K$3(null);\nconst FloatingTreeContext = /* @__PURE__ */ K$3(null);\nconst useFloatingParentNodeId = () => {\n  var _React$useContext;\n  return ((_React$useContext = x$4(FloatingNodeContext)) == null ? void 0 : _React$useContext.id) || null;\n};\nconst useFloatingTree = () => x$4(FloatingTreeContext);\nconst FOCUSABLE_ATTRIBUTE = \"data-floating-ui-focusable\";\nfunction useFloatingRootContext(options) {\n  const {\n    open = false,\n    onOpenChange: onOpenChangeProp,\n    elements: elementsProp\n  } = options;\n  const floatingId = useId();\n  const dataRef = A$3({});\n  const [events] = d$4(() => createPubSub());\n  const nested = useFloatingParentNodeId() != null;\n  if (true) {\n    const optionDomReference = elementsProp.reference;\n    if (optionDomReference && !isElement(optionDomReference)) {\n      error(\"Cannot pass a virtual element to the `elements.reference` option,\", \"as it must be a real DOM element. Use `refs.setPositionReference()`\", \"instead.\");\n    }\n  }\n  const [positionReference, setPositionReference] = d$4(elementsProp.reference);\n  const onOpenChange = useEffectEvent((open2, event, reason) => {\n    dataRef.current.openEvent = open2 ? event : void 0;\n    events.emit(\"openchange\", {\n      open: open2,\n      event,\n      reason,\n      nested\n    });\n    onOpenChangeProp == null || onOpenChangeProp(open2, event, reason);\n  });\n  const refs = T$5(() => ({\n    setPositionReference\n  }), []);\n  const elements = T$5(() => ({\n    reference: positionReference || elementsProp.reference || null,\n    floating: elementsProp.floating || null,\n    domReference: elementsProp.reference\n  }), [positionReference, elementsProp.reference, elementsProp.floating]);\n  return T$5(() => ({\n    dataRef,\n    open,\n    onOpenChange,\n    elements,\n    events,\n    floatingId,\n    refs\n  }), [open, onOpenChange, elements, events, floatingId, refs]);\n}\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    nodeId\n  } = options;\n  const internalRootContext = useFloatingRootContext({\n    ...options,\n    elements: {\n      reference: null,\n      floating: null,\n      ...options.elements\n    }\n  });\n  const rootContext = options.rootContext || internalRootContext;\n  const computedElements = rootContext.elements;\n  const [_domReference, setDomReference] = d$4(null);\n  const [positionReference, _setPositionReference] = d$4(null);\n  const optionDomReference = computedElements == null ? void 0 : computedElements.domReference;\n  const domReference = optionDomReference || _domReference;\n  const domReferenceRef = A$3(null);\n  const tree = useFloatingTree();\n  index(() => {\n    if (domReference) {\n      domReferenceRef.current = domReference;\n    }\n  }, [domReference]);\n  const position = useFloating$1({\n    ...options,\n    elements: {\n      ...computedElements,\n      ...positionReference && {\n        reference: positionReference\n      }\n    }\n  });\n  const setPositionReference = q$3((node) => {\n    const computedPositionReference = isElement(node) ? {\n      getBoundingClientRect: () => node.getBoundingClientRect(),\n      contextElement: node\n    } : node;\n    _setPositionReference(computedPositionReference);\n    position.refs.setReference(computedPositionReference);\n  }, [position.refs]);\n  const setReference = q$3((node) => {\n    if (isElement(node) || node === null) {\n      domReferenceRef.current = node;\n      setDomReference(node);\n    }\n    if (isElement(position.refs.reference.current) || position.refs.reference.current === null || // Don't allow setting virtual elements using the old technique back to\n    // `null` to support `positionReference` + an unstable `reference`\n    // callback ref.\n    node !== null && !isElement(node)) {\n      position.refs.setReference(node);\n    }\n  }, [position.refs]);\n  const refs = T$5(() => ({\n    ...position.refs,\n    setReference,\n    setPositionReference,\n    domReference: domReferenceRef\n  }), [position.refs, setReference, setPositionReference]);\n  const elements = T$5(() => ({\n    ...position.elements,\n    domReference\n  }), [position.elements, domReference]);\n  const context = T$5(() => ({\n    ...position,\n    ...rootContext,\n    refs,\n    elements,\n    nodeId\n  }), [position, refs, elements, nodeId, rootContext]);\n  index(() => {\n    rootContext.dataRef.current.floatingContext = context;\n    const node = tree == null ? void 0 : tree.nodesRef.current.find((node2) => node2.id === nodeId);\n    if (node) {\n      node.context = context;\n    }\n  });\n  return T$5(() => ({\n    ...position,\n    context,\n    refs,\n    elements\n  }), [position, refs, elements, context]);\n}\nconst ACTIVE_KEY = \"active\";\nconst SELECTED_KEY = \"selected\";\nfunction mergeProps(userProps, propsList, elementKey) {\n  const map = /* @__PURE__ */ new Map();\n  const isItem = elementKey === \"item\";\n  let domUserProps = userProps;\n  if (isItem && userProps) {\n    const {\n      [ACTIVE_KEY]: _2,\n      [SELECTED_KEY]: __,\n      ...validProps\n    } = userProps;\n    domUserProps = validProps;\n  }\n  return {\n    ...elementKey === \"floating\" && {\n      tabIndex: -1,\n      [FOCUSABLE_ATTRIBUTE]: \"\"\n    },\n    ...domUserProps,\n    ...propsList.map((value) => {\n      const propsOrGetProps = value ? value[elementKey] : null;\n      if (typeof propsOrGetProps === \"function\") {\n        return userProps ? propsOrGetProps(userProps) : null;\n      }\n      return propsOrGetProps;\n    }).concat(userProps).reduce((acc, props) => {\n      if (!props) {\n        return acc;\n      }\n      Object.entries(props).forEach((_ref) => {\n        let [key, value] = _ref;\n        if (isItem && [ACTIVE_KEY, SELECTED_KEY].includes(key)) {\n          return;\n        }\n        if (key.indexOf(\"on\") === 0) {\n          if (!map.has(key)) {\n            map.set(key, []);\n          }\n          if (typeof value === \"function\") {\n            var _map$get;\n            (_map$get = map.get(key)) == null || _map$get.push(value);\n            acc[key] = function() {\n              var _map$get2;\n              for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n              return (_map$get2 = map.get(key)) == null ? void 0 : _map$get2.map((fn2) => fn2(...args)).find((val) => val !== void 0);\n            };\n          }\n        } else {\n          acc[key] = value;\n        }\n      });\n      return acc;\n    }, {})\n  };\n}\nfunction useInteractions(propsList) {\n  if (propsList === void 0) {\n    propsList = [];\n  }\n  const referenceDeps = propsList.map((key) => key == null ? void 0 : key.reference);\n  const floatingDeps = propsList.map((key) => key == null ? void 0 : key.floating);\n  const itemDeps = propsList.map((key) => key == null ? void 0 : key.item);\n  const getReferenceProps = q$3(\n    (userProps) => mergeProps(userProps, propsList, \"reference\"),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    referenceDeps\n  );\n  const getFloatingProps = q$3(\n    (userProps) => mergeProps(userProps, propsList, \"floating\"),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    floatingDeps\n  );\n  const getItemProps = q$3(\n    (userProps) => mergeProps(userProps, propsList, \"item\"),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    itemDeps\n  );\n  return T$5(() => ({\n    getReferenceProps,\n    getFloatingProps,\n    getItemProps\n  }), [getReferenceProps, getFloatingProps, getItemProps]);\n}\nfunction getArgsWithCustomFloatingHeight(state, height) {\n  return {\n    ...state,\n    rects: {\n      ...state.rects,\n      floating: {\n        ...state.rects.floating,\n        height\n      }\n    }\n  };\n}\nconst inner = (props) => ({\n  name: \"inner\",\n  options: props,\n  async fn(state) {\n    const {\n      listRef,\n      overflowRef,\n      onFallbackChange,\n      offset: innerOffset = 0,\n      index: index2 = 0,\n      minItemsVisible = 4,\n      referenceOverflowThreshold = 0,\n      scrollRef,\n      ...detectOverflowOptions\n    } = evaluate(props, state);\n    const {\n      rects,\n      elements: {\n        floating\n      }\n    } = state;\n    const item = listRef.current[index2];\n    const scrollEl = (scrollRef == null ? void 0 : scrollRef.current) || floating;\n    const clientTop = floating.clientTop || scrollEl.clientTop;\n    const floatingIsBordered = floating.clientTop !== 0;\n    const scrollElIsBordered = scrollEl.clientTop !== 0;\n    const floatingIsScrollEl = floating === scrollEl;\n    if (true) {\n      if (!state.placement.startsWith(\"bottom\")) {\n        warn('`placement` side must be \"bottom\" when using the `inner`', \"middleware.\");\n      }\n    }\n    if (!item) {\n      return {};\n    }\n    const nextArgs = {\n      ...state,\n      ...await offset(-item.offsetTop - floating.clientTop - rects.reference.height / 2 - item.offsetHeight / 2 - innerOffset).fn(state)\n    };\n    const overflow = await detectOverflow(getArgsWithCustomFloatingHeight(nextArgs, scrollEl.scrollHeight + clientTop + floating.clientTop), detectOverflowOptions);\n    const refOverflow = await detectOverflow(nextArgs, {\n      ...detectOverflowOptions,\n      elementContext: \"reference\"\n    });\n    const diffY = max(0, overflow.top);\n    const nextY = nextArgs.y + diffY;\n    const isScrollable = scrollEl.scrollHeight > scrollEl.clientHeight;\n    const rounder = isScrollable ? (v2) => v2 : round;\n    const maxHeight = rounder(max(0, scrollEl.scrollHeight + (floatingIsBordered && floatingIsScrollEl || scrollElIsBordered ? clientTop * 2 : 0) - diffY - max(0, overflow.bottom)));\n    scrollEl.style.maxHeight = maxHeight + \"px\";\n    scrollEl.scrollTop = diffY;\n    if (onFallbackChange) {\n      const shouldFallback = scrollEl.offsetHeight < item.offsetHeight * min(minItemsVisible, listRef.current.length) - 1 || refOverflow.top >= -referenceOverflowThreshold || refOverflow.bottom >= -referenceOverflowThreshold;\n      En(() => onFallbackChange(shouldFallback));\n    }\n    if (overflowRef) {\n      overflowRef.current = await detectOverflow(getArgsWithCustomFloatingHeight({\n        ...nextArgs,\n        y: nextY\n      }, scrollEl.offsetHeight + clientTop + floating.clientTop), detectOverflowOptions);\n    }\n    return {\n      y: nextY\n    };\n  }\n});\nfunction useInnerOffset(context, props) {\n  const {\n    open,\n    elements\n  } = context;\n  const {\n    enabled = true,\n    overflowRef,\n    scrollRef,\n    onChange: unstable_onChange\n  } = props;\n  const onChange = useEffectEvent(unstable_onChange);\n  const controlledScrollingRef = A$3(false);\n  const prevScrollTopRef = A$3(null);\n  const initialOverflowRef = A$3(null);\n  y$6(() => {\n    if (!enabled) return;\n    function onWheel(e2) {\n      if (e2.ctrlKey || !el || overflowRef.current == null) {\n        return;\n      }\n      const dY = e2.deltaY;\n      const isAtTop = overflowRef.current.top >= -0.5;\n      const isAtBottom = overflowRef.current.bottom >= -0.5;\n      const remainingScroll = el.scrollHeight - el.clientHeight;\n      const sign = dY < 0 ? -1 : 1;\n      const method = dY < 0 ? \"max\" : \"min\";\n      if (el.scrollHeight <= el.clientHeight) {\n        return;\n      }\n      if (!isAtTop && dY > 0 || !isAtBottom && dY < 0) {\n        e2.preventDefault();\n        En(() => {\n          onChange((d2) => d2 + Math[method](dY, remainingScroll * sign));\n        });\n      } else if (/firefox/i.test(getUserAgent())) {\n        el.scrollTop += dY;\n      }\n    }\n    const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n    if (open && el) {\n      el.addEventListener(\"wheel\", onWheel);\n      requestAnimationFrame(() => {\n        prevScrollTopRef.current = el.scrollTop;\n        if (overflowRef.current != null) {\n          initialOverflowRef.current = {\n            ...overflowRef.current\n          };\n        }\n      });\n      return () => {\n        prevScrollTopRef.current = null;\n        initialOverflowRef.current = null;\n        el.removeEventListener(\"wheel\", onWheel);\n      };\n    }\n  }, [enabled, open, elements.floating, overflowRef, scrollRef, onChange]);\n  const floating = T$5(() => ({\n    onKeyDown() {\n      controlledScrollingRef.current = true;\n    },\n    onWheel() {\n      controlledScrollingRef.current = false;\n    },\n    onPointerMove() {\n      controlledScrollingRef.current = false;\n    },\n    onScroll() {\n      const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n      if (!overflowRef.current || !el || !controlledScrollingRef.current) {\n        return;\n      }\n      if (prevScrollTopRef.current !== null) {\n        const scrollDiff = el.scrollTop - prevScrollTopRef.current;\n        if (overflowRef.current.bottom < -0.5 && scrollDiff < -1 || overflowRef.current.top < -0.5 && scrollDiff > 1) {\n          En(() => onChange((d2) => d2 + scrollDiff));\n        }\n      }\n      requestAnimationFrame(() => {\n        prevScrollTopRef.current = el.scrollTop;\n      });\n    }\n  }), [elements.floating, onChange, overflowRef, scrollRef]);\n  return T$5(() => enabled ? {\n    floating\n  } : {}, [enabled, floating]);\n}\nlet y$2 = K$3({ styles: void 0, setReference: () => {\n}, setFloating: () => {\n}, getReferenceProps: () => ({}), getFloatingProps: () => ({}), slot: {} });\ny$2.displayName = \"FloatingContext\";\nlet H$1 = K$3(null);\nH$1.displayName = \"PlacementContext\";\nfunction xe(e2) {\n  return T$5(() => e2 ? typeof e2 == \"string\" ? { to: e2 } : e2 : null, [e2]);\n}\nfunction ye() {\n  return x$4(y$2).setReference;\n}\nfunction Fe() {\n  return x$4(y$2).getReferenceProps;\n}\nfunction be() {\n  let { getFloatingProps: e2, slot: t2 } = x$4(y$2);\n  return q$3((...n2) => Object.assign({}, e2(...n2), { \"data-anchor\": t2.anchor }), [e2, t2]);\n}\nfunction Re(e2 = null) {\n  e2 === false && (e2 = null), typeof e2 == \"string\" && (e2 = { to: e2 });\n  let t2 = x$4(H$1), n2 = T$5(() => e2, [JSON.stringify(e2, (r2, o3) => {\n    var u2;\n    return (u2 = o3 == null ? void 0 : o3.outerHTML) != null ? u2 : o3;\n  })]);\n  n$3(() => {\n    t2 == null || t2(n2 != null ? n2 : null);\n  }, [t2, n2]);\n  let l2 = x$4(y$2);\n  return T$5(() => [l2.setFloating, e2 ? l2.styles : {}], [l2.setFloating, e2, l2.styles]);\n}\nlet q$1 = 4;\nfunction Me({ children: e2, enabled: t2 = true }) {\n  let [n2, l2] = d$4(null), [r2, o3] = d$4(0), u2 = A$3(null), [f2, s2] = d$4(null);\n  pe(f2);\n  let i2 = t2 && n2 !== null && f2 !== null, { to: F2 = \"bottom\", gap: E2 = 0, offset: v2 = 0, padding: c2 = 0, inner: P2 } = ce(n2, f2), [a3, p2 = \"center\"] = F2.split(\" \");\n  n$3(() => {\n    i2 && o3(0);\n  }, [i2]);\n  let { refs: b2, floatingStyles: w2, context: g2 } = useFloating({ open: i2, placement: a3 === \"selection\" ? p2 === \"center\" ? \"bottom\" : `bottom-${p2}` : p2 === \"center\" ? `${a3}` : `${a3}-${p2}`, strategy: \"absolute\", transform: false, middleware: [offset({ mainAxis: a3 === \"selection\" ? 0 : E2, crossAxis: v2 }), shift({ padding: c2 }), a3 !== \"selection\" && flip({ padding: c2 }), a3 === \"selection\" && P2 ? inner({ ...P2, padding: c2, overflowRef: u2, offset: r2, minItemsVisible: q$1, referenceOverflowThreshold: c2, onFallbackChange(h2) {\n    var O2, W2;\n    if (!h2) return;\n    let d2 = g2.elements.floating;\n    if (!d2) return;\n    let T2 = parseFloat(getComputedStyle(d2).scrollPaddingBottom) || 0, $2 = Math.min(q$1, d2.childElementCount), L2 = 0, N2 = 0;\n    for (let m2 of (W2 = (O2 = g2.elements.floating) == null ? void 0 : O2.childNodes) != null ? W2 : []) if (m2 instanceof HTMLElement) {\n      let x2 = m2.offsetTop, k2 = x2 + m2.clientHeight + T2, S2 = d2.scrollTop, U2 = S2 + d2.clientHeight;\n      if (x2 >= S2 && k2 <= U2) $2--;\n      else {\n        N2 = Math.max(0, Math.min(k2, U2) - Math.max(x2, S2)), L2 = m2.clientHeight;\n        break;\n      }\n    }\n    $2 >= 1 && o3((m2) => {\n      let x2 = L2 * $2 - N2 + T2;\n      return m2 >= x2 ? m2 : x2;\n    });\n  } }) : null, size({ padding: c2, apply({ availableWidth: h2, availableHeight: d2, elements: T2 }) {\n    Object.assign(T2.floating.style, { overflow: \"auto\", maxWidth: `${h2}px`, maxHeight: `min(var(--anchor-max-height, 100vh), ${d2}px)` });\n  } })].filter(Boolean), whileElementsMounted: autoUpdate }), [I2 = a3, B2 = p2] = g2.placement.split(\"-\");\n  a3 === \"selection\" && (I2 = \"selection\");\n  let G2 = T$5(() => ({ anchor: [I2, B2].filter(Boolean).join(\" \") }), [I2, B2]), K2 = useInnerOffset(g2, { overflowRef: u2, onChange: o3 }), { getReferenceProps: Q2, getFloatingProps: X2 } = useInteractions([K2]), Y2 = o$4((h2) => {\n    s2(h2), b2.setFloating(h2);\n  });\n  return _$4(H$1.Provider, { value: l2 }, _$4(y$2.Provider, { value: { setFloating: Y2, setReference: b2.setReference, styles: w2, getReferenceProps: Q2, getFloatingProps: X2, slot: G2 } }, e2));\n}\nfunction pe(e2) {\n  n$3(() => {\n    if (!e2) return;\n    let t2 = new MutationObserver(() => {\n      let n2 = window.getComputedStyle(e2).maxHeight, l2 = parseFloat(n2);\n      if (isNaN(l2)) return;\n      let r2 = parseInt(n2);\n      isNaN(r2) || l2 !== r2 && (e2.style.maxHeight = `${Math.ceil(l2)}px`);\n    });\n    return t2.observe(e2, { attributes: true, attributeFilter: [\"style\"] }), () => {\n      t2.disconnect();\n    };\n  }, [e2]);\n}\nfunction ce(e2, t2) {\n  var o3, u2, f2;\n  let n2 = V((o3 = e2 == null ? void 0 : e2.gap) != null ? o3 : \"var(--anchor-gap, 0)\", t2), l2 = V((u2 = e2 == null ? void 0 : e2.offset) != null ? u2 : \"var(--anchor-offset, 0)\", t2), r2 = V((f2 = e2 == null ? void 0 : e2.padding) != null ? f2 : \"var(--anchor-padding, 0)\", t2);\n  return { ...e2, gap: n2, offset: l2, padding: r2 };\n}\nfunction V(e2, t2, n2 = void 0) {\n  let l2 = p$2(), r2 = o$4((s2, i2) => {\n    if (s2 == null) return [n2, null];\n    if (typeof s2 == \"number\") return [s2, null];\n    if (typeof s2 == \"string\") {\n      if (!i2) return [n2, null];\n      let F2 = J$2(s2, i2);\n      return [F2, (E2) => {\n        let v2 = D(s2);\n        {\n          let c2 = v2.map((P2) => window.getComputedStyle(i2).getPropertyValue(P2));\n          l2.requestAnimationFrame(function P2() {\n            l2.nextFrame(P2);\n            let a3 = false;\n            for (let [b2, w2] of v2.entries()) {\n              let g2 = window.getComputedStyle(i2).getPropertyValue(w2);\n              if (c2[b2] !== g2) {\n                c2[b2] = g2, a3 = true;\n                break;\n              }\n            }\n            if (!a3) return;\n            let p2 = J$2(s2, i2);\n            F2 !== p2 && (E2(p2), F2 = p2);\n          });\n        }\n        return l2.dispose;\n      }];\n    }\n    return [n2, null];\n  }), o3 = T$5(() => r2(e2, t2)[0], [e2, t2]), [u2 = o3, f2] = d$4();\n  return n$3(() => {\n    let [s2, i2] = r2(e2, t2);\n    if (f2(s2), !!i2) return i2(f2);\n  }, [e2, t2]), u2;\n}\nfunction D(e2) {\n  let t2 = /var\\((.*)\\)/.exec(e2);\n  if (t2) {\n    let n2 = t2[1].indexOf(\",\");\n    if (n2 === -1) return [t2[1]];\n    let l2 = t2[1].slice(0, n2).trim(), r2 = t2[1].slice(n2 + 1).trim();\n    return r2 ? [l2, ...D(r2)] : [l2];\n  }\n  return [];\n}\nfunction J$2(e2, t2) {\n  let n2 = document.createElement(\"div\");\n  t2.appendChild(n2), n2.style.setProperty(\"margin-top\", \"0px\", \"important\"), n2.style.setProperty(\"margin-top\", e2, \"important\");\n  let l2 = parseFloat(window.getComputedStyle(n2).marginTop) || 0;\n  return t2.removeChild(n2), l2;\n}\nlet n = K$3(null);\nn.displayName = \"OpenClosedContext\";\nvar i$2 = ((e2) => (e2[e2.Open = 1] = \"Open\", e2[e2.Closed = 2] = \"Closed\", e2[e2.Closing = 4] = \"Closing\", e2[e2.Opening = 8] = \"Opening\", e2))(i$2 || {});\nfunction u$2() {\n  return x$4(n);\n}\nfunction c$3({ value: o3, children: t2 }) {\n  return Rn.createElement(n.Provider, { value: o3 }, t2);\n}\nvar withSelector = { exports: {} };\nvar useSyncExternalStoreWithSelector_production = {};\n/**\n * @license React\n * use-sync-external-store-with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar hasRequiredUseSyncExternalStoreWithSelector_production;\nfunction requireUseSyncExternalStoreWithSelector_production() {\n  if (hasRequiredUseSyncExternalStoreWithSelector_production) return useSyncExternalStoreWithSelector_production;\n  hasRequiredUseSyncExternalStoreWithSelector_production = 1;\n  var React = t$4;\n  function is(x2, y2) {\n    return x2 === y2 && (0 !== x2 || 1 / x2 === 1 / y2) || x2 !== x2 && y2 !== y2;\n  }\n  var objectIs = \"function\" === typeof Object.is ? Object.is : is, useSyncExternalStore = React.useSyncExternalStore, useRef = React.useRef, useEffect = React.useEffect, useMemo = React.useMemo, useDebugValue = React.useDebugValue;\n  useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector = function(subscribe, getSnapshot, getServerSnapshot, selector, isEqual) {\n    var instRef = useRef(null);\n    if (null === instRef.current) {\n      var inst = { hasValue: false, value: null };\n      instRef.current = inst;\n    } else inst = instRef.current;\n    instRef = useMemo(\n      function() {\n        function memoizedSelector(nextSnapshot) {\n          if (!hasMemo) {\n            hasMemo = true;\n            memoizedSnapshot = nextSnapshot;\n            nextSnapshot = selector(nextSnapshot);\n            if (void 0 !== isEqual && inst.hasValue) {\n              var currentSelection = inst.value;\n              if (isEqual(currentSelection, nextSnapshot))\n                return memoizedSelection = currentSelection;\n            }\n            return memoizedSelection = nextSnapshot;\n          }\n          currentSelection = memoizedSelection;\n          if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n          var nextSelection = selector(nextSnapshot);\n          if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n            return memoizedSnapshot = nextSnapshot, currentSelection;\n          memoizedSnapshot = nextSnapshot;\n          return memoizedSelection = nextSelection;\n        }\n        var hasMemo = false, memoizedSnapshot, memoizedSelection, maybeGetServerSnapshot = void 0 === getServerSnapshot ? null : getServerSnapshot;\n        return [\n          function() {\n            return memoizedSelector(getSnapshot());\n          },\n          null === maybeGetServerSnapshot ? void 0 : function() {\n            return memoizedSelector(maybeGetServerSnapshot());\n          }\n        ];\n      },\n      [getSnapshot, getServerSnapshot, selector, isEqual]\n    );\n    var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n    useEffect(\n      function() {\n        inst.hasValue = true;\n        inst.value = value;\n      },\n      [value]\n    );\n    useDebugValue(value);\n    return value;\n  };\n  return useSyncExternalStoreWithSelector_production;\n}\nvar useSyncExternalStoreWithSelector_development = {};\n/**\n * @license React\n * use-sync-external-store-with-selector.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar hasRequiredUseSyncExternalStoreWithSelector_development;\nfunction requireUseSyncExternalStoreWithSelector_development() {\n  if (hasRequiredUseSyncExternalStoreWithSelector_development) return useSyncExternalStoreWithSelector_development;\n  hasRequiredUseSyncExternalStoreWithSelector_development = 1;\n   true && function() {\n    function is(x2, y2) {\n      return x2 === y2 && (0 !== x2 || 1 / x2 === 1 / y2) || x2 !== x2 && y2 !== y2;\n    }\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && \"function\" === typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());\n    var React = t$4, objectIs = \"function\" === typeof Object.is ? Object.is : is, useSyncExternalStore = React.useSyncExternalStore, useRef = React.useRef, useEffect = React.useEffect, useMemo = React.useMemo, useDebugValue = React.useDebugValue;\n    useSyncExternalStoreWithSelector_development.useSyncExternalStoreWithSelector = function(subscribe, getSnapshot, getServerSnapshot, selector, isEqual) {\n      var instRef = useRef(null);\n      if (null === instRef.current) {\n        var inst = { hasValue: false, value: null };\n        instRef.current = inst;\n      } else inst = instRef.current;\n      instRef = useMemo(\n        function() {\n          function memoizedSelector(nextSnapshot) {\n            if (!hasMemo) {\n              hasMemo = true;\n              memoizedSnapshot = nextSnapshot;\n              nextSnapshot = selector(nextSnapshot);\n              if (void 0 !== isEqual && inst.hasValue) {\n                var currentSelection = inst.value;\n                if (isEqual(currentSelection, nextSnapshot))\n                  return memoizedSelection = currentSelection;\n              }\n              return memoizedSelection = nextSnapshot;\n            }\n            currentSelection = memoizedSelection;\n            if (objectIs(memoizedSnapshot, nextSnapshot))\n              return currentSelection;\n            var nextSelection = selector(nextSnapshot);\n            if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n              return memoizedSnapshot = nextSnapshot, currentSelection;\n            memoizedSnapshot = nextSnapshot;\n            return memoizedSelection = nextSelection;\n          }\n          var hasMemo = false, memoizedSnapshot, memoizedSelection, maybeGetServerSnapshot = void 0 === getServerSnapshot ? null : getServerSnapshot;\n          return [\n            function() {\n              return memoizedSelector(getSnapshot());\n            },\n            null === maybeGetServerSnapshot ? void 0 : function() {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n          ];\n        },\n        [getSnapshot, getServerSnapshot, selector, isEqual]\n      );\n      var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n      useEffect(\n        function() {\n          inst.hasValue = true;\n          inst.value = value;\n        },\n        [value]\n      );\n      useDebugValue(value);\n      return value;\n    };\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && \"function\" === typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());\n  }();\n  return useSyncExternalStoreWithSelector_development;\n}\nvar hasRequiredWithSelector;\nfunction requireWithSelector() {\n  if (hasRequiredWithSelector) return withSelector.exports;\n  hasRequiredWithSelector = 1;\n  if (false) {} else {\n    withSelector.exports = requireUseSyncExternalStoreWithSelector_development();\n  }\n  return withSelector.exports;\n}\nvar withSelectorExports = requireWithSelector();\nvar f$1 = (t2, e2, r2) => {\n  if (!e2.has(t2)) throw TypeError(\"Cannot \" + r2);\n};\nvar a$3 = (t2, e2, r2) => (f$1(t2, e2, \"read from private field\"), r2 ? r2.call(t2) : e2.get(t2)), l$2 = (t2, e2, r2) => {\n  if (e2.has(t2)) throw TypeError(\"Cannot add the same private member more than once\");\n  e2 instanceof WeakSet ? e2.add(t2) : e2.set(t2, r2);\n}, c$2 = (t2, e2, r2, n2) => (f$1(t2, e2, \"write to private field\"), e2.set(t2, r2), r2);\nvar i$1, s$4, o$1;\nclass m {\n  constructor(e2) {\n    l$2(this, i$1, {});\n    l$2(this, s$4, new a$7(() => /* @__PURE__ */ new Set()));\n    l$2(this, o$1, /* @__PURE__ */ new Set());\n    c$2(this, i$1, e2);\n  }\n  get state() {\n    return a$3(this, i$1);\n  }\n  subscribe(e2, r2) {\n    let n2 = { selector: e2, callback: r2, current: e2(a$3(this, i$1)) };\n    return a$3(this, o$1).add(n2), () => {\n      a$3(this, o$1).delete(n2);\n    };\n  }\n  on(e2, r2) {\n    return a$3(this, s$4).get(e2).add(r2), () => {\n      a$3(this, s$4).get(e2).delete(r2);\n    };\n  }\n  send(e2) {\n    c$2(this, i$1, this.reduce(a$3(this, i$1), e2));\n    for (let r2 of a$3(this, o$1)) {\n      let n2 = r2.selector(a$3(this, i$1));\n      h$1(r2.current, n2) || (r2.current = n2, r2.callback(n2));\n    }\n    for (let r2 of a$3(this, s$4).get(e2.type)) r2(a$3(this, i$1), e2);\n  }\n}\ni$1 = /* @__PURE__ */ new WeakMap(), s$4 = /* @__PURE__ */ new WeakMap(), o$1 = /* @__PURE__ */ new WeakMap();\nfunction h$1(t2, e2) {\n  return Object.is(t2, e2) ? true : typeof t2 != \"object\" || t2 === null || typeof e2 != \"object\" || e2 === null ? false : Array.isArray(t2) && Array.isArray(e2) ? t2.length !== e2.length ? false : u$1(t2[Symbol.iterator](), e2[Symbol.iterator]()) : t2 instanceof Map && e2 instanceof Map || t2 instanceof Set && e2 instanceof Set ? t2.size !== e2.size ? false : u$1(t2.entries(), e2.entries()) : S$2(t2) && S$2(e2) ? u$1(Object.entries(t2)[Symbol.iterator](), Object.entries(e2)[Symbol.iterator]()) : false;\n}\nfunction u$1(t2, e2) {\n  do {\n    let r2 = t2.next(), n2 = e2.next();\n    if (r2.done && n2.done) return true;\n    if (r2.done || n2.done || !Object.is(r2.value, n2.value)) return false;\n  } while (true);\n}\nfunction S$2(t2) {\n  if (Object.prototype.toString.call(t2) !== \"[object Object]\") return false;\n  let e2 = Object.getPrototypeOf(t2);\n  return e2 === null || Object.getPrototypeOf(e2) === null;\n}\nfunction g$1(t2) {\n  let [e2, r2] = t2(), n2 = o$5();\n  return (...b2) => {\n    e2(...b2), n2.dispose(), n2.microTask(r2);\n  };\n}\nfunction S$1(e2, n2, r2 = h$1) {\n  return withSelectorExports.useSyncExternalStoreWithSelector(o$4((i2) => e2.subscribe(s$3, i2)), o$4(() => e2.state), o$4(() => e2.state), o$4(n2), r2);\n}\nfunction s$3(e2) {\n  return e2;\n}\nfunction u(l2) {\n  throw new Error(\"Unexpected object: \" + l2);\n}\nvar c$1 = ((i2) => (i2[i2.First = 0] = \"First\", i2[i2.Previous = 1] = \"Previous\", i2[i2.Next = 2] = \"Next\", i2[i2.Last = 3] = \"Last\", i2[i2.Specific = 4] = \"Specific\", i2[i2.Nothing = 5] = \"Nothing\", i2))(c$1 || {});\nfunction f(l2, n2) {\n  let t2 = n2.resolveItems();\n  if (t2.length <= 0) return null;\n  let r2 = n2.resolveActiveIndex(), s2 = r2 != null ? r2 : -1;\n  switch (l2.focus) {\n    case 0: {\n      for (let e2 = 0; e2 < t2.length; ++e2) if (!n2.resolveDisabled(t2[e2], e2, t2)) return e2;\n      return r2;\n    }\n    case 1: {\n      s2 === -1 && (s2 = t2.length);\n      for (let e2 = s2 - 1; e2 >= 0; --e2) if (!n2.resolveDisabled(t2[e2], e2, t2)) return e2;\n      return r2;\n    }\n    case 2: {\n      for (let e2 = s2 + 1; e2 < t2.length; ++e2) if (!n2.resolveDisabled(t2[e2], e2, t2)) return e2;\n      return r2;\n    }\n    case 3: {\n      for (let e2 = t2.length - 1; e2 >= 0; --e2) if (!n2.resolveDisabled(t2[e2], e2, t2)) return e2;\n      return r2;\n    }\n    case 4: {\n      for (let e2 = 0; e2 < t2.length; ++e2) if (n2.resolveId(t2[e2], e2, t2) === l2.id) return e2;\n      return r2;\n    }\n    case 5:\n      return null;\n    default:\n      u(l2);\n  }\n}\nfunction c(t2) {\n  let r2 = o$4(t2), e2 = A$3(false);\n  y$6(() => (e2.current = false, () => {\n    e2.current = true, t$3(() => {\n      e2.current && r2();\n    });\n  }), [r2]);\n}\nfunction s$2() {\n  let r2 = typeof document == \"undefined\";\n  return \"useSyncExternalStore\" in t$4 ? ((o3) => o3.useSyncExternalStore)(t$4)(() => () => {\n  }, () => false, () => !r2) : false;\n}\nfunction l$1() {\n  let r2 = s$2(), [e2, n2] = d$4(s$7.isHandoffComplete);\n  return e2 && s$7.isHandoffComplete === false && n2(false), y$6(() => {\n    e2 !== true && n2(true);\n  }, [e2]), y$6(() => s$7.handoff(), []), r2 ? false : e2;\n}\nlet e = K$3(false);\nfunction a$2() {\n  return x$4(e);\n}\nfunction j(t2) {\n  let o3 = a$2(), n2 = x$4(b$1), [r2, u2] = d$4(() => {\n    var s2, a3;\n    if (!o3 && n2 !== null) return (s2 = n2.current) != null ? s2 : null;\n    if (s$7.isServer) return null;\n    let e2 = t2 == null ? void 0 : t2.getElementById(\"stagewise-toolbar-portal-root\");\n    if (e2) return e2;\n    if (t2 === null) return null;\n    let l2 = t2.createElement(\"div\");\n    return l2.setAttribute(\"id\", \"stagewise-toolbar-portal-root\"), l2.style.pointerEvents = \"auto\", ((a3 = t2.querySelector(\"stagewise-companion-anchor\")) != null ? a3 : t2.body).appendChild(l2);\n  });\n  return y$6(() => {\n    var l2;\n    if (r2 === null) return;\n    const e2 = (l2 = t2 == null ? void 0 : t2.querySelector(\"stagewise-companion-anchor\")) != null ? l2 : t2 == null ? void 0 : t2.body;\n    e2 != null && e2.contains(r2) || e2 == null || e2.appendChild(r2);\n  }, [r2, t2]), y$6(() => {\n    o3 || n2 !== null && u2(n2.current);\n  }, [n2, u2, o3]), r2;\n}\nlet M$1 = k$3, I = K$1(function(o3, n2) {\n  let { ownerDocument: r2 = null, ...u2 } = o3, e2 = A$3(null), l2 = y$5(T$3((i2) => {\n    e2.current = i2;\n  }), n2), R2 = n$1(e2), s2 = r2 != null ? r2 : R2, a3 = j(s2), [p2] = d$4(() => {\n    var i2;\n    return s$7.isServer ? null : (i2 = s2 == null ? void 0 : s2.createElement(\"div\")) != null ? i2 : null;\n  }), f2 = x$4(y$1), H2 = l$1();\n  n$3(() => {\n    !a3 || !p2 || a3.contains(p2) || (p2.setAttribute(\"data-headlessui-portal\", \"\"), a3.appendChild(p2));\n  }, [a3, p2]), n$3(() => {\n    if (p2 && f2) return f2.register(p2);\n  }, [f2, p2]), c(() => {\n    var i2;\n    !a3 || !p2 || (p2 instanceof Node && a3.contains(p2) && a3.removeChild(p2), a3.childNodes.length <= 0 && ((i2 = a3.parentElement) == null || i2.removeChild(a3)));\n  });\n  let h2 = L$2();\n  return H2 ? !a3 || !p2 ? null : $$1(h2({ ourProps: { ref: l2 }, theirProps: u2, slot: {}, defaultTag: M$1, name: \"Portal\" }), p2) : null;\n});\nfunction q(t2, o3) {\n  let n2 = y$5(o3), { enabled: r2 = true, ownerDocument: u2, ...e2 } = t2, l2 = L$2();\n  return r2 ? Rn.createElement(I, { ...e2, ownerDocument: u2, ref: n2 }) : l2({ ourProps: { ref: n2 }, theirProps: e2, slot: {}, defaultTag: M$1, name: \"Portal\" });\n}\nlet J$1 = k$3, b$1 = K$3(null);\nfunction X(t2, o3) {\n  let { target: n2, ...r2 } = t2, e2 = { ref: y$5(o3) }, l2 = L$2();\n  return Rn.createElement(b$1.Provider, { value: n2 }, l2({ ourProps: e2, theirProps: r2, defaultTag: J$1, name: \"Popover.Group\" }));\n}\nlet y$1 = K$3(null);\nlet k = K$1(q), B = K$1(X), oe = Object.assign(k, { Group: B });\nfunction s$1(n2, t2) {\n  let e2 = A$3({ left: 0, top: 0 });\n  if (n$3(() => {\n    if (!t2) return;\n    let r2 = t2.getBoundingClientRect();\n    r2 && (e2.current = r2);\n  }, [n2, t2]), t2 == null || !n2 || t2 === document.activeElement) return false;\n  let o3 = t2.getBoundingClientRect();\n  return o3.top !== e2.current.top || o3.left !== e2.current.left;\n}\nlet a$1 = /([\\u2700-\\u27BF]|[\\uE000-\\uF8FF]|\\uD83C[\\uDC00-\\uDFFF]|\\uD83D[\\uDC00-\\uDFFF]|[\\u2011-\\u26FF]|\\uD83E[\\uDD10-\\uDDFF])/g;\nfunction o2(e2) {\n  var r2, i2;\n  let n2 = (r2 = e2.innerText) != null ? r2 : \"\", t2 = e2.cloneNode(true);\n  if (!(t2 instanceof HTMLElement)) return n2;\n  let u2 = false;\n  for (let f2 of t2.querySelectorAll('[hidden],[aria-hidden],[role=\"img\"]')) f2.remove(), u2 = true;\n  let l2 = u2 ? (i2 = t2.innerText) != null ? i2 : \"\" : n2;\n  return a$1.test(l2) && (l2 = l2.replace(a$1, \"\")), l2;\n}\nfunction g(e2) {\n  let n2 = e2.getAttribute(\"aria-label\");\n  if (typeof n2 == \"string\") return n2.trim();\n  let t2 = e2.getAttribute(\"aria-labelledby\");\n  if (t2) {\n    let u2 = t2.split(\" \").map((l2) => {\n      let r2 = document.getElementById(l2);\n      if (r2) {\n        let i2 = r2.getAttribute(\"aria-label\");\n        return typeof i2 == \"string\" ? i2.trim() : o2(r2).trim();\n      }\n      return null;\n    }).filter(Boolean);\n    if (u2.length > 0) return u2.join(\", \");\n  }\n  return o2(e2).trim();\n}\nfunction s(c2) {\n  let t2 = A$3(\"\"), r2 = A$3(\"\");\n  return o$4(() => {\n    let e2 = c2.current;\n    if (!e2) return \"\";\n    let u2 = e2.innerText;\n    if (t2.current === u2) return r2.current;\n    let n2 = g(e2).trim().toLowerCase();\n    return t2.current = u2, r2.current = n2, n2;\n  });\n}\nvar h = Object.defineProperty;\nvar y = (e2, n2, t2) => n2 in e2 ? h(e2, n2, { enumerable: true, configurable: true, writable: true, value: t2 }) : e2[n2] = t2;\nvar v = (e2, n2, t2) => (y(e2, typeof n2 != \"symbol\" ? n2 + \"\" : n2, t2), t2);\nvar M = ((t2) => (t2[t2.Open = 0] = \"Open\", t2[t2.Closed = 1] = \"Closed\", t2))(M || {}), T = ((t2) => (t2[t2.Pointer = 0] = \"Pointer\", t2[t2.Other = 1] = \"Other\", t2))(T || {}), b = ((i2) => (i2[i2.OpenMenu = 0] = \"OpenMenu\", i2[i2.CloseMenu = 1] = \"CloseMenu\", i2[i2.GoToItem = 2] = \"GoToItem\", i2[i2.Search = 3] = \"Search\", i2[i2.ClearSearch = 4] = \"ClearSearch\", i2[i2.RegisterItems = 5] = \"RegisterItems\", i2[i2.UnregisterItems = 6] = \"UnregisterItems\", i2[i2.SetButtonElement = 7] = \"SetButtonElement\", i2[i2.SetItemsElement = 8] = \"SetItemsElement\", i2[i2.SortItems = 9] = \"SortItems\", i2))(b || {});\nfunction S(e2, n2 = (t2) => t2) {\n  let t2 = e2.activeItemIndex !== null ? e2.items[e2.activeItemIndex] : null, r2 = _(n2(e2.items.slice()), (u2) => u2.dataRef.current.domRef.current), l2 = t2 ? r2.indexOf(t2) : null;\n  return l2 === -1 && (l2 = null), { items: r2, activeItemIndex: l2 };\n}\nlet F = { [1](e2) {\n  return e2.menuState === 1 ? e2 : { ...e2, activeItemIndex: null, pendingFocus: { focus: c$1.Nothing }, menuState: 1 };\n}, [0](e2, n2) {\n  return e2.menuState === 0 ? e2 : { ...e2, __demoMode: false, pendingFocus: n2.focus, menuState: 0 };\n}, [2]: (e2, n2) => {\n  var u2, m2, d2, a3, I2;\n  if (e2.menuState === 1) return e2;\n  let t2 = { ...e2, searchQuery: \"\", activationTrigger: (u2 = n2.trigger) != null ? u2 : 1, __demoMode: false };\n  if (n2.focus === c$1.Nothing) return { ...t2, activeItemIndex: null };\n  if (n2.focus === c$1.Specific) return { ...t2, activeItemIndex: e2.items.findIndex((i2) => i2.id === n2.id) };\n  if (n2.focus === c$1.Previous) {\n    let i2 = e2.activeItemIndex;\n    if (i2 !== null) {\n      let g2 = e2.items[i2].dataRef.current.domRef, o3 = f(n2, { resolveItems: () => e2.items, resolveActiveIndex: () => e2.activeItemIndex, resolveId: (s2) => s2.id, resolveDisabled: (s2) => s2.dataRef.current.disabled });\n      if (o3 !== null) {\n        let s2 = e2.items[o3].dataRef.current.domRef;\n        if (((m2 = g2.current) == null ? void 0 : m2.previousElementSibling) === s2.current || ((d2 = s2.current) == null ? void 0 : d2.previousElementSibling) === null) return { ...t2, activeItemIndex: o3 };\n      }\n    }\n  } else if (n2.focus === c$1.Next) {\n    let i2 = e2.activeItemIndex;\n    if (i2 !== null) {\n      let g2 = e2.items[i2].dataRef.current.domRef, o3 = f(n2, { resolveItems: () => e2.items, resolveActiveIndex: () => e2.activeItemIndex, resolveId: (s2) => s2.id, resolveDisabled: (s2) => s2.dataRef.current.disabled });\n      if (o3 !== null) {\n        let s2 = e2.items[o3].dataRef.current.domRef;\n        if (((a3 = g2.current) == null ? void 0 : a3.nextElementSibling) === s2.current || ((I2 = s2.current) == null ? void 0 : I2.nextElementSibling) === null) return { ...t2, activeItemIndex: o3 };\n      }\n    }\n  }\n  let r2 = S(e2), l2 = f(n2, { resolveItems: () => r2.items, resolveActiveIndex: () => r2.activeItemIndex, resolveId: (i2) => i2.id, resolveDisabled: (i2) => i2.dataRef.current.disabled });\n  return { ...t2, ...r2, activeItemIndex: l2 };\n}, [3]: (e2, n2) => {\n  let r2 = e2.searchQuery !== \"\" ? 0 : 1, l2 = e2.searchQuery + n2.value.toLowerCase(), m2 = (e2.activeItemIndex !== null ? e2.items.slice(e2.activeItemIndex + r2).concat(e2.items.slice(0, e2.activeItemIndex + r2)) : e2.items).find((a3) => {\n    var I2;\n    return ((I2 = a3.dataRef.current.textValue) == null ? void 0 : I2.startsWith(l2)) && !a3.dataRef.current.disabled;\n  }), d2 = m2 ? e2.items.indexOf(m2) : -1;\n  return d2 === -1 || d2 === e2.activeItemIndex ? { ...e2, searchQuery: l2 } : { ...e2, searchQuery: l2, activeItemIndex: d2, activationTrigger: 1 };\n}, [4](e2) {\n  return e2.searchQuery === \"\" ? e2 : { ...e2, searchQuery: \"\", searchActiveItemIndex: null };\n}, [5]: (e2, n2) => {\n  let t2 = e2.items.concat(n2.items.map((l2) => l2)), r2 = e2.activeItemIndex;\n  return e2.pendingFocus.focus !== c$1.Nothing && (r2 = f(e2.pendingFocus, { resolveItems: () => t2, resolveActiveIndex: () => e2.activeItemIndex, resolveId: (l2) => l2.id, resolveDisabled: (l2) => l2.dataRef.current.disabled })), { ...e2, items: t2, activeItemIndex: r2, pendingFocus: { focus: c$1.Nothing }, pendingShouldSort: true };\n}, [6]: (e2, n2) => {\n  let t2 = e2.items, r2 = [], l2 = new Set(n2.items);\n  for (let [u2, m2] of t2.entries()) if (l2.has(m2.id) && (r2.push(u2), l2.delete(m2.id), l2.size === 0)) break;\n  if (r2.length > 0) {\n    t2 = t2.slice();\n    for (let u2 of r2.reverse()) t2.splice(u2, 1);\n  }\n  return { ...e2, items: t2, activationTrigger: 1 };\n}, [7]: (e2, n2) => e2.buttonElement === n2.element ? e2 : { ...e2, buttonElement: n2.element }, [8]: (e2, n2) => e2.itemsElement === n2.element ? e2 : { ...e2, itemsElement: n2.element }, [9]: (e2) => e2.pendingShouldSort ? { ...e2, ...S(e2), pendingShouldSort: false } : e2 };\nclass x extends m {\n  constructor(t2) {\n    super(t2);\n    v(this, \"actions\", { registerItem: g$1(() => {\n      let t3 = [], r2 = /* @__PURE__ */ new Set();\n      return [(l2, u2) => {\n        r2.has(u2) || (r2.add(u2), t3.push({ id: l2, dataRef: u2 }));\n      }, () => (r2.clear(), this.send({ type: 5, items: t3.splice(0) }))];\n    }), unregisterItem: g$1(() => {\n      let t3 = [];\n      return [(r2) => t3.push(r2), () => this.send({ type: 6, items: t3.splice(0) })];\n    }) });\n    v(this, \"selectors\", { activeDescendantId(t3) {\n      var u2;\n      let r2 = t3.activeItemIndex, l2 = t3.items;\n      return r2 === null || (u2 = l2[r2]) == null ? void 0 : u2.id;\n    }, isActive(t3, r2) {\n      var m2;\n      let l2 = t3.activeItemIndex, u2 = t3.items;\n      return l2 !== null ? ((m2 = u2[l2]) == null ? void 0 : m2.id) === r2 : false;\n    }, shouldScrollIntoView(t3, r2) {\n      return t3.__demoMode || t3.menuState !== 0 || t3.activationTrigger === 0 ? false : this.isActive(t3, r2);\n    } });\n    this.on(5, () => {\n      requestAnimationFrame(() => {\n        this.send({ type: 9 });\n      });\n    });\n  }\n  static new({ __demoMode: t2 = false } = {}) {\n    return new x({ __demoMode: t2, menuState: t2 ? 0 : 1, buttonElement: null, itemsElement: null, items: [], searchQuery: \"\", activeItemIndex: null, activationTrigger: 1, pendingShouldSort: false, pendingFocus: { focus: c$1.Nothing } });\n  }\n  reduce(t2, r2) {\n    return u$7(r2.type, F, t2, r2);\n  }\n}\nconst a2 = K$3(null);\nfunction l(e2) {\n  let n2 = x$4(a2);\n  if (n2 === null) {\n    let t2 = new Error(`<${e2} /> is missing a parent <Menu /> component.`);\n    throw Error.captureStackTrace && Error.captureStackTrace(t2, i), t2;\n  }\n  return n2;\n}\nfunction i({ __demoMode: e2 = false } = {}) {\n  return T$5(() => x.new({ __demoMode: e2 }), []);\n}\nlet ze = k$3;\nfunction Qe(T2, E2) {\n  let { __demoMode: i$12 = false, ...a$12 } = T2, n2 = i({ __demoMode: i$12 }), [s2, o3, P2] = S$1(n2, (p2) => [p2.menuState, p2.itemsElement, p2.buttonElement]), c2 = y$5(E2), _2 = s2 === M.Open;\n  R$1(_2, [P2, o3], (p2, F2) => {\n    var A$12;\n    n2.send({ type: b.CloseMenu }), A(F2, h$2.Loose) || (p2.preventDefault(), (A$12 = n2.state.buttonElement) == null || A$12.focus());\n  });\n  let t2 = o$4(() => {\n    n2.send({ type: b.CloseMenu });\n  }), R2 = T$5(() => ({ open: s2 === M.Open, close: t2 }), [s2, t2]), I2 = { ref: c2 }, g2 = L$2();\n  return Rn.createElement(Me, null, Rn.createElement(a2.Provider, { value: n2 }, Rn.createElement(c$3, { value: u$7(s2, { [M.Open]: i$2.Open, [M.Closed]: i$2.Closed }) }, g2({ ourProps: I2, theirProps: a$12, slot: R2, defaultTag: ze, name: \"Menu\" }))));\n}\nlet Ye = \"button\";\nfunction Ze(T$12, E2) {\n  let i2 = l(\"Menu.Button\"), a3 = g$3(), { id: n2 = `headlessui-menu-button-${a3}`, disabled: s2 = false, autoFocus: o3 = false, ...P2 } = T$12, c2 = A$3(null), _2 = Fe(), t2 = y$5(E2, c2, ye(), o$4((l2) => i2.send({ type: b.SetButtonElement, element: l2 }))), R2 = o$4((l2) => {\n    switch (l2.key) {\n      case o$3.Space:\n      case o$3.Enter:\n      case o$3.ArrowDown:\n        l2.preventDefault(), l2.stopPropagation(), i2.send({ type: b.OpenMenu, focus: { focus: c$1.First } });\n        break;\n      case o$3.ArrowUp:\n        l2.preventDefault(), l2.stopPropagation(), i2.send({ type: b.OpenMenu, focus: { focus: c$1.Last } });\n        break;\n    }\n  }), I2 = o$4((l2) => {\n    switch (l2.key) {\n      case o$3.Space:\n        l2.preventDefault();\n        break;\n    }\n  }), [g2, p2] = S$1(i2, (l2) => [l2.menuState, l2.itemsElement]), F2 = o$4((l2) => {\n    var H2;\n    if (l2.button === 0) {\n      if (r$1(l2.currentTarget)) return l2.preventDefault();\n      s2 || (g2 === M.Open ? (En(() => i2.send({ type: b.CloseMenu })), (H2 = c2.current) == null || H2.focus({ preventScroll: true })) : (l2.preventDefault(), i2.send({ type: b.OpenMenu, focus: { focus: c$1.Nothing }, trigger: T.Pointer })));\n    }\n  }), { isFocusVisible: A2, focusProps: f2 } = $f7dceffc5ad7768b$export$4e328f61c538687f({ autoFocus: o3 }), { isHovered: M$12, hoverProps: L2 } = $6179b936705e76d3$export$ae780daf29e6d456({ isDisabled: s2 }), { pressed: S2, pressProps: O2 } = w$2({ disabled: s2 }), x2 = T$5(() => ({ open: g2 === M.Open, active: S2 || g2 === M.Open, disabled: s2, hover: M$12, focus: A2, autofocus: o3 }), [g2, M$12, A2, S2, s2, o3]), U2 = _$2(_2(), { ref: t2, id: n2, type: e$1(T$12, c2.current), \"aria-haspopup\": \"menu\", \"aria-controls\": p2 == null ? void 0 : p2.id, \"aria-expanded\": g2 === M.Open, disabled: s2 || void 0, autoFocus: o3, onKeyDown: R2, onKeyUp: I2, onMouseDown: F2 }, f2, L2, O2);\n  return L$2()({ ourProps: U2, theirProps: P2, slot: x2, defaultTag: Ye, name: \"Menu.Button\" });\n}\nlet et = \"div\", tt = O$1.RenderStrategy | O$1.Static;\nfunction ot(T2, E2) {\n  let i2 = g$3(), { id: a3 = `headlessui-menu-items-${i2}`, anchor: n2, portal: s2 = false, modal: o3 = true, transition: P2 = false, ...c2 } = T2, _2 = xe(n2), t2 = l(\"Menu.Items\"), [R$12, I2] = Re(_2), g2 = be(), [p2, F2] = d$4(null), A2 = y$5(E2, _2 ? R$12 : null, o$4((e2) => t2.send({ type: b.SetItemsElement, element: e2 })), F2), [f2, M$12] = S$1(t2, (e2) => [e2.menuState, e2.buttonElement]), L2 = n$1(M$12), S2 = n$1(p2);\n  _2 && (s2 = true);\n  let O2 = u$2(), [x2, U2] = x$1(P2, p2, O2 !== null ? (O2 & i$2.Open) === i$2.Open : f2 === M.Open);\n  m$2(x2, M$12, () => {\n    t2.send({ type: b.CloseMenu });\n  });\n  let G$12 = S$1(t2, (e2) => e2.__demoMode), l$12 = G$12 ? false : o3 && f2 === M.Open;\n  f$2(l$12, S2);\n  let H2 = G$12 ? false : o3 && f2 === M.Open;\n  y$4(H2, { allowed: q$3(() => [M$12, p2], [M$12, p2]) });\n  let u2 = f2 !== M.Open, ae = s$1(u2, M$12) ? false : x2;\n  y$6(() => {\n    let e2 = p2;\n    e2 && f2 === M.Open && e2 !== (S2 == null ? void 0 : S2.activeElement) && e2.focus({ preventScroll: true });\n  }, [f2, p2, S2]), F$1(f2 === M.Open, { container: p2, accept(e2) {\n    return e2.getAttribute(\"role\") === \"menuitem\" ? NodeFilter.FILTER_REJECT : e2.hasAttribute(\"role\") ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;\n  }, walk(e2) {\n    e2.setAttribute(\"role\", \"none\");\n  } });\n  let q2 = p$2(), se = o$4((e2) => {\n    var N2, z2, Q2;\n    switch (q2.dispose(), e2.key) {\n      case o$3.Space:\n        if (t2.state.searchQuery !== \"\") return e2.preventDefault(), e2.stopPropagation(), t2.send({ type: b.Search, value: e2.key });\n      case o$3.Enter:\n        if (e2.preventDefault(), e2.stopPropagation(), t2.state.activeItemIndex !== null) {\n          let { dataRef: de } = t2.state.items[t2.state.activeItemIndex];\n          (z2 = (N2 = de.current) == null ? void 0 : N2.domRef.current) == null || z2.click();\n        }\n        t2.send({ type: b.CloseMenu }), G(t2.state.buttonElement);\n        break;\n      case o$3.ArrowDown:\n        return e2.preventDefault(), e2.stopPropagation(), t2.send({ type: b.GoToItem, focus: c$1.Next });\n      case o$3.ArrowUp:\n        return e2.preventDefault(), e2.stopPropagation(), t2.send({ type: b.GoToItem, focus: c$1.Previous });\n      case o$3.Home:\n      case o$3.PageUp:\n        return e2.preventDefault(), e2.stopPropagation(), t2.send({ type: b.GoToItem, focus: c$1.First });\n      case o$3.End:\n      case o$3.PageDown:\n        return e2.preventDefault(), e2.stopPropagation(), t2.send({ type: b.GoToItem, focus: c$1.Last });\n      case o$3.Escape:\n        e2.preventDefault(), e2.stopPropagation(), En(() => t2.send({ type: b.CloseMenu })), (Q2 = t2.state.buttonElement) == null || Q2.focus({ preventScroll: true });\n        break;\n      case o$3.Tab:\n        e2.preventDefault(), e2.stopPropagation(), En(() => t2.send({ type: b.CloseMenu })), j$2(t2.state.buttonElement, e2.shiftKey ? F$2.Previous : F$2.Next);\n        break;\n      default:\n        e2.key.length === 1 && (t2.send({ type: b.Search, value: e2.key }), q2.setTimeout(() => t2.send({ type: b.ClearSearch }), 350));\n        break;\n    }\n  }), le = o$4((e2) => {\n    switch (e2.key) {\n      case o$3.Space:\n        e2.preventDefault();\n        break;\n    }\n  }), pe2 = T$5(() => ({ open: f2 === M.Open }), [f2]), ie = _$2(_2 ? g2() : {}, { \"aria-activedescendant\": S$1(t2, t2.selectors.activeDescendantId), \"aria-labelledby\": S$1(t2, (e2) => {\n    var N2;\n    return (N2 = e2.buttonElement) == null ? void 0 : N2.id;\n  }), id: a3, onKeyDown: se, onKeyUp: le, role: \"menu\", tabIndex: f2 === M.Open ? 0 : void 0, ref: A2, style: { ...c2.style, ...I2, \"--button-width\": d$2(M$12, true).width }, ...R(U2) }), ue = L$2();\n  return Rn.createElement(oe, { enabled: s2 ? T2.static || x2 : false, ownerDocument: L2 }, ue({ ourProps: ie, theirProps: c2, slot: pe2, defaultTag: et, features: tt, visible: ae, name: \"Menu.Items\" }));\n}\nlet nt = k$3;\nfunction rt(T$12, E2) {\n  let i2 = g$3(), { id: a3 = `headlessui-menu-item-${i2}`, disabled: n2 = false, ...s$12 } = T$12, o3 = l(\"Menu.Item\"), P2 = S$1(o3, (u2) => o3.selectors.isActive(u2, a3)), c2 = A$3(null), _2 = y$5(E2, c2), t2 = S$1(o3, (u2) => o3.selectors.shouldScrollIntoView(u2, a3));\n  n$3(() => {\n    if (t2) return o$5().requestAnimationFrame(() => {\n      var u2, J2;\n      (J2 = (u2 = c2.current) == null ? void 0 : u2.scrollIntoView) == null || J2.call(u2, { block: \"nearest\" });\n    });\n  }, [t2, c2]);\n  let R2 = s(c2), I2 = A$3({ disabled: n2, domRef: c2, get textValue() {\n    return R2();\n  } });\n  n$3(() => {\n    I2.current.disabled = n2;\n  }, [I2, n2]), n$3(() => (o3.actions.registerItem(a3, I2), () => o3.actions.unregisterItem(a3)), [I2, a3]);\n  let g2 = o$4(() => {\n    o3.send({ type: b.CloseMenu });\n  }), p2 = o$4((u2) => {\n    if (n2) return u2.preventDefault();\n    o3.send({ type: b.CloseMenu }), G(o3.state.buttonElement);\n  }), F2 = o$4(() => {\n    if (n2) return o3.send({ type: b.GoToItem, focus: c$1.Nothing });\n    o3.send({ type: b.GoToItem, focus: c$1.Specific, id: a3 });\n  }), A2 = u$3(), f2 = o$4((u2) => {\n    A2.update(u2), !n2 && (P2 || o3.send({ type: b.GoToItem, focus: c$1.Specific, id: a3, trigger: T.Pointer }));\n  }), M2 = o$4((u2) => {\n    A2.wasMoved(u2) && (n2 || P2 || o3.send({ type: b.GoToItem, focus: c$1.Specific, id: a3, trigger: T.Pointer }));\n  }), L2 = o$4((u2) => {\n    A2.wasMoved(u2) && (n2 || P2 && o3.send({ type: b.GoToItem, focus: c$1.Nothing }));\n  }), [S2, O2] = K(), [x2, U2] = w$1(), G$12 = T$5(() => ({ active: P2, focus: P2, disabled: n2, close: g2 }), [P2, n2, g2]), l$12 = { id: a3, ref: _2, role: \"menuitem\", tabIndex: n2 === true ? void 0 : -1, \"aria-disabled\": n2 === true ? true : void 0, \"aria-labelledby\": S2, \"aria-describedby\": x2, disabled: void 0, onClick: p2, onFocus: F2, onPointerEnter: f2, onMouseEnter: f2, onPointerMove: M2, onMouseMove: M2, onPointerLeave: L2, onMouseLeave: L2 }, H2 = L$2();\n  return Rn.createElement(O2, null, Rn.createElement(U2, null, H2({ ourProps: l$12, theirProps: s$12, slot: G$12, defaultTag: nt, name: \"Menu.Item\" })));\n}\nlet at = \"div\";\nfunction st(T2, E2) {\n  let [i2, a3] = K(), n2 = T2, s2 = { ref: E2, \"aria-labelledby\": i2, role: \"group\" }, o3 = L$2();\n  return Rn.createElement(a3, null, o3({ ourProps: s2, theirProps: n2, slot: {}, defaultTag: at, name: \"Menu.Section\" }));\n}\nlet lt = \"header\";\nfunction pt(T2, E2) {\n  let i2 = g$3(), { id: a3 = `headlessui-menu-heading-${i2}`, ...n2 } = T2, s2 = P$1();\n  n$3(() => s2.register(a3), [a3, s2.register]);\n  let o3 = { id: a3, ref: E2, role: \"presentation\", ...s2.props };\n  return L$2()({ ourProps: o3, theirProps: n2, slot: {}, defaultTag: lt, name: \"Menu.Heading\" });\n}\nlet it = \"div\";\nfunction ut(T2, E2) {\n  let i2 = T2, a3 = { ref: E2, role: \"separator\" };\n  return L$2()({ ourProps: a3, theirProps: i2, slot: {}, defaultTag: it, name: \"Menu.Separator\" });\n}\nlet dt = K$1(Qe), mt = K$1(Ze), Tt = K$1(ot), ft = K$1(rt), ct = K$1(st), yt = K$1(pt), Et = K$1(ut), to = Object.assign(dt, { Button: mt, Items: Tt, Item: ft, Section: ct, Heading: yt, Separator: Et });\nlet L = \"textarea\";\nfunction H(s2, l2) {\n  let i2 = g$3(), d2 = u$6(), n2 = a$9(), { id: p2 = d2 || `headlessui-textarea-${i2}`, disabled: e2 = n2 || false, autoFocus: r2 = false, invalid: a3 = false, ...T2 } = s2, f2 = I$2(), m2 = U$1(), { isFocused: o3, focusProps: u2 } = $f7dceffc5ad7768b$export$4e328f61c538687f({ autoFocus: r2 }), { isHovered: t2, hoverProps: b2 } = $6179b936705e76d3$export$ae780daf29e6d456({ isDisabled: e2 }), y2 = _$2({ ref: l2, id: p2, \"aria-labelledby\": f2, \"aria-describedby\": m2, \"aria-invalid\": a3 ? \"true\" : void 0, disabled: e2 || void 0, autoFocus: r2 }, u2, b2), x2 = T$5(() => ({ disabled: e2, invalid: a3, hover: t2, focus: o3, autofocus: r2 }), [e2, a3, t2, o3, r2]);\n  return L$2()({ ourProps: y2, theirProps: T2, slot: x2, defaultTag: L, name: \"Textarea\" });\n}\nlet J = K$1(H);\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst toCamelCase = (string) => string.replace(\n  /^([A-Z])|[\\s-_]+(\\w)/g,\n  (match, p1, p2) => p2 ? p2.toUpperCase() : p1.toLowerCase()\n);\nconst toPascalCase = (string) => {\n  const camelCase = toCamelCase(string);\n  return camelCase.charAt(0).toUpperCase() + camelCase.slice(1);\n};\nconst mergeClasses = (...classes) => classes.filter((className, index2, array) => {\n  return Boolean(className) && className.trim() !== \"\" && array.indexOf(className) === index2;\n}).join(\" \").trim();\nconst hasA11yProp = (props) => {\n  for (const prop in props) {\n    if (prop.startsWith(\"aria-\") || prop === \"role\" || prop === \"title\") {\n      return true;\n    }\n  }\n};\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst Icon = D$1(\n  ({\n    color = \"currentColor\",\n    size: size2 = 24,\n    strokeWidth = 2,\n    absoluteStrokeWidth,\n    className = \"\",\n    children,\n    iconNode,\n    ...rest\n  }, ref) => {\n    return _$4(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size2,\n        height: size2,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size2) : strokeWidth,\n        className: mergeClasses(\"lucide\", className),\n        ...!children && !hasA11yProp(rest) && { \"aria-hidden\": \"true\" },\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => _$4(tag, attrs)),\n        ...Array.isArray(children) ? children : [children]\n      ]\n    );\n  }\n);\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = D$1(\n    ({ className, ...props }, ref) => _$4(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(\n        `lucide-${toKebabCase(toPascalCase(iconName))}`,\n        `lucide-${iconName}`,\n        className\n      ),\n      ...props\n    })\n  );\n  Component.displayName = toPascalCase(iconName);\n  return Component;\n};\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst __iconNode$6 = [[\"path\", { d: \"m6 9 6 6 6-6\", key: \"qrunsl\" }]];\nconst ChevronDown = createLucideIcon(\"chevron-down\", __iconNode$6);\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst __iconNode$5 = [[\"path\", { d: \"m18 15-6-6-6 6\", key: \"153udz\" }]];\nconst ChevronUp = createLucideIcon(\"chevron-up\", __iconNode$5);\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst __iconNode$4 = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"1\", key: \"41hilf\" }],\n  [\"circle\", { cx: \"19\", cy: \"12\", r: \"1\", key: \"1wjl8i\" }],\n  [\"circle\", { cx: \"5\", cy: \"12\", r: \"1\", key: \"1pcz8c\" }]\n];\nconst Ellipsis = createLucideIcon(\"ellipsis\", __iconNode$4);\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst __iconNode$3 = [\n  [\"polyline\", { points: \"4 14 10 14 10 20\", key: \"11kfnr\" }],\n  [\"polyline\", { points: \"20 10 14 10 14 4\", key: \"rlmsce\" }],\n  [\"line\", { x1: \"14\", x2: \"21\", y1: \"10\", y2: \"3\", key: \"o5lafz\" }],\n  [\"line\", { x1: \"3\", x2: \"10\", y1: \"21\", y2: \"14\", key: \"1atl0r\" }]\n];\nconst Minimize2 = createLucideIcon(\"minimize-2\", __iconNode$3);\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst __iconNode$2 = [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n];\nconst Plus = createLucideIcon(\"plus\", __iconNode$2);\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst __iconNode$1 = [\n  [\n    \"path\",\n    {\n      d: \"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z\",\n      key: \"1ffxy3\"\n    }\n  ],\n  [\"path\", { d: \"m21.854 2.147-10.94 10.939\", key: \"12cjpa\" }]\n];\nconst Send = createLucideIcon(\"send\", __iconNode$1);\n/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\nconst __iconNode = [\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\", key: \"4alrt4\" }],\n  [\"path\", { d: \"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\", key: \"v07s0e\" }],\n  [\"line\", { x1: \"10\", x2: \"10\", y1: \"11\", y2: \"17\", key: \"1uufr5\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"11\", y2: \"17\", key: \"xtxkd\" }]\n];\nconst Trash2 = createLucideIcon(\"trash-2\", __iconNode);\nconst ChatArea = M$3(() => {\n  const { chatAreaState } = useChatState();\n  if (chatAreaState === \"hidden\") return null;\n  return /* @__PURE__ */ u$9(ChatAreaBox, { children: [\n    /* @__PURE__ */ u$9(ChatAreaResizeBar, {}),\n    chatAreaState === \"compact\" && /* @__PURE__ */ u$9(ChatAreaCompact, {}),\n    chatAreaState === \"expanded\" && /* @__PURE__ */ u$9(ChatAreaExpanded, {})\n  ] });\n});\nconst ChatAreaBox = M$3(({ children }) => /* @__PURE__ */ u$9(\"div\", { className: \"h-auto w-full overflow-x-hidden\", children }));\nconst ChatAreaResizeBar = M$3(() => {\n  const { chatAreaState, setChatAreaState, stopPromptCreation } = useChatState();\n  const handleResizeBarClick = q$3(() => {\n    setChatAreaState(chatAreaState === \"compact\" ? \"expanded\" : \"compact\");\n  }, [chatAreaState, setChatAreaState]);\n  const handleCloseChatArea = q$3(() => {\n    stopPromptCreation();\n    setChatAreaState(\"hidden\");\n  }, [setChatAreaState, stopPromptCreation]);\n  return /* @__PURE__ */ u$9(\"div\", { className: \"flex w-full flex-row items-center justify-center rounded-t-3xl px-3 py-1\", children: [\n    /* @__PURE__ */ u$9(\n      H$3,\n      {\n        className: \"size-5 bg-transparent text-muted-foreground/30 transition-colors duration-100 hover:text-muted-foreground\",\n        onClick: handleResizeBarClick,\n        children: chatAreaState === \"compact\" ? /* @__PURE__ */ u$9(ChevronUp, { className: \"size-5\" }) : /* @__PURE__ */ u$9(ChevronDown, { className: \"size-5\" })\n      }\n    ),\n    /* @__PURE__ */ u$9(\n      H$3,\n      {\n        className: \"absolute right-2 flex h-fit w-fit flex-row items-center gap-1 bg-transparent p-1 text-xs text-zinc-950 opacity-50 transition-all duration-100 hover:opacity-100\",\n        onClick: handleCloseChatArea,\n        children: [\n          \"Close menu\",\n          /* @__PURE__ */ u$9(\"div\", { className: \"rounded-md bg-zinc-600 px-0.5 py-0 text-xs text-zinc-50\", children: \"esc\" })\n        ]\n      }\n    )\n  ] });\n});\nconst ChatAreaCompact = M$3(() => /* @__PURE__ */ u$9(\"div\", { className: \"flex w-full flex-col gap-1 p-3\", children: /* @__PURE__ */ u$9(\"span\", { className: \"text-sm text-zinc-950/50\", children: \"This is the compact chat area... Showing just the last response from the assistant.\" }) }));\nconst ChatAreaExpanded = M$3(() => {\n  const { chats, currentChatId, setCurrentChat, createChat } = useChatState();\n  const currentChat = chats.find((chat) => chat.id === currentChatId);\n  const hasNewChat = chats.some((chat) => chat.id === \"new_chat\");\n  const handleCreateChat = q$3(() => {\n    createChat();\n  }, [createChat]);\n  const handleSetCurrentChat = q$3(\n    (chatId) => {\n      setCurrentChat(chatId);\n    },\n    [setCurrentChat]\n  );\n  return /* @__PURE__ */ u$9(\"div\", { className: \"flex max-h-[50vh] w-full flex-col gap-3 p-3 pb-0\", children: [\n    /* @__PURE__ */ u$9(\"div\", { className: \"flex flex-1 flex-col gap-2 overflow-y-auto p-1\", children: currentChat == null ? void 0 : currentChat.messages.map((message) => /* @__PURE__ */ u$9(\n      \"div\",\n      {\n        className: `flex ${message.sender === \"assistant\" ? \"justify-start\" : \"justify-end\"}`,\n        children: /* @__PURE__ */ u$9(\n          \"div\",\n          {\n            className: `max-w-[80%] rounded-xl px-2 py-1 text-sm ${message.sender === \"assistant\" ? \"bg-zinc-950/5 text-zinc-950\" : \"bg-blue-600 text-white\"}`,\n            children: message.content\n          }\n        )\n      },\n      message.id\n    )) }),\n    /* @__PURE__ */ u$9(\"div\", { className: \"flex flex-row items-center justify-start gap-2 overflow-x-auto overflow-y-visible border-border/10 border-t pt-2 pb-2\", children: [\n      !hasNewChat && /* @__PURE__ */ u$9(\n        H$3,\n        {\n          className: \"h-6 flex-shrink-0 rounded-full bg-zinc-950/5 px-2 font-semibold text-foreground text-xs\",\n          onClick: handleCreateChat,\n          children: /* @__PURE__ */ u$9(Plus, { className: \"size-3\" })\n        }\n      ),\n      chats.map((chat) => /* @__PURE__ */ u$9(\n        H$3,\n        {\n          className: cn(\n            \"h-5 max-w-48 flex-shrink-0 overflow-hidden truncate rounded-full bg-zinc-950/5 px-2 text-muted-foreground text-xs\",\n            chat.id === currentChatId && \"bg-white/60 text-zinc-950 shadow-blue-600/50 shadow-sm\"\n          ),\n          onClick: () => handleSetCurrentChat(chat.id),\n          children: chat.title || \"New chat\"\n        },\n        chat.id\n      ))\n    ] })\n  ] });\n});\nvar LIBVERSION = \"2.0.3\", UA_MAX_LENGTH = 500, USER_AGENT = \"user-agent\", EMPTY = \"\", UNKNOWN = \"?\", FUNC_TYPE = \"function\", UNDEF_TYPE = \"undefined\", OBJ_TYPE = \"object\", STR_TYPE = \"string\", UA_BROWSER = \"browser\", UA_CPU = \"cpu\", UA_DEVICE = \"device\", UA_ENGINE = \"engine\", UA_OS = \"os\", UA_RESULT = \"result\", NAME = \"name\", TYPE = \"type\", VENDOR = \"vendor\", VERSION = \"version\", ARCHITECTURE = \"architecture\", MAJOR = \"major\", MODEL = \"model\", CONSOLE = \"console\", MOBILE = \"mobile\", TABLET = \"tablet\", SMARTTV = \"smarttv\", WEARABLE = \"wearable\", XR = \"xr\", EMBEDDED = \"embedded\", INAPP = \"inapp\", BRANDS = \"brands\", FORMFACTORS = \"formFactors\", FULLVERLIST = \"fullVersionList\", PLATFORM = \"platform\", PLATFORMVER = \"platformVersion\", BITNESS = \"bitness\", CH_HEADER = \"sec-ch-ua\", CH_HEADER_FULL_VER_LIST = CH_HEADER + \"-full-version-list\", CH_HEADER_ARCH = CH_HEADER + \"-arch\", CH_HEADER_BITNESS = CH_HEADER + \"-\" + BITNESS, CH_HEADER_FORM_FACTORS = CH_HEADER + \"-form-factors\", CH_HEADER_MOBILE = CH_HEADER + \"-\" + MOBILE, CH_HEADER_MODEL = CH_HEADER + \"-\" + MODEL, CH_HEADER_PLATFORM = CH_HEADER + \"-\" + PLATFORM, CH_HEADER_PLATFORM_VER = CH_HEADER_PLATFORM + \"-version\", CH_ALL_VALUES = [BRANDS, FULLVERLIST, MOBILE, MODEL, PLATFORM, PLATFORMVER, ARCHITECTURE, FORMFACTORS, BITNESS], AMAZON = \"Amazon\", APPLE = \"Apple\", ASUS = \"ASUS\", BLACKBERRY = \"BlackBerry\", GOOGLE = \"Google\", HUAWEI = \"Huawei\", LENOVO = \"Lenovo\", HONOR = \"Honor\", LG = \"LG\", MICROSOFT = \"Microsoft\", MOTOROLA = \"Motorola\", NVIDIA = \"Nvidia\", ONEPLUS = \"OnePlus\", OPPO = \"OPPO\", SAMSUNG = \"Samsung\", SHARP = \"Sharp\", SONY = \"Sony\", XIAOMI = \"Xiaomi\", ZEBRA = \"Zebra\", CHROME = \"Chrome\", CHROMIUM = \"Chromium\", CHROMECAST = \"Chromecast\", EDGE = \"Edge\", FIREFOX = \"Firefox\", OPERA = \"Opera\", FACEBOOK = \"Facebook\", SOGOU = \"Sogou\", PREFIX_MOBILE = \"Mobile \", SUFFIX_BROWSER = \" Browser\", WINDOWS = \"Windows\";\nvar isWindow = typeof window !== UNDEF_TYPE, NAVIGATOR = isWindow && window.navigator ? window.navigator : void 0, NAVIGATOR_UADATA = NAVIGATOR && NAVIGATOR.userAgentData ? NAVIGATOR.userAgentData : void 0;\nvar extend = function(defaultRgx, extensions) {\n  var mergedRgx = {};\n  var extraRgx = extensions;\n  if (!isExtensions(extensions)) {\n    extraRgx = {};\n    for (var i2 in extensions) {\n      for (var j2 in extensions[i2]) {\n        extraRgx[j2] = extensions[i2][j2].concat(extraRgx[j2] ? extraRgx[j2] : []);\n      }\n    }\n  }\n  for (var k2 in defaultRgx) {\n    mergedRgx[k2] = extraRgx[k2] && extraRgx[k2].length % 2 === 0 ? extraRgx[k2].concat(defaultRgx[k2]) : defaultRgx[k2];\n  }\n  return mergedRgx;\n}, enumerize = function(arr) {\n  var enums = {};\n  for (var i2 = 0; i2 < arr.length; i2++) {\n    enums[arr[i2].toUpperCase()] = arr[i2];\n  }\n  return enums;\n}, has = function(str1, str2) {\n  if (typeof str1 === OBJ_TYPE && str1.length > 0) {\n    for (var i2 in str1) {\n      if (lowerize(str1[i2]) == lowerize(str2)) return true;\n    }\n    return false;\n  }\n  return isString(str1) ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n}, isExtensions = function(obj, deep) {\n  for (var prop in obj) {\n    return /^(browser|cpu|device|engine|os)$/.test(prop) || (deep ? isExtensions(obj[prop]) : false);\n  }\n}, isString = function(val) {\n  return typeof val === STR_TYPE;\n}, itemListToArray = function(header) {\n  if (!header) return void 0;\n  var arr = [];\n  var tokens = strip(/\\\\?\\\"/g, header).split(\",\");\n  for (var i2 = 0; i2 < tokens.length; i2++) {\n    if (tokens[i2].indexOf(\";\") > -1) {\n      var token = trim(tokens[i2]).split(\";v=\");\n      arr[i2] = { brand: token[0], version: token[1] };\n    } else {\n      arr[i2] = trim(tokens[i2]);\n    }\n  }\n  return arr;\n}, lowerize = function(str) {\n  return isString(str) ? str.toLowerCase() : str;\n}, majorize = function(version) {\n  return isString(version) ? strip(/[^\\d\\.]/g, version).split(\".\")[0] : void 0;\n}, setProps = function(arr) {\n  for (var i2 in arr) {\n    var propName = arr[i2];\n    if (typeof propName == OBJ_TYPE && propName.length == 2) {\n      this[propName[0]] = propName[1];\n    } else {\n      this[propName] = void 0;\n    }\n  }\n  return this;\n}, strip = function(pattern, str) {\n  return isString(str) ? str.replace(pattern, EMPTY) : str;\n}, stripQuotes = function(str) {\n  return strip(/\\\\?\\\"/g, str);\n}, trim = function(str, len) {\n  if (isString(str)) {\n    str = strip(/^\\s\\s*/, str);\n    return typeof len === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n  }\n};\nvar rgxMapper = function(ua, arrays) {\n  if (!ua || !arrays) return;\n  var i2 = 0, j2, k2, p2, q2, matches, match;\n  while (i2 < arrays.length && !matches) {\n    var regex = arrays[i2], props = arrays[i2 + 1];\n    j2 = k2 = 0;\n    while (j2 < regex.length && !matches) {\n      if (!regex[j2]) {\n        break;\n      }\n      matches = regex[j2++].exec(ua);\n      if (!!matches) {\n        for (p2 = 0; p2 < props.length; p2++) {\n          match = matches[++k2];\n          q2 = props[p2];\n          if (typeof q2 === OBJ_TYPE && q2.length > 0) {\n            if (q2.length === 2) {\n              if (typeof q2[1] == FUNC_TYPE) {\n                this[q2[0]] = q2[1].call(this, match);\n              } else {\n                this[q2[0]] = q2[1];\n              }\n            } else if (q2.length === 3) {\n              if (typeof q2[1] === FUNC_TYPE && !(q2[1].exec && q2[1].test)) {\n                this[q2[0]] = match ? q2[1].call(this, match, q2[2]) : void 0;\n              } else {\n                this[q2[0]] = match ? match.replace(q2[1], q2[2]) : void 0;\n              }\n            } else if (q2.length === 4) {\n              this[q2[0]] = match ? q2[3].call(this, match.replace(q2[1], q2[2])) : void 0;\n            }\n          } else {\n            this[q2] = match ? match : void 0;\n          }\n        }\n      }\n    }\n    i2 += 2;\n  }\n}, strMapper = function(str, map) {\n  for (var i2 in map) {\n    if (typeof map[i2] === OBJ_TYPE && map[i2].length > 0) {\n      for (var j2 = 0; j2 < map[i2].length; j2++) {\n        if (has(map[i2][j2], str)) {\n          return i2 === UNKNOWN ? void 0 : i2;\n        }\n      }\n    } else if (has(map[i2], str)) {\n      return i2 === UNKNOWN ? void 0 : i2;\n    }\n  }\n  return map.hasOwnProperty(\"*\") ? map[\"*\"] : str;\n};\nvar windowsVersionMap = {\n  \"ME\": \"4.90\",\n  \"NT 3.11\": \"NT3.51\",\n  \"NT 4.0\": \"NT4.0\",\n  \"2000\": \"NT 5.0\",\n  \"XP\": [\"NT 5.1\", \"NT 5.2\"],\n  \"Vista\": \"NT 6.0\",\n  \"7\": \"NT 6.1\",\n  \"8\": \"NT 6.2\",\n  \"8.1\": \"NT 6.3\",\n  \"10\": [\"NT 6.4\", \"NT 10.0\"],\n  \"RT\": \"ARM\"\n}, formFactorsMap = {\n  \"embedded\": \"Automotive\",\n  \"mobile\": \"Mobile\",\n  \"tablet\": [\"Tablet\", \"EInk\"],\n  \"smarttv\": \"TV\",\n  \"wearable\": \"Watch\",\n  \"xr\": [\"VR\", \"XR\"],\n  \"?\": [\"Desktop\", \"Unknown\"],\n  \"*\": void 0\n};\nvar defaultRegexes = {\n  browser: [\n    [\n      // Most common regardless engine\n      /\\b(?:crmo|crios)\\/([\\w\\.]+)/i\n      // Chrome for Android/iOS\n    ],\n    [VERSION, [NAME, PREFIX_MOBILE + \"Chrome\"]],\n    [\n      /edg(?:e|ios|a)?\\/([\\w\\.]+)/i\n      // Microsoft Edge\n    ],\n    [VERSION, [NAME, \"Edge\"]],\n    [\n      // Presto based\n      /(opera mini)\\/([-\\w\\.]+)/i,\n      // Opera Mini\n      /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,\n      // Opera Mobi/Tablet\n      /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i\n      // Opera\n    ],\n    [NAME, VERSION],\n    [\n      /opios[\\/ ]+([\\w\\.]+)/i\n      // Opera mini on iphone >= 8.0\n    ],\n    [VERSION, [NAME, OPERA + \" Mini\"]],\n    [\n      /\\bop(?:rg)?x\\/([\\w\\.]+)/i\n      // Opera GX\n    ],\n    [VERSION, [NAME, OPERA + \" GX\"]],\n    [\n      /\\bopr\\/([\\w\\.]+)/i\n      // Opera Webkit\n    ],\n    [VERSION, [NAME, OPERA]],\n    [\n      // Mixed\n      /\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\/ ]?([\\w\\.]+)/i\n      // Baidu\n    ],\n    [VERSION, [NAME, \"Baidu\"]],\n    [\n      /\\b(?:mxbrowser|mxios|myie2)\\/?([-\\w\\.]*)\\b/i\n      // Maxthon\n    ],\n    [VERSION, [NAME, \"Maxthon\"]],\n    [\n      /(kindle)\\/([\\w\\.]+)/i,\n      // Kindle\n      /(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\\/ ]?([\\w\\.]*)/i,\n      // Lunascape/Maxthon/Netfront/Jasmine/Blazer/Sleipnir\n      // Trident based\n      /(avant|iemobile|slim(?:browser|boat|jet))[\\/ ]?([\\d\\.]*)/i,\n      // Avant/IEMobile/SlimBrowser/SlimBoat/Slimjet\n      /(?:ms|\\()(ie) ([\\w\\.]+)/i,\n      // Internet Explorer\n      // Blink/Webkit/KHTML based                                         // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon/LG Browser/Otter/qutebrowser/Dooble\n      /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\\/([-\\w\\.]+)/i,\n      // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ//Vivaldi/DuckDuckGo/Klar/Helio/Dragon\n      /(heytap|ovi|115|surf)browser\\/([\\d\\.]+)/i,\n      // HeyTap/Ovi/115/Surf\n      /(ecosia|weibo)(?:__| \\w+@)([\\d\\.]+)/i\n      // Ecosia/Weibo\n    ],\n    [NAME, VERSION],\n    [\n      /quark(?:pc)?\\/([-\\w\\.]+)/i\n      // Quark\n    ],\n    [VERSION, [NAME, \"Quark\"]],\n    [\n      /\\bddg\\/([\\w\\.]+)/i\n      // DuckDuckGo\n    ],\n    [VERSION, [NAME, \"DuckDuckGo\"]],\n    [\n      /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i\n      // UCBrowser\n    ],\n    [VERSION, [NAME, \"UCBrowser\"]],\n    [\n      /microm.+\\bqbcore\\/([\\w\\.]+)/i,\n      // WeChat Desktop for Windows Built-in Browser\n      /\\bqbcore\\/([\\w\\.]+).+microm/i,\n      /micromessenger\\/([\\w\\.]+)/i\n      // WeChat\n    ],\n    [VERSION, [NAME, \"WeChat\"]],\n    [\n      /konqueror\\/([\\w\\.]+)/i\n      // Konqueror\n    ],\n    [VERSION, [NAME, \"Konqueror\"]],\n    [\n      /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i\n      // IE11\n    ],\n    [VERSION, [NAME, \"IE\"]],\n    [\n      /ya(?:search)?browser\\/([\\w\\.]+)/i\n      // Yandex\n    ],\n    [VERSION, [NAME, \"Yandex\"]],\n    [\n      /slbrowser\\/([\\w\\.]+)/i\n      // Smart Lenovo Browser\n    ],\n    [VERSION, [NAME, \"Smart \" + LENOVO + SUFFIX_BROWSER]],\n    [\n      /(avast|avg)\\/([\\w\\.]+)/i\n      // Avast/AVG Secure Browser\n    ],\n    [[NAME, /(.+)/, \"$1 Secure\" + SUFFIX_BROWSER], VERSION],\n    [\n      /\\bfocus\\/([\\w\\.]+)/i\n      // Firefox Focus\n    ],\n    [VERSION, [NAME, FIREFOX + \" Focus\"]],\n    [\n      /\\bopt\\/([\\w\\.]+)/i\n      // Opera Touch\n    ],\n    [VERSION, [NAME, OPERA + \" Touch\"]],\n    [\n      /coc_coc\\w+\\/([\\w\\.]+)/i\n      // Coc Coc Browser\n    ],\n    [VERSION, [NAME, \"Coc Coc\"]],\n    [\n      /dolfin\\/([\\w\\.]+)/i\n      // Dolphin\n    ],\n    [VERSION, [NAME, \"Dolphin\"]],\n    [\n      /coast\\/([\\w\\.]+)/i\n      // Opera Coast\n    ],\n    [VERSION, [NAME, OPERA + \" Coast\"]],\n    [\n      /miuibrowser\\/([\\w\\.]+)/i\n      // MIUI Browser\n    ],\n    [VERSION, [NAME, \"MIUI\" + SUFFIX_BROWSER]],\n    [\n      /fxios\\/([\\w\\.-]+)/i\n      // Firefox for iOS\n    ],\n    [VERSION, [NAME, PREFIX_MOBILE + FIREFOX]],\n    [\n      /\\bqihoobrowser\\/?([\\w\\.]*)/i\n      // 360\n    ],\n    [VERSION, [NAME, \"360\"]],\n    [\n      /\\b(qq)\\/([\\w\\.]+)/i\n      // QQ\n    ],\n    [[NAME, /(.+)/, \"$1Browser\"], VERSION],\n    [\n      /(oculus|sailfish|huawei|vivo|pico)browser\\/([\\w\\.]+)/i\n    ],\n    [[NAME, /(.+)/, \"$1\" + SUFFIX_BROWSER], VERSION],\n    [\n      // Oculus/Sailfish/HuaweiBrowser/VivoBrowser/PicoBrowser\n      /samsungbrowser\\/([\\w\\.]+)/i\n      // Samsung Internet\n    ],\n    [VERSION, [NAME, SAMSUNG + \" Internet\"]],\n    [\n      /metasr[\\/ ]?([\\d\\.]+)/i\n      // Sogou Explorer\n    ],\n    [VERSION, [NAME, SOGOU + \" Explorer\"]],\n    [\n      /(sogou)mo\\w+\\/([\\d\\.]+)/i\n      // Sogou Mobile\n    ],\n    [[NAME, SOGOU + \" Mobile\"], VERSION],\n    [\n      /(electron)\\/([\\w\\.]+) safari/i,\n      // Electron-based App\n      /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,\n      // Tesla\n      /m?(qqbrowser|2345(?=browser|chrome|explorer))\\w*[\\/ ]?v?([\\w\\.]+)/i\n      // QQ/2345\n    ],\n    [NAME, VERSION],\n    [\n      /(lbbrowser|rekonq)/i\n      // LieBao Browser/Rekonq\n    ],\n    [NAME],\n    [\n      /ome\\/([\\w\\.]+) \\w* ?(iron) saf/i,\n      // Iron\n      /ome\\/([\\w\\.]+).+qihu (360)[es]e/i\n      // 360\n    ],\n    [VERSION, NAME],\n    [\n      // WebView\n      /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i\n      // Facebook App for iOS & Android\n    ],\n    [[NAME, FACEBOOK], VERSION, [TYPE, INAPP]],\n    [\n      /(Klarna)\\/([\\w\\.]+)/i,\n      // Klarna Shopping Browser for iOS & Android\n      /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,\n      // Kakao App\n      /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,\n      // Naver InApp\n      /(daum)apps[\\/ ]([\\w\\.]+)/i,\n      // Daum App\n      /safari (line)\\/([\\w\\.]+)/i,\n      // Line App for iOS\n      /\\b(line)\\/([\\w\\.]+)\\/iab/i,\n      // Line App for Android\n      /(alipay)client\\/([\\w\\.]+)/i,\n      // Alipay\n      /(twitter)(?:and| f.+e\\/([\\w\\.]+))/i,\n      // Twitter\n      /(instagram|snapchat)[\\/ ]([-\\w\\.]+)/i\n      // Instagram/Snapchat\n    ],\n    [NAME, VERSION, [TYPE, INAPP]],\n    [\n      /\\bgsa\\/([\\w\\.]+) .*safari\\//i\n      // Google Search Appliance on iOS\n    ],\n    [VERSION, [NAME, \"GSA\"], [TYPE, INAPP]],\n    [\n      /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i\n      // TikTok\n    ],\n    [VERSION, [NAME, \"TikTok\"], [TYPE, INAPP]],\n    [\n      /\\[(linkedin)app\\]/i\n      // LinkedIn App for iOS & Android\n    ],\n    [NAME, [TYPE, INAPP]],\n    [\n      /(chromium)[\\/ ]([-\\w\\.]+)/i\n      // Chromium\n    ],\n    [NAME, VERSION],\n    [\n      /headlesschrome(?:\\/([\\w\\.]+)| )/i\n      // Chrome Headless\n    ],\n    [VERSION, [NAME, CHROME + \" Headless\"]],\n    [\n      / wv\\).+(chrome)\\/([\\w\\.]+)/i\n      // Chrome WebView\n    ],\n    [[NAME, CHROME + \" WebView\"], VERSION],\n    [\n      /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i\n      // Android Browser\n    ],\n    [VERSION, [NAME, \"Android\" + SUFFIX_BROWSER]],\n    [\n      /chrome\\/([\\w\\.]+) mobile/i\n      // Chrome Mobile\n    ],\n    [VERSION, [NAME, PREFIX_MOBILE + \"Chrome\"]],\n    [\n      /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i\n      // Chrome/OmniWeb/Arora/Tizen/Nokia\n    ],\n    [NAME, VERSION],\n    [\n      /version\\/([\\w\\.\\,]+) .*mobile(?:\\/\\w+ | ?)safari/i\n      // Safari Mobile\n    ],\n    [VERSION, [NAME, PREFIX_MOBILE + \"Safari\"]],\n    [\n      /iphone .*mobile(?:\\/\\w+ | ?)safari/i\n    ],\n    [[NAME, PREFIX_MOBILE + \"Safari\"]],\n    [\n      /version\\/([\\w\\.\\,]+) .*(safari)/i\n      // Safari\n    ],\n    [VERSION, NAME],\n    [\n      /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i\n      // Safari < 3.0\n    ],\n    [NAME, [VERSION, \"1\"]],\n    [\n      /(webkit|khtml)\\/([\\w\\.]+)/i\n    ],\n    [NAME, VERSION],\n    [\n      // Gecko based\n      /(?:mobile|tablet);.*(firefox)\\/([\\w\\.-]+)/i\n      // Firefox Mobile\n    ],\n    [[NAME, PREFIX_MOBILE + FIREFOX], VERSION],\n    [\n      /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i\n      // Netscape\n    ],\n    [[NAME, \"Netscape\"], VERSION],\n    [\n      /(wolvic|librewolf)\\/([\\w\\.]+)/i\n      // Wolvic/LibreWolf\n    ],\n    [NAME, VERSION],\n    [\n      /mobile vr; rv:([\\w\\.]+)\\).+firefox/i\n      // Firefox Reality\n    ],\n    [VERSION, [NAME, FIREFOX + \" Reality\"]],\n    [\n      /ekiohf.+(flow)\\/([\\w\\.]+)/i,\n      // Flow\n      /(swiftfox)/i,\n      // Swiftfox\n      /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\\/ ]?([\\w\\.\\+]+)/i,\n      // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n      /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n      // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n      /(firefox)\\/([\\w\\.]+)/i,\n      // Other Firefox-based\n      /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,\n      // Mozilla\n      // Other\n      /(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n      // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Obigo/Mosaic/Go/ICE/UP.Browser/Ladybird\n      /\\b(links) \\(([\\w\\.]+)/i\n      // Links\n    ],\n    [NAME, [VERSION, /_/g, \".\"]],\n    [\n      /(cobalt)\\/([\\w\\.]+)/i\n      // Cobalt\n    ],\n    [NAME, [VERSION, /[^\\d\\.]+./, EMPTY]]\n  ],\n  cpu: [\n    [\n      /\\b((amd|x|x86[-_]?|wow|win)64)\\b/i\n      // AMD64 (x64)\n    ],\n    [[ARCHITECTURE, \"amd64\"]],\n    [\n      /(ia32(?=;))/i,\n      // IA32 (quicktime)\n      /\\b((i[346]|x)86)(pc)?\\b/i\n      // IA32 (x86)\n    ],\n    [[ARCHITECTURE, \"ia32\"]],\n    [\n      /\\b(aarch64|arm(v?[89]e?l?|_?64))\\b/i\n      // ARM64\n    ],\n    [[ARCHITECTURE, \"arm64\"]],\n    [\n      /\\b(arm(v[67])?ht?n?[fl]p?)\\b/i\n      // ARMHF\n    ],\n    [[ARCHITECTURE, \"armhf\"]],\n    [\n      // PocketPC mistakenly identified as PowerPC\n      /( (ce|mobile); ppc;|\\/[\\w\\.]+arm\\b)/i\n    ],\n    [[ARCHITECTURE, \"arm\"]],\n    [\n      /((ppc|powerpc)(64)?)( mac|;|\\))/i\n      // PowerPC\n    ],\n    [[ARCHITECTURE, /ower/, EMPTY, lowerize]],\n    [\n      / sun4\\w[;\\)]/i\n      // SPARC\n    ],\n    [[ARCHITECTURE, \"sparc\"]],\n    [\n      /\\b(avr32|ia64(?=;)|68k(?=\\))|\\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\\b|pa-risc)/i\n      // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n    ],\n    [[ARCHITECTURE, lowerize]]\n  ],\n  device: [\n    [\n      //////////////////////////\n      // MOBILES & TABLETS\n      /////////////////////////\n      // Samsung\n      /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n    ],\n    [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]],\n    [\n      /\\b((?:s[cgp]h|gt|sm)-(?![lr])\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n      /samsung[- ]((?!sm-[lr])[-\\w]+)/i,\n      /sec-(sgh\\w+)/i\n    ],\n    [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]],\n    [\n      // Apple\n      /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i\n      // iPod/iPhone\n    ],\n    [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]],\n    [\n      /\\((ipad);[-\\w\\),; ]+apple/i,\n      // iPad\n      /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n      /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n    ],\n    [MODEL, [VENDOR, APPLE], [TYPE, TABLET]],\n    [\n      /(macintosh);/i\n    ],\n    [MODEL, [VENDOR, APPLE]],\n    [\n      // Sharp\n      /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n    ],\n    [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]],\n    [\n      // Honor\n      /\\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\\)|;)/i\n    ],\n    [MODEL, [VENDOR, HONOR], [TYPE, TABLET]],\n    [\n      /honor([-\\w ]+)[;\\)]/i\n    ],\n    [MODEL, [VENDOR, HONOR], [TYPE, MOBILE]],\n    [\n      // Huawei\n      /\\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\\w\\. ]*(?= bui|\\)))\\b(?!.+d\\/s)/i\n    ],\n    [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]],\n    [\n      /(?:huawei)([-\\w ]+)[;\\)]/i,\n      /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n    ],\n    [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]],\n    [\n      // Xiaomi\n      /oid[^\\)]+; (2[\\dbc]{4}(182|283|rp\\w{2})[cgl]|m2105k81a?c)(?: bui|\\))/i,\n      /\\b((?:red)?mi[-_ ]?pad[\\w- ]*)(?: bui|\\))/i\n      // Mi Pad tablets\n    ],\n    [[MODEL, /_/g, \" \"], [VENDOR, XIAOMI], [TYPE, TABLET]],\n    [\n      /\\b(poco[\\w ]+|m2\\d{3}j\\d\\d[a-z]{2})(?: bui|\\))/i,\n      // Xiaomi POCO\n      /\\b; (\\w+) build\\/hm\\1/i,\n      // Xiaomi Hongmi 'numeric' models\n      /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,\n      // Xiaomi Hongmi\n      /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,\n      // Xiaomi Redmi\n      /oid[^\\)]+; (m?[12][0-389][01]\\w{3,6}[c-y])( bui|; wv|\\))/i,\n      // Xiaomi Redmi 'numeric' models\n      /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\\))/i,\n      // Xiaomi Mi\n      / ([\\w ]+) miui\\/v?\\d/i\n    ],\n    [[MODEL, /_/g, \" \"], [VENDOR, XIAOMI], [TYPE, MOBILE]],\n    [\n      // OPPO\n      /; (\\w+) bui.+ oppo/i,\n      /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n    ],\n    [MODEL, [VENDOR, OPPO], [TYPE, MOBILE]],\n    [\n      /\\b(opd2(\\d{3}a?))(?: bui|\\))/i\n    ],\n    [MODEL, [VENDOR, strMapper, { \"OnePlus\": [\"304\", \"403\", \"203\"], \"*\": OPPO }], [TYPE, TABLET]],\n    [\n      // BLU Vivo Series\n      /(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\\w\\+ ]*)(?: bui|\\))/i\n    ],\n    [MODEL, [VENDOR, \"BLU\"], [TYPE, MOBILE]],\n    [\n      // Vivo\n      /; vivo (\\w+)(?: bui|\\))/i,\n      /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n    ],\n    [MODEL, [VENDOR, \"Vivo\"], [TYPE, MOBILE]],\n    [\n      // Realme\n      /\\b(rmx[1-3]\\d{3})(?: bui|;|\\))/i\n    ],\n    [MODEL, [VENDOR, \"Realme\"], [TYPE, MOBILE]],\n    [\n      // Motorola\n      /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n      /\\bmot(?:orola)?[- ](\\w*)/i,\n      /((?:moto(?! 360)[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n    ],\n    [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]],\n    [\n      /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n    ],\n    [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]],\n    [\n      // LG\n      /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n    ],\n    [MODEL, [VENDOR, LG], [TYPE, TABLET]],\n    [\n      /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n      /\\blg[-e;\\/ ]+(?!.*(?:browser|netcast|android tv|watch))(\\w+)/i,\n      /\\blg-?([\\d\\w]+) bui/i\n    ],\n    [MODEL, [VENDOR, LG], [TYPE, MOBILE]],\n    [\n      // Lenovo\n      /(ideatab[-\\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\\d{3,4}(?:f[cu]|xu|[av])|yt\\d?-[jx]?\\d+[lfmx])( bui|;|\\)|\\/)/i,\n      /lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\\w- ]+?)|tb[\\w-]{6,7})( bui|;|\\)|\\/)/i\n    ],\n    [MODEL, [VENDOR, LENOVO], [TYPE, TABLET]],\n    [\n      // Nokia\n      /(nokia) (t[12][01])/i\n    ],\n    [VENDOR, MODEL, [TYPE, TABLET]],\n    [\n      /(?:maemo|nokia).*(n900|lumia \\d+|rm-\\d+)/i,\n      /nokia[-_ ]?(([-\\w\\. ]*))/i\n    ],\n    [[MODEL, /_/g, \" \"], [TYPE, MOBILE], [VENDOR, \"Nokia\"]],\n    [\n      // Google\n      /(pixel (c|tablet))\\b/i\n      // Google Pixel C/Tablet\n    ],\n    [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]],\n    [\n      /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i\n      // Google Pixel\n    ],\n    [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]],\n    [\n      // Sony\n      /droid.+; (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n    ],\n    [MODEL, [VENDOR, SONY], [TYPE, MOBILE]],\n    [\n      /sony tablet [ps]/i,\n      /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n    ],\n    [[MODEL, \"Xperia Tablet\"], [VENDOR, SONY], [TYPE, TABLET]],\n    [\n      // OnePlus\n      / (kb2005|in20[12]5|be20[12][59])\\b/i,\n      /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n    ],\n    [MODEL, [VENDOR, ONEPLUS], [TYPE, MOBILE]],\n    [\n      // Amazon\n      /(alexa)webm/i,\n      /(kf[a-z]{2}wi|aeo(?!bc)\\w\\w)( bui|\\))/i,\n      // Kindle Fire without Silk / Echo Show\n      /(kf[a-z]+)( bui|\\)).+silk\\//i\n      // Kindle Fire HD\n    ],\n    [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]],\n    [\n      /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i\n      // Fire Phone\n    ],\n    [[MODEL, /(.+)/g, \"Fire Phone $1\"], [VENDOR, AMAZON], [TYPE, MOBILE]],\n    [\n      // BlackBerry\n      /(playbook);[-\\w\\),; ]+(rim)/i\n      // BlackBerry PlayBook\n    ],\n    [MODEL, VENDOR, [TYPE, TABLET]],\n    [\n      /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n      /\\(bb10; (\\w+)/i\n      // BlackBerry 10\n    ],\n    [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]],\n    [\n      // Asus\n      /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n    ],\n    [MODEL, [VENDOR, ASUS], [TYPE, TABLET]],\n    [\n      / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n    ],\n    [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]],\n    [\n      // HTC\n      /(nexus 9)/i\n      // HTC Nexus 9\n    ],\n    [MODEL, [VENDOR, \"HTC\"], [TYPE, TABLET]],\n    [\n      /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,\n      // HTC\n      // ZTE\n      /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n      /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i\n      // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n    ],\n    [VENDOR, [MODEL, /_/g, \" \"], [TYPE, MOBILE]],\n    [\n      // TCL\n      /tcl (xess p17aa)/i,\n      /droid [\\w\\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\\w(\\w|\\w\\w))?(\\)| bui)/i\n    ],\n    [MODEL, [VENDOR, \"TCL\"], [TYPE, TABLET]],\n    [\n      /droid [\\w\\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\\w(\\w|\\w\\w))?(\\)| bui)/i\n    ],\n    [MODEL, [VENDOR, \"TCL\"], [TYPE, MOBILE]],\n    [\n      // itel\n      /(itel) ((\\w+))/i\n    ],\n    [[VENDOR, lowerize], MODEL, [TYPE, strMapper, { \"tablet\": [\"p10001l\", \"w7001\"], \"*\": \"mobile\" }]],\n    [\n      // Acer\n      /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n    ],\n    [MODEL, [VENDOR, \"Acer\"], [TYPE, TABLET]],\n    [\n      // Meizu\n      /droid.+; (m[1-5] note) bui/i,\n      /\\bmz-([-\\w]{2,})/i\n    ],\n    [MODEL, [VENDOR, \"Meizu\"], [TYPE, MOBILE]],\n    [\n      // Ulefone\n      /; ((?:power )?armor(?:[\\w ]{0,8}))(?: bui|\\))/i\n    ],\n    [MODEL, [VENDOR, \"Ulefone\"], [TYPE, MOBILE]],\n    [\n      // Energizer\n      /; (energy ?\\w+)(?: bui|\\))/i,\n      /; energizer ([\\w ]+)(?: bui|\\))/i\n    ],\n    [MODEL, [VENDOR, \"Energizer\"], [TYPE, MOBILE]],\n    [\n      // Cat\n      /; cat (b35);/i,\n      /; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\\))/i\n    ],\n    [MODEL, [VENDOR, \"Cat\"], [TYPE, MOBILE]],\n    [\n      // Smartfren\n      /((?:new )?andromax[\\w- ]+)(?: bui|\\))/i\n    ],\n    [MODEL, [VENDOR, \"Smartfren\"], [TYPE, MOBILE]],\n    [\n      // Nothing\n      /droid.+; (a(?:015|06[35]|142p?))/i\n    ],\n    [MODEL, [VENDOR, \"Nothing\"], [TYPE, MOBILE]],\n    [\n      // Archos\n      /; (x67 5g|tikeasy \\w+|ac[1789]\\d\\w+)( b|\\))/i,\n      /archos ?(5|gamepad2?|([\\w ]*[t1789]|hello) ?\\d+[\\w ]*)( b|\\))/i\n    ],\n    [MODEL, [VENDOR, \"Archos\"], [TYPE, TABLET]],\n    [\n      /archos ([\\w ]+)( b|\\))/i,\n      /; (ac[3-6]\\d\\w{2,8})( b|\\))/i\n    ],\n    [MODEL, [VENDOR, \"Archos\"], [TYPE, MOBILE]],\n    [\n      // MIXED\n      /(imo) (tab \\w+)/i,\n      // IMO\n      /(infinix) (x1101b?)/i\n      // Infinix XPad\n    ],\n    [VENDOR, MODEL, [TYPE, TABLET]],\n    [\n      /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\\w]*)/i,\n      // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron/Infinix/Tecno/Micromax/Advan\n      /; (blu|hmd|imo|tcl)[_ ]([\\w\\+ ]+?)(?: bui|\\)|; r)/i,\n      // BLU/HMD/IMO/TCL\n      /(hp) ([\\w ]+\\w)/i,\n      // HP iPAQ\n      /(microsoft); (lumia[\\w ]+)/i,\n      // Microsoft Lumia\n      /(lenovo)[-_ ]?([-\\w ]+?)(?: bui|\\)|\\/)/i,\n      // Lenovo\n      /(oppo) ?([\\w ]+) bui/i\n      // OPPO\n    ],\n    [VENDOR, MODEL, [TYPE, MOBILE]],\n    [\n      /(kobo)\\s(ereader|touch)/i,\n      // Kobo\n      /(hp).+(touchpad(?!.+tablet)|tablet)/i,\n      // HP TouchPad\n      /(kindle)\\/([\\w\\.]+)/i\n      // Kindle\n    ],\n    [VENDOR, MODEL, [TYPE, TABLET]],\n    [\n      /(surface duo)/i\n      // Surface Duo\n    ],\n    [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]],\n    [\n      /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i\n      // Fairphone\n    ],\n    [MODEL, [VENDOR, \"Fairphone\"], [TYPE, MOBILE]],\n    [\n      /((?:tegranote|shield t(?!.+d tv))[\\w- ]*?)(?: b|\\))/i\n      // Nvidia Tablets\n    ],\n    [MODEL, [VENDOR, NVIDIA], [TYPE, TABLET]],\n    [\n      /(sprint) (\\w+)/i\n      // Sprint Phones\n    ],\n    [VENDOR, MODEL, [TYPE, MOBILE]],\n    [\n      /(kin\\.[onetw]{3})/i\n      // Microsoft Kin\n    ],\n    [[MODEL, /\\./g, \" \"], [VENDOR, MICROSOFT], [TYPE, MOBILE]],\n    [\n      /droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i\n      // Zebra\n    ],\n    [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]],\n    [\n      /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n    ],\n    [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]],\n    [\n      ///////////////////\n      // SMARTTVS\n      ///////////////////\n      /smart-tv.+(samsung)/i\n      // Samsung\n    ],\n    [VENDOR, [TYPE, SMARTTV]],\n    [\n      /hbbtv.+maple;(\\d+)/i\n    ],\n    [[MODEL, /^/, \"SmartTV\"], [VENDOR, SAMSUNG], [TYPE, SMARTTV]],\n    [\n      /tcast.+(lg)e?. ([-\\w]+)/i\n      // LG SmartTV\n    ],\n    [VENDOR, MODEL, [TYPE, SMARTTV]],\n    [\n      /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i\n    ],\n    [[VENDOR, LG], [TYPE, SMARTTV]],\n    [\n      /(apple) ?tv/i\n      // Apple TV\n    ],\n    [VENDOR, [MODEL, APPLE + \" TV\"], [TYPE, SMARTTV]],\n    [\n      /crkey.*devicetype\\/chromecast/i\n      // Google Chromecast Third Generation\n    ],\n    [[MODEL, CHROMECAST + \" Third Generation\"], [VENDOR, GOOGLE], [TYPE, SMARTTV]],\n    [\n      /crkey.*devicetype\\/([^/]*)/i\n      // Google Chromecast with specific device type\n    ],\n    [[MODEL, /^/, \"Chromecast \"], [VENDOR, GOOGLE], [TYPE, SMARTTV]],\n    [\n      /fuchsia.*crkey/i\n      // Google Chromecast Nest Hub\n    ],\n    [[MODEL, CHROMECAST + \" Nest Hub\"], [VENDOR, GOOGLE], [TYPE, SMARTTV]],\n    [\n      /crkey/i\n      // Google Chromecast, Linux-based or unknown\n    ],\n    [[MODEL, CHROMECAST], [VENDOR, GOOGLE], [TYPE, SMARTTV]],\n    [\n      /(portaltv)/i\n      // Facebook Portal TV\n    ],\n    [MODEL, [VENDOR, FACEBOOK], [TYPE, SMARTTV]],\n    [\n      /droid.+aft(\\w+)( bui|\\))/i\n      // Fire TV\n    ],\n    [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]],\n    [\n      /(shield \\w+ tv)/i\n      // Nvidia Shield TV\n    ],\n    [MODEL, [VENDOR, NVIDIA], [TYPE, SMARTTV]],\n    [\n      /\\(dtv[\\);].+(aquos)/i,\n      /(aquos-tv[\\w ]+)\\)/i\n      // Sharp\n    ],\n    [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],\n    [\n      /(bravia[\\w ]+)( bui|\\))/i\n      // Sony\n    ],\n    [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]],\n    [\n      /(mi(tv|box)-?\\w+) bui/i\n      // Xiaomi\n    ],\n    [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]],\n    [\n      /Hbbtv.*(technisat) (.*);/i\n      // TechniSAT\n    ],\n    [VENDOR, MODEL, [TYPE, SMARTTV]],\n    [\n      /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,\n      // Roku\n      /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i\n      // HbbTV devices\n    ],\n    [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]],\n    [\n      // SmartTV from Unidentified Vendors\n      /droid.+; ([\\w- ]+) (?:android tv|smart[- ]?tv)/i\n    ],\n    [MODEL, [TYPE, SMARTTV]],\n    [\n      /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i\n    ],\n    [[TYPE, SMARTTV]],\n    [\n      ///////////////////\n      // CONSOLES\n      ///////////////////\n      /(ouya)/i,\n      // Ouya\n      /(nintendo) (\\w+)/i\n      // Nintendo\n    ],\n    [VENDOR, MODEL, [TYPE, CONSOLE]],\n    [\n      /droid.+; (shield)( bui|\\))/i\n      // Nvidia Portable\n    ],\n    [MODEL, [VENDOR, NVIDIA], [TYPE, CONSOLE]],\n    [\n      /(playstation \\w+)/i\n      // Playstation\n    ],\n    [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]],\n    [\n      /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i\n      // Microsoft Xbox\n    ],\n    [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]],\n    [\n      ///////////////////\n      // WEARABLES\n      ///////////////////\n      /\\b(sm-[lr]\\d\\d[0156][fnuw]?s?|gear live)\\b/i\n      // Samsung Galaxy Watch\n    ],\n    [MODEL, [VENDOR, SAMSUNG], [TYPE, WEARABLE]],\n    [\n      /((pebble))app/i,\n      // Pebble\n      /(asus|google|lg|oppo) ((pixel |zen)?watch[\\w ]*)( bui|\\))/i\n      // Asus ZenWatch / LG Watch / Pixel Watch\n    ],\n    [VENDOR, MODEL, [TYPE, WEARABLE]],\n    [\n      /(ow(?:19|20)?we?[1-3]{1,3})/i\n      // Oppo Watch\n    ],\n    [MODEL, [VENDOR, OPPO], [TYPE, WEARABLE]],\n    [\n      /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i\n      // Apple Watch\n    ],\n    [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]],\n    [\n      /(opwwe\\d{3})/i\n      // OnePlus Watch\n    ],\n    [MODEL, [VENDOR, ONEPLUS], [TYPE, WEARABLE]],\n    [\n      /(moto 360)/i\n      // Motorola 360\n    ],\n    [MODEL, [VENDOR, MOTOROLA], [TYPE, WEARABLE]],\n    [\n      /(smartwatch 3)/i\n      // Sony SmartWatch\n    ],\n    [MODEL, [VENDOR, SONY], [TYPE, WEARABLE]],\n    [\n      /(g watch r)/i\n      // LG G Watch R\n    ],\n    [MODEL, [VENDOR, LG], [TYPE, WEARABLE]],\n    [\n      /droid.+; (wt63?0{2,3})\\)/i\n    ],\n    [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]],\n    [\n      ///////////////////\n      // XR\n      ///////////////////\n      /droid.+; (glass) \\d/i\n      // Google Glass\n    ],\n    [MODEL, [VENDOR, GOOGLE], [TYPE, XR]],\n    [\n      /(pico) (4|neo3(?: link|pro)?)/i\n      // Pico\n    ],\n    [VENDOR, MODEL, [TYPE, XR]],\n    [\n      /(quest( \\d| pro)?s?).+vr/i\n      // Meta Quest\n    ],\n    [MODEL, [VENDOR, FACEBOOK], [TYPE, XR]],\n    [\n      ///////////////////\n      // EMBEDDED\n      ///////////////////\n      /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i\n      // Tesla\n    ],\n    [VENDOR, [TYPE, EMBEDDED]],\n    [\n      /(aeobc)\\b/i\n      // Echo Dot\n    ],\n    [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]],\n    [\n      /(homepod).+mac os/i\n      // Apple HomePod\n    ],\n    [MODEL, [VENDOR, APPLE], [TYPE, EMBEDDED]],\n    [\n      /windows iot/i\n    ],\n    [[TYPE, EMBEDDED]],\n    [\n      ////////////////////\n      // MIXED (GENERIC)\n      ///////////////////\n      /droid .+?; ([^;]+?)(?: bui|; wv\\)|\\) applew).+?(mobile|vr|\\d) safari/i\n    ],\n    [MODEL, [TYPE, strMapper, { \"mobile\": \"Mobile\", \"xr\": \"VR\", \"*\": TABLET }]],\n    [\n      /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i\n      // Unidentifiable Tablet\n    ],\n    [[TYPE, TABLET]],\n    [\n      /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i\n      // Unidentifiable Mobile\n    ],\n    [[TYPE, MOBILE]],\n    [\n      /droid .+?; ([\\w\\. -]+)( bui|\\))/i\n      // Generic Android Device\n    ],\n    [MODEL, [VENDOR, \"Generic\"]]\n  ],\n  engine: [\n    [\n      /windows.+ edge\\/([\\w\\.]+)/i\n      // EdgeHTML\n    ],\n    [VERSION, [NAME, EDGE + \"HTML\"]],\n    [\n      /(arkweb)\\/([\\w\\.]+)/i\n      // ArkWeb\n    ],\n    [NAME, VERSION],\n    [\n      /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i\n      // Blink\n    ],\n    [VERSION, [NAME, \"Blink\"]],\n    [\n      /(presto)\\/([\\w\\.]+)/i,\n      // Presto\n      /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\\/([\\w\\.]+)/i,\n      // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna/Servo\n      /ekioh(flow)\\/([\\w\\.]+)/i,\n      // Flow\n      /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,\n      // KHTML/Tasman/Links\n      /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,\n      // iCab\n      /\\b(libweb)/i\n      // LibWeb\n    ],\n    [NAME, VERSION],\n    [\n      /ladybird\\//i\n    ],\n    [[NAME, \"LibWeb\"]],\n    [\n      /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i\n      // Gecko\n    ],\n    [VERSION, NAME]\n  ],\n  os: [\n    [\n      // Windows\n      /microsoft (windows) (vista|xp)/i\n      // Windows (iTunes)\n    ],\n    [NAME, VERSION],\n    [\n      /(windows (?:phone(?: os)?|mobile|iot))[\\/ ]?([\\d\\.\\w ]*)/i\n      // Windows Phone\n    ],\n    [NAME, [VERSION, strMapper, windowsVersionMap]],\n    [\n      /windows nt 6\\.2; (arm)/i,\n      // Windows RT\n      /windows[\\/ ]([ntce\\d\\. ]+\\w)(?!.+xbox)/i,\n      /(?:win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n    ],\n    [[VERSION, strMapper, windowsVersionMap], [NAME, WINDOWS]],\n    [\n      // iOS/macOS\n      /[adehimnop]{4,7}\\b(?:.*os ([\\w]+) like mac|; opera)/i,\n      // iOS\n      /(?:ios;fbsv\\/|iphone.+ios[\\/ ])([\\d\\.]+)/i,\n      /cfnetwork\\/.+darwin/i\n    ],\n    [[VERSION, /_/g, \".\"], [NAME, \"iOS\"]],\n    [\n      /(mac os x) ?([\\w\\. ]*)/i,\n      /(macintosh|mac_powerpc\\b)(?!.+haiku)/i\n      // Mac OS\n    ],\n    [[NAME, \"macOS\"], [VERSION, /_/g, \".\"]],\n    [\n      // Google Chromecast\n      /android ([\\d\\.]+).*crkey/i\n      // Google Chromecast, Android-based\n    ],\n    [VERSION, [NAME, CHROMECAST + \" Android\"]],\n    [\n      /fuchsia.*crkey\\/([\\d\\.]+)/i\n      // Google Chromecast, Fuchsia-based\n    ],\n    [VERSION, [NAME, CHROMECAST + \" Fuchsia\"]],\n    [\n      /crkey\\/([\\d\\.]+).*devicetype\\/smartspeaker/i\n      // Google Chromecast, Linux-based Smart Speaker\n    ],\n    [VERSION, [NAME, CHROMECAST + \" SmartSpeaker\"]],\n    [\n      /linux.*crkey\\/([\\d\\.]+)/i\n      // Google Chromecast, Legacy Linux-based\n    ],\n    [VERSION, [NAME, CHROMECAST + \" Linux\"]],\n    [\n      /crkey\\/([\\d\\.]+)/i\n      // Google Chromecast, unknown\n    ],\n    [VERSION, [NAME, CHROMECAST]],\n    [\n      // Mobile OSes\n      /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i\n      // Android-x86/HarmonyOS\n    ],\n    [VERSION, NAME],\n    [\n      /(ubuntu) ([\\w\\.]+) like android/i\n      // Ubuntu Touch\n    ],\n    [[NAME, /(.+)/, \"$1 Touch\"], VERSION],\n    [\n      // Android/Blackberry/WebOS/QNX/Bada/RIM/KaiOS/Maemo/MeeGo/S40/Sailfish OS/OpenHarmony/Tizen\n      /(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\\w*[-\\/\\.; ]?([\\d\\.]*)/i\n    ],\n    [NAME, VERSION],\n    [\n      /\\(bb(10);/i\n      // BlackBerry 10\n    ],\n    [VERSION, [NAME, BLACKBERRY]],\n    [\n      /(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\\/ ]?([\\w\\.]*)/i\n      // Symbian\n    ],\n    [VERSION, [NAME, \"Symbian\"]],\n    [\n      /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i\n      // Firefox OS\n    ],\n    [VERSION, [NAME, FIREFOX + \" OS\"]],\n    [\n      /web0s;.+rt(tv)/i,\n      /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i\n      // WebOS\n    ],\n    [VERSION, [NAME, \"webOS\"]],\n    [\n      /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i\n      // watchOS\n    ],\n    [VERSION, [NAME, \"watchOS\"]],\n    [\n      // Google ChromeOS\n      /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i\n      // Chromium OS\n    ],\n    [[NAME, \"Chrome OS\"], VERSION],\n    [\n      // Smart TVs\n      /panasonic;(viera)/i,\n      // Panasonic Viera\n      /(netrange)mmh/i,\n      // Netrange\n      /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,\n      // NetTV\n      // Console\n      /(nintendo|playstation) (\\w+)/i,\n      // Nintendo/Playstation\n      /(xbox); +xbox ([^\\);]+)/i,\n      // Microsoft Xbox (360, One, X, S, Series X, Series S)\n      /(pico) .+os([\\w\\.]+)/i,\n      // Pico\n      // Other\n      /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,\n      // Joli/Palm\n      /(mint)[\\/\\(\\) ]?(\\w*)/i,\n      // Mint\n      /(mageia|vectorlinux)[; ]/i,\n      // Mageia/VectorLinux\n      /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n      // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n      /(hurd|linux)(?: arm\\w*| x86\\w*| ?)([\\w\\.]*)/i,\n      // Hurd/Linux\n      /(gnu) ?([\\w\\.]*)/i,\n      // GNU\n      /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,\n      // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n      /(haiku) (\\w+)/i\n      // Haiku\n    ],\n    [NAME, VERSION],\n    [\n      /(sunos) ?([\\w\\.\\d]*)/i\n      // Solaris\n    ],\n    [[NAME, \"Solaris\"], VERSION],\n    [\n      /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,\n      // Solaris\n      /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,\n      // AIX\n      /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,\n      // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n      /(unix) ?([\\w\\.]*)/i\n      // UNIX\n    ],\n    [NAME, VERSION]\n  ]\n};\nvar defaultProps = function() {\n  var props = { init: {}, isIgnore: {}, isIgnoreRgx: {}, toString: {} };\n  setProps.call(props.init, [\n    [UA_BROWSER, [NAME, VERSION, MAJOR, TYPE]],\n    [UA_CPU, [ARCHITECTURE]],\n    [UA_DEVICE, [TYPE, MODEL, VENDOR]],\n    [UA_ENGINE, [NAME, VERSION]],\n    [UA_OS, [NAME, VERSION]]\n  ]);\n  setProps.call(props.isIgnore, [\n    [UA_BROWSER, [VERSION, MAJOR]],\n    [UA_ENGINE, [VERSION]],\n    [UA_OS, [VERSION]]\n  ]);\n  setProps.call(props.isIgnoreRgx, [\n    [UA_BROWSER, / ?browser$/i],\n    [UA_OS, / ?os$/i]\n  ]);\n  setProps.call(props.toString, [\n    [UA_BROWSER, [NAME, VERSION]],\n    [UA_CPU, [ARCHITECTURE]],\n    [UA_DEVICE, [VENDOR, MODEL]],\n    [UA_ENGINE, [NAME, VERSION]],\n    [UA_OS, [NAME, VERSION]]\n  ]);\n  return props;\n}();\nvar createIData = function(item, itemType) {\n  var init_props = defaultProps.init[itemType], is_ignoreProps = defaultProps.isIgnore[itemType] || 0, is_ignoreRgx = defaultProps.isIgnoreRgx[itemType] || 0, toString_props = defaultProps.toString[itemType] || 0;\n  function IData() {\n    setProps.call(this, init_props);\n  }\n  IData.prototype.getItem = function() {\n    return item;\n  };\n  IData.prototype.withClientHints = function() {\n    if (!NAVIGATOR_UADATA) {\n      return item.parseCH().get();\n    }\n    return NAVIGATOR_UADATA.getHighEntropyValues(CH_ALL_VALUES).then(function(res) {\n      return item.setCH(new UACHData(res, false)).parseCH().get();\n    });\n  };\n  IData.prototype.withFeatureCheck = function() {\n    return item.detectFeature().get();\n  };\n  if (itemType != UA_RESULT) {\n    IData.prototype.is = function(strToCheck) {\n      var is = false;\n      for (var i2 in this) {\n        if (this.hasOwnProperty(i2) && !has(is_ignoreProps, i2) && lowerize(is_ignoreRgx ? strip(is_ignoreRgx, this[i2]) : this[i2]) == lowerize(is_ignoreRgx ? strip(is_ignoreRgx, strToCheck) : strToCheck)) {\n          is = true;\n          if (strToCheck != UNDEF_TYPE) break;\n        } else if (strToCheck == UNDEF_TYPE && is) {\n          is = !is;\n          break;\n        }\n      }\n      return is;\n    };\n    IData.prototype.toString = function() {\n      var str = EMPTY;\n      for (var i2 in toString_props) {\n        if (typeof this[toString_props[i2]] !== UNDEF_TYPE) {\n          str += (str ? \" \" : EMPTY) + this[toString_props[i2]];\n        }\n      }\n      return str || UNDEF_TYPE;\n    };\n  }\n  if (!NAVIGATOR_UADATA) {\n    IData.prototype.then = function(cb) {\n      var that = this;\n      var IDataResolve = function() {\n        for (var prop in that) {\n          if (that.hasOwnProperty(prop)) {\n            this[prop] = that[prop];\n          }\n        }\n      };\n      IDataResolve.prototype = {\n        is: IData.prototype.is,\n        toString: IData.prototype.toString\n      };\n      var resolveData = new IDataResolve();\n      cb(resolveData);\n      return resolveData;\n    };\n  }\n  return new IData();\n};\nfunction UACHData(uach, isHttpUACH) {\n  uach = uach || {};\n  setProps.call(this, CH_ALL_VALUES);\n  if (isHttpUACH) {\n    setProps.call(this, [\n      [BRANDS, itemListToArray(uach[CH_HEADER])],\n      [FULLVERLIST, itemListToArray(uach[CH_HEADER_FULL_VER_LIST])],\n      [MOBILE, /\\?1/.test(uach[CH_HEADER_MOBILE])],\n      [MODEL, stripQuotes(uach[CH_HEADER_MODEL])],\n      [PLATFORM, stripQuotes(uach[CH_HEADER_PLATFORM])],\n      [PLATFORMVER, stripQuotes(uach[CH_HEADER_PLATFORM_VER])],\n      [ARCHITECTURE, stripQuotes(uach[CH_HEADER_ARCH])],\n      [FORMFACTORS, itemListToArray(uach[CH_HEADER_FORM_FACTORS])],\n      [BITNESS, stripQuotes(uach[CH_HEADER_BITNESS])]\n    ]);\n  } else {\n    for (var prop in uach) {\n      if (this.hasOwnProperty(prop) && typeof uach[prop] !== UNDEF_TYPE) this[prop] = uach[prop];\n    }\n  }\n}\nfunction UAItem(itemType, ua, rgxMap, uaCH) {\n  this.get = function(prop) {\n    if (!prop) return this.data;\n    return this.data.hasOwnProperty(prop) ? this.data[prop] : void 0;\n  };\n  this.set = function(prop, val) {\n    this.data[prop] = val;\n    return this;\n  };\n  this.setCH = function(ch) {\n    this.uaCH = ch;\n    return this;\n  };\n  this.detectFeature = function() {\n    if (NAVIGATOR && NAVIGATOR.userAgent == this.ua) {\n      switch (this.itemType) {\n        case UA_BROWSER:\n          if (NAVIGATOR.brave && typeof NAVIGATOR.brave.isBrave == FUNC_TYPE) {\n            this.set(NAME, \"Brave\");\n          }\n          break;\n        case UA_DEVICE:\n          if (!this.get(TYPE) && NAVIGATOR_UADATA && NAVIGATOR_UADATA[MOBILE]) {\n            this.set(TYPE, MOBILE);\n          }\n          if (this.get(MODEL) == \"Macintosh\" && NAVIGATOR && typeof NAVIGATOR.standalone !== UNDEF_TYPE && NAVIGATOR.maxTouchPoints && NAVIGATOR.maxTouchPoints > 2) {\n            this.set(MODEL, \"iPad\").set(TYPE, TABLET);\n          }\n          break;\n        case UA_OS:\n          if (!this.get(NAME) && NAVIGATOR_UADATA && NAVIGATOR_UADATA[PLATFORM]) {\n            this.set(NAME, NAVIGATOR_UADATA[PLATFORM]);\n          }\n          break;\n        case UA_RESULT:\n          var data = this.data;\n          var detect = function(itemType2) {\n            return data[itemType2].getItem().detectFeature().get();\n          };\n          this.set(UA_BROWSER, detect(UA_BROWSER)).set(UA_CPU, detect(UA_CPU)).set(UA_DEVICE, detect(UA_DEVICE)).set(UA_ENGINE, detect(UA_ENGINE)).set(UA_OS, detect(UA_OS));\n      }\n    }\n    return this;\n  };\n  this.parseUA = function() {\n    if (this.itemType != UA_RESULT) {\n      rgxMapper.call(this.data, this.ua, this.rgxMap);\n    }\n    if (this.itemType == UA_BROWSER) {\n      this.set(MAJOR, majorize(this.get(VERSION)));\n    }\n    return this;\n  };\n  this.parseCH = function() {\n    var uaCH2 = this.uaCH, rgxMap2 = this.rgxMap;\n    switch (this.itemType) {\n      case UA_BROWSER:\n      case UA_ENGINE:\n        var brands = uaCH2[FULLVERLIST] || uaCH2[BRANDS], prevName;\n        if (brands) {\n          for (var i2 in brands) {\n            var brandName = brands[i2].brand || brands[i2], brandVersion = brands[i2].version;\n            if (this.itemType == UA_BROWSER && !/not.a.brand/i.test(brandName) && (!prevName || /chrom/i.test(prevName) && brandName != CHROMIUM)) {\n              brandName = strMapper(brandName, {\n                \"Chrome\": \"Google Chrome\",\n                \"Edge\": \"Microsoft Edge\",\n                \"Chrome WebView\": \"Android WebView\",\n                \"Chrome Headless\": \"HeadlessChrome\",\n                \"Huawei Browser\": \"HuaweiBrowser\",\n                \"MIUI Browser\": \"Miui Browser\",\n                \"Opera Mobi\": \"OperaMobile\",\n                \"Yandex\": \"YaBrowser\"\n              });\n              this.set(NAME, brandName).set(VERSION, brandVersion).set(MAJOR, majorize(brandVersion));\n              prevName = brandName;\n            }\n            if (this.itemType == UA_ENGINE && brandName == CHROMIUM) {\n              this.set(VERSION, brandVersion);\n            }\n          }\n        }\n        break;\n      case UA_CPU:\n        var archName = uaCH2[ARCHITECTURE];\n        if (archName) {\n          if (archName && uaCH2[BITNESS] == \"64\") archName += \"64\";\n          rgxMapper.call(this.data, archName + \";\", rgxMap2);\n        }\n        break;\n      case UA_DEVICE:\n        if (uaCH2[MOBILE]) {\n          this.set(TYPE, MOBILE);\n        }\n        if (uaCH2[MODEL]) {\n          this.set(MODEL, uaCH2[MODEL]);\n          if (!this.get(TYPE) || !this.get(VENDOR)) {\n            var reParse = {};\n            rgxMapper.call(reParse, \"droid 9; \" + uaCH2[MODEL] + \")\", rgxMap2);\n            if (!this.get(TYPE) && !!reParse.type) {\n              this.set(TYPE, reParse.type);\n            }\n            if (!this.get(VENDOR) && !!reParse.vendor) {\n              this.set(VENDOR, reParse.vendor);\n            }\n          }\n        }\n        if (uaCH2[FORMFACTORS]) {\n          var ff;\n          if (typeof uaCH2[FORMFACTORS] !== \"string\") {\n            var idx = 0;\n            while (!ff && idx < uaCH2[FORMFACTORS].length) {\n              ff = strMapper(uaCH2[FORMFACTORS][idx++], formFactorsMap);\n            }\n          } else {\n            ff = strMapper(uaCH2[FORMFACTORS], formFactorsMap);\n          }\n          this.set(TYPE, ff);\n        }\n        break;\n      case UA_OS:\n        var osName = uaCH2[PLATFORM];\n        if (osName) {\n          var osVersion = uaCH2[PLATFORMVER];\n          if (osName == WINDOWS) osVersion = parseInt(majorize(osVersion), 10) >= 13 ? \"11\" : \"10\";\n          this.set(NAME, osName).set(VERSION, osVersion);\n        }\n        if (this.get(NAME) == WINDOWS && uaCH2[MODEL] == \"Xbox\") {\n          this.set(NAME, \"Xbox\").set(VERSION, void 0);\n        }\n        break;\n      case UA_RESULT:\n        var data = this.data;\n        var parse = function(itemType2) {\n          return data[itemType2].getItem().setCH(uaCH2).parseCH().get();\n        };\n        this.set(UA_BROWSER, parse(UA_BROWSER)).set(UA_CPU, parse(UA_CPU)).set(UA_DEVICE, parse(UA_DEVICE)).set(UA_ENGINE, parse(UA_ENGINE)).set(UA_OS, parse(UA_OS));\n    }\n    return this;\n  };\n  setProps.call(this, [\n    [\"itemType\", itemType],\n    [\"ua\", ua],\n    [\"uaCH\", uaCH],\n    [\"rgxMap\", rgxMap],\n    [\"data\", createIData(this, itemType)]\n  ]);\n  return this;\n}\nfunction UAParser(ua, extensions, headers) {\n  if (typeof ua === OBJ_TYPE) {\n    if (isExtensions(ua, true)) {\n      if (typeof extensions === OBJ_TYPE) {\n        headers = extensions;\n      }\n      extensions = ua;\n    } else {\n      headers = ua;\n      extensions = void 0;\n    }\n    ua = void 0;\n  } else if (typeof ua === STR_TYPE && !isExtensions(extensions, true)) {\n    headers = extensions;\n    extensions = void 0;\n  }\n  if (headers && typeof headers.append === FUNC_TYPE) {\n    var kv = {};\n    headers.forEach(function(v2, k2) {\n      kv[k2] = v2;\n    });\n    headers = kv;\n  }\n  if (!(this instanceof UAParser)) {\n    return new UAParser(ua, extensions, headers).getResult();\n  }\n  var userAgent = typeof ua === STR_TYPE ? ua : (\n    // Passed user-agent string\n    headers && headers[USER_AGENT] ? headers[USER_AGENT] : (\n      // User-Agent from passed headers\n      NAVIGATOR && NAVIGATOR.userAgent ? NAVIGATOR.userAgent : (\n        // navigator.userAgent\n        EMPTY\n      )\n    )\n  ), httpUACH = new UACHData(headers, true), regexMap = extensions ? extend(defaultRegexes, extensions) : defaultRegexes, createItemFunc = function(itemType) {\n    if (itemType == UA_RESULT) {\n      return function() {\n        return new UAItem(itemType, userAgent, regexMap, httpUACH).set(\"ua\", userAgent).set(UA_BROWSER, this.getBrowser()).set(UA_CPU, this.getCPU()).set(UA_DEVICE, this.getDevice()).set(UA_ENGINE, this.getEngine()).set(UA_OS, this.getOS()).get();\n      };\n    } else {\n      return function() {\n        return new UAItem(itemType, userAgent, regexMap[itemType], httpUACH).parseUA().get();\n      };\n    }\n  };\n  setProps.call(this, [\n    [\"getBrowser\", createItemFunc(UA_BROWSER)],\n    [\"getCPU\", createItemFunc(UA_CPU)],\n    [\"getDevice\", createItemFunc(UA_DEVICE)],\n    [\"getEngine\", createItemFunc(UA_ENGINE)],\n    [\"getOS\", createItemFunc(UA_OS)],\n    [\"getResult\", createItemFunc(UA_RESULT)],\n    [\"getUA\", function() {\n      return userAgent;\n    }],\n    [\"setUA\", function(ua2) {\n      if (isString(ua2))\n        userAgent = ua2.length > UA_MAX_LENGTH ? trim(ua2, UA_MAX_LENGTH) : ua2;\n      return this;\n    }]\n  ]).setUA(userAgent);\n  return this;\n}\nUAParser.VERSION = LIBVERSION;\nUAParser.BROWSER = enumerize([NAME, VERSION, MAJOR, TYPE]);\nUAParser.CPU = enumerize([ARCHITECTURE]);\nUAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\nUAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\nconst useBrowserInfo = () => {\n  const browserInfo = T$5(() => {\n    {\n      const parser = new UAParser();\n      const result = parser.getResult();\n      return {\n        browser: result.browser,\n        engine: result.engine,\n        os: result.os,\n        device: result.device,\n        cpu: result.cpu\n      };\n    }\n  }, []);\n  return browserInfo;\n};\nfunction useHotkeyListenerComboText(action) {\n  const userAgent = useBrowserInfo();\n  return userAgent.os.name.toLowerCase().includes(\"mac\") ? hotkeyActionDefinitions[action].keyComboMac : hotkeyActionDefinitions[action].keyComboDefault;\n}\nfunction ChatBox() {\n  const chatState = useChatState();\n  const currentChat = T$5(\n    () => chatState.chats.find((c2) => c2.id === chatState.currentChatId),\n    [chatState.chats, chatState.currentChatId]\n  );\n  const currentInput = T$5(\n    () => (currentChat == null ? void 0 : currentChat.inputValue) || \"\",\n    [currentChat == null ? void 0 : currentChat.inputValue]\n  );\n  const showBigBox = T$5(() => {\n    return currentInput.split(\"\\n\").length > 1 || currentInput.length > 30;\n  }, [currentInput]);\n  const handleInputChange = q$3(\n    (value) => {\n      chatState.setChatInput(chatState.currentChatId, value);\n    },\n    [chatState.setChatInput, chatState.currentChatId]\n  );\n  const handleSubmit = q$3(() => {\n    if (!currentChat || !currentInput.trim()) return;\n    chatState.addMessage(currentChat.id, currentInput);\n  }, [currentChat, currentInput, chatState.addMessage]);\n  const handleKeyDown = q$3(\n    (e2) => {\n      if (e2.key === \"Enter\" && !e2.shiftKey) {\n        e2.preventDefault();\n        handleSubmit();\n      }\n    },\n    [handleSubmit]\n  );\n  const inputRef = A$3(null);\n  y$6(() => {\n    var _a, _b, _c;\n    const blurHandler = () => {\n      var _a2;\n      return (_a2 = inputRef.current) == null ? void 0 : _a2.focus();\n    };\n    if (chatState.isPromptCreationActive) {\n      (_a = inputRef.current) == null ? void 0 : _a.focus();\n      (_b = inputRef.current) == null ? void 0 : _b.addEventListener(\"blur\", blurHandler);\n    } else {\n      (_c = inputRef.current) == null ? void 0 : _c.blur();\n    }\n    return () => {\n      var _a2;\n      (_a2 = inputRef.current) == null ? void 0 : _a2.removeEventListener(\"blur\", blurHandler);\n    };\n  }, [chatState.isPromptCreationActive]);\n  const buttonClassName = T$5(\n    () => cn(\n      \"flex size-6 items-center justify-center rounded-full bg-transparent p-1 text-zinc-950 opacity-20\",\n      currentInput.length > 0 && \"bg-blue-600 text-white opacity-100\"\n    ),\n    [currentInput.length]\n  );\n  const textareaClassName = T$5(\n    () => cn(\n      \"w-full flex-1 resize-none bg-transparent text-zinc-950 placeholder:text-zinc-950/50 focus:outline-none\",\n      showBigBox ? \"h-[4.5em]\" : \"h-6\"\n    ),\n    [showBigBox]\n  );\n  const ctrlAltCText = useHotkeyListenerComboText(HotkeyActions.CTRL_ALT_C);\n  return /* @__PURE__ */ u$9(\n    \"div\",\n    {\n      className: cn(\n        \"flex h-fit w-80 flex-1 flex-row items-end gap-1 rounded-2xl border border-border/10 bg-zinc-950/5 p-1.5 pl-2 text-sm text-zinc-950 shadow-inner transition-all duration-150 placeholder:text-zinc-950/70\",\n        chatState.isPromptCreationActive && \"ring-2 ring-blue-600\"\n      ),\n      onClick: () => chatState.startPromptCreation(),\n      role: \"button\",\n      tabIndex: 0,\n      children: [\n        /* @__PURE__ */ u$9(\n          J,\n          {\n            ref: inputRef,\n            className: textareaClassName,\n            rows: showBigBox ? 4 : 1,\n            value: currentInput,\n            onChange: (e2) => handleInputChange(e2.currentTarget.value),\n            onKeyDown: handleKeyDown,\n            placeholder: chatState.isPromptCreationActive ? \"Enter prompt...\" : `What do you want to change? (${ctrlAltCText})`\n          }\n        ),\n        /* @__PURE__ */ u$9(\n          H$3,\n          {\n            className: buttonClassName,\n            disabled: currentInput.length === 0,\n            onClick: handleSubmit,\n            children: /* @__PURE__ */ u$9(Send, { className: \"size-3\" })\n          }\n        )\n      ]\n    }\n  );\n}\nconst DropdownMenu = to;\nconst DropdownMenuButton = D$1(\n  (props, ref) => {\n    return /* @__PURE__ */ u$9(mt, { as: k$3, ref, ...props });\n  }\n);\nconst DropdownMenuContent = D$1(\n  (props, ref) => {\n    return /* @__PURE__ */ u$9(\n      Tt,\n      {\n        ref,\n        anchor: \"bottom\",\n        transition: true,\n        portal: true,\n        ...props,\n        className: cn(\n          \"z-50 flex w-fit min-w-24 max-w-90 flex-col items-stretch justify-start gap-1 rounded-lg border border-border/30 border-solid bg-background/60 p-1 shadow-black/50 shadow-lg outline-none backdrop-blur-md data-focus:outline-none\",\n          props.className\n        )\n      }\n    );\n  }\n);\nconst DropdownMenuItemStyles = \"w-full flex flex-row select-none items-center justify-start gap-2 p-2 pr-6 truncate overflow-hidden rounded-md hover:bg-zinc-950/10 focus:text-zinc-900 cursor-pointer transition-color duration-150 text-sm font-normal text-foreground\";\nconst DropdownMenuButttonItem = D$1(\n  (props, ref) => {\n    return /* @__PURE__ */ u$9(ft, { ref, children: /* @__PURE__ */ u$9(\n      H$3,\n      {\n        ...props,\n        className: cn(DropdownMenuItemStyles, props.className)\n      }\n    ) });\n  }\n);\nD$1(\n  (props, ref) => {\n    return /* @__PURE__ */ u$9(ft, { ref, children: /* @__PURE__ */ u$9(\"a\", { ...props, className: cn(DropdownMenuItemStyles, props.className) }) });\n  }\n);\nfunction ToolbarItem(props) {\n  return /* @__PURE__ */ u$9(\"div\", { className: \"flex h-full shrink-0 items-center justify-center\", children: [\n    props.children,\n    props.badgeContent && /* @__PURE__ */ u$9(\n      \"div\",\n      {\n        className: cn(\n          \"bg-blue-600 text-white\",\n          props.badgeClassName,\n          \"-bottom-0.5 -right-1 pointer-events-none absolute flex h-4 w-max min-w-4 max-w-8 select-none items-center justify-center truncate rounded-full px-1 font-semibold text-xs\"\n        ),\n        children: props.badgeContent\n      }\n    ),\n    props.statusDot && /* @__PURE__ */ u$9(\n      \"div\",\n      {\n        className: cn(\n          \"bg-rose-600\",\n          props.statusDotClassName,\n          \"pointer-events-none absolute top-0 right-0 size-1.5 rounded-full\"\n        )\n      }\n    )\n  ] });\n}\nconst ToolbarButton = D$1(\n  ({\n    badgeContent,\n    badgeClassName,\n    statusDot,\n    statusDotClassName,\n    tooltipHint,\n    variant = \"default\",\n    ...props\n  }, ref) => {\n    const button = /* @__PURE__ */ u$9(\n      H$3,\n      {\n        ref,\n        ...props,\n        className: cn(\n          \"flex items-center justify-center rounded-full p-1 text-zinc-950 hover:bg-zinc-950/5\",\n          variant === \"default\" ? \"size-8\" : \"h-8 rounded-full\"\n        )\n      }\n    );\n    return /* @__PURE__ */ u$9(\n      ToolbarItem,\n      {\n        badgeContent,\n        badgeClassName,\n        statusDot,\n        statusDotClassName,\n        children: button\n      }\n    );\n  }\n);\nToolbarButton.displayName = \"ToolbarButton\";\nfunction ToolbarSection({ children }) {\n  return /* @__PURE__ */ u$9(\"div\", { className: \"fade-in slide-in-from-bottom-2 flex max-h-full max-w-sm animate-in snap-start flex-row items-center justify-between gap-2 border-x border-r-border/30 border-l-transparent px-3 first:pl-0 last:border-r-transparent last:pr-0\", children });\n}\nfunction MoreActionsButton() {\n  const minimizeCompanion = useAppState((state) => state.minimize);\n  const plugins = usePlugins();\n  const pluginTools = T$5(() => {\n    return plugins.flatMap((plugin) => plugin.actions);\n  }, [plugins]);\n  return /* @__PURE__ */ u$9(ToolbarSection, { children: /* @__PURE__ */ u$9(DropdownMenu, { children: [\n    /* @__PURE__ */ u$9(DropdownMenuButton, { children: /* @__PURE__ */ u$9(ToolbarButton, { children: /* @__PURE__ */ u$9(Ellipsis, { className: \"size-4\" }) }) }),\n    /* @__PURE__ */ u$9(DropdownMenuContent, { children: [\n      pluginTools.map((tool) => /* @__PURE__ */ u$9(DropdownMenuButttonItem, { onClick: tool.execute, children: tool.name })),\n      /* @__PURE__ */ u$9(DropdownMenuButttonItem, { onClick: minimizeCompanion, children: [\n        /* @__PURE__ */ u$9(Minimize2, { className: \"size-4\" }),\n        \"Minimize companion\"\n      ] })\n    ] })\n  ] }) });\n}\nconst DraggableContext = K$3(\n  null\n);\nconst DraggableProvider = ({\n  containerRef,\n  children,\n  snapAreas,\n  onDragStart,\n  onDragEnd\n}) => {\n  const [borderLocation, setBorderLocation] = d$4({\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0\n  });\n  const dragStartListeners = A$3(/* @__PURE__ */ new Set());\n  const dragEndListeners = A$3(/* @__PURE__ */ new Set());\n  const registerDragStart = q$3((cb) => {\n    dragStartListeners.current.add(cb);\n    return () => dragStartListeners.current.delete(cb);\n  }, []);\n  const registerDragEnd = q$3((cb) => {\n    dragEndListeners.current.add(cb);\n    return () => dragEndListeners.current.delete(cb);\n  }, []);\n  const emitDragStart = q$3(() => {\n    if (onDragStart) onDragStart();\n    dragStartListeners.current.forEach((cb) => cb());\n  }, [onDragStart]);\n  const emitDragEnd = q$3(() => {\n    if (onDragEnd) onDragEnd();\n    dragEndListeners.current.forEach((cb) => cb());\n  }, [onDragEnd]);\n  const contextValue = {\n    borderLocation,\n    snapAreas,\n    registerDragStart,\n    registerDragEnd,\n    emitDragStart,\n    emitDragEnd\n  };\n  y$6(() => {\n    if (!containerRef.current) return;\n    const updateBorderLocation = () => {\n      const rect = containerRef.current.getBoundingClientRect();\n      setBorderLocation({\n        top: rect.top,\n        left: rect.left,\n        right: rect.right,\n        bottom: rect.bottom\n      });\n    };\n    updateBorderLocation();\n    const resizeObserver = new ResizeObserver(updateBorderLocation);\n    resizeObserver.observe(containerRef.current);\n    const handleScroll = () => {\n      requestAnimationFrame(updateBorderLocation);\n    };\n    window.addEventListener(\"scroll\", handleScroll, true);\n    let parent = containerRef.current.parentElement;\n    while (parent) {\n      parent.addEventListener(\"scroll\", handleScroll);\n      parent = parent.parentElement;\n    }\n    return () => {\n      var _a;\n      resizeObserver.disconnect();\n      window.removeEventListener(\"scroll\", handleScroll, true);\n      parent = (_a = containerRef.current) == null ? void 0 : _a.parentElement;\n      while (parent) {\n        parent.removeEventListener(\"scroll\", handleScroll);\n        parent = parent.parentElement;\n      }\n    };\n  }, [containerRef]);\n  return /* @__PURE__ */ u$9(DraggableContext.Provider, { value: contextValue, children });\n};\nfunction useDraggable(config) {\n  const providerData = x$4(DraggableContext);\n  const latestProviderDataRef = A$3(providerData);\n  y$6(() => {\n    latestProviderDataRef.current = providerData;\n  }, [providerData]);\n  const movingElementRef = A$3(null);\n  const dragInitiatorRef = A$3(null);\n  const [movingElementNode, setMovingElementNode] = d$4(null);\n  const [dragInitiatorNode, setDragInitiatorNode] = d$4(null);\n  const mouseToDraggableCenterOffsetRef = A$3(null);\n  const mouseDownPosRef = A$3(null);\n  const currentMousePosRef = A$3(null);\n  const isDraggingRef = A$3(false);\n  const persistedRelativeCenterRef = A$3(config.initialRelativeCenter);\n  const [currentSnapArea, setCurrentSnapArea] = d$4(null);\n  const {\n    startThreshold = 3,\n    areaSnapThreshold = 60,\n    // px, default threshold for snapping\n    onDragStart,\n    onDragEnd,\n    initialSnapArea,\n    springStiffness = 0.3,\n    // Default spring stiffness\n    springDampness = 0.5\n    // Default spring dampness\n    // initialRelativeCenter is used to initialize persistedRelativeCenterRef\n  } = config;\n  const animatedPositionRef = A$3(null);\n  const velocityRef = A$3({ x: 0, y: 0 });\n  const hasAnimatedOnceRef = A$3(false);\n  y$6(() => {\n    if (initialSnapArea && providerData && providerData.borderLocation && providerData.snapAreas && providerData.snapAreas[initialSnapArea] && !isDraggingRef.current) {\n      const { top, left, right, bottom } = providerData.borderLocation;\n      const width = right - left;\n      const height = bottom - top;\n      const areaCenters = {\n        topLeft: { x: left, y: top },\n        topCenter: { x: left + width / 2, y: top },\n        topRight: { x: right, y: top },\n        centerLeft: { x: left, y: top + height / 2 },\n        center: { x: left + width / 2, y: top + height / 2 },\n        centerRight: { x: right, y: top + height / 2 },\n        bottomLeft: { x: left, y: bottom },\n        bottomCenter: { x: left + width / 2, y: bottom },\n        bottomRight: { x: right, y: bottom }\n      };\n      const center = areaCenters[initialSnapArea];\n      if (center && window.innerWidth > 0 && window.innerHeight > 0) {\n        const relX = (center.x - left) / (right - left);\n        const relY = (center.y - top) / (bottom - top);\n        persistedRelativeCenterRef.current = { x: relX, y: relY };\n      }\n    }\n  }, [initialSnapArea, providerData]);\n  function getSnapAreaCenters(borderLocation) {\n    const { top, left, right, bottom } = borderLocation;\n    const width = right - left;\n    const height = bottom - top;\n    return {\n      topLeft: { x: left, y: top },\n      topCenter: { x: left + width / 2, y: top },\n      topRight: { x: right, y: top },\n      centerLeft: { x: left, y: top + height / 2 },\n      center: { x: left + width / 2, y: top + height / 2 },\n      centerRight: { x: right, y: top + height / 2 },\n      bottomLeft: { x: left, y: bottom },\n      bottomCenter: { x: left + width / 2, y: bottom },\n      bottomRight: { x: right, y: bottom }\n    };\n  }\n  const updateDraggablePosition = q$3(() => {\n    var _a, _b;\n    const draggableEl = movingElementRef.current;\n    if (!draggableEl) return;\n    const draggableWidth = draggableEl.offsetWidth;\n    const draggableHeight = draggableEl.offsetHeight;\n    const offsetParent = draggableEl.offsetParent;\n    let parentViewportLeft = 0;\n    let parentViewportTop = 0;\n    let parentWidth = window.innerWidth;\n    let parentHeight = window.innerHeight;\n    if (offsetParent) {\n      const opRect = offsetParent.getBoundingClientRect();\n      parentViewportLeft = opRect.left;\n      parentViewportTop = opRect.top;\n      parentWidth = offsetParent.offsetWidth || window.innerWidth;\n      parentHeight = offsetParent.offsetHeight || window.innerHeight;\n    }\n    let targetViewportCenterX = null;\n    let targetViewportCenterY = null;\n    const currentDesiredRelativeCenter = persistedRelativeCenterRef.current;\n    let snapArea = null;\n    let snapTarget = null;\n    const provider = latestProviderDataRef.current;\n    if (isDraggingRef.current && mouseToDraggableCenterOffsetRef.current && currentMousePosRef.current && provider && provider.borderLocation && provider.snapAreas) {\n      const dragCenter = {\n        x: currentMousePosRef.current.x - mouseToDraggableCenterOffsetRef.current.x,\n        y: currentMousePosRef.current.y - mouseToDraggableCenterOffsetRef.current.y\n      };\n      const areaCenters = getSnapAreaCenters(provider.borderLocation);\n      let minDist = Number.POSITIVE_INFINITY;\n      let closestArea = null;\n      let closestCenter = null;\n      for (const area in provider.snapAreas) {\n        if (provider.snapAreas[area]) {\n          const center = areaCenters[area];\n          if (!center) continue;\n          const dist = Math.hypot(\n            center.x - dragCenter.x,\n            center.y - dragCenter.y\n          );\n          if (dist < minDist) {\n            minDist = dist;\n            closestArea = area;\n            closestCenter = center;\n          }\n        }\n      }\n      if (closestArea && closestCenter && minDist <= areaSnapThreshold) {\n        snapArea = closestArea;\n        snapTarget = closestCenter;\n      }\n    }\n    if (isDraggingRef.current && snapTarget) {\n      targetViewportCenterX = snapTarget.x;\n      targetViewportCenterY = snapTarget.y;\n      setCurrentSnapArea(snapArea);\n    } else if (isDraggingRef.current && mouseToDraggableCenterOffsetRef.current && currentMousePosRef.current) {\n      targetViewportCenterX = currentMousePosRef.current.x - mouseToDraggableCenterOffsetRef.current.x;\n      targetViewportCenterY = currentMousePosRef.current.y - mouseToDraggableCenterOffsetRef.current.y;\n      setCurrentSnapArea(null);\n    } else {\n      if (currentDesiredRelativeCenter && parentWidth > 0 && parentHeight > 0) {\n        const isTopHalf2 = currentDesiredRelativeCenter.y <= 0.5;\n        const isLeftHalf2 = currentDesiredRelativeCenter.x <= 0.5;\n        if (isLeftHalf2) {\n          const targetCenterXInParent = parentWidth * currentDesiredRelativeCenter.x;\n          targetViewportCenterX = parentViewportLeft + targetCenterXInParent;\n        } else {\n          const targetCenterXInParent = parentWidth * (1 - currentDesiredRelativeCenter.x);\n          targetViewportCenterX = parentViewportLeft + parentWidth - targetCenterXInParent;\n        }\n        if (isTopHalf2) {\n          const targetCenterYInParent = parentHeight * currentDesiredRelativeCenter.y;\n          targetViewportCenterY = parentViewportTop + targetCenterYInParent;\n        } else {\n          const targetCenterYInParent = parentHeight * (1 - currentDesiredRelativeCenter.y);\n          targetViewportCenterY = parentViewportTop + parentHeight - targetCenterYInParent;\n        }\n      } else {\n        if (!((_a = movingElementRef.current) == null ? void 0 : _a.style.left) && !((_b = movingElementRef.current) == null ? void 0 : _b.style.top)) {\n          console.warn(\n            \"useDraggable: Cannot determine position. Parent has no dimensions or initialRelativeCenter was not effectively set.\"\n          );\n        }\n        return;\n      }\n      setCurrentSnapArea(null);\n    }\n    if (targetViewportCenterX === null || targetViewportCenterY === null) {\n      return;\n    }\n    const { borderLocation } = latestProviderDataRef.current || {\n      borderLocation: void 0\n    };\n    if (borderLocation && draggableWidth > 0 && draggableHeight > 0) {\n      const providerRectWidth = borderLocation.right - borderLocation.left;\n      const providerRectHeight = borderLocation.bottom - borderLocation.top;\n      let clampedCenterX = targetViewportCenterX;\n      let clampedCenterY = targetViewportCenterY;\n      if (draggableWidth >= providerRectWidth) {\n        clampedCenterX = borderLocation.left + providerRectWidth / 2;\n      } else {\n        const minX = borderLocation.left + draggableWidth / 2;\n        const maxX = borderLocation.right - draggableWidth / 2;\n        clampedCenterX = Math.max(minX, Math.min(clampedCenterX, maxX));\n      }\n      if (draggableHeight >= providerRectHeight) {\n        clampedCenterY = borderLocation.top + providerRectHeight / 2;\n      } else {\n        const minY = borderLocation.top + draggableHeight / 2;\n        const maxY = borderLocation.bottom - draggableHeight / 2;\n        clampedCenterY = Math.max(minY, Math.min(clampedCenterY, maxY));\n      }\n      targetViewportCenterX = clampedCenterX;\n      targetViewportCenterY = clampedCenterY;\n    }\n    if (!animatedPositionRef.current) {\n      animatedPositionRef.current = {\n        x: targetViewportCenterX,\n        y: targetViewportCenterY\n      };\n      velocityRef.current = { x: 0, y: 0 };\n      const targetElementStyleX2 = targetViewportCenterX - draggableWidth / 2;\n      const targetElementStyleY2 = targetViewportCenterY - draggableHeight / 2;\n      const isTopHalf2 = currentDesiredRelativeCenter ? currentDesiredRelativeCenter.y <= 0.5 : true;\n      const isLeftHalf2 = currentDesiredRelativeCenter ? currentDesiredRelativeCenter.x <= 0.5 : true;\n      const elStyle2 = draggableEl.style;\n      elStyle2.right = \"\";\n      elStyle2.bottom = \"\";\n      elStyle2.left = \"\";\n      elStyle2.top = \"\";\n      if (isLeftHalf2) {\n        const styleLeftPx = targetElementStyleX2 - parentViewportLeft;\n        elStyle2.left = parentWidth > 0 ? `${(styleLeftPx / parentWidth * 100).toFixed(2)}%` : \"0px\";\n        elStyle2.right = \"\";\n      } else {\n        const styleRightPx = parentViewportLeft + parentWidth - (targetElementStyleX2 + draggableWidth);\n        elStyle2.right = parentWidth > 0 ? `${(styleRightPx / parentWidth * 100).toFixed(2)}%` : \"0px\";\n        elStyle2.left = \"\";\n      }\n      if (isTopHalf2) {\n        const styleTopPx = targetElementStyleY2 - parentViewportTop;\n        elStyle2.top = parentHeight > 0 ? `${(styleTopPx / parentHeight * 100).toFixed(2)}%` : \"0px\";\n        elStyle2.bottom = \"\";\n      } else {\n        const styleBottomPx = parentViewportTop + parentHeight - (targetElementStyleY2 + draggableHeight);\n        elStyle2.bottom = parentHeight > 0 ? `${(styleBottomPx / parentHeight * 100).toFixed(2)}%` : \"0px\";\n        elStyle2.top = \"\";\n      }\n      hasAnimatedOnceRef.current = true;\n      return;\n    }\n    if (!hasAnimatedOnceRef.current) {\n      hasAnimatedOnceRef.current = true;\n      return;\n    }\n    const pos = animatedPositionRef.current;\n    const vel = velocityRef.current;\n    const dx = targetViewportCenterX - pos.x;\n    const dy = targetViewportCenterY - pos.y;\n    const ax = springStiffness * dx - springDampness * vel.x;\n    const ay = springStiffness * dy - springDampness * vel.y;\n    vel.x += ax;\n    vel.y += ay;\n    pos.x += vel.x;\n    pos.y += vel.y;\n    const threshold = 0.5;\n    if (Math.abs(dx) < threshold && Math.abs(dy) < threshold && Math.abs(vel.x) < threshold && Math.abs(vel.y) < threshold) {\n      pos.x = targetViewportCenterX;\n      pos.y = targetViewportCenterY;\n      vel.x = 0;\n      vel.y = 0;\n    }\n    animatedPositionRef.current = { ...pos };\n    velocityRef.current = { ...vel };\n    const targetElementStyleX = pos.x - draggableWidth / 2;\n    const targetElementStyleY = pos.y - draggableHeight / 2;\n    const isTopHalf = currentDesiredRelativeCenter ? currentDesiredRelativeCenter.y <= 0.5 : true;\n    const isLeftHalf = currentDesiredRelativeCenter ? currentDesiredRelativeCenter.x <= 0.5 : true;\n    const elStyle = draggableEl.style;\n    elStyle.right = \"\";\n    elStyle.bottom = \"\";\n    elStyle.left = \"\";\n    elStyle.top = \"\";\n    if (isLeftHalf) {\n      const styleLeftPx = targetElementStyleX - parentViewportLeft;\n      elStyle.left = parentWidth > 0 ? `${(styleLeftPx / parentWidth * 100).toFixed(2)}%` : \"0px\";\n      elStyle.right = \"\";\n    } else {\n      const styleRightPx = parentViewportLeft + parentWidth - (targetElementStyleX + draggableWidth);\n      elStyle.right = parentWidth > 0 ? `${(styleRightPx / parentWidth * 100).toFixed(2)}%` : \"0px\";\n      elStyle.left = \"\";\n    }\n    if (isTopHalf) {\n      const styleTopPx = targetElementStyleY - parentViewportTop;\n      elStyle.top = parentHeight > 0 ? `${(styleTopPx / parentHeight * 100).toFixed(2)}%` : \"0px\";\n      elStyle.bottom = \"\";\n    } else {\n      const styleBottomPx = parentViewportTop + parentHeight - (targetElementStyleY + draggableHeight);\n      elStyle.bottom = parentHeight > 0 ? `${(styleBottomPx / parentHeight * 100).toFixed(2)}%` : \"0px\";\n      elStyle.top = \"\";\n    }\n    if (Math.abs(pos.x - targetViewportCenterX) > threshold || Math.abs(pos.y - targetViewportCenterY) > threshold || Math.abs(vel.x) > threshold || Math.abs(vel.y) > threshold || isDraggingRef.current) {\n      requestAnimationFrame(updateDraggablePosition);\n    }\n  }, [areaSnapThreshold, springStiffness, springDampness]);\n  const mouseUpHandler = q$3(\n    (e2) => {\n      var _a;\n      if (isDraggingRef.current) {\n        if (onDragEnd) onDragEnd();\n        if ((_a = latestProviderDataRef.current) == null ? void 0 : _a.emitDragEnd) {\n          latestProviderDataRef.current.emitDragEnd();\n        }\n        const draggableEl = movingElementRef.current;\n        const provider = latestProviderDataRef.current;\n        if (draggableEl && provider && provider.borderLocation) {\n          const draggableWidth = draggableEl.offsetWidth;\n          const draggableHeight = draggableEl.offsetHeight;\n          const offsetParent = draggableEl.offsetParent;\n          let parentViewportLeft = 0;\n          let parentViewportTop = 0;\n          let parentWidth = window.innerWidth;\n          let parentHeight = window.innerHeight;\n          if (offsetParent) {\n            const opRect = offsetParent.getBoundingClientRect();\n            parentViewportLeft = opRect.left;\n            parentViewportTop = opRect.top;\n            parentWidth = offsetParent.offsetWidth || window.innerWidth;\n            parentHeight = offsetParent.offsetHeight || window.innerHeight;\n          }\n          let releasedCenterX = 0;\n          let releasedCenterY = 0;\n          if (currentMousePosRef.current && mouseToDraggableCenterOffsetRef.current) {\n            releasedCenterX = currentMousePosRef.current.x - mouseToDraggableCenterOffsetRef.current.x;\n            releasedCenterY = currentMousePosRef.current.y - mouseToDraggableCenterOffsetRef.current.y;\n          } else {\n            if (animatedPositionRef.current) {\n              releasedCenterX = animatedPositionRef.current.x;\n              releasedCenterY = animatedPositionRef.current.y;\n            }\n          }\n          const borderLocation = provider.borderLocation;\n          const minX = borderLocation.left + draggableWidth / 2;\n          const maxX = borderLocation.right - draggableWidth / 2;\n          const minY = borderLocation.top + draggableHeight / 2;\n          const maxY = borderLocation.bottom - draggableHeight / 2;\n          releasedCenterX = Math.max(minX, Math.min(releasedCenterX, maxX));\n          releasedCenterY = Math.max(minY, Math.min(releasedCenterY, maxY));\n          const areaCenters = getSnapAreaCenters(borderLocation);\n          let minDist = Number.POSITIVE_INFINITY;\n          let closestArea = null;\n          let closestCenter = null;\n          for (const area in provider.snapAreas) {\n            if (provider.snapAreas[area]) {\n              const center = areaCenters[area];\n              if (!center) continue;\n              const dist = Math.hypot(\n                center.x - releasedCenterX,\n                center.y - releasedCenterY\n              );\n              if (dist < minDist) {\n                minDist = dist;\n                closestArea = area;\n                closestCenter = center;\n              }\n            }\n          }\n          if (closestArea && closestCenter && minDist <= areaSnapThreshold) {\n            setCurrentSnapArea(closestArea);\n            const relX = (closestCenter.x - parentViewportLeft) / parentWidth;\n            const relY = (closestCenter.y - parentViewportTop) / parentHeight;\n            persistedRelativeCenterRef.current = { x: relX, y: relY };\n          } else {\n            setCurrentSnapArea(null);\n            const relX = (releasedCenterX - parentViewportLeft) / parentWidth;\n            const relY = (releasedCenterY - parentViewportTop) / parentHeight;\n            persistedRelativeCenterRef.current = { x: relX, y: relY };\n          }\n        }\n      }\n      mouseDownPosRef.current = null;\n      isDraggingRef.current = false;\n      console.log(\"Stop moving\");\n      window.removeEventListener(\"mousemove\", mouseMoveHandler, {\n        capture: true\n      });\n      window.removeEventListener(\"mouseup\", mouseUpHandler, {\n        capture: true\n      });\n      if (movingElementRef.current) {\n        movingElementRef.current.style.userSelect = \"\";\n      }\n      document.body.style.userSelect = \"\";\n      document.body.style.cursor = \"\";\n    },\n    [onDragEnd, areaSnapThreshold]\n  );\n  const mouseMoveHandler = q$3(\n    (e2) => {\n      var _a;\n      if (!mouseDownPosRef.current) return;\n      const distance = Math.hypot(\n        e2.clientX - mouseDownPosRef.current.x,\n        e2.clientY - mouseDownPosRef.current.y\n      );\n      if (distance > startThreshold && !isDraggingRef.current) {\n        isDraggingRef.current = true;\n        if (movingElementRef.current) {\n          movingElementRef.current.style.userSelect = \"none\";\n        }\n        document.body.style.userSelect = \"none\";\n        document.body.style.cursor = \"grabbing\";\n        if (onDragStart) onDragStart();\n        if ((_a = latestProviderDataRef.current) == null ? void 0 : _a.emitDragStart) {\n          latestProviderDataRef.current.emitDragStart();\n        }\n        requestAnimationFrame(updateDraggablePosition);\n        console.log(\"Start dragging\");\n      }\n      currentMousePosRef.current = { x: e2.clientX, y: e2.clientY };\n    },\n    [startThreshold, onDragStart, updateDraggablePosition]\n  );\n  const mouseDownHandler = q$3(\n    (e2) => {\n      console.log(\"Mouse down on draggable/handle area\");\n      if (e2.button !== 0) {\n        return;\n      }\n      const handleNode = dragInitiatorRef.current;\n      const draggableItemNode = movingElementRef.current;\n      if (handleNode) {\n        if (!handleNode.contains(e2.target) && e2.target !== handleNode) {\n          console.log(\n            \"Mousedown was not on the handle element or its children. Current target:\",\n            e2.target,\n            \"Expected handle:\",\n            handleNode,\n            \"Ignoring drag start.\"\n          );\n          return;\n        }\n      } else if (draggableItemNode) {\n        if (!draggableItemNode.contains(e2.target) && e2.target !== draggableItemNode) {\n          console.log(\n            \"Mousedown was not on the draggable item or its children (no handle specified). Current target:\",\n            e2.target,\n            \"Expected draggable item:\",\n            draggableItemNode,\n            \"Ignoring drag start.\"\n          );\n          return;\n        }\n      } else {\n        console.error(\n          \"Draggable element or handle ref not set in mouseDownHandler\"\n        );\n        return;\n      }\n      console.log(\"Valid drag target. Proceeding with drag setup.\");\n      mouseDownPosRef.current = { x: e2.clientX, y: e2.clientY };\n      if (!movingElementRef.current) {\n        console.error(\"Draggable element ref not set in mouseDownHandler\");\n        return;\n      }\n      const rect = movingElementRef.current.getBoundingClientRect();\n      const currentDraggableCenterX = rect.left + rect.width / 2;\n      const currentDraggableCenterY = rect.top + rect.height / 2;\n      mouseToDraggableCenterOffsetRef.current = {\n        x: e2.clientX - currentDraggableCenterX,\n        y: e2.clientY - currentDraggableCenterY\n      };\n      window.addEventListener(\"mousemove\", mouseMoveHandler, {\n        capture: true\n      });\n      window.addEventListener(\"mouseup\", mouseUpHandler, {\n        capture: true\n      });\n    },\n    [mouseMoveHandler, mouseUpHandler]\n  );\n  y$6(() => {\n    const elementToListenOn = dragInitiatorNode || movingElementNode;\n    if (elementToListenOn) {\n      elementToListenOn.addEventListener(\"mousedown\", mouseDownHandler);\n    }\n    return () => {\n      if (elementToListenOn) {\n        elementToListenOn.removeEventListener(\"mousedown\", mouseDownHandler);\n      }\n      if (isDraggingRef.current) {\n        if (onDragEnd) {\n          onDragEnd();\n        }\n        isDraggingRef.current = false;\n        if (movingElementNode) {\n          movingElementNode.style.userSelect = \"\";\n        }\n        document.body.style.userSelect = \"\";\n        document.body.style.cursor = \"\";\n        window.removeEventListener(\"mousemove\", mouseMoveHandler, {\n          capture: true\n        });\n        window.removeEventListener(\"mouseup\", mouseUpHandler, {\n          capture: true\n        });\n      }\n    };\n  }, [\n    movingElementNode,\n    dragInitiatorNode,\n    mouseDownHandler,\n    onDragEnd,\n    mouseMoveHandler,\n    mouseUpHandler\n  ]);\n  y$6(() => {\n    if (movingElementNode && persistedRelativeCenterRef.current && !isDraggingRef.current) {\n      requestAnimationFrame(updateDraggablePosition);\n    }\n  }, [\n    movingElementNode,\n    providerData,\n    // Triggers on container resize/scroll via DraggableProvider\n    persistedRelativeCenterRef,\n    // Triggers if the persistedRelativeCenterRef changes\n    updateDraggablePosition\n    // Stable callback\n  ]);\n  const draggableRefCallback = q$3((node) => {\n    setMovingElementNode(node);\n    movingElementRef.current = node;\n  }, []);\n  const handleRefCallback = q$3((node) => {\n    setDragInitiatorNode(node);\n    dragInitiatorRef.current = node;\n  }, []);\n  return {\n    draggableRef: draggableRefCallback,\n    handleRef: handleRefCallback,\n    position: {\n      snapArea: currentSnapArea,\n      isTopHalf: persistedRelativeCenterRef.current ? persistedRelativeCenterRef.current.y <= 0.5 : true,\n      isLeftHalf: persistedRelativeCenterRef.current ? persistedRelativeCenterRef.current.x <= 0.5 : true\n    }\n  };\n}\nfunction ToolbarDraggableBox() {\n  const provider = x$4(DraggableContext);\n  const borderLocation = provider == null ? void 0 : provider.borderLocation;\n  const isReady = !!borderLocation && borderLocation.right - borderLocation.left > 0 && borderLocation.bottom - borderLocation.top > 0;\n  const draggable = useDraggable({\n    startThreshold: 10,\n    initialSnapArea: \"bottomCenter\"\n  });\n  if (!isReady) return null;\n  return /* @__PURE__ */ u$9(\n    \"div\",\n    {\n      ref: draggable.draggableRef,\n      className: \"pointer-events-auto absolute p-0.5\",\n      children: /* @__PURE__ */ u$9(\"div\", { className: \"pointer-events-auto flex w-96 max-w-[80vw] flex-col items-start justify-center rounded-3xl border border-border/30 border-solid bg-zinc-50/80 p-0 shadow-lg backdrop-blur-lg transition-colors\", children: [\n        /* @__PURE__ */ u$9(ChatArea, {}),\n        /* @__PURE__ */ u$9(\n          \"div\",\n          {\n            ref: draggable.handleRef,\n            className: \"flex w-full flex-row items-center justify-center rounded-3xl border-border/30 border-t bg-background/40 p-1.5 shadow-lg transition-colors first:border-none\",\n            children: [\n              /* @__PURE__ */ u$9(ChatBox, {}),\n              /* @__PURE__ */ u$9(MoreActionsButton, {})\n            ]\n          }\n        )\n      ] })\n    }\n  );\n}\nfunction ToolbarArea() {\n  const containerRef = A$3(null);\n  return /* @__PURE__ */ u$9(\"div\", { className: \"absolute size-full\", children: /* @__PURE__ */ u$9(\"div\", { className: \"absolute inset-4\", ref: containerRef, children: /* @__PURE__ */ u$9(\n    DraggableProvider,\n    {\n      containerRef,\n      snapAreas: {\n        topLeft: true,\n        topCenter: true,\n        topRight: true,\n        centerLeft: true,\n        center: true,\n        centerRight: true,\n        bottomLeft: true,\n        bottomCenter: true,\n        bottomRight: true\n      },\n      children: /* @__PURE__ */ u$9(ToolbarDraggableBox, {})\n    }\n  ) }) });\n}\nconst Logo = ({\n  color = \"default\",\n  loading = false,\n  loadingSpeed = \"slow\",\n  ...props\n}) => {\n  const colorStyle = {\n    default: \"fill-stagewise-700 stroke-none\",\n    black: \"fill-zinc-950 stroke-none\",\n    white: \"fill-white stroke-none\",\n    gray: \"fill-zinc-500/50 stroke-none\",\n    current: \"fill-current stroke-none\",\n    gradient: \"fill-white stroke-black/30 stroke-1\"\n  };\n  return /* @__PURE__ */ u$9(\n    \"div\",\n    {\n      className: `relative ${color === \"gradient\" ? \"overflow-hidden rounded-full\" : \"overflow-visible\"} ${props.className || \"\"} ${loading ? \"drop-shadow-xl\" : \"\"} aspect-square`,\n      children: [\n        color === \"gradient\" && /* @__PURE__ */ u$9(\"div\", { className: \"absolute inset-0\", children: [\n          /* @__PURE__ */ u$9(\"div\", { className: \"absolute inset-0 size-full bg-gradient-to-tr from-indigo-700 via-blue-500 to-teal-500\" }),\n          /* @__PURE__ */ u$9(\"div\", { className: \"absolute top-1/2 left-1/2 size-9/12 bg-[radial-gradient(circle,rgba(219,39,119,0.2)_0%,rgba(219,39,119,0)_100%)]\" }),\n          /* @__PURE__ */ u$9(\"div\", { className: \"absolute right-1/2 bottom-1/2 size-full bg-[radial-gradient(circle,rgba(219,39,119,0.2)_0%,rgba(219,39,119,0)_100%)]\" }),\n          /* @__PURE__ */ u$9(\"div\", { className: \"absolute top-0 left-[-10%] size-[120%] bg-[radial-gradient(circle,rgba(255,255,255,0)_60%,rgba(255,255,255,0.2)_70%)]\" }),\n          /* @__PURE__ */ u$9(\"div\", { className: \"absolute top-[-20%] left-0 h-[120%] w-full bg-[radial-gradient(circle,rgba(55,48,163,0)_55%,rgba(55,48,163,0.35)_73%)]\" })\n        ] }),\n        /* @__PURE__ */ u$9(\n          \"svg\",\n          {\n            className: `absolute overflow-visible ${color === \"gradient\" ? \"top-[25%] left-[25%] h-[50%] w-[50%] drop-shadow-indigo-950 drop-shadow-xs\" : \"top-0 left-0 h-full w-full\"}`,\n            viewBox: \"0 0 2048 2048\",\n            children: [\n              /* @__PURE__ */ u$9(\"title\", { children: \"stagewise\" }),\n              /* @__PURE__ */ u$9(\n                \"ellipse\",\n                {\n                  className: colorStyle[color] + (loading ? \" animate-pulse\" : \"\"),\n                  id: \"path3\",\n                  ry: \"624\",\n                  rx: \"624\",\n                  cy: \"1024\",\n                  cx: \"1024\"\n                }\n              )\n            ]\n          }\n        ),\n        /* @__PURE__ */ u$9(\n          \"svg\",\n          {\n            className: `absolute overflow-visible ${color === \"gradient\" ? \"top-[25%] left-[25%] h-[50%] w-[50%]\" : \"top-0 left-0 h-full w-full\"}`,\n            viewBox: \"0 0 2048 2048\",\n            children: /* @__PURE__ */ u$9(\n              \"path\",\n              {\n                id: \"path4\",\n                className: `origin-center ${colorStyle[color]}${loading ? loadingSpeed === \"fast\" ? \" animate-spin-fast\" : \" animate-spin-slow\" : \"\"}`,\n                d: \"M 1024 0 A 1024 1024 0 0 0 0 1024 A 1024 1024 0 0 0 1024 2048 L 1736 2048 L 1848 2048 C 1958.7998 2048 2048 1958.7998 2048 1848 L 2048 1736 L 2048 1024 A 1024 1024 0 0 0 1024 0 z M 1024.9414 200 A 824 824 0 0 1 1848.9414 1024 A 824 824 0 0 1 1024.9414 1848 A 824 824 0 0 1 200.94141 1024 A 824 824 0 0 1 1024.9414 200 z \"\n              }\n            )\n          }\n        )\n      ]\n    }\n  );\n};\nfunction ExpandButton() {\n  const expand = useAppState((state) => state.expand);\n  return /* @__PURE__ */ u$9(\n    \"button\",\n    {\n      type: \"button\",\n      onClick: () => expand(),\n      className: \"pointer-events-auto absolute bottom-3 left-3 size-12 rounded-full bg-transparent opacity-80 shadow-sm transition-all duration-500 hover:opacity-100 hover:shadow-lg\",\n      children: /* @__PURE__ */ u$9(Logo, { color: \"gradient\" })\n    }\n  );\n}\nfunction ElementSelector(props) {\n  const lastHoveredElement = A$3(null);\n  const handleMouseMove = q$3(\n    (event) => {\n      const target = event.target;\n      if (target.closest(\".companion\")) return;\n      const refElement = getElementAtPoint(event.clientX, event.clientY);\n      if (props.ignoreList.includes(refElement)) return;\n      if (lastHoveredElement.current !== refElement) {\n        lastHoveredElement.current = refElement;\n        props.onElementHovered(refElement);\n      }\n    },\n    [props]\n  );\n  const handleMouseLeave = q$3(() => {\n    lastHoveredElement.current = null;\n    props.onElementUnhovered();\n  }, [props]);\n  const handleMouseClick = q$3(() => {\n    if (!lastHoveredElement.current) return;\n    if (props.ignoreList.includes(lastHoveredElement.current)) return;\n    props.onElementSelected(lastHoveredElement.current);\n  }, [props]);\n  return /* @__PURE__ */ u$9(\n    \"div\",\n    {\n      className: \"pointer-events-auto fixed inset-0 h-screen w-screen\",\n      onMouseMove: handleMouseMove,\n      onMouseLeave: handleMouseLeave,\n      onClick: handleMouseClick,\n      role: \"button\",\n      tabIndex: 0\n    }\n  );\n}\nfunction useWindowSize() {\n  const [size2, setSize] = d$4({\n    width: window.innerWidth,\n    height: window.innerHeight\n  });\n  const handleResize = q$3(\n    () => setSize({\n      width: window.innerWidth,\n      height: window.innerHeight\n    }),\n    []\n  );\n  useEventListener(\"resize\", handleResize);\n  return size2;\n}\nfunction ContextItemProposal({\n  refElement,\n  ...props\n}) {\n  const boxRef = A$3(null);\n  const windowSize = useWindowSize();\n  const updateBoxPosition = q$3(() => {\n    if (boxRef.current) {\n      if (refElement) {\n        const referenceRect = refElement.getBoundingClientRect();\n        boxRef.current.style.top = `${referenceRect.top}px`;\n        boxRef.current.style.left = `${referenceRect.left}px`;\n        boxRef.current.style.width = `${referenceRect.width}px`;\n        boxRef.current.style.height = `${referenceRect.height}px`;\n        boxRef.current.style.display = void 0;\n      } else {\n        boxRef.current.style.height = \"0px\";\n        boxRef.current.style.width = \"0px\";\n        boxRef.current.style.top = `${windowSize.height / 2}px`;\n        boxRef.current.style.left = `${windowSize.width / 2}px`;\n        boxRef.current.style.display = \"none\";\n      }\n    }\n  }, [refElement, windowSize.height, windowSize.width]);\n  useCyclicUpdate(updateBoxPosition, 30);\n  return /* @__PURE__ */ u$9(\n    \"div\",\n    {\n      ...props,\n      className: \"fixed flex items-center justify-center overflow-hidden rounded-lg border-2 border-blue-600/80 bg-blue-600/20 text-white backdrop-blur-xs transition-all duration-100\",\n      ref: boxRef,\n      children: /* @__PURE__ */ u$9(Plus, { className: \"size-6 drop-shadow-black drop-shadow-md\" })\n    }\n  );\n}\nfunction ContextItem({ refElement, ...props }) {\n  const boxRef = A$3(null);\n  const windowSize = useWindowSize();\n  const updateBoxPosition = q$3(() => {\n    if (boxRef.current) {\n      if (refElement) {\n        const referenceRect = refElement.getBoundingClientRect();\n        boxRef.current.style.top = `${referenceRect.top}px`;\n        boxRef.current.style.left = `${referenceRect.left}px`;\n        boxRef.current.style.width = `${referenceRect.width}px`;\n        boxRef.current.style.height = `${referenceRect.height}px`;\n        boxRef.current.style.display = void 0;\n      } else {\n        boxRef.current.style.height = \"0px\";\n        boxRef.current.style.width = \"0px\";\n        boxRef.current.style.top = `${windowSize.height / 2}px`;\n        boxRef.current.style.left = `${windowSize.width / 2}px`;\n        boxRef.current.style.display = \"none\";\n      }\n    }\n  }, [refElement, windowSize.height, windowSize.width]);\n  useCyclicUpdate(updateBoxPosition, 30);\n  const chatState = useChatState();\n  const handleDeleteClick = q$3(() => {\n    chatState.removeChatDomContext(chatState.currentChatId, refElement);\n  }, [chatState, refElement]);\n  return /* @__PURE__ */ u$9(\n    \"div\",\n    {\n      ...props,\n      className: \"pointer-events-auto fixed flex cursor-pointer items-center justify-center overflow-hidden rounded-lg border-2 border-green-600/80 bg-green-600/5 text-transparent transition-all duration-0 hover:border-red-600/80 hover:bg-red-600/20 hover:text-white hover:backdrop-blur-sm\",\n      ref: boxRef,\n      onClick: handleDeleteClick,\n      role: \"button\",\n      tabIndex: 0,\n      children: /* @__PURE__ */ u$9(Trash2, { className: \"size-6 drop-shadow-black drop-shadow-md\" })\n    }\n  );\n}\nfunction SelectorCanvas() {\n  const { chats, currentChatId, addChatDomContext, isPromptCreationActive } = useChatState();\n  const currentChat = T$5(\n    () => chats.find((chat) => chat.id === currentChatId),\n    [currentChatId, chats]\n  );\n  const shouldShow = isPromptCreationActive;\n  const contextElements = T$5(() => {\n    return (currentChat == null ? void 0 : currentChat.domContextElements) || [];\n  }, [currentChat]);\n  const [hoveredElement, setHoveredElement] = d$4(\n    null\n  );\n  const addElementToContext = q$3(\n    (el) => {\n      addChatDomContext(currentChatId, el);\n    },\n    [addChatDomContext, currentChatId]\n  );\n  if (!shouldShow) return null;\n  return /* @__PURE__ */ u$9(k$3, { children: [\n    hoveredElement && /* @__PURE__ */ u$9(ContextItemProposal, { refElement: hoveredElement }),\n    /* @__PURE__ */ u$9(\n      ElementSelector,\n      {\n        ignoreList: contextElements,\n        onElementHovered: setHoveredElement,\n        onElementSelected: addElementToContext,\n        onElementUnhovered: () => setHoveredElement(null)\n      }\n    ),\n    contextElements.map((el) => /* @__PURE__ */ u$9(ContextItem, { refElement: el }))\n  ] });\n}\nfunction DesktopLayout() {\n  const minimized = useAppState((state) => state.minimized);\n  return /* @__PURE__ */ u$9(\"div\", { className: cn(\"fixed inset-0 h-screen w-screen\"), children: [\n    /* @__PURE__ */ u$9(SelectorCanvas, {}),\n    !minimized && /* @__PURE__ */ u$9(ToolbarArea, {}),\n    minimized && /* @__PURE__ */ u$9(ExpandButton, {})\n  ] });\n}\nfunction ClickBlocker(props) {\n  return /* @__PURE__ */ u$9(\n    \"div\",\n    {\n      className: cn(\n        typeof props.enable === \"undefined\" || props.enable ? \"pointer-events-auto\" : \"pointer-events-none\",\n        props.className\n      ),\n      onClick: props.onClick,\n      role: \"button\",\n      tabIndex: 0\n    }\n  );\n}\nfunction FocusLock() {\n  const focusInCompanion = A$3(false);\n  y$6(() => {\n    const originalFocus = HTMLElement.prototype.focus;\n    HTMLElement.prototype.focus = function(...args) {\n      const shadowRoot = this.getRootNode();\n      const isInCompanion = shadowRoot instanceof ShadowRoot && shadowRoot.host instanceof HTMLElement && shadowRoot.host.nodeName === \"STAGEWISE-COMPANION-ANCHOR\";\n      if (!isInCompanion && focusInCompanion.current) {\n        return;\n      }\n      originalFocus.apply(this, args);\n    };\n    return () => {\n      HTMLElement.prototype.focus = originalFocus;\n    };\n  }, []);\n  useEventListener(\n    \"focusin\",\n    (event) => {\n      if (event.target.localName === companionAnchorTagName) {\n        focusInCompanion.current = true;\n      }\n    },\n    { capture: true }\n  );\n  useEventListener(\n    \"focusout\",\n    (event) => {\n      if (event.target.localName === companionAnchorTagName) {\n        focusInCompanion.current = false;\n      }\n    },\n    { capture: true }\n  );\n  return null;\n}\nfunction VisibilityManager({ children }) {\n  return children;\n}\nfunction App(config) {\n  const isMainAppBlocked = useAppState((state) => state.isMainAppBlocked);\n  return /* @__PURE__ */ u$9(k$3, { children: [\n    /* @__PURE__ */ u$9(FocusLock, {}),\n    /* @__PURE__ */ u$9(\n      ClickBlocker,\n      {\n        className: \"fixed inset-0 h-screen w-screen\",\n        enable: isMainAppBlocked\n      }\n    ),\n    /* @__PURE__ */ u$9(ContextProviders, { config, children: [\n      /* @__PURE__ */ u$9(HotkeyListener, {}),\n      /* @__PURE__ */ u$9(VisibilityManager, { children: /* @__PURE__ */ u$9(DesktopLayout, {}) })\n    ] })\n  ] });\n}\nfunction initToolbar(config) {\n  if (!document.body)\n    throw new Error(\"stagewise companion cannot find document.body\");\n  if (document.body.querySelector(companionAnchorTagName)) {\n    console.warn(\n      \"A stagewise companion anchor already exists. Aborting this instance.\"\n    );\n    throw new Error(\"A stagewise companion anchor already exists.\");\n  }\n  const shadowDomAnchor = document.createElement(companionAnchorTagName);\n  shadowDomAnchor.style.position = \"fixed\";\n  shadowDomAnchor.style.top = \"0px\";\n  shadowDomAnchor.style.left = \"0px\";\n  shadowDomAnchor.style.right = \"0px\";\n  shadowDomAnchor.style.bottom = \"0px\";\n  shadowDomAnchor.style.pointerEvents = \"none\";\n  shadowDomAnchor.style.zIndex = \"2147483647\";\n  const eventBlocker = (ev) => {\n    ev.stopPropagation();\n  };\n  shadowDomAnchor.onclick = eventBlocker;\n  shadowDomAnchor.onmousedown = eventBlocker;\n  shadowDomAnchor.onmouseup = eventBlocker;\n  shadowDomAnchor.onmousemove = eventBlocker;\n  shadowDomAnchor.ondblclick = eventBlocker;\n  shadowDomAnchor.oncontextmenu = eventBlocker;\n  shadowDomAnchor.onwheel = eventBlocker;\n  shadowDomAnchor.onfocus = eventBlocker;\n  shadowDomAnchor.onblur = eventBlocker;\n  document.body.appendChild(shadowDomAnchor);\n  const fontLinkNode = document.createElement(\"link\");\n  fontLinkNode.rel = \"stylesheet\";\n  fontLinkNode.href = `https://rsms.me/inter/inter.css`;\n  document.head.appendChild(fontLinkNode);\n  const styleNode = document.createElement(\"style\");\n  styleNode.append(document.createTextNode(appStyle));\n  document.head.appendChild(styleNode);\n  E$3(_$4(App, config), shadowDomAnchor);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RhZ2V3aXNlL3Rvb2xiYXIvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLHdFQUF3RTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLG9CQUFvQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxZQUFZLHVLQUF1SztBQUNsTztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxTQUFTO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLFNBQVMsa1JBQWtSLGNBQWM7QUFDaFYsdUJBQXVCLFNBQVM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixzQkFBc0I7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUZBQXFGLDJCQUEyQjtBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzTkFBc047QUFDdE47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFPO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxJQUFJO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9CQUFvQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdDQUFnQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixpREFBaUQ7QUFDM0U7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix5QkFBeUI7QUFDbkQ7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1QkFBdUI7QUFDakQ7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDRCQUE0QiwrQ0FBK0M7QUFDM0U7QUFDQTtBQUNBLDRCQUE0Qiw2Q0FBNkM7QUFDekU7QUFDQTtBQUNBLDRCQUE0QiwrQ0FBK0M7QUFDM0U7QUFDQTtBQUNBLDRCQUE0Qiw4Q0FBOEM7QUFDMUU7QUFDQTtBQUNBLDRCQUE0QixnREFBZ0Q7QUFDNUU7QUFDQTtBQUNBLDRCQUE0Qiw4Q0FBOEM7QUFDMUU7QUFDQTtBQUNBLDRCQUE0QiwrQ0FBK0M7QUFDM0U7QUFDQTtBQUNBLDRCQUE0Qiw4Q0FBOEM7QUFDMUU7QUFDQTtBQUNBLDRCQUE0QixnREFBZ0Q7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNEJBQTRCLDZDQUE2QztBQUN6RTtBQUNBO0FBQ0EsNEJBQTRCLDRDQUE0QztBQUN4RTtBQUNBO0FBQ0EsNEJBQTRCLDhDQUE4QztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNEJBQTRCLHVCQUF1QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw0QkFBNEIsa0RBQWtEO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGNBQWM7QUFDcEQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHFCQUFxQjtBQUMzRCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MscUJBQXFCO0FBQzNELEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZUFBZTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxVQUFVO0FBQ1Ysb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxjQUFjO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCx1QkFBdUIsc0JBQXNCLGNBQWM7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLElBQUk7QUFDSjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsSUFBSTtBQUNKO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSx5QkFBeUIsb0JBQW9CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixJQUFJO0FBQ0osYUFBYTtBQUNiLElBQUk7QUFDSixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE1BQU07QUFDbEI7QUFDQSwrQkFBK0IsNkNBQTZDO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE1BQU07QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsUUFBUTtBQUNSLDhDQUE4Qyw2Q0FBNkM7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLFFBQVE7QUFDUiw4Q0FBOEMsNkNBQTZDO0FBQzNGO0FBQ0E7QUFDQSw2RkFBNkYscUNBQXFDO0FBQ2xJLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywyQ0FBMkM7QUFDekQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVksTUFBTTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsMEZBQTBGLGtCQUFrQjtBQUM1Ryx5Q0FBeUMsY0FBYztBQUN2RDtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDBDQUEwQztBQUNyRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwQ0FBMEM7QUFDakU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsc0RBQXNEO0FBQ3ZEO0FBQ0Esb0NBQW9DLFNBQVM7QUFDN0MsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msc0JBQXNCO0FBQzVELHNDQUFzQyxzQkFBc0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHNDQUFzQyxzQkFBc0I7QUFDNUQsa0NBQWtDLHNCQUFzQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixLQUFLLEVBQUUsY0FBYztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLEtBQUs7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCwyREFBMkQsd0JBQXdCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdDQUFnQztBQUNuRDtBQUNBO0FBQ0EsdUJBQXVCLG9DQUFvQztBQUMzRCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxXQUFXO0FBQzlDO0FBQ0EsdUJBQXVCLDhCQUE4QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsR0FBRztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixRQUFRO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsSUFBSSxHQUFHLE1BQU0sSUFBSSxJQUFJO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw2QkFBNkIsNkJBQTZCLFlBQVk7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw2QkFBNkI7QUFDMUQ7QUFDQTtBQUNBLDhCQUE4QixVQUFVO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGNBQWM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixJQUFJLEdBQUcsTUFBTSxJQUFJLElBQUk7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixXQUFXO0FBQzlCLGFBQWEsSUFBSTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGVBQWUsV0FBVztBQUMxQixTQUFTLElBQUk7QUFDYjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhIQUE4SDtBQUM5SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNEJBQTRCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsb0JBQW9CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9CQUFvQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsSUFBSTtBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSw0REFBNEQsTUFBTTtBQUNsRTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLE9BQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxJQUFJO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUIsSUFBSTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsYUFBYTtBQUM5RTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsVUFBVTtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBQzFCLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsU0FBUztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDJCQUEyQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxhQUFhO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNEJBQTRCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlCQUFpQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMscUJBQXFCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsMENBQTBDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLEtBQStCLEVBQUUsRUFBVztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLFNBQVMsS0FBK0IsRUFBRSxFQUkzQztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksU0FBUyxLQUErQixFQUFFLEVBSTNDO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLFFBQVEsc0VBQXNFO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwrREFBK0Q7QUFDdkU7QUFDQTtBQUNBLEdBQUc7QUFDSCxRQUFRLDhDQUE4QztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFD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Q0EsUUFBUTtBQUNSO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw2QkFBNkI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixZQUFZO0FBQ2xDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsWUFBWTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sSUFBSTtBQUNWO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFxQztBQUM3QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSx3RUFBd0UsYUFBYTtBQUNyRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksSUFBcUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsYUFBYTtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLGVBQWU7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLE1BQU0sSUFBcUM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGLGFBQWE7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFxQztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsSUFBSSxJQUFJO0FBQ1I7QUFDQSxnQkFBZ0I7QUFDaEIsQ0FBQztBQUNELENBQUMsOEJBQThCLDhCQUE4QixhQUFhO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELFNBQVM7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUNBQWlDO0FBQ3pDLHdDQUF3QyxlQUFlLDBCQUEwQjtBQUNqRjtBQUNBO0FBQ0EsZ0VBQWdFLFFBQVE7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBLGNBQWMsa0NBQWtDO0FBQ2hEO0FBQ0E7QUFDQSwrQ0FBK0MsNkVBQTZFO0FBQzVIO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsUUFBUSw0Q0FBNEMsZ0JBQWdCLGlGQUFpRixHQUFHLHlCQUF5QixHQUFHLE9BQU8sR0FBRyxHQUFHLEdBQUcsaUVBQWlFLHNEQUFzRCxXQUFXLGFBQWEsZ0NBQWdDLGFBQWEsc0NBQXNDO0FBQ3RhO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEtBQUssaUJBQWlCLHFCQUFxQix1REFBdUQ7QUFDbEcsdUNBQXVDLCtCQUErQixHQUFHLHdEQUF3RCxHQUFHLE1BQU07QUFDMUksS0FBSyxzREFBc0Q7QUFDM0Q7QUFDQSx3QkFBd0IsNENBQTRDLHdDQUF3QywrQkFBK0IsS0FBSyw4Q0FBOEM7QUFDOUw7QUFDQSxHQUFHO0FBQ0gsNkJBQTZCLFdBQVcsc0JBQXNCLFNBQVMscUhBQXFIO0FBQzVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsY0FBYztBQUN2RSxLQUFLO0FBQ0wsNEJBQTRCLDhDQUE4QztBQUMxRTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwSkFBMEo7QUFDMUo7QUFDQTtBQUNBO0FBQ0EsZUFBZSx5QkFBeUI7QUFDeEMsd0NBQXdDLFdBQVc7QUFDbkQ7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLEtBQXFDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLEtBQXFDLEVBQUUsRUFFMUMsQ0FBQztBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNOQUFzTjtBQUN0TjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZ0JBQWdCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFNBQVM7QUFDckM7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdCQUFnQjtBQUM1QztBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsU0FBUztBQUM1QztBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZ0JBQWdCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxRQUFRLGtDQUFrQztBQUMxQztBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDJDQUEyQyxZQUFZLFNBQVMsMEJBQTBCLG1DQUFtQztBQUM3SCxDQUFDO0FBQ0Q7QUFDQSxzQkFBc0IsK0NBQStDO0FBQ3JFLG9DQUFvQyxtQ0FBbUMsU0FBUyxZQUFZLFNBQVMsMEJBQTBCLG1DQUFtQztBQUNsSztBQUNBO0FBQ0E7QUFDQSxRQUFRLG9CQUFvQixhQUFhLGNBQWM7QUFDdkQsMENBQTBDLFdBQVcsT0FBTyxzRUFBc0U7QUFDbEk7QUFDQTtBQUNBLG9EQUFvRCxVQUFVO0FBQzlEO0FBQ0EsaUJBQWlCLGlCQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsK0NBQStDLGlFQUFpRTtBQUNoSDtBQUNBLHNGQUFzRix5RkFBeUYsNmFBQTZhO0FBQzVsQjtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0EsVUFBVTtBQUNWLHFDQUFxQyw4Q0FBOEMsb0JBQW9CO0FBQ3ZHLENBQUM7QUFDRCxxQ0FBcUM7QUFDckMsQ0FBQztBQUNEO0FBQ0E7QUFDQSxhQUFhO0FBQ2IseUNBQXlDO0FBQ3pDLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsNEpBQTRKO0FBQzdOO0FBQ0E7QUFDQSxtTEFBbUw7QUFDbkw7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsaUVBQWlFLDRKQUE0SjtBQUM3TjtBQUNBO0FBQ0EsMktBQTJLO0FBQzNLO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw0SkFBNEo7QUFDM0wsV0FBVztBQUNYLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsb0RBQW9ELHlCQUF5QixJQUFJO0FBQ2pGLENBQUM7QUFDRCx3Q0FBd0M7QUFDeEMsQ0FBQztBQUNEO0FBQ0EsNkVBQTZFLHNKQUFzSixNQUFNLHVEQUF1RCxvQkFBb0I7QUFDcFQsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxDQUFDLDREQUE0RCxrQ0FBa0MsMkRBQTJELGlDQUFpQyx3Q0FBd0MsNENBQTRDO0FBQy9RO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsNkNBQTZDLHFCQUFxQjtBQUNsRSxPQUFPLGlDQUFpQyw4QkFBOEI7QUFDdEUsS0FBSztBQUNMO0FBQ0EscURBQXFELDhCQUE4QjtBQUNuRixLQUFLLEdBQUc7QUFDUiwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0IsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLGVBQWUseUJBQXlCLElBQUk7QUFDNUMsbUJBQW1CLG1NQUFtTSxzQkFBc0I7QUFDNU87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLElBQUk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHlCQUF5QixJQUFJO0FBQzFDLDJCQUEyQixnQkFBZ0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvQ0FBb0MsZUFBZSxrQkFBa0I7QUFDN0U7QUFDQTtBQUNBLGNBQWMsbUJBQW1CO0FBQ2pDLEdBQUc7QUFDSDtBQUNBLGNBQWMsbUJBQW1CO0FBQ2pDLEdBQUcscUJBQXFCLGdDQUFnQyxxQkFBcUIsU0FBUztBQUN0RixvRUFBb0UsV0FBVywwQkFBMEIsaUJBQWlCLDRDQUE0QyxHQUFHLE9BQU8sd0VBQXdFO0FBQ3hQO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxtQ0FBbUMsR0FBRyx3REFBd0QsZ0ZBQWdGLHVDQUF1QztBQUNoUTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCwyQkFBMkIsb0JBQW9CO0FBQzVHO0FBQ0E7QUFDQSw2REFBNkQsMkJBQTJCLG1CQUFtQjtBQUMzRztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsaURBQWlELG1CQUFtQiw0Q0FBNEMscUJBQXFCLHFDQUFxQywyQkFBMkIsb0JBQW9CLHNCQUFzQjtBQUMvTztBQUNBLEdBQUcsS0FBSyxxQ0FBcUMsOENBQThDLGVBQWUsS0FBSyxrQ0FBa0MsOENBQThDLGdCQUFnQixLQUFLLDhCQUE4QixRQUFRLGNBQWMscUJBQXFCLHVHQUF1RyxpREFBaUQseU9BQXlPO0FBQzlwQixpQkFBaUIsNkVBQTZFO0FBQzlGO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrQ0FBa0MsR0FBRyxxRkFBcUYsb0pBQW9KLHNDQUFzQztBQUN4VTtBQUNBO0FBQ0E7QUFDQSxjQUFjLG1CQUFtQjtBQUNqQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0Q0FBNEM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0EseUZBQXlGLHFCQUFxQjtBQUM5RyxHQUFHLHNDQUFzQztBQUN6QztBQUNBLEdBQUc7QUFDSDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFHQUFxRywrQkFBK0I7QUFDcEk7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCO0FBQ0E7QUFDQSxrQkFBa0IsbUJBQW1CO0FBQ3JDO0FBQ0E7QUFDQSxvRUFBb0UsbUNBQW1DO0FBQ3ZHO0FBQ0Esb0VBQW9FLHVDQUF1QztBQUMzRztBQUNBO0FBQ0Esb0VBQW9FLG9DQUFvQztBQUN4RztBQUNBO0FBQ0Esb0VBQW9FLG1DQUFtQztBQUN2RztBQUNBLHNFQUFzRSxtQkFBbUIsd0RBQXdELHFCQUFxQjtBQUN0SztBQUNBO0FBQ0Esc0VBQXNFLG1CQUFtQjtBQUN6RjtBQUNBO0FBQ0EsMENBQTBDLCtCQUErQixpQ0FBaUMscUJBQXFCO0FBQy9IO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsc0JBQXNCLHFCQUFxQixpQ0FBaUMsSUFBSTtBQUNuRjtBQUNBO0FBQ0EsR0FBRyw2R0FBNkcsNkRBQTZELFlBQVk7QUFDekwsZ0NBQWdDLDBEQUEwRCxPQUFPLHdHQUF3RztBQUN6TTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUNBQWlDLEdBQUcsbUNBQW1DO0FBQzNGO0FBQ0E7QUFDQTtBQUNBLDZGQUE2RixrQkFBa0I7QUFDL0csS0FBSztBQUNMLEdBQUc7QUFDSCw2QkFBNkI7QUFDN0I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGNBQWMsbUJBQW1CO0FBQ2pDLEdBQUc7QUFDSDtBQUNBLGNBQWMsbUJBQW1CO0FBQ2pDLEdBQUc7QUFDSCw2QkFBNkIsc0NBQXNDO0FBQ25FLGNBQWMsK0NBQStDO0FBQzdELEdBQUc7QUFDSCwyQ0FBMkMsbUVBQW1FO0FBQzlHLEdBQUc7QUFDSCw4Q0FBOEMsbUVBQW1FO0FBQ2pILEdBQUc7QUFDSCw4Q0FBOEMsc0NBQXNDO0FBQ3BGLEdBQUcseURBQXlELGdEQUFnRCwyQkFBMkIsaVVBQWlVO0FBQ3hjLG9FQUFvRSxpRkFBaUY7QUFDcko7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLCtDQUErQztBQUNyRix5Q0FBeUMsc0NBQXNDLHdDQUF3QztBQUN2SDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0NBQW9DLEdBQUcsV0FBVztBQUN0RTtBQUNBLGFBQWE7QUFDYixpQkFBaUIsc0NBQXNDLHdDQUF3QztBQUMvRjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIsaUJBQWlCLHNDQUFzQywwQ0FBMEM7QUFDakc7QUFDQSwrSEFBK0gsMEVBQTBFO0FBQ3pNO0FBQ0E7QUFDQSw0Q0FBNEMsc0NBQXNDLEdBQUcsbUZBQW1GLGdDQUFnQyxnQ0FBZ0MsOENBQThDLGVBQWUsS0FBSyxnQ0FBZ0MsOENBQThDLGdCQUFnQixjQUFjLDZJQUE2SSw2QkFBNkIsZ0VBQWdFO0FBQ2hvQixpQkFBaUIseUVBQXlFO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELHVCQUF1QjtBQUN2RTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLHFCQUFxQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isb0NBQW9DO0FBQ3RELGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxrQ0FBa0M7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsb0NBQW9DO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDJDQUEyQztBQUMxRCxlQUFlLDJDQUEyQztBQUMxRCxlQUFlLDBDQUEwQztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMkNBQTJDO0FBQzVELGlCQUFpQiwyQ0FBMkM7QUFDNUQsYUFBYSxzREFBc0Q7QUFDbkUsYUFBYSxzREFBc0Q7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw4QkFBOEI7QUFDM0MsYUFBYSw4QkFBOEI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdEQUFnRDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDZCQUE2QjtBQUMxQyxhQUFhLDJEQUEyRDtBQUN4RSxhQUFhLHdEQUF3RDtBQUNyRSxhQUFhLHVEQUF1RDtBQUNwRSxhQUFhLHNEQUFzRDtBQUNuRTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQjtBQUMxQjtBQUNBLDRDQUE0QztBQUM1Qyw2Q0FBNkM7QUFDN0MsMEVBQTBFO0FBQzFFLDRFQUE0RTtBQUM1RSxLQUFLO0FBQ0wsQ0FBQztBQUNELDJCQUEyQixVQUFVLGtDQUFrQyx3REFBd0Q7QUFDL0g7QUFDQSxVQUFVLHNEQUFzRDtBQUNoRTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRixxQkFBcUIsdUNBQXVDLHFCQUFxQjtBQUNsSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsdUZBQXVGO0FBQzlIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDO0FBQ0QsK0RBQStELHFGQUFxRix3SUFBd0ksR0FBRztBQUMvUjtBQUNBLFVBQVUsbURBQW1EO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsMkJBQTJCLGlFQUFpRTtBQUM1RjtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsMEZBQTBGO0FBQzdKO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLFFBQVE7QUFDUixpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxxQkFBcUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLG1CQUFtQixpQkFBaUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsb0JBQW9CO0FBQ3ZDLDZCQUE2QjtBQUM3QiwyQ0FBMkM7QUFDM0Msa0JBQWtCO0FBQ2xCLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1CQUFtQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsdUJBQXVCLHFCQUFxQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsSUFBSTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxJQUFJO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsSUFBSTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxnQkFBZ0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25ELFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUMsNENBQTRDO0FBQzVDLCtDQUErQywrQ0FBK0MsR0FBRztBQUNqRyxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BzdGFnZXdpc2UvdG9vbGJhci9kaXN0L2luZGV4LmpzPzE4Y2QiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIG4kNCwgbCQ0LCB1JGEsIGkkOCwgciQ1LCBvJDksIGUkNSwgZiQ5LCBjJDcsIHMkOSwgYSRiLCBoJDYsIHAkNCA9IHt9LCB5JDcgPSBbXSwgdiQzID0gL2FjaXR8ZXgoPzpzfGd8bnxwfCQpfHJwaHxncmlkfG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmR8aXRlcmEvaSwgdyQ1ID0gQXJyYXkuaXNBcnJheTtcbmZ1bmN0aW9uIGQkNShuMiwgbDIpIHtcbiAgZm9yICh2YXIgdTIgaW4gbDIpIG4yW3UyXSA9IGwyW3UyXTtcbiAgcmV0dXJuIG4yO1xufVxuZnVuY3Rpb24gZyQ0KG4yKSB7XG4gIG4yICYmIG4yLnBhcmVudE5vZGUgJiYgbjIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuMik7XG59XG5mdW5jdGlvbiBfJDQobDIsIHUyLCB0Mikge1xuICB2YXIgaTIsIHIyLCBvMywgZTIgPSB7fTtcbiAgZm9yIChvMyBpbiB1MikgXCJrZXlcIiA9PSBvMyA/IGkyID0gdTJbbzNdIDogXCJyZWZcIiA9PSBvMyA/IHIyID0gdTJbbzNdIDogZTJbbzNdID0gdTJbbzNdO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgKGUyLmNoaWxkcmVuID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgPyBuJDQuY2FsbChhcmd1bWVudHMsIDIpIDogdDIpLCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGwyICYmIG51bGwgIT0gbDIuZGVmYXVsdFByb3BzKSBmb3IgKG8zIGluIGwyLmRlZmF1bHRQcm9wcykgbnVsbCA9PSBlMltvM10gJiYgKGUyW28zXSA9IGwyLmRlZmF1bHRQcm9wc1tvM10pO1xuICByZXR1cm4gbSQ2KGwyLCBlMiwgaTIsIHIyLCBudWxsKTtcbn1cbmZ1bmN0aW9uIG0kNihuMiwgdDIsIGkyLCByMiwgbzMpIHtcbiAgdmFyIGUyID0geyB0eXBlOiBuMiwgcHJvcHM6IHQyLCBrZXk6IGkyLCByZWY6IHIyLCBfX2s6IG51bGwsIF9fOiBudWxsLCBfX2I6IDAsIF9fZTogbnVsbCwgX19jOiBudWxsLCBjb25zdHJ1Y3Rvcjogdm9pZCAwLCBfX3Y6IG51bGwgPT0gbzMgPyArK3UkYSA6IG8zLCBfX2k6IC0xLCBfX3U6IDAgfTtcbiAgcmV0dXJuIG51bGwgPT0gbzMgJiYgbnVsbCAhPSBsJDQudm5vZGUgJiYgbCQ0LnZub2RlKGUyKSwgZTI7XG59XG5mdW5jdGlvbiBiJDUoKSB7XG4gIHJldHVybiB7IGN1cnJlbnQ6IG51bGwgfTtcbn1cbmZ1bmN0aW9uIGskMyhuMikge1xuICByZXR1cm4gbjIuY2hpbGRyZW47XG59XG5mdW5jdGlvbiB4JDUobjIsIGwyKSB7XG4gIHRoaXMucHJvcHMgPSBuMiwgdGhpcy5jb250ZXh0ID0gbDI7XG59XG5mdW5jdGlvbiBTJDUobjIsIGwyKSB7XG4gIGlmIChudWxsID09IGwyKSByZXR1cm4gbjIuX18gPyBTJDUobjIuX18sIG4yLl9faSArIDEpIDogbnVsbDtcbiAgZm9yICh2YXIgdTI7IGwyIDwgbjIuX19rLmxlbmd0aDsgbDIrKykgaWYgKG51bGwgIT0gKHUyID0gbjIuX19rW2wyXSkgJiYgbnVsbCAhPSB1Mi5fX2UpIHJldHVybiB1Mi5fX2U7XG4gIHJldHVybiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG4yLnR5cGUgPyBTJDUobjIpIDogbnVsbDtcbn1cbmZ1bmN0aW9uIEMkNShuMikge1xuICB2YXIgbDIsIHUyO1xuICBpZiAobnVsbCAhPSAobjIgPSBuMi5fXykgJiYgbnVsbCAhPSBuMi5fX2MpIHtcbiAgICBmb3IgKG4yLl9fZSA9IG4yLl9fYy5iYXNlID0gbnVsbCwgbDIgPSAwOyBsMiA8IG4yLl9fay5sZW5ndGg7IGwyKyspIGlmIChudWxsICE9ICh1MiA9IG4yLl9fa1tsMl0pICYmIG51bGwgIT0gdTIuX19lKSB7XG4gICAgICBuMi5fX2UgPSBuMi5fX2MuYmFzZSA9IHUyLl9fZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gQyQ1KG4yKTtcbiAgfVxufVxuZnVuY3Rpb24gTSQ0KG4yKSB7XG4gICghbjIuX19kICYmIChuMi5fX2QgPSB0cnVlKSAmJiBpJDgucHVzaChuMikgJiYgISQkMi5fX3IrKyB8fCByJDUgIT0gbCQ0LmRlYm91bmNlUmVuZGVyaW5nKSAmJiAoKHIkNSA9IGwkNC5kZWJvdW5jZVJlbmRlcmluZykgfHwgbyQ5KSgkJDIpO1xufVxuZnVuY3Rpb24gJCQyKCkge1xuICBmb3IgKHZhciBuMiwgdTIsIHQyLCByMiwgbzMsIGYyLCBjMiwgczIgPSAxOyBpJDgubGVuZ3RoOyApIGkkOC5sZW5ndGggPiBzMiAmJiBpJDguc29ydChlJDUpLCBuMiA9IGkkOC5zaGlmdCgpLCBzMiA9IGkkOC5sZW5ndGgsIG4yLl9fZCAmJiAodDIgPSB2b2lkIDAsIG8zID0gKHIyID0gKHUyID0gbjIpLl9fdikuX19lLCBmMiA9IFtdLCBjMiA9IFtdLCB1Mi5fX1AgJiYgKCh0MiA9IGQkNSh7fSwgcjIpKS5fX3YgPSByMi5fX3YgKyAxLCBsJDQudm5vZGUgJiYgbCQ0LnZub2RlKHQyKSwgTyQzKHUyLl9fUCwgdDIsIHIyLCB1Mi5fX24sIHUyLl9fUC5uYW1lc3BhY2VVUkksIDMyICYgcjIuX191ID8gW28zXSA6IG51bGwsIGYyLCBudWxsID09IG8zID8gUyQ1KHIyKSA6IG8zLCAhISgzMiAmIHIyLl9fdSksIGMyKSwgdDIuX192ID0gcjIuX192LCB0Mi5fXy5fX2tbdDIuX19pXSA9IHQyLCB6JDMoZjIsIHQyLCBjMiksIHQyLl9fZSAhPSBvMyAmJiBDJDUodDIpKSk7XG4gICQkMi5fX3IgPSAwO1xufVxuZnVuY3Rpb24gSSQ0KG4yLCBsMiwgdTIsIHQyLCBpMiwgcjIsIG8zLCBlMiwgZjIsIGMyLCBzMikge1xuICB2YXIgYTMsIGgyLCB2MiwgdzIsIGQyLCBnMiwgXzIgPSB0MiAmJiB0Mi5fX2sgfHwgeSQ3LCBtMiA9IGwyLmxlbmd0aDtcbiAgZm9yIChmMiA9IFAkNih1MiwgbDIsIF8yLCBmMiwgbTIpLCBhMyA9IDA7IGEzIDwgbTI7IGEzKyspIG51bGwgIT0gKHYyID0gdTIuX19rW2EzXSkgJiYgKGgyID0gLTEgPT0gdjIuX19pID8gcCQ0IDogXzJbdjIuX19pXSB8fCBwJDQsIHYyLl9faSA9IGEzLCBnMiA9IE8kMyhuMiwgdjIsIGgyLCBpMiwgcjIsIG8zLCBlMiwgZjIsIGMyLCBzMiksIHcyID0gdjIuX19lLCB2Mi5yZWYgJiYgaDIucmVmICE9IHYyLnJlZiAmJiAoaDIucmVmICYmIHEkNChoMi5yZWYsIG51bGwsIHYyKSwgczIucHVzaCh2Mi5yZWYsIHYyLl9fYyB8fCB3MiwgdjIpKSwgbnVsbCA9PSBkMiAmJiBudWxsICE9IHcyICYmIChkMiA9IHcyKSwgNCAmIHYyLl9fdSB8fCBoMi5fX2sgPT09IHYyLl9fayA/IGYyID0gQSQ0KHYyLCBmMiwgbjIpIDogXCJmdW5jdGlvblwiID09IHR5cGVvZiB2Mi50eXBlICYmIHZvaWQgMCAhPT0gZzIgPyBmMiA9IGcyIDogdzIgJiYgKGYyID0gdzIubmV4dFNpYmxpbmcpLCB2Mi5fX3UgJj0gLTcpO1xuICByZXR1cm4gdTIuX19lID0gZDIsIGYyO1xufVxuZnVuY3Rpb24gUCQ2KG4yLCBsMiwgdTIsIHQyLCBpMikge1xuICB2YXIgcjIsIG8zLCBlMiwgZjIsIGMyLCBzMiA9IHUyLmxlbmd0aCwgYTMgPSBzMiwgaDIgPSAwO1xuICBmb3IgKG4yLl9fayA9IG5ldyBBcnJheShpMiksIHIyID0gMDsgcjIgPCBpMjsgcjIrKykgbnVsbCAhPSAobzMgPSBsMltyMl0pICYmIFwiYm9vbGVhblwiICE9IHR5cGVvZiBvMyAmJiBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIG8zID8gKGYyID0gcjIgKyBoMiwgKG8zID0gbjIuX19rW3IyXSA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIG8zIHx8IFwibnVtYmVyXCIgPT0gdHlwZW9mIG8zIHx8IFwiYmlnaW50XCIgPT0gdHlwZW9mIG8zIHx8IG8zLmNvbnN0cnVjdG9yID09IFN0cmluZyA/IG0kNihudWxsLCBvMywgbnVsbCwgbnVsbCwgbnVsbCkgOiB3JDUobzMpID8gbSQ2KGskMywgeyBjaGlsZHJlbjogbzMgfSwgbnVsbCwgbnVsbCwgbnVsbCkgOiBudWxsID09IG8zLmNvbnN0cnVjdG9yICYmIG8zLl9fYiA+IDAgPyBtJDYobzMudHlwZSwgbzMucHJvcHMsIG8zLmtleSwgbzMucmVmID8gbzMucmVmIDogbnVsbCwgbzMuX192KSA6IG8zKS5fXyA9IG4yLCBvMy5fX2IgPSBuMi5fX2IgKyAxLCBlMiA9IG51bGwsIC0xICE9IChjMiA9IG8zLl9faSA9IEwkNChvMywgdTIsIGYyLCBhMykpICYmIChhMy0tLCAoZTIgPSB1MltjMl0pICYmIChlMi5fX3UgfD0gMikpLCBudWxsID09IGUyIHx8IG51bGwgPT0gZTIuX192ID8gKC0xID09IGMyICYmIChpMiA+IHMyID8gaDItLSA6IGkyIDwgczIgJiYgaDIrKyksIFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgbzMudHlwZSAmJiAobzMuX191IHw9IDQpKSA6IGMyICE9IGYyICYmIChjMiA9PSBmMiAtIDEgPyBoMi0tIDogYzIgPT0gZjIgKyAxID8gaDIrKyA6IChjMiA+IGYyID8gaDItLSA6IGgyKyssIG8zLl9fdSB8PSA0KSkpIDogbjIuX19rW3IyXSA9IG51bGw7XG4gIGlmIChhMykgZm9yIChyMiA9IDA7IHIyIDwgczI7IHIyKyspIG51bGwgIT0gKGUyID0gdTJbcjJdKSAmJiAwID09ICgyICYgZTIuX191KSAmJiAoZTIuX19lID09IHQyICYmICh0MiA9IFMkNShlMikpLCBCJDMoZTIsIGUyKSk7XG4gIHJldHVybiB0Mjtcbn1cbmZ1bmN0aW9uIEEkNChuMiwgbDIsIHUyKSB7XG4gIHZhciB0MiwgaTI7XG4gIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG4yLnR5cGUpIHtcbiAgICBmb3IgKHQyID0gbjIuX19rLCBpMiA9IDA7IHQyICYmIGkyIDwgdDIubGVuZ3RoOyBpMisrKSB0MltpMl0gJiYgKHQyW2kyXS5fXyA9IG4yLCBsMiA9IEEkNCh0MltpMl0sIGwyLCB1MikpO1xuICAgIHJldHVybiBsMjtcbiAgfVxuICBuMi5fX2UgIT0gbDIgJiYgKGwyICYmIG4yLnR5cGUgJiYgIXUyLmNvbnRhaW5zKGwyKSAmJiAobDIgPSBTJDUobjIpKSwgdTIuaW5zZXJ0QmVmb3JlKG4yLl9fZSwgbDIgfHwgbnVsbCksIGwyID0gbjIuX19lKTtcbiAgZG8ge1xuICAgIGwyID0gbDIgJiYgbDIubmV4dFNpYmxpbmc7XG4gIH0gd2hpbGUgKG51bGwgIT0gbDIgJiYgOCA9PSBsMi5ub2RlVHlwZSk7XG4gIHJldHVybiBsMjtcbn1cbmZ1bmN0aW9uIEgkNihuMiwgbDIpIHtcbiAgcmV0dXJuIGwyID0gbDIgfHwgW10sIG51bGwgPT0gbjIgfHwgXCJib29sZWFuXCIgPT0gdHlwZW9mIG4yIHx8ICh3JDUobjIpID8gbjIuc29tZShmdW5jdGlvbihuMykge1xuICAgIEgkNihuMywgbDIpO1xuICB9KSA6IGwyLnB1c2gobjIpKSwgbDI7XG59XG5mdW5jdGlvbiBMJDQobjIsIGwyLCB1MiwgdDIpIHtcbiAgdmFyIGkyLCByMiwgbzMgPSBuMi5rZXksIGUyID0gbjIudHlwZSwgZjIgPSBsMlt1Ml07XG4gIGlmIChudWxsID09PSBmMiAmJiBudWxsID09IG4yLmtleSB8fCBmMiAmJiBvMyA9PSBmMi5rZXkgJiYgZTIgPT0gZjIudHlwZSAmJiAwID09ICgyICYgZjIuX191KSkgcmV0dXJuIHUyO1xuICBpZiAodDIgPiAobnVsbCAhPSBmMiAmJiAwID09ICgyICYgZjIuX191KSA/IDEgOiAwKSkgZm9yIChpMiA9IHUyIC0gMSwgcjIgPSB1MiArIDE7IGkyID49IDAgfHwgcjIgPCBsMi5sZW5ndGg7ICkge1xuICAgIGlmIChpMiA+PSAwKSB7XG4gICAgICBpZiAoKGYyID0gbDJbaTJdKSAmJiAwID09ICgyICYgZjIuX191KSAmJiBvMyA9PSBmMi5rZXkgJiYgZTIgPT0gZjIudHlwZSkgcmV0dXJuIGkyO1xuICAgICAgaTItLTtcbiAgICB9XG4gICAgaWYgKHIyIDwgbDIubGVuZ3RoKSB7XG4gICAgICBpZiAoKGYyID0gbDJbcjJdKSAmJiAwID09ICgyICYgZjIuX191KSAmJiBvMyA9PSBmMi5rZXkgJiYgZTIgPT0gZjIudHlwZSkgcmV0dXJuIHIyO1xuICAgICAgcjIrKztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuZnVuY3Rpb24gVCQ2KG4yLCBsMiwgdTIpIHtcbiAgXCItXCIgPT0gbDJbMF0gPyBuMi5zZXRQcm9wZXJ0eShsMiwgbnVsbCA9PSB1MiA/IFwiXCIgOiB1MikgOiBuMltsMl0gPSBudWxsID09IHUyID8gXCJcIiA6IFwibnVtYmVyXCIgIT0gdHlwZW9mIHUyIHx8IHYkMy50ZXN0KGwyKSA/IHUyIDogdTIgKyBcInB4XCI7XG59XG5mdW5jdGlvbiBqJDUobjIsIGwyLCB1MiwgdDIsIGkyKSB7XG4gIHZhciByMjtcbiAgbjogaWYgKFwic3R5bGVcIiA9PSBsMikgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHUyKSBuMi5zdHlsZS5jc3NUZXh0ID0gdTI7XG4gIGVsc2Uge1xuICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiB0MiAmJiAobjIuc3R5bGUuY3NzVGV4dCA9IHQyID0gXCJcIiksIHQyKSBmb3IgKGwyIGluIHQyKSB1MiAmJiBsMiBpbiB1MiB8fCBUJDYobjIuc3R5bGUsIGwyLCBcIlwiKTtcbiAgICBpZiAodTIpIGZvciAobDIgaW4gdTIpIHQyICYmIHUyW2wyXSA9PSB0MltsMl0gfHwgVCQ2KG4yLnN0eWxlLCBsMiwgdTJbbDJdKTtcbiAgfVxuICBlbHNlIGlmIChcIm9cIiA9PSBsMlswXSAmJiBcIm5cIiA9PSBsMlsxXSkgcjIgPSBsMiAhPSAobDIgPSBsMi5yZXBsYWNlKGYkOSwgXCIkMVwiKSksIGwyID0gbDIudG9Mb3dlckNhc2UoKSBpbiBuMiB8fCBcIm9uRm9jdXNPdXRcIiA9PSBsMiB8fCBcIm9uRm9jdXNJblwiID09IGwyID8gbDIudG9Mb3dlckNhc2UoKS5zbGljZSgyKSA6IGwyLnNsaWNlKDIpLCBuMi5sIHx8IChuMi5sID0ge30pLCBuMi5sW2wyICsgcjJdID0gdTIsIHUyID8gdDIgPyB1Mi51ID0gdDIudSA6ICh1Mi51ID0gYyQ3LCBuMi5hZGRFdmVudExpc3RlbmVyKGwyLCByMiA/IGEkYiA6IHMkOSwgcjIpKSA6IG4yLnJlbW92ZUV2ZW50TGlzdGVuZXIobDIsIHIyID8gYSRiIDogcyQ5LCByMik7XG4gIGVsc2Uge1xuICAgIGlmIChcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgPT0gaTIpIGwyID0gbDIucmVwbGFjZSgveGxpbmsoSHw6aCkvLCBcImhcIikucmVwbGFjZSgvc05hbWUkLywgXCJzXCIpO1xuICAgIGVsc2UgaWYgKFwid2lkdGhcIiAhPSBsMiAmJiBcImhlaWdodFwiICE9IGwyICYmIFwiaHJlZlwiICE9IGwyICYmIFwibGlzdFwiICE9IGwyICYmIFwiZm9ybVwiICE9IGwyICYmIFwidGFiSW5kZXhcIiAhPSBsMiAmJiBcImRvd25sb2FkXCIgIT0gbDIgJiYgXCJyb3dTcGFuXCIgIT0gbDIgJiYgXCJjb2xTcGFuXCIgIT0gbDIgJiYgXCJyb2xlXCIgIT0gbDIgJiYgXCJwb3BvdmVyXCIgIT0gbDIgJiYgbDIgaW4gbjIpIHRyeSB7XG4gICAgICBuMltsMl0gPSBudWxsID09IHUyID8gXCJcIiA6IHUyO1xuICAgICAgYnJlYWsgbjtcbiAgICB9IGNhdGNoIChuMykge1xuICAgIH1cbiAgICBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHUyIHx8IChudWxsID09IHUyIHx8IGZhbHNlID09PSB1MiAmJiBcIi1cIiAhPSBsMls0XSA/IG4yLnJlbW92ZUF0dHJpYnV0ZShsMikgOiBuMi5zZXRBdHRyaWJ1dGUobDIsIFwicG9wb3ZlclwiID09IGwyICYmIDEgPT0gdTIgPyBcIlwiIDogdTIpKTtcbiAgfVxufVxuZnVuY3Rpb24gRiQ2KG4yKSB7XG4gIHJldHVybiBmdW5jdGlvbih1Mikge1xuICAgIGlmICh0aGlzLmwpIHtcbiAgICAgIHZhciB0MiA9IHRoaXMubFt1Mi50eXBlICsgbjJdO1xuICAgICAgaWYgKG51bGwgPT0gdTIudCkgdTIudCA9IGMkNysrO1xuICAgICAgZWxzZSBpZiAodTIudCA8IHQyLnUpIHJldHVybjtcbiAgICAgIHJldHVybiB0MihsJDQuZXZlbnQgPyBsJDQuZXZlbnQodTIpIDogdTIpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIE8kMyhuMiwgdTIsIHQyLCBpMiwgcjIsIG8zLCBlMiwgZjIsIGMyLCBzMikge1xuICB2YXIgYTMsIGgyLCBwMiwgeTIsIHYyLCBfMiwgbTIsIGIyLCBTMiwgQzIsIE0yLCAkMiwgUDIsIEEyLCBIMiwgTDIsIFQyLCBqMiA9IHUyLnR5cGU7XG4gIGlmIChudWxsICE9IHUyLmNvbnN0cnVjdG9yKSByZXR1cm4gbnVsbDtcbiAgMTI4ICYgdDIuX191ICYmIChjMiA9ICEhKDMyICYgdDIuX191KSwgbzMgPSBbZjIgPSB1Mi5fX2UgPSB0Mi5fX2VdKSwgKGEzID0gbCQ0Ll9fYikgJiYgYTModTIpO1xuICBuOiBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBqMikgdHJ5IHtcbiAgICBpZiAoYjIgPSB1Mi5wcm9wcywgUzIgPSBcInByb3RvdHlwZVwiIGluIGoyICYmIGoyLnByb3RvdHlwZS5yZW5kZXIsIEMyID0gKGEzID0gajIuY29udGV4dFR5cGUpICYmIGkyW2EzLl9fY10sIE0yID0gYTMgPyBDMiA/IEMyLnByb3BzLnZhbHVlIDogYTMuX18gOiBpMiwgdDIuX19jID8gbTIgPSAoaDIgPSB1Mi5fX2MgPSB0Mi5fX2MpLl9fID0gaDIuX19FIDogKFMyID8gdTIuX19jID0gaDIgPSBuZXcgajIoYjIsIE0yKSA6ICh1Mi5fX2MgPSBoMiA9IG5ldyB4JDUoYjIsIE0yKSwgaDIuY29uc3RydWN0b3IgPSBqMiwgaDIucmVuZGVyID0gRCQzKSwgQzIgJiYgQzIuc3ViKGgyKSwgaDIucHJvcHMgPSBiMiwgaDIuc3RhdGUgfHwgKGgyLnN0YXRlID0ge30pLCBoMi5jb250ZXh0ID0gTTIsIGgyLl9fbiA9IGkyLCBwMiA9IGgyLl9fZCA9IHRydWUsIGgyLl9faCA9IFtdLCBoMi5fc2IgPSBbXSksIFMyICYmIG51bGwgPT0gaDIuX19zICYmIChoMi5fX3MgPSBoMi5zdGF0ZSksIFMyICYmIG51bGwgIT0gajIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICYmIChoMi5fX3MgPT0gaDIuc3RhdGUgJiYgKGgyLl9fcyA9IGQkNSh7fSwgaDIuX19zKSksIGQkNShoMi5fX3MsIGoyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhiMiwgaDIuX19zKSkpLCB5MiA9IGgyLnByb3BzLCB2MiA9IGgyLnN0YXRlLCBoMi5fX3YgPSB1MiwgcDIpIFMyICYmIG51bGwgPT0gajIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICYmIG51bGwgIT0gaDIuY29tcG9uZW50V2lsbE1vdW50ICYmIGgyLmNvbXBvbmVudFdpbGxNb3VudCgpLCBTMiAmJiBudWxsICE9IGgyLmNvbXBvbmVudERpZE1vdW50ICYmIGgyLl9faC5wdXNoKGgyLmNvbXBvbmVudERpZE1vdW50KTtcbiAgICBlbHNlIHtcbiAgICAgIGlmIChTMiAmJiBudWxsID09IGoyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAmJiBiMiAhPT0geTIgJiYgbnVsbCAhPSBoMi5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICYmIGgyLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoYjIsIE0yKSwgIWgyLl9fZSAmJiBudWxsICE9IGgyLnNob3VsZENvbXBvbmVudFVwZGF0ZSAmJiBmYWxzZSA9PT0gaDIuc2hvdWxkQ29tcG9uZW50VXBkYXRlKGIyLCBoMi5fX3MsIE0yKSB8fCB1Mi5fX3YgPT0gdDIuX192KSB7XG4gICAgICAgIGZvciAodTIuX192ICE9IHQyLl9fdiAmJiAoaDIucHJvcHMgPSBiMiwgaDIuc3RhdGUgPSBoMi5fX3MsIGgyLl9fZCA9IGZhbHNlKSwgdTIuX19lID0gdDIuX19lLCB1Mi5fX2sgPSB0Mi5fX2ssIHUyLl9fay5zb21lKGZ1bmN0aW9uKG4zKSB7XG4gICAgICAgICAgbjMgJiYgKG4zLl9fID0gdTIpO1xuICAgICAgICB9KSwgJDIgPSAwOyAkMiA8IGgyLl9zYi5sZW5ndGg7ICQyKyspIGgyLl9faC5wdXNoKGgyLl9zYlskMl0pO1xuICAgICAgICBoMi5fc2IgPSBbXSwgaDIuX19oLmxlbmd0aCAmJiBlMi5wdXNoKGgyKTtcbiAgICAgICAgYnJlYWsgbjtcbiAgICAgIH1cbiAgICAgIG51bGwgIT0gaDIuY29tcG9uZW50V2lsbFVwZGF0ZSAmJiBoMi5jb21wb25lbnRXaWxsVXBkYXRlKGIyLCBoMi5fX3MsIE0yKSwgUzIgJiYgbnVsbCAhPSBoMi5jb21wb25lbnREaWRVcGRhdGUgJiYgaDIuX19oLnB1c2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGgyLmNvbXBvbmVudERpZFVwZGF0ZSh5MiwgdjIsIF8yKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaDIuY29udGV4dCA9IE0yLCBoMi5wcm9wcyA9IGIyLCBoMi5fX1AgPSBuMiwgaDIuX19lID0gZmFsc2UsIFAyID0gbCQ0Ll9fciwgQTIgPSAwLCBTMikge1xuICAgICAgZm9yIChoMi5zdGF0ZSA9IGgyLl9fcywgaDIuX19kID0gZmFsc2UsIFAyICYmIFAyKHUyKSwgYTMgPSBoMi5yZW5kZXIoaDIucHJvcHMsIGgyLnN0YXRlLCBoMi5jb250ZXh0KSwgSDIgPSAwOyBIMiA8IGgyLl9zYi5sZW5ndGg7IEgyKyspIGgyLl9faC5wdXNoKGgyLl9zYltIMl0pO1xuICAgICAgaDIuX3NiID0gW107XG4gICAgfSBlbHNlIGRvIHtcbiAgICAgIGgyLl9fZCA9IGZhbHNlLCBQMiAmJiBQMih1MiksIGEzID0gaDIucmVuZGVyKGgyLnByb3BzLCBoMi5zdGF0ZSwgaDIuY29udGV4dCksIGgyLnN0YXRlID0gaDIuX19zO1xuICAgIH0gd2hpbGUgKGgyLl9fZCAmJiArK0EyIDwgMjUpO1xuICAgIGgyLnN0YXRlID0gaDIuX19zLCBudWxsICE9IGgyLmdldENoaWxkQ29udGV4dCAmJiAoaTIgPSBkJDUoZCQ1KHt9LCBpMiksIGgyLmdldENoaWxkQ29udGV4dCgpKSksIFMyICYmICFwMiAmJiBudWxsICE9IGgyLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlICYmIChfMiA9IGgyLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKHkyLCB2MikpLCBMMiA9IGEzLCBudWxsICE9IGEzICYmIGEzLnR5cGUgPT09IGskMyAmJiBudWxsID09IGEzLmtleSAmJiAoTDIgPSBOJDIoYTMucHJvcHMuY2hpbGRyZW4pKSwgZjIgPSBJJDQobjIsIHckNShMMikgPyBMMiA6IFtMMl0sIHUyLCB0MiwgaTIsIHIyLCBvMywgZTIsIGYyLCBjMiwgczIpLCBoMi5iYXNlID0gdTIuX19lLCB1Mi5fX3UgJj0gLTE2MSwgaDIuX19oLmxlbmd0aCAmJiBlMi5wdXNoKGgyKSwgbTIgJiYgKGgyLl9fRSA9IGgyLl9fID0gbnVsbCk7XG4gIH0gY2F0Y2ggKG4zKSB7XG4gICAgaWYgKHUyLl9fdiA9IG51bGwsIGMyIHx8IG51bGwgIT0gbzMpIGlmIChuMy50aGVuKSB7XG4gICAgICBmb3IgKHUyLl9fdSB8PSBjMiA/IDE2MCA6IDEyODsgZjIgJiYgOCA9PSBmMi5ub2RlVHlwZSAmJiBmMi5uZXh0U2libGluZzsgKSBmMiA9IGYyLm5leHRTaWJsaW5nO1xuICAgICAgbzNbbzMuaW5kZXhPZihmMildID0gbnVsbCwgdTIuX19lID0gZjI7XG4gICAgfSBlbHNlIGZvciAoVDIgPSBvMy5sZW5ndGg7IFQyLS07ICkgZyQ0KG8zW1QyXSk7XG4gICAgZWxzZSB1Mi5fX2UgPSB0Mi5fX2UsIHUyLl9fayA9IHQyLl9faztcbiAgICBsJDQuX19lKG4zLCB1MiwgdDIpO1xuICB9XG4gIGVsc2UgbnVsbCA9PSBvMyAmJiB1Mi5fX3YgPT0gdDIuX192ID8gKHUyLl9fayA9IHQyLl9faywgdTIuX19lID0gdDIuX19lKSA6IGYyID0gdTIuX19lID0gViQyKHQyLl9fZSwgdTIsIHQyLCBpMiwgcjIsIG8zLCBlMiwgYzIsIHMyKTtcbiAgcmV0dXJuIChhMyA9IGwkNC5kaWZmZWQpICYmIGEzKHUyKSwgMTI4ICYgdTIuX191ID8gdm9pZCAwIDogZjI7XG59XG5mdW5jdGlvbiB6JDMobjIsIHUyLCB0Mikge1xuICBmb3IgKHZhciBpMiA9IDA7IGkyIDwgdDIubGVuZ3RoOyBpMisrKSBxJDQodDJbaTJdLCB0MlsrK2kyXSwgdDJbKytpMl0pO1xuICBsJDQuX19jICYmIGwkNC5fX2ModTIsIG4yKSwgbjIuc29tZShmdW5jdGlvbih1Mykge1xuICAgIHRyeSB7XG4gICAgICBuMiA9IHUzLl9faCwgdTMuX19oID0gW10sIG4yLnNvbWUoZnVuY3Rpb24objMpIHtcbiAgICAgICAgbjMuY2FsbCh1Myk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChuMykge1xuICAgICAgbCQ0Ll9fZShuMywgdTMuX192KTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gTiQyKG4yKSB7XG4gIHJldHVybiBcIm9iamVjdFwiICE9IHR5cGVvZiBuMiB8fCBudWxsID09IG4yIHx8IG4yLl9fYiAmJiBuMi5fX2IgPiAwID8gbjIgOiB3JDUobjIpID8gbjIubWFwKE4kMikgOiBkJDUoe30sIG4yKTtcbn1cbmZ1bmN0aW9uIFYkMih1MiwgdDIsIGkyLCByMiwgbzMsIGUyLCBmMiwgYzIsIHMyKSB7XG4gIHZhciBhMywgaDIsIHkyLCB2MiwgZDIsIF8yLCBtMiwgYjIgPSBpMi5wcm9wcywgazIgPSB0Mi5wcm9wcywgeDIgPSB0Mi50eXBlO1xuICBpZiAoXCJzdmdcIiA9PSB4MiA/IG8zID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIDogXCJtYXRoXCIgPT0geDIgPyBvMyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiIDogbzMgfHwgKG8zID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIpLCBudWxsICE9IGUyKSB7XG4gICAgZm9yIChhMyA9IDA7IGEzIDwgZTIubGVuZ3RoOyBhMysrKSBpZiAoKGQyID0gZTJbYTNdKSAmJiBcInNldEF0dHJpYnV0ZVwiIGluIGQyID09ICEheDIgJiYgKHgyID8gZDIubG9jYWxOYW1lID09IHgyIDogMyA9PSBkMi5ub2RlVHlwZSkpIHtcbiAgICAgIHUyID0gZDIsIGUyW2EzXSA9IG51bGw7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgaWYgKG51bGwgPT0gdTIpIHtcbiAgICBpZiAobnVsbCA9PSB4MikgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGsyKTtcbiAgICB1MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhvMywgeDIsIGsyLmlzICYmIGsyKSwgYzIgJiYgKGwkNC5fX20gJiYgbCQ0Ll9fbSh0MiwgZTIpLCBjMiA9IGZhbHNlKSwgZTIgPSBudWxsO1xuICB9XG4gIGlmIChudWxsID09IHgyKSBiMiA9PT0gazIgfHwgYzIgJiYgdTIuZGF0YSA9PSBrMiB8fCAodTIuZGF0YSA9IGsyKTtcbiAgZWxzZSB7XG4gICAgaWYgKGUyID0gZTIgJiYgbiQ0LmNhbGwodTIuY2hpbGROb2RlcyksIGIyID0gaTIucHJvcHMgfHwgcCQ0LCAhYzIgJiYgbnVsbCAhPSBlMikgZm9yIChiMiA9IHt9LCBhMyA9IDA7IGEzIDwgdTIuYXR0cmlidXRlcy5sZW5ndGg7IGEzKyspIGIyWyhkMiA9IHUyLmF0dHJpYnV0ZXNbYTNdKS5uYW1lXSA9IGQyLnZhbHVlO1xuICAgIGZvciAoYTMgaW4gYjIpIGlmIChkMiA9IGIyW2EzXSwgXCJjaGlsZHJlblwiID09IGEzKSA7XG4gICAgZWxzZSBpZiAoXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiID09IGEzKSB5MiA9IGQyO1xuICAgIGVsc2UgaWYgKCEoYTMgaW4gazIpKSB7XG4gICAgICBpZiAoXCJ2YWx1ZVwiID09IGEzICYmIFwiZGVmYXVsdFZhbHVlXCIgaW4gazIgfHwgXCJjaGVja2VkXCIgPT0gYTMgJiYgXCJkZWZhdWx0Q2hlY2tlZFwiIGluIGsyKSBjb250aW51ZTtcbiAgICAgIGokNSh1MiwgYTMsIG51bGwsIGQyLCBvMyk7XG4gICAgfVxuICAgIGZvciAoYTMgaW4gazIpIGQyID0gazJbYTNdLCBcImNoaWxkcmVuXCIgPT0gYTMgPyB2MiA9IGQyIDogXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiID09IGEzID8gaDIgPSBkMiA6IFwidmFsdWVcIiA9PSBhMyA/IF8yID0gZDIgOiBcImNoZWNrZWRcIiA9PSBhMyA/IG0yID0gZDIgOiBjMiAmJiBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGQyIHx8IGIyW2EzXSA9PT0gZDIgfHwgaiQ1KHUyLCBhMywgZDIsIGIyW2EzXSwgbzMpO1xuICAgIGlmIChoMikgYzIgfHwgeTIgJiYgKGgyLl9faHRtbCA9PSB5Mi5fX2h0bWwgfHwgaDIuX19odG1sID09IHUyLmlubmVySFRNTCkgfHwgKHUyLmlubmVySFRNTCA9IGgyLl9faHRtbCksIHQyLl9fayA9IFtdO1xuICAgIGVsc2UgaWYgKHkyICYmICh1Mi5pbm5lckhUTUwgPSBcIlwiKSwgSSQ0KFwidGVtcGxhdGVcIiA9PSB0Mi50eXBlID8gdTIuY29udGVudCA6IHUyLCB3JDUodjIpID8gdjIgOiBbdjJdLCB0MiwgaTIsIHIyLCBcImZvcmVpZ25PYmplY3RcIiA9PSB4MiA/IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiIDogbzMsIGUyLCBmMiwgZTIgPyBlMlswXSA6IGkyLl9fayAmJiBTJDUoaTIsIDApLCBjMiwgczIpLCBudWxsICE9IGUyKSBmb3IgKGEzID0gZTIubGVuZ3RoOyBhMy0tOyApIGckNChlMlthM10pO1xuICAgIGMyIHx8IChhMyA9IFwidmFsdWVcIiwgXCJwcm9ncmVzc1wiID09IHgyICYmIG51bGwgPT0gXzIgPyB1Mi5yZW1vdmVBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSA6IG51bGwgIT0gXzIgJiYgKF8yICE9PSB1MlthM10gfHwgXCJwcm9ncmVzc1wiID09IHgyICYmICFfMiB8fCBcIm9wdGlvblwiID09IHgyICYmIF8yICE9IGIyW2EzXSkgJiYgaiQ1KHUyLCBhMywgXzIsIGIyW2EzXSwgbzMpLCBhMyA9IFwiY2hlY2tlZFwiLCBudWxsICE9IG0yICYmIG0yICE9IHUyW2EzXSAmJiBqJDUodTIsIGEzLCBtMiwgYjJbYTNdLCBvMykpO1xuICB9XG4gIHJldHVybiB1Mjtcbn1cbmZ1bmN0aW9uIHEkNChuMiwgdTIsIHQyKSB7XG4gIHRyeSB7XG4gICAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgbjIpIHtcbiAgICAgIHZhciBpMiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgbjIuX191O1xuICAgICAgaTIgJiYgbjIuX191KCksIGkyICYmIG51bGwgPT0gdTIgfHwgKG4yLl9fdSA9IG4yKHUyKSk7XG4gICAgfSBlbHNlIG4yLmN1cnJlbnQgPSB1MjtcbiAgfSBjYXRjaCAobjMpIHtcbiAgICBsJDQuX19lKG4zLCB0Mik7XG4gIH1cbn1cbmZ1bmN0aW9uIEIkMyhuMiwgdTIsIHQyKSB7XG4gIHZhciBpMiwgcjI7XG4gIGlmIChsJDQudW5tb3VudCAmJiBsJDQudW5tb3VudChuMiksIChpMiA9IG4yLnJlZikgJiYgKGkyLmN1cnJlbnQgJiYgaTIuY3VycmVudCAhPSBuMi5fX2UgfHwgcSQ0KGkyLCBudWxsLCB1MikpLCBudWxsICE9IChpMiA9IG4yLl9fYykpIHtcbiAgICBpZiAoaTIuY29tcG9uZW50V2lsbFVubW91bnQpIHRyeSB7XG4gICAgICBpMi5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xuICAgIH0gY2F0Y2ggKG4zKSB7XG4gICAgICBsJDQuX19lKG4zLCB1Mik7XG4gICAgfVxuICAgIGkyLmJhc2UgPSBpMi5fX1AgPSBudWxsO1xuICB9XG4gIGlmIChpMiA9IG4yLl9faykgZm9yIChyMiA9IDA7IHIyIDwgaTIubGVuZ3RoOyByMisrKSBpMltyMl0gJiYgQiQzKGkyW3IyXSwgdTIsIHQyIHx8IFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgbjIudHlwZSk7XG4gIHQyIHx8IGckNChuMi5fX2UpLCBuMi5fX2MgPSBuMi5fXyA9IG4yLl9fZSA9IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIEQkMyhuMiwgbDIsIHUyKSB7XG4gIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKG4yLCB1Mik7XG59XG5mdW5jdGlvbiBFJDModTIsIHQyLCBpMikge1xuICB2YXIgcjIsIG8zLCBlMiwgZjI7XG4gIHQyID09IGRvY3VtZW50ICYmICh0MiA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCksIGwkNC5fXyAmJiBsJDQuX18odTIsIHQyKSwgbzMgPSAocjIgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGkyKSA/IG51bGwgOiBpMiAmJiBpMi5fX2sgfHwgdDIuX19rLCBlMiA9IFtdLCBmMiA9IFtdLCBPJDModDIsIHUyID0gKCFyMiAmJiBpMiB8fCB0MikuX19rID0gXyQ0KGskMywgbnVsbCwgW3UyXSksIG8zIHx8IHAkNCwgcCQ0LCB0Mi5uYW1lc3BhY2VVUkksICFyMiAmJiBpMiA/IFtpMl0gOiBvMyA/IG51bGwgOiB0Mi5maXJzdENoaWxkID8gbiQ0LmNhbGwodDIuY2hpbGROb2RlcykgOiBudWxsLCBlMiwgIXIyICYmIGkyID8gaTIgOiBvMyA/IG8zLl9fZSA6IHQyLmZpcnN0Q2hpbGQsIHIyLCBmMiksIHokMyhlMiwgdTIsIGYyKTtcbn1cbmZ1bmN0aW9uIEckMyhuMiwgbDIpIHtcbiAgRSQzKG4yLCBsMiwgRyQzKTtcbn1cbmZ1bmN0aW9uIEokNChsMiwgdTIsIHQyKSB7XG4gIHZhciBpMiwgcjIsIG8zLCBlMiwgZjIgPSBkJDUoe30sIGwyLnByb3BzKTtcbiAgZm9yIChvMyBpbiBsMi50eXBlICYmIGwyLnR5cGUuZGVmYXVsdFByb3BzICYmIChlMiA9IGwyLnR5cGUuZGVmYXVsdFByb3BzKSwgdTIpIFwia2V5XCIgPT0gbzMgPyBpMiA9IHUyW28zXSA6IFwicmVmXCIgPT0gbzMgPyByMiA9IHUyW28zXSA6IGYyW28zXSA9IG51bGwgPT0gdTJbbzNdICYmIG51bGwgIT0gZTIgPyBlMltvM10gOiB1MltvM107XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiAoZjIuY2hpbGRyZW4gPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IG4kNC5jYWxsKGFyZ3VtZW50cywgMikgOiB0MiksIG0kNihsMi50eXBlLCBmMiwgaTIgfHwgbDIua2V5LCByMiB8fCBsMi5yZWYsIG51bGwpO1xufVxuZnVuY3Rpb24gSyQzKG4yKSB7XG4gIGZ1bmN0aW9uIGwyKG4zKSB7XG4gICAgdmFyIHUyLCB0MjtcbiAgICByZXR1cm4gdGhpcy5nZXRDaGlsZENvbnRleHQgfHwgKHUyID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSwgKHQyID0ge30pW2wyLl9fY10gPSB0aGlzLCB0aGlzLmdldENoaWxkQ29udGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHQyO1xuICAgIH0sIHRoaXMuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHUyID0gbnVsbDtcbiAgICB9LCB0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uKG40KSB7XG4gICAgICB0aGlzLnByb3BzLnZhbHVlICE9IG40LnZhbHVlICYmIHUyLmZvckVhY2goZnVuY3Rpb24objUpIHtcbiAgICAgICAgbjUuX19lID0gdHJ1ZSwgTSQ0KG41KTtcbiAgICAgIH0pO1xuICAgIH0sIHRoaXMuc3ViID0gZnVuY3Rpb24objQpIHtcbiAgICAgIHUyLmFkZChuNCk7XG4gICAgICB2YXIgbDMgPSBuNC5jb21wb25lbnRXaWxsVW5tb3VudDtcbiAgICAgIG40LmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHUyICYmIHUyLmRlbGV0ZShuNCksIGwzICYmIGwzLmNhbGwobjQpO1xuICAgICAgfTtcbiAgICB9KSwgbjMuY2hpbGRyZW47XG4gIH1cbiAgcmV0dXJuIGwyLl9fYyA9IFwiX19jQ1wiICsgaCQ2KyssIGwyLl9fID0gbjIsIGwyLlByb3ZpZGVyID0gbDIuX19sID0gKGwyLkNvbnN1bWVyID0gZnVuY3Rpb24objMsIGwzKSB7XG4gICAgcmV0dXJuIG4zLmNoaWxkcmVuKGwzKTtcbiAgfSkuY29udGV4dFR5cGUgPSBsMiwgbDI7XG59XG5uJDQgPSB5JDcuc2xpY2UsIGwkNCA9IHsgX19lOiBmdW5jdGlvbihuMiwgbDIsIHUyLCB0Mikge1xuICBmb3IgKHZhciBpMiwgcjIsIG8zOyBsMiA9IGwyLl9fOyApIGlmICgoaTIgPSBsMi5fX2MpICYmICFpMi5fXykgdHJ5IHtcbiAgICBpZiAoKHIyID0gaTIuY29uc3RydWN0b3IpICYmIG51bGwgIT0gcjIuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yICYmIChpMi5zZXRTdGF0ZShyMi5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IobjIpKSwgbzMgPSBpMi5fX2QpLCBudWxsICE9IGkyLmNvbXBvbmVudERpZENhdGNoICYmIChpMi5jb21wb25lbnREaWRDYXRjaChuMiwgdDIgfHwge30pLCBvMyA9IGkyLl9fZCksIG8zKSByZXR1cm4gaTIuX19FID0gaTI7XG4gIH0gY2F0Y2ggKGwzKSB7XG4gICAgbjIgPSBsMztcbiAgfVxuICB0aHJvdyBuMjtcbn0gfSwgdSRhID0gMCwgeCQ1LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uKG4yLCBsMikge1xuICB2YXIgdTI7XG4gIHUyID0gbnVsbCAhPSB0aGlzLl9fcyAmJiB0aGlzLl9fcyAhPSB0aGlzLnN0YXRlID8gdGhpcy5fX3MgOiB0aGlzLl9fcyA9IGQkNSh7fSwgdGhpcy5zdGF0ZSksIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgbjIgJiYgKG4yID0gbjIoZCQ1KHt9LCB1MiksIHRoaXMucHJvcHMpKSwgbjIgJiYgZCQ1KHUyLCBuMiksIG51bGwgIT0gbjIgJiYgdGhpcy5fX3YgJiYgKGwyICYmIHRoaXMuX3NiLnB1c2gobDIpLCBNJDQodGhpcykpO1xufSwgeCQ1LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uKG4yKSB7XG4gIHRoaXMuX192ICYmICh0aGlzLl9fZSA9IHRydWUsIG4yICYmIHRoaXMuX19oLnB1c2gobjIpLCBNJDQodGhpcykpO1xufSwgeCQ1LnByb3RvdHlwZS5yZW5kZXIgPSBrJDMsIGkkOCA9IFtdLCBvJDkgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFByb21pc2UgPyBQcm9taXNlLnByb3RvdHlwZS50aGVuLmJpbmQoUHJvbWlzZS5yZXNvbHZlKCkpIDogc2V0VGltZW91dCwgZSQ1ID0gZnVuY3Rpb24objIsIGwyKSB7XG4gIHJldHVybiBuMi5fX3YuX19iIC0gbDIuX192Ll9fYjtcbn0sICQkMi5fX3IgPSAwLCBmJDkgPSAvKFBvaW50ZXJDYXB0dXJlKSR8Q2FwdHVyZSQvaSwgYyQ3ID0gMCwgcyQ5ID0gRiQ2KGZhbHNlKSwgYSRiID0gRiQ2KHRydWUpLCBoJDYgPSAwO1xuY29uc3QgYXBwU3R5bGUgPSAnLyohIHRhaWx3aW5kY3NzIHY0LjEuNSB8IE1JVCBMaWNlbnNlIHwgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20gKi9cXG5AbGF5ZXIgcHJvcGVydGllc3tAc3VwcG9ydHMgKCgtd2Via2l0LWh5cGhlbnM6bm9uZSkgYW5kIChub3QgKG1hcmdpbi10cmltOmlubGluZSkpKSBvciAoKC1tb3otb3JpZW50OmlubGluZSkgYW5kIChub3QgKGNvbG9yOnJnYihmcm9tIHJlZCByIGcgYikpKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgKixzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6YmVmb3JlLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDphZnRlcixzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6OmJhY2tkcm9wey0tdHctcm90YXRlLXg6aW5pdGlhbDstLXR3LXJvdGF0ZS15OmluaXRpYWw7LS10dy1yb3RhdGUtejppbml0aWFsOy0tdHctc2tldy14OmluaXRpYWw7LS10dy1za2V3LXk6aW5pdGlhbDstLXR3LWJvcmRlci1zdHlsZTpzb2xpZDstLXR3LWdyYWRpZW50LXBvc2l0aW9uOmluaXRpYWw7LS10dy1ncmFkaWVudC1mcm9tOiMwMDAwOy0tdHctZ3JhZGllbnQtdmlhOiMwMDAwOy0tdHctZ3JhZGllbnQtdG86IzAwMDA7LS10dy1ncmFkaWVudC1zdG9wczppbml0aWFsOy0tdHctZ3JhZGllbnQtdmlhLXN0b3BzOmluaXRpYWw7LS10dy1ncmFkaWVudC1mcm9tLXBvc2l0aW9uOjAlOy0tdHctZ3JhZGllbnQtdmlhLXBvc2l0aW9uOjUwJTstLXR3LWdyYWRpZW50LXRvLXBvc2l0aW9uOjEwMCU7LS10dy1mb250LXdlaWdodDppbml0aWFsOy0tdHctc2hhZG93OjAgMCAjMDAwMDstLXR3LXNoYWRvdy1jb2xvcjppbml0aWFsOy0tdHctc2hhZG93LWFscGhhOjEwMCU7LS10dy1pbnNldC1zaGFkb3c6MCAwICMwMDAwOy0tdHctaW5zZXQtc2hhZG93LWNvbG9yOmluaXRpYWw7LS10dy1pbnNldC1zaGFkb3ctYWxwaGE6MTAwJTstLXR3LXJpbmctY29sb3I6aW5pdGlhbDstLXR3LXJpbmctc2hhZG93OjAgMCAjMDAwMDstLXR3LWluc2V0LXJpbmctY29sb3I6aW5pdGlhbDstLXR3LWluc2V0LXJpbmctc2hhZG93OjAgMCAjMDAwMDstLXR3LXJpbmctaW5zZXQ6aW5pdGlhbDstLXR3LXJpbmctb2Zmc2V0LXdpZHRoOjBweDstLXR3LXJpbmctb2Zmc2V0LWNvbG9yOiNmZmY7LS10dy1yaW5nLW9mZnNldC1zaGFkb3c6MCAwICMwMDAwOy0tdHctYmx1cjppbml0aWFsOy0tdHctYnJpZ2h0bmVzczppbml0aWFsOy0tdHctY29udHJhc3Q6aW5pdGlhbDstLXR3LWdyYXlzY2FsZTppbml0aWFsOy0tdHctaHVlLXJvdGF0ZTppbml0aWFsOy0tdHctaW52ZXJ0OmluaXRpYWw7LS10dy1vcGFjaXR5OmluaXRpYWw7LS10dy1zYXR1cmF0ZTppbml0aWFsOy0tdHctc2VwaWE6aW5pdGlhbDstLXR3LWRyb3Atc2hhZG93OmluaXRpYWw7LS10dy1kcm9wLXNoYWRvdy1jb2xvcjppbml0aWFsOy0tdHctZHJvcC1zaGFkb3ctYWxwaGE6MTAwJTstLXR3LWRyb3Atc2hhZG93LXNpemU6aW5pdGlhbDstLXR3LWJhY2tkcm9wLWJsdXI6aW5pdGlhbDstLXR3LWJhY2tkcm9wLWJyaWdodG5lc3M6aW5pdGlhbDstLXR3LWJhY2tkcm9wLWNvbnRyYXN0OmluaXRpYWw7LS10dy1iYWNrZHJvcC1ncmF5c2NhbGU6aW5pdGlhbDstLXR3LWJhY2tkcm9wLWh1ZS1yb3RhdGU6aW5pdGlhbDstLXR3LWJhY2tkcm9wLWludmVydDppbml0aWFsOy0tdHctYmFja2Ryb3Atb3BhY2l0eTppbml0aWFsOy0tdHctYmFja2Ryb3Atc2F0dXJhdGU6aW5pdGlhbDstLXR3LWJhY2tkcm9wLXNlcGlhOmluaXRpYWw7LS10dy1kdXJhdGlvbjppbml0aWFsfX19QGxheWVyIHRoZW1le3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yey0tZm9udC1zYW5zOnVpLXNhbnMtc2VyaWYsc3lzdGVtLXVpLHNhbnMtc2VyaWYsXCJBcHBsZSBDb2xvciBFbW9qaVwiLFwiU2Vnb2UgVUkgRW1vamlcIixcIlNlZ29lIFVJIFN5bWJvbFwiLFwiTm90byBDb2xvciBFbW9qaVwiOy0tZm9udC1tb25vOnVpLW1vbm9zcGFjZSxTRk1vbm8tUmVndWxhcixNZW5sbyxNb25hY28sQ29uc29sYXMsXCJMaWJlcmF0aW9uIE1vbm9cIixcIkNvdXJpZXIgTmV3XCIsbW9ub3NwYWNlOy0tY29sb3ItcmVkLTYwMDpva2xjaCg1Ny43JSAuMjQ1IDI3LjMyNSk7LS1jb2xvci1ncmVlbi02MDA6b2tsY2goNjIuNyUgLjE5NCAxNDkuMjE0KTstLWNvbG9yLXRlYWwtNTAwOm9rbGNoKDcwLjQlIC4xNCAxODIuNTAzKTstLWNvbG9yLWJsdWUtNTAwOm9rbGNoKDYyLjMlIC4yMTQgMjU5LjgxNSk7LS1jb2xvci1ibHVlLTYwMDpva2xjaCg1NC42JSAuMjQ1IDI2Mi44ODEpOy0tY29sb3ItaW5kaWdvLTcwMDpva2xjaCg0NS43JSAuMjQgMjc3LjAyMyk7LS1jb2xvci1pbmRpZ28tOTUwOm9rbGNoKDI1LjclIC4wOSAyODEuMjg4KTstLWNvbG9yLXJvc2UtNjAwOm9rbGNoKDU4LjYlIC4yNTMgMTcuNTg1KTstLWNvbG9yLXppbmMtNTA6b2tsY2goOTguNSUgMCAwKTstLWNvbG9yLXppbmMtMTAwOm9rbGNoKDk2LjclIC4wMDEgMjg2LjM3NSk7LS1jb2xvci16aW5jLTUwMDpva2xjaCg1NS4yJSAuMDE2IDI4NS45MzgpOy0tY29sb3ItemluYy02MDA6b2tsY2goNDQuMiUgLjAxNyAyODUuNzg2KTstLWNvbG9yLXppbmMtNzAwOm9rbGNoKDM3JSAuMDEzIDI4NS44MDUpOy0tY29sb3ItemluYy05MDA6b2tsY2goMjElIC4wMDYgMjg1Ljg4NSk7LS1jb2xvci16aW5jLTk1MDpva2xjaCgxNC4xJSAuMDA1IDI4NS44MjMpOy0tY29sb3ItYmxhY2s6IzAwMDstLWNvbG9yLXdoaXRlOiNmZmY7LS1zcGFjaW5nOi4yNXJlbTstLWNvbnRhaW5lci1zbToyNHJlbTstLXRleHQteHM6Ljc1cmVtOy0tdGV4dC14cy0tbGluZS1oZWlnaHQ6Y2FsYygxLy43NSk7LS10ZXh0LXNtOi44NzVyZW07LS10ZXh0LXNtLS1saW5lLWhlaWdodDpjYWxjKDEuMjUvLjg3NSk7LS10ZXh0LWJhc2U6MXJlbTstLXRleHQtYmFzZS0tbGluZS1oZWlnaHQ6Y2FsYygxLjUvMSk7LS1mb250LXdlaWdodC1ub3JtYWw6NDAwOy0tZm9udC13ZWlnaHQtc2VtaWJvbGQ6NjAwOy0tZm9udC13ZWlnaHQtYm9sZDo3MDA7LS1yYWRpdXMtbWQ6LjM3NXJlbTstLXJhZGl1cy1sZzouNXJlbTstLXJhZGl1cy14bDouNzVyZW07LS1yYWRpdXMtMnhsOjFyZW07LS1yYWRpdXMtM3hsOjEuNXJlbTstLWRyb3Atc2hhZG93LXhzOjAgMXB4IDFweCAjMDAwMDAwMGQ7LS1kcm9wLXNoYWRvdy1tZDowIDNweCAzcHggIzAwMDAwMDFmOy0tZHJvcC1zaGFkb3cteGw6MCA5cHggN3B4ICMwMDAwMDAxYTstLWFuaW1hdGUtcHVsc2U6cHVsc2UgMnMgY3ViaWMtYmV6aWVyKC40LDAsLjYsMSlpbmZpbml0ZTstLWJsdXIteHM6NHB4Oy0tYmx1ci1zbTo4cHg7LS1ibHVyLW1kOjEycHg7LS1ibHVyLWxnOjE2cHg7LS1kZWZhdWx0LXRyYW5zaXRpb24tZHVyYXRpb246LjE1czstLWRlZmF1bHQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC40LDAsLjIsMSk7LS1kZWZhdWx0LWZvbnQtZmFtaWx5OnZhcigtLWZvbnQtc2Fucyk7LS1kZWZhdWx0LW1vbm8tZm9udC1mYW1pbHk6dmFyKC0tZm9udC1tb25vKTstLWNvbG9yLWJhY2tncm91bmQ6dmFyKC0tY29sb3Itd2hpdGUpOy0tY29sb3ItZm9yZWdyb3VuZDp2YXIoLS1jb2xvci16aW5jLTk1MCk7LS1jb2xvci1tdXRlZC1mb3JlZ3JvdW5kOnZhcigtLWNvbG9yLXppbmMtNzAwKTstLWNvbG9yLWJvcmRlcjp2YXIoLS1jb2xvci16aW5jLTUwMCl9fUBsYXllciBiYXNle3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yICosc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOmFmdGVyLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDpiZWZvcmUsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjpiYWNrZHJvcHtib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym9yZGVyOjAgc29saWQ7bWFyZ2luOjA7cGFkZGluZzowfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6ZmlsZS1zZWxlY3Rvci1idXR0b257Ym94LXNpemluZzpib3JkZXItYm94O2JvcmRlcjowIHNvbGlkO21hcmdpbjowO3BhZGRpbmc6MH06d2hlcmUoc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IpLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yey13ZWJraXQtdGV4dC1zaXplLWFkanVzdDoxMDAlOy1tb3otdGFiLXNpemU6NDstby10YWItc2l6ZTo0O3RhYi1zaXplOjQ7bGluZS1oZWlnaHQ6MS41O2ZvbnQtZmFtaWx5OnZhcigtLWRlZmF1bHQtZm9udC1mYW1pbHksdWktc2Fucy1zZXJpZixzeXN0ZW0tdWksc2Fucy1zZXJpZixcIkFwcGxlIENvbG9yIEVtb2ppXCIsXCJTZWdvZSBVSSBFbW9qaVwiLFwiU2Vnb2UgVUkgU3ltYm9sXCIsXCJOb3RvIENvbG9yIEVtb2ppXCIpO2ZvbnQtZmVhdHVyZS1zZXR0aW5nczp2YXIoLS1kZWZhdWx0LWZvbnQtZmVhdHVyZS1zZXR0aW5ncyxub3JtYWwpO2ZvbnQtdmFyaWF0aW9uLXNldHRpbmdzOnZhcigtLWRlZmF1bHQtZm9udC12YXJpYXRpb24tc2V0dGluZ3Msbm9ybWFsKTstd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6dHJhbnNwYXJlbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaHJ7aGVpZ2h0OjA7Y29sb3I6aW5oZXJpdDtib3JkZXItdG9wLXdpZHRoOjFweH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBhYmJyOndoZXJlKFt0aXRsZV0pey13ZWJraXQtdGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZSBkb3R0ZWQ7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZSBkb3R0ZWR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaDEsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaDIsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaDMsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaDQsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaDUsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaDZ7Zm9udC1zaXplOmluaGVyaXQ7Zm9udC13ZWlnaHQ6aW5oZXJpdH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBhe2NvbG9yOmluaGVyaXQ7LXdlYmtpdC10ZXh0LWRlY29yYXRpb246aW5oZXJpdDstd2Via2l0LXRleHQtZGVjb3JhdGlvbjppbmhlcml0Oy13ZWJraXQtdGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgYixzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBzdHJvbmd7Zm9udC13ZWlnaHQ6Ym9sZGVyfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGNvZGUsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3Iga2JkLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHNhbXAsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgcHJle2ZvbnQtZmFtaWx5OnZhcigtLWRlZmF1bHQtbW9uby1mb250LWZhbWlseSx1aS1tb25vc3BhY2UsU0ZNb25vLVJlZ3VsYXIsTWVubG8sTW9uYWNvLENvbnNvbGFzLFwiTGliZXJhdGlvbiBNb25vXCIsXCJDb3VyaWVyIE5ld1wiLG1vbm9zcGFjZSk7Zm9udC1mZWF0dXJlLXNldHRpbmdzOnZhcigtLWRlZmF1bHQtbW9uby1mb250LWZlYXR1cmUtc2V0dGluZ3Msbm9ybWFsKTtmb250LXZhcmlhdGlvbi1zZXR0aW5nczp2YXIoLS1kZWZhdWx0LW1vbm8tZm9udC12YXJpYXRpb24tc2V0dGluZ3Msbm9ybWFsKTtmb250LXNpemU6MWVtfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHNtYWxse2ZvbnQtc2l6ZTo4MCV9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3Igc3ViLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHN1cHt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZTtmb250LXNpemU6NzUlO2xpbmUtaGVpZ2h0OjA7cG9zaXRpb246cmVsYXRpdmV9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3Igc3Vie2JvdHRvbTotLjI1ZW19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3Igc3Vwe3RvcDotLjVlbX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciB0YWJsZXt0ZXh0LWluZGVudDowO2JvcmRlci1jb2xvcjppbmhlcml0O2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6LW1vei1mb2N1c3Jpbmd7b3V0bGluZTphdXRvfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHByb2dyZXNze3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHN1bW1hcnl7ZGlzcGxheTpsaXN0LWl0ZW19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3Igb2wsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgdWwsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgbWVudXtsaXN0LXN0eWxlOm5vbmV9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaW1nLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHN2ZyxzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciB2aWRlbyxzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBjYW52YXMsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgYXVkaW8sc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaWZyYW1lLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGVtYmVkLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIG9iamVjdHt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7ZGlzcGxheTpibG9ja31zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBpbWcsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgdmlkZW97bWF4LXdpZHRoOjEwMCU7aGVpZ2h0OmF1dG99c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgYnV0dG9uLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGlucHV0LHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHNlbGVjdCxzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBvcHRncm91cCxzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciB0ZXh0YXJlYXtmb250OmluaGVyaXQ7Zm9udC1mZWF0dXJlLXNldHRpbmdzOmluaGVyaXQ7Zm9udC12YXJpYXRpb24tc2V0dGluZ3M6aW5oZXJpdDtsZXR0ZXItc3BhY2luZzppbmhlcml0O2NvbG9yOmluaGVyaXQ7b3BhY2l0eToxO2JhY2tncm91bmQtY29sb3I6IzAwMDA7Ym9yZGVyLXJhZGl1czowfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6ZmlsZS1zZWxlY3Rvci1idXR0b257Zm9udDppbmhlcml0O2ZvbnQtZmVhdHVyZS1zZXR0aW5nczppbmhlcml0O2ZvbnQtdmFyaWF0aW9uLXNldHRpbmdzOmluaGVyaXQ7bGV0dGVyLXNwYWNpbmc6aW5oZXJpdDtjb2xvcjppbmhlcml0O29wYWNpdHk6MTtiYWNrZ3JvdW5kLWNvbG9yOiMwMDAwO2JvcmRlci1yYWRpdXM6MH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6d2hlcmUoc2VsZWN0OmlzKFttdWx0aXBsZV0sW3NpemVdKSkgb3B0Z3JvdXB7Zm9udC13ZWlnaHQ6Ym9sZGVyfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDp3aGVyZShzZWxlY3Q6aXMoW211bHRpcGxlXSxbc2l6ZV0pKSBvcHRncm91cCBvcHRpb257cGFkZGluZy1pbmxpbmUtc3RhcnQ6MjBweH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6OmZpbGUtc2VsZWN0b3ItYnV0dG9ue21hcmdpbi1pbmxpbmUtZW5kOjRweH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi1tb3otcGxhY2Vob2xkZXJ7b3BhY2l0eToxfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6cGxhY2Vob2xkZXJ7b3BhY2l0eToxfUBzdXBwb3J0cyAobm90ICgtd2Via2l0LWFwcGVhcmFuY2U6LWFwcGxlLXBheS1idXR0b24pKSBvciAoY29udGFpbi1pbnRyaW5zaWMtc2l6ZToxcHgpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LW1vei1wbGFjZWhvbGRlcntjb2xvcjpjdXJyZW50Q29sb3J9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjpwbGFjZWhvbGRlcntjb2xvcjpjdXJyZW50Q29sb3J9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LW1vei1wbGFjZWhvbGRlcntjb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsY3VycmVudGNvbG9yIDUwJSx0cmFuc3BhcmVudCl9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjpwbGFjZWhvbGRlcntjb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsY3VycmVudGNvbG9yIDUwJSx0cmFuc3BhcmVudCl9fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciB0ZXh0YXJlYXtyZXNpemU6dmVydGljYWx9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotd2Via2l0LXNlYXJjaC1kZWNvcmF0aW9uey13ZWJraXQtYXBwZWFyYW5jZTpub25lfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LXdlYmtpdC1kYXRlLWFuZC10aW1lLXZhbHVle21pbi1oZWlnaHQ6MWxoO3RleHQtYWxpZ246aW5oZXJpdH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi13ZWJraXQtZGF0ZXRpbWUtZWRpdHtkaXNwbGF5OmlubGluZS1mbGV4fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LXdlYmtpdC1kYXRldGltZS1lZGl0LWZpZWxkcy13cmFwcGVye3BhZGRpbmc6MH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi13ZWJraXQtZGF0ZXRpbWUtZWRpdHtwYWRkaW5nLWJsb2NrOjB9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotd2Via2l0LWRhdGV0aW1lLWVkaXQteWVhci1maWVsZHtwYWRkaW5nLWJsb2NrOjB9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotd2Via2l0LWRhdGV0aW1lLWVkaXQtbW9udGgtZmllbGR7cGFkZGluZy1ibG9jazowfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LXdlYmtpdC1kYXRldGltZS1lZGl0LWRheS1maWVsZHtwYWRkaW5nLWJsb2NrOjB9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotd2Via2l0LWRhdGV0aW1lLWVkaXQtaG91ci1maWVsZHtwYWRkaW5nLWJsb2NrOjB9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotd2Via2l0LWRhdGV0aW1lLWVkaXQtbWludXRlLWZpZWxke3BhZGRpbmctYmxvY2s6MH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi13ZWJraXQtZGF0ZXRpbWUtZWRpdC1zZWNvbmQtZmllbGR7cGFkZGluZy1ibG9jazowfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LXdlYmtpdC1kYXRldGltZS1lZGl0LW1pbGxpc2Vjb25kLWZpZWxke3BhZGRpbmctYmxvY2s6MH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi13ZWJraXQtZGF0ZXRpbWUtZWRpdC1tZXJpZGllbS1maWVsZHtwYWRkaW5nLWJsb2NrOjB9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOi1tb3otdWktaW52YWxpZHtib3gtc2hhZG93Om5vbmV9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgYnV0dG9uLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGlucHV0OndoZXJlKFt0eXBlPWJ1dHRvbl0sW3R5cGU9cmVzZXRdLFt0eXBlPXN1Ym1pdF0pey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247LW1vei1hcHBlYXJhbmNlOmJ1dHRvbjthcHBlYXJhbmNlOmJ1dHRvbn1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6OmZpbGUtc2VsZWN0b3ItYnV0dG9uey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247LW1vei1hcHBlYXJhbmNlOmJ1dHRvbjthcHBlYXJhbmNlOmJ1dHRvbn1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b257aGVpZ2h0OmF1dG99c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9ue2hlaWdodDphdXRvfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIFtoaWRkZW5dOndoZXJlKDpub3QoW2hpZGRlbj11bnRpbC1mb3VuZF0pKXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yICp7bWluLXdpZHRoOjA7bWluLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlfX1AbGF5ZXIgY29tcG9uZW50cztAbGF5ZXIgdXRpbGl0aWVze3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wb2ludGVyLWV2ZW50cy1hdXRve3BvaW50ZXItZXZlbnRzOmF1dG8haW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wb2ludGVyLWV2ZW50cy1ub25le3BvaW50ZXItZXZlbnRzOm5vbmUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC52aXNpYmxle3Zpc2liaWxpdHk6dmlzaWJsZSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmFic29sdXRle3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZml4ZWR7cG9zaXRpb246Zml4ZWQhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5yZWxhdGl2ZXtwb3NpdGlvbjpyZWxhdGl2ZSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmluc2V0LTB7aW5zZXQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSowKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmluc2V0LTR7aW5zZXQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSo0KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRvcC0we3RvcDpjYWxjKHZhcigtLXNwYWNpbmcpKjApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudG9wLTFcXFxcLzJ7dG9wOjUwJSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRvcC1cXFxcWy0yMFxcXFwlXFxcXF17dG9wOi0yMCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50b3AtXFxcXFsyNVxcXFwlXFxcXF17dG9wOjI1JSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLi1yaWdodC0xe3JpZ2h0OmNhbGModmFyKC0tc3BhY2luZykqLTEpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucmlnaHQtMHtyaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucmlnaHQtMVxcXFwvMntyaWdodDo1MCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5yaWdodC0ye3JpZ2h0OmNhbGModmFyKC0tc3BhY2luZykqMikhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC4tYm90dG9tLTBcXFxcLjV7Ym90dG9tOmNhbGModmFyKC0tc3BhY2luZykqLS41KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvdHRvbS0xXFxcXC8ye2JvdHRvbTo1MCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3R0b20tM3tib3R0b206Y2FsYyh2YXIoLS1zcGFjaW5nKSozKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmxlZnQtMHtsZWZ0OmNhbGModmFyKC0tc3BhY2luZykqMCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5sZWZ0LTFcXFxcLzJ7bGVmdDo1MCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5sZWZ0LTN7bGVmdDpjYWxjKHZhcigtLXNwYWNpbmcpKjMpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubGVmdC1cXFxcWy0xMFxcXFwlXFxcXF17bGVmdDotMTAlIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubGVmdC1cXFxcWzI1XFxcXCVcXFxcXXtsZWZ0OjI1JSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnotNTB7ei1pbmRleDo1MCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmNvbnRhaW5lcnt3aWR0aDoxMDAlIWltcG9ydGFudH1AbWVkaWEgKG1pbi13aWR0aDo0MHJlbSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmNvbnRhaW5lcnttYXgtd2lkdGg6NDByZW0haW1wb3J0YW50fX1AbWVkaWEgKG1pbi13aWR0aDo0OHJlbSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmNvbnRhaW5lcnttYXgtd2lkdGg6NDhyZW0haW1wb3J0YW50fX1AbWVkaWEgKG1pbi13aWR0aDo2NHJlbSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmNvbnRhaW5lcnttYXgtd2lkdGg6NjRyZW0haW1wb3J0YW50fX1AbWVkaWEgKG1pbi13aWR0aDo4MHJlbSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmNvbnRhaW5lcnttYXgtd2lkdGg6ODByZW0haW1wb3J0YW50fX1AbWVkaWEgKG1pbi13aWR0aDo5NnJlbSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmNvbnRhaW5lcnttYXgtd2lkdGg6OTZyZW0haW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmxvY2t7ZGlzcGxheTpibG9jayFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmNvbnRlbnRze2Rpc3BsYXk6Y29udGVudHMhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5mbGV4e2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmhpZGRlbntkaXNwbGF5Om5vbmUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5pbmxpbmV7ZGlzcGxheTppbmxpbmUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5hc3BlY3Qtc3F1YXJle2FzcGVjdC1yYXRpbzoxIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS0we3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqMCkhaW1wb3J0YW50O2hlaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS0xXFxcXC41e3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqMS41KSFpbXBvcnRhbnQ7aGVpZ2h0OmNhbGModmFyKC0tc3BhY2luZykqMS41KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNpemUtMlxcXFwvM3t3aWR0aDo2Ni42NjY3JSFpbXBvcnRhbnQ7aGVpZ2h0OjY2LjY2NjclIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS0ze3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqMykhaW1wb3J0YW50O2hlaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjMpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS00e3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqNCkhaW1wb3J0YW50O2hlaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjQpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS01e3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqNSkhaW1wb3J0YW50O2hlaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjUpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS02e3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqNikhaW1wb3J0YW50O2hlaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjYpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS04e3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqOCkhaW1wb3J0YW50O2hlaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjgpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS05XFxcXC8xMnt3aWR0aDo3NSUhaW1wb3J0YW50O2hlaWdodDo3NSUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zaXplLTEye3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqMTIpIWltcG9ydGFudDtoZWlnaHQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSoxMikhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zaXplLVxcXFxbMTIwXFxcXCVcXFxcXXt3aWR0aDoxMjAlIWltcG9ydGFudDtoZWlnaHQ6MTIwJSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNpemUtZnVsbHt3aWR0aDoxMDAlIWltcG9ydGFudDtoZWlnaHQ6MTAwJSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmgtNHtoZWlnaHQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSo0KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmgtNXtoZWlnaHQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSo1KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmgtNntoZWlnaHQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSo2KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmgtOHtoZWlnaHQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSo4KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmgtXFxcXFs0XFxcXC41ZW1cXFxcXXtoZWlnaHQ6NC41ZW0haW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5oLVxcXFxbNTBcXFxcJVxcXFxde2hlaWdodDo1MCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5oLVxcXFxbMTIwXFxcXCVcXFxcXXtoZWlnaHQ6MTIwJSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmgtYXV0b3toZWlnaHQ6YXV0byFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmgtZml0e2hlaWdodDotbW96LWZpdC1jb250ZW50IWltcG9ydGFudDtoZWlnaHQ6Zml0LWNvbnRlbnQhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5oLWZ1bGx7aGVpZ2h0OjEwMCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5oLXNjcmVlbntoZWlnaHQ6MTAwdmghaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5tYXgtaC1cXFxcWzUwdmhcXFxcXXttYXgtaGVpZ2h0OjUwdmghaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5tYXgtaC1mdWxse21heC1oZWlnaHQ6MTAwJSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnctMHt3aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudy02e3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqNikhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC53LTgwe3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqODApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudy05Nnt3aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjk2KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnctXFxcXFs1MFxcXFwlXFxcXF17d2lkdGg6NTAlIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudy1maXR7d2lkdGg6LW1vei1maXQtY29udGVudCFpbXBvcnRhbnQ7d2lkdGg6Zml0LWNvbnRlbnQhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC53LWZ1bGx7d2lkdGg6MTAwJSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnctbWF4e3dpZHRoOi1tb3otbWF4LWNvbnRlbnQhaW1wb3J0YW50O3dpZHRoOm1heC1jb250ZW50IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudy1zY3JlZW57d2lkdGg6MTAwdnchaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5tYXgtdy04e21heC13aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjgpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubWF4LXctNDh7bWF4LXdpZHRoOmNhbGModmFyKC0tc3BhY2luZykqNDgpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubWF4LXctOTB7bWF4LXdpZHRoOmNhbGModmFyKC0tc3BhY2luZykqOTApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubWF4LXctXFxcXFs4MFxcXFwlXFxcXF17bWF4LXdpZHRoOjgwJSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLm1heC13LVxcXFxbODB2d1xcXFxde21heC13aWR0aDo4MHZ3IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubWF4LXctc217bWF4LXdpZHRoOnZhcigtLWNvbnRhaW5lci1zbSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5taW4tdy00e21pbi13aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjQpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubWluLXctMjR7bWluLXdpZHRoOmNhbGModmFyKC0tc3BhY2luZykqMjQpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmxleC0xe2ZsZXg6MSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZsZXgtc2hyaW5rLTAsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNocmluay0we2ZsZXgtc2hyaW5rOjAhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vcmlnaW4tY2VudGVye3RyYW5zZm9ybS1vcmlnaW46NTAlIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudHJhbnNmb3Jte3RyYW5zZm9ybTp2YXIoLS10dy1yb3RhdGUteCwpdmFyKC0tdHctcm90YXRlLXksKXZhcigtLXR3LXJvdGF0ZS16LCl2YXIoLS10dy1za2V3LXgsKXZhcigtLXR3LXNrZXcteSwpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYW5pbWF0ZS1wdWxzZXthbmltYXRpb246dmFyKC0tYW5pbWF0ZS1wdWxzZSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5jdXJzb3ItZ3JhYntjdXJzb3I6Z3JhYiFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmN1cnNvci1wb2ludGVye2N1cnNvcjpwb2ludGVyIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucmVzaXple3Jlc2l6ZTpib3RoIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucmVzaXplLW5vbmV7cmVzaXplOm5vbmUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zbmFwLXN0YXJ0e3Njcm9sbC1zbmFwLWFsaWduOnN0YXJ0IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmxleC1jb2x7ZmxleC1kaXJlY3Rpb246Y29sdW1uIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmxleC1yb3d7ZmxleC1kaXJlY3Rpb246cm93IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaXRlbXMtY2VudGVye2FsaWduLWl0ZW1zOmNlbnRlciFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLml0ZW1zLWVuZHthbGlnbi1pdGVtczpmbGV4LWVuZCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLml0ZW1zLXN0YXJ0e2FsaWduLWl0ZW1zOmZsZXgtc3RhcnQhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5pdGVtcy1zdHJldGNoe2FsaWduLWl0ZW1zOnN0cmV0Y2ghaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5qdXN0aWZ5LWJldHdlZW57anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW4haW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5qdXN0aWZ5LWNlbnRlcntqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuanVzdGlmeS1lbmR7anVzdGlmeS1jb250ZW50OmZsZXgtZW5kIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuanVzdGlmeS1zdGFydHtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmdhcC0xe2dhcDpjYWxjKHZhcigtLXNwYWNpbmcpKjEpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZ2FwLTJ7Z2FwOmNhbGModmFyKC0tc3BhY2luZykqMikhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5nYXAtM3tnYXA6Y2FsYyh2YXIoLS1zcGFjaW5nKSozKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRydW5jYXRle3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMhaW1wb3J0YW50O3doaXRlLXNwYWNlOm5vd3JhcCFpbXBvcnRhbnQ7b3ZlcmZsb3c6aGlkZGVuIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAub3ZlcmZsb3ctaGlkZGVue292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLm92ZXJmbG93LXZpc2libGV7b3ZlcmZsb3c6dmlzaWJsZSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLm92ZXJmbG93LXgtYXV0b3tvdmVyZmxvdy14OmF1dG8haW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vdmVyZmxvdy14LWhpZGRlbntvdmVyZmxvdy14OmhpZGRlbiFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLm92ZXJmbG93LXktYXV0b3tvdmVyZmxvdy15OmF1dG8haW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vdmVyZmxvdy15LXZpc2libGV7b3ZlcmZsb3cteTp2aXNpYmxlIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucm91bmRlZHtib3JkZXItcmFkaXVzOi4yNXJlbSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnJvdW5kZWQtMnhse2JvcmRlci1yYWRpdXM6dmFyKC0tcmFkaXVzLTJ4bCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5yb3VuZGVkLTN4bHtib3JkZXItcmFkaXVzOnZhcigtLXJhZGl1cy0zeGwpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucm91bmRlZC1mdWxse2JvcmRlci1yYWRpdXM6My40MDI4MmUzOHB4IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucm91bmRlZC1sZ3tib3JkZXItcmFkaXVzOnZhcigtLXJhZGl1cy1sZykhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5yb3VuZGVkLW1ke2JvcmRlci1yYWRpdXM6dmFyKC0tcmFkaXVzLW1kKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnJvdW5kZWQteGx7Ym9yZGVyLXJhZGl1czp2YXIoLS1yYWRpdXMteGwpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucm91bmRlZC10LTN4bHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOnZhcigtLXJhZGl1cy0zeGwpIWltcG9ydGFudDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czp2YXIoLS1yYWRpdXMtM3hsKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlcntib3JkZXItc3R5bGU6dmFyKC0tdHctYm9yZGVyLXN0eWxlKSFpbXBvcnRhbnQ7Ym9yZGVyLXdpZHRoOjFweCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci0ye2JvcmRlci1zdHlsZTp2YXIoLS10dy1ib3JkZXItc3R5bGUpIWltcG9ydGFudDtib3JkZXItd2lkdGg6MnB4IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYm9yZGVyLXh7Ym9yZGVyLWlubGluZS1zdHlsZTp2YXIoLS10dy1ib3JkZXItc3R5bGUpIWltcG9ydGFudDtib3JkZXItaW5saW5lLXdpZHRoOjFweCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci10e2JvcmRlci10b3Atc3R5bGU6dmFyKC0tdHctYm9yZGVyLXN0eWxlKSFpbXBvcnRhbnQ7Ym9yZGVyLXRvcC13aWR0aDoxcHghaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3JkZXItcntib3JkZXItcmlnaHQtc3R5bGU6dmFyKC0tdHctYm9yZGVyLXN0eWxlKSFpbXBvcnRhbnQ7Ym9yZGVyLXJpZ2h0LXdpZHRoOjFweCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci1zb2xpZHstLXR3LWJvcmRlci1zdHlsZTpzb2xpZCFpbXBvcnRhbnQ7Ym9yZGVyLXN0eWxlOnNvbGlkIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYm9yZGVyLWJsdWUtNjAwXFxcXC84MHtib3JkZXItY29sb3I6IzE1NWRmY2NjIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci1ibHVlLTYwMFxcXFwvODB7Ym9yZGVyLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1ibHVlLTYwMCk4MCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci1ib3JkZXJcXFxcLzEwe2JvcmRlci1jb2xvcjojNzE3MTdiMWEhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYm9yZGVyLWJvcmRlclxcXFwvMTB7Ym9yZGVyLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1ib3JkZXIpMTAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3JkZXItYm9yZGVyXFxcXC8yMHtib3JkZXItY29sb3I6IzcxNzE3YjMzIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci1ib3JkZXJcXFxcLzIwe2JvcmRlci1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItYm9yZGVyKTIwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYm9yZGVyLWJvcmRlclxcXFwvMzB7Ym9yZGVyLWNvbG9yOiM3MTcxN2I0ZCFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3JkZXItYm9yZGVyXFxcXC8zMHtib3JkZXItY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLWJvcmRlcikzMCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci1ncmVlbi02MDBcXFxcLzgwe2JvcmRlci1jb2xvcjojMDBhNTQ0Y2MhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYm9yZGVyLWdyZWVuLTYwMFxcXFwvODB7Ym9yZGVyLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1ncmVlbi02MDApODAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3JkZXItci1ib3JkZXJcXFxcLzMwe2JvcmRlci1yaWdodC1jb2xvcjojNzE3MTdiNGQhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYm9yZGVyLXItYm9yZGVyXFxcXC8zMHtib3JkZXItcmlnaHQtY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLWJvcmRlcikzMCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci1sLXRyYW5zcGFyZW50e2JvcmRlci1sZWZ0LWNvbG9yOiMwMDAwIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctYmFja2dyb3VuZFxcXFwvNDB7YmFja2dyb3VuZC1jb2xvcjojZmZmNiFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy1iYWNrZ3JvdW5kXFxcXC80MHtiYWNrZ3JvdW5kLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKTQwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctYmFja2dyb3VuZFxcXFwvNjB7YmFja2dyb3VuZC1jb2xvcjojZmZmOSFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy1iYWNrZ3JvdW5kXFxcXC82MHtiYWNrZ3JvdW5kLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKTYwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctYmx1ZS02MDB7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jb2xvci1ibHVlLTYwMCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy1ibHVlLTYwMFxcXFwvMjB7YmFja2dyb3VuZC1jb2xvcjojMTU1ZGZjMzMhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctYmx1ZS02MDBcXFxcLzIwe2JhY2tncm91bmQtY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLWJsdWUtNjAwKTIwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctZ3JlZW4tNjAwXFxcXC81e2JhY2tncm91bmQtY29sb3I6IzAwYTU0NDBkIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLWdyZWVuLTYwMFxcXFwvNXtiYWNrZ3JvdW5kLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1ncmVlbi02MDApNSUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLXJvc2UtNjAwe2JhY2tncm91bmQtY29sb3I6dmFyKC0tY29sb3Itcm9zZS02MDApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctdHJhbnNwYXJlbnR7YmFja2dyb3VuZC1jb2xvcjojMDAwMCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLXdoaXRlXFxcXC82MHtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY5IWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLXdoaXRlXFxcXC82MHtiYWNrZ3JvdW5kLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci13aGl0ZSk2MCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLXppbmMtNTBcXFxcLzgwe2JhY2tncm91bmQtY29sb3I6I2ZhZmFmYWNjIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLXppbmMtNTBcXFxcLzgwe2JhY2tncm91bmQtY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXppbmMtNTApODAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy16aW5jLTUwMHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNvbG9yLXppbmMtNTAwKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLXppbmMtNTAwXFxcXC8xMHtiYWNrZ3JvdW5kLWNvbG9yOiM3MTcxN2IxYSFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy16aW5jLTUwMFxcXFwvMTB7YmFja2dyb3VuZC1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItemluYy01MDApMTAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy16aW5jLTYwMHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNvbG9yLXppbmMtNjAwKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLXppbmMtOTUwXFxcXC81e2JhY2tncm91bmQtY29sb3I6IzA5MDkwYjBkIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLXppbmMtOTUwXFxcXC81e2JhY2tncm91bmQtY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXppbmMtOTUwKTUlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy1ncmFkaWVudC10by10cnstLXR3LWdyYWRpZW50LXBvc2l0aW9uOnRvIHRvcCByaWdodCBpbiBva2xhYiFpbXBvcnRhbnQ7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodmFyKC0tdHctZ3JhZGllbnQtc3RvcHMpKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLVxcXFxbcmFkaWFsLWdyYWRpZW50XFxcXChjaXJjbGVcXFxcLHJnYmFcXFxcKDU1XFxcXCw0OFxcXFwsMTYzXFxcXCwwXFxcXClfNTVcXFxcJVxcXFwscmdiYVxcXFwoNTVcXFxcLDQ4XFxcXCwxNjNcXFxcLDBcXFxcLjM1XFxcXClfNzNcXFxcJVxcXFwpXFxcXF17YmFja2dyb3VuZC1pbWFnZTpyYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCMzNzMwYTMwMCA1NSUsIzM3MzBhMzU5IDczJSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy1cXFxcW3JhZGlhbC1ncmFkaWVudFxcXFwoY2lyY2xlXFxcXCxyZ2JhXFxcXCgyMTlcXFxcLDM5XFxcXCwxMTlcXFxcLDBcXFxcLjJcXFxcKV8wXFxcXCVcXFxcLHJnYmFcXFxcKDIxOVxcXFwsMzlcXFxcLDExOVxcXFwsMFxcXFwpXzEwMFxcXFwlXFxcXClcXFxcXXtiYWNrZ3JvdW5kLWltYWdlOnJhZGlhbC1ncmFkaWVudChjaXJjbGUsI2RiMjc3NzMzIDAlLCNkYjI3NzcwMCAxMDAlKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLVxcXFxbcmFkaWFsLWdyYWRpZW50XFxcXChjaXJjbGVcXFxcLHJnYmFcXFxcKDI1NVxcXFwsMjU1XFxcXCwyNTVcXFxcLDBcXFxcKV82MFxcXFwlXFxcXCxyZ2JhXFxcXCgyNTVcXFxcLDI1NVxcXFwsMjU1XFxcXCwwXFxcXC4yXFxcXClfNzBcXFxcJVxcXFwpXFxcXF17YmFja2dyb3VuZC1pbWFnZTpyYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCNmZmYwIDYwJSwjZmZmMyA3MCUpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZnJvbS1pbmRpZ28tNzAwey0tdHctZ3JhZGllbnQtZnJvbTp2YXIoLS1jb2xvci1pbmRpZ28tNzAwKSFpbXBvcnRhbnQ7LS10dy1ncmFkaWVudC1zdG9wczp2YXIoLS10dy1ncmFkaWVudC12aWEtc3RvcHMsdmFyKC0tdHctZ3JhZGllbnQtcG9zaXRpb24pLHZhcigtLXR3LWdyYWRpZW50LWZyb20pdmFyKC0tdHctZ3JhZGllbnQtZnJvbS1wb3NpdGlvbiksdmFyKC0tdHctZ3JhZGllbnQtdG8pdmFyKC0tdHctZ3JhZGllbnQtdG8tcG9zaXRpb24pKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnZpYS1ibHVlLTUwMHstLXR3LWdyYWRpZW50LXZpYTp2YXIoLS1jb2xvci1ibHVlLTUwMCkhaW1wb3J0YW50Oy0tdHctZ3JhZGllbnQtdmlhLXN0b3BzOnZhcigtLXR3LWdyYWRpZW50LXBvc2l0aW9uKSx2YXIoLS10dy1ncmFkaWVudC1mcm9tKXZhcigtLXR3LWdyYWRpZW50LWZyb20tcG9zaXRpb24pLHZhcigtLXR3LWdyYWRpZW50LXZpYSl2YXIoLS10dy1ncmFkaWVudC12aWEtcG9zaXRpb24pLHZhcigtLXR3LWdyYWRpZW50LXRvKXZhcigtLXR3LWdyYWRpZW50LXRvLXBvc2l0aW9uKSFpbXBvcnRhbnQ7LS10dy1ncmFkaWVudC1zdG9wczp2YXIoLS10dy1ncmFkaWVudC12aWEtc3RvcHMpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudG8tdGVhbC01MDB7LS10dy1ncmFkaWVudC10bzp2YXIoLS1jb2xvci10ZWFsLTUwMCkhaW1wb3J0YW50Oy0tdHctZ3JhZGllbnQtc3RvcHM6dmFyKC0tdHctZ3JhZGllbnQtdmlhLXN0b3BzLHZhcigtLXR3LWdyYWRpZW50LXBvc2l0aW9uKSx2YXIoLS10dy1ncmFkaWVudC1mcm9tKXZhcigtLXR3LWdyYWRpZW50LWZyb20tcG9zaXRpb24pLHZhcigtLXR3LWdyYWRpZW50LXRvKXZhcigtLXR3LWdyYWRpZW50LXRvLXBvc2l0aW9uKSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5maWxsLWN1cnJlbnR7ZmlsbDpjdXJyZW50Q29sb3IhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5maWxsLXdoaXRle2ZpbGw6dmFyKC0tY29sb3Itd2hpdGUpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmlsbC16aW5jLTUwMFxcXFwvNTB7ZmlsbDojNzE3MTdiODAhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmlsbC16aW5jLTUwMFxcXFwvNTB7ZmlsbDpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItemluYy01MDApNTAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5maWxsLXppbmMtOTUwe2ZpbGw6dmFyKC0tY29sb3ItemluYy05NTApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc3Ryb2tlLWJsYWNrXFxcXC8zMHtzdHJva2U6IzAwMDAwMDRkIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnN0cm9rZS1ibGFja1xcXFwvMzB7c3Ryb2tlOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1ibGFjaykzMCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnN0cm9rZS1ub25le3N0cm9rZTpub25lIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc3Ryb2tlLTF7c3Ryb2tlLXdpZHRoOjFweCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnAtMHtwYWRkaW5nOmNhbGModmFyKC0tc3BhY2luZykqMCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wLTBcXFxcLjV7cGFkZGluZzpjYWxjKHZhcigtLXNwYWNpbmcpKi41KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnAtMXtwYWRkaW5nOmNhbGModmFyKC0tc3BhY2luZykqMSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wLTFcXFxcLjV7cGFkZGluZzpjYWxjKHZhcigtLXNwYWNpbmcpKjEuNSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wLTJ7cGFkZGluZzpjYWxjKHZhcigtLXNwYWNpbmcpKjIpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucC0ze3BhZGRpbmc6Y2FsYyh2YXIoLS1zcGFjaW5nKSozKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnB4LTBcXFxcLjV7cGFkZGluZy1pbmxpbmU6Y2FsYyh2YXIoLS1zcGFjaW5nKSouNSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5weC0xe3BhZGRpbmctaW5saW5lOmNhbGModmFyKC0tc3BhY2luZykqMSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5weC0ye3BhZGRpbmctaW5saW5lOmNhbGModmFyKC0tc3BhY2luZykqMikhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5weC0ze3BhZGRpbmctaW5saW5lOmNhbGModmFyKC0tc3BhY2luZykqMykhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5weS0we3BhZGRpbmctYmxvY2s6Y2FsYyh2YXIoLS1zcGFjaW5nKSowKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnB5LTF7cGFkZGluZy1ibG9jazpjYWxjKHZhcigtLXNwYWNpbmcpKjEpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucHQtMntwYWRkaW5nLXRvcDpjYWxjKHZhcigtLXNwYWNpbmcpKjIpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucHItNntwYWRkaW5nLXJpZ2h0OmNhbGModmFyKC0tc3BhY2luZykqNikhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wYi0we3BhZGRpbmctYm90dG9tOmNhbGModmFyKC0tc3BhY2luZykqMCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wYi0ye3BhZGRpbmctYm90dG9tOmNhbGModmFyKC0tc3BhY2luZykqMikhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wbC0ye3BhZGRpbmctbGVmdDpjYWxjKHZhcigtLXNwYWNpbmcpKjIpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudGV4dC1iYXNle2ZvbnQtc2l6ZTp2YXIoLS10ZXh0LWJhc2UpIWltcG9ydGFudDtsaW5lLWhlaWdodDp2YXIoLS10dy1sZWFkaW5nLHZhcigtLXRleHQtYmFzZS0tbGluZS1oZWlnaHQpKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRleHQtc217Zm9udC1zaXplOnZhcigtLXRleHQtc20pIWltcG9ydGFudDtsaW5lLWhlaWdodDp2YXIoLS10dy1sZWFkaW5nLHZhcigtLXRleHQtc20tLWxpbmUtaGVpZ2h0KSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LXhze2ZvbnQtc2l6ZTp2YXIoLS10ZXh0LXhzKSFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6dmFyKC0tdHctbGVhZGluZyx2YXIoLS10ZXh0LXhzLS1saW5lLWhlaWdodCkpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZm9udC1ib2xkey0tdHctZm9udC13ZWlnaHQ6dmFyKC0tZm9udC13ZWlnaHQtYm9sZCkhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OnZhcigtLWZvbnQtd2VpZ2h0LWJvbGQpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZm9udC1ub3JtYWx7LS10dy1mb250LXdlaWdodDp2YXIoLS1mb250LXdlaWdodC1ub3JtYWwpIWltcG9ydGFudDtmb250LXdlaWdodDp2YXIoLS1mb250LXdlaWdodC1ub3JtYWwpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZm9udC1zZW1pYm9sZHstLXR3LWZvbnQtd2VpZ2h0OnZhcigtLWZvbnQtd2VpZ2h0LXNlbWlib2xkKSFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6dmFyKC0tZm9udC13ZWlnaHQtc2VtaWJvbGQpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudGV4dC1ib3JkZXJcXFxcLzYwe2NvbG9yOiM3MTcxN2I5OSFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LWJvcmRlclxcXFwvNjB7Y29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLWJvcmRlcik2MCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRleHQtZm9yZWdyb3VuZHtjb2xvcjp2YXIoLS1jb2xvci1mb3JlZ3JvdW5kKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRleHQtbXV0ZWQtZm9yZWdyb3VuZHtjb2xvcjp2YXIoLS1jb2xvci1tdXRlZC1mb3JlZ3JvdW5kKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRleHQtbXV0ZWQtZm9yZWdyb3VuZFxcXFwvMzB7Y29sb3I6IzNmM2Y0NjRkIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRleHQtbXV0ZWQtZm9yZWdyb3VuZFxcXFwvMzB7Y29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLW11dGVkLWZvcmVncm91bmQpMzAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LXRyYW5zcGFyZW50e2NvbG9yOiMwMDAwIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudGV4dC13aGl0ZXtjb2xvcjp2YXIoLS1jb2xvci13aGl0ZSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LXppbmMtNTB7Y29sb3I6dmFyKC0tY29sb3ItemluYy01MCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LXppbmMtOTUwe2NvbG9yOnZhcigtLWNvbG9yLXppbmMtOTUwKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRleHQtemluYy05NTBcXFxcLzUwe2NvbG9yOiMwOTA5MGI4MCFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LXppbmMtOTUwXFxcXC81MHtjb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItemluYy05NTApNTAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vcGFjaXR5LTIwe29wYWNpdHk6LjIhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vcGFjaXR5LTUwe29wYWNpdHk6LjUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vcGFjaXR5LTgwe29wYWNpdHk6LjghaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vcGFjaXR5LTEwMHtvcGFjaXR5OjEhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zaGFkb3d7LS10dy1zaGFkb3c6MCAxcHggM3B4IDAgdmFyKC0tdHctc2hhZG93LWNvbG9yLCMwMDAwMDAxYSksMCAxcHggMnB4IC0xcHggdmFyKC0tdHctc2hhZG93LWNvbG9yLCMwMDAwMDAxYSkhaW1wb3J0YW50O2JveC1zaGFkb3c6dmFyKC0tdHctaW5zZXQtc2hhZG93KSx2YXIoLS10dy1pbnNldC1yaW5nLXNoYWRvdyksdmFyKC0tdHctcmluZy1vZmZzZXQtc2hhZG93KSx2YXIoLS10dy1yaW5nLXNoYWRvdyksdmFyKC0tdHctc2hhZG93KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNoYWRvdy1pbm5lcnstLXR3LXNoYWRvdzppbnNldCAwIDJweCA0cHggMCB2YXIoLS10dy1zaGFkb3ctY29sb3IsIzAwMDAwMDBkKSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzp2YXIoLS10dy1pbnNldC1zaGFkb3cpLHZhcigtLXR3LWluc2V0LXJpbmctc2hhZG93KSx2YXIoLS10dy1yaW5nLW9mZnNldC1zaGFkb3cpLHZhcigtLXR3LXJpbmctc2hhZG93KSx2YXIoLS10dy1zaGFkb3cpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2hhZG93LWxney0tdHctc2hhZG93OjAgMTBweCAxNXB4IC0zcHggdmFyKC0tdHctc2hhZG93LWNvbG9yLCMwMDAwMDAxYSksMCA0cHggNnB4IC00cHggdmFyKC0tdHctc2hhZG93LWNvbG9yLCMwMDAwMDAxYSkhaW1wb3J0YW50O2JveC1zaGFkb3c6dmFyKC0tdHctaW5zZXQtc2hhZG93KSx2YXIoLS10dy1pbnNldC1yaW5nLXNoYWRvdyksdmFyKC0tdHctcmluZy1vZmZzZXQtc2hhZG93KSx2YXIoLS10dy1yaW5nLXNoYWRvdyksdmFyKC0tdHctc2hhZG93KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNoYWRvdy1zbXstLXR3LXNoYWRvdzowIDFweCAzcHggMCB2YXIoLS10dy1zaGFkb3ctY29sb3IsIzAwMDAwMDFhKSwwIDFweCAycHggLTFweCB2YXIoLS10dy1zaGFkb3ctY29sb3IsIzAwMDAwMDFhKSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzp2YXIoLS10dy1pbnNldC1zaGFkb3cpLHZhcigtLXR3LWluc2V0LXJpbmctc2hhZG93KSx2YXIoLS10dy1yaW5nLW9mZnNldC1zaGFkb3cpLHZhcigtLXR3LXJpbmctc2hhZG93KSx2YXIoLS10dy1zaGFkb3cpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucmluZy0yey0tdHctcmluZy1zaGFkb3c6dmFyKC0tdHctcmluZy1pbnNldCwpMCAwIDAgY2FsYygycHggKyB2YXIoLS10dy1yaW5nLW9mZnNldC13aWR0aCkpdmFyKC0tdHctcmluZy1jb2xvcixjdXJyZW50Y29sb3IpIWltcG9ydGFudDtib3gtc2hhZG93OnZhcigtLXR3LWluc2V0LXNoYWRvdyksdmFyKC0tdHctaW5zZXQtcmluZy1zaGFkb3cpLHZhcigtLXR3LXJpbmctb2Zmc2V0LXNoYWRvdyksdmFyKC0tdHctcmluZy1zaGFkb3cpLHZhcigtLXR3LXNoYWRvdykhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zaGFkb3ctYmxhY2tcXFxcLzUwey0tdHctc2hhZG93LWNvbG9yOiMwMDAwMDA4MCFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zaGFkb3ctYmxhY2tcXFxcLzUwey0tdHctc2hhZG93LWNvbG9yOmNvbG9yLW1peChpbiBva2xhYixjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItYmxhY2spNTAlLHRyYW5zcGFyZW50KXZhcigtLXR3LXNoYWRvdy1hbHBoYSksdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNoYWRvdy1ibHVlLTYwMFxcXFwvNTB7LS10dy1zaGFkb3ctY29sb3I6IzE1NWRmYzgwIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNoYWRvdy1ibHVlLTYwMFxcXFwvNTB7LS10dy1zaGFkb3ctY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLGNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1ibHVlLTYwMCk1MCUsdHJhbnNwYXJlbnQpdmFyKC0tdHctc2hhZG93LWFscGhhKSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucmluZy1ibHVlLTYwMHstLXR3LXJpbmctY29sb3I6dmFyKC0tY29sb3ItYmx1ZS02MDApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmx1cnstLXR3LWJsdXI6Ymx1cig4cHgpIWltcG9ydGFudDtmaWx0ZXI6dmFyKC0tdHctYmx1ciwpdmFyKC0tdHctYnJpZ2h0bmVzcywpdmFyKC0tdHctY29udHJhc3QsKXZhcigtLXR3LWdyYXlzY2FsZSwpdmFyKC0tdHctaHVlLXJvdGF0ZSwpdmFyKC0tdHctaW52ZXJ0LCl2YXIoLS10dy1zYXR1cmF0ZSwpdmFyKC0tdHctc2VwaWEsKXZhcigtLXR3LWRyb3Atc2hhZG93LCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5kcm9wLXNoYWRvdy1tZHstLXR3LWRyb3Atc2hhZG93LXNpemU6ZHJvcC1zaGFkb3coMCAzcHggM3B4IHZhcigtLXR3LWRyb3Atc2hhZG93LWNvbG9yLCMwMDAwMDAxZikpIWltcG9ydGFudDstLXR3LWRyb3Atc2hhZG93OmRyb3Atc2hhZG93KHZhcigtLWRyb3Atc2hhZG93LW1kKSkhaW1wb3J0YW50O2ZpbHRlcjp2YXIoLS10dy1ibHVyLCl2YXIoLS10dy1icmlnaHRuZXNzLCl2YXIoLS10dy1jb250cmFzdCwpdmFyKC0tdHctZ3JheXNjYWxlLCl2YXIoLS10dy1odWUtcm90YXRlLCl2YXIoLS10dy1pbnZlcnQsKXZhcigtLXR3LXNhdHVyYXRlLCl2YXIoLS10dy1zZXBpYSwpdmFyKC0tdHctZHJvcC1zaGFkb3csKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmRyb3Atc2hhZG93LXhsey0tdHctZHJvcC1zaGFkb3ctc2l6ZTpkcm9wLXNoYWRvdygwIDlweCA3cHggdmFyKC0tdHctZHJvcC1zaGFkb3ctY29sb3IsIzAwMDAwMDFhKSkhaW1wb3J0YW50Oy0tdHctZHJvcC1zaGFkb3c6ZHJvcC1zaGFkb3codmFyKC0tZHJvcC1zaGFkb3cteGwpKSFpbXBvcnRhbnQ7ZmlsdGVyOnZhcigtLXR3LWJsdXIsKXZhcigtLXR3LWJyaWdodG5lc3MsKXZhcigtLXR3LWNvbnRyYXN0LCl2YXIoLS10dy1ncmF5c2NhbGUsKXZhcigtLXR3LWh1ZS1yb3RhdGUsKXZhcigtLXR3LWludmVydCwpdmFyKC0tdHctc2F0dXJhdGUsKXZhcigtLXR3LXNlcGlhLCl2YXIoLS10dy1kcm9wLXNoYWRvdywpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZHJvcC1zaGFkb3cteHN7LS10dy1kcm9wLXNoYWRvdy1zaXplOmRyb3Atc2hhZG93KDAgMXB4IDFweCB2YXIoLS10dy1kcm9wLXNoYWRvdy1jb2xvciwjMDAwMDAwMGQpKSFpbXBvcnRhbnQ7LS10dy1kcm9wLXNoYWRvdzpkcm9wLXNoYWRvdyh2YXIoLS1kcm9wLXNoYWRvdy14cykpIWltcG9ydGFudDtmaWx0ZXI6dmFyKC0tdHctYmx1ciwpdmFyKC0tdHctYnJpZ2h0bmVzcywpdmFyKC0tdHctY29udHJhc3QsKXZhcigtLXR3LWdyYXlzY2FsZSwpdmFyKC0tdHctaHVlLXJvdGF0ZSwpdmFyKC0tdHctaW52ZXJ0LCl2YXIoLS10dy1zYXR1cmF0ZSwpdmFyKC0tdHctc2VwaWEsKXZhcigtLXR3LWRyb3Atc2hhZG93LCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5kcm9wLXNoYWRvdy1ibGFja3stLXR3LWRyb3Atc2hhZG93LWNvbG9yOiMwMDAhaW1wb3J0YW50Oy0tdHctZHJvcC1zaGFkb3c6dmFyKC0tdHctZHJvcC1zaGFkb3ctc2l6ZSkhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZHJvcC1zaGFkb3ctYmxhY2t7LS10dy1kcm9wLXNoYWRvdy1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItYmxhY2spdmFyKC0tdHctZHJvcC1zaGFkb3ctYWxwaGEpLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5kcm9wLXNoYWRvdy1pbmRpZ28tOTUwey0tdHctZHJvcC1zaGFkb3ctY29sb3I6b2tsY2goMjUuNyUgLjA5IDI4MS4yODgpIWltcG9ydGFudDstLXR3LWRyb3Atc2hhZG93OnZhcigtLXR3LWRyb3Atc2hhZG93LXNpemUpIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmRyb3Atc2hhZG93LWluZGlnby05NTB7LS10dy1kcm9wLXNoYWRvdy1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItaW5kaWdvLTk1MCl2YXIoLS10dy1kcm9wLXNoYWRvdy1hbHBoYSksdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZpbHRlcntmaWx0ZXI6dmFyKC0tdHctYmx1ciwpdmFyKC0tdHctYnJpZ2h0bmVzcywpdmFyKC0tdHctY29udHJhc3QsKXZhcigtLXR3LWdyYXlzY2FsZSwpdmFyKC0tdHctaHVlLXJvdGF0ZSwpdmFyKC0tdHctaW52ZXJ0LCl2YXIoLS10dy1zYXR1cmF0ZSwpdmFyKC0tdHctc2VwaWEsKXZhcigtLXR3LWRyb3Atc2hhZG93LCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iYWNrZHJvcC1ibHVyLWxney0tdHctYmFja2Ryb3AtYmx1cjpibHVyKHZhcigtLWJsdXItbGcpKSFpbXBvcnRhbnQ7LXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6dmFyKC0tdHctYmFja2Ryb3AtYmx1ciwpdmFyKC0tdHctYmFja2Ryb3AtYnJpZ2h0bmVzcywpdmFyKC0tdHctYmFja2Ryb3AtY29udHJhc3QsKXZhcigtLXR3LWJhY2tkcm9wLWdyYXlzY2FsZSwpdmFyKC0tdHctYmFja2Ryb3AtaHVlLXJvdGF0ZSwpdmFyKC0tdHctYmFja2Ryb3AtaW52ZXJ0LCl2YXIoLS10dy1iYWNrZHJvcC1vcGFjaXR5LCl2YXIoLS10dy1iYWNrZHJvcC1zYXR1cmF0ZSwpdmFyKC0tdHctYmFja2Ryb3Atc2VwaWEsKSFpbXBvcnRhbnQ7YmFja2Ryb3AtZmlsdGVyOnZhcigtLXR3LWJhY2tkcm9wLWJsdXIsKXZhcigtLXR3LWJhY2tkcm9wLWJyaWdodG5lc3MsKXZhcigtLXR3LWJhY2tkcm9wLWNvbnRyYXN0LCl2YXIoLS10dy1iYWNrZHJvcC1ncmF5c2NhbGUsKXZhcigtLXR3LWJhY2tkcm9wLWh1ZS1yb3RhdGUsKXZhcigtLXR3LWJhY2tkcm9wLWludmVydCwpdmFyKC0tdHctYmFja2Ryb3Atb3BhY2l0eSwpdmFyKC0tdHctYmFja2Ryb3Atc2F0dXJhdGUsKXZhcigtLXR3LWJhY2tkcm9wLXNlcGlhLCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iYWNrZHJvcC1ibHVyLW1key0tdHctYmFja2Ryb3AtYmx1cjpibHVyKHZhcigtLWJsdXItbWQpKSFpbXBvcnRhbnQ7LXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6dmFyKC0tdHctYmFja2Ryb3AtYmx1ciwpdmFyKC0tdHctYmFja2Ryb3AtYnJpZ2h0bmVzcywpdmFyKC0tdHctYmFja2Ryb3AtY29udHJhc3QsKXZhcigtLXR3LWJhY2tkcm9wLWdyYXlzY2FsZSwpdmFyKC0tdHctYmFja2Ryb3AtaHVlLXJvdGF0ZSwpdmFyKC0tdHctYmFja2Ryb3AtaW52ZXJ0LCl2YXIoLS10dy1iYWNrZHJvcC1vcGFjaXR5LCl2YXIoLS10dy1iYWNrZHJvcC1zYXR1cmF0ZSwpdmFyKC0tdHctYmFja2Ryb3Atc2VwaWEsKSFpbXBvcnRhbnQ7YmFja2Ryb3AtZmlsdGVyOnZhcigtLXR3LWJhY2tkcm9wLWJsdXIsKXZhcigtLXR3LWJhY2tkcm9wLWJyaWdodG5lc3MsKXZhcigtLXR3LWJhY2tkcm9wLWNvbnRyYXN0LCl2YXIoLS10dy1iYWNrZHJvcC1ncmF5c2NhbGUsKXZhcigtLXR3LWJhY2tkcm9wLWh1ZS1yb3RhdGUsKXZhcigtLXR3LWJhY2tkcm9wLWludmVydCwpdmFyKC0tdHctYmFja2Ryb3Atb3BhY2l0eSwpdmFyKC0tdHctYmFja2Ryb3Atc2F0dXJhdGUsKXZhcigtLXR3LWJhY2tkcm9wLXNlcGlhLCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iYWNrZHJvcC1ibHVyLXhzey0tdHctYmFja2Ryb3AtYmx1cjpibHVyKHZhcigtLWJsdXIteHMpKSFpbXBvcnRhbnQ7LXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6dmFyKC0tdHctYmFja2Ryb3AtYmx1ciwpdmFyKC0tdHctYmFja2Ryb3AtYnJpZ2h0bmVzcywpdmFyKC0tdHctYmFja2Ryb3AtY29udHJhc3QsKXZhcigtLXR3LWJhY2tkcm9wLWdyYXlzY2FsZSwpdmFyKC0tdHctYmFja2Ryb3AtaHVlLXJvdGF0ZSwpdmFyKC0tdHctYmFja2Ryb3AtaW52ZXJ0LCl2YXIoLS10dy1iYWNrZHJvcC1vcGFjaXR5LCl2YXIoLS10dy1iYWNrZHJvcC1zYXR1cmF0ZSwpdmFyKC0tdHctYmFja2Ryb3Atc2VwaWEsKSFpbXBvcnRhbnQ7YmFja2Ryb3AtZmlsdGVyOnZhcigtLXR3LWJhY2tkcm9wLWJsdXIsKXZhcigtLXR3LWJhY2tkcm9wLWJyaWdodG5lc3MsKXZhcigtLXR3LWJhY2tkcm9wLWNvbnRyYXN0LCl2YXIoLS10dy1iYWNrZHJvcC1ncmF5c2NhbGUsKXZhcigtLXR3LWJhY2tkcm9wLWh1ZS1yb3RhdGUsKXZhcigtLXR3LWJhY2tkcm9wLWludmVydCwpdmFyKC0tdHctYmFja2Ryb3Atb3BhY2l0eSwpdmFyKC0tdHctYmFja2Ryb3Atc2F0dXJhdGUsKXZhcigtLXR3LWJhY2tkcm9wLXNlcGlhLCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iYWNrZHJvcC1zYXR1cmF0ZS0xNTB7LS10dy1iYWNrZHJvcC1zYXR1cmF0ZTpzYXR1cmF0ZSgxNTAlKSFpbXBvcnRhbnQ7LXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6dmFyKC0tdHctYmFja2Ryb3AtYmx1ciwpdmFyKC0tdHctYmFja2Ryb3AtYnJpZ2h0bmVzcywpdmFyKC0tdHctYmFja2Ryb3AtY29udHJhc3QsKXZhcigtLXR3LWJhY2tkcm9wLWdyYXlzY2FsZSwpdmFyKC0tdHctYmFja2Ryb3AtaHVlLXJvdGF0ZSwpdmFyKC0tdHctYmFja2Ryb3AtaW52ZXJ0LCl2YXIoLS10dy1iYWNrZHJvcC1vcGFjaXR5LCl2YXIoLS10dy1iYWNrZHJvcC1zYXR1cmF0ZSwpdmFyKC0tdHctYmFja2Ryb3Atc2VwaWEsKSFpbXBvcnRhbnQ7YmFja2Ryb3AtZmlsdGVyOnZhcigtLXR3LWJhY2tkcm9wLWJsdXIsKXZhcigtLXR3LWJhY2tkcm9wLWJyaWdodG5lc3MsKXZhcigtLXR3LWJhY2tkcm9wLWNvbnRyYXN0LCl2YXIoLS10dy1iYWNrZHJvcC1ncmF5c2NhbGUsKXZhcigtLXR3LWJhY2tkcm9wLWh1ZS1yb3RhdGUsKXZhcigtLXR3LWJhY2tkcm9wLWludmVydCwpdmFyKC0tdHctYmFja2Ryb3Atb3BhY2l0eSwpdmFyKC0tdHctYmFja2Ryb3Atc2F0dXJhdGUsKXZhcigtLXR3LWJhY2tkcm9wLXNlcGlhLCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50cmFuc2l0aW9ue3RyYW5zaXRpb24tcHJvcGVydHk6Y29sb3IsYmFja2dyb3VuZC1jb2xvcixib3JkZXItY29sb3Isb3V0bGluZS1jb2xvcix0ZXh0LWRlY29yYXRpb24tY29sb3IsZmlsbCxzdHJva2UsLS10dy1ncmFkaWVudC1mcm9tLC0tdHctZ3JhZGllbnQtdmlhLC0tdHctZ3JhZGllbnQtdG8sb3BhY2l0eSxib3gtc2hhZG93LHRyYW5zZm9ybSx0cmFuc2xhdGUsc2NhbGUscm90YXRlLGZpbHRlciwtd2Via2l0LWJhY2tkcm9wLWZpbHRlcixiYWNrZHJvcC1maWx0ZXIsZGlzcGxheSx2aXNpYmlsaXR5LGNvbnRlbnQtdmlzaWJpbGl0eSxvdmVybGF5LHBvaW50ZXItZXZlbnRzIWltcG9ydGFudDt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjp2YXIoLS10dy1lYXNlLHZhcigtLWRlZmF1bHQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24pKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kdXJhdGlvbjp2YXIoLS10dy1kdXJhdGlvbix2YXIoLS1kZWZhdWx0LXRyYW5zaXRpb24tZHVyYXRpb24pKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRyYW5zaXRpb24tYWxse3RyYW5zaXRpb24tcHJvcGVydHk6YWxsIWltcG9ydGFudDt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjp2YXIoLS10dy1lYXNlLHZhcigtLWRlZmF1bHQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24pKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kdXJhdGlvbjp2YXIoLS10dy1kdXJhdGlvbix2YXIoLS1kZWZhdWx0LXRyYW5zaXRpb24tZHVyYXRpb24pKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRyYW5zaXRpb24tY29sb3Jze3RyYW5zaXRpb24tcHJvcGVydHk6Y29sb3IsYmFja2dyb3VuZC1jb2xvcixib3JkZXItY29sb3Isb3V0bGluZS1jb2xvcix0ZXh0LWRlY29yYXRpb24tY29sb3IsZmlsbCxzdHJva2UsLS10dy1ncmFkaWVudC1mcm9tLC0tdHctZ3JhZGllbnQtdmlhLC0tdHctZ3JhZGllbnQtdG8haW1wb3J0YW50O3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOnZhcigtLXR3LWVhc2UsdmFyKC0tZGVmYXVsdC10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbikpIWltcG9ydGFudDt0cmFuc2l0aW9uLWR1cmF0aW9uOnZhcigtLXR3LWR1cmF0aW9uLHZhcigtLWRlZmF1bHQtdHJhbnNpdGlvbi1kdXJhdGlvbikpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZHVyYXRpb24tMHstLXR3LWR1cmF0aW9uOjBzIWltcG9ydGFudDt0cmFuc2l0aW9uLWR1cmF0aW9uOjBzIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZHVyYXRpb24tMTAwey0tdHctZHVyYXRpb246LjFzIWltcG9ydGFudDt0cmFuc2l0aW9uLWR1cmF0aW9uOi4xcyFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmR1cmF0aW9uLTE1MHstLXR3LWR1cmF0aW9uOi4xNXMhaW1wb3J0YW50O3RyYW5zaXRpb24tZHVyYXRpb246LjE1cyFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmR1cmF0aW9uLTUwMHstLXR3LWR1cmF0aW9uOi41cyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kdXJhdGlvbjouNXMhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vdXRsaW5lLW5vbmV7LS10dy1vdXRsaW5lLXN0eWxlOm5vbmUhaW1wb3J0YW50O291dGxpbmUtc3R5bGU6bm9uZSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNlbGVjdC1ub25ley13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZSFpbXBvcnRhbnQ7LW1vei11c2VyLXNlbGVjdDpub25lIWltcG9ydGFudDt1c2VyLXNlbGVjdDpub25lIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucGxhY2Vob2xkZXJcXFxcOnRleHQtemluYy05NTBcXFxcLzUwOjotbW96LXBsYWNlaG9sZGVye2NvbG9yOiMwOTA5MGI4MCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnBsYWNlaG9sZGVyXFxcXDp0ZXh0LXppbmMtOTUwXFxcXC81MDo6cGxhY2Vob2xkZXJ7Y29sb3I6IzA5MDkwYjgwIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnBsYWNlaG9sZGVyXFxcXDp0ZXh0LXppbmMtOTUwXFxcXC81MDo6LW1vei1wbGFjZWhvbGRlcntjb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItemluYy05NTApNTAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnBsYWNlaG9sZGVyXFxcXDp0ZXh0LXppbmMtOTUwXFxcXC81MDo6cGxhY2Vob2xkZXJ7Y29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXppbmMtOTUwKTUwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucGxhY2Vob2xkZXJcXFxcOnRleHQtemluYy05NTBcXFxcLzcwOjotbW96LXBsYWNlaG9sZGVye2NvbG9yOiMwOTA5MGJiMyFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnBsYWNlaG9sZGVyXFxcXDp0ZXh0LXppbmMtOTUwXFxcXC83MDo6cGxhY2Vob2xkZXJ7Y29sb3I6IzA5MDkwYmIzIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnBsYWNlaG9sZGVyXFxcXDp0ZXh0LXppbmMtOTUwXFxcXC83MDo6LW1vei1wbGFjZWhvbGRlcntjb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItemluYy05NTApNzAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnBsYWNlaG9sZGVyXFxcXDp0ZXh0LXppbmMtOTUwXFxcXC83MDo6cGxhY2Vob2xkZXJ7Y29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXppbmMtOTUwKTcwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmlyc3RcXFxcOmJvcmRlci1ub25lOmZpcnN0LWNoaWxkey0tdHctYm9yZGVyLXN0eWxlOm5vbmUhaW1wb3J0YW50O2JvcmRlci1zdHlsZTpub25lIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmlyc3RcXFxcOnBsLTA6Zmlyc3QtY2hpbGR7cGFkZGluZy1sZWZ0OmNhbGModmFyKC0tc3BhY2luZykqMCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5sYXN0XFxcXDpib3JkZXItci10cmFuc3BhcmVudDpsYXN0LWNoaWxke2JvcmRlci1yaWdodC1jb2xvcjojMDAwMCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmxhc3RcXFxcOnByLTA6bGFzdC1jaGlsZHtwYWRkaW5nLXJpZ2h0OmNhbGModmFyKC0tc3BhY2luZykqMCkhaW1wb3J0YW50fUBtZWRpYSAoaG92ZXI6aG92ZXIpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ob3ZlclxcXFw6Ym9yZGVyLXJlZC02MDBcXFxcLzgwOmhvdmVye2JvcmRlci1jb2xvcjojZTQwMDE0Y2MhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaG92ZXJcXFxcOmJvcmRlci1yZWQtNjAwXFxcXC84MDpob3Zlcntib3JkZXItY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXJlZC02MDApODAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ob3ZlclxcXFw6YmctcmVkLTYwMFxcXFwvMjA6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZTQwMDE0MzMhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaG92ZXJcXFxcOmJnLXJlZC02MDBcXFxcLzIwOmhvdmVye2JhY2tncm91bmQtY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXJlZC02MDApMjAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ob3ZlclxcXFw6YmctemluYy05NTBcXFxcLzU6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMDkwOTBiMGQhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaG92ZXJcXFxcOmJnLXppbmMtOTUwXFxcXC81OmhvdmVye2JhY2tncm91bmQtY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXppbmMtOTUwKTUlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ob3ZlclxcXFw6YmctemluYy05NTBcXFxcLzEwOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzA5MDkwYjFhIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmhvdmVyXFxcXDpiZy16aW5jLTk1MFxcXFwvMTA6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItemluYy05NTApMTAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ob3ZlclxcXFw6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kOmhvdmVye2NvbG9yOnZhcigtLWNvbG9yLW11dGVkLWZvcmVncm91bmQpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaG92ZXJcXFxcOnRleHQtd2hpdGU6aG92ZXJ7Y29sb3I6dmFyKC0tY29sb3Itd2hpdGUpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaG92ZXJcXFxcOm9wYWNpdHktMTAwOmhvdmVye29wYWNpdHk6MSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmhvdmVyXFxcXDpzaGFkb3ctbGc6aG92ZXJ7LS10dy1zaGFkb3c6MCAxMHB4IDE1cHggLTNweCB2YXIoLS10dy1zaGFkb3ctY29sb3IsIzAwMDAwMDFhKSwwIDRweCA2cHggLTRweCB2YXIoLS10dy1zaGFkb3ctY29sb3IsIzAwMDAwMDFhKSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzp2YXIoLS10dy1pbnNldC1zaGFkb3cpLHZhcigtLXR3LWluc2V0LXJpbmctc2hhZG93KSx2YXIoLS10dy1yaW5nLW9mZnNldC1zaGFkb3cpLHZhcigtLXR3LXJpbmctc2hhZG93KSx2YXIoLS10dy1zaGFkb3cpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaG92ZXJcXFxcOmJhY2tkcm9wLWJsdXItc206aG92ZXJ7LS10dy1iYWNrZHJvcC1ibHVyOmJsdXIodmFyKC0tYmx1ci1zbSkpIWltcG9ydGFudDstd2Via2l0LWJhY2tkcm9wLWZpbHRlcjp2YXIoLS10dy1iYWNrZHJvcC1ibHVyLCl2YXIoLS10dy1iYWNrZHJvcC1icmlnaHRuZXNzLCl2YXIoLS10dy1iYWNrZHJvcC1jb250cmFzdCwpdmFyKC0tdHctYmFja2Ryb3AtZ3JheXNjYWxlLCl2YXIoLS10dy1iYWNrZHJvcC1odWUtcm90YXRlLCl2YXIoLS10dy1iYWNrZHJvcC1pbnZlcnQsKXZhcigtLXR3LWJhY2tkcm9wLW9wYWNpdHksKXZhcigtLXR3LWJhY2tkcm9wLXNhdHVyYXRlLCl2YXIoLS10dy1iYWNrZHJvcC1zZXBpYSwpIWltcG9ydGFudDtiYWNrZHJvcC1maWx0ZXI6dmFyKC0tdHctYmFja2Ryb3AtYmx1ciwpdmFyKC0tdHctYmFja2Ryb3AtYnJpZ2h0bmVzcywpdmFyKC0tdHctYmFja2Ryb3AtY29udHJhc3QsKXZhcigtLXR3LWJhY2tkcm9wLWdyYXlzY2FsZSwpdmFyKC0tdHctYmFja2Ryb3AtaHVlLXJvdGF0ZSwpdmFyKC0tdHctYmFja2Ryb3AtaW52ZXJ0LCl2YXIoLS10dy1iYWNrZHJvcC1vcGFjaXR5LCl2YXIoLS10dy1iYWNrZHJvcC1zYXR1cmF0ZSwpdmFyKC0tdHctYmFja2Ryb3Atc2VwaWEsKSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5mb2N1c1xcXFw6Y3Vyc29yLWdyYWJiaW5nOmZvY3Vze2N1cnNvcjpncmFiYmluZyFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZvY3VzXFxcXDp0ZXh0LXppbmMtOTAwOmZvY3Vze2NvbG9yOnZhcigtLWNvbG9yLXppbmMtOTAwKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZvY3VzXFxcXDpvdXRsaW5lLW5vbmU6Zm9jdXMsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmRhdGEtZm9jdXNcXFxcOm91dGxpbmUtbm9uZVtkYXRhLWZvY3VzXXstLXR3LW91dGxpbmUtc3R5bGU6bm9uZSFpbXBvcnRhbnQ7b3V0bGluZS1zdHlsZTpub25lIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3Igc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3J7YWxsOmluaXRpYWw7aW50ZXJwb2xhdGUtc2l6ZTphbGxvdy1rZXl3b3Jkczt0cmFuc2Zvcm06dHJhbnNsYXRlKDApO2NvbG9yOnZhcigtLWNvbG9yLXppbmMtOTUwKSFpbXBvcnRhbnQ7bGV0dGVyLXNwYWNpbmc6bm9ybWFsIWltcG9ydGFudDt0ZXh0LXJlbmRlcmluZzphdXRvIWltcG9ydGFudDtmb250LWZhbWlseTpJbnRlcixOb3RvIENvbG9yIEVtb2ppLC1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LFNlZ29lIFVJLFJvYm90byxTRiBDb21wYWN0LFNGIFBybyxIZWx2ZXRpY2EgTmV1ZSxzYW5zLXNlcmlmIWltcG9ydGFudDtmb250LXdlaWdodDo0MDAhaW1wb3J0YW50O2xpbmUtaGVpZ2h0Om5vcm1hbCFpbXBvcnRhbnR9QHN1cHBvcnRzIChmb250LXZhcmlhdGlvbi1zZXR0aW5nczpub3JtYWwpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9ye2ZvbnQtb3B0aWNhbC1zaXppbmc6YXV0byFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6SW50ZXJWYXJpYWJsZSxOb3RvIENvbG9yIEVtb2ppLC1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LFNlZ29lIFVJLFJvYm90byxTRiBDb21wYWN0LFNGIFBybyxIZWx2ZXRpY2EgTmV1ZSxzYW5zLXNlcmlmIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgI2hlYWRsZXNzdWktcG9ydGFsLXJvb3R7ei1pbmRleDo1MCFpbXBvcnRhbnQ7d2lkdGg6MTAwdnchaW1wb3J0YW50O2hlaWdodDoxMDB2aCFpbXBvcnRhbnQ7cG9zaXRpb246Zml4ZWQhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yICNoZWFkbGVzc3VpLXBvcnRhbC1yb290Pip7cG9pbnRlci1ldmVudHM6YXV0byFpbXBvcnRhbnR9QHByb3BlcnR5IC0tdHctcm90YXRlLXh7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LXJvdGF0ZS15e3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1yb3RhdGUtentzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctc2tldy14e3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1za2V3LXl7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWJvcmRlci1zdHlsZXtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZTpzb2xpZH1AcHJvcGVydHkgLS10dy1ncmFkaWVudC1wb3NpdGlvbntzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctZ3JhZGllbnQtZnJvbXtzeW50YXg6XCI8Y29sb3I+XCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZTojMDAwMH1AcHJvcGVydHkgLS10dy1ncmFkaWVudC12aWF7c3ludGF4OlwiPGNvbG9yPlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6IzAwMDB9QHByb3BlcnR5IC0tdHctZ3JhZGllbnQtdG97c3ludGF4OlwiPGNvbG9yPlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6IzAwMDB9QHByb3BlcnR5IC0tdHctZ3JhZGllbnQtc3RvcHN7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWdyYWRpZW50LXZpYS1zdG9wc3tzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctZ3JhZGllbnQtZnJvbS1wb3NpdGlvbntzeW50YXg6XCI8bGVuZ3RoLXBlcmNlbnRhZ2U+XCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZTowJX1AcHJvcGVydHkgLS10dy1ncmFkaWVudC12aWEtcG9zaXRpb257c3ludGF4OlwiPGxlbmd0aC1wZXJjZW50YWdlPlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6NTAlfUBwcm9wZXJ0eSAtLXR3LWdyYWRpZW50LXRvLXBvc2l0aW9ue3N5bnRheDpcIjxsZW5ndGgtcGVyY2VudGFnZT5cIjtpbmhlcml0czpmYWxzZTtpbml0aWFsLXZhbHVlOjEwMCV9QHByb3BlcnR5IC0tdHctZm9udC13ZWlnaHR7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LXNoYWRvd3tzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZTowIDAgIzAwMDB9QHByb3BlcnR5IC0tdHctc2hhZG93LWNvbG9ye3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1zaGFkb3ctYWxwaGF7c3ludGF4OlwiPHBlcmNlbnRhZ2U+XCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZToxMDAlfUBwcm9wZXJ0eSAtLXR3LWluc2V0LXNoYWRvd3tzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZTowIDAgIzAwMDB9QHByb3BlcnR5IC0tdHctaW5zZXQtc2hhZG93LWNvbG9ye3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1pbnNldC1zaGFkb3ctYWxwaGF7c3ludGF4OlwiPHBlcmNlbnRhZ2U+XCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZToxMDAlfUBwcm9wZXJ0eSAtLXR3LXJpbmctY29sb3J7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LXJpbmctc2hhZG93e3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZTtpbml0aWFsLXZhbHVlOjAgMCAjMDAwMH1AcHJvcGVydHkgLS10dy1pbnNldC1yaW5nLWNvbG9ye3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1pbnNldC1yaW5nLXNoYWRvd3tzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZTowIDAgIzAwMDB9QHByb3BlcnR5IC0tdHctcmluZy1pbnNldHtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctcmluZy1vZmZzZXQtd2lkdGh7c3ludGF4OlwiPGxlbmd0aD5cIjtpbmhlcml0czpmYWxzZTtpbml0aWFsLXZhbHVlOjB9QHByb3BlcnR5IC0tdHctcmluZy1vZmZzZXQtY29sb3J7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6I2ZmZn1AcHJvcGVydHkgLS10dy1yaW5nLW9mZnNldC1zaGFkb3d7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6MCAwICMwMDAwfUBwcm9wZXJ0eSAtLXR3LWJsdXJ7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWJyaWdodG5lc3N7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWNvbnRyYXN0e3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1ncmF5c2NhbGV7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWh1ZS1yb3RhdGV7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWludmVydHtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctb3BhY2l0eXtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctc2F0dXJhdGV7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LXNlcGlhe3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1kcm9wLXNoYWRvd3tzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctZHJvcC1zaGFkb3ctY29sb3J7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWRyb3Atc2hhZG93LWFscGhhe3N5bnRheDpcIjxwZXJjZW50YWdlPlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6MTAwJX1AcHJvcGVydHkgLS10dy1kcm9wLXNoYWRvdy1zaXple3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1iYWNrZHJvcC1ibHVye3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1iYWNrZHJvcC1icmlnaHRuZXNze3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1iYWNrZHJvcC1jb250cmFzdHtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctYmFja2Ryb3AtZ3JheXNjYWxle3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1iYWNrZHJvcC1odWUtcm90YXRle3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1iYWNrZHJvcC1pbnZlcnR7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWJhY2tkcm9wLW9wYWNpdHl7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWJhY2tkcm9wLXNhdHVyYXRle3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1iYWNrZHJvcC1zZXBpYXtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctZHVyYXRpb257c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBrZXlmcmFtZXMgcHVsc2V7NTAle29wYWNpdHk6LjV9fVxcbic7XG52YXIgZiQ4ID0gMDtcbmZ1bmN0aW9uIHUkOShlMiwgdDIsIG4yLCBvMywgaTIsIHUyKSB7XG4gIHQyIHx8ICh0MiA9IHt9KTtcbiAgdmFyIGEzLCBjMiwgcDIgPSB0MjtcbiAgaWYgKFwicmVmXCIgaW4gcDIpIGZvciAoYzIgaW4gcDIgPSB7fSwgdDIpIFwicmVmXCIgPT0gYzIgPyBhMyA9IHQyW2MyXSA6IHAyW2MyXSA9IHQyW2MyXTtcbiAgdmFyIGwyID0geyB0eXBlOiBlMiwgcHJvcHM6IHAyLCBrZXk6IG4yLCByZWY6IGEzLCBfX2s6IG51bGwsIF9fOiBudWxsLCBfX2I6IDAsIF9fZTogbnVsbCwgX19jOiBudWxsLCBjb25zdHJ1Y3Rvcjogdm9pZCAwLCBfX3Y6IC0tZiQ4LCBfX2k6IC0xLCBfX3U6IDAsIF9fc291cmNlOiBpMiwgX19zZWxmOiB1MiB9O1xuICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBlMiAmJiAoYTMgPSBlMi5kZWZhdWx0UHJvcHMpKSBmb3IgKGMyIGluIGEzKSB2b2lkIDAgPT09IHAyW2MyXSAmJiAocDJbYzJdID0gYTNbYzJdKTtcbiAgcmV0dXJuIGwkNC52bm9kZSAmJiBsJDQudm5vZGUobDIpLCBsMjtcbn1cbnZhciB0JDUsIHIkNCwgdSQ4LCBpJDcsIG8kOCA9IDAsIGYkNyA9IFtdLCBjJDYgPSBsJDQsIGUkNCA9IGMkNi5fX2IsIGEkYSA9IGMkNi5fX3IsIHYkMiA9IGMkNi5kaWZmZWQsIGwkMyA9IGMkNi5fX2MsIG0kNSA9IGMkNi51bm1vdW50LCBzJDggPSBjJDYuX187XG5mdW5jdGlvbiBwJDMobjIsIHQyKSB7XG4gIGMkNi5fX2ggJiYgYyQ2Ll9faChyJDQsIG4yLCBvJDggfHwgdDIpLCBvJDggPSAwO1xuICB2YXIgdTIgPSByJDQuX19IIHx8IChyJDQuX19IID0geyBfXzogW10sIF9faDogW10gfSk7XG4gIHJldHVybiBuMiA+PSB1Mi5fXy5sZW5ndGggJiYgdTIuX18ucHVzaCh7fSksIHUyLl9fW24yXTtcbn1cbmZ1bmN0aW9uIGQkNChuMikge1xuICByZXR1cm4gbyQ4ID0gMSwgaCQ1KEQkMiwgbjIpO1xufVxuZnVuY3Rpb24gaCQ1KG4yLCB1MiwgaTIpIHtcbiAgdmFyIG8zID0gcCQzKHQkNSsrLCAyKTtcbiAgaWYgKG8zLnQgPSBuMiwgIW8zLl9fYyAmJiAobzMuX18gPSBbaTIgPyBpMih1MikgOiBEJDIodm9pZCAwLCB1MiksIGZ1bmN0aW9uKG4zKSB7XG4gICAgdmFyIHQyID0gbzMuX19OID8gbzMuX19OWzBdIDogbzMuX19bMF0sIHIyID0gbzMudCh0MiwgbjMpO1xuICAgIHQyICE9PSByMiAmJiAobzMuX19OID0gW3IyLCBvMy5fX1sxXV0sIG8zLl9fYy5zZXRTdGF0ZSh7fSkpO1xuICB9XSwgbzMuX19jID0gciQ0LCAhciQ0Ll9fZikpIHtcbiAgICB2YXIgZjIgPSBmdW5jdGlvbihuMywgdDIsIHIyKSB7XG4gICAgICBpZiAoIW8zLl9fYy5fX0gpIHJldHVybiB0cnVlO1xuICAgICAgdmFyIHUzID0gbzMuX19jLl9fSC5fXy5maWx0ZXIoZnVuY3Rpb24objQpIHtcbiAgICAgICAgcmV0dXJuICEhbjQuX19jO1xuICAgICAgfSk7XG4gICAgICBpZiAodTMuZXZlcnkoZnVuY3Rpb24objQpIHtcbiAgICAgICAgcmV0dXJuICFuNC5fX047XG4gICAgICB9KSkgcmV0dXJuICFjMiB8fCBjMi5jYWxsKHRoaXMsIG4zLCB0MiwgcjIpO1xuICAgICAgdmFyIGkzID0gbzMuX19jLnByb3BzICE9PSBuMztcbiAgICAgIHJldHVybiB1My5mb3JFYWNoKGZ1bmN0aW9uKG40KSB7XG4gICAgICAgIGlmIChuNC5fX04pIHtcbiAgICAgICAgICB2YXIgdDMgPSBuNC5fX1swXTtcbiAgICAgICAgICBuNC5fXyA9IG40Ll9fTiwgbjQuX19OID0gdm9pZCAwLCB0MyAhPT0gbjQuX19bMF0gJiYgKGkzID0gdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pLCBjMiAmJiBjMi5jYWxsKHRoaXMsIG4zLCB0MiwgcjIpIHx8IGkzO1xuICAgIH07XG4gICAgciQ0Ll9fZiA9IHRydWU7XG4gICAgdmFyIGMyID0gciQ0LnNob3VsZENvbXBvbmVudFVwZGF0ZSwgZTIgPSByJDQuY29tcG9uZW50V2lsbFVwZGF0ZTtcbiAgICByJDQuY29tcG9uZW50V2lsbFVwZGF0ZSA9IGZ1bmN0aW9uKG4zLCB0MiwgcjIpIHtcbiAgICAgIGlmICh0aGlzLl9fZSkge1xuICAgICAgICB2YXIgdTMgPSBjMjtcbiAgICAgICAgYzIgPSB2b2lkIDAsIGYyKG4zLCB0MiwgcjIpLCBjMiA9IHUzO1xuICAgICAgfVxuICAgICAgZTIgJiYgZTIuY2FsbCh0aGlzLCBuMywgdDIsIHIyKTtcbiAgICB9LCByJDQuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZjI7XG4gIH1cbiAgcmV0dXJuIG8zLl9fTiB8fCBvMy5fXztcbn1cbmZ1bmN0aW9uIHkkNihuMiwgdTIpIHtcbiAgdmFyIGkyID0gcCQzKHQkNSsrLCAzKTtcbiAgIWMkNi5fX3MgJiYgQyQ0KGkyLl9fSCwgdTIpICYmIChpMi5fXyA9IG4yLCBpMi51ID0gdTIsIHIkNC5fX0guX19oLnB1c2goaTIpKTtcbn1cbmZ1bmN0aW9uIF8kMyhuMiwgdTIpIHtcbiAgdmFyIGkyID0gcCQzKHQkNSsrLCA0KTtcbiAgIWMkNi5fX3MgJiYgQyQ0KGkyLl9fSCwgdTIpICYmIChpMi5fXyA9IG4yLCBpMi51ID0gdTIsIHIkNC5fX2gucHVzaChpMikpO1xufVxuZnVuY3Rpb24gQSQzKG4yKSB7XG4gIHJldHVybiBvJDggPSA1LCBUJDUoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHsgY3VycmVudDogbjIgfTtcbiAgfSwgW10pO1xufVxuZnVuY3Rpb24gRiQ1KG4yLCB0MiwgcjIpIHtcbiAgbyQ4ID0gNiwgXyQzKGZ1bmN0aW9uKCkge1xuICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG4yKSB7XG4gICAgICB2YXIgcjMgPSBuMih0MigpKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbjIobnVsbCksIHIzICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgcjMgJiYgcjMoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChuMikgcmV0dXJuIG4yLmN1cnJlbnQgPSB0MigpLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuMi5jdXJyZW50ID0gbnVsbDtcbiAgICB9O1xuICB9LCBudWxsID09IHIyID8gcjIgOiByMi5jb25jYXQobjIpKTtcbn1cbmZ1bmN0aW9uIFQkNShuMiwgcjIpIHtcbiAgdmFyIHUyID0gcCQzKHQkNSsrLCA3KTtcbiAgcmV0dXJuIEMkNCh1Mi5fX0gsIHIyKSAmJiAodTIuX18gPSBuMigpLCB1Mi5fX0ggPSByMiwgdTIuX19oID0gbjIpLCB1Mi5fXztcbn1cbmZ1bmN0aW9uIHEkMyhuMiwgdDIpIHtcbiAgcmV0dXJuIG8kOCA9IDgsIFQkNShmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbjI7XG4gIH0sIHQyKTtcbn1cbmZ1bmN0aW9uIHgkNChuMikge1xuICB2YXIgdTIgPSByJDQuY29udGV4dFtuMi5fX2NdLCBpMiA9IHAkMyh0JDUrKywgOSk7XG4gIHJldHVybiBpMi5jID0gbjIsIHUyID8gKG51bGwgPT0gaTIuX18gJiYgKGkyLl9fID0gdHJ1ZSwgdTIuc3ViKHIkNCkpLCB1Mi5wcm9wcy52YWx1ZSkgOiBuMi5fXztcbn1cbmZ1bmN0aW9uIFAkNShuMiwgdDIpIHtcbiAgYyQ2LnVzZURlYnVnVmFsdWUgJiYgYyQ2LnVzZURlYnVnVmFsdWUodDIgPyB0MihuMikgOiBuMik7XG59XG5mdW5jdGlvbiBiJDQobjIpIHtcbiAgdmFyIHUyID0gcCQzKHQkNSsrLCAxMCksIGkyID0gZCQ0KCk7XG4gIHJldHVybiB1Mi5fXyA9IG4yLCByJDQuY29tcG9uZW50RGlkQ2F0Y2ggfHwgKHIkNC5jb21wb25lbnREaWRDYXRjaCA9IGZ1bmN0aW9uKG4zLCB0Mikge1xuICAgIHUyLl9fICYmIHUyLl9fKG4zLCB0MiksIGkyWzFdKG4zKTtcbiAgfSksIFtpMlswXSwgZnVuY3Rpb24oKSB7XG4gICAgaTJbMV0odm9pZCAwKTtcbiAgfV07XG59XG5mdW5jdGlvbiBnJDMoKSB7XG4gIHZhciBuMiA9IHAkMyh0JDUrKywgMTEpO1xuICBpZiAoIW4yLl9fKSB7XG4gICAgZm9yICh2YXIgdTIgPSByJDQuX192OyBudWxsICE9PSB1MiAmJiAhdTIuX19tICYmIG51bGwgIT09IHUyLl9fOyApIHUyID0gdTIuX187XG4gICAgdmFyIGkyID0gdTIuX19tIHx8ICh1Mi5fX20gPSBbMCwgMF0pO1xuICAgIG4yLl9fID0gXCJQXCIgKyBpMlswXSArIFwiLVwiICsgaTJbMV0rKztcbiAgfVxuICByZXR1cm4gbjIuX187XG59XG5mdW5jdGlvbiBqJDQoKSB7XG4gIGZvciAodmFyIG4yOyBuMiA9IGYkNy5zaGlmdCgpOyApIGlmIChuMi5fX1AgJiYgbjIuX19IKSB0cnkge1xuICAgIG4yLl9fSC5fX2guZm9yRWFjaCh6JDIpLCBuMi5fX0guX19oLmZvckVhY2goQiQyKSwgbjIuX19ILl9faCA9IFtdO1xuICB9IGNhdGNoICh0Mikge1xuICAgIG4yLl9fSC5fX2ggPSBbXSwgYyQ2Ll9fZSh0MiwgbjIuX192KTtcbiAgfVxufVxuYyQ2Ll9fYiA9IGZ1bmN0aW9uKG4yKSB7XG4gIHIkNCA9IG51bGwsIGUkNCAmJiBlJDQobjIpO1xufSwgYyQ2Ll9fID0gZnVuY3Rpb24objIsIHQyKSB7XG4gIG4yICYmIHQyLl9fayAmJiB0Mi5fX2suX19tICYmIChuMi5fX20gPSB0Mi5fX2suX19tKSwgcyQ4ICYmIHMkOChuMiwgdDIpO1xufSwgYyQ2Ll9fciA9IGZ1bmN0aW9uKG4yKSB7XG4gIGEkYSAmJiBhJGEobjIpLCB0JDUgPSAwO1xuICB2YXIgaTIgPSAociQ0ID0gbjIuX19jKS5fX0g7XG4gIGkyICYmICh1JDggPT09IHIkNCA/IChpMi5fX2ggPSBbXSwgciQ0Ll9faCA9IFtdLCBpMi5fXy5mb3JFYWNoKGZ1bmN0aW9uKG4zKSB7XG4gICAgbjMuX19OICYmIChuMy5fXyA9IG4zLl9fTiksIG4zLnUgPSBuMy5fX04gPSB2b2lkIDA7XG4gIH0pKSA6IChpMi5fX2guZm9yRWFjaCh6JDIpLCBpMi5fX2guZm9yRWFjaChCJDIpLCBpMi5fX2ggPSBbXSwgdCQ1ID0gMCkpLCB1JDggPSByJDQ7XG59LCBjJDYuZGlmZmVkID0gZnVuY3Rpb24objIpIHtcbiAgdiQyICYmIHYkMihuMik7XG4gIHZhciB0MiA9IG4yLl9fYztcbiAgdDIgJiYgdDIuX19IICYmICh0Mi5fX0guX19oLmxlbmd0aCAmJiAoMSAhPT0gZiQ3LnB1c2godDIpICYmIGkkNyA9PT0gYyQ2LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoKGkkNyA9IGMkNi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHx8IHckNCkoaiQ0KSksIHQyLl9fSC5fXy5mb3JFYWNoKGZ1bmN0aW9uKG4zKSB7XG4gICAgbjMudSAmJiAobjMuX19IID0gbjMudSksIG4zLnUgPSB2b2lkIDA7XG4gIH0pKSwgdSQ4ID0gciQ0ID0gbnVsbDtcbn0sIGMkNi5fX2MgPSBmdW5jdGlvbihuMiwgdDIpIHtcbiAgdDIuc29tZShmdW5jdGlvbihuMykge1xuICAgIHRyeSB7XG4gICAgICBuMy5fX2guZm9yRWFjaCh6JDIpLCBuMy5fX2ggPSBuMy5fX2guZmlsdGVyKGZ1bmN0aW9uKG40KSB7XG4gICAgICAgIHJldHVybiAhbjQuX18gfHwgQiQyKG40KTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKHIyKSB7XG4gICAgICB0Mi5zb21lKGZ1bmN0aW9uKG40KSB7XG4gICAgICAgIG40Ll9faCAmJiAobjQuX19oID0gW10pO1xuICAgICAgfSksIHQyID0gW10sIGMkNi5fX2UocjIsIG4zLl9fdik7XG4gICAgfVxuICB9KSwgbCQzICYmIGwkMyhuMiwgdDIpO1xufSwgYyQ2LnVubW91bnQgPSBmdW5jdGlvbihuMikge1xuICBtJDUgJiYgbSQ1KG4yKTtcbiAgdmFyIHQyLCByMiA9IG4yLl9fYztcbiAgcjIgJiYgcjIuX19IICYmIChyMi5fX0guX18uZm9yRWFjaChmdW5jdGlvbihuMykge1xuICAgIHRyeSB7XG4gICAgICB6JDIobjMpO1xuICAgIH0gY2F0Y2ggKG40KSB7XG4gICAgICB0MiA9IG40O1xuICAgIH1cbiAgfSksIHIyLl9fSCA9IHZvaWQgMCwgdDIgJiYgYyQ2Ll9fZSh0MiwgcjIuX192KSk7XG59O1xudmFyIGskMiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuZnVuY3Rpb24gdyQ0KG4yKSB7XG4gIHZhciB0MiwgcjIgPSBmdW5jdGlvbigpIHtcbiAgICBjbGVhclRpbWVvdXQodTIpLCBrJDIgJiYgY2FuY2VsQW5pbWF0aW9uRnJhbWUodDIpLCBzZXRUaW1lb3V0KG4yKTtcbiAgfSwgdTIgPSBzZXRUaW1lb3V0KHIyLCAxMDApO1xuICBrJDIgJiYgKHQyID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHIyKSk7XG59XG5mdW5jdGlvbiB6JDIobjIpIHtcbiAgdmFyIHQyID0gciQ0LCB1MiA9IG4yLl9fYztcbiAgXCJmdW5jdGlvblwiID09IHR5cGVvZiB1MiAmJiAobjIuX19jID0gdm9pZCAwLCB1MigpKSwgciQ0ID0gdDI7XG59XG5mdW5jdGlvbiBCJDIobjIpIHtcbiAgdmFyIHQyID0gciQ0O1xuICBuMi5fX2MgPSBuMi5fXygpLCByJDQgPSB0Mjtcbn1cbmZ1bmN0aW9uIEMkNChuMiwgdDIpIHtcbiAgcmV0dXJuICFuMiB8fCBuMi5sZW5ndGggIT09IHQyLmxlbmd0aCB8fCB0Mi5zb21lKGZ1bmN0aW9uKHQzLCByMikge1xuICAgIHJldHVybiB0MyAhPT0gbjJbcjJdO1xuICB9KTtcbn1cbmZ1bmN0aW9uIEQkMihuMiwgdDIpIHtcbiAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdDIgPyB0MihuMikgOiB0Mjtcbn1cbmNvbnN0IFBsdWdpbkNvbnRleHQgPSBLJDMoW10pO1xuZnVuY3Rpb24gUGx1Z2luUHJvdmlkZXIoe1xuICBjaGlsZHJlbixcbiAgcGx1Z2luc1xufSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShQbHVnaW5Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBwbHVnaW5zLCBjaGlsZHJlbiB9KTtcbn1cbmZ1bmN0aW9uIHVzZVBsdWdpbnMoKSB7XG4gIGNvbnN0IHBsdWdpbiA9IHgkNChQbHVnaW5Db250ZXh0KTtcbiAgaWYgKCFwbHVnaW4pIHJldHVybiBbXTtcbiAgcmV0dXJuIHBsdWdpbjtcbn1cbmZ1bmN0aW9uIGckMihuMiwgdDIpIHtcbiAgZm9yICh2YXIgZTIgaW4gdDIpIG4yW2UyXSA9IHQyW2UyXTtcbiAgcmV0dXJuIG4yO1xufVxuZnVuY3Rpb24gRSQyKG4yLCB0Mikge1xuICBmb3IgKHZhciBlMiBpbiBuMikgaWYgKFwiX19zb3VyY2VcIiAhPT0gZTIgJiYgIShlMiBpbiB0MikpIHJldHVybiB0cnVlO1xuICBmb3IgKHZhciByMiBpbiB0MikgaWYgKFwiX19zb3VyY2VcIiAhPT0gcjIgJiYgbjJbcjJdICE9PSB0MltyMl0pIHJldHVybiB0cnVlO1xuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBDJDMobjIsIHQyKSB7XG4gIHZhciBlMiA9IHQyKCksIHIyID0gZCQ0KHsgdDogeyBfXzogZTIsIHU6IHQyIH0gfSksIHUyID0gcjJbMF0udCwgbzMgPSByMlsxXTtcbiAgcmV0dXJuIF8kMyhmdW5jdGlvbigpIHtcbiAgICB1Mi5fXyA9IGUyLCB1Mi51ID0gdDIsIHgkMyh1MikgJiYgbzMoeyB0OiB1MiB9KTtcbiAgfSwgW24yLCBlMiwgdDJdKSwgeSQ2KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB4JDModTIpICYmIG8zKHsgdDogdTIgfSksIG4yKGZ1bmN0aW9uKCkge1xuICAgICAgeCQzKHUyKSAmJiBvMyh7IHQ6IHUyIH0pO1xuICAgIH0pO1xuICB9LCBbbjJdKSwgZTI7XG59XG5mdW5jdGlvbiB4JDMobjIpIHtcbiAgdmFyIHQyLCBlMiwgcjIgPSBuMi51LCB1MiA9IG4yLl9fO1xuICB0cnkge1xuICAgIHZhciBvMyA9IHIyKCk7XG4gICAgcmV0dXJuICEoKHQyID0gdTIpID09PSAoZTIgPSBvMykgJiYgKDAgIT09IHQyIHx8IDEgLyB0MiA9PSAxIC8gZTIpIHx8IHQyICE9IHQyICYmIGUyICE9IGUyKTtcbiAgfSBjYXRjaCAobjMpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuZnVuY3Rpb24gUiQzKG4yKSB7XG4gIG4yKCk7XG59XG5mdW5jdGlvbiB3JDMobjIpIHtcbiAgcmV0dXJuIG4yO1xufVxuZnVuY3Rpb24gayQxKCkge1xuICByZXR1cm4gW2ZhbHNlLCBSJDNdO1xufVxudmFyIEkkMyA9IF8kMztcbmZ1bmN0aW9uIE4kMShuMiwgdDIpIHtcbiAgdGhpcy5wcm9wcyA9IG4yLCB0aGlzLmNvbnRleHQgPSB0Mjtcbn1cbmZ1bmN0aW9uIE0kMyhuMiwgZTIpIHtcbiAgZnVuY3Rpb24gcjIobjMpIHtcbiAgICB2YXIgdDIgPSB0aGlzLnByb3BzLnJlZiwgcjMgPSB0MiA9PSBuMy5yZWY7XG4gICAgcmV0dXJuICFyMyAmJiB0MiAmJiAodDIuY2FsbCA/IHQyKG51bGwpIDogdDIuY3VycmVudCA9IG51bGwpLCBlMiA/ICFlMih0aGlzLnByb3BzLCBuMykgfHwgIXIzIDogRSQyKHRoaXMucHJvcHMsIG4zKTtcbiAgfVxuICBmdW5jdGlvbiB1MihlMykge1xuICAgIHJldHVybiB0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IHIyLCBfJDQobjIsIGUzKTtcbiAgfVxuICByZXR1cm4gdTIuZGlzcGxheU5hbWUgPSBcIk1lbW8oXCIgKyAobjIuZGlzcGxheU5hbWUgfHwgbjIubmFtZSkgKyBcIilcIiwgdTIucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSB0cnVlLCB1Mi5fX2YgPSB0cnVlLCB1Mjtcbn1cbihOJDEucHJvdG90eXBlID0gbmV3IHgkNSgpKS5pc1B1cmVSZWFjdENvbXBvbmVudCA9IHRydWUsIE4kMS5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24objIsIHQyKSB7XG4gIHJldHVybiBFJDIodGhpcy5wcm9wcywgbjIpIHx8IEUkMih0aGlzLnN0YXRlLCB0Mik7XG59O1xudmFyIFQkNCA9IGwkNC5fX2I7XG5sJDQuX19iID0gZnVuY3Rpb24objIpIHtcbiAgbjIudHlwZSAmJiBuMi50eXBlLl9fZiAmJiBuMi5yZWYgJiYgKG4yLnByb3BzLnJlZiA9IG4yLnJlZiwgbjIucmVmID0gbnVsbCksIFQkNCAmJiBUJDQobjIpO1xufTtcbnZhciBBJDIgPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sLmZvciAmJiBTeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIikgfHwgMzkxMTtcbmZ1bmN0aW9uIEQkMShuMikge1xuICBmdW5jdGlvbiB0Mih0Mykge1xuICAgIHZhciBlMiA9IGckMih7fSwgdDMpO1xuICAgIHJldHVybiBkZWxldGUgZTIucmVmLCBuMihlMiwgdDMucmVmIHx8IG51bGwpO1xuICB9XG4gIHJldHVybiB0Mi4kJHR5cGVvZiA9IEEkMiwgdDIucmVuZGVyID0gdDIsIHQyLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0gdDIuX19mID0gdHJ1ZSwgdDIuZGlzcGxheU5hbWUgPSBcIkZvcndhcmRSZWYoXCIgKyAobjIuZGlzcGxheU5hbWUgfHwgbjIubmFtZSkgKyBcIilcIiwgdDI7XG59XG52YXIgTCQzID0gZnVuY3Rpb24objIsIHQyKSB7XG4gIHJldHVybiBudWxsID09IG4yID8gbnVsbCA6IEgkNihIJDYobjIpLm1hcCh0MikpO1xufSwgTyQyID0geyBtYXA6IEwkMywgZm9yRWFjaDogTCQzLCBjb3VudDogZnVuY3Rpb24objIpIHtcbiAgcmV0dXJuIG4yID8gSCQ2KG4yKS5sZW5ndGggOiAwO1xufSwgb25seTogZnVuY3Rpb24objIpIHtcbiAgdmFyIHQyID0gSCQ2KG4yKTtcbiAgaWYgKDEgIT09IHQyLmxlbmd0aCkgdGhyb3cgXCJDaGlsZHJlbi5vbmx5XCI7XG4gIHJldHVybiB0MlswXTtcbn0sIHRvQXJyYXk6IEgkNiB9LCBGJDQgPSBsJDQuX19lO1xubCQ0Ll9fZSA9IGZ1bmN0aW9uKG4yLCB0MiwgZTIsIHIyKSB7XG4gIGlmIChuMi50aGVuKSB7XG4gICAgZm9yICh2YXIgdTIsIG8zID0gdDI7IG8zID0gbzMuX187ICkgaWYgKCh1MiA9IG8zLl9fYykgJiYgdTIuX19jKSByZXR1cm4gbnVsbCA9PSB0Mi5fX2UgJiYgKHQyLl9fZSA9IGUyLl9fZSwgdDIuX19rID0gZTIuX19rKSwgdTIuX19jKG4yLCB0Mik7XG4gIH1cbiAgRiQ0KG4yLCB0MiwgZTIsIHIyKTtcbn07XG52YXIgVSQzID0gbCQ0LnVubW91bnQ7XG5mdW5jdGlvbiBWJDEobjIsIHQyLCBlMikge1xuICByZXR1cm4gbjIgJiYgKG4yLl9fYyAmJiBuMi5fX2MuX19IICYmIChuMi5fX2MuX19ILl9fLmZvckVhY2goZnVuY3Rpb24objMpIHtcbiAgICBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG4zLl9fYyAmJiBuMy5fX2MoKTtcbiAgfSksIG4yLl9fYy5fX0ggPSBudWxsKSwgbnVsbCAhPSAobjIgPSBnJDIoe30sIG4yKSkuX19jICYmIChuMi5fX2MuX19QID09PSBlMiAmJiAobjIuX19jLl9fUCA9IHQyKSwgbjIuX19jLl9fZSA9IHRydWUsIG4yLl9fYyA9IG51bGwpLCBuMi5fX2sgPSBuMi5fX2sgJiYgbjIuX19rLm1hcChmdW5jdGlvbihuMykge1xuICAgIHJldHVybiBWJDEobjMsIHQyLCBlMik7XG4gIH0pKSwgbjI7XG59XG5mdW5jdGlvbiBXKG4yLCB0MiwgZTIpIHtcbiAgcmV0dXJuIG4yICYmIGUyICYmIChuMi5fX3YgPSBudWxsLCBuMi5fX2sgPSBuMi5fX2sgJiYgbjIuX19rLm1hcChmdW5jdGlvbihuMykge1xuICAgIHJldHVybiBXKG4zLCB0MiwgZTIpO1xuICB9KSwgbjIuX19jICYmIG4yLl9fYy5fX1AgPT09IHQyICYmIChuMi5fX2UgJiYgZTIuYXBwZW5kQ2hpbGQobjIuX19lKSwgbjIuX19jLl9fZSA9IHRydWUsIG4yLl9fYy5fX1AgPSBlMikpLCBuMjtcbn1cbmZ1bmN0aW9uIFAkNCgpIHtcbiAgdGhpcy5fX3UgPSAwLCB0aGlzLm8gPSBudWxsLCB0aGlzLl9fYiA9IG51bGw7XG59XG5mdW5jdGlvbiBqJDMobjIpIHtcbiAgdmFyIHQyID0gbjIuX18uX19jO1xuICByZXR1cm4gdDIgJiYgdDIuX19hICYmIHQyLl9fYShuMik7XG59XG5mdW5jdGlvbiB6JDEobjIpIHtcbiAgdmFyIGUyLCByMiwgdTI7XG4gIGZ1bmN0aW9uIG8zKG80KSB7XG4gICAgaWYgKGUyIHx8IChlMiA9IG4yKCkpLnRoZW4oZnVuY3Rpb24objMpIHtcbiAgICAgIHIyID0gbjMuZGVmYXVsdCB8fCBuMztcbiAgICB9LCBmdW5jdGlvbihuMykge1xuICAgICAgdTIgPSBuMztcbiAgICB9KSwgdTIpIHRocm93IHUyO1xuICAgIGlmICghcjIpIHRocm93IGUyO1xuICAgIHJldHVybiBfJDQocjIsIG80KTtcbiAgfVxuICByZXR1cm4gbzMuZGlzcGxheU5hbWUgPSBcIkxhenlcIiwgbzMuX19mID0gdHJ1ZSwgbzM7XG59XG5mdW5jdGlvbiBCJDEoKSB7XG4gIHRoaXMuaSA9IG51bGwsIHRoaXMubCA9IG51bGw7XG59XG5sJDQudW5tb3VudCA9IGZ1bmN0aW9uKG4yKSB7XG4gIHZhciB0MiA9IG4yLl9fYztcbiAgdDIgJiYgdDIuX19SICYmIHQyLl9fUigpLCB0MiAmJiAzMiAmIG4yLl9fdSAmJiAobjIudHlwZSA9IG51bGwpLCBVJDMgJiYgVSQzKG4yKTtcbn0sIChQJDQucHJvdG90eXBlID0gbmV3IHgkNSgpKS5fX2MgPSBmdW5jdGlvbihuMiwgdDIpIHtcbiAgdmFyIGUyID0gdDIuX19jLCByMiA9IHRoaXM7XG4gIG51bGwgPT0gcjIubyAmJiAocjIubyA9IFtdKSwgcjIuby5wdXNoKGUyKTtcbiAgdmFyIHUyID0gaiQzKHIyLl9fdiksIG8zID0gZmFsc2UsIGkyID0gZnVuY3Rpb24oKSB7XG4gICAgbzMgfHwgKG8zID0gdHJ1ZSwgZTIuX19SID0gbnVsbCwgdTIgPyB1MihsMikgOiBsMigpKTtcbiAgfTtcbiAgZTIuX19SID0gaTI7XG4gIHZhciBsMiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghLS1yMi5fX3UpIHtcbiAgICAgIGlmIChyMi5zdGF0ZS5fX2EpIHtcbiAgICAgICAgdmFyIG4zID0gcjIuc3RhdGUuX19hO1xuICAgICAgICByMi5fX3YuX19rWzBdID0gVyhuMywgbjMuX19jLl9fUCwgbjMuX19jLl9fTyk7XG4gICAgICB9XG4gICAgICB2YXIgdDM7XG4gICAgICBmb3IgKHIyLnNldFN0YXRlKHsgX19hOiByMi5fX2IgPSBudWxsIH0pOyB0MyA9IHIyLm8ucG9wKCk7ICkgdDMuZm9yY2VVcGRhdGUoKTtcbiAgICB9XG4gIH07XG4gIHIyLl9fdSsrIHx8IDMyICYgdDIuX191IHx8IHIyLnNldFN0YXRlKHsgX19hOiByMi5fX2IgPSByMi5fX3YuX19rWzBdIH0pLCBuMi50aGVuKGkyLCBpMik7XG59LCBQJDQucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubyA9IFtdO1xufSwgUCQ0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbihuMiwgZTIpIHtcbiAgaWYgKHRoaXMuX19iKSB7XG4gICAgaWYgKHRoaXMuX192Ll9faykge1xuICAgICAgdmFyIHIyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgbzMgPSB0aGlzLl9fdi5fX2tbMF0uX19jO1xuICAgICAgdGhpcy5fX3YuX19rWzBdID0gViQxKHRoaXMuX19iLCByMiwgbzMuX19PID0gbzMuX19QKTtcbiAgICB9XG4gICAgdGhpcy5fX2IgPSBudWxsO1xuICB9XG4gIHZhciBpMiA9IGUyLl9fYSAmJiBfJDQoayQzLCBudWxsLCBuMi5mYWxsYmFjayk7XG4gIHJldHVybiBpMiAmJiAoaTIuX191ICY9IC0zMyksIFtfJDQoayQzLCBudWxsLCBlMi5fX2EgPyBudWxsIDogbjIuY2hpbGRyZW4pLCBpMl07XG59O1xudmFyIEgkNSA9IGZ1bmN0aW9uKG4yLCB0MiwgZTIpIHtcbiAgaWYgKCsrZTJbMV0gPT09IGUyWzBdICYmIG4yLmwuZGVsZXRlKHQyKSwgbjIucHJvcHMucmV2ZWFsT3JkZXIgJiYgKFwidFwiICE9PSBuMi5wcm9wcy5yZXZlYWxPcmRlclswXSB8fCAhbjIubC5zaXplKSkgZm9yIChlMiA9IG4yLmk7IGUyOyApIHtcbiAgICBmb3IgKDsgZTIubGVuZ3RoID4gMzsgKSBlMi5wb3AoKSgpO1xuICAgIGlmIChlMlsxXSA8IGUyWzBdKSBicmVhaztcbiAgICBuMi5pID0gZTIgPSBlMlsyXTtcbiAgfVxufTtcbmZ1bmN0aW9uIFoobjIpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb250ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG4yLmNvbnRleHQ7XG4gIH0sIG4yLmNoaWxkcmVuO1xufVxuZnVuY3Rpb24gWShuMikge1xuICB2YXIgZTIgPSB0aGlzLCByMiA9IG4yLmg7XG4gIGlmIChlMi5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uKCkge1xuICAgIEUkMyhudWxsLCBlMi52KSwgZTIudiA9IG51bGwsIGUyLmggPSBudWxsO1xuICB9LCBlMi5oICYmIGUyLmggIT09IHIyICYmIGUyLmNvbXBvbmVudFdpbGxVbm1vdW50KCksICFlMi52KSB7XG4gICAgZm9yICh2YXIgdTIgPSBlMi5fX3Y7IG51bGwgIT09IHUyICYmICF1Mi5fX20gJiYgbnVsbCAhPT0gdTIuX187ICkgdTIgPSB1Mi5fXztcbiAgICBlMi5oID0gcjIsIGUyLnYgPSB7IG5vZGVUeXBlOiAxLCBwYXJlbnROb2RlOiByMiwgY2hpbGROb2RlczogW10sIF9fazogeyBfX206IHUyLl9fbSB9LCBjb250YWluczogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LCBhcHBlbmRDaGlsZDogZnVuY3Rpb24objMpIHtcbiAgICAgIHRoaXMuY2hpbGROb2Rlcy5wdXNoKG4zKSwgZTIuaC5hcHBlbmRDaGlsZChuMyk7XG4gICAgfSwgaW5zZXJ0QmVmb3JlOiBmdW5jdGlvbihuMywgdDIpIHtcbiAgICAgIHRoaXMuY2hpbGROb2Rlcy5wdXNoKG4zKSwgZTIuaC5pbnNlcnRCZWZvcmUobjMsIHQyKTtcbiAgICB9LCByZW1vdmVDaGlsZDogZnVuY3Rpb24objMpIHtcbiAgICAgIHRoaXMuY2hpbGROb2Rlcy5zcGxpY2UodGhpcy5jaGlsZE5vZGVzLmluZGV4T2YobjMpID4+PiAxLCAxKSwgZTIuaC5yZW1vdmVDaGlsZChuMyk7XG4gICAgfSB9O1xuICB9XG4gIEUkMyhfJDQoWiwgeyBjb250ZXh0OiBlMi5jb250ZXh0IH0sIG4yLl9fdiksIGUyLnYpO1xufVxuZnVuY3Rpb24gJCQxKG4yLCBlMikge1xuICB2YXIgcjIgPSBfJDQoWSwgeyBfX3Y6IG4yLCBoOiBlMiB9KTtcbiAgcmV0dXJuIHIyLmNvbnRhaW5lckluZm8gPSBlMiwgcjI7XG59XG4oQiQxLnByb3RvdHlwZSA9IG5ldyB4JDUoKSkuX19hID0gZnVuY3Rpb24objIpIHtcbiAgdmFyIHQyID0gdGhpcywgZTIgPSBqJDModDIuX192KSwgcjIgPSB0Mi5sLmdldChuMik7XG4gIHJldHVybiByMlswXSsrLCBmdW5jdGlvbih1Mikge1xuICAgIHZhciBvMyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdDIucHJvcHMucmV2ZWFsT3JkZXIgPyAocjIucHVzaCh1MiksIEgkNSh0MiwgbjIsIHIyKSkgOiB1MigpO1xuICAgIH07XG4gICAgZTIgPyBlMihvMykgOiBvMygpO1xuICB9O1xufSwgQiQxLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbihuMikge1xuICB0aGlzLmkgPSBudWxsLCB0aGlzLmwgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICB2YXIgdDIgPSBIJDYobjIuY2hpbGRyZW4pO1xuICBuMi5yZXZlYWxPcmRlciAmJiBcImJcIiA9PT0gbjIucmV2ZWFsT3JkZXJbMF0gJiYgdDIucmV2ZXJzZSgpO1xuICBmb3IgKHZhciBlMiA9IHQyLmxlbmd0aDsgZTItLTsgKSB0aGlzLmwuc2V0KHQyW2UyXSwgdGhpcy5pID0gWzEsIDAsIHRoaXMuaV0pO1xuICByZXR1cm4gbjIuY2hpbGRyZW47XG59LCBCJDEucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IEIkMS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIG4yID0gdGhpcztcbiAgdGhpcy5sLmZvckVhY2goZnVuY3Rpb24odDIsIGUyKSB7XG4gICAgSCQ1KG4yLCBlMiwgdDIpO1xuICB9KTtcbn07XG52YXIgcSQyID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC5mb3IgJiYgU3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIikgfHwgNjAxMDMsIEckMiA9IC9eKD86YWNjZW50fGFsaWdubWVudHxhcmFiaWN8YmFzZWxpbmV8Y2FwfGNsaXAoPyFQYXRoVSl8Y29sb3J8ZG9taW5hbnR8ZmlsbHxmbG9vZHxmb250fGdseXBoKD8hUil8aG9yaXp8aW1hZ2UoIVMpfGxldHRlcnxsaWdodGluZ3xtYXJrZXIoPyFIfFd8VSl8b3ZlcmxpbmV8cGFpbnR8cG9pbnRlcnxzaGFwZXxzdG9wfHN0cmlrZXRocm91Z2h8c3Ryb2tlfHRleHQoPyFMKXx0cmFuc2Zvcm18dW5kZXJsaW5lfHVuaWNvZGV8dW5pdHN8dnx2ZWN0b3J8dmVydHx3b3JkfHdyaXRpbmd8eCg/IUMpKVtBLVpdLywgSiQzID0gL15vbihBbml8VHJhfFRvdXxCZWZvcmVJbnB8Q29tcG8pLywgSyQyID0gL1tBLVowLTldL2csIFEgPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBkb2N1bWVudCwgWCQxID0gZnVuY3Rpb24objIpIHtcbiAgcmV0dXJuIChcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sKCkgPyAvZmlsfGNoZXxyYWQvIDogL2ZpbHxjaGV8cmEvKS50ZXN0KG4yKTtcbn07XG5mdW5jdGlvbiBubihuMiwgdDIsIGUyKSB7XG4gIHJldHVybiBudWxsID09IHQyLl9fayAmJiAodDIudGV4dENvbnRlbnQgPSBcIlwiKSwgRSQzKG4yLCB0MiksIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZTIgJiYgZTIoKSwgbjIgPyBuMi5fX2MgOiBudWxsO1xufVxuZnVuY3Rpb24gdG4objIsIHQyLCBlMikge1xuICByZXR1cm4gRyQzKG4yLCB0MiksIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZTIgJiYgZTIoKSwgbjIgPyBuMi5fX2MgOiBudWxsO1xufVxueCQ1LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge30sIFtcImNvbXBvbmVudFdpbGxNb3VudFwiLCBcImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcIiwgXCJjb21wb25lbnRXaWxsVXBkYXRlXCJdLmZvckVhY2goZnVuY3Rpb24odDIpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHgkNS5wcm90b3R5cGUsIHQyLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpc1tcIlVOU0FGRV9cIiArIHQyXTtcbiAgfSwgc2V0OiBmdW5jdGlvbihuMikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCB0MiwgeyBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTogbjIgfSk7XG4gIH0gfSk7XG59KTtcbnZhciBlbiA9IGwkNC5ldmVudDtcbmZ1bmN0aW9uIHJuKCkge1xufVxuZnVuY3Rpb24gdW4oKSB7XG4gIHJldHVybiB0aGlzLmNhbmNlbEJ1YmJsZTtcbn1cbmZ1bmN0aW9uIG9uKCkge1xuICByZXR1cm4gdGhpcy5kZWZhdWx0UHJldmVudGVkO1xufVxubCQ0LmV2ZW50ID0gZnVuY3Rpb24objIpIHtcbiAgcmV0dXJuIGVuICYmIChuMiA9IGVuKG4yKSksIG4yLnBlcnNpc3QgPSBybiwgbjIuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSB1biwgbjIuaXNEZWZhdWx0UHJldmVudGVkID0gb24sIG4yLm5hdGl2ZUV2ZW50ID0gbjI7XG59O1xudmFyIGxuLCBjbiQxID0geyBlbnVtZXJhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5jbGFzcztcbn0gfSwgZm4gPSBsJDQudm5vZGU7XG5sJDQudm5vZGUgPSBmdW5jdGlvbihuMikge1xuICBcInN0cmluZ1wiID09IHR5cGVvZiBuMi50eXBlICYmIGZ1bmN0aW9uKG4zKSB7XG4gICAgdmFyIHQyID0gbjMucHJvcHMsIGUyID0gbjMudHlwZSwgdTIgPSB7fSwgbzMgPSAtMSA9PT0gZTIuaW5kZXhPZihcIi1cIik7XG4gICAgZm9yICh2YXIgaTIgaW4gdDIpIHtcbiAgICAgIHZhciBsMiA9IHQyW2kyXTtcbiAgICAgIGlmICghKFwidmFsdWVcIiA9PT0gaTIgJiYgXCJkZWZhdWx0VmFsdWVcIiBpbiB0MiAmJiBudWxsID09IGwyIHx8IFEgJiYgXCJjaGlsZHJlblwiID09PSBpMiAmJiBcIm5vc2NyaXB0XCIgPT09IGUyIHx8IFwiY2xhc3NcIiA9PT0gaTIgfHwgXCJjbGFzc05hbWVcIiA9PT0gaTIpKSB7XG4gICAgICAgIHZhciBjMiA9IGkyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIFwiZGVmYXVsdFZhbHVlXCIgPT09IGkyICYmIFwidmFsdWVcIiBpbiB0MiAmJiBudWxsID09IHQyLnZhbHVlID8gaTIgPSBcInZhbHVlXCIgOiBcImRvd25sb2FkXCIgPT09IGkyICYmIHRydWUgPT09IGwyID8gbDIgPSBcIlwiIDogXCJ0cmFuc2xhdGVcIiA9PT0gYzIgJiYgXCJub1wiID09PSBsMiA/IGwyID0gZmFsc2UgOiBcIm9cIiA9PT0gYzJbMF0gJiYgXCJuXCIgPT09IGMyWzFdID8gXCJvbmRvdWJsZWNsaWNrXCIgPT09IGMyID8gaTIgPSBcIm9uZGJsY2xpY2tcIiA6IFwib25jaGFuZ2VcIiAhPT0gYzIgfHwgXCJpbnB1dFwiICE9PSBlMiAmJiBcInRleHRhcmVhXCIgIT09IGUyIHx8IFgkMSh0Mi50eXBlKSA/IFwib25mb2N1c1wiID09PSBjMiA/IGkyID0gXCJvbmZvY3VzaW5cIiA6IFwib25ibHVyXCIgPT09IGMyID8gaTIgPSBcIm9uZm9jdXNvdXRcIiA6IEokMy50ZXN0KGkyKSAmJiAoaTIgPSBjMikgOiBjMiA9IGkyID0gXCJvbmlucHV0XCIgOiBvMyAmJiBHJDIudGVzdChpMikgPyBpMiA9IGkyLnJlcGxhY2UoSyQyLCBcIi0kJlwiKS50b0xvd2VyQ2FzZSgpIDogbnVsbCA9PT0gbDIgJiYgKGwyID0gdm9pZCAwKSwgXCJvbmlucHV0XCIgPT09IGMyICYmIHUyW2kyID0gYzJdICYmIChpMiA9IFwib25pbnB1dENhcHR1cmVcIiksIHUyW2kyXSA9IGwyO1xuICAgICAgfVxuICAgIH1cbiAgICBcInNlbGVjdFwiID09IGUyICYmIHUyLm11bHRpcGxlICYmIEFycmF5LmlzQXJyYXkodTIudmFsdWUpICYmICh1Mi52YWx1ZSA9IEgkNih0Mi5jaGlsZHJlbikuZm9yRWFjaChmdW5jdGlvbihuNCkge1xuICAgICAgbjQucHJvcHMuc2VsZWN0ZWQgPSAtMSAhPSB1Mi52YWx1ZS5pbmRleE9mKG40LnByb3BzLnZhbHVlKTtcbiAgICB9KSksIFwic2VsZWN0XCIgPT0gZTIgJiYgbnVsbCAhPSB1Mi5kZWZhdWx0VmFsdWUgJiYgKHUyLnZhbHVlID0gSCQ2KHQyLmNoaWxkcmVuKS5mb3JFYWNoKGZ1bmN0aW9uKG40KSB7XG4gICAgICBuNC5wcm9wcy5zZWxlY3RlZCA9IHUyLm11bHRpcGxlID8gLTEgIT0gdTIuZGVmYXVsdFZhbHVlLmluZGV4T2YobjQucHJvcHMudmFsdWUpIDogdTIuZGVmYXVsdFZhbHVlID09IG40LnByb3BzLnZhbHVlO1xuICAgIH0pKSwgdDIuY2xhc3MgJiYgIXQyLmNsYXNzTmFtZSA/ICh1Mi5jbGFzcyA9IHQyLmNsYXNzLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodTIsIFwiY2xhc3NOYW1lXCIsIGNuJDEpKSA6ICh0Mi5jbGFzc05hbWUgJiYgIXQyLmNsYXNzIHx8IHQyLmNsYXNzICYmIHQyLmNsYXNzTmFtZSkgJiYgKHUyLmNsYXNzID0gdTIuY2xhc3NOYW1lID0gdDIuY2xhc3NOYW1lKSwgbjMucHJvcHMgPSB1MjtcbiAgfShuMiksIG4yLiQkdHlwZW9mID0gcSQyLCBmbiAmJiBmbihuMik7XG59O1xudmFyIGFuID0gbCQ0Ll9fcjtcbmwkNC5fX3IgPSBmdW5jdGlvbihuMikge1xuICBhbiAmJiBhbihuMiksIGxuID0gbjIuX19jO1xufTtcbnZhciBzbiA9IGwkNC5kaWZmZWQ7XG5sJDQuZGlmZmVkID0gZnVuY3Rpb24objIpIHtcbiAgc24gJiYgc24objIpO1xuICB2YXIgdDIgPSBuMi5wcm9wcywgZTIgPSBuMi5fX2U7XG4gIG51bGwgIT0gZTIgJiYgXCJ0ZXh0YXJlYVwiID09PSBuMi50eXBlICYmIFwidmFsdWVcIiBpbiB0MiAmJiB0Mi52YWx1ZSAhPT0gZTIudmFsdWUgJiYgKGUyLnZhbHVlID0gbnVsbCA9PSB0Mi52YWx1ZSA/IFwiXCIgOiB0Mi52YWx1ZSksIGxuID0gbnVsbDtcbn07XG52YXIgaG4gPSB7IFJlYWN0Q3VycmVudERpc3BhdGNoZXI6IHsgY3VycmVudDogeyByZWFkQ29udGV4dDogZnVuY3Rpb24objIpIHtcbiAgcmV0dXJuIGxuLl9fbltuMi5fX2NdLnByb3BzLnZhbHVlO1xufSwgdXNlQ2FsbGJhY2s6IHEkMywgdXNlQ29udGV4dDogeCQ0LCB1c2VEZWJ1Z1ZhbHVlOiBQJDUsIHVzZURlZmVycmVkVmFsdWU6IHckMywgdXNlRWZmZWN0OiB5JDYsIHVzZUlkOiBnJDMsIHVzZUltcGVyYXRpdmVIYW5kbGU6IEYkNSwgdXNlSW5zZXJ0aW9uRWZmZWN0OiBJJDMsIHVzZUxheW91dEVmZmVjdDogXyQzLCB1c2VNZW1vOiBUJDUsIHVzZVJlZHVjZXI6IGgkNSwgdXNlUmVmOiBBJDMsIHVzZVN0YXRlOiBkJDQsIHVzZVN5bmNFeHRlcm5hbFN0b3JlOiBDJDMsIHVzZVRyYW5zaXRpb246IGskMSB9IH0gfSwgdm4gPSBcIjE4LjMuMVwiO1xuZnVuY3Rpb24gZG4objIpIHtcbiAgcmV0dXJuIF8kNC5iaW5kKG51bGwsIG4yKTtcbn1cbmZ1bmN0aW9uIG1uKG4yKSB7XG4gIHJldHVybiAhIW4yICYmIG4yLiQkdHlwZW9mID09PSBxJDI7XG59XG5mdW5jdGlvbiBwbihuMikge1xuICByZXR1cm4gbW4objIpICYmIG4yLnR5cGUgPT09IGskMztcbn1cbmZ1bmN0aW9uIHluKG4yKSB7XG4gIHJldHVybiAhIW4yICYmICEhbjIuZGlzcGxheU5hbWUgJiYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIG4yLmRpc3BsYXlOYW1lIHx8IG4yLmRpc3BsYXlOYW1lIGluc3RhbmNlb2YgU3RyaW5nKSAmJiBuMi5kaXNwbGF5TmFtZS5zdGFydHNXaXRoKFwiTWVtbyhcIik7XG59XG5mdW5jdGlvbiBfbihuMikge1xuICByZXR1cm4gbW4objIpID8gSiQ0LmFwcGx5KG51bGwsIGFyZ3VtZW50cykgOiBuMjtcbn1cbmZ1bmN0aW9uIGJuKG4yKSB7XG4gIHJldHVybiAhIW4yLl9fayAmJiAoRSQzKG51bGwsIG4yKSwgdHJ1ZSk7XG59XG5mdW5jdGlvbiBTbihuMikge1xuICByZXR1cm4gbjIgJiYgKG4yLmJhc2UgfHwgMSA9PT0gbjIubm9kZVR5cGUgJiYgbjIpIHx8IG51bGw7XG59XG52YXIgZ24gPSBmdW5jdGlvbihuMiwgdDIpIHtcbiAgcmV0dXJuIG4yKHQyKTtcbn0sIEVuID0gZnVuY3Rpb24objIsIHQyKSB7XG4gIHJldHVybiBuMih0Mik7XG59LCBDbiA9IGskMywgeG4gPSBtbiwgUm4gPSB7IHVzZVN0YXRlOiBkJDQsIHVzZUlkOiBnJDMsIHVzZVJlZHVjZXI6IGgkNSwgdXNlRWZmZWN0OiB5JDYsIHVzZUxheW91dEVmZmVjdDogXyQzLCB1c2VJbnNlcnRpb25FZmZlY3Q6IEkkMywgdXNlVHJhbnNpdGlvbjogayQxLCB1c2VEZWZlcnJlZFZhbHVlOiB3JDMsIHVzZVN5bmNFeHRlcm5hbFN0b3JlOiBDJDMsIHN0YXJ0VHJhbnNpdGlvbjogUiQzLCB1c2VSZWY6IEEkMywgdXNlSW1wZXJhdGl2ZUhhbmRsZTogRiQ1LCB1c2VNZW1vOiBUJDUsIHVzZUNhbGxiYWNrOiBxJDMsIHVzZUNvbnRleHQ6IHgkNCwgdXNlRGVidWdWYWx1ZTogUCQ1LCB2ZXJzaW9uOiBcIjE4LjMuMVwiLCBDaGlsZHJlbjogTyQyLCByZW5kZXI6IG5uLCBoeWRyYXRlOiB0biwgdW5tb3VudENvbXBvbmVudEF0Tm9kZTogYm4sIGNyZWF0ZVBvcnRhbDogJCQxLCBjcmVhdGVFbGVtZW50OiBfJDQsIGNyZWF0ZUNvbnRleHQ6IEskMywgY3JlYXRlRmFjdG9yeTogZG4sIGNsb25lRWxlbWVudDogX24sIGNyZWF0ZVJlZjogYiQ1LCBGcmFnbWVudDogayQzLCBpc1ZhbGlkRWxlbWVudDogbW4sIGlzRWxlbWVudDogeG4sIGlzRnJhZ21lbnQ6IHBuLCBpc01lbW86IHluLCBmaW5kRE9NTm9kZTogU24sIENvbXBvbmVudDogeCQ1LCBQdXJlQ29tcG9uZW50OiBOJDEsIG1lbW86IE0kMywgZm9yd2FyZFJlZjogRCQxLCBmbHVzaFN5bmM6IEVuLCB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlczogZ24sIFN0cmljdE1vZGU6IENuLCBTdXNwZW5zZTogUCQ0LCBTdXNwZW5zZUxpc3Q6IEIkMSwgbGF6eTogeiQxLCBfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDogaG4gfTtcbmNvbnN0IHQkNCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZnJlZXplKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIENoaWxkcmVuOiBPJDIsXG4gIENvbXBvbmVudDogeCQ1LFxuICBGcmFnbWVudDogayQzLFxuICBQdXJlQ29tcG9uZW50OiBOJDEsXG4gIFN0cmljdE1vZGU6IENuLFxuICBTdXNwZW5zZTogUCQ0LFxuICBTdXNwZW5zZUxpc3Q6IEIkMSxcbiAgX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ6IGhuLFxuICBjbG9uZUVsZW1lbnQ6IF9uLFxuICBjcmVhdGVDb250ZXh0OiBLJDMsXG4gIGNyZWF0ZUVsZW1lbnQ6IF8kNCxcbiAgY3JlYXRlRmFjdG9yeTogZG4sXG4gIGNyZWF0ZVBvcnRhbDogJCQxLFxuICBjcmVhdGVSZWY6IGIkNSxcbiAgZGVmYXVsdDogUm4sXG4gIGZpbmRET01Ob2RlOiBTbixcbiAgZmx1c2hTeW5jOiBFbixcbiAgZm9yd2FyZFJlZjogRCQxLFxuICBoeWRyYXRlOiB0bixcbiAgaXNFbGVtZW50OiB4bixcbiAgaXNGcmFnbWVudDogcG4sXG4gIGlzTWVtbzogeW4sXG4gIGlzVmFsaWRFbGVtZW50OiBtbixcbiAgbGF6eTogeiQxLFxuICBtZW1vOiBNJDMsXG4gIHJlbmRlcjogbm4sXG4gIHN0YXJ0VHJhbnNpdGlvbjogUiQzLFxuICB1bm1vdW50Q29tcG9uZW50QXROb2RlOiBibixcbiAgdW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXM6IGduLFxuICB1c2VDYWxsYmFjazogcSQzLFxuICB1c2VDb250ZXh0OiB4JDQsXG4gIHVzZURlYnVnVmFsdWU6IFAkNSxcbiAgdXNlRGVmZXJyZWRWYWx1ZTogdyQzLFxuICB1c2VFZmZlY3Q6IHkkNixcbiAgdXNlRXJyb3JCb3VuZGFyeTogYiQ0LFxuICB1c2VJZDogZyQzLFxuICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBGJDUsXG4gIHVzZUluc2VydGlvbkVmZmVjdDogSSQzLFxuICB1c2VMYXlvdXRFZmZlY3Q6IF8kMyxcbiAgdXNlTWVtbzogVCQ1LFxuICB1c2VSZWR1Y2VyOiBoJDUsXG4gIHVzZVJlZjogQSQzLFxuICB1c2VTdGF0ZTogZCQ0LFxuICB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogQyQzLFxuICB1c2VUcmFuc2l0aW9uOiBrJDEsXG4gIHZlcnNpb246IHZuXG59LCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6IFwiTW9kdWxlXCIgfSkpO1xudmFyIF9fcmVxdWlyZSA9IC8qIEBfX1BVUkVfXyAqLyAoKHgyKSA9PiB0eXBlb2YgcmVxdWlyZSAhPT0gXCJ1bmRlZmluZWRcIiA/IHJlcXVpcmUgOiB0eXBlb2YgUHJveHkgIT09IFwidW5kZWZpbmVkXCIgPyBuZXcgUHJveHkoeDIsIHtcbiAgZ2V0OiAoYTMsIGIyKSA9PiAodHlwZW9mIHJlcXVpcmUgIT09IFwidW5kZWZpbmVkXCIgPyByZXF1aXJlIDogYTMpW2IyXVxufSkgOiB4MikoZnVuY3Rpb24oeDIpIHtcbiAgaWYgKHR5cGVvZiByZXF1aXJlICE9PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gcmVxdWlyZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB0aHJvdyBFcnJvcignRHluYW1pYyByZXF1aXJlIG9mIFwiJyArIHgyICsgJ1wiIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn0pO1xudmFyIERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgbWF4UmVjb25uZWN0QXR0ZW1wdHM6IDUsXG4gIHJlY29ubmVjdERlbGF5OiAxZTMsXG4gIHJlcXVlc3RUaW1lb3V0OiAzZTRcbiAgLy8gRXh0ZW5kZWQgdGltZW91dCBmb3IgbG9uZ2VyIG9wZXJhdGlvbnNcbn07XG52YXIgV2ViU29ja2V0UnBjQnJpZGdlID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLndzID0gbnVsbDtcbiAgICB0aGlzLnBlbmRpbmdSZXF1ZXN0cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cyA9IDA7XG4gICAgdGhpcy5tZXRob2RzID0ge307XG4gICAgdGhpcy5pc0ludGVudGlvbmFsQ2xvc2UgPSBmYWxzZTtcbiAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLkRFRkFVTFRfT1BUSU9OUywgLi4ub3B0aW9ucyB9O1xuICB9XG4gIC8qKlxuICAgKiBSZWdpc3RlciBSUEMgbWV0aG9kIGhhbmRsZXJzXG4gICAqIEBwYXJhbSBtZXRob2RIYW5kbGVycyBPYmplY3QgY29udGFpbmluZyBtZXRob2QgaGFuZGxlcnNcbiAgICovXG4gIHJlZ2lzdGVyKG1ldGhvZEhhbmRsZXJzKSB7XG4gICAgT2JqZWN0LmVudHJpZXMobWV0aG9kSGFuZGxlcnMpLmZvckVhY2goKFttZXRob2ROYW1lLCBoYW5kbGVyXSkgPT4ge1xuICAgICAgdGhpcy5tZXRob2RzW21ldGhvZE5hbWVdID0geyBoYW5kbGVyIH07XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEdlbmVyaWMgbWV0aG9kIHRvIGNhbGwgYSByZW1vdGUgcHJvY2VkdXJlIHdpdGggc3VwcG9ydCBmb3Igc3RyZWFtaW5nIHVwZGF0ZXNcbiAgICogQHBhcmFtIG1ldGhvZCBNZXRob2QgbmFtZSB0byBjYWxsXG4gICAqIEBwYXJhbSBwYXlsb2FkIFJlcXVlc3QgcGF5bG9hZFxuICAgKiBAcGFyYW0gb25VcGRhdGUgT3B0aW9uYWwgY2FsbGJhY2sgZm9yIHByb2dyZXNzIHVwZGF0ZXNcbiAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgd2l0aCB0aGUgcmVzcG9uc2VcbiAgICovXG4gIGNhbGxNZXRob2QobWV0aG9kLCBwYXlsb2FkLCBvblVwZGF0ZSkge1xuICAgIGlmICghdGhpcy53cykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2ViU29ja2V0IGlzIG5vdCBjb25uZWN0ZWRcIik7XG4gICAgfVxuICAgIGNvbnN0IGlkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgICBjb25zdCByZXF1ZXN0TWVzc2FnZSA9IHtcbiAgICAgIGlkLFxuICAgICAgbWVzc2FnZVR5cGU6IFwicmVxdWVzdFwiLFxuICAgICAgbWV0aG9kLFxuICAgICAgcGF5bG9hZFxuICAgIH07XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5wZW5kaW5nUmVxdWVzdHMuZGVsZXRlKGlkKTtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgUmVxdWVzdCB0aW1lZCBvdXQ6ICR7bWV0aG9kfWApKTtcbiAgICAgIH0sIHRoaXMub3B0aW9ucy5yZXF1ZXN0VGltZW91dCk7XG4gICAgICB0aGlzLnBlbmRpbmdSZXF1ZXN0cy5zZXQoaWQsIHsgcmVzb2x2ZSwgcmVqZWN0LCB0aW1lb3V0LCBvblVwZGF0ZSB9KTtcbiAgICAgIChfYSA9IHRoaXMud3MpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zZW5kKEpTT04uc3RyaW5naWZ5KHJlcXVlc3RNZXNzYWdlKSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdXAgV2ViU29ja2V0IGV2ZW50IGhhbmRsZXJzXG4gICAqIEBwYXJhbSB3cyBXZWJTb2NrZXQgaW5zdGFuY2VcbiAgICovXG4gIHNldHVwV2ViU29ja2V0SGFuZGxlcnMod3MpIHtcbiAgICB3cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgICB0aGlzLmhhbmRsZU1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGhhbmRsaW5nIFdlYlNvY2tldCBtZXNzYWdlOlwiLCBlcnJvcjIpO1xuICAgICAgfVxuICAgIH07XG4gICAgd3Mub25jbG9zZSA9ICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiV2ViU29ja2V0IGRpc2Nvbm5lY3RlZFwiKTtcbiAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdCgpO1xuICAgIH07XG4gICAgd3Mub25lcnJvciA9IChldmVudCkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIldlYlNvY2tldCBlcnJvcjpcIiwgZXZlbnQpO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZXMgaW5jb21pbmcgV2ViU29ja2V0IG1lc3NhZ2VzXG4gICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGhhbmRsZVxuICAgKi9cbiAgaGFuZGxlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgY29uc3QgeyBtZXNzYWdlVHlwZSwgaWQgfSA9IG1lc3NhZ2U7XG4gICAgc3dpdGNoIChtZXNzYWdlVHlwZSkge1xuICAgICAgY2FzZSBcInJlcXVlc3RcIjpcbiAgICAgICAgdGhpcy5oYW5kbGVSZXF1ZXN0KG1lc3NhZ2UpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyZXNwb25zZVwiOlxuICAgICAgICB0aGlzLmhhbmRsZVJlc3BvbnNlKGlkLCBtZXNzYWdlLnBheWxvYWQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ1cGRhdGVcIjpcbiAgICAgICAgdGhpcy5oYW5kbGVVcGRhdGUoaWQsIG1lc3NhZ2UucGF5bG9hZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoaWQsIG1lc3NhZ2UuZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS53YXJuKGBVbmtub3duIG1lc3NhZ2UgdHlwZTogJHttZXNzYWdlVHlwZX1gKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBpbmNvbWluZyByZXF1ZXN0cyBieSBpbnZva2luZyB0aGUgcmVnaXN0ZXJlZCBtZXRob2RcbiAgICogQHBhcmFtIG1lc3NhZ2UgUmVxdWVzdCBtZXNzYWdlXG4gICAqL1xuICBhc3luYyBoYW5kbGVSZXF1ZXN0KG1lc3NhZ2UpIHtcbiAgICBjb25zdCB7IGlkLCBtZXRob2QsIHBheWxvYWQgfSA9IG1lc3NhZ2U7XG4gICAgaWYgKCFtZXRob2QpIHtcbiAgICAgIHRoaXMuc2VuZEVycm9yKGlkLCBcIk1ldGhvZCBuYW1lIGlzIHJlcXVpcmVkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtZXRob2REZWYgPSB0aGlzLm1ldGhvZHNbbWV0aG9kXTtcbiAgICBpZiAoIW1ldGhvZERlZikge1xuICAgICAgdGhpcy5zZW5kRXJyb3IoaWQsIGBNZXRob2Qgbm90IGZvdW5kOiAke21ldGhvZH1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNlbmRVcGRhdGUgPSAodXBkYXRlKSA9PiB7XG4gICAgICAgIHRoaXMuc2VuZFVwZGF0ZShpZCwgbWV0aG9kLCB1cGRhdGUpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1ldGhvZERlZi5oYW5kbGVyKHBheWxvYWQsIHNlbmRVcGRhdGUpO1xuICAgICAgdGhpcy5zZW5kUmVzcG9uc2UoaWQsIG1ldGhvZCwgcmVzdWx0KTtcbiAgICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICAgIHRoaXMuc2VuZEVycm9yKFxuICAgICAgICBpZCxcbiAgICAgICAgZXJyb3IyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvcjIubWVzc2FnZSA6IFN0cmluZyhlcnJvcjIpXG4gICAgICApO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogSGFuZGxlIHJlc3BvbnNlIG1lc3NhZ2VzIGJ5IHJlc29sdmluZyB0aGUgcGVuZGluZyByZXF1ZXN0XG4gICAqIEBwYXJhbSBpZCBSZXF1ZXN0IElEXG4gICAqIEBwYXJhbSBwYXlsb2FkIFJlc3BvbnNlIHBheWxvYWRcbiAgICovXG4gIGhhbmRsZVJlc3BvbnNlKGlkLCBwYXlsb2FkKSB7XG4gICAgY29uc3QgcGVuZGluZ1JlcXVlc3QgPSB0aGlzLnBlbmRpbmdSZXF1ZXN0cy5nZXQoaWQpO1xuICAgIGlmICghcGVuZGluZ1JlcXVlc3QpIHtcbiAgICAgIGNvbnNvbGUud2FybihgUmVjZWl2ZWQgcmVzcG9uc2UgZm9yIHVua25vd24gcmVxdWVzdCBJRDogJHtpZH1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xlYXJUaW1lb3V0KHBlbmRpbmdSZXF1ZXN0LnRpbWVvdXQpO1xuICAgIHRoaXMucGVuZGluZ1JlcXVlc3RzLmRlbGV0ZShpZCk7XG4gICAgcGVuZGluZ1JlcXVlc3QucmVzb2x2ZShwYXlsb2FkKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIHVwZGF0ZSBtZXNzYWdlcyBieSBjYWxsaW5nIHRoZSB1cGRhdGUgY2FsbGJhY2tcbiAgICogQHBhcmFtIGlkIFJlcXVlc3QgSURcbiAgICogQHBhcmFtIHBheWxvYWQgVXBkYXRlIHBheWxvYWRcbiAgICovXG4gIGhhbmRsZVVwZGF0ZShpZCwgcGF5bG9hZCkge1xuICAgIGNvbnN0IHBlbmRpbmdSZXF1ZXN0ID0gdGhpcy5wZW5kaW5nUmVxdWVzdHMuZ2V0KGlkKTtcbiAgICBpZiAoIXBlbmRpbmdSZXF1ZXN0IHx8ICFwZW5kaW5nUmVxdWVzdC5vblVwZGF0ZSkge1xuICAgICAgY29uc29sZS53YXJuKGBSZWNlaXZlZCB1cGRhdGUgZm9yIHVua25vd24gcmVxdWVzdCBJRDogJHtpZH1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcGVuZGluZ1JlcXVlc3Qub25VcGRhdGUocGF5bG9hZCk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBlcnJvciBtZXNzYWdlcyBieSByZWplY3RpbmcgdGhlIHBlbmRpbmcgcmVxdWVzdFxuICAgKiBAcGFyYW0gaWQgUmVxdWVzdCBJRFxuICAgKiBAcGFyYW0gZXJyb3IgRXJyb3IgbWVzc2FnZVxuICAgKi9cbiAgaGFuZGxlRXJyb3IoaWQsIGVycm9yMikge1xuICAgIGNvbnN0IHBlbmRpbmdSZXF1ZXN0ID0gdGhpcy5wZW5kaW5nUmVxdWVzdHMuZ2V0KGlkKTtcbiAgICBpZiAoIXBlbmRpbmdSZXF1ZXN0KSB7XG4gICAgICBjb25zb2xlLndhcm4oYFJlY2VpdmVkIGVycm9yIGZvciB1bmtub3duIHJlcXVlc3QgSUQ6ICR7aWR9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNsZWFyVGltZW91dChwZW5kaW5nUmVxdWVzdC50aW1lb3V0KTtcbiAgICB0aGlzLnBlbmRpbmdSZXF1ZXN0cy5kZWxldGUoaWQpO1xuICAgIHBlbmRpbmdSZXF1ZXN0LnJlamVjdChuZXcgRXJyb3IoZXJyb3IyKSk7XG4gIH1cbiAgLyoqXG4gICAqIFNlbmQgYSByZXNwb25zZSBtZXNzYWdlXG4gICAqIEBwYXJhbSBpZCBSZXF1ZXN0IElEXG4gICAqIEBwYXJhbSBtZXRob2QgTWV0aG9kIG5hbWVcbiAgICogQHBhcmFtIHBheWxvYWQgUmVzcG9uc2UgcGF5bG9hZFxuICAgKi9cbiAgc2VuZFJlc3BvbnNlKGlkLCBtZXRob2QsIHBheWxvYWQpIHtcbiAgICBpZiAoIXRoaXMud3MpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldlYlNvY2tldCBpcyBub3QgY29ubmVjdGVkXCIpO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZU1lc3NhZ2UgPSB7XG4gICAgICBpZCxcbiAgICAgIG1lc3NhZ2VUeXBlOiBcInJlc3BvbnNlXCIsXG4gICAgICBtZXRob2QsXG4gICAgICBwYXlsb2FkXG4gICAgfTtcbiAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2VNZXNzYWdlKSk7XG4gIH1cbiAgLyoqXG4gICAqIFNlbmQgYW4gdXBkYXRlIG1lc3NhZ2UgZm9yIHN0cmVhbWluZ1xuICAgKiBAcGFyYW0gaWQgUmVxdWVzdCBJRFxuICAgKiBAcGFyYW0gbWV0aG9kIE1ldGhvZCBuYW1lXG4gICAqIEBwYXJhbSBwYXlsb2FkIFVwZGF0ZSBwYXlsb2FkXG4gICAqL1xuICBzZW5kVXBkYXRlKGlkLCBtZXRob2QsIHBheWxvYWQpIHtcbiAgICBpZiAoIXRoaXMud3MpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldlYlNvY2tldCBpcyBub3QgY29ubmVjdGVkXCIpO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVNZXNzYWdlID0ge1xuICAgICAgaWQsXG4gICAgICBtZXNzYWdlVHlwZTogXCJ1cGRhdGVcIixcbiAgICAgIG1ldGhvZCxcbiAgICAgIHBheWxvYWRcbiAgICB9O1xuICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh1cGRhdGVNZXNzYWdlKSk7XG4gIH1cbiAgLyoqXG4gICAqIFNlbmQgYW4gZXJyb3IgbWVzc2FnZVxuICAgKiBAcGFyYW0gaWQgUmVxdWVzdCBJRFxuICAgKiBAcGFyYW0gZXJyb3JNZXNzYWdlIEVycm9yIG1lc3NhZ2VcbiAgICovXG4gIHNlbmRFcnJvcihpZCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgaWYgKCF0aGlzLndzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXZWJTb2NrZXQgaXMgbm90IGNvbm5lY3RlZFwiKTtcbiAgICB9XG4gICAgY29uc3QgZXJyb3JSZXNwb25zZSA9IHtcbiAgICAgIGlkLFxuICAgICAgbWVzc2FnZVR5cGU6IFwiZXJyb3JcIixcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZVxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KGVycm9yUmVzcG9uc2UpKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGRpc2Nvbm5lY3Rpb24gYnkgYXR0ZW1wdGluZyB0byByZWNvbm5lY3RcbiAgICovXG4gIGhhbmRsZURpc2Nvbm5lY3QoKSB7XG4gICAgaWYgKHRoaXMuaXNJbnRlbnRpb25hbENsb3NlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgXCJXZWJTb2NrZXQgY2xvc2VkIGludGVudGlvbmFsbHksIG5vdCBhdHRlbXB0aW5nIHRvIHJlY29ubmVjdFwiXG4gICAgICApO1xuICAgICAgdGhpcy5jbGVhclBlbmRpbmdSZXF1ZXN0cyhuZXcgRXJyb3IoXCJDb25uZWN0aW9uIGNsb3NlZCBieSB1c2VyXCIpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPCB0aGlzLm9wdGlvbnMubWF4UmVjb25uZWN0QXR0ZW1wdHMpIHtcbiAgICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMrKztcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBgQXR0ZW1wdGluZyB0byByZWNvbm5lY3QgKCR7dGhpcy5yZWNvbm5lY3RBdHRlbXB0c30vJHt0aGlzLm9wdGlvbnMubWF4UmVjb25uZWN0QXR0ZW1wdHN9KS4uLmBcbiAgICAgICk7XG4gICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAoKSA9PiB0aGlzLnJlY29ubmVjdCgpLFxuICAgICAgICB0aGlzLm9wdGlvbnMucmVjb25uZWN0RGVsYXkgKiB0aGlzLnJlY29ubmVjdEF0dGVtcHRzXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiTWF4IHJlY29ubmVjdGlvbiBhdHRlbXB0cyByZWFjaGVkXCIpO1xuICAgICAgdGhpcy5jbGVhclBlbmRpbmdSZXF1ZXN0cyhuZXcgRXJyb3IoXCJDb25uZWN0aW9uIGNsb3NlZFwiKSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDbGVhciBhbGwgcGVuZGluZyByZXF1ZXN0cyB3aXRoIGFuIGVycm9yXG4gICAqIEBwYXJhbSBlcnJvciBFcnJvciB0byByZWplY3Qgd2l0aFxuICAgKi9cbiAgY2xlYXJQZW5kaW5nUmVxdWVzdHMoZXJyb3IyKSB7XG4gICAgdGhpcy5wZW5kaW5nUmVxdWVzdHMuZm9yRWFjaCgoeyByZWplY3QgfSkgPT4ge1xuICAgICAgcmVqZWN0KGVycm9yMik7XG4gICAgfSk7XG4gICAgdGhpcy5wZW5kaW5nUmVxdWVzdHMuY2xlYXIoKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uXG4gICAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBjb25uZWN0aW9uIGlzIGNsb3NlZFxuICAgKi9cbiAgYXN5bmMgY2xvc2UoKSB7XG4gICAgdGhpcy5pc0ludGVudGlvbmFsQ2xvc2UgPSB0cnVlO1xuICAgIGlmICh0aGlzLndzKSB7XG4gICAgICB0aGlzLndzLmNsb3NlKCk7XG4gICAgICB0aGlzLndzID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5jbGVhclBlbmRpbmdSZXF1ZXN0cyhuZXcgRXJyb3IoXCJDb25uZWN0aW9uIGNsb3NlZCBieSB1c2VyXCIpKTtcbiAgfVxufTtcbnR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuV2ViU29ja2V0IDogX19yZXF1aXJlKFwid3NcIikuV2ViU29ja2V0O1xuZnVuY3Rpb24gY3JlYXRlQnJpZGdlQ29udHJhY3QoY29udHJhY3QyKSB7XG4gIHJldHVybiBjb250cmFjdDI7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVdpdGhab2Qoc2NoZW1hLCBkYXRhLCBjb250ZXh0LCBzaWxlbnQgPSBmYWxzZSkge1xuICBjb25zdCByZXN1bHQgPSBzY2hlbWEuc2FmZVBhcnNlKGRhdGEpO1xuICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgY29uc3QgZXJyb3IyID0gbmV3IEVycm9yKFxuICAgICAgYFZhbGlkYXRpb24gZmFpbGVkIGZvciAke2NvbnRleHR9OiAke3Jlc3VsdC5lcnJvci5tZXNzYWdlfWBcbiAgICApO1xuICAgIGlmIChzaWxlbnQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IyKTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICB0aHJvdyBlcnJvcjI7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdC5kYXRhO1xufVxudmFyIFdlYlNvY2tldEltcGwyID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5XZWJTb2NrZXQgOiBfX3JlcXVpcmUoXCJ3c1wiKS5XZWJTb2NrZXQ7XG52YXIgWm9kVHlwZWRCcmlkZ2UgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGJyaWRnZSwgY29udHJhY3QyKSB7XG4gICAgdGhpcy5icmlkZ2UgPSBicmlkZ2U7XG4gICAgdGhpcy5jb250cmFjdCA9IGNvbnRyYWN0MjtcbiAgICB0aGlzLmNhbGwgPSBuZXcgUHJveHkoe30sIHtcbiAgICAgIGdldDogKHRhcmdldCwgcHJvcCkgPT4ge1xuICAgICAgICByZXR1cm4gKHJlcXVlc3QsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKHByb3AsIHJlcXVlc3QsIG9wdGlvbnMpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGFzeW5jIGNhbGxNZXRob2QobWV0aG9kLCByZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgY29uc3QgbWV0aG9kQ29udHJhY3QgPSB0aGlzLmNvbnRyYWN0LmNvbnN1bWVzW21ldGhvZF07XG4gICAgaWYgKCFtZXRob2RDb250cmFjdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBNZXRob2QgJHtTdHJpbmcobWV0aG9kKX0gbm90IGZvdW5kIGluIGNvbnRyYWN0YCk7XG4gICAgfVxuICAgIGNvbnN0IHZhbGlkYXRlZFJlcXVlc3QgPSB2YWxpZGF0ZVdpdGhab2QoXG4gICAgICBtZXRob2RDb250cmFjdC5yZXF1ZXN0LFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGByZXF1ZXN0IGZvciBtZXRob2QgJHtTdHJpbmcobWV0aG9kKX1gXG4gICAgKTtcbiAgICBjb25zdCBvblVwZGF0ZSA9IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm9uVXBkYXRlKSAmJiBtZXRob2RDb250cmFjdC51cGRhdGUgPyAodXBkYXRlKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBpZiAoIW1ldGhvZENvbnRyYWN0LnVwZGF0ZSkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGVkVXBkYXRlID0gdmFsaWRhdGVXaXRoWm9kKFxuICAgICAgICAgIG1ldGhvZENvbnRyYWN0LnVwZGF0ZSxcbiAgICAgICAgICB1cGRhdGUsXG4gICAgICAgICAgYHVwZGF0ZSBmb3IgbWV0aG9kICR7U3RyaW5nKG1ldGhvZCl9YCxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICAgLy8gc2lsZW50bHkgbG9nIHZhbGlkYXRpb24gZXJyb3JzXG4gICAgICAgICk7XG4gICAgICAgIChfYSA9IG9wdGlvbnMub25VcGRhdGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKG9wdGlvbnMsIHZhbGlkYXRlZFVwZGF0ZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVwZGF0ZSB2YWxpZGF0aW9uIGZhaWxlZDpcIiwgZXJyb3IyKTtcbiAgICAgIH1cbiAgICB9IDogdm9pZCAwO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5icmlkZ2UuY2FsbE1ldGhvZChcbiAgICAgIG1ldGhvZCxcbiAgICAgIHZhbGlkYXRlZFJlcXVlc3QsXG4gICAgICBvblVwZGF0ZVxuICAgICk7XG4gICAgcmV0dXJuIHZhbGlkYXRlV2l0aFpvZChcbiAgICAgIG1ldGhvZENvbnRyYWN0LnJlc3BvbnNlLFxuICAgICAgcmVzcG9uc2UsXG4gICAgICBgcmVzcG9uc2UgZm9yIG1ldGhvZCAke1N0cmluZyhtZXRob2QpfWBcbiAgICApO1xuICB9XG4gIHJlZ2lzdGVyKGltcGxlbWVudGF0aW9ucykge1xuICAgIGNvbnN0IHdyYXBwZWRJbXBsZW1lbnRhdGlvbnMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IFttZXRob2QsIGltcGxlbWVudGF0aW9uXSBvZiBPYmplY3QuZW50cmllcyhpbXBsZW1lbnRhdGlvbnMpKSB7XG4gICAgICBjb25zdCBtZXRob2RDb250cmFjdCA9IHRoaXMuY29udHJhY3Quc2VydmVzW21ldGhvZF07XG4gICAgICBpZiAoIW1ldGhvZENvbnRyYWN0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWV0aG9kICR7bWV0aG9kfSBub3QgZm91bmQgaW4gY29udHJhY3RgKTtcbiAgICAgIH1cbiAgICAgIHdyYXBwZWRJbXBsZW1lbnRhdGlvbnNbbWV0aG9kXSA9IGFzeW5jIChyZXF1ZXN0LCBzZW5kVXBkYXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZFJlcXVlc3QgPSB2YWxpZGF0ZVdpdGhab2QoXG4gICAgICAgICAgbWV0aG9kQ29udHJhY3QucmVxdWVzdCxcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIGByZXF1ZXN0IGZvciBtZXRob2QgJHttZXRob2R9YFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB3cmFwcGVkU2VuZFVwZGF0ZSA9IG1ldGhvZENvbnRyYWN0LnVwZGF0ZSAmJiBzZW5kVXBkYXRlID8gKHVwZGF0ZSkgPT4ge1xuICAgICAgICAgIGlmICghbWV0aG9kQ29udHJhY3QudXBkYXRlKSByZXR1cm47XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRlZFVwZGF0ZSA9IHZhbGlkYXRlV2l0aFpvZChcbiAgICAgICAgICAgICAgbWV0aG9kQ29udHJhY3QudXBkYXRlLFxuICAgICAgICAgICAgICB1cGRhdGUsXG4gICAgICAgICAgICAgIGB1cGRhdGUgZm9yIG1ldGhvZCAke21ldGhvZH1gLFxuICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgIC8vIHNpbGVudGx5IGxvZyB2YWxpZGF0aW9uIGVycm9yc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHNlbmRVcGRhdGUodmFsaWRhdGVkVXBkYXRlKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVcGRhdGUgdmFsaWRhdGlvbiBmYWlsZWQ6XCIsIGVycm9yMik7XG4gICAgICAgICAgfVxuICAgICAgICB9IDogdm9pZCAwO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGltcGxlbWVudGF0aW9uKHZhbGlkYXRlZFJlcXVlc3QsIHtcbiAgICAgICAgICBzZW5kVXBkYXRlOiB3cmFwcGVkU2VuZFVwZGF0ZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlV2l0aFpvZChcbiAgICAgICAgICBtZXRob2RDb250cmFjdC5yZXNwb25zZSxcbiAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICBgcmVzcG9uc2UgZm9yIG1ldGhvZCAke21ldGhvZH1gXG4gICAgICAgICk7XG4gICAgICB9O1xuICAgIH1cbiAgICB0aGlzLmJyaWRnZS5yZWdpc3Rlcih3cmFwcGVkSW1wbGVtZW50YXRpb25zKTtcbiAgfVxuICBhc3luYyBjbG9zZSgpIHtcbiAgICBhd2FpdCB0aGlzLmJyaWRnZS5jbG9zZSgpO1xuICB9XG59O1xudmFyIENsaWVudEJyaWRnZSA9IGNsYXNzIGV4dGVuZHMgV2ViU29ja2V0UnBjQnJpZGdlIHtcbiAgY29uc3RydWN0b3IodXJsLCBvcHRpb25zKSB7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gICAgdGhpcy5yZWNvbm5lY3RUaW1lciA9IG51bGw7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gIH1cbiAgY2FsbChtZXRob2QsIHBheWxvYWQsIG9uVXBkYXRlKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbE1ldGhvZChtZXRob2QsIHBheWxvYWQsIG9uVXBkYXRlKTtcbiAgfVxuICByZWNvbm5lY3QoKSB7XG4gICAgaWYgKHRoaXMucmVjb25uZWN0VGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlY29ubmVjdFRpbWVyKTtcbiAgICB9XG4gICAgdGhpcy5yZWNvbm5lY3RUaW1lciA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5jb25uZWN0KCk7XG4gICAgICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3QoKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLm9wdGlvbnMucmVjb25uZWN0RGVsYXkpO1xuICB9XG4gIGNvbm5lY3QoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHdzID0gbmV3IFdlYlNvY2tldEltcGwyKHRoaXMudXJsKTtcbiAgICAgICAgd3Mub25vcGVuID0gKCkgPT4ge1xuICAgICAgICAgIHRoaXMud3MgPSB3cztcbiAgICAgICAgICB0aGlzLnNldHVwV2ViU29ja2V0SGFuZGxlcnMod3MpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgd3Mub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiRmFpbGVkIHRvIGNvbm5lY3QgdG8gV2ViU29ja2V0IHNlcnZlclwiKSk7XG4gICAgICAgIH07XG4gICAgICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yMik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG52YXIgWm9kQ2xpZW50ID0gY2xhc3MgZXh0ZW5kcyBab2RUeXBlZEJyaWRnZSB7XG4gIGNvbnN0cnVjdG9yKHVybCwgY29udHJhY3QyLCBvcHRpb25zKSB7XG4gICAgc3VwZXIobmV3IENsaWVudEJyaWRnZSh1cmwsIG9wdGlvbnMpLCB7XG4gICAgICBzZXJ2ZXM6IGNvbnRyYWN0Mi5jbGllbnQgfHwge30sXG4gICAgICBjb25zdW1lczogY29udHJhY3QyLnNlcnZlciB8fCB7fVxuICAgIH0pO1xuICB9XG4gIGNvbm5lY3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuYnJpZGdlLmNvbm5lY3QoKTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZVNSUENDbGllbnRCcmlkZ2UodXJsLCBjb250cmFjdDIsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBab2RDbGllbnQodXJsLCBjb250cmFjdDIsIG9wdGlvbnMpO1xufVxudmFyIHV0aWw7XG4oZnVuY3Rpb24odXRpbDIpIHtcbiAgdXRpbDIuYXNzZXJ0RXF1YWwgPSAodmFsKSA9PiB2YWw7XG4gIGZ1bmN0aW9uIGFzc2VydElzKF9hcmcpIHtcbiAgfVxuICB1dGlsMi5hc3NlcnRJcyA9IGFzc2VydElzO1xuICBmdW5jdGlvbiBhc3NlcnROZXZlcihfeCkge1xuICAgIHRocm93IG5ldyBFcnJvcigpO1xuICB9XG4gIHV0aWwyLmFzc2VydE5ldmVyID0gYXNzZXJ0TmV2ZXI7XG4gIHV0aWwyLmFycmF5VG9FbnVtID0gKGl0ZW1zKSA9PiB7XG4gICAgY29uc3Qgb2JqID0ge307XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICBvYmpbaXRlbV0gPSBpdGVtO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuICB1dGlsMi5nZXRWYWxpZEVudW1WYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgY29uc3QgdmFsaWRLZXlzID0gdXRpbDIub2JqZWN0S2V5cyhvYmopLmZpbHRlcigoazIpID0+IHR5cGVvZiBvYmpbb2JqW2syXV0gIT09IFwibnVtYmVyXCIpO1xuICAgIGNvbnN0IGZpbHRlcmVkID0ge307XG4gICAgZm9yIChjb25zdCBrMiBvZiB2YWxpZEtleXMpIHtcbiAgICAgIGZpbHRlcmVkW2syXSA9IG9ialtrMl07XG4gICAgfVxuICAgIHJldHVybiB1dGlsMi5vYmplY3RWYWx1ZXMoZmlsdGVyZWQpO1xuICB9O1xuICB1dGlsMi5vYmplY3RWYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgcmV0dXJuIHV0aWwyLm9iamVjdEtleXMob2JqKS5tYXAoZnVuY3Rpb24oZTIpIHtcbiAgICAgIHJldHVybiBvYmpbZTJdO1xuICAgIH0pO1xuICB9O1xuICB1dGlsMi5vYmplY3RLZXlzID0gdHlwZW9mIE9iamVjdC5rZXlzID09PSBcImZ1bmN0aW9uXCIgPyAob2JqKSA9PiBPYmplY3Qua2V5cyhvYmopIDogKG9iamVjdCkgPT4ge1xuICAgIGNvbnN0IGtleXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XG4gICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbiAgfTtcbiAgdXRpbDIuZmluZCA9IChhcnIsIGNoZWNrZXIpID0+IHtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYXJyKSB7XG4gICAgICBpZiAoY2hlY2tlcihpdGVtKSlcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfVxuICAgIHJldHVybiB2b2lkIDA7XG4gIH07XG4gIHV0aWwyLmlzSW50ZWdlciA9IHR5cGVvZiBOdW1iZXIuaXNJbnRlZ2VyID09PSBcImZ1bmN0aW9uXCIgPyAodmFsKSA9PiBOdW1iZXIuaXNJbnRlZ2VyKHZhbCkgOiAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiICYmIGlzRmluaXRlKHZhbCkgJiYgTWF0aC5mbG9vcih2YWwpID09PSB2YWw7XG4gIGZ1bmN0aW9uIGpvaW5WYWx1ZXMoYXJyYXksIHNlcGFyYXRvciA9IFwiIHwgXCIpIHtcbiAgICByZXR1cm4gYXJyYXkubWFwKCh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgPyBgJyR7dmFsfSdgIDogdmFsKS5qb2luKHNlcGFyYXRvcik7XG4gIH1cbiAgdXRpbDIuam9pblZhbHVlcyA9IGpvaW5WYWx1ZXM7XG4gIHV0aWwyLmpzb25TdHJpbmdpZnlSZXBsYWNlciA9IChfMiwgdmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufSkodXRpbCB8fCAodXRpbCA9IHt9KSk7XG52YXIgb2JqZWN0VXRpbDtcbihmdW5jdGlvbihvYmplY3RVdGlsMikge1xuICBvYmplY3RVdGlsMi5tZXJnZVNoYXBlcyA9IChmaXJzdCwgc2Vjb25kKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmZpcnN0LFxuICAgICAgLi4uc2Vjb25kXG4gICAgICAvLyBzZWNvbmQgb3ZlcndyaXRlcyBmaXJzdFxuICAgIH07XG4gIH07XG59KShvYmplY3RVdGlsIHx8IChvYmplY3RVdGlsID0ge30pKTtcbmNvbnN0IFpvZFBhcnNlZFR5cGUgPSB1dGlsLmFycmF5VG9FbnVtKFtcbiAgXCJzdHJpbmdcIixcbiAgXCJuYW5cIixcbiAgXCJudW1iZXJcIixcbiAgXCJpbnRlZ2VyXCIsXG4gIFwiZmxvYXRcIixcbiAgXCJib29sZWFuXCIsXG4gIFwiZGF0ZVwiLFxuICBcImJpZ2ludFwiLFxuICBcInN5bWJvbFwiLFxuICBcImZ1bmN0aW9uXCIsXG4gIFwidW5kZWZpbmVkXCIsXG4gIFwibnVsbFwiLFxuICBcImFycmF5XCIsXG4gIFwib2JqZWN0XCIsXG4gIFwidW5rbm93blwiLFxuICBcInByb21pc2VcIixcbiAgXCJ2b2lkXCIsXG4gIFwibmV2ZXJcIixcbiAgXCJtYXBcIixcbiAgXCJzZXRcIlxuXSk7XG5jb25zdCBnZXRQYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgY29uc3QgdDIgPSB0eXBlb2YgZGF0YTtcbiAgc3dpdGNoICh0Mikge1xuICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZDtcbiAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5zdHJpbmc7XG4gICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgcmV0dXJuIGlzTmFOKGRhdGEpID8gWm9kUGFyc2VkVHlwZS5uYW4gOiBab2RQYXJzZWRUeXBlLm51bWJlcjtcbiAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuYm9vbGVhbjtcbiAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uO1xuICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmJpZ2ludDtcbiAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5zeW1ib2w7XG4gICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuYXJyYXk7XG4gICAgICB9XG4gICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5udWxsO1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEudGhlbiAmJiB0eXBlb2YgZGF0YS50aGVuID09PSBcImZ1bmN0aW9uXCIgJiYgZGF0YS5jYXRjaCAmJiB0eXBlb2YgZGF0YS5jYXRjaCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnByb21pc2U7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIE1hcCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLm1hcDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgU2V0ICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuc2V0O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBEYXRlICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmRhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5vYmplY3Q7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnVua25vd247XG4gIH1cbn07XG5jb25zdCBab2RJc3N1ZUNvZGUgPSB1dGlsLmFycmF5VG9FbnVtKFtcbiAgXCJpbnZhbGlkX3R5cGVcIixcbiAgXCJpbnZhbGlkX2xpdGVyYWxcIixcbiAgXCJjdXN0b21cIixcbiAgXCJpbnZhbGlkX3VuaW9uXCIsXG4gIFwiaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yXCIsXG4gIFwiaW52YWxpZF9lbnVtX3ZhbHVlXCIsXG4gIFwidW5yZWNvZ25pemVkX2tleXNcIixcbiAgXCJpbnZhbGlkX2FyZ3VtZW50c1wiLFxuICBcImludmFsaWRfcmV0dXJuX3R5cGVcIixcbiAgXCJpbnZhbGlkX2RhdGVcIixcbiAgXCJpbnZhbGlkX3N0cmluZ1wiLFxuICBcInRvb19zbWFsbFwiLFxuICBcInRvb19iaWdcIixcbiAgXCJpbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlc1wiLFxuICBcIm5vdF9tdWx0aXBsZV9vZlwiLFxuICBcIm5vdF9maW5pdGVcIlxuXSk7XG5jb25zdCBxdW90ZWxlc3NKc29uID0gKG9iaikgPT4ge1xuICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkob2JqLCBudWxsLCAyKTtcbiAgcmV0dXJuIGpzb24ucmVwbGFjZSgvXCIoW15cIl0rKVwiOi9nLCBcIiQxOlwiKTtcbn07XG5jbGFzcyBab2RFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgZ2V0IGVycm9ycygpIHtcbiAgICByZXR1cm4gdGhpcy5pc3N1ZXM7XG4gIH1cbiAgY29uc3RydWN0b3IoaXNzdWVzKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmlzc3VlcyA9IFtdO1xuICAgIHRoaXMuYWRkSXNzdWUgPSAoc3ViKSA9PiB7XG4gICAgICB0aGlzLmlzc3VlcyA9IFsuLi50aGlzLmlzc3Vlcywgc3ViXTtcbiAgICB9O1xuICAgIHRoaXMuYWRkSXNzdWVzID0gKHN1YnMgPSBbXSkgPT4ge1xuICAgICAgdGhpcy5pc3N1ZXMgPSBbLi4udGhpcy5pc3N1ZXMsIC4uLnN1YnNdO1xuICAgIH07XG4gICAgY29uc3QgYWN0dWFsUHJvdG8gPSBuZXcudGFyZ2V0LnByb3RvdHlwZTtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgYWN0dWFsUHJvdG8pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9fcHJvdG9fXyA9IGFjdHVhbFByb3RvO1xuICAgIH1cbiAgICB0aGlzLm5hbWUgPSBcIlpvZEVycm9yXCI7XG4gICAgdGhpcy5pc3N1ZXMgPSBpc3N1ZXM7XG4gIH1cbiAgZm9ybWF0KF9tYXBwZXIpIHtcbiAgICBjb25zdCBtYXBwZXIgPSBfbWFwcGVyIHx8IGZ1bmN0aW9uKGlzc3VlKSB7XG4gICAgICByZXR1cm4gaXNzdWUubWVzc2FnZTtcbiAgICB9O1xuICAgIGNvbnN0IGZpZWxkRXJyb3JzID0geyBfZXJyb3JzOiBbXSB9O1xuICAgIGNvbnN0IHByb2Nlc3NFcnJvciA9IChlcnJvcjIpID0+IHtcbiAgICAgIGZvciAoY29uc3QgaXNzdWUgb2YgZXJyb3IyLmlzc3Vlcykge1xuICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3VuaW9uXCIpIHtcbiAgICAgICAgICBpc3N1ZS51bmlvbkVycm9ycy5tYXAocHJvY2Vzc0Vycm9yKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfcmV0dXJuX3R5cGVcIikge1xuICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5yZXR1cm5UeXBlRXJyb3IpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9hcmd1bWVudHNcIikge1xuICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5hcmd1bWVudHNFcnJvcik7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNzdWUucGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBmaWVsZEVycm9ycy5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IGN1cnIgPSBmaWVsZEVycm9ycztcbiAgICAgICAgICBsZXQgaTIgPSAwO1xuICAgICAgICAgIHdoaWxlIChpMiA8IGlzc3VlLnBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBlbCA9IGlzc3VlLnBhdGhbaTJdO1xuICAgICAgICAgICAgY29uc3QgdGVybWluYWwgPSBpMiA9PT0gaXNzdWUucGF0aC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgaWYgKCF0ZXJtaW5hbCkge1xuICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICBjdXJyW2VsXS5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyID0gY3VycltlbF07XG4gICAgICAgICAgICBpMisrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgcHJvY2Vzc0Vycm9yKHRoaXMpO1xuICAgIHJldHVybiBmaWVsZEVycm9ycztcbiAgfVxuICBzdGF0aWMgYXNzZXJ0KHZhbHVlKSB7XG4gICAgaWYgKCEodmFsdWUgaW5zdGFuY2VvZiBab2RFcnJvcikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm90IGEgWm9kRXJyb3I6ICR7dmFsdWV9YCk7XG4gICAgfVxuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1lc3NhZ2U7XG4gIH1cbiAgZ2V0IG1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuaXNzdWVzLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciwgMik7XG4gIH1cbiAgZ2V0IGlzRW1wdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNzdWVzLmxlbmd0aCA9PT0gMDtcbiAgfVxuICBmbGF0dGVuKG1hcHBlciA9IChpc3N1ZSkgPT4gaXNzdWUubWVzc2FnZSkge1xuICAgIGNvbnN0IGZpZWxkRXJyb3JzID0ge307XG4gICAgY29uc3QgZm9ybUVycm9ycyA9IFtdO1xuICAgIGZvciAoY29uc3Qgc3ViIG9mIHRoaXMuaXNzdWVzKSB7XG4gICAgICBpZiAoc3ViLnBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0gPSBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0gfHwgW107XG4gICAgICAgIGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXS5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcm1FcnJvcnMucHVzaChtYXBwZXIoc3ViKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGZvcm1FcnJvcnMsIGZpZWxkRXJyb3JzIH07XG4gIH1cbiAgZ2V0IGZvcm1FcnJvcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmxhdHRlbigpO1xuICB9XG59XG5ab2RFcnJvci5jcmVhdGUgPSAoaXNzdWVzKSA9PiB7XG4gIGNvbnN0IGVycm9yMiA9IG5ldyBab2RFcnJvcihpc3N1ZXMpO1xuICByZXR1cm4gZXJyb3IyO1xufTtcbmNvbnN0IGVycm9yTWFwID0gKGlzc3VlLCBfY3R4KSA9PiB7XG4gIGxldCBtZXNzYWdlO1xuICBzd2l0Y2ggKGlzc3VlLmNvZGUpIHtcbiAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGU6XG4gICAgICBpZiAoaXNzdWUucmVjZWl2ZWQgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBcIlJlcXVpcmVkXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlID0gYEV4cGVjdGVkICR7aXNzdWUuZXhwZWN0ZWR9LCByZWNlaXZlZCAke2lzc3VlLnJlY2VpdmVkfWA7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2xpdGVyYWw6XG4gICAgICBtZXNzYWdlID0gYEludmFsaWQgbGl0ZXJhbCB2YWx1ZSwgZXhwZWN0ZWQgJHtKU09OLnN0cmluZ2lmeShpc3N1ZS5leHBlY3RlZCwgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIpfWA7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5czpcbiAgICAgIG1lc3NhZ2UgPSBgVW5yZWNvZ25pemVkIGtleShzKSBpbiBvYmplY3Q6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb246XG4gICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXRgO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yOlxuICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRpc2NyaW1pbmF0b3IgdmFsdWUuIEV4cGVjdGVkICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLm9wdGlvbnMpfWA7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWU6XG4gICAgICBtZXNzYWdlID0gYEludmFsaWQgZW51bSB2YWx1ZS4gRXhwZWN0ZWQgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUub3B0aW9ucyl9LCByZWNlaXZlZCAnJHtpc3N1ZS5yZWNlaXZlZH0nYDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfYXJndW1lbnRzOlxuICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGZ1bmN0aW9uIGFyZ3VtZW50c2A7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3JldHVybl90eXBlOlxuICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGZ1bmN0aW9uIHJldHVybiB0eXBlYDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfZGF0ZTpcbiAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBkYXRlYDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nOlxuICAgICAgaWYgKHR5cGVvZiBpc3N1ZS52YWxpZGF0aW9uID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGlmIChcImluY2x1ZGVzXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBpbmNsdWRlIFwiJHtpc3N1ZS52YWxpZGF0aW9uLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24ucG9zaXRpb24gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHttZXNzYWdlfSBhdCBvbmUgb3IgbW9yZSBwb3NpdGlvbnMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvICR7aXNzdWUudmFsaWRhdGlvbi5wb3NpdGlvbn1gO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChcInN0YXJ0c1dpdGhcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IHN0YXJ0IHdpdGggXCIke2lzc3VlLnZhbGlkYXRpb24uc3RhcnRzV2l0aH1cImA7XG4gICAgICAgIH0gZWxzZSBpZiAoXCJlbmRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3QgZW5kIHdpdGggXCIke2lzc3VlLnZhbGlkYXRpb24uZW5kc1dpdGh9XCJgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUudmFsaWRhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNzdWUudmFsaWRhdGlvbiAhPT0gXCJyZWdleFwiKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCAke2lzc3VlLnZhbGlkYXRpb259YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWRcIjtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgWm9kSXNzdWVDb2RlLnRvb19zbWFsbDpcbiAgICAgIGlmIChpc3N1ZS50eXBlID09PSBcImFycmF5XCIpXG4gICAgICAgIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgbW9yZSB0aGFuYH0gJHtpc3N1ZS5taW5pbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIG1lc3NhZ2UgPSBgU3RyaW5nIG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gXCJleGFjdGx5XCIgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbGVhc3RgIDogYG92ZXJgfSAke2lzc3VlLm1pbmltdW19IGNoYXJhY3RlcihzKWA7XG4gICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcIm51bWJlclwiKVxuICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseSBlcXVhbCB0byBgIDogaXNzdWUuaW5jbHVzaXZlID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgIDogYGdyZWF0ZXIgdGhhbiBgfSR7aXNzdWUubWluaW11bX1gO1xuICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJkYXRlXCIpXG4gICAgICAgIG1lc3NhZ2UgPSBgRGF0ZSBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseSBlcXVhbCB0byBgIDogaXNzdWUuaW5jbHVzaXZlID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgIDogYGdyZWF0ZXIgdGhhbiBgfSR7bmV3IERhdGUoTnVtYmVyKGlzc3VlLm1pbmltdW0pKX1gO1xuICAgICAgZWxzZVxuICAgICAgICBtZXNzYWdlID0gXCJJbnZhbGlkIGlucHV0XCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFpvZElzc3VlQ29kZS50b29fYmlnOlxuICAgICAgaWYgKGlzc3VlLnR5cGUgPT09IFwiYXJyYXlcIilcbiAgICAgICAgbWVzc2FnZSA9IGBBcnJheSBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5YCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBtb3N0YCA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19IGVsZW1lbnQocylgO1xuICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgbWVzc2FnZSA9IGBTdHJpbmcgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbW9zdGAgOiBgdW5kZXJgfSAke2lzc3VlLm1heGltdW19IGNoYXJhY3RlcihzKWA7XG4gICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcIm51bWJlclwiKVxuICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgbGVzcyB0aGFuIG9yIGVxdWFsIHRvYCA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19YDtcbiAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgIG1lc3NhZ2UgPSBgQmlnSW50IG11c3QgYmUgJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5YCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBsZXNzIHRoYW4gb3IgZXF1YWwgdG9gIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX1gO1xuICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJkYXRlXCIpXG4gICAgICAgIG1lc3NhZ2UgPSBgRGF0ZSBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgc21hbGxlciB0aGFuIG9yIGVxdWFsIHRvYCA6IGBzbWFsbGVyIHRoYW5gfSAke25ldyBEYXRlKE51bWJlcihpc3N1ZS5tYXhpbXVtKSl9YDtcbiAgICAgIGVsc2VcbiAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBab2RJc3N1ZUNvZGUuY3VzdG9tOlxuICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0YDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzOlxuICAgICAgbWVzc2FnZSA9IGBJbnRlcnNlY3Rpb24gcmVzdWx0cyBjb3VsZCBub3QgYmUgbWVyZ2VkYDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZjpcbiAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAke2lzc3VlLm11bHRpcGxlT2Z9YDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgWm9kSXNzdWVDb2RlLm5vdF9maW5pdGU6XG4gICAgICBtZXNzYWdlID0gXCJOdW1iZXIgbXVzdCBiZSBmaW5pdGVcIjtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBtZXNzYWdlID0gX2N0eC5kZWZhdWx0RXJyb3I7XG4gICAgICB1dGlsLmFzc2VydE5ldmVyKGlzc3VlKTtcbiAgfVxuICByZXR1cm4geyBtZXNzYWdlIH07XG59O1xubGV0IG92ZXJyaWRlRXJyb3JNYXAgPSBlcnJvck1hcDtcbmZ1bmN0aW9uIHNldEVycm9yTWFwKG1hcCkge1xuICBvdmVycmlkZUVycm9yTWFwID0gbWFwO1xufVxuZnVuY3Rpb24gZ2V0RXJyb3JNYXAoKSB7XG4gIHJldHVybiBvdmVycmlkZUVycm9yTWFwO1xufVxuY29uc3QgbWFrZUlzc3VlID0gKHBhcmFtcykgPT4ge1xuICBjb25zdCB7IGRhdGEsIHBhdGgsIGVycm9yTWFwcywgaXNzdWVEYXRhIH0gPSBwYXJhbXM7XG4gIGNvbnN0IGZ1bGxQYXRoID0gWy4uLnBhdGgsIC4uLmlzc3VlRGF0YS5wYXRoIHx8IFtdXTtcbiAgY29uc3QgZnVsbElzc3VlID0ge1xuICAgIC4uLmlzc3VlRGF0YSxcbiAgICBwYXRoOiBmdWxsUGF0aFxuICB9O1xuICBpZiAoaXNzdWVEYXRhLm1lc3NhZ2UgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICAgIG1lc3NhZ2U6IGlzc3VlRGF0YS5tZXNzYWdlXG4gICAgfTtcbiAgfVxuICBsZXQgZXJyb3JNZXNzYWdlID0gXCJcIjtcbiAgY29uc3QgbWFwcyA9IGVycm9yTWFwcy5maWx0ZXIoKG0yKSA9PiAhIW0yKS5zbGljZSgpLnJldmVyc2UoKTtcbiAgZm9yIChjb25zdCBtYXAgb2YgbWFwcykge1xuICAgIGVycm9yTWVzc2FnZSA9IG1hcChmdWxsSXNzdWUsIHsgZGF0YSwgZGVmYXVsdEVycm9yOiBlcnJvck1lc3NhZ2UgfSkubWVzc2FnZTtcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLmlzc3VlRGF0YSxcbiAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2VcbiAgfTtcbn07XG5jb25zdCBFTVBUWV9QQVRIID0gW107XG5mdW5jdGlvbiBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIGlzc3VlRGF0YSkge1xuICBjb25zdCBvdmVycmlkZU1hcCA9IGdldEVycm9yTWFwKCk7XG4gIGNvbnN0IGlzc3VlID0gbWFrZUlzc3VlKHtcbiAgICBpc3N1ZURhdGEsXG4gICAgZGF0YTogY3R4LmRhdGEsXG4gICAgcGF0aDogY3R4LnBhdGgsXG4gICAgZXJyb3JNYXBzOiBbXG4gICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgIC8vIGNvbnRleHR1YWwgZXJyb3IgbWFwIGlzIGZpcnN0IHByaW9yaXR5XG4gICAgICBjdHguc2NoZW1hRXJyb3JNYXAsXG4gICAgICAvLyB0aGVuIHNjaGVtYS1ib3VuZCBtYXAgaWYgYXZhaWxhYmxlXG4gICAgICBvdmVycmlkZU1hcCxcbiAgICAgIC8vIHRoZW4gZ2xvYmFsIG92ZXJyaWRlIG1hcFxuICAgICAgb3ZlcnJpZGVNYXAgPT09IGVycm9yTWFwID8gdm9pZCAwIDogZXJyb3JNYXBcbiAgICAgIC8vIHRoZW4gZ2xvYmFsIGRlZmF1bHQgbWFwXG4gICAgXS5maWx0ZXIoKHgyKSA9PiAhIXgyKVxuICB9KTtcbiAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaChpc3N1ZSk7XG59XG5jbGFzcyBQYXJzZVN0YXR1cyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudmFsdWUgPSBcInZhbGlkXCI7XG4gIH1cbiAgZGlydHkoKSB7XG4gICAgaWYgKHRoaXMudmFsdWUgPT09IFwidmFsaWRcIilcbiAgICAgIHRoaXMudmFsdWUgPSBcImRpcnR5XCI7XG4gIH1cbiAgYWJvcnQoKSB7XG4gICAgaWYgKHRoaXMudmFsdWUgIT09IFwiYWJvcnRlZFwiKVxuICAgICAgdGhpcy52YWx1ZSA9IFwiYWJvcnRlZFwiO1xuICB9XG4gIHN0YXRpYyBtZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0cykge1xuICAgIGNvbnN0IGFycmF5VmFsdWUgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHMyIG9mIHJlc3VsdHMpIHtcbiAgICAgIGlmIChzMi5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgIGlmIChzMi5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICBhcnJheVZhbHVlLnB1c2goczIudmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGFycmF5VmFsdWUgfTtcbiAgfVxuICBzdGF0aWMgYXN5bmMgbWVyZ2VPYmplY3RBc3luYyhzdGF0dXMsIHBhaXJzKSB7XG4gICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAga2V5LFxuICAgICAgICB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBzeW5jUGFpcnMpO1xuICB9XG4gIHN0YXRpYyBtZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgIGNvbnN0IGZpbmFsT2JqZWN0ID0ge307XG4gICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICBjb25zdCB7IGtleSwgdmFsdWUgfSA9IHBhaXI7XG4gICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICBpZiAodmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgaWYgKGtleS52YWx1ZSAhPT0gXCJfX3Byb3RvX19cIiAmJiAodHlwZW9mIHZhbHVlLnZhbHVlICE9PSBcInVuZGVmaW5lZFwiIHx8IHBhaXIuYWx3YXlzU2V0KSkge1xuICAgICAgICBmaW5hbE9iamVjdFtrZXkudmFsdWVdID0gdmFsdWUudmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxPYmplY3QgfTtcbiAgfVxufVxuY29uc3QgSU5WQUxJRCA9IE9iamVjdC5mcmVlemUoe1xuICBzdGF0dXM6IFwiYWJvcnRlZFwiXG59KTtcbmNvbnN0IERJUlRZID0gKHZhbHVlKSA9PiAoeyBzdGF0dXM6IFwiZGlydHlcIiwgdmFsdWUgfSk7XG5jb25zdCBPSyA9ICh2YWx1ZSkgPT4gKHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlIH0pO1xuY29uc3QgaXNBYm9ydGVkID0gKHgyKSA9PiB4Mi5zdGF0dXMgPT09IFwiYWJvcnRlZFwiO1xuY29uc3QgaXNEaXJ0eSA9ICh4MikgPT4geDIuc3RhdHVzID09PSBcImRpcnR5XCI7XG5jb25zdCBpc1ZhbGlkID0gKHgyKSA9PiB4Mi5zdGF0dXMgPT09IFwidmFsaWRcIjtcbmNvbnN0IGlzQXN5bmMgPSAoeDIpID0+IHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiICYmIHgyIGluc3RhbmNlb2YgUHJvbWlzZTtcbmZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmMikge1xuICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgdHJ1ZSA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICByZXR1cm4gc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn1cbmZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZjIpIHtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8IHRydWUgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICByZXR1cm4gc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSksIHZhbHVlO1xufVxudHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24oZXJyb3IyLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XG4gIHZhciBlMiA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGUyLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlMi5lcnJvciA9IGVycm9yMiwgZTIuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGUyO1xufTtcbnZhciBlcnJvclV0aWw7XG4oZnVuY3Rpb24oZXJyb3JVdGlsMikge1xuICBlcnJvclV0aWwyLmVyclRvT2JqID0gKG1lc3NhZ2UpID0+IHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8geyBtZXNzYWdlIH0gOiBtZXNzYWdlIHx8IHt9O1xuICBlcnJvclV0aWwyLnRvU3RyaW5nID0gKG1lc3NhZ2UpID0+IHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8gbWVzc2FnZSA6IG1lc3NhZ2UgPT09IG51bGwgfHwgbWVzc2FnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVzc2FnZS5tZXNzYWdlO1xufSkoZXJyb3JVdGlsIHx8IChlcnJvclV0aWwgPSB7fSkpO1xudmFyIF9ab2RFbnVtX2NhY2hlLCBfWm9kTmF0aXZlRW51bV9jYWNoZTtcbmNsYXNzIFBhcnNlSW5wdXRMYXp5UGF0aCB7XG4gIGNvbnN0cnVjdG9yKHBhcmVudCwgdmFsdWUsIHBhdGgsIGtleSkge1xuICAgIHRoaXMuX2NhY2hlZFBhdGggPSBbXTtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLmRhdGEgPSB2YWx1ZTtcbiAgICB0aGlzLl9wYXRoID0gcGF0aDtcbiAgICB0aGlzLl9rZXkgPSBrZXk7XG4gIH1cbiAgZ2V0IHBhdGgoKSB7XG4gICAgaWYgKCF0aGlzLl9jYWNoZWRQYXRoLmxlbmd0aCkge1xuICAgICAgaWYgKHRoaXMuX2tleSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCAuLi50aGlzLl9rZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkUGF0aC5wdXNoKC4uLnRoaXMuX3BhdGgsIHRoaXMuX2tleSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jYWNoZWRQYXRoO1xuICB9XG59XG5jb25zdCBoYW5kbGVSZXN1bHQgPSAoY3R4LCByZXN1bHQpID0+IHtcbiAgaWYgKGlzVmFsaWQocmVzdWx0KSkge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdC52YWx1ZSB9O1xuICB9IGVsc2Uge1xuICAgIGlmICghY3R4LmNvbW1vbi5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWYWxpZGF0aW9uIGZhaWxlZCBidXQgbm8gaXNzdWVzIGRldGVjdGVkLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICBpZiAodGhpcy5fZXJyb3IpXG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICBjb25zdCBlcnJvcjIgPSBuZXcgWm9kRXJyb3IoY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICB0aGlzLl9lcnJvciA9IGVycm9yMjtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG5mdW5jdGlvbiBwcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcykge1xuICBpZiAoIXBhcmFtcylcbiAgICByZXR1cm4ge307XG4gIGNvbnN0IHsgZXJyb3JNYXA6IGVycm9yTWFwMiwgaW52YWxpZF90eXBlX2Vycm9yLCByZXF1aXJlZF9lcnJvciwgZGVzY3JpcHRpb24gfSA9IHBhcmFtcztcbiAgaWYgKGVycm9yTWFwMiAmJiAoaW52YWxpZF90eXBlX2Vycm9yIHx8IHJlcXVpcmVkX2Vycm9yKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgdXNlIFwiaW52YWxpZF90eXBlX2Vycm9yXCIgb3IgXCJyZXF1aXJlZF9lcnJvclwiIGluIGNvbmp1bmN0aW9uIHdpdGggY3VzdG9tIGVycm9yIG1hcC5gKTtcbiAgfVxuICBpZiAoZXJyb3JNYXAyKVxuICAgIHJldHVybiB7IGVycm9yTWFwOiBlcnJvck1hcDIsIGRlc2NyaXB0aW9uIH07XG4gIGNvbnN0IGN1c3RvbU1hcCA9IChpc3MsIGN0eCkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgeyBtZXNzYWdlIH0gPSBwYXJhbXM7XG4gICAgaWYgKGlzcy5jb2RlID09PSBcImludmFsaWRfZW51bV92YWx1ZVwiKSB7XG4gICAgICByZXR1cm4geyBtZXNzYWdlOiBtZXNzYWdlICE9PSBudWxsICYmIG1lc3NhZ2UgIT09IHZvaWQgMCA/IG1lc3NhZ2UgOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY3R4LmRhdGEgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiB7IG1lc3NhZ2U6IChfYSA9IG1lc3NhZ2UgIT09IG51bGwgJiYgbWVzc2FnZSAhPT0gdm9pZCAwID8gbWVzc2FnZSA6IHJlcXVpcmVkX2Vycm9yKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgfVxuICAgIGlmIChpc3MuY29kZSAhPT0gXCJpbnZhbGlkX3R5cGVcIilcbiAgICAgIHJldHVybiB7IG1lc3NhZ2U6IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICByZXR1cm4geyBtZXNzYWdlOiAoX2IgPSBtZXNzYWdlICE9PSBudWxsICYmIG1lc3NhZ2UgIT09IHZvaWQgMCA/IG1lc3NhZ2UgOiBpbnZhbGlkX3R5cGVfZXJyb3IpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgfTtcbiAgcmV0dXJuIHsgZXJyb3JNYXA6IGN1c3RvbU1hcCwgZGVzY3JpcHRpb24gfTtcbn1cbmNsYXNzIFpvZFR5cGUge1xuICBnZXQgZGVzY3JpcHRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi5kZXNjcmlwdGlvbjtcbiAgfVxuICBfZ2V0VHlwZShpbnB1dCkge1xuICAgIHJldHVybiBnZXRQYXJzZWRUeXBlKGlucHV0LmRhdGEpO1xuICB9XG4gIF9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KSB7XG4gICAgcmV0dXJuIGN0eCB8fCB7XG4gICAgICBjb21tb246IGlucHV0LnBhcmVudC5jb21tb24sXG4gICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgcGFyc2VkVHlwZTogZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKSxcbiAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgcGFyZW50OiBpbnB1dC5wYXJlbnRcbiAgICB9O1xuICB9XG4gIF9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiBuZXcgUGFyc2VTdGF0dXMoKSxcbiAgICAgIGN0eDoge1xuICAgICAgICBjb21tb246IGlucHV0LnBhcmVudC5jb21tb24sXG4gICAgICAgIGRhdGE6IGlucHV0LmRhdGEsXG4gICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgIHBhdGg6IGlucHV0LnBhdGgsXG4gICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBfcGFyc2VTeW5jKGlucHV0KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2UoaW5wdXQpO1xuICAgIGlmIChpc0FzeW5jKHJlc3VsdCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5bmNocm9ub3VzIHBhcnNlIGVuY291bnRlcmVkIHByb21pc2UuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIF9wYXJzZUFzeW5jKGlucHV0KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2UoaW5wdXQpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgfVxuICBwYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnNhZmVQYXJzZShkYXRhLCBwYXJhbXMpO1xuICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gIH1cbiAgc2FmZVBhcnNlKGRhdGEsIHBhcmFtcykge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBjdHggPSB7XG4gICAgICBjb21tb246IHtcbiAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgYXN5bmM6IChfYSA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5hc3luYykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgICAgIGNvbnRleHR1YWxFcnJvck1hcDogcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmVycm9yTWFwXG4gICAgICB9LFxuICAgICAgcGF0aDogKHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5wYXRoKSB8fCBbXSxcbiAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICBkYXRhLFxuICAgICAgcGFyc2VkVHlwZTogZ2V0UGFyc2VkVHlwZShkYXRhKVxuICAgIH07XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2VTeW5jKHsgZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pO1xuICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICB9XG4gIFwifnZhbGlkYXRlXCIoZGF0YSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgY3R4ID0ge1xuICAgICAgY29tbW9uOiB7XG4gICAgICAgIGlzc3VlczogW10sXG4gICAgICAgIGFzeW5jOiAhIXRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmNcbiAgICAgIH0sXG4gICAgICBwYXRoOiBbXSxcbiAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICBkYXRhLFxuICAgICAgcGFyc2VkVHlwZTogZ2V0UGFyc2VkVHlwZShkYXRhKVxuICAgIH07XG4gICAgaWYgKCF0aGlzW1wifnN0YW5kYXJkXCJdLmFzeW5jKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZVN5bmMoeyBkYXRhLCBwYXRoOiBbXSwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIHJldHVybiBpc1ZhbGlkKHJlc3VsdCkgPyB7XG4gICAgICAgICAgdmFsdWU6IHJlc3VsdC52YWx1ZVxuICAgICAgICB9IDoge1xuICAgICAgICAgIGlzc3VlczogY3R4LmNvbW1vbi5pc3N1ZXNcbiAgICAgICAgfTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoKF9iID0gKF9hID0gZXJyID09PSBudWxsIHx8IGVyciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyLm1lc3NhZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b0xvd2VyQ2FzZSgpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaW5jbHVkZXMoXCJlbmNvdW50ZXJlZFwiKSkge1xuICAgICAgICAgIHRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5jb21tb24gPSB7XG4gICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICBhc3luYzogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fcGFyc2VBc3luYyh7IGRhdGEsIHBhdGg6IFtdLCBwYXJlbnQ6IGN0eCB9KS50aGVuKChyZXN1bHQpID0+IGlzVmFsaWQocmVzdWx0KSA/IHtcbiAgICAgIHZhbHVlOiByZXN1bHQudmFsdWVcbiAgICB9IDoge1xuICAgICAgaXNzdWVzOiBjdHguY29tbW9uLmlzc3Vlc1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIHBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zYWZlUGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpO1xuICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gIH1cbiAgYXN5bmMgc2FmZVBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKSB7XG4gICAgY29uc3QgY3R4ID0ge1xuICAgICAgY29tbW9uOiB7XG4gICAgICAgIGlzc3VlczogW10sXG4gICAgICAgIGNvbnRleHR1YWxFcnJvck1hcDogcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmVycm9yTWFwLFxuICAgICAgICBhc3luYzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHBhdGg6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMucGF0aCkgfHwgW10sXG4gICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgZGF0YSxcbiAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSlcbiAgICB9O1xuICAgIGNvbnN0IG1heWJlQXN5bmNSZXN1bHQgPSB0aGlzLl9wYXJzZSh7IGRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoaXNBc3luYyhtYXliZUFzeW5jUmVzdWx0KSA/IG1heWJlQXN5bmNSZXN1bHQgOiBQcm9taXNlLnJlc29sdmUobWF5YmVBc3luY1Jlc3VsdCkpO1xuICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICB9XG4gIHJlZmluZShjaGVjaywgbWVzc2FnZSkge1xuICAgIGNvbnN0IGdldElzc3VlUHJvcGVydGllcyA9ICh2YWwpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgbWVzc2FnZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4geyBtZXNzYWdlIH07XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UodmFsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQoKHZhbCwgY3R4KSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBjaGVjayh2YWwpO1xuICAgICAgY29uc3Qgc2V0RXJyb3IgPSAoKSA9PiBjdHguYWRkSXNzdWUoe1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuY3VzdG9tLFxuICAgICAgICAuLi5nZXRJc3N1ZVByb3BlcnRpZXModmFsKVxuICAgICAgfSk7XG4gICAgICBpZiAodHlwZW9mIFByb21pc2UgIT09IFwidW5kZWZpbmVkXCIgJiYgcmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHNldEVycm9yKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICBzZXRFcnJvcigpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZWZpbmVtZW50KGNoZWNrLCByZWZpbmVtZW50RGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KCh2YWwsIGN0eCkgPT4ge1xuICAgICAgaWYgKCFjaGVjayh2YWwpKSB7XG4gICAgICAgIGN0eC5hZGRJc3N1ZSh0eXBlb2YgcmVmaW5lbWVudERhdGEgPT09IFwiZnVuY3Rpb25cIiA/IHJlZmluZW1lbnREYXRhKHZhbCwgY3R4KSA6IHJlZmluZW1lbnREYXRhKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgX3JlZmluZW1lbnQocmVmaW5lbWVudCkge1xuICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICBzY2hlbWE6IHRoaXMsXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICBlZmZlY3Q6IHsgdHlwZTogXCJyZWZpbmVtZW50XCIsIHJlZmluZW1lbnQgfVxuICAgIH0pO1xuICB9XG4gIHN1cGVyUmVmaW5lKHJlZmluZW1lbnQpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudChyZWZpbmVtZW50KTtcbiAgfVxuICBjb25zdHJ1Y3RvcihkZWYpIHtcbiAgICB0aGlzLnNwYSA9IHRoaXMuc2FmZVBhcnNlQXN5bmM7XG4gICAgdGhpcy5fZGVmID0gZGVmO1xuICAgIHRoaXMucGFyc2UgPSB0aGlzLnBhcnNlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zYWZlUGFyc2UgPSB0aGlzLnNhZmVQYXJzZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucGFyc2VBc3luYyA9IHRoaXMucGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2FmZVBhcnNlQXN5bmMgPSB0aGlzLnNhZmVQYXJzZUFzeW5jLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zcGEgPSB0aGlzLnNwYS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVmaW5lID0gdGhpcy5yZWZpbmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlZmluZW1lbnQgPSB0aGlzLnJlZmluZW1lbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN1cGVyUmVmaW5lID0gdGhpcy5zdXBlclJlZmluZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub3B0aW9uYWwgPSB0aGlzLm9wdGlvbmFsLmJpbmQodGhpcyk7XG4gICAgdGhpcy5udWxsYWJsZSA9IHRoaXMubnVsbGFibGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm51bGxpc2ggPSB0aGlzLm51bGxpc2guYmluZCh0aGlzKTtcbiAgICB0aGlzLmFycmF5ID0gdGhpcy5hcnJheS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucHJvbWlzZSA9IHRoaXMucHJvbWlzZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub3IgPSB0aGlzLm9yLmJpbmQodGhpcyk7XG4gICAgdGhpcy5hbmQgPSB0aGlzLmFuZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMudHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0uYmluZCh0aGlzKTtcbiAgICB0aGlzLmJyYW5kID0gdGhpcy5icmFuZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZGVmYXVsdCA9IHRoaXMuZGVmYXVsdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2F0Y2ggPSB0aGlzLmNhdGNoLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kZXNjcmliZSA9IHRoaXMuZGVzY3JpYmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnBpcGUgPSB0aGlzLnBpcGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlYWRvbmx5ID0gdGhpcy5yZWFkb25seS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaXNOdWxsYWJsZSA9IHRoaXMuaXNOdWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaXNPcHRpb25hbCA9IHRoaXMuaXNPcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgIHRoaXNbXCJ+c3RhbmRhcmRcIl0gPSB7XG4gICAgICB2ZXJzaW9uOiAxLFxuICAgICAgdmVuZG9yOiBcInpvZFwiLFxuICAgICAgdmFsaWRhdGU6IChkYXRhKSA9PiB0aGlzW1wifnZhbGlkYXRlXCJdKGRhdGEpXG4gICAgfTtcbiAgfVxuICBvcHRpb25hbCgpIHtcbiAgICByZXR1cm4gWm9kT3B0aW9uYWwuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gIH1cbiAgbnVsbGFibGUoKSB7XG4gICAgcmV0dXJuIFpvZE51bGxhYmxlLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICB9XG4gIG51bGxpc2goKSB7XG4gICAgcmV0dXJuIHRoaXMubnVsbGFibGUoKS5vcHRpb25hbCgpO1xuICB9XG4gIGFycmF5KCkge1xuICAgIHJldHVybiBab2RBcnJheS5jcmVhdGUodGhpcyk7XG4gIH1cbiAgcHJvbWlzZSgpIHtcbiAgICByZXR1cm4gWm9kUHJvbWlzZS5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgfVxuICBvcihvcHRpb24pIHtcbiAgICByZXR1cm4gWm9kVW5pb24uY3JlYXRlKFt0aGlzLCBvcHRpb25dLCB0aGlzLl9kZWYpO1xuICB9XG4gIGFuZChpbmNvbWluZykge1xuICAgIHJldHVybiBab2RJbnRlcnNlY3Rpb24uY3JlYXRlKHRoaXMsIGluY29taW5nLCB0aGlzLl9kZWYpO1xuICB9XG4gIHRyYW5zZm9ybSh0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgc2NoZW1hOiB0aGlzLFxuICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgZWZmZWN0OiB7IHR5cGU6IFwidHJhbnNmb3JtXCIsIHRyYW5zZm9ybSB9XG4gICAgfSk7XG4gIH1cbiAgZGVmYXVsdChkZWYpIHtcbiAgICBjb25zdCBkZWZhdWx0VmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgIHJldHVybiBuZXcgWm9kRGVmYXVsdCh7XG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICBpbm5lclR5cGU6IHRoaXMsXG4gICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZUZ1bmMsXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHRcbiAgICB9KTtcbiAgfVxuICBicmFuZCgpIHtcbiAgICByZXR1cm4gbmV3IFpvZEJyYW5kZWQoe1xuICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCcmFuZGVkLFxuICAgICAgdHlwZTogdGhpcyxcbiAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKVxuICAgIH0pO1xuICB9XG4gIGNhdGNoKGRlZikge1xuICAgIGNvbnN0IGNhdGNoVmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgY2F0Y2hWYWx1ZTogY2F0Y2hWYWx1ZUZ1bmMsXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoXG4gICAgfSk7XG4gIH1cbiAgZGVzY3JpYmUoZGVzY3JpcHRpb24pIHtcbiAgICBjb25zdCBUaGlzID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gbmV3IFRoaXMoe1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgZGVzY3JpcHRpb25cbiAgICB9KTtcbiAgfVxuICBwaXBlKHRhcmdldCkge1xuICAgIHJldHVybiBab2RQaXBlbGluZS5jcmVhdGUodGhpcywgdGFyZ2V0KTtcbiAgfVxuICByZWFkb25seSgpIHtcbiAgICByZXR1cm4gWm9kUmVhZG9ubHkuY3JlYXRlKHRoaXMpO1xuICB9XG4gIGlzT3B0aW9uYWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2FmZVBhcnNlKHZvaWQgMCkuc3VjY2VzcztcbiAgfVxuICBpc051bGxhYmxlKCkge1xuICAgIHJldHVybiB0aGlzLnNhZmVQYXJzZShudWxsKS5zdWNjZXNzO1xuICB9XG59XG5jb25zdCBjdWlkUmVnZXggPSAvXmNbXlxccy1dezgsfSQvaTtcbmNvbnN0IGN1aWQyUmVnZXggPSAvXlswLTlhLXpdKyQvO1xuY29uc3QgdWxpZFJlZ2V4ID0gL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC9pO1xuY29uc3QgdXVpZFJlZ2V4ID0gL15bMC05YS1mQS1GXXs4fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXsxMn0kL2k7XG5jb25zdCBuYW5vaWRSZWdleCA9IC9eW2EtejAtOV8tXXsyMX0kL2k7XG5jb25zdCBqd3RSZWdleCA9IC9eW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dK1xcLltBLVphLXowLTktX10qJC87XG5jb25zdCBkdXJhdGlvblJlZ2V4ID0gL15bLStdP1AoPyEkKSg/Oig/OlstK10/XFxkK1kpfCg/OlstK10/XFxkK1suLF1cXGQrWSQpKT8oPzooPzpbLStdP1xcZCtNKXwoPzpbLStdP1xcZCtbLixdXFxkK00kKSk/KD86KD86Wy0rXT9cXGQrVyl8KD86Wy0rXT9cXGQrWy4sXVxcZCtXJCkpPyg/Oig/OlstK10/XFxkK0QpfCg/OlstK10/XFxkK1suLF1cXGQrRCQpKT8oPzpUKD89W1xcZCstXSkoPzooPzpbLStdP1xcZCtIKXwoPzpbLStdP1xcZCtbLixdXFxkK0gkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/OlstK10/XFxkKyg/OlsuLF1cXGQrKT9TKT8pPz8kLztcbmNvbnN0IGVtYWlsUmVnZXggPSAvXig/IVxcLikoPyEuKlxcLlxcLikoW0EtWjAtOV8nK1xcLVxcLl0qKVtBLVowLTlfKy1dQChbQS1aMC05XVtBLVowLTlcXC1dKlxcLikrW0EtWl17Mix9JC9pO1xuY29uc3QgX2Vtb2ppUmVnZXggPSBgXihcXFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fFxcXFxwe0Vtb2ppX0NvbXBvbmVudH0pKyRgO1xubGV0IGVtb2ppUmVnZXg7XG5jb25zdCBpcHY0UmVnZXggPSAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKSQvO1xuY29uc3QgaXB2NENpZHJSZWdleCA9IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwvKDNbMC0yXXxbMTJdP1swLTldKSQvO1xuY29uc3QgaXB2NlJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpJC87XG5jb25zdCBpcHY2Q2lkclJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpXFwvKDEyWzAtOF18MVswMV1bMC05XXxbMS05XT9bMC05XSkkLztcbmNvbnN0IGJhc2U2NFJlZ2V4ID0gL14oWzAtOWEtekEtWisvXXs0fSkqKChbMC05YS16QS1aKy9dezJ9PT0pfChbMC05YS16QS1aKy9dezN9PSkpPyQvO1xuY29uc3QgYmFzZTY0dXJsUmVnZXggPSAvXihbMC05YS16QS1aLV9dezR9KSooKFswLTlhLXpBLVotX117Mn0oPT0pPyl8KFswLTlhLXpBLVotX117M30oPSk/KSk/JC87XG5jb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgKChcXFxcZFxcXFxkWzI0NjhdWzA0OF18XFxcXGRcXFxcZFsxMzU3OV1bMjZdfFxcXFxkXFxcXGQwWzQ4XXxbMDI0NjhdWzA0OF0wMHxbMTM1NzldWzI2XTAwKS0wMi0yOXxcXFxcZHs0fS0oKDBbMTM1NzhdfDFbMDJdKS0oMFsxLTldfFsxMl1cXFxcZHwzWzAxXSl8KDBbNDY5XXwxMSktKDBbMS05XXxbMTJdXFxcXGR8MzApfCgwMiktKDBbMS05XXwxXFxcXGR8MlswLThdKSkpYDtcbmNvbnN0IGRhdGVSZWdleCA9IG5ldyBSZWdFeHAoYF4ke2RhdGVSZWdleFNvdXJjZX0kYCk7XG5mdW5jdGlvbiB0aW1lUmVnZXhTb3VyY2UoYXJncykge1xuICBsZXQgc2Vjb25kc1JlZ2V4U291cmNlID0gYFswLTVdXFxcXGRgO1xuICBpZiAoYXJncy5wcmVjaXNpb24pIHtcbiAgICBzZWNvbmRzUmVnZXhTb3VyY2UgPSBgJHtzZWNvbmRzUmVnZXhTb3VyY2V9XFxcXC5cXFxcZHske2FyZ3MucHJlY2lzaW9ufX1gO1xuICB9IGVsc2UgaWYgKGFyZ3MucHJlY2lzaW9uID09IG51bGwpIHtcbiAgICBzZWNvbmRzUmVnZXhTb3VyY2UgPSBgJHtzZWNvbmRzUmVnZXhTb3VyY2V9KFxcXFwuXFxcXGQrKT9gO1xuICB9XG4gIGNvbnN0IHNlY29uZHNRdWFudGlmaWVyID0gYXJncy5wcmVjaXNpb24gPyBcIitcIiA6IFwiP1wiO1xuICByZXR1cm4gYChbMDFdXFxcXGR8MlswLTNdKTpbMC01XVxcXFxkKDoke3NlY29uZHNSZWdleFNvdXJjZX0pJHtzZWNvbmRzUXVhbnRpZmllcn1gO1xufVxuZnVuY3Rpb24gdGltZVJlZ2V4KGFyZ3MpIHtcbiAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3RpbWVSZWdleFNvdXJjZShhcmdzKX0kYCk7XG59XG5mdW5jdGlvbiBkYXRldGltZVJlZ2V4KGFyZ3MpIHtcbiAgbGV0IHJlZ2V4ID0gYCR7ZGF0ZVJlZ2V4U291cmNlfVQke3RpbWVSZWdleFNvdXJjZShhcmdzKX1gO1xuICBjb25zdCBvcHRzID0gW107XG4gIG9wdHMucHVzaChhcmdzLmxvY2FsID8gYFo/YCA6IGBaYCk7XG4gIGlmIChhcmdzLm9mZnNldClcbiAgICBvcHRzLnB1c2goYChbKy1dXFxcXGR7Mn06P1xcXFxkezJ9KWApO1xuICByZWdleCA9IGAke3JlZ2V4fSgke29wdHMuam9pbihcInxcIil9KWA7XG4gIHJldHVybiBuZXcgUmVnRXhwKGBeJHtyZWdleH0kYCk7XG59XG5mdW5jdGlvbiBpc1ZhbGlkSVAoaXAsIHZlcnNpb24pIHtcbiAgaWYgKCh2ZXJzaW9uID09PSBcInY0XCIgfHwgIXZlcnNpb24pICYmIGlwdjRSZWdleC50ZXN0KGlwKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICgodmVyc2lvbiA9PT0gXCJ2NlwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY2UmVnZXgudGVzdChpcCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc1ZhbGlkSldUKGp3dCwgYWxnKSB7XG4gIGlmICghand0UmVnZXgudGVzdChqd3QpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgdHJ5IHtcbiAgICBjb25zdCBbaGVhZGVyXSA9IGp3dC5zcGxpdChcIi5cIik7XG4gICAgY29uc3QgYmFzZTY0ID0gaGVhZGVyLnJlcGxhY2UoLy0vZywgXCIrXCIpLnJlcGxhY2UoL18vZywgXCIvXCIpLnBhZEVuZChoZWFkZXIubGVuZ3RoICsgKDQgLSBoZWFkZXIubGVuZ3RoICUgNCkgJSA0LCBcIj1cIik7XG4gICAgY29uc3QgZGVjb2RlZCA9IEpTT04ucGFyc2UoYXRvYihiYXNlNjQpKTtcbiAgICBpZiAodHlwZW9mIGRlY29kZWQgIT09IFwib2JqZWN0XCIgfHwgZGVjb2RlZCA9PT0gbnVsbClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWRlY29kZWQudHlwIHx8ICFkZWNvZGVkLmFsZylcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoYWxnICYmIGRlY29kZWQuYWxnICE9PSBhbGcpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKF9hKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5mdW5jdGlvbiBpc1ZhbGlkQ2lkcihpcCwgdmVyc2lvbikge1xuICBpZiAoKHZlcnNpb24gPT09IFwidjRcIiB8fCAhdmVyc2lvbikgJiYgaXB2NENpZHJSZWdleC50ZXN0KGlwKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICgodmVyc2lvbiA9PT0gXCJ2NlwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY2Q2lkclJlZ2V4LnRlc3QoaXApKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuY2xhc3MgWm9kU3RyaW5nIGV4dGVuZHMgWm9kVHlwZSB7XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICBpbnB1dC5kYXRhID0gU3RyaW5nKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc3RyaW5nKSB7XG4gICAgICBjb25zdCBjdHgyID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4Miwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zdHJpbmcsXG4gICAgICAgIHJlY2VpdmVkOiBjdHgyLnBhcnNlZFR5cGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgIGxldCBjdHggPSB2b2lkIDA7XG4gICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICBpZiAoaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImxlbmd0aFwiKSB7XG4gICAgICAgIGNvbnN0IHRvb0JpZyA9IGlucHV0LmRhdGEubGVuZ3RoID4gY2hlY2sudmFsdWU7XG4gICAgICAgIGNvbnN0IHRvb1NtYWxsID0gaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZTtcbiAgICAgICAgaWYgKHRvb0JpZyB8fCB0b29TbWFsbCkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1haWxcIikge1xuICAgICAgICBpZiAoIWVtYWlsUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbWFpbFwiLFxuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1vamlcIikge1xuICAgICAgICBpZiAoIWVtb2ppUmVnZXgpIHtcbiAgICAgICAgICBlbW9qaVJlZ2V4ID0gbmV3IFJlZ0V4cChfZW1vamlSZWdleCwgXCJ1XCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZW1vamlSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uOiBcImVtb2ppXCIsXG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1dWlkXCIpIHtcbiAgICAgICAgaWYgKCF1dWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1dWlkXCIsXG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJuYW5vaWRcIikge1xuICAgICAgICBpZiAoIW5hbm9pZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb246IFwibmFub2lkXCIsXG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjdWlkXCIpIHtcbiAgICAgICAgaWYgKCFjdWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjdWlkXCIsXG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjdWlkMlwiKSB7XG4gICAgICAgIGlmICghY3VpZDJSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uOiBcImN1aWQyXCIsXG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1bGlkXCIpIHtcbiAgICAgICAgaWYgKCF1bGlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1bGlkXCIsXG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1cmxcIikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG5ldyBVUkwoaW5wdXQuZGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uOiBcInVybFwiLFxuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwicmVnZXhcIikge1xuICAgICAgICBjaGVjay5yZWdleC5sYXN0SW5kZXggPSAwO1xuICAgICAgICBjb25zdCB0ZXN0UmVzdWx0ID0gY2hlY2sucmVnZXgudGVzdChpbnB1dC5kYXRhKTtcbiAgICAgICAgaWYgKCF0ZXN0UmVzdWx0KSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uOiBcInJlZ2V4XCIsXG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0cmltXCIpIHtcbiAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudHJpbSgpO1xuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImluY2x1ZGVzXCIpIHtcbiAgICAgICAgaWYgKCFpbnB1dC5kYXRhLmluY2x1ZGVzKGNoZWNrLnZhbHVlLCBjaGVjay5wb3NpdGlvbikpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgIHZhbGlkYXRpb246IHsgaW5jbHVkZXM6IGNoZWNrLnZhbHVlLCBwb3NpdGlvbjogY2hlY2sucG9zaXRpb24gfSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRvTG93ZXJDYXNlXCIpIHtcbiAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudG9Mb3dlckNhc2UoKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0b1VwcGVyQ2FzZVwiKSB7XG4gICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRvVXBwZXJDYXNlKCk7XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwic3RhcnRzV2l0aFwiKSB7XG4gICAgICAgIGlmICghaW5wdXQuZGF0YS5zdGFydHNXaXRoKGNoZWNrLnZhbHVlKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBzdGFydHNXaXRoOiBjaGVjay52YWx1ZSB9LFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW5kc1dpdGhcIikge1xuICAgICAgICBpZiAoIWlucHV0LmRhdGEuZW5kc1dpdGgoY2hlY2sudmFsdWUpKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICB2YWxpZGF0aW9uOiB7IGVuZHNXaXRoOiBjaGVjay52YWx1ZSB9LFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZGF0ZXRpbWVcIikge1xuICAgICAgICBjb25zdCByZWdleCA9IGRhdGV0aW1lUmVnZXgoY2hlY2spO1xuICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImRhdGVcIikge1xuICAgICAgICBjb25zdCByZWdleCA9IGRhdGVSZWdleDtcbiAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICB2YWxpZGF0aW9uOiBcImRhdGVcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRpbWVcIikge1xuICAgICAgICBjb25zdCByZWdleCA9IHRpbWVSZWdleChjaGVjayk7XG4gICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ0aW1lXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkdXJhdGlvblwiKSB7XG4gICAgICAgIGlmICghZHVyYXRpb25SZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uOiBcImR1cmF0aW9uXCIsXG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJpcFwiKSB7XG4gICAgICAgIGlmICghaXNWYWxpZElQKGlucHV0LmRhdGEsIGNoZWNrLnZlcnNpb24pKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uOiBcImlwXCIsXG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJqd3RcIikge1xuICAgICAgICBpZiAoIWlzVmFsaWRKV1QoaW5wdXQuZGF0YSwgY2hlY2suYWxnKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJqd3RcIixcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImNpZHJcIikge1xuICAgICAgICBpZiAoIWlzVmFsaWRDaWRyKGlucHV0LmRhdGEsIGNoZWNrLnZlcnNpb24pKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uOiBcImNpZHJcIixcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImJhc2U2NFwiKSB7XG4gICAgICAgIGlmICghYmFzZTY0UmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJiYXNlNjRcIixcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImJhc2U2NHVybFwiKSB7XG4gICAgICAgIGlmICghYmFzZTY0dXJsUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJiYXNlNjR1cmxcIixcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICB9XG4gIF9yZWdleChyZWdleCwgdmFsaWRhdGlvbiwgbWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLnJlZmluZW1lbnQoKGRhdGEpID0+IHJlZ2V4LnRlc3QoZGF0YSksIHtcbiAgICAgIHZhbGlkYXRpb24sXG4gICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSlcbiAgICB9KTtcbiAgfVxuICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja11cbiAgICB9KTtcbiAgfVxuICBlbWFpbChtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJlbWFpbFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gIH1cbiAgdXJsKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInVybFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gIH1cbiAgZW1vamkobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZW1vamlcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICB9XG4gIHV1aWQobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidXVpZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gIH1cbiAgbmFub2lkKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcIm5hbm9pZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gIH1cbiAgY3VpZChtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjdWlkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgfVxuICBjdWlkMihtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjdWlkMlwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gIH1cbiAgdWxpZChtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1bGlkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgfVxuICBiYXNlNjQobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiYmFzZTY0XCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgfVxuICBiYXNlNjR1cmwobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcImJhc2U2NHVybFwiLFxuICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgfSk7XG4gIH1cbiAgand0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImp3dFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gIH1cbiAgaXAob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiaXBcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICB9XG4gIGNpZHIob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY2lkclwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gIH1cbiAgZGF0ZXRpbWUob3B0aW9ucykge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgIHByZWNpc2lvbjogbnVsbCxcbiAgICAgICAgb2Zmc2V0OiBmYWxzZSxcbiAgICAgICAgbG9jYWw6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiBvcHRpb25zXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgIGtpbmQ6IFwiZGF0ZXRpbWVcIixcbiAgICAgIHByZWNpc2lvbjogdHlwZW9mIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucHJlY2lzaW9uKSA9PT0gXCJ1bmRlZmluZWRcIiA/IG51bGwgOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucHJlY2lzaW9uLFxuICAgICAgb2Zmc2V0OiAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMub2Zmc2V0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSxcbiAgICAgIGxvY2FsOiAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubG9jYWwpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZhbHNlLFxuICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5tZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIGRhdGUobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZGF0ZVwiLCBtZXNzYWdlIH0pO1xuICB9XG4gIHRpbWUob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAga2luZDogXCJ0aW1lXCIsXG4gICAgICAgIHByZWNpc2lvbjogbnVsbCxcbiAgICAgICAgbWVzc2FnZTogb3B0aW9uc1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcInRpbWVcIixcbiAgICAgIHByZWNpc2lvbjogdHlwZW9mIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucHJlY2lzaW9uKSA9PT0gXCJ1bmRlZmluZWRcIiA/IG51bGwgOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucHJlY2lzaW9uLFxuICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5tZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIGR1cmF0aW9uKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImR1cmF0aW9uXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgfVxuICByZWdleChyZWdleCwgbWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcInJlZ2V4XCIsXG4gICAgICByZWdleCxcbiAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIGluY2x1ZGVzKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgIGtpbmQ6IFwiaW5jbHVkZXNcIixcbiAgICAgIHZhbHVlLFxuICAgICAgcG9zaXRpb246IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWVzc2FnZSlcbiAgICB9KTtcbiAgfVxuICBzdGFydHNXaXRoKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgIGtpbmQ6IFwic3RhcnRzV2l0aFwiLFxuICAgICAgdmFsdWUsXG4gICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSlcbiAgICB9KTtcbiAgfVxuICBlbmRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcImVuZHNXaXRoXCIsXG4gICAgICB2YWx1ZSxcbiAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIG1pbihtaW5MZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJtaW5cIixcbiAgICAgIHZhbHVlOiBtaW5MZW5ndGgsXG4gICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSlcbiAgICB9KTtcbiAgfVxuICBtYXgobWF4TGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICB2YWx1ZTogbWF4TGVuZ3RoLFxuICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgfSk7XG4gIH1cbiAgbGVuZ3RoKGxlbiwgbWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcImxlbmd0aFwiLFxuICAgICAgdmFsdWU6IGxlbixcbiAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBFcXVpdmFsZW50IHRvIGAubWluKDEpYFxuICAgKi9cbiAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLm1pbigxLCBlcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkpO1xuICB9XG4gIHRyaW0oKSB7XG4gICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRyaW1cIiB9XVxuICAgIH0pO1xuICB9XG4gIHRvTG93ZXJDYXNlKCkge1xuICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0b0xvd2VyQ2FzZVwiIH1dXG4gICAgfSk7XG4gIH1cbiAgdG9VcHBlckNhc2UoKSB7XG4gICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRvVXBwZXJDYXNlXCIgfV1cbiAgICB9KTtcbiAgfVxuICBnZXQgaXNEYXRldGltZSgpIHtcbiAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImRhdGV0aW1lXCIpO1xuICB9XG4gIGdldCBpc0RhdGUoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJkYXRlXCIpO1xuICB9XG4gIGdldCBpc1RpbWUoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ0aW1lXCIpO1xuICB9XG4gIGdldCBpc0R1cmF0aW9uKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZHVyYXRpb25cIik7XG4gIH1cbiAgZ2V0IGlzRW1haWwoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJlbWFpbFwiKTtcbiAgfVxuICBnZXQgaXNVUkwoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1cmxcIik7XG4gIH1cbiAgZ2V0IGlzRW1vamkoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJlbW9qaVwiKTtcbiAgfVxuICBnZXQgaXNVVUlEKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidXVpZFwiKTtcbiAgfVxuICBnZXQgaXNOQU5PSUQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJuYW5vaWRcIik7XG4gIH1cbiAgZ2V0IGlzQ1VJRCgpIHtcbiAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImN1aWRcIik7XG4gIH1cbiAgZ2V0IGlzQ1VJRDIoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjdWlkMlwiKTtcbiAgfVxuICBnZXQgaXNVTElEKCkge1xuICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidWxpZFwiKTtcbiAgfVxuICBnZXQgaXNJUCgpIHtcbiAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImlwXCIpO1xuICB9XG4gIGdldCBpc0NJRFIoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjaWRyXCIpO1xuICB9XG4gIGdldCBpc0Jhc2U2NCgpIHtcbiAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImJhc2U2NFwiKTtcbiAgfVxuICBnZXQgaXNCYXNlNjR1cmwoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJiYXNlNjR1cmxcIik7XG4gIH1cbiAgZ2V0IG1pbkxlbmd0aCgpIHtcbiAgICBsZXQgbWluMiA9IG51bGw7XG4gICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICBpZiAobWluMiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbjIpXG4gICAgICAgICAgbWluMiA9IGNoLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWluMjtcbiAgfVxuICBnZXQgbWF4TGVuZ3RoKCkge1xuICAgIGxldCBtYXgyID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgIGlmIChtYXgyID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4MilcbiAgICAgICAgICBtYXgyID0gY2gudmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXgyO1xuICB9XG59XG5ab2RTdHJpbmcuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICB2YXIgX2E7XG4gIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICBjaGVja3M6IFtdLFxuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nLFxuICAgIGNvZXJjZTogKF9hID0gcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmZ1bmN0aW9uIGZsb2F0U2FmZVJlbWFpbmRlcih2YWwsIHN0ZXApIHtcbiAgY29uc3QgdmFsRGVjQ291bnQgPSAodmFsLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdIHx8IFwiXCIpLmxlbmd0aDtcbiAgY29uc3Qgc3RlcERlY0NvdW50ID0gKHN0ZXAudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICBjb25zdCBkZWNDb3VudCA9IHZhbERlY0NvdW50ID4gc3RlcERlY0NvdW50ID8gdmFsRGVjQ291bnQgOiBzdGVwRGVjQ291bnQ7XG4gIGNvbnN0IHZhbEludCA9IHBhcnNlSW50KHZhbC50b0ZpeGVkKGRlY0NvdW50KS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gIGNvbnN0IHN0ZXBJbnQgPSBwYXJzZUludChzdGVwLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgcmV0dXJuIHZhbEludCAlIHN0ZXBJbnQgLyBNYXRoLnBvdygxMCwgZGVjQ291bnQpO1xufVxuY2xhc3MgWm9kTnVtYmVyIGV4dGVuZHMgWm9kVHlwZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5taW4gPSB0aGlzLmd0ZTtcbiAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgIHRoaXMuc3RlcCA9IHRoaXMubXVsdGlwbGVPZjtcbiAgfVxuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgaW5wdXQuZGF0YSA9IE51bWJlcihpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bWJlcikge1xuICAgICAgY29uc3QgY3R4MiA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eDIsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubnVtYmVyLFxuICAgICAgICByZWNlaXZlZDogY3R4Mi5wYXJzZWRUeXBlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICBsZXQgY3R4ID0gdm9pZCAwO1xuICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwiaW50XCIpIHtcbiAgICAgICAgaWYgKCF1dGlsLmlzSW50ZWdlcihpbnB1dC5kYXRhKSkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiBcImludGVnZXJcIixcbiAgICAgICAgICAgIHJlY2VpdmVkOiBcImZsb2F0XCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICBjb25zdCB0b29TbWFsbCA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPCBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPD0gY2hlY2sudmFsdWU7XG4gICAgICAgIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgY29uc3QgdG9vQmlnID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA+IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA+PSBjaGVjay52YWx1ZTtcbiAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICBpZiAoZmxvYXRTYWZlUmVtYWluZGVyKGlucHV0LmRhdGEsIGNoZWNrLnZhbHVlKSAhPT0gMCkge1xuICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZixcbiAgICAgICAgICAgIG11bHRpcGxlT2Y6IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZmluaXRlXCIpIHtcbiAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5ub3RfZmluaXRlLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gIH1cbiAgZ3RlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gIH1cbiAgZ3QodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gIH1cbiAgbHRlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gIH1cbiAgbHQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gIH1cbiAgc2V0TGltaXQoa2luZCwgdmFsdWUsIGluY2x1c2l2ZSwgbWVzc2FnZSkge1xuICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIGNoZWNrczogW1xuICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICB7XG4gICAgICAgICAga2luZCxcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBpbmNsdXNpdmUsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KTtcbiAgfVxuICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja11cbiAgICB9KTtcbiAgfVxuICBpbnQobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcImludFwiLFxuICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgfSk7XG4gIH1cbiAgcG9zaXRpdmUobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgdmFsdWU6IDAsXG4gICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgfSk7XG4gIH1cbiAgbmVnYXRpdmUobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgdmFsdWU6IDAsXG4gICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgfSk7XG4gIH1cbiAgbm9ucG9zaXRpdmUobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgdmFsdWU6IDAsXG4gICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICB9KTtcbiAgfVxuICBub25uZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICB2YWx1ZTogMCxcbiAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIG11bHRpcGxlT2YodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJtdWx0aXBsZU9mXCIsXG4gICAgICB2YWx1ZSxcbiAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIGZpbml0ZShtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgIGtpbmQ6IFwiZmluaXRlXCIsXG4gICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICB9KTtcbiAgfVxuICBzYWZlKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJtaW5cIixcbiAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixcbiAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgIH0pLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgdmFsdWU6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxuICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgfSk7XG4gIH1cbiAgZ2V0IG1pblZhbHVlKCkge1xuICAgIGxldCBtaW4yID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgIGlmIChtaW4yID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluMilcbiAgICAgICAgICBtaW4yID0gY2gudmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtaW4yO1xuICB9XG4gIGdldCBtYXhWYWx1ZSgpIHtcbiAgICBsZXQgbWF4MiA9IG51bGw7XG4gICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICBpZiAobWF4MiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heDIpXG4gICAgICAgICAgbWF4MiA9IGNoLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF4MjtcbiAgfVxuICBnZXQgaXNJbnQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJpbnRcIiB8fCBjaC5raW5kID09PSBcIm11bHRpcGxlT2ZcIiAmJiB1dGlsLmlzSW50ZWdlcihjaC52YWx1ZSkpO1xuICB9XG4gIGdldCBpc0Zpbml0ZSgpIHtcbiAgICBsZXQgbWF4MiA9IG51bGwsIG1pbjIgPSBudWxsO1xuICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgaWYgKGNoLmtpbmQgPT09IFwiZmluaXRlXCIgfHwgY2gua2luZCA9PT0gXCJpbnRcIiB8fCBjaC5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICBpZiAobWluMiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbjIpXG4gICAgICAgICAgbWluMiA9IGNoLnZhbHVlO1xuICAgICAgfSBlbHNlIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgIGlmIChtYXgyID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4MilcbiAgICAgICAgICBtYXgyID0gY2gudmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBOdW1iZXIuaXNGaW5pdGUobWluMikgJiYgTnVtYmVyLmlzRmluaXRlKG1heDIpO1xuICB9XG59XG5ab2ROdW1iZXIuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgY2hlY2tzOiBbXSxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bWJlcixcbiAgICBjb2VyY2U6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSB8fCBmYWxzZSxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kQmlnSW50IGV4dGVuZHMgWm9kVHlwZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5taW4gPSB0aGlzLmd0ZTtcbiAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICB9XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpbnB1dC5kYXRhID0gQmlnSW50KGlucHV0LmRhdGEpO1xuICAgICAgfSBjYXRjaCAoX2EpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEludmFsaWRJbnB1dChpbnB1dCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5iaWdpbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpO1xuICAgIH1cbiAgICBsZXQgY3R4ID0gdm9pZCAwO1xuICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhIDwgY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhIDw9IGNoZWNrLnZhbHVlO1xuICAgICAgICBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgIGNvbnN0IHRvb0JpZyA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPiBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPj0gY2hlY2sudmFsdWU7XG4gICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgaWYgKGlucHV0LmRhdGEgJSBjaGVjay52YWx1ZSAhPT0gQmlnSW50KDApKSB7XG4gICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mLFxuICAgICAgICAgICAgbXVsdGlwbGVPZjogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgfVxuICBfZ2V0SW52YWxpZElucHV0KGlucHV0KSB7XG4gICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmJpZ2ludCxcbiAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgIH0pO1xuICAgIHJldHVybiBJTlZBTElEO1xuICB9XG4gIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICB9XG4gIGd0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICB9XG4gIGx0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICB9XG4gIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICB9XG4gIHNldExpbWl0KGtpbmQsIHZhbHVlLCBpbmNsdXNpdmUsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICBjaGVja3M6IFtcbiAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAge1xuICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgaW5jbHVzaXZlLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSk7XG4gIH1cbiAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdXG4gICAgfSk7XG4gIH1cbiAgcG9zaXRpdmUobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICB9KTtcbiAgfVxuICBuZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJtYXhcIixcbiAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICB9KTtcbiAgfVxuICBub25uZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgfSk7XG4gIH1cbiAgbXVsdGlwbGVPZih2YWx1ZSwgbWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgIHZhbHVlLFxuICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgfSk7XG4gIH1cbiAgZ2V0IG1pblZhbHVlKCkge1xuICAgIGxldCBtaW4yID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgIGlmIChtaW4yID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluMilcbiAgICAgICAgICBtaW4yID0gY2gudmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtaW4yO1xuICB9XG4gIGdldCBtYXhWYWx1ZSgpIHtcbiAgICBsZXQgbWF4MiA9IG51bGw7XG4gICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICBpZiAobWF4MiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heDIpXG4gICAgICAgICAgbWF4MiA9IGNoLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF4MjtcbiAgfVxufVxuWm9kQmlnSW50LmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgdmFyIF9hO1xuICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgY2hlY2tzOiBbXSxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludCxcbiAgICBjb2VyY2U6IChfYSA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5jb2VyY2UpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICB9KTtcbn07XG5jbGFzcyBab2RCb29sZWFuIGV4dGVuZHMgWm9kVHlwZSB7XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICBpbnB1dC5kYXRhID0gQm9vbGVhbihpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmJvb2xlYW4pIHtcbiAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5ib29sZWFuLFxuICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgfVxufVxuWm9kQm9vbGVhbi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kQm9vbGVhbih7XG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCb29sZWFuLFxuICAgIGNvZXJjZTogKHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5jb2VyY2UpIHx8IGZhbHNlLFxuICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICB9KTtcbn07XG5jbGFzcyBab2REYXRlIGV4dGVuZHMgWm9kVHlwZSB7XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICBpbnB1dC5kYXRhID0gbmV3IERhdGUoaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5kYXRlKSB7XG4gICAgICBjb25zdCBjdHgyID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4Miwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5kYXRlLFxuICAgICAgICByZWNlaXZlZDogY3R4Mi5wYXJzZWRUeXBlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICBpZiAoaXNOYU4oaW5wdXQuZGF0YS5nZXRUaW1lKCkpKSB7XG4gICAgICBjb25zdCBjdHgyID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4Miwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9kYXRlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICBsZXQgY3R4ID0gdm9pZCAwO1xuICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgaWYgKGlucHV0LmRhdGEuZ2V0VGltZSgpIDwgY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICB0eXBlOiBcImRhdGVcIlxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgaWYgKGlucHV0LmRhdGEuZ2V0VGltZSgpID4gY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgdHlwZTogXCJkYXRlXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6IHN0YXR1cy52YWx1ZSxcbiAgICAgIHZhbHVlOiBuZXcgRGF0ZShpbnB1dC5kYXRhLmdldFRpbWUoKSlcbiAgICB9O1xuICB9XG4gIF9hZGRDaGVjayhjaGVjaykge1xuICAgIHJldHVybiBuZXcgWm9kRGF0ZSh7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja11cbiAgICB9KTtcbiAgfVxuICBtaW4obWluRGF0ZSwgbWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgdmFsdWU6IG1pbkRhdGUuZ2V0VGltZSgpLFxuICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgfSk7XG4gIH1cbiAgbWF4KG1heERhdGUsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAga2luZDogXCJtYXhcIixcbiAgICAgIHZhbHVlOiBtYXhEYXRlLmdldFRpbWUoKSxcbiAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgIH0pO1xuICB9XG4gIGdldCBtaW5EYXRlKCkge1xuICAgIGxldCBtaW4yID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgIGlmIChtaW4yID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluMilcbiAgICAgICAgICBtaW4yID0gY2gudmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtaW4yICE9IG51bGwgPyBuZXcgRGF0ZShtaW4yKSA6IG51bGw7XG4gIH1cbiAgZ2V0IG1heERhdGUoKSB7XG4gICAgbGV0IG1heDIgPSBudWxsO1xuICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgaWYgKG1heDIgPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgyKVxuICAgICAgICAgIG1heDIgPSBjaC52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1heDIgIT0gbnVsbCA/IG5ldyBEYXRlKG1heDIpIDogbnVsbDtcbiAgfVxufVxuWm9kRGF0ZS5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kRGF0ZSh7XG4gICAgY2hlY2tzOiBbXSxcbiAgICBjb2VyY2U6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSB8fCBmYWxzZSxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERhdGUsXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmNsYXNzIFpvZFN5bWJvbCBleHRlbmRzIFpvZFR5cGUge1xuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc3ltYm9sKSB7XG4gICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuc3ltYm9sLFxuICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgfVxufVxuWm9kU3ltYm9sLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2RTeW1ib2woe1xuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3ltYm9sLFxuICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICB9KTtcbn07XG5jbGFzcyBab2RVbmRlZmluZWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCxcbiAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gIH1cbn1cblpvZFVuZGVmaW5lZC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kVW5kZWZpbmVkKHtcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuZGVmaW5lZCxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kTnVsbCBleHRlbmRzIFpvZFR5cGUge1xuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubnVsbCkge1xuICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm51bGwsXG4gICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICB9XG59XG5ab2ROdWxsLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2ROdWxsKHtcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGwsXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmNsYXNzIFpvZEFueSBleHRlbmRzIFpvZFR5cGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuX2FueSA9IHRydWU7XG4gIH1cbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICB9XG59XG5ab2RBbnkuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZEFueSh7XG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnksXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmNsYXNzIFpvZFVua25vd24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLl91bmtub3duID0gdHJ1ZTtcbiAgfVxuICBfcGFyc2UoaW5wdXQpIHtcbiAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gIH1cbn1cblpvZFVua25vd24uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZFVua25vd24oe1xuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5rbm93bixcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kTmV2ZXIgZXh0ZW5kcyBab2RUeXBlIHtcbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm5ldmVyLFxuICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgfSk7XG4gICAgcmV0dXJuIElOVkFMSUQ7XG4gIH1cbn1cblpvZE5ldmVyLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2ROZXZlcih7XG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROZXZlcixcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kVm9pZCBleHRlbmRzIFpvZFR5cGUge1xuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUudm9pZCxcbiAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gIH1cbn1cblpvZFZvaWQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZFZvaWQoe1xuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVm9pZCxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kQXJyYXkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgeyBjdHgsIHN0YXR1cyB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICBjb25zdCBkZWYgPSB0aGlzLl9kZWY7XG4gICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgaWYgKGRlZi5leGFjdExlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgdG9vQmlnID0gY3R4LmRhdGEubGVuZ3RoID4gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlO1xuICAgICAgY29uc3QgdG9vU21hbGwgPSBjdHguZGF0YS5sZW5ndGggPCBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgIGNvZGU6IHRvb0JpZyA/IFpvZElzc3VlQ29kZS50b29fYmlnIDogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICBtaW5pbXVtOiB0b29TbWFsbCA/IGRlZi5leGFjdExlbmd0aC52YWx1ZSA6IHZvaWQgMCxcbiAgICAgICAgICBtYXhpbXVtOiB0b29CaWcgPyBkZWYuZXhhY3RMZW5ndGgudmFsdWUgOiB2b2lkIDAsXG4gICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICBtZXNzYWdlOiBkZWYuZXhhY3RMZW5ndGgubWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkZWYubWluTGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoIDwgZGVmLm1pbkxlbmd0aC52YWx1ZSkge1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgIG1pbmltdW06IGRlZi5taW5MZW5ndGgudmFsdWUsXG4gICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogZGVmLm1pbkxlbmd0aC5tZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRlZi5tYXhMZW5ndGggIT09IG51bGwpIHtcbiAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPiBkZWYubWF4TGVuZ3RoLnZhbHVlKSB7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgIG1heGltdW06IGRlZi5tYXhMZW5ndGgudmFsdWUsXG4gICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogZGVmLm1heExlbmd0aC5tZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChbLi4uY3R4LmRhdGFdLm1hcCgoaXRlbSwgaTIpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlZi50eXBlLl9wYXJzZUFzeW5jKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaTIpKTtcbiAgICAgIH0pKS50aGVuKChyZXN1bHQyKSA9PiB7XG4gICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0Mik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkyKSA9PiB7XG4gICAgICByZXR1cm4gZGVmLnR5cGUuX3BhcnNlU3luYyhuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkyKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICB9XG4gIGdldCBlbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgfVxuICBtaW4obWluTGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICBtaW5MZW5ndGg6IHsgdmFsdWU6IG1pbkxlbmd0aCwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH1cbiAgICB9KTtcbiAgfVxuICBtYXgobWF4TGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICBtYXhMZW5ndGg6IHsgdmFsdWU6IG1heExlbmd0aCwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH1cbiAgICB9KTtcbiAgfVxuICBsZW5ndGgobGVuLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICBleGFjdExlbmd0aDogeyB2YWx1ZTogbGVuLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfVxuICAgIH0pO1xuICB9XG4gIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5taW4oMSwgbWVzc2FnZSk7XG4gIH1cbn1cblpvZEFycmF5LmNyZWF0ZSA9IChzY2hlbWEsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICB0eXBlOiBzY2hlbWEsXG4gICAgbWluTGVuZ3RoOiBudWxsLFxuICAgIG1heExlbmd0aDogbnVsbCxcbiAgICBleGFjdExlbmd0aDogbnVsbCxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFycmF5LFxuICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICB9KTtcbn07XG5mdW5jdGlvbiBkZWVwUGFydGlhbGlmeShzY2hlbWEpIHtcbiAgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9iamVjdCkge1xuICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2NoZW1hLnNoYXBlKSB7XG4gICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHNjaGVtYS5zaGFwZVtrZXldO1xuICAgICAgbmV3U2hhcGVba2V5XSA9IFpvZE9wdGlvbmFsLmNyZWF0ZShkZWVwUGFydGlhbGlmeShmaWVsZFNjaGVtYSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZVxuICAgIH0pO1xuICB9IGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZEFycmF5KSB7XG4gICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgIHR5cGU6IGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS5lbGVtZW50KVxuICAgIH0pO1xuICB9IGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgcmV0dXJuIFpvZE9wdGlvbmFsLmNyZWF0ZShkZWVwUGFydGlhbGlmeShzY2hlbWEudW53cmFwKCkpKTtcbiAgfSBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2ROdWxsYWJsZSkge1xuICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gIH0gZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kVHVwbGUpIHtcbiAgICByZXR1cm4gWm9kVHVwbGUuY3JlYXRlKHNjaGVtYS5pdGVtcy5tYXAoKGl0ZW0pID0+IGRlZXBQYXJ0aWFsaWZ5KGl0ZW0pKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHNjaGVtYTtcbiAgfVxufVxuY2xhc3MgWm9kT2JqZWN0IGV4dGVuZHMgWm9kVHlwZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5fY2FjaGVkID0gbnVsbDtcbiAgICB0aGlzLm5vbnN0cmljdCA9IHRoaXMucGFzc3Rocm91Z2g7XG4gICAgdGhpcy5hdWdtZW50ID0gdGhpcy5leHRlbmQ7XG4gIH1cbiAgX2dldENhY2hlZCgpIHtcbiAgICBpZiAodGhpcy5fY2FjaGVkICE9PSBudWxsKVxuICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZDtcbiAgICBjb25zdCBzaGFwZSA9IHRoaXMuX2RlZi5zaGFwZSgpO1xuICAgIGNvbnN0IGtleXMgPSB1dGlsLm9iamVjdEtleXMoc2hhcGUpO1xuICAgIHJldHVybiB0aGlzLl9jYWNoZWQgPSB7IHNoYXBlLCBrZXlzIH07XG4gIH1cbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgY29uc3QgY3R4MiA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eDIsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICByZWNlaXZlZDogY3R4Mi5wYXJzZWRUeXBlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgIGNvbnN0IHsgc2hhcGUsIGtleXM6IHNoYXBlS2V5cyB9ID0gdGhpcy5fZ2V0Q2FjaGVkKCk7XG4gICAgY29uc3QgZXh0cmFLZXlzID0gW107XG4gICAgaWYgKCEodGhpcy5fZGVmLmNhdGNoYWxsIGluc3RhbmNlb2YgWm9kTmV2ZXIgJiYgdGhpcy5fZGVmLnVua25vd25LZXlzID09PSBcInN0cmlwXCIpKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgICBpZiAoIXNoYXBlS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgZXh0cmFLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIHNoYXBlS2V5cykge1xuICAgICAgY29uc3Qga2V5VmFsaWRhdG9yID0gc2hhcGVba2V5XTtcbiAgICAgIGNvbnN0IHZhbHVlID0gY3R4LmRhdGFba2V5XTtcbiAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgdmFsdWU6IGtleVZhbGlkYXRvci5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2RlZi5jYXRjaGFsbCBpbnN0YW5jZW9mIFpvZE5ldmVyKSB7XG4gICAgICBjb25zdCB1bmtub3duS2V5cyA9IHRoaXMuX2RlZi51bmtub3duS2V5cztcbiAgICAgIGlmICh1bmtub3duS2V5cyA9PT0gXCJwYXNzdGhyb3VnaFwiKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGV4dHJhS2V5cykge1xuICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICB2YWx1ZTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGN0eC5kYXRhW2tleV0gfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHVua25vd25LZXlzID09PSBcInN0cmljdFwiKSB7XG4gICAgICAgIGlmIChleHRyYUtleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnVucmVjb2duaXplZF9rZXlzLFxuICAgICAgICAgICAga2V5czogZXh0cmFLZXlzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodW5rbm93bktleXMgPT09IFwic3RyaXBcIikgO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW50ZXJuYWwgWm9kT2JqZWN0IGVycm9yOiBpbnZhbGlkIHVua25vd25LZXlzIHZhbHVlLmApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjYXRjaGFsbCA9IHRoaXMuX2RlZi5jYXRjaGFsbDtcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGV4dHJhS2V5cykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eC5kYXRhW2tleV07XG4gICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgIHZhbHVlOiBjYXRjaGFsbC5fcGFyc2UoXG4gICAgICAgICAgICBuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBrZXkpXG4gICAgICAgICAgICAvLywgY3R4LmNoaWxkKGtleSksIHZhbHVlLCBnZXRQYXJzZWRUeXBlKHZhbHVlKVxuICAgICAgICAgICksXG4gICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGFcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHN5bmNQYWlycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgc3luY1BhaXJzLnB1c2goe1xuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBhbHdheXNTZXQ6IHBhaXIuYWx3YXlzU2V0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN5bmNQYWlycztcbiAgICAgIH0pLnRoZW4oKHN5bmNQYWlycykgPT4ge1xuICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgIH1cbiAgfVxuICBnZXQgc2hhcGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi5zaGFwZSgpO1xuICB9XG4gIHN0cmljdChtZXNzYWdlKSB7XG4gICAgZXJyb3JVdGlsLmVyclRvT2JqO1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIHVua25vd25LZXlzOiBcInN0cmljdFwiLFxuICAgICAgLi4ubWVzc2FnZSAhPT0gdm9pZCAwID8ge1xuICAgICAgICBlcnJvck1hcDogKGlzc3VlLCBjdHgpID0+IHtcbiAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdEVycm9yID0gKF9jID0gKF9iID0gKF9hID0gdGhpcy5fZGVmKS5lcnJvck1hcCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIGlzc3VlLCBjdHgpLm1lc3NhZ2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGN0eC5kZWZhdWx0RXJyb3I7XG4gICAgICAgICAgaWYgKGlzc3VlLmNvZGUgPT09IFwidW5yZWNvZ25pemVkX2tleXNcIilcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6IChfZCA9IGVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKS5tZXNzYWdlKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBkZWZhdWx0RXJyb3JcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGRlZmF1bHRFcnJvclxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gOiB7fVxuICAgIH0pO1xuICB9XG4gIHN0cmlwKCkge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCJcbiAgICB9KTtcbiAgfVxuICBwYXNzdGhyb3VnaCgpIHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICB1bmtub3duS2V5czogXCJwYXNzdGhyb3VnaFwiXG4gICAgfSk7XG4gIH1cbiAgLy8gY29uc3QgQXVnbWVudEZhY3RvcnkgPVxuICAvLyAgIDxEZWYgZXh0ZW5kcyBab2RPYmplY3REZWY+KGRlZjogRGVmKSA9PlxuICAvLyAgIDxBdWdtZW50YXRpb24gZXh0ZW5kcyBab2RSYXdTaGFwZT4oXG4gIC8vICAgICBhdWdtZW50YXRpb246IEF1Z21lbnRhdGlvblxuICAvLyAgICk6IFpvZE9iamVjdDxcbiAgLy8gICAgIGV4dGVuZFNoYXBlPFJldHVyblR5cGU8RGVmW1wic2hhcGVcIl0+LCBBdWdtZW50YXRpb24+LFxuICAvLyAgICAgRGVmW1widW5rbm93bktleXNcIl0sXG4gIC8vICAgICBEZWZbXCJjYXRjaGFsbFwiXVxuICAvLyAgID4gPT4ge1xuICAvLyAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAvLyAgICAgICAuLi5kZWYsXG4gIC8vICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAvLyAgICAgICAgIC4uLmRlZi5zaGFwZSgpLFxuICAvLyAgICAgICAgIC4uLmF1Z21lbnRhdGlvbixcbiAgLy8gICAgICAgfSksXG4gIC8vICAgICB9KSBhcyBhbnk7XG4gIC8vICAgfTtcbiAgZXh0ZW5kKGF1Z21lbnRhdGlvbikge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgLi4uYXVnbWVudGF0aW9uXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBQcmlvciB0byB6b2RAMS4wLjEyIHRoZXJlIHdhcyBhIGJ1ZyBpbiB0aGVcbiAgICogaW5mZXJyZWQgdHlwZSBvZiBtZXJnZWQgb2JqZWN0cy4gUGxlYXNlXG4gICAqIHVwZ3JhZGUgaWYgeW91IGFyZSBleHBlcmllbmNpbmcgaXNzdWVzLlxuICAgKi9cbiAgbWVyZ2UobWVyZ2luZykge1xuICAgIGNvbnN0IG1lcmdlZCA9IG5ldyBab2RPYmplY3Qoe1xuICAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgIC4uLm1lcmdpbmcuX2RlZi5zaGFwZSgpXG4gICAgICB9KSxcbiAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0XG4gICAgfSk7XG4gICAgcmV0dXJuIG1lcmdlZDtcbiAgfVxuICAvLyBtZXJnZTxcbiAgLy8gICBJbmNvbWluZyBleHRlbmRzIEFueVpvZE9iamVjdCxcbiAgLy8gICBBdWdtZW50YXRpb24gZXh0ZW5kcyBJbmNvbWluZ1tcInNoYXBlXCJdLFxuICAvLyAgIE5ld091dHB1dCBleHRlbmRzIHtcbiAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIE91dHB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfb3V0cHV0XCJdXG4gIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIE91dHB1dFxuICAvLyAgICAgICA/IE91dHB1dFtrXVxuICAvLyAgICAgICA6IG5ldmVyO1xuICAvLyAgIH0sXG4gIC8vICAgTmV3SW5wdXQgZXh0ZW5kcyB7XG4gIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBJbnB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfaW5wdXRcIl1cbiAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgSW5wdXRcbiAgLy8gICAgICAgPyBJbnB1dFtrXVxuICAvLyAgICAgICA6IG5ldmVyO1xuICAvLyAgIH1cbiAgLy8gPihcbiAgLy8gICBtZXJnaW5nOiBJbmNvbWluZ1xuICAvLyApOiBab2RPYmplY3Q8XG4gIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcInVua25vd25LZXlzXCJdLFxuICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcImNhdGNoYWxsXCJdLFxuICAvLyAgIE5ld091dHB1dCxcbiAgLy8gICBOZXdJbnB1dFxuICAvLyA+IHtcbiAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAvLyAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgLy8gICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gIC8vICAgICBzaGFwZTogKCkgPT5cbiAgLy8gICAgICAgb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyh0aGlzLl9kZWYuc2hhcGUoKSwgbWVyZ2luZy5fZGVmLnNoYXBlKCkpLFxuICAvLyAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gIC8vICAgfSkgYXMgYW55O1xuICAvLyAgIHJldHVybiBtZXJnZWQ7XG4gIC8vIH1cbiAgc2V0S2V5KGtleSwgc2NoZW1hKSB7XG4gICAgcmV0dXJuIHRoaXMuYXVnbWVudCh7IFtrZXldOiBzY2hlbWEgfSk7XG4gIH1cbiAgLy8gbWVyZ2U8SW5jb21pbmcgZXh0ZW5kcyBBbnlab2RPYmplY3Q+KFxuICAvLyAgIG1lcmdpbmc6IEluY29taW5nXG4gIC8vICk6IC8vWm9kT2JqZWN0PFQgJiBJbmNvbWluZ1tcIl9zaGFwZVwiXSwgVW5rbm93bktleXMsIENhdGNoYWxsPiA9IChtZXJnaW5nKSA9PiB7XG4gIC8vIFpvZE9iamVjdDxcbiAgLy8gICBleHRlbmRTaGFwZTxULCBSZXR1cm5UeXBlPEluY29taW5nW1wiX2RlZlwiXVtcInNoYXBlXCJdPj4sXG4gIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1wiY2F0Y2hhbGxcIl1cbiAgLy8gPiB7XG4gIC8vICAgLy8gY29uc3QgbWVyZ2VkU2hhcGUgPSBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKFxuICAvLyAgIC8vICAgdGhpcy5fZGVmLnNoYXBlKCksXG4gIC8vICAgLy8gICBtZXJnaW5nLl9kZWYuc2hhcGUoKVxuICAvLyAgIC8vICk7XG4gIC8vICAgY29uc3QgbWVyZ2VkOiBhbnkgPSBuZXcgWm9kT2JqZWN0KHtcbiAgLy8gICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAvLyAgICAgc2hhcGU6ICgpID0+XG4gIC8vICAgICAgIG9iamVjdFV0aWwubWVyZ2VTaGFwZXModGhpcy5fZGVmLnNoYXBlKCksIG1lcmdpbmcuX2RlZi5zaGFwZSgpKSxcbiAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAvLyAgIH0pIGFzIGFueTtcbiAgLy8gICByZXR1cm4gbWVyZ2VkO1xuICAvLyB9XG4gIGNhdGNoYWxsKGluZGV4Mikge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIGNhdGNoYWxsOiBpbmRleDJcbiAgICB9KTtcbiAgfVxuICBwaWNrKG1hc2spIHtcbiAgICBjb25zdCBzaGFwZSA9IHt9O1xuICAgIHV0aWwub2JqZWN0S2V5cyhtYXNrKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmIChtYXNrW2tleV0gJiYgdGhpcy5zaGFwZVtrZXldKSB7XG4gICAgICAgIHNoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgc2hhcGU6ICgpID0+IHNoYXBlXG4gICAgfSk7XG4gIH1cbiAgb21pdChtYXNrKSB7XG4gICAgY29uc3Qgc2hhcGUgPSB7fTtcbiAgICB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBpZiAoIW1hc2tba2V5XSkge1xuICAgICAgICBzaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKi9cbiAgZGVlcFBhcnRpYWwoKSB7XG4gICAgcmV0dXJuIGRlZXBQYXJ0aWFsaWZ5KHRoaXMpO1xuICB9XG4gIHBhcnRpYWwobWFzaykge1xuICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICBpZiAobWFzayAmJiAhbWFza1trZXldKSB7XG4gICAgICAgIG5ld1NoYXBlW2tleV0gPSBmaWVsZFNjaGVtYTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1NoYXBlW2tleV0gPSBmaWVsZFNjaGVtYS5vcHRpb25hbCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZVxuICAgIH0pO1xuICB9XG4gIHJlcXVpcmVkKG1hc2spIHtcbiAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgIHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmIChtYXNrICYmICFtYXNrW2tleV0pIHtcbiAgICAgICAgbmV3U2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICBsZXQgbmV3RmllbGQgPSBmaWVsZFNjaGVtYTtcbiAgICAgICAgd2hpbGUgKG5ld0ZpZWxkIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgICBuZXdGaWVsZCA9IG5ld0ZpZWxkLl9kZWYuaW5uZXJUeXBlO1xuICAgICAgICB9XG4gICAgICAgIG5ld1NoYXBlW2tleV0gPSBuZXdGaWVsZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGVcbiAgICB9KTtcbiAgfVxuICBrZXlvZigpIHtcbiAgICByZXR1cm4gY3JlYXRlWm9kRW51bSh1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpO1xuICB9XG59XG5ab2RPYmplY3QuY3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuWm9kT2JqZWN0LnN0cmljdENyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgdW5rbm93bktleXM6IFwic3RyaWN0XCIsXG4gICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICB9KTtcbn07XG5ab2RPYmplY3QubGF6eWNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICBzaGFwZSxcbiAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kVW5pb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuX2RlZi5vcHRpb25zO1xuICAgIGZ1bmN0aW9uIGhhbmRsZVJlc3VsdHMocmVzdWx0cykge1xuICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgIGlmIChyZXN1bHQucmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaCguLi5yZXN1bHQuY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCB1bmlvbkVycm9ycyA9IHJlc3VsdHMubWFwKChyZXN1bHQpID0+IG5ldyBab2RFcnJvcihyZXN1bHQuY3R4LmNvbW1vbi5pc3N1ZXMpKTtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbixcbiAgICAgICAgdW5pb25FcnJvcnNcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwob3B0aW9ucy5tYXAoYXN5bmMgKG9wdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgaXNzdWVzOiBbXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcGFyZW50OiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdWx0OiBhd2FpdCBvcHRpb24uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY2hpbGRDdHhcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBjdHg6IGNoaWxkQ3R4XG4gICAgICAgIH07XG4gICAgICB9KSkudGhlbihoYW5kbGVSZXN1bHRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGRpcnR5ID0gdm9pZCAwO1xuICAgICAgY29uc3QgaXNzdWVzID0gW107XG4gICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkQ3R4ID0ge1xuICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICBpc3N1ZXM6IFtdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwYXJlbnQ6IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gb3B0aW9uLl9wYXJzZVN5bmMoe1xuICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgIHBhcmVudDogY2hpbGRDdHhcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCIpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIiAmJiAhZGlydHkpIHtcbiAgICAgICAgICBkaXJ0eSA9IHsgcmVzdWx0LCBjdHg6IGNoaWxkQ3R4IH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoaWxkQ3R4LmNvbW1vbi5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgaXNzdWVzLnB1c2goY2hpbGRDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChkaXJ0eSkge1xuICAgICAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKC4uLmRpcnR5LmN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgcmV0dXJuIGRpcnR5LnJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gaXNzdWVzLm1hcCgoaXNzdWVzMikgPT4gbmV3IFpvZEVycm9yKGlzc3VlczIpKTtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbixcbiAgICAgICAgdW5pb25FcnJvcnNcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICB9XG4gIGdldCBvcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9ucztcbiAgfVxufVxuWm9kVW5pb24uY3JlYXRlID0gKHR5cGVzLCBwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2RVbmlvbih7XG4gICAgb3B0aW9uczogdHlwZXMsXG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmlvbixcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY29uc3QgZ2V0RGlzY3JpbWluYXRvciA9ICh0eXBlKSA9PiB7XG4gIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTGF6eSkge1xuICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2NoZW1hKTtcbiAgfSBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRWZmZWN0cykge1xuICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuaW5uZXJUeXBlKCkpO1xuICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMaXRlcmFsKSB7XG4gICAgcmV0dXJuIFt0eXBlLnZhbHVlXTtcbiAgfSBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRW51bSkge1xuICAgIHJldHVybiB0eXBlLm9wdGlvbnM7XG4gIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE5hdGl2ZUVudW0pIHtcbiAgICByZXR1cm4gdXRpbC5vYmplY3RWYWx1ZXModHlwZS5lbnVtKTtcbiAgfSBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRGVmYXVsdCkge1xuICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuX2RlZi5pbm5lclR5cGUpO1xuICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RVbmRlZmluZWQpIHtcbiAgICByZXR1cm4gW3ZvaWQgMF07XG4gIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE51bGwpIHtcbiAgICByZXR1cm4gW251bGxdO1xuICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgIHJldHVybiBbdm9pZCAwLCAuLi5nZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpXTtcbiAgfSBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTnVsbGFibGUpIHtcbiAgICByZXR1cm4gW251bGwsIC4uLmdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSldO1xuICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RCcmFuZGVkKSB7XG4gICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSk7XG4gIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZFJlYWRvbmx5KSB7XG4gICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSk7XG4gIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZENhdGNoKSB7XG4gICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5fZGVmLmlubmVyVHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59O1xuY2xhc3MgWm9kRGlzY3JpbWluYXRlZFVuaW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgY29uc3QgZGlzY3JpbWluYXRvciA9IHRoaXMuZGlzY3JpbWluYXRvcjtcbiAgICBjb25zdCBkaXNjcmltaW5hdG9yVmFsdWUgPSBjdHguZGF0YVtkaXNjcmltaW5hdG9yXTtcbiAgICBjb25zdCBvcHRpb24gPSB0aGlzLm9wdGlvbnNNYXAuZ2V0KGRpc2NyaW1pbmF0b3JWYWx1ZSk7XG4gICAgaWYgKCFvcHRpb24pIHtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yLFxuICAgICAgICBvcHRpb25zOiBBcnJheS5mcm9tKHRoaXMub3B0aW9uc01hcC5rZXlzKCkpLFxuICAgICAgICBwYXRoOiBbZGlzY3JpbWluYXRvcl1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICByZXR1cm4gb3B0aW9uLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcHRpb24uX3BhcnNlU3luYyh7XG4gICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBnZXQgZGlzY3JpbWluYXRvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmLmRpc2NyaW1pbmF0b3I7XG4gIH1cbiAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zO1xuICB9XG4gIGdldCBvcHRpb25zTWFwKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9uc01hcDtcbiAgfVxuICAvKipcbiAgICogVGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBkaXNjcmltaW5hdGVkIHVuaW9uIHNjaGVtYS4gSXRzIGJlaGF2aW91ciBpcyB2ZXJ5IHNpbWlsYXIgdG8gdGhhdCBvZiB0aGUgbm9ybWFsIHoudW5pb24oKSBjb25zdHJ1Y3Rvci5cbiAgICogSG93ZXZlciwgaXQgb25seSBhbGxvd3MgYSB1bmlvbiBvZiBvYmplY3RzLCBhbGwgb2Ygd2hpY2ggbmVlZCB0byBzaGFyZSBhIGRpc2NyaW1pbmF0b3IgcHJvcGVydHkuIFRoaXMgcHJvcGVydHkgbXVzdFxuICAgKiBoYXZlIGEgZGlmZmVyZW50IHZhbHVlIGZvciBlYWNoIG9iamVjdCBpbiB0aGUgdW5pb24uXG4gICAqIEBwYXJhbSBkaXNjcmltaW5hdG9yIHRoZSBuYW1lIG9mIHRoZSBkaXNjcmltaW5hdG9yIHByb3BlcnR5XG4gICAqIEBwYXJhbSB0eXBlcyBhbiBhcnJheSBvZiBvYmplY3Qgc2NoZW1hc1xuICAgKiBAcGFyYW0gcGFyYW1zXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlKGRpc2NyaW1pbmF0b3IsIG9wdGlvbnMsIHBhcmFtcykge1xuICAgIGNvbnN0IG9wdGlvbnNNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIGZvciAoY29uc3QgdHlwZSBvZiBvcHRpb25zKSB7XG4gICAgICBjb25zdCBkaXNjcmltaW5hdG9yVmFsdWVzID0gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnNoYXBlW2Rpc2NyaW1pbmF0b3JdKTtcbiAgICAgIGlmICghZGlzY3JpbWluYXRvclZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBIGRpc2NyaW1pbmF0b3IgdmFsdWUgZm9yIGtleSBcXGAke2Rpc2NyaW1pbmF0b3J9XFxgIGNvdWxkIG5vdCBiZSBleHRyYWN0ZWQgZnJvbSBhbGwgc2NoZW1hIG9wdGlvbnNgKTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgZGlzY3JpbWluYXRvclZhbHVlcykge1xuICAgICAgICBpZiAob3B0aW9uc01hcC5oYXModmFsdWUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEaXNjcmltaW5hdG9yIHByb3BlcnR5ICR7U3RyaW5nKGRpc2NyaW1pbmF0b3IpfSBoYXMgZHVwbGljYXRlIHZhbHVlICR7U3RyaW5nKHZhbHVlKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zTWFwLnNldCh2YWx1ZSwgdHlwZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgWm9kRGlzY3JpbWluYXRlZFVuaW9uKHtcbiAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGlzY3JpbWluYXRlZFVuaW9uLFxuICAgICAgZGlzY3JpbWluYXRvcixcbiAgICAgIG9wdGlvbnMsXG4gICAgICBvcHRpb25zTWFwLFxuICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIG1lcmdlVmFsdWVzKGEzLCBiMikge1xuICBjb25zdCBhVHlwZSA9IGdldFBhcnNlZFR5cGUoYTMpO1xuICBjb25zdCBiVHlwZSA9IGdldFBhcnNlZFR5cGUoYjIpO1xuICBpZiAoYTMgPT09IGIyKSB7XG4gICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEzIH07XG4gIH0gZWxzZSBpZiAoYVR5cGUgPT09IFpvZFBhcnNlZFR5cGUub2JqZWN0ICYmIGJUeXBlID09PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgIGNvbnN0IGJLZXlzID0gdXRpbC5vYmplY3RLZXlzKGIyKTtcbiAgICBjb25zdCBzaGFyZWRLZXlzID0gdXRpbC5vYmplY3RLZXlzKGEzKS5maWx0ZXIoKGtleSkgPT4gYktleXMuaW5kZXhPZihrZXkpICE9PSAtMSk7XG4gICAgY29uc3QgbmV3T2JqID0geyAuLi5hMywgLi4uYjIgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBzaGFyZWRLZXlzKSB7XG4gICAgICBjb25zdCBzaGFyZWRWYWx1ZSA9IG1lcmdlVmFsdWVzKGEzW2tleV0sIGIyW2tleV0pO1xuICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgIH1cbiAgICAgIG5ld09ialtrZXldID0gc2hhcmVkVmFsdWUuZGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld09iaiB9O1xuICB9IGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLmFycmF5ICYmIGJUeXBlID09PSBab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgaWYgKGEzLmxlbmd0aCAhPT0gYjIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICB9XG4gICAgY29uc3QgbmV3QXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpbmRleDIgPSAwOyBpbmRleDIgPCBhMy5sZW5ndGg7IGluZGV4MisrKSB7XG4gICAgICBjb25zdCBpdGVtQSA9IGEzW2luZGV4Ml07XG4gICAgICBjb25zdCBpdGVtQiA9IGIyW2luZGV4Ml07XG4gICAgICBjb25zdCBzaGFyZWRWYWx1ZSA9IG1lcmdlVmFsdWVzKGl0ZW1BLCBpdGVtQik7XG4gICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgfVxuICAgICAgbmV3QXJyYXkucHVzaChzaGFyZWRWYWx1ZS5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld0FycmF5IH07XG4gIH0gZWxzZSBpZiAoYVR5cGUgPT09IFpvZFBhcnNlZFR5cGUuZGF0ZSAmJiBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5kYXRlICYmICthMyA9PT0gK2IyKSB7XG4gICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEzIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gIH1cbn1cbmNsYXNzIFpvZEludGVyc2VjdGlvbiBleHRlbmRzIFpvZFR5cGUge1xuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgIGNvbnN0IGhhbmRsZVBhcnNlZCA9IChwYXJzZWRMZWZ0LCBwYXJzZWRSaWdodCkgPT4ge1xuICAgICAgaWYgKGlzQWJvcnRlZChwYXJzZWRMZWZ0KSB8fCBpc0Fib3J0ZWQocGFyc2VkUmlnaHQpKSB7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgfVxuICAgICAgY29uc3QgbWVyZ2VkID0gbWVyZ2VWYWx1ZXMocGFyc2VkTGVmdC52YWx1ZSwgcGFyc2VkUmlnaHQudmFsdWUpO1xuICAgICAgaWYgKCFtZXJnZWQudmFsaWQpIHtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgIH1cbiAgICAgIGlmIChpc0RpcnR5KHBhcnNlZExlZnQpIHx8IGlzRGlydHkocGFyc2VkUmlnaHQpKSB7XG4gICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBtZXJnZWQuZGF0YSB9O1xuICAgIH07XG4gICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgIHRoaXMuX2RlZi5sZWZ0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICB9KSxcbiAgICAgICAgdGhpcy5fZGVmLnJpZ2h0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICB9KVxuICAgICAgXSkudGhlbigoW2xlZnQsIHJpZ2h0XSkgPT4gaGFuZGxlUGFyc2VkKGxlZnQsIHJpZ2h0KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBoYW5kbGVQYXJzZWQodGhpcy5fZGVmLmxlZnQuX3BhcnNlU3luYyh7XG4gICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgIH0pLCB0aGlzLl9kZWYucmlnaHQuX3BhcnNlU3luYyh7XG4gICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1cbn1cblpvZEludGVyc2VjdGlvbi5jcmVhdGUgPSAobGVmdCwgcmlnaHQsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZEludGVyc2VjdGlvbih7XG4gICAgbGVmdCxcbiAgICByaWdodCxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEludGVyc2VjdGlvbixcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kVHVwbGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5hcnJheSxcbiAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICBpZiAoY3R4LmRhdGEubGVuZ3RoIDwgdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCkge1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgIG1pbmltdW06IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICB0eXBlOiBcImFycmF5XCJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIGNvbnN0IHJlc3QgPSB0aGlzLl9kZWYucmVzdDtcbiAgICBpZiAoIXJlc3QgJiYgY3R4LmRhdGEubGVuZ3RoID4gdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCkge1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICBtYXhpbXVtOiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgdHlwZTogXCJhcnJheVwiXG4gICAgICB9KTtcbiAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgIH1cbiAgICBjb25zdCBpdGVtcyA9IFsuLi5jdHguZGF0YV0ubWFwKChpdGVtLCBpdGVtSW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMuX2RlZi5pdGVtc1tpdGVtSW5kZXhdIHx8IHRoaXMuX2RlZi5yZXN0O1xuICAgICAgaWYgKCFzY2hlbWEpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIHNjaGVtYS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpdGVtSW5kZXgpKTtcbiAgICB9KS5maWx0ZXIoKHgyKSA9PiAhIXgyKTtcbiAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGl0ZW1zKS50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0cyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCBpdGVtcyk7XG4gICAgfVxuICB9XG4gIGdldCBpdGVtcygpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmLml0ZW1zO1xuICB9XG4gIHJlc3QocmVzdCkge1xuICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgcmVzdFxuICAgIH0pO1xuICB9XG59XG5ab2RUdXBsZS5jcmVhdGUgPSAoc2NoZW1hcywgcGFyYW1zKSA9PiB7XG4gIGlmICghQXJyYXkuaXNBcnJheShzY2hlbWFzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBtdXN0IHBhc3MgYW4gYXJyYXkgb2Ygc2NoZW1hcyB0byB6LnR1cGxlKFsgLi4uIF0pXCIpO1xuICB9XG4gIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgIGl0ZW1zOiBzY2hlbWFzLFxuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVHVwbGUsXG4gICAgcmVzdDogbnVsbCxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kUmVjb3JkIGV4dGVuZHMgWm9kVHlwZSB7XG4gIGdldCBrZXlTY2hlbWEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi5rZXlUeXBlO1xuICB9XG4gIGdldCB2YWx1ZVNjaGVtYSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgfVxuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICBjb25zdCBrZXlUeXBlID0gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgIGtleToga2V5VHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGtleSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICB2YWx1ZTogdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgY3R4LmRhdGFba2V5XSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RBc3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICB9XG4gIH1cbiAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gIH1cbiAgc3RhdGljIGNyZWF0ZShmaXJzdCwgc2Vjb25kLCB0aGlyZCkge1xuICAgIGlmIChzZWNvbmQgaW5zdGFuY2VvZiBab2RUeXBlKSB7XG4gICAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgIGtleVR5cGU6IGZpcnN0LFxuICAgICAgICB2YWx1ZVR5cGU6IHNlY29uZCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcmQpXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBab2RSZWNvcmQoe1xuICAgICAga2V5VHlwZTogWm9kU3RyaW5nLmNyZWF0ZSgpLFxuICAgICAgdmFsdWVUeXBlOiBmaXJzdCxcbiAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVjb3JkLFxuICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhzZWNvbmQpXG4gICAgfSk7XG4gIH1cbn1cbmNsYXNzIFpvZE1hcCBleHRlbmRzIFpvZFR5cGUge1xuICBnZXQga2V5U2NoZW1hKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYua2V5VHlwZTtcbiAgfVxuICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gIH1cbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubWFwKSB7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubWFwLFxuICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIGNvbnN0IGtleVR5cGUgPSB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIGNvbnN0IHBhaXJzID0gWy4uLmN0eC5kYXRhLmVudHJpZXMoKV0ubWFwKChba2V5LCB2YWx1ZV0sIGluZGV4MikgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2V5OiBrZXlUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwga2V5LCBjdHgucGF0aCwgW2luZGV4MiwgXCJrZXlcIl0pKSxcbiAgICAgICAgdmFsdWU6IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwgW2luZGV4MiwgXCJ2YWx1ZVwiXSkpXG4gICAgICB9O1xuICAgIH0pO1xuICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICBjb25zdCBmaW5hbE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImRpcnR5XCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmaW5hbE1hcC5zZXQoa2V5LnZhbHVlLCB2YWx1ZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE1hcCB9O1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGZpbmFsTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICBjb25zdCBrZXkgPSBwYWlyLmtleTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYWlyLnZhbHVlO1xuICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImRpcnR5XCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbE1hcC5zZXQoa2V5LnZhbHVlLCB2YWx1ZS52YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsTWFwIH07XG4gICAgfVxuICB9XG59XG5ab2RNYXAuY3JlYXRlID0gKGtleVR5cGUsIHZhbHVlVHlwZSwgcGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kTWFwKHtcbiAgICB2YWx1ZVR5cGUsXG4gICAga2V5VHlwZSxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE1hcCxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kU2V0IGV4dGVuZHMgWm9kVHlwZSB7XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnNldCkge1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnNldCxcbiAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICBjb25zdCBkZWYgPSB0aGlzLl9kZWY7XG4gICAgaWYgKGRlZi5taW5TaXplICE9PSBudWxsKSB7XG4gICAgICBpZiAoY3R4LmRhdGEuc2l6ZSA8IGRlZi5taW5TaXplLnZhbHVlKSB7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgbWluaW11bTogZGVmLm1pblNpemUudmFsdWUsXG4gICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6IGRlZi5taW5TaXplLm1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGVmLm1heFNpemUgIT09IG51bGwpIHtcbiAgICAgIGlmIChjdHguZGF0YS5zaXplID4gZGVmLm1heFNpemUudmFsdWUpIHtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgbWF4aW11bTogZGVmLm1heFNpemUudmFsdWUsXG4gICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6IGRlZi5tYXhTaXplLm1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIGZ1bmN0aW9uIGZpbmFsaXplU2V0KGVsZW1lbnRzMikge1xuICAgICAgY29uc3QgcGFyc2VkU2V0ID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50czIpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgaWYgKGVsZW1lbnQuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIHBhcnNlZFNldC5hZGQoZWxlbWVudC52YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHBhcnNlZFNldCB9O1xuICAgIH1cbiAgICBjb25zdCBlbGVtZW50cyA9IFsuLi5jdHguZGF0YS52YWx1ZXMoKV0ubWFwKChpdGVtLCBpMikgPT4gdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkyKSkpO1xuICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZWxlbWVudHMpLnRoZW4oKGVsZW1lbnRzMikgPT4gZmluYWxpemVTZXQoZWxlbWVudHMyKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaW5hbGl6ZVNldChlbGVtZW50cyk7XG4gICAgfVxuICB9XG4gIG1pbihtaW5TaXplLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgbWluU2l6ZTogeyB2YWx1ZTogbWluU2l6ZSwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH1cbiAgICB9KTtcbiAgfVxuICBtYXgobWF4U2l6ZSwgbWVzc2FnZSkge1xuICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIG1heFNpemU6IHsgdmFsdWU6IG1heFNpemUsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9XG4gICAgfSk7XG4gIH1cbiAgc2l6ZShzaXplMiwgbWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLm1pbihzaXplMiwgbWVzc2FnZSkubWF4KHNpemUyLCBtZXNzYWdlKTtcbiAgfVxuICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICB9XG59XG5ab2RTZXQuY3JlYXRlID0gKHZhbHVlVHlwZSwgcGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICB2YWx1ZVR5cGUsXG4gICAgbWluU2l6ZTogbnVsbCxcbiAgICBtYXhTaXplOiBudWxsLFxuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU2V0LFxuICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICB9KTtcbn07XG5jbGFzcyBab2RGdW5jdGlvbiBleHRlbmRzIFpvZFR5cGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMudmFsaWRhdGUgPSB0aGlzLmltcGxlbWVudDtcbiAgfVxuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuZnVuY3Rpb24pIHtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5mdW5jdGlvbixcbiAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYWtlQXJnc0lzc3VlKGFyZ3MsIGVycm9yMikge1xuICAgICAgcmV0dXJuIG1ha2VJc3N1ZSh7XG4gICAgICAgIGRhdGE6IGFyZ3MsXG4gICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICBlcnJvck1hcHM6IFtcbiAgICAgICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICBjdHguc2NoZW1hRXJyb3JNYXAsXG4gICAgICAgICAgZ2V0RXJyb3JNYXAoKSxcbiAgICAgICAgICBlcnJvck1hcFxuICAgICAgICBdLmZpbHRlcigoeDIpID0+ICEheDIpLFxuICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9hcmd1bWVudHMsXG4gICAgICAgICAgYXJndW1lbnRzRXJyb3I6IGVycm9yMlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFrZVJldHVybnNJc3N1ZShyZXR1cm5zLCBlcnJvcjIpIHtcbiAgICAgIHJldHVybiBtYWtlSXNzdWUoe1xuICAgICAgICBkYXRhOiByZXR1cm5zLFxuICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgZXJyb3JNYXBzOiBbXG4gICAgICAgICAgY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsXG4gICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLFxuICAgICAgICAgIGdldEVycm9yTWFwKCksXG4gICAgICAgICAgZXJyb3JNYXBcbiAgICAgICAgXS5maWx0ZXIoKHgyKSA9PiAhIXgyKSxcbiAgICAgICAgaXNzdWVEYXRhOiB7XG4gICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfcmV0dXJuX3R5cGUsXG4gICAgICAgICAgcmV0dXJuVHlwZUVycm9yOiBlcnJvcjJcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHBhcmFtcyA9IHsgZXJyb3JNYXA6IGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwIH07XG4gICAgY29uc3QgZm4yID0gY3R4LmRhdGE7XG4gICAgaWYgKHRoaXMuX2RlZi5yZXR1cm5zIGluc3RhbmNlb2YgWm9kUHJvbWlzZSkge1xuICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgcmV0dXJuIE9LKGFzeW5jIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgZXJyb3IyID0gbmV3IFpvZEVycm9yKFtdKTtcbiAgICAgICAgY29uc3QgcGFyc2VkQXJncyA9IGF3YWl0IG1lLl9kZWYuYXJncy5wYXJzZUFzeW5jKGFyZ3MsIHBhcmFtcykuY2F0Y2goKGUyKSA9PiB7XG4gICAgICAgICAgZXJyb3IyLmFkZElzc3VlKG1ha2VBcmdzSXNzdWUoYXJncywgZTIpKTtcbiAgICAgICAgICB0aHJvdyBlcnJvcjI7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBSZWZsZWN0LmFwcGx5KGZuMiwgdGhpcywgcGFyc2VkQXJncyk7XG4gICAgICAgIGNvbnN0IHBhcnNlZFJldHVybnMgPSBhd2FpdCBtZS5fZGVmLnJldHVybnMuX2RlZi50eXBlLnBhcnNlQXN5bmMocmVzdWx0LCBwYXJhbXMpLmNhdGNoKChlMikgPT4ge1xuICAgICAgICAgIGVycm9yMi5hZGRJc3N1ZShtYWtlUmV0dXJuc0lzc3VlKHJlc3VsdCwgZTIpKTtcbiAgICAgICAgICB0aHJvdyBlcnJvcjI7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucztcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBtZSA9IHRoaXM7XG4gICAgICByZXR1cm4gT0soZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gbWUuX2RlZi5hcmdzLnNhZmVQYXJzZShhcmdzLCBwYXJhbXMpO1xuICAgICAgICBpZiAoIXBhcnNlZEFyZ3Muc3VjY2Vzcykge1xuICAgICAgICAgIHRocm93IG5ldyBab2RFcnJvcihbbWFrZUFyZ3NJc3N1ZShhcmdzLCBwYXJzZWRBcmdzLmVycm9yKV0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuYXBwbHkoZm4yLCB0aGlzLCBwYXJzZWRBcmdzLmRhdGEpO1xuICAgICAgICBjb25zdCBwYXJzZWRSZXR1cm5zID0gbWUuX2RlZi5yZXR1cm5zLnNhZmVQYXJzZShyZXN1bHQsIHBhcmFtcyk7XG4gICAgICAgIGlmICghcGFyc2VkUmV0dXJucy5zdWNjZXNzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFpvZEVycm9yKFttYWtlUmV0dXJuc0lzc3VlKHJlc3VsdCwgcGFyc2VkUmV0dXJucy5lcnJvcildKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucy5kYXRhO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHBhcmFtZXRlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi5hcmdzO1xuICB9XG4gIHJldHVyblR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi5yZXR1cm5zO1xuICB9XG4gIGFyZ3MoLi4uaXRlbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIGFyZ3M6IFpvZFR1cGxlLmNyZWF0ZShpdGVtcykucmVzdChab2RVbmtub3duLmNyZWF0ZSgpKVxuICAgIH0pO1xuICB9XG4gIHJldHVybnMocmV0dXJuVHlwZSkge1xuICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgcmV0dXJuczogcmV0dXJuVHlwZVxuICAgIH0pO1xuICB9XG4gIGltcGxlbWVudChmdW5jKSB7XG4gICAgY29uc3QgdmFsaWRhdGVkRnVuYyA9IHRoaXMucGFyc2UoZnVuYyk7XG4gICAgcmV0dXJuIHZhbGlkYXRlZEZ1bmM7XG4gIH1cbiAgc3RyaWN0SW1wbGVtZW50KGZ1bmMpIHtcbiAgICBjb25zdCB2YWxpZGF0ZWRGdW5jID0gdGhpcy5wYXJzZShmdW5jKTtcbiAgICByZXR1cm4gdmFsaWRhdGVkRnVuYztcbiAgfVxuICBzdGF0aWMgY3JlYXRlKGFyZ3MsIHJldHVybnMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgYXJnczogYXJncyA/IGFyZ3MgOiBab2RUdXBsZS5jcmVhdGUoW10pLnJlc3QoWm9kVW5rbm93bi5jcmVhdGUoKSksXG4gICAgICByZXR1cm5zOiByZXR1cm5zIHx8IFpvZFVua25vd24uY3JlYXRlKCksXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEZ1bmN0aW9uLFxuICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG4gIH1cbn1cbmNsYXNzIFpvZExhenkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgZ2V0IHNjaGVtYSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmLmdldHRlcigpO1xuICB9XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgIGNvbnN0IGxhenlTY2hlbWEgPSB0aGlzLl9kZWYuZ2V0dGVyKCk7XG4gICAgcmV0dXJuIGxhenlTY2hlbWEuX3BhcnNlKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgfVxufVxuWm9kTGF6eS5jcmVhdGUgPSAoZ2V0dGVyLCBwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2RMYXp5KHtcbiAgICBnZXR0ZXIsXG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMYXp5LFxuICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICB9KTtcbn07XG5jbGFzcyBab2RMaXRlcmFsIGV4dGVuZHMgWm9kVHlwZSB7XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGlmIChpbnB1dC5kYXRhICE9PSB0aGlzLl9kZWYudmFsdWUpIHtcbiAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2xpdGVyYWwsXG4gICAgICAgIGV4cGVjdGVkOiB0aGlzLl9kZWYudmFsdWVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIHJldHVybiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlO1xuICB9XG59XG5ab2RMaXRlcmFsLmNyZWF0ZSA9ICh2YWx1ZSwgcGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kTGl0ZXJhbCh7XG4gICAgdmFsdWUsXG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMaXRlcmFsLFxuICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICB9KTtcbn07XG5mdW5jdGlvbiBjcmVhdGVab2RFbnVtKHZhbHVlcywgcGFyYW1zKSB7XG4gIHJldHVybiBuZXcgWm9kRW51bSh7XG4gICAgdmFsdWVzLFxuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59XG5jbGFzcyBab2RFbnVtIGV4dGVuZHMgWm9kVHlwZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgX1pvZEVudW1fY2FjaGUuc2V0KHRoaXMsIHZvaWQgMCk7XG4gIH1cbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dC5kYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgZXhwZWN0ZWQ6IHV0aWwuam9pblZhbHVlcyhleHBlY3RlZFZhbHVlcyksXG4gICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ab2RFbnVtX2NhY2hlKSkge1xuICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWm9kRW51bV9jYWNoZSwgbmV3IFNldCh0aGlzLl9kZWYudmFsdWVzKSk7XG4gICAgfVxuICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWm9kRW51bV9jYWNoZSkuaGFzKGlucHV0LmRhdGEpKSB7XG4gICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlLFxuICAgICAgICBvcHRpb25zOiBleHBlY3RlZFZhbHVlc1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICB9XG4gIGdldCBvcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICB9XG4gIGdldCBlbnVtKCkge1xuICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgfVxuICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICB9XG4gIGdldCBWYWx1ZXMoKSB7XG4gICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICB9XG4gICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gIH1cbiAgZ2V0IEVudW0oKSB7XG4gICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICB9XG4gICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gIH1cbiAgZXh0cmFjdCh2YWx1ZXMsIG5ld0RlZiA9IHRoaXMuX2RlZikge1xuICAgIHJldHVybiBab2RFbnVtLmNyZWF0ZSh2YWx1ZXMsIHtcbiAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgIC4uLm5ld0RlZlxuICAgIH0pO1xuICB9XG4gIGV4Y2x1ZGUodmFsdWVzLCBuZXdEZWYgPSB0aGlzLl9kZWYpIHtcbiAgICByZXR1cm4gWm9kRW51bS5jcmVhdGUodGhpcy5vcHRpb25zLmZpbHRlcigob3B0KSA9PiAhdmFsdWVzLmluY2x1ZGVzKG9wdCkpLCB7XG4gICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAuLi5uZXdEZWZcbiAgICB9KTtcbiAgfVxufVxuX1pvZEVudW1fY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcblpvZEVudW0uY3JlYXRlID0gY3JlYXRlWm9kRW51bTtcbmNsYXNzIFpvZE5hdGl2ZUVudW0gZXh0ZW5kcyBab2RUeXBlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICBfWm9kTmF0aXZlRW51bV9jYWNoZS5zZXQodGhpcywgdm9pZCAwKTtcbiAgfVxuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBjb25zdCBuYXRpdmVFbnVtVmFsdWVzID0gdXRpbC5nZXRWYWxpZEVudW1WYWx1ZXModGhpcy5fZGVmLnZhbHVlcyk7XG4gICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zdHJpbmcgJiYgY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubnVtYmVyKSB7XG4gICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgIGV4cGVjdGVkOiB1dGlsLmpvaW5WYWx1ZXMoZXhwZWN0ZWRWYWx1ZXMpLFxuICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWm9kTmF0aXZlRW51bV9jYWNoZSkpIHtcbiAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1pvZE5hdGl2ZUVudW1fY2FjaGUsIG5ldyBTZXQodXRpbC5nZXRWYWxpZEVudW1WYWx1ZXModGhpcy5fZGVmLnZhbHVlcykpKTtcbiAgICB9XG4gICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ab2ROYXRpdmVFbnVtX2NhY2hlKS5oYXMoaW5wdXQuZGF0YSkpIHtcbiAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdXRpbC5vYmplY3RWYWx1ZXMobmF0aXZlRW51bVZhbHVlcyk7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlLFxuICAgICAgICBvcHRpb25zOiBleHBlY3RlZFZhbHVlc1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICB9XG4gIGdldCBlbnVtKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICB9XG59XG5fWm9kTmF0aXZlRW51bV9jYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuWm9kTmF0aXZlRW51bS5jcmVhdGUgPSAodmFsdWVzLCBwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2ROYXRpdmVFbnVtKHtcbiAgICB2YWx1ZXMsXG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYXRpdmVFbnVtLFxuICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICB9KTtcbn07XG5jbGFzcyBab2RQcm9taXNlIGV4dGVuZHMgWm9kVHlwZSB7XG4gIHVud3JhcCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gIH1cbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnByb21pc2UgJiYgY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5wcm9taXNlLFxuICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIGNvbnN0IHByb21pc2lmaWVkID0gY3R4LnBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUucHJvbWlzZSA/IGN0eC5kYXRhIDogUHJvbWlzZS5yZXNvbHZlKGN0eC5kYXRhKTtcbiAgICByZXR1cm4gT0socHJvbWlzaWZpZWQudGhlbigoZGF0YSkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlLnBhcnNlQXN5bmMoZGF0YSwge1xuICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgZXJyb3JNYXA6IGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblpvZFByb21pc2UuY3JlYXRlID0gKHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kUHJvbWlzZSh7XG4gICAgdHlwZTogc2NoZW1hLFxuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUHJvbWlzZSxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kRWZmZWN0cyBleHRlbmRzIFpvZFR5cGUge1xuICBpbm5lclR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWE7XG4gIH1cbiAgc291cmNlVHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyA/IHRoaXMuX2RlZi5zY2hlbWEuc291cmNlVHlwZSgpIDogdGhpcy5fZGVmLnNjaGVtYTtcbiAgfVxuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgIGNvbnN0IGVmZmVjdCA9IHRoaXMuX2RlZi5lZmZlY3QgfHwgbnVsbDtcbiAgICBjb25zdCBjaGVja0N0eCA9IHtcbiAgICAgIGFkZElzc3VlOiAoYXJnKSA9PiB7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwgYXJnKTtcbiAgICAgICAgaWYgKGFyZy5mYXRhbCkge1xuICAgICAgICAgIHN0YXR1cy5hYm9ydCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIHJldHVybiBjdHgucGF0aDtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNoZWNrQ3R4LmFkZElzc3VlID0gY2hlY2tDdHguYWRkSXNzdWUuYmluZChjaGVja0N0eCk7XG4gICAgaWYgKGVmZmVjdC50eXBlID09PSBcInByZXByb2Nlc3NcIikge1xuICAgICAgY29uc3QgcHJvY2Vzc2VkID0gZWZmZWN0LnRyYW5zZm9ybShjdHguZGF0YSwgY2hlY2tDdHgpO1xuICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwcm9jZXNzZWQpLnRoZW4oYXN5bmMgKHByb2Nlc3NlZDIpID0+IHtcbiAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkMixcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICBkYXRhOiBwcm9jZXNzZWQsXG4gICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwicmVmaW5lbWVudFwiKSB7XG4gICAgICBjb25zdCBleGVjdXRlUmVmaW5lbWVudCA9IChhY2MpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZWZmZWN0LnJlZmluZW1lbnQoYWNjLCBjaGVja0N0eCk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXN5bmMgcmVmaW5lbWVudCBlbmNvdW50ZXJlZCBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2Ugb3BlcmF0aW9uLiBVc2UgLnBhcnNlQXN5bmMgaW5zdGVhZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH07XG4gICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgaW5uZXIyID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGlubmVyMi5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICBpZiAoaW5uZXIyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICBleGVjdXRlUmVmaW5lbWVudChpbm5lcjIudmFsdWUpO1xuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlubmVyMi52YWx1ZSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pLnRoZW4oKGlubmVyMikgPT4ge1xuICAgICAgICAgIGlmIChpbm5lcjIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgIGlmIChpbm5lcjIuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICByZXR1cm4gZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIyLnZhbHVlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5uZXIyLnZhbHVlIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICBjb25zdCBiYXNlID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFpc1ZhbGlkKGJhc2UpKVxuICAgICAgICAgIHJldHVybiBiYXNlO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBlZmZlY3QudHJhbnNmb3JtKGJhc2UudmFsdWUsIGNoZWNrQ3R4KTtcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFzeW5jaHJvbm91cyB0cmFuc2Zvcm0gZW5jb3VudGVyZWQgZHVyaW5nIHN5bmNocm9ub3VzIHBhcnNlIG9wZXJhdGlvbi4gVXNlIC5wYXJzZUFzeW5jIGluc3RlYWQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiByZXN1bHQgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KS50aGVuKChiYXNlKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc1ZhbGlkKGJhc2UpKVxuICAgICAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlZmZlY3QudHJhbnNmb3JtKGJhc2UudmFsdWUsIGNoZWNrQ3R4KSkudGhlbigocmVzdWx0KSA9PiAoeyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHJlc3VsdCB9KSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB1dGlsLmFzc2VydE5ldmVyKGVmZmVjdCk7XG4gIH1cbn1cblpvZEVmZmVjdHMuY3JlYXRlID0gKHNjaGVtYSwgZWZmZWN0LCBwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICBzY2hlbWEsXG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgIGVmZmVjdCxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuWm9kRWZmZWN0cy5jcmVhdGVXaXRoUHJlcHJvY2VzcyA9IChwcmVwcm9jZXNzLCBzY2hlbWEsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgIHNjaGVtYSxcbiAgICBlZmZlY3Q6IHsgdHlwZTogXCJwcmVwcm9jZXNzXCIsIHRyYW5zZm9ybTogcHJlcHJvY2VzcyB9LFxuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kT3B0aW9uYWwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgIGlmIChwYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIE9LKHZvaWQgMCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gIH1cbiAgdW53cmFwKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICB9XG59XG5ab2RPcHRpb25hbC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gIHJldHVybiBuZXcgWm9kT3B0aW9uYWwoe1xuICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9wdGlvbmFsLFxuICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICB9KTtcbn07XG5jbGFzcyBab2ROdWxsYWJsZSBleHRlbmRzIFpvZFR5cGUge1xuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgaWYgKHBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUubnVsbCkge1xuICAgICAgcmV0dXJuIE9LKG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICB9XG4gIHVud3JhcCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgfVxufVxuWm9kTnVsbGFibGUuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZE51bGxhYmxlKHtcbiAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsYWJsZSxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuY2xhc3MgWm9kRGVmYXVsdCBleHRlbmRzIFpvZFR5cGUge1xuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICBsZXQgZGF0YSA9IGN0eC5kYXRhO1xuICAgIGlmIChjdHgucGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgIGRhdGEgPSB0aGlzLl9kZWYuZGVmYXVsdFZhbHVlKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZSh7XG4gICAgICBkYXRhLFxuICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICBwYXJlbnQ6IGN0eFxuICAgIH0pO1xuICB9XG4gIHJlbW92ZURlZmF1bHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gIH1cbn1cblpvZERlZmF1bHQuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQsXG4gICAgZGVmYXVsdFZhbHVlOiB0eXBlb2YgcGFyYW1zLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcy5kZWZhdWx0IDogKCkgPT4gcGFyYW1zLmRlZmF1bHQsXG4gICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gIH0pO1xufTtcbmNsYXNzIFpvZENhdGNoIGV4dGVuZHMgWm9kVHlwZSB7XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgIGNvbnN0IG5ld0N0eCA9IHtcbiAgICAgIC4uLmN0eCxcbiAgICAgIGNvbW1vbjoge1xuICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICBpc3N1ZXM6IFtdXG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZSh7XG4gICAgICBkYXRhOiBuZXdDdHguZGF0YSxcbiAgICAgIHBhdGg6IG5ld0N0eC5wYXRoLFxuICAgICAgcGFyZW50OiB7XG4gICAgICAgIC4uLm5ld0N0eFxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpc0FzeW5jKHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0MikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgIHZhbHVlOiByZXN1bHQyLnN0YXR1cyA9PT0gXCJ2YWxpZFwiID8gcmVzdWx0Mi52YWx1ZSA6IHRoaXMuX2RlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBab2RFcnJvcihuZXdDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5wdXQ6IG5ld0N0eC5kYXRhXG4gICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgdmFsdWU6IHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIiA/IHJlc3VsdC52YWx1ZSA6IHRoaXMuX2RlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFpvZEVycm9yKG5ld0N0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGlucHV0OiBuZXdDdHguZGF0YVxuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgcmVtb3ZlQ2F0Y2goKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gIH1cbn1cblpvZENhdGNoLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2RDYXRjaCh7XG4gICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2gsXG4gICAgY2F0Y2hWYWx1ZTogdHlwZW9mIHBhcmFtcy5jYXRjaCA9PT0gXCJmdW5jdGlvblwiID8gcGFyYW1zLmNhdGNoIDogKCkgPT4gcGFyYW1zLmNhdGNoLFxuICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICB9KTtcbn07XG5jbGFzcyBab2ROYU4gZXh0ZW5kcyBab2RUeXBlIHtcbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm5hbikge1xuICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm5hbixcbiAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgfVxufVxuWm9kTmFOLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgcmV0dXJuIG5ldyBab2ROYU4oe1xuICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmFOLFxuICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICB9KTtcbn07XG5jb25zdCBCUkFORCA9IFN5bWJvbChcInpvZF9icmFuZFwiKTtcbmNsYXNzIFpvZEJyYW5kZWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgX3BhcnNlKGlucHV0KSB7XG4gICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgY29uc3QgZGF0YSA9IGN0eC5kYXRhO1xuICAgIHJldHVybiB0aGlzLl9kZWYudHlwZS5fcGFyc2Uoe1xuICAgICAgZGF0YSxcbiAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgcGFyZW50OiBjdHhcbiAgICB9KTtcbiAgfVxuICB1bndyYXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICB9XG59XG5jbGFzcyBab2RQaXBlbGluZSBleHRlbmRzIFpvZFR5cGUge1xuICBfcGFyc2UoaW5wdXQpIHtcbiAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICBjb25zdCBoYW5kbGVBc3luYyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaW5SZXN1bHQgPSBhd2FpdCB0aGlzLl9kZWYuaW4uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgIHBhcmVudDogY3R4XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgcmV0dXJuIERJUlRZKGluUmVzdWx0LnZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm91dC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICBkYXRhOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJldHVybiBoYW5kbGVBc3luYygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpblJlc3VsdCA9IHRoaXMuX2RlZi5pbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgfSk7XG4gICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhdHVzOiBcImRpcnR5XCIsXG4gICAgICAgICAgdmFsdWU6IGluUmVzdWx0LnZhbHVlXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm91dC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICBkYXRhOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc3RhdGljIGNyZWF0ZShhMywgYjIpIHtcbiAgICByZXR1cm4gbmV3IFpvZFBpcGVsaW5lKHtcbiAgICAgIGluOiBhMyxcbiAgICAgIG91dDogYjIsXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFBpcGVsaW5lXG4gICAgfSk7XG4gIH1cbn1cbmNsYXNzIFpvZFJlYWRvbmx5IGV4dGVuZHMgWm9kVHlwZSB7XG4gIF9wYXJzZShpbnB1dCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICBjb25zdCBmcmVlemUgPSAoZGF0YSkgPT4ge1xuICAgICAgaWYgKGlzVmFsaWQoZGF0YSkpIHtcbiAgICAgICAgZGF0YS52YWx1ZSA9IE9iamVjdC5mcmVlemUoZGF0YS52YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBpc0FzeW5jKHJlc3VsdCkgPyByZXN1bHQudGhlbigoZGF0YSkgPT4gZnJlZXplKGRhdGEpKSA6IGZyZWV6ZShyZXN1bHQpO1xuICB9XG4gIHVud3JhcCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgfVxufVxuWm9kUmVhZG9ubHkuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gbmV3IFpvZFJlYWRvbmx5KHtcbiAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWFkb25seSxcbiAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgfSk7XG59O1xuZnVuY3Rpb24gY2xlYW5QYXJhbXMocGFyYW1zLCBkYXRhKSB7XG4gIGNvbnN0IHAyID0gdHlwZW9mIHBhcmFtcyA9PT0gXCJmdW5jdGlvblwiID8gcGFyYW1zKGRhdGEpIDogdHlwZW9mIHBhcmFtcyA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZTogcGFyYW1zIH0gOiBwYXJhbXM7XG4gIGNvbnN0IHAyMiA9IHR5cGVvZiBwMiA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZTogcDIgfSA6IHAyO1xuICByZXR1cm4gcDIyO1xufVxuZnVuY3Rpb24gY3VzdG9tKGNoZWNrLCBfcGFyYW1zID0ge30sIGZhdGFsKSB7XG4gIGlmIChjaGVjaylcbiAgICByZXR1cm4gWm9kQW55LmNyZWF0ZSgpLnN1cGVyUmVmaW5lKChkYXRhLCBjdHgpID0+IHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICBjb25zdCByMiA9IGNoZWNrKGRhdGEpO1xuICAgICAgaWYgKHIyIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICByZXR1cm4gcjIudGhlbigocjMpID0+IHtcbiAgICAgICAgICB2YXIgX2EyLCBfYjI7XG4gICAgICAgICAgaWYgKCFyMykge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gY2xlYW5QYXJhbXMoX3BhcmFtcywgZGF0YSk7XG4gICAgICAgICAgICBjb25zdCBfZmF0YWwgPSAoX2IyID0gKF9hMiA9IHBhcmFtcy5mYXRhbCkgIT09IG51bGwgJiYgX2EyICE9PSB2b2lkIDAgPyBfYTIgOiBmYXRhbCkgIT09IG51bGwgJiYgX2IyICE9PSB2b2lkIDAgPyBfYjIgOiB0cnVlO1xuICAgICAgICAgICAgY3R4LmFkZElzc3VlKHsgY29kZTogXCJjdXN0b21cIiwgLi4ucGFyYW1zLCBmYXRhbDogX2ZhdGFsIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoIXIyKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IGNsZWFuUGFyYW1zKF9wYXJhbXMsIGRhdGEpO1xuICAgICAgICBjb25zdCBfZmF0YWwgPSAoX2IgPSAoX2EgPSBwYXJhbXMuZmF0YWwpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhdGFsKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0cnVlO1xuICAgICAgICBjdHguYWRkSXNzdWUoeyBjb2RlOiBcImN1c3RvbVwiLCAuLi5wYXJhbXMsIGZhdGFsOiBfZmF0YWwgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfSk7XG4gIHJldHVybiBab2RBbnkuY3JlYXRlKCk7XG59XG5jb25zdCBsYXRlID0ge1xuICBvYmplY3Q6IFpvZE9iamVjdC5sYXp5Y3JlYXRlXG59O1xudmFyIFpvZEZpcnN0UGFydHlUeXBlS2luZDtcbihmdW5jdGlvbihab2RGaXJzdFBhcnR5VHlwZUtpbmQyKSB7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RTdHJpbmdcIl0gPSBcIlpvZFN0cmluZ1wiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kTnVtYmVyXCJdID0gXCJab2ROdW1iZXJcIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZE5hTlwiXSA9IFwiWm9kTmFOXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RCaWdJbnRcIl0gPSBcIlpvZEJpZ0ludFwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kQm9vbGVhblwiXSA9IFwiWm9kQm9vbGVhblwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kRGF0ZVwiXSA9IFwiWm9kRGF0ZVwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kU3ltYm9sXCJdID0gXCJab2RTeW1ib2xcIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZFVuZGVmaW5lZFwiXSA9IFwiWm9kVW5kZWZpbmVkXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2ROdWxsXCJdID0gXCJab2ROdWxsXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RBbnlcIl0gPSBcIlpvZEFueVwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kVW5rbm93blwiXSA9IFwiWm9kVW5rbm93blwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kTmV2ZXJcIl0gPSBcIlpvZE5ldmVyXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RWb2lkXCJdID0gXCJab2RWb2lkXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RBcnJheVwiXSA9IFwiWm9kQXJyYXlcIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZE9iamVjdFwiXSA9IFwiWm9kT2JqZWN0XCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RVbmlvblwiXSA9IFwiWm9kVW5pb25cIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiXSA9IFwiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RJbnRlcnNlY3Rpb25cIl0gPSBcIlpvZEludGVyc2VjdGlvblwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kVHVwbGVcIl0gPSBcIlpvZFR1cGxlXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RSZWNvcmRcIl0gPSBcIlpvZFJlY29yZFwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kTWFwXCJdID0gXCJab2RNYXBcIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZFNldFwiXSA9IFwiWm9kU2V0XCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RGdW5jdGlvblwiXSA9IFwiWm9kRnVuY3Rpb25cIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZExhenlcIl0gPSBcIlpvZExhenlcIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZExpdGVyYWxcIl0gPSBcIlpvZExpdGVyYWxcIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZEVudW1cIl0gPSBcIlpvZEVudW1cIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZEVmZmVjdHNcIl0gPSBcIlpvZEVmZmVjdHNcIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZE5hdGl2ZUVudW1cIl0gPSBcIlpvZE5hdGl2ZUVudW1cIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZE9wdGlvbmFsXCJdID0gXCJab2RPcHRpb25hbFwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kTnVsbGFibGVcIl0gPSBcIlpvZE51bGxhYmxlXCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2REZWZhdWx0XCJdID0gXCJab2REZWZhdWx0XCI7XG4gIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RDYXRjaFwiXSA9IFwiWm9kQ2F0Y2hcIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZFByb21pc2VcIl0gPSBcIlpvZFByb21pc2VcIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZEJyYW5kZWRcIl0gPSBcIlpvZEJyYW5kZWRcIjtcbiAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZFBpcGVsaW5lXCJdID0gXCJab2RQaXBlbGluZVwiO1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kUmVhZG9ubHlcIl0gPSBcIlpvZFJlYWRvbmx5XCI7XG59KShab2RGaXJzdFBhcnR5VHlwZUtpbmQgfHwgKFpvZEZpcnN0UGFydHlUeXBlS2luZCA9IHt9KSk7XG5jb25zdCBpbnN0YW5jZU9mVHlwZSA9IChjbHMsIHBhcmFtcyA9IHtcbiAgbWVzc2FnZTogYElucHV0IG5vdCBpbnN0YW5jZSBvZiAke2Nscy5uYW1lfWBcbn0pID0+IGN1c3RvbSgoZGF0YSkgPT4gZGF0YSBpbnN0YW5jZW9mIGNscywgcGFyYW1zKTtcbmNvbnN0IHN0cmluZ1R5cGUgPSBab2RTdHJpbmcuY3JlYXRlO1xuY29uc3QgbnVtYmVyVHlwZSA9IFpvZE51bWJlci5jcmVhdGU7XG5jb25zdCBuYW5UeXBlID0gWm9kTmFOLmNyZWF0ZTtcbmNvbnN0IGJpZ0ludFR5cGUgPSBab2RCaWdJbnQuY3JlYXRlO1xuY29uc3QgYm9vbGVhblR5cGUgPSBab2RCb29sZWFuLmNyZWF0ZTtcbmNvbnN0IGRhdGVUeXBlID0gWm9kRGF0ZS5jcmVhdGU7XG5jb25zdCBzeW1ib2xUeXBlID0gWm9kU3ltYm9sLmNyZWF0ZTtcbmNvbnN0IHVuZGVmaW5lZFR5cGUgPSBab2RVbmRlZmluZWQuY3JlYXRlO1xuY29uc3QgbnVsbFR5cGUgPSBab2ROdWxsLmNyZWF0ZTtcbmNvbnN0IGFueVR5cGUgPSBab2RBbnkuY3JlYXRlO1xuY29uc3QgdW5rbm93blR5cGUgPSBab2RVbmtub3duLmNyZWF0ZTtcbmNvbnN0IG5ldmVyVHlwZSA9IFpvZE5ldmVyLmNyZWF0ZTtcbmNvbnN0IHZvaWRUeXBlID0gWm9kVm9pZC5jcmVhdGU7XG5jb25zdCBhcnJheVR5cGUgPSBab2RBcnJheS5jcmVhdGU7XG5jb25zdCBvYmplY3RUeXBlID0gWm9kT2JqZWN0LmNyZWF0ZTtcbmNvbnN0IHN0cmljdE9iamVjdFR5cGUgPSBab2RPYmplY3Quc3RyaWN0Q3JlYXRlO1xuY29uc3QgdW5pb25UeXBlID0gWm9kVW5pb24uY3JlYXRlO1xuY29uc3QgZGlzY3JpbWluYXRlZFVuaW9uVHlwZSA9IFpvZERpc2NyaW1pbmF0ZWRVbmlvbi5jcmVhdGU7XG5jb25zdCBpbnRlcnNlY3Rpb25UeXBlID0gWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZTtcbmNvbnN0IHR1cGxlVHlwZSA9IFpvZFR1cGxlLmNyZWF0ZTtcbmNvbnN0IHJlY29yZFR5cGUgPSBab2RSZWNvcmQuY3JlYXRlO1xuY29uc3QgbWFwVHlwZSA9IFpvZE1hcC5jcmVhdGU7XG5jb25zdCBzZXRUeXBlID0gWm9kU2V0LmNyZWF0ZTtcbmNvbnN0IGZ1bmN0aW9uVHlwZSA9IFpvZEZ1bmN0aW9uLmNyZWF0ZTtcbmNvbnN0IGxhenlUeXBlID0gWm9kTGF6eS5jcmVhdGU7XG5jb25zdCBsaXRlcmFsVHlwZSA9IFpvZExpdGVyYWwuY3JlYXRlO1xuY29uc3QgZW51bVR5cGUgPSBab2RFbnVtLmNyZWF0ZTtcbmNvbnN0IG5hdGl2ZUVudW1UeXBlID0gWm9kTmF0aXZlRW51bS5jcmVhdGU7XG5jb25zdCBwcm9taXNlVHlwZSA9IFpvZFByb21pc2UuY3JlYXRlO1xuY29uc3QgZWZmZWN0c1R5cGUgPSBab2RFZmZlY3RzLmNyZWF0ZTtcbmNvbnN0IG9wdGlvbmFsVHlwZSA9IFpvZE9wdGlvbmFsLmNyZWF0ZTtcbmNvbnN0IG51bGxhYmxlVHlwZSA9IFpvZE51bGxhYmxlLmNyZWF0ZTtcbmNvbnN0IHByZXByb2Nlc3NUeXBlID0gWm9kRWZmZWN0cy5jcmVhdGVXaXRoUHJlcHJvY2VzcztcbmNvbnN0IHBpcGVsaW5lVHlwZSA9IFpvZFBpcGVsaW5lLmNyZWF0ZTtcbmNvbnN0IG9zdHJpbmcgPSAoKSA9PiBzdHJpbmdUeXBlKCkub3B0aW9uYWwoKTtcbmNvbnN0IG9udW1iZXIgPSAoKSA9PiBudW1iZXJUeXBlKCkub3B0aW9uYWwoKTtcbmNvbnN0IG9ib29sZWFuID0gKCkgPT4gYm9vbGVhblR5cGUoKS5vcHRpb25hbCgpO1xuY29uc3QgY29lcmNlID0ge1xuICBzdHJpbmc6IChhcmcpID0+IFpvZFN0cmluZy5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSxcbiAgbnVtYmVyOiAoYXJnKSA9PiBab2ROdW1iZXIuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSksXG4gIGJvb2xlYW46IChhcmcpID0+IFpvZEJvb2xlYW4uY3JlYXRlKHtcbiAgICAuLi5hcmcsXG4gICAgY29lcmNlOiB0cnVlXG4gIH0pLFxuICBiaWdpbnQ6IChhcmcpID0+IFpvZEJpZ0ludC5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSxcbiAgZGF0ZTogKGFyZykgPT4gWm9kRGF0ZS5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KVxufTtcbmNvbnN0IE5FVkVSID0gSU5WQUxJRDtcbnZhciB6ID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIGRlZmF1bHRFcnJvck1hcDogZXJyb3JNYXAsXG4gIHNldEVycm9yTWFwLFxuICBnZXRFcnJvck1hcCxcbiAgbWFrZUlzc3VlLFxuICBFTVBUWV9QQVRILFxuICBhZGRJc3N1ZVRvQ29udGV4dCxcbiAgUGFyc2VTdGF0dXMsXG4gIElOVkFMSUQsXG4gIERJUlRZLFxuICBPSyxcbiAgaXNBYm9ydGVkLFxuICBpc0RpcnR5LFxuICBpc1ZhbGlkLFxuICBpc0FzeW5jLFxuICBnZXQgdXRpbCgpIHtcbiAgICByZXR1cm4gdXRpbDtcbiAgfSxcbiAgZ2V0IG9iamVjdFV0aWwoKSB7XG4gICAgcmV0dXJuIG9iamVjdFV0aWw7XG4gIH0sXG4gIFpvZFBhcnNlZFR5cGUsXG4gIGdldFBhcnNlZFR5cGUsXG4gIFpvZFR5cGUsXG4gIGRhdGV0aW1lUmVnZXgsXG4gIFpvZFN0cmluZyxcbiAgWm9kTnVtYmVyLFxuICBab2RCaWdJbnQsXG4gIFpvZEJvb2xlYW4sXG4gIFpvZERhdGUsXG4gIFpvZFN5bWJvbCxcbiAgWm9kVW5kZWZpbmVkLFxuICBab2ROdWxsLFxuICBab2RBbnksXG4gIFpvZFVua25vd24sXG4gIFpvZE5ldmVyLFxuICBab2RWb2lkLFxuICBab2RBcnJheSxcbiAgWm9kT2JqZWN0LFxuICBab2RVbmlvbixcbiAgWm9kRGlzY3JpbWluYXRlZFVuaW9uLFxuICBab2RJbnRlcnNlY3Rpb24sXG4gIFpvZFR1cGxlLFxuICBab2RSZWNvcmQsXG4gIFpvZE1hcCxcbiAgWm9kU2V0LFxuICBab2RGdW5jdGlvbixcbiAgWm9kTGF6eSxcbiAgWm9kTGl0ZXJhbCxcbiAgWm9kRW51bSxcbiAgWm9kTmF0aXZlRW51bSxcbiAgWm9kUHJvbWlzZSxcbiAgWm9kRWZmZWN0cyxcbiAgWm9kVHJhbnNmb3JtZXI6IFpvZEVmZmVjdHMsXG4gIFpvZE9wdGlvbmFsLFxuICBab2ROdWxsYWJsZSxcbiAgWm9kRGVmYXVsdCxcbiAgWm9kQ2F0Y2gsXG4gIFpvZE5hTixcbiAgQlJBTkQsXG4gIFpvZEJyYW5kZWQsXG4gIFpvZFBpcGVsaW5lLFxuICBab2RSZWFkb25seSxcbiAgY3VzdG9tLFxuICBTY2hlbWE6IFpvZFR5cGUsXG4gIFpvZFNjaGVtYTogWm9kVHlwZSxcbiAgbGF0ZSxcbiAgZ2V0IFpvZEZpcnN0UGFydHlUeXBlS2luZCgpIHtcbiAgICByZXR1cm4gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kO1xuICB9LFxuICBjb2VyY2UsXG4gIGFueTogYW55VHlwZSxcbiAgYXJyYXk6IGFycmF5VHlwZSxcbiAgYmlnaW50OiBiaWdJbnRUeXBlLFxuICBib29sZWFuOiBib29sZWFuVHlwZSxcbiAgZGF0ZTogZGF0ZVR5cGUsXG4gIGRpc2NyaW1pbmF0ZWRVbmlvbjogZGlzY3JpbWluYXRlZFVuaW9uVHlwZSxcbiAgZWZmZWN0OiBlZmZlY3RzVHlwZSxcbiAgXCJlbnVtXCI6IGVudW1UeXBlLFxuICBcImZ1bmN0aW9uXCI6IGZ1bmN0aW9uVHlwZSxcbiAgXCJpbnN0YW5jZW9mXCI6IGluc3RhbmNlT2ZUeXBlLFxuICBpbnRlcnNlY3Rpb246IGludGVyc2VjdGlvblR5cGUsXG4gIGxhenk6IGxhenlUeXBlLFxuICBsaXRlcmFsOiBsaXRlcmFsVHlwZSxcbiAgbWFwOiBtYXBUeXBlLFxuICBuYW46IG5hblR5cGUsXG4gIG5hdGl2ZUVudW06IG5hdGl2ZUVudW1UeXBlLFxuICBuZXZlcjogbmV2ZXJUeXBlLFxuICBcIm51bGxcIjogbnVsbFR5cGUsXG4gIG51bGxhYmxlOiBudWxsYWJsZVR5cGUsXG4gIG51bWJlcjogbnVtYmVyVHlwZSxcbiAgb2JqZWN0OiBvYmplY3RUeXBlLFxuICBvYm9vbGVhbixcbiAgb251bWJlcixcbiAgb3B0aW9uYWw6IG9wdGlvbmFsVHlwZSxcbiAgb3N0cmluZyxcbiAgcGlwZWxpbmU6IHBpcGVsaW5lVHlwZSxcbiAgcHJlcHJvY2VzczogcHJlcHJvY2Vzc1R5cGUsXG4gIHByb21pc2U6IHByb21pc2VUeXBlLFxuICByZWNvcmQ6IHJlY29yZFR5cGUsXG4gIHNldDogc2V0VHlwZSxcbiAgc3RyaWN0T2JqZWN0OiBzdHJpY3RPYmplY3RUeXBlLFxuICBzdHJpbmc6IHN0cmluZ1R5cGUsXG4gIHN5bWJvbDogc3ltYm9sVHlwZSxcbiAgdHJhbnNmb3JtZXI6IGVmZmVjdHNUeXBlLFxuICB0dXBsZTogdHVwbGVUeXBlLFxuICBcInVuZGVmaW5lZFwiOiB1bmRlZmluZWRUeXBlLFxuICB1bmlvbjogdW5pb25UeXBlLFxuICB1bmtub3duOiB1bmtub3duVHlwZSxcbiAgXCJ2b2lkXCI6IHZvaWRUeXBlLFxuICBORVZFUixcbiAgWm9kSXNzdWVDb2RlLFxuICBxdW90ZWxlc3NKc29uLFxuICBab2RFcnJvclxufSk7XG52YXIgREVGQVVMVF9QT1JUID0gNTc0NjtcbnZhciBQSU5HX0VORFBPSU5UID0gXCIvcGluZy9zdGFnZXdpc2VcIjtcbnZhciBQSU5HX1JFU1BPTlNFID0gXCJzdGFnZXdpc2VcIjtcbnZhciBjb250cmFjdCA9IGNyZWF0ZUJyaWRnZUNvbnRyYWN0KHtcbiAgc2VydmVyOiB7XG4gICAgdHJpZ2dlckFnZW50UHJvbXB0OiB7XG4gICAgICByZXF1ZXN0OiB6Lm9iamVjdCh7XG4gICAgICAgIHByb21wdDogei5zdHJpbmcoKVxuICAgICAgfSksXG4gICAgICByZXNwb25zZTogei5vYmplY3Qoe1xuICAgICAgICByZXN1bHQ6IHoub2JqZWN0KHtcbiAgICAgICAgICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgICAgICAgICBlcnJvcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgIG91dHB1dDogei5zdHJpbmcoKS5vcHRpb25hbCgpXG4gICAgICAgIH0pXG4gICAgICB9KSxcbiAgICAgIHVwZGF0ZTogei5vYmplY3Qoe1xuICAgICAgICB1cGRhdGVUZXh0OiB6LnN0cmluZygpXG4gICAgICB9KVxuICAgIH1cbiAgfVxufSk7XG5hc3luYyBmdW5jdGlvbiBmaW5kUG9ydChtYXhBdHRlbXB0cyA9IDEwLCB0aW1lb3V0ID0gMzAwKSB7XG4gIGZvciAobGV0IGF0dGVtcHQgPSAwOyBhdHRlbXB0IDwgbWF4QXR0ZW1wdHM7IGF0dGVtcHQrKykge1xuICAgIGNvbnN0IHBvcnQgPSBERUZBVUxUX1BPUlQgKyBhdHRlbXB0O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiBjb250cm9sbGVyLmFib3J0KCksIHRpbWVvdXQpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICBgaHR0cDovL2xvY2FsaG9zdDoke3BvcnR9JHtQSU5HX0VORFBPSU5UfWAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbFxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgaWYgKHRleHQgPT09IFBJTkdfUkVTUE9OU0UpIHtcbiAgICAgICAgICAgIHJldHVybiBwb3J0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmNvbnN0IFNSUENCcmlkZ2VDb250ZXh0ID0gSyQzKHtcbiAgYnJpZGdlOiBudWxsLFxuICBpc0Nvbm5lY3Rpbmc6IGZhbHNlLFxuICBlcnJvcjogbnVsbFxufSk7XG5mdW5jdGlvbiBTUlBDQnJpZGdlUHJvdmlkZXIoe1xuICBjaGlsZHJlblxufSkge1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IGQkNCh7XG4gICAgYnJpZGdlOiBudWxsLFxuICAgIGlzQ29ubmVjdGluZzogdHJ1ZSxcbiAgICBlcnJvcjogbnVsbFxuICB9KTtcbiAgeSQ2KCgpID0+IHtcbiAgICBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplQnJpZGdlKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9ydCA9IGF3YWl0IGZpbmRQb3J0KCk7XG4gICAgICAgIGNvbnN0IGJyaWRnZSA9IGNyZWF0ZVNSUENDbGllbnRCcmlkZ2UoXG4gICAgICAgICAgYHdzOi8vbG9jYWxob3N0OiR7cG9ydH1gLFxuICAgICAgICAgIGNvbnRyYWN0XG4gICAgICAgICk7XG4gICAgICAgIGF3YWl0IGJyaWRnZS5jb25uZWN0KCk7XG4gICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICBicmlkZ2UsXG4gICAgICAgICAgaXNDb25uZWN0aW5nOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yMikge1xuICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgYnJpZGdlOiBudWxsLFxuICAgICAgICAgIGlzQ29ubmVjdGluZzogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IGVycm9yMiBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IyIDogbmV3IEVycm9yKFN0cmluZyhlcnJvcjIpKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaW5pdGlhbGl6ZUJyaWRnZSgpO1xuICB9LCBbXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KFNSUENCcmlkZ2VDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBzdGF0ZSwgY2hpbGRyZW4gfSk7XG59XG5mdW5jdGlvbiB1c2VTUlBDQnJpZGdlKCkge1xuICBjb25zdCBjb250ZXh0ID0geCQ0KFNSUENCcmlkZ2VDb250ZXh0KTtcbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlU1JQQ0JyaWRnZSBtdXN0IGJlIHVzZWQgd2l0aGluIGFuIFNSUENCcmlkZ2VQcm92aWRlclwiKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cbmZ1bmN0aW9uIGdldEVsZW1lbnRBdHRyaWJ1dGVzKGVsZW1lbnQpIHtcbiAgY29uc3QgYXR0cnMgPSB7fTtcbiAgY29uc3QgcHJpb3JpdHlBdHRycyA9IFtcbiAgICBcImlkXCIsXG4gICAgXCJjbGFzc1wiLFxuICAgIFwibmFtZVwiLFxuICAgIFwidHlwZVwiLFxuICAgIFwiaHJlZlwiLFxuICAgIFwic3JjXCIsXG4gICAgXCJhbHRcIixcbiAgICBcImZvclwiLFxuICAgIFwicGxhY2Vob2xkZXJcIlxuICBdO1xuICBjb25zdCBkYXRhQXR0cnMgPSBbXTtcbiAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGVsZW1lbnQuYXR0cmlidXRlcy5sZW5ndGg7IGkyKyspIHtcbiAgICBjb25zdCBhdHRyID0gZWxlbWVudC5hdHRyaWJ1dGVzW2kyXTtcbiAgICBpZiAoYXR0ci5uYW1lLnN0YXJ0c1dpdGgoXCJkYXRhLVwiKSkge1xuICAgICAgZGF0YUF0dHJzLnB1c2goeyBuYW1lOiBhdHRyLm5hbWUsIHZhbHVlOiBhdHRyLnZhbHVlIH0pO1xuICAgIH0gZWxzZSBpZiAocHJpb3JpdHlBdHRycy5pbmNsdWRlcyhhdHRyLm5hbWUudG9Mb3dlckNhc2UoKSkgfHwgYXR0ci5uYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwic3R5bGVcIikge1xuICAgICAgYXR0cnNbYXR0ci5uYW1lXSA9IGF0dHIudmFsdWU7XG4gICAgfVxuICB9XG4gIGRhdGFBdHRycy5mb3JFYWNoKChkYSkgPT4ge1xuICAgIGF0dHJzW2RhLm5hbWVdID0gZGEudmFsdWU7XG4gIH0pO1xuICByZXR1cm4gYXR0cnM7XG59XG5mdW5jdGlvbiBnZW5lcmF0ZUVsZW1lbnRDb250ZXh0KGVsZW1lbnQsIGluZGV4Mikge1xuICB2YXIgX2E7XG4gIGxldCBjb250ZXh0ID0gYDxlbGVtZW50IGluZGV4PVwiJHtpbmRleDIgKyAxfVwiPlxuYDtcbiAgY29udGV4dCArPSBgICA8dGFnPiR7ZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCl9PC90YWc+XG5gO1xuICBjb25zdCBpZCA9IGVsZW1lbnQuaWQ7XG4gIGlmIChpZCkge1xuICAgIGNvbnRleHQgKz0gYCAgPGlkPiR7aWR9PC9pZD5cbmA7XG4gIH1cbiAgY29uc3QgY2xhc3NlcyA9IEFycmF5LmZyb20oZWxlbWVudC5jbGFzc0xpc3QpLmpvaW4oXCIsIFwiKTtcbiAgaWYgKGNsYXNzZXMpIHtcbiAgICBjb250ZXh0ICs9IGAgIDxjbGFzc2VzPiR7Y2xhc3Nlc308L2NsYXNzZXM+XG5gO1xuICB9XG4gIGNvbnN0IGF0dHJpYnV0ZXMgPSBnZXRFbGVtZW50QXR0cmlidXRlcyhlbGVtZW50KTtcbiAgaWYgKE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmxlbmd0aCA+IDApIHtcbiAgICBjb250ZXh0ICs9IGAgIDxhdHRyaWJ1dGVzPlxuYDtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKSkge1xuICAgICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpICE9PSBcImNsYXNzXCIgfHwgIWNsYXNzZXMpIHtcbiAgICAgICAgY29udGV4dCArPSBgICAgIDwke2tleX0+JHt2YWx1ZX08LyR7a2V5fT5cbmA7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnRleHQgKz0gYCAgPC9hdHRyaWJ1dGVzPlxuYDtcbiAgfVxuICBjb25zdCB0ZXh0ID0gKF9hID0gZWxlbWVudC5pbm5lclRleHQpID09IG51bGwgPyB2b2lkIDAgOiBfYS50cmltKCk7XG4gIGlmICh0ZXh0KSB7XG4gICAgY29uc3QgbWF4TGVuZ3RoID0gMTAwO1xuICAgIGNvbnRleHQgKz0gYCAgPHRleHQ+JHt0ZXh0Lmxlbmd0aCA+IG1heExlbmd0aCA/IGAke3RleHQuc3Vic3RyaW5nKDAsIG1heExlbmd0aCl9Li4uYCA6IHRleHR9PC90ZXh0PlxuYDtcbiAgfVxuICBjb250ZXh0ICs9IGAgIDxzdHJ1Y3R1cmFsX2NvbnRleHQ+XG5gO1xuICBpZiAoZWxlbWVudC5wYXJlbnRFbGVtZW50KSB7XG4gICAgY29uc3QgcGFyZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnRleHQgKz0gYCAgICA8cGFyZW50PlxuYDtcbiAgICBjb250ZXh0ICs9IGAgICAgICA8dGFnPiR7cGFyZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKX08L3RhZz5cbmA7XG4gICAgaWYgKHBhcmVudC5pZCkge1xuICAgICAgY29udGV4dCArPSBgICAgICAgPGlkPiR7cGFyZW50LmlkfTwvaWQ+XG5gO1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnRDbGFzc2VzID0gQXJyYXkuZnJvbShwYXJlbnQuY2xhc3NMaXN0KS5qb2luKFwiLCBcIik7XG4gICAgaWYgKHBhcmVudENsYXNzZXMpIHtcbiAgICAgIGNvbnRleHQgKz0gYCAgICAgIDxjbGFzc2VzPiR7cGFyZW50Q2xhc3Nlc308L2NsYXNzZXM+XG5gO1xuICAgIH1cbiAgICBjb250ZXh0ICs9IGAgICAgPC9wYXJlbnQ+XG5gO1xuICB9IGVsc2Uge1xuICAgIGNvbnRleHQgKz0gYCAgICA8cGFyZW50Pk5vIHBhcmVudCBlbGVtZW50IGZvdW5kIChsaWtlbHkgcm9vdCBvciBkaXNjb25uZWN0ZWQpPC9wYXJlbnQ+XG5gO1xuICB9XG4gIGNvbnRleHQgKz0gYCAgPC9zdHJ1Y3R1cmFsX2NvbnRleHQ+XG5gO1xuICB0cnkge1xuICAgIGNvbnN0IHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIGNvbnN0IHJlbGV2YW50U3R5bGVzID0ge1xuICAgICAgY29sb3I6IHN0eWxlcy5jb2xvcixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogc3R5bGVzLmJhY2tncm91bmRDb2xvcixcbiAgICAgIGZvbnRTaXplOiBzdHlsZXMuZm9udFNpemUsXG4gICAgICBmb250V2VpZ2h0OiBzdHlsZXMuZm9udFdlaWdodCxcbiAgICAgIGRpc3BsYXk6IHN0eWxlcy5kaXNwbGF5XG4gICAgfTtcbiAgICBjb250ZXh0ICs9IGAgIDxzdHlsZXM+XG5gO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHJlbGV2YW50U3R5bGVzKSkge1xuICAgICAgY29udGV4dCArPSBgICAgIDwke2tleX0+JHt2YWx1ZX08LyR7a2V5fT5cbmA7XG4gICAgfVxuICAgIGNvbnRleHQgKz0gYCAgPC9zdHlsZXM+XG5gO1xuICB9IGNhdGNoIChlMikge1xuICAgIGNvbnRleHQgKz0gYCAgPHN0eWxlcz5Db3VsZCBub3QgcmV0cmlldmUgY29tcHV0ZWQgc3R5bGVzPC9zdHlsZXM+XG5gO1xuICB9XG4gIGNvbnRleHQgKz0gYDwvZWxlbWVudD5cbmA7XG4gIHJldHVybiBjb250ZXh0O1xufVxuZnVuY3Rpb24gY3JlYXRlUHJvbXB0KHNlbGVjdGVkRWxlbWVudHMsIHVzZXJQcm9tcHQsIHVybCkge1xuICBpZiAoIXNlbGVjdGVkRWxlbWVudHMgfHwgc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gYFxuICAgIDxyZXF1ZXN0PlxuICAgICAgPHVzZXJfZ29hbD4ke3VzZXJQcm9tcHR9PC91c2VyX2dvYWw+XG4gICAgICA8dXJsPiR7dXJsfTwvdXJsPlxuICA8Y29udGV4dD5ObyBzcGVjaWZpYyBlbGVtZW50IHdhcyBzZWxlY3RlZCBvbiB0aGUgcGFnZS4gUGxlYXNlIGFuYWx5emUgdGhlIHBhZ2UgY29kZSBpbiBnZW5lcmFsIG9yIGFzayBmb3IgY2xhcmlmaWNhdGlvbi48L2NvbnRleHQ+XG48L3JlcXVlc3Q+YC50cmltKCk7XG4gIH1cbiAgbGV0IGRldGFpbGVkQ29udGV4dCA9IFwiXCI7XG4gIHNlbGVjdGVkRWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgyKSA9PiB7XG4gICAgZGV0YWlsZWRDb250ZXh0ICs9IGdlbmVyYXRlRWxlbWVudENvbnRleHQoZWxlbWVudCwgaW5kZXgyKTtcbiAgfSk7XG4gIHJldHVybiBgXG48cmVxdWVzdD5cbiAgPHVzZXJfZ29hbD4ke3VzZXJQcm9tcHR9PC91c2VyX2dvYWw+XG4gIDx1cmw+JHt1cmx9PC91cmw+XG4gIDxzZWxlY3RlZF9lbGVtZW50cz5cbiAgICAke2RldGFpbGVkQ29udGV4dC50cmltKCl9XG4gIDwvc2VsZWN0ZWRfZWxlbWVudHM+XG48L3JlcXVlc3Q+YC50cmltKCk7XG59XG5jb25zdCBEcm9wQXJlYVpvbmUgPSB7XG4gIEJPVFRPTV9DRU5URVI6IDRcbn07XG5jb25zdCBjcmVhdGVTdG9yZUltcGwgPSAoY3JlYXRlU3RhdGUpID0+IHtcbiAgbGV0IHN0YXRlO1xuICBjb25zdCBsaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBjb25zdCBzZXRTdGF0ZSA9IChwYXJ0aWFsLCByZXBsYWNlKSA9PiB7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gdHlwZW9mIHBhcnRpYWwgPT09IFwiZnVuY3Rpb25cIiA/IHBhcnRpYWwoc3RhdGUpIDogcGFydGlhbDtcbiAgICBpZiAoIU9iamVjdC5pcyhuZXh0U3RhdGUsIHN0YXRlKSkge1xuICAgICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHN0YXRlO1xuICAgICAgc3RhdGUgPSAocmVwbGFjZSAhPSBudWxsID8gcmVwbGFjZSA6IHR5cGVvZiBuZXh0U3RhdGUgIT09IFwib2JqZWN0XCIgfHwgbmV4dFN0YXRlID09PSBudWxsKSA/IG5leHRTdGF0ZSA6IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBuZXh0U3RhdGUpO1xuICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihzdGF0ZSwgcHJldmlvdXNTdGF0ZSkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0U3RhdGUgPSAoKSA9PiBzdGF0ZTtcbiAgY29uc3QgZ2V0SW5pdGlhbFN0YXRlID0gKCkgPT4gaW5pdGlhbFN0YXRlO1xuICBjb25zdCBzdWJzY3JpYmUgPSAobGlzdGVuZXIpID0+IHtcbiAgICBsaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gKCkgPT4gbGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gIH07XG4gIGNvbnN0IGFwaSA9IHsgc2V0U3RhdGUsIGdldFN0YXRlLCBnZXRJbml0aWFsU3RhdGUsIHN1YnNjcmliZSB9O1xuICBjb25zdCBpbml0aWFsU3RhdGUgPSBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHNldFN0YXRlLCBnZXRTdGF0ZSwgYXBpKTtcbiAgcmV0dXJuIGFwaTtcbn07XG5jb25zdCBjcmVhdGVTdG9yZSA9IChjcmVhdGVTdGF0ZSkgPT4gY3JlYXRlU3RhdGUgPyBjcmVhdGVTdG9yZUltcGwoY3JlYXRlU3RhdGUpIDogY3JlYXRlU3RvcmVJbXBsO1xuY29uc3QgaWRlbnRpdHkgPSAoYXJnKSA9PiBhcmc7XG5mdW5jdGlvbiB1c2VTdG9yZShhcGksIHNlbGVjdG9yID0gaWRlbnRpdHkpIHtcbiAgY29uc3Qgc2xpY2UgPSBSbi51c2VTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICBhcGkuc3Vic2NyaWJlLFxuICAgICgpID0+IHNlbGVjdG9yKGFwaS5nZXRTdGF0ZSgpKSxcbiAgICAoKSA9PiBzZWxlY3RvcihhcGkuZ2V0SW5pdGlhbFN0YXRlKCkpXG4gICk7XG4gIFJuLnVzZURlYnVnVmFsdWUoc2xpY2UpO1xuICByZXR1cm4gc2xpY2U7XG59XG5jb25zdCBjcmVhdGVJbXBsID0gKGNyZWF0ZVN0YXRlKSA9PiB7XG4gIGNvbnN0IGFwaSA9IGNyZWF0ZVN0b3JlKGNyZWF0ZVN0YXRlKTtcbiAgY29uc3QgdXNlQm91bmRTdG9yZSA9IChzZWxlY3RvcikgPT4gdXNlU3RvcmUoYXBpLCBzZWxlY3Rvcik7XG4gIE9iamVjdC5hc3NpZ24odXNlQm91bmRTdG9yZSwgYXBpKTtcbiAgcmV0dXJuIHVzZUJvdW5kU3RvcmU7XG59O1xuY29uc3QgY3JlYXRlID0gKGNyZWF0ZVN0YXRlKSA9PiBjcmVhdGVTdGF0ZSA/IGNyZWF0ZUltcGwoY3JlYXRlU3RhdGUpIDogY3JlYXRlSW1wbDtcbmNsYXNzIERvdWJsZUluZGV4ZWRLViB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMua2V5VG9WYWx1ZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy52YWx1ZVRvS2V5ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgfVxuICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgIHRoaXMua2V5VG9WYWx1ZS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgdGhpcy52YWx1ZVRvS2V5LnNldCh2YWx1ZSwga2V5KTtcbiAgfVxuICBnZXRCeUtleShrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5rZXlUb1ZhbHVlLmdldChrZXkpO1xuICB9XG4gIGdldEJ5VmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZVRvS2V5LmdldCh2YWx1ZSk7XG4gIH1cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5rZXlUb1ZhbHVlLmNsZWFyKCk7XG4gICAgdGhpcy52YWx1ZVRvS2V5LmNsZWFyKCk7XG4gIH1cbn1cbmNsYXNzIFJlZ2lzdHJ5IHtcbiAgY29uc3RydWN0b3IoZ2VuZXJhdGVJZGVudGlmaWVyKSB7XG4gICAgdGhpcy5nZW5lcmF0ZUlkZW50aWZpZXIgPSBnZW5lcmF0ZUlkZW50aWZpZXI7XG4gICAgdGhpcy5rdiA9IG5ldyBEb3VibGVJbmRleGVkS1YoKTtcbiAgfVxuICByZWdpc3Rlcih2YWx1ZSwgaWRlbnRpZmllcikge1xuICAgIGlmICh0aGlzLmt2LmdldEJ5VmFsdWUodmFsdWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaWRlbnRpZmllcikge1xuICAgICAgaWRlbnRpZmllciA9IHRoaXMuZ2VuZXJhdGVJZGVudGlmaWVyKHZhbHVlKTtcbiAgICB9XG4gICAgdGhpcy5rdi5zZXQoaWRlbnRpZmllciwgdmFsdWUpO1xuICB9XG4gIGNsZWFyKCkge1xuICAgIHRoaXMua3YuY2xlYXIoKTtcbiAgfVxuICBnZXRJZGVudGlmaWVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMua3YuZ2V0QnlWYWx1ZSh2YWx1ZSk7XG4gIH1cbiAgZ2V0VmFsdWUoaWRlbnRpZmllcikge1xuICAgIHJldHVybiB0aGlzLmt2LmdldEJ5S2V5KGlkZW50aWZpZXIpO1xuICB9XG59XG5jbGFzcyBDbGFzc1JlZ2lzdHJ5IGV4dGVuZHMgUmVnaXN0cnkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigoYzIpID0+IGMyLm5hbWUpO1xuICAgIHRoaXMuY2xhc3NUb0FsbG93ZWRQcm9wcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIH1cbiAgcmVnaXN0ZXIodmFsdWUsIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGlmIChvcHRpb25zLmFsbG93UHJvcHMpIHtcbiAgICAgICAgdGhpcy5jbGFzc1RvQWxsb3dlZFByb3BzLnNldCh2YWx1ZSwgb3B0aW9ucy5hbGxvd1Byb3BzKTtcbiAgICAgIH1cbiAgICAgIHN1cGVyLnJlZ2lzdGVyKHZhbHVlLCBvcHRpb25zLmlkZW50aWZpZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdXBlci5yZWdpc3Rlcih2YWx1ZSwgb3B0aW9ucyk7XG4gICAgfVxuICB9XG4gIGdldEFsbG93ZWRQcm9wcyh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmNsYXNzVG9BbGxvd2VkUHJvcHMuZ2V0KHZhbHVlKTtcbiAgfVxufVxuZnVuY3Rpb24gdmFsdWVzT2ZPYmoocmVjb3JkKSB7XG4gIGlmIChcInZhbHVlc1wiIGluIE9iamVjdCkge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHJlY29yZCk7XG4gIH1cbiAgY29uc3QgdmFsdWVzID0gW107XG4gIGZvciAoY29uc3Qga2V5IGluIHJlY29yZCkge1xuICAgIGlmIChyZWNvcmQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgdmFsdWVzLnB1c2gocmVjb3JkW2tleV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWVzO1xufVxuZnVuY3Rpb24gZmluZChyZWNvcmQsIHByZWRpY2F0ZSkge1xuICBjb25zdCB2YWx1ZXMgPSB2YWx1ZXNPZk9iaihyZWNvcmQpO1xuICBpZiAoXCJmaW5kXCIgaW4gdmFsdWVzKSB7XG4gICAgcmV0dXJuIHZhbHVlcy5maW5kKHByZWRpY2F0ZSk7XG4gIH1cbiAgY29uc3QgdmFsdWVzTm90TmV2ZXIgPSB2YWx1ZXM7XG4gIGZvciAobGV0IGkyID0gMDsgaTIgPCB2YWx1ZXNOb3ROZXZlci5sZW5ndGg7IGkyKyspIHtcbiAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc05vdE5ldmVyW2kyXTtcbiAgICBpZiAocHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuZnVuY3Rpb24gZm9yRWFjaChyZWNvcmQsIHJ1bikge1xuICBPYmplY3QuZW50cmllcyhyZWNvcmQpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4gcnVuKHZhbHVlLCBrZXkpKTtcbn1cbmZ1bmN0aW9uIGluY2x1ZGVzKGFyciwgdmFsdWUpIHtcbiAgcmV0dXJuIGFyci5pbmRleE9mKHZhbHVlKSAhPT0gLTE7XG59XG5mdW5jdGlvbiBmaW5kQXJyKHJlY29yZCwgcHJlZGljYXRlKSB7XG4gIGZvciAobGV0IGkyID0gMDsgaTIgPCByZWNvcmQubGVuZ3RoOyBpMisrKSB7XG4gICAgY29uc3QgdmFsdWUgPSByZWNvcmRbaTJdO1xuICAgIGlmIChwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5jbGFzcyBDdXN0b21UcmFuc2Zvcm1lclJlZ2lzdHJ5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy50cmFuc2ZvbWVycyA9IHt9O1xuICB9XG4gIHJlZ2lzdGVyKHRyYW5zZm9ybWVyKSB7XG4gICAgdGhpcy50cmFuc2ZvbWVyc1t0cmFuc2Zvcm1lci5uYW1lXSA9IHRyYW5zZm9ybWVyO1xuICB9XG4gIGZpbmRBcHBsaWNhYmxlKHYyKSB7XG4gICAgcmV0dXJuIGZpbmQodGhpcy50cmFuc2ZvbWVycywgKHRyYW5zZm9ybWVyKSA9PiB0cmFuc2Zvcm1lci5pc0FwcGxpY2FibGUodjIpKTtcbiAgfVxuICBmaW5kQnlOYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2ZvbWVyc1tuYW1lXTtcbiAgfVxufVxuY29uc3QgZ2V0VHlwZSQxID0gKHBheWxvYWQpID0+IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwYXlsb2FkKS5zbGljZSg4LCAtMSk7XG5jb25zdCBpc1VuZGVmaW5lZCA9IChwYXlsb2FkKSA9PiB0eXBlb2YgcGF5bG9hZCA9PT0gXCJ1bmRlZmluZWRcIjtcbmNvbnN0IGlzTnVsbCA9IChwYXlsb2FkKSA9PiBwYXlsb2FkID09PSBudWxsO1xuY29uc3QgaXNQbGFpbk9iamVjdCQxID0gKHBheWxvYWQpID0+IHtcbiAgaWYgKHR5cGVvZiBwYXlsb2FkICE9PSBcIm9iamVjdFwiIHx8IHBheWxvYWQgPT09IG51bGwpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAocGF5bG9hZCA9PT0gT2JqZWN0LnByb3RvdHlwZSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YocGF5bG9hZCkgPT09IG51bGwpXG4gICAgcmV0dXJuIHRydWU7XG4gIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YocGF5bG9hZCkgPT09IE9iamVjdC5wcm90b3R5cGU7XG59O1xuY29uc3QgaXNFbXB0eU9iamVjdCA9IChwYXlsb2FkKSA9PiBpc1BsYWluT2JqZWN0JDEocGF5bG9hZCkgJiYgT2JqZWN0LmtleXMocGF5bG9hZCkubGVuZ3RoID09PSAwO1xuY29uc3QgaXNBcnJheSQxID0gKHBheWxvYWQpID0+IEFycmF5LmlzQXJyYXkocGF5bG9hZCk7XG5jb25zdCBpc1N0cmluZyQxID0gKHBheWxvYWQpID0+IHR5cGVvZiBwYXlsb2FkID09PSBcInN0cmluZ1wiO1xuY29uc3QgaXNOdW1iZXIkMSA9IChwYXlsb2FkKSA9PiB0eXBlb2YgcGF5bG9hZCA9PT0gXCJudW1iZXJcIiAmJiAhaXNOYU4ocGF5bG9hZCk7XG5jb25zdCBpc0Jvb2xlYW4gPSAocGF5bG9hZCkgPT4gdHlwZW9mIHBheWxvYWQgPT09IFwiYm9vbGVhblwiO1xuY29uc3QgaXNSZWdFeHAgPSAocGF5bG9hZCkgPT4gcGF5bG9hZCBpbnN0YW5jZW9mIFJlZ0V4cDtcbmNvbnN0IGlzTWFwID0gKHBheWxvYWQpID0+IHBheWxvYWQgaW5zdGFuY2VvZiBNYXA7XG5jb25zdCBpc1NldCA9IChwYXlsb2FkKSA9PiBwYXlsb2FkIGluc3RhbmNlb2YgU2V0O1xuY29uc3QgaXNTeW1ib2wgPSAocGF5bG9hZCkgPT4gZ2V0VHlwZSQxKHBheWxvYWQpID09PSBcIlN5bWJvbFwiO1xuY29uc3QgaXNEYXRlID0gKHBheWxvYWQpID0+IHBheWxvYWQgaW5zdGFuY2VvZiBEYXRlICYmICFpc05hTihwYXlsb2FkLnZhbHVlT2YoKSk7XG5jb25zdCBpc0Vycm9yID0gKHBheWxvYWQpID0+IHBheWxvYWQgaW5zdGFuY2VvZiBFcnJvcjtcbmNvbnN0IGlzTmFOVmFsdWUgPSAocGF5bG9hZCkgPT4gdHlwZW9mIHBheWxvYWQgPT09IFwibnVtYmVyXCIgJiYgaXNOYU4ocGF5bG9hZCk7XG5jb25zdCBpc1ByaW1pdGl2ZSA9IChwYXlsb2FkKSA9PiBpc0Jvb2xlYW4ocGF5bG9hZCkgfHwgaXNOdWxsKHBheWxvYWQpIHx8IGlzVW5kZWZpbmVkKHBheWxvYWQpIHx8IGlzTnVtYmVyJDEocGF5bG9hZCkgfHwgaXNTdHJpbmckMShwYXlsb2FkKSB8fCBpc1N5bWJvbChwYXlsb2FkKTtcbmNvbnN0IGlzQmlnaW50ID0gKHBheWxvYWQpID0+IHR5cGVvZiBwYXlsb2FkID09PSBcImJpZ2ludFwiO1xuY29uc3QgaXNJbmZpbml0ZSA9IChwYXlsb2FkKSA9PiBwYXlsb2FkID09PSBJbmZpbml0eSB8fCBwYXlsb2FkID09PSAtSW5maW5pdHk7XG5jb25zdCBpc1R5cGVkQXJyYXkgPSAocGF5bG9hZCkgPT4gQXJyYXlCdWZmZXIuaXNWaWV3KHBheWxvYWQpICYmICEocGF5bG9hZCBpbnN0YW5jZW9mIERhdGFWaWV3KTtcbmNvbnN0IGlzVVJMID0gKHBheWxvYWQpID0+IHBheWxvYWQgaW5zdGFuY2VvZiBVUkw7XG5jb25zdCBlc2NhcGVLZXkgPSAoa2V5KSA9PiBrZXkucmVwbGFjZSgvXFwuL2csIFwiXFxcXC5cIik7XG5jb25zdCBzdHJpbmdpZnlQYXRoID0gKHBhdGgpID0+IHBhdGgubWFwKFN0cmluZykubWFwKGVzY2FwZUtleSkuam9pbihcIi5cIik7XG5jb25zdCBwYXJzZVBhdGggPSAoc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBsZXQgc2VnbWVudCA9IFwiXCI7XG4gIGZvciAobGV0IGkyID0gMDsgaTIgPCBzdHJpbmcubGVuZ3RoOyBpMisrKSB7XG4gICAgbGV0IGNoYXIgPSBzdHJpbmcuY2hhckF0KGkyKTtcbiAgICBjb25zdCBpc0VzY2FwZWREb3QgPSBjaGFyID09PSBcIlxcXFxcIiAmJiBzdHJpbmcuY2hhckF0KGkyICsgMSkgPT09IFwiLlwiO1xuICAgIGlmIChpc0VzY2FwZWREb3QpIHtcbiAgICAgIHNlZ21lbnQgKz0gXCIuXCI7XG4gICAgICBpMisrO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IGlzRW5kT2ZTZWdtZW50ID0gY2hhciA9PT0gXCIuXCI7XG4gICAgaWYgKGlzRW5kT2ZTZWdtZW50KSB7XG4gICAgICByZXN1bHQucHVzaChzZWdtZW50KTtcbiAgICAgIHNlZ21lbnQgPSBcIlwiO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHNlZ21lbnQgKz0gY2hhcjtcbiAgfVxuICBjb25zdCBsYXN0U2VnbWVudCA9IHNlZ21lbnQ7XG4gIHJlc3VsdC5wdXNoKGxhc3RTZWdtZW50KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5mdW5jdGlvbiBzaW1wbGVUcmFuc2Zvcm1hdGlvbihpc0FwcGxpY2FibGUsIGFubm90YXRpb24sIHRyYW5zZm9ybSwgdW50cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIHtcbiAgICBpc0FwcGxpY2FibGUsXG4gICAgYW5ub3RhdGlvbixcbiAgICB0cmFuc2Zvcm0sXG4gICAgdW50cmFuc2Zvcm1cbiAgfTtcbn1cbmNvbnN0IHNpbXBsZVJ1bGVzID0gW1xuICBzaW1wbGVUcmFuc2Zvcm1hdGlvbihpc1VuZGVmaW5lZCwgXCJ1bmRlZmluZWRcIiwgKCkgPT4gbnVsbCwgKCkgPT4gdm9pZCAwKSxcbiAgc2ltcGxlVHJhbnNmb3JtYXRpb24oaXNCaWdpbnQsIFwiYmlnaW50XCIsICh2MikgPT4gdjIudG9TdHJpbmcoKSwgKHYyKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBCaWdJbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiBCaWdJbnQodjIpO1xuICAgIH1cbiAgICBjb25zb2xlLmVycm9yKFwiUGxlYXNlIGFkZCBhIEJpZ0ludCBwb2x5ZmlsbC5cIik7XG4gICAgcmV0dXJuIHYyO1xuICB9KSxcbiAgc2ltcGxlVHJhbnNmb3JtYXRpb24oaXNEYXRlLCBcIkRhdGVcIiwgKHYyKSA9PiB2Mi50b0lTT1N0cmluZygpLCAodjIpID0+IG5ldyBEYXRlKHYyKSksXG4gIHNpbXBsZVRyYW5zZm9ybWF0aW9uKGlzRXJyb3IsIFwiRXJyb3JcIiwgKHYyLCBzdXBlckpzb24pID0+IHtcbiAgICBjb25zdCBiYXNlRXJyb3IgPSB7XG4gICAgICBuYW1lOiB2Mi5uYW1lLFxuICAgICAgbWVzc2FnZTogdjIubWVzc2FnZVxuICAgIH07XG4gICAgc3VwZXJKc29uLmFsbG93ZWRFcnJvclByb3BzLmZvckVhY2goKHByb3ApID0+IHtcbiAgICAgIGJhc2VFcnJvcltwcm9wXSA9IHYyW3Byb3BdO1xuICAgIH0pO1xuICAgIHJldHVybiBiYXNlRXJyb3I7XG4gIH0sICh2Miwgc3VwZXJKc29uKSA9PiB7XG4gICAgY29uc3QgZTIgPSBuZXcgRXJyb3IodjIubWVzc2FnZSk7XG4gICAgZTIubmFtZSA9IHYyLm5hbWU7XG4gICAgZTIuc3RhY2sgPSB2Mi5zdGFjaztcbiAgICBzdXBlckpzb24uYWxsb3dlZEVycm9yUHJvcHMuZm9yRWFjaCgocHJvcCkgPT4ge1xuICAgICAgZTJbcHJvcF0gPSB2Mltwcm9wXTtcbiAgICB9KTtcbiAgICByZXR1cm4gZTI7XG4gIH0pLFxuICBzaW1wbGVUcmFuc2Zvcm1hdGlvbihpc1JlZ0V4cCwgXCJyZWdleHBcIiwgKHYyKSA9PiBcIlwiICsgdjIsIChyZWdleCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSByZWdleC5zbGljZSgxLCByZWdleC5sYXN0SW5kZXhPZihcIi9cIikpO1xuICAgIGNvbnN0IGZsYWdzID0gcmVnZXguc2xpY2UocmVnZXgubGFzdEluZGV4T2YoXCIvXCIpICsgMSk7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYm9keSwgZmxhZ3MpO1xuICB9KSxcbiAgc2ltcGxlVHJhbnNmb3JtYXRpb24oXG4gICAgaXNTZXQsXG4gICAgXCJzZXRcIixcbiAgICAvLyAoc2V0cyBvbmx5IGV4aXN0IGluIGVzNispXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzNS9uby1lczYtbWV0aG9kc1xuICAgICh2MikgPT4gWy4uLnYyLnZhbHVlcygpXSxcbiAgICAodjIpID0+IG5ldyBTZXQodjIpXG4gICksXG4gIHNpbXBsZVRyYW5zZm9ybWF0aW9uKGlzTWFwLCBcIm1hcFwiLCAodjIpID0+IFsuLi52Mi5lbnRyaWVzKCldLCAodjIpID0+IG5ldyBNYXAodjIpKSxcbiAgc2ltcGxlVHJhbnNmb3JtYXRpb24oKHYyKSA9PiBpc05hTlZhbHVlKHYyKSB8fCBpc0luZmluaXRlKHYyKSwgXCJudW1iZXJcIiwgKHYyKSA9PiB7XG4gICAgaWYgKGlzTmFOVmFsdWUodjIpKSB7XG4gICAgICByZXR1cm4gXCJOYU5cIjtcbiAgICB9XG4gICAgaWYgKHYyID4gMCkge1xuICAgICAgcmV0dXJuIFwiSW5maW5pdHlcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiLUluZmluaXR5XCI7XG4gICAgfVxuICB9LCBOdW1iZXIpLFxuICBzaW1wbGVUcmFuc2Zvcm1hdGlvbigodjIpID0+IHYyID09PSAwICYmIDEgLyB2MiA9PT0gLUluZmluaXR5LCBcIm51bWJlclwiLCAoKSA9PiB7XG4gICAgcmV0dXJuIFwiLTBcIjtcbiAgfSwgTnVtYmVyKSxcbiAgc2ltcGxlVHJhbnNmb3JtYXRpb24oaXNVUkwsIFwiVVJMXCIsICh2MikgPT4gdjIudG9TdHJpbmcoKSwgKHYyKSA9PiBuZXcgVVJMKHYyKSlcbl07XG5mdW5jdGlvbiBjb21wb3NpdGVUcmFuc2Zvcm1hdGlvbihpc0FwcGxpY2FibGUsIGFubm90YXRpb24sIHRyYW5zZm9ybSwgdW50cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIHtcbiAgICBpc0FwcGxpY2FibGUsXG4gICAgYW5ub3RhdGlvbixcbiAgICB0cmFuc2Zvcm0sXG4gICAgdW50cmFuc2Zvcm1cbiAgfTtcbn1cbmNvbnN0IHN5bWJvbFJ1bGUgPSBjb21wb3NpdGVUcmFuc2Zvcm1hdGlvbigoczIsIHN1cGVySnNvbikgPT4ge1xuICBpZiAoaXNTeW1ib2woczIpKSB7XG4gICAgY29uc3QgaXNSZWdpc3RlcmVkID0gISFzdXBlckpzb24uc3ltYm9sUmVnaXN0cnkuZ2V0SWRlbnRpZmllcihzMik7XG4gICAgcmV0dXJuIGlzUmVnaXN0ZXJlZDtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59LCAoczIsIHN1cGVySnNvbikgPT4ge1xuICBjb25zdCBpZGVudGlmaWVyID0gc3VwZXJKc29uLnN5bWJvbFJlZ2lzdHJ5LmdldElkZW50aWZpZXIoczIpO1xuICByZXR1cm4gW1wic3ltYm9sXCIsIGlkZW50aWZpZXJdO1xufSwgKHYyKSA9PiB2Mi5kZXNjcmlwdGlvbiwgKF8yLCBhMywgc3VwZXJKc29uKSA9PiB7XG4gIGNvbnN0IHZhbHVlID0gc3VwZXJKc29uLnN5bWJvbFJlZ2lzdHJ5LmdldFZhbHVlKGEzWzFdKTtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBkZXNlcmlhbGl6ZSB1bmtub3duIHN5bWJvbFwiKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59KTtcbmNvbnN0IGNvbnN0cnVjdG9yVG9OYW1lID0gW1xuICBJbnQ4QXJyYXksXG4gIFVpbnQ4QXJyYXksXG4gIEludDE2QXJyYXksXG4gIFVpbnQxNkFycmF5LFxuICBJbnQzMkFycmF5LFxuICBVaW50MzJBcnJheSxcbiAgRmxvYXQzMkFycmF5LFxuICBGbG9hdDY0QXJyYXksXG4gIFVpbnQ4Q2xhbXBlZEFycmF5XG5dLnJlZHVjZSgob2JqLCBjdG9yKSA9PiB7XG4gIG9ialtjdG9yLm5hbWVdID0gY3RvcjtcbiAgcmV0dXJuIG9iajtcbn0sIHt9KTtcbmNvbnN0IHR5cGVkQXJyYXlSdWxlID0gY29tcG9zaXRlVHJhbnNmb3JtYXRpb24oaXNUeXBlZEFycmF5LCAodjIpID0+IFtcInR5cGVkLWFycmF5XCIsIHYyLmNvbnN0cnVjdG9yLm5hbWVdLCAodjIpID0+IFsuLi52Ml0sICh2MiwgYTMpID0+IHtcbiAgY29uc3QgY3RvciA9IGNvbnN0cnVjdG9yVG9OYW1lW2EzWzFdXTtcbiAgaWYgKCFjdG9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIGRlc2VyaWFsaXplIHVua25vd24gdHlwZWQgYXJyYXlcIik7XG4gIH1cbiAgcmV0dXJuIG5ldyBjdG9yKHYyKTtcbn0pO1xuZnVuY3Rpb24gaXNJbnN0YW5jZU9mUmVnaXN0ZXJlZENsYXNzKHBvdGVudGlhbENsYXNzLCBzdXBlckpzb24pIHtcbiAgaWYgKHBvdGVudGlhbENsYXNzID09IG51bGwgPyB2b2lkIDAgOiBwb3RlbnRpYWxDbGFzcy5jb25zdHJ1Y3Rvcikge1xuICAgIGNvbnN0IGlzUmVnaXN0ZXJlZCA9ICEhc3VwZXJKc29uLmNsYXNzUmVnaXN0cnkuZ2V0SWRlbnRpZmllcihwb3RlbnRpYWxDbGFzcy5jb25zdHJ1Y3Rvcik7XG4gICAgcmV0dXJuIGlzUmVnaXN0ZXJlZDtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5jb25zdCBjbGFzc1J1bGUgPSBjb21wb3NpdGVUcmFuc2Zvcm1hdGlvbihpc0luc3RhbmNlT2ZSZWdpc3RlcmVkQ2xhc3MsIChjbGF6eiwgc3VwZXJKc29uKSA9PiB7XG4gIGNvbnN0IGlkZW50aWZpZXIgPSBzdXBlckpzb24uY2xhc3NSZWdpc3RyeS5nZXRJZGVudGlmaWVyKGNsYXp6LmNvbnN0cnVjdG9yKTtcbiAgcmV0dXJuIFtcImNsYXNzXCIsIGlkZW50aWZpZXJdO1xufSwgKGNsYXp6LCBzdXBlckpzb24pID0+IHtcbiAgY29uc3QgYWxsb3dlZFByb3BzID0gc3VwZXJKc29uLmNsYXNzUmVnaXN0cnkuZ2V0QWxsb3dlZFByb3BzKGNsYXp6LmNvbnN0cnVjdG9yKTtcbiAgaWYgKCFhbGxvd2VkUHJvcHMpIHtcbiAgICByZXR1cm4geyAuLi5jbGF6eiB9O1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBhbGxvd2VkUHJvcHMuZm9yRWFjaCgocHJvcCkgPT4ge1xuICAgIHJlc3VsdFtwcm9wXSA9IGNsYXp6W3Byb3BdO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn0sICh2MiwgYTMsIHN1cGVySnNvbikgPT4ge1xuICBjb25zdCBjbGF6eiA9IHN1cGVySnNvbi5jbGFzc1JlZ2lzdHJ5LmdldFZhbHVlKGEzWzFdKTtcbiAgaWYgKCFjbGF6eikge1xuICAgIHRocm93IG5ldyBFcnJvcihgVHJ5aW5nIHRvIGRlc2VyaWFsaXplIHVua25vd24gY2xhc3MgJyR7YTNbMV19JyAtIGNoZWNrIGh0dHBzOi8vZ2l0aHViLmNvbS9ibGl0ei1qcy9zdXBlcmpzb24vaXNzdWVzLzExNiNpc3N1ZWNvbW1lbnQtNzczOTk2NTY0YCk7XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShjbGF6ei5wcm90b3R5cGUpLCB2Mik7XG59KTtcbmNvbnN0IGN1c3RvbVJ1bGUgPSBjb21wb3NpdGVUcmFuc2Zvcm1hdGlvbigodmFsdWUsIHN1cGVySnNvbikgPT4ge1xuICByZXR1cm4gISFzdXBlckpzb24uY3VzdG9tVHJhbnNmb3JtZXJSZWdpc3RyeS5maW5kQXBwbGljYWJsZSh2YWx1ZSk7XG59LCAodmFsdWUsIHN1cGVySnNvbikgPT4ge1xuICBjb25zdCB0cmFuc2Zvcm1lciA9IHN1cGVySnNvbi5jdXN0b21UcmFuc2Zvcm1lclJlZ2lzdHJ5LmZpbmRBcHBsaWNhYmxlKHZhbHVlKTtcbiAgcmV0dXJuIFtcImN1c3RvbVwiLCB0cmFuc2Zvcm1lci5uYW1lXTtcbn0sICh2YWx1ZSwgc3VwZXJKc29uKSA9PiB7XG4gIGNvbnN0IHRyYW5zZm9ybWVyID0gc3VwZXJKc29uLmN1c3RvbVRyYW5zZm9ybWVyUmVnaXN0cnkuZmluZEFwcGxpY2FibGUodmFsdWUpO1xuICByZXR1cm4gdHJhbnNmb3JtZXIuc2VyaWFsaXplKHZhbHVlKTtcbn0sICh2MiwgYTMsIHN1cGVySnNvbikgPT4ge1xuICBjb25zdCB0cmFuc2Zvcm1lciA9IHN1cGVySnNvbi5jdXN0b21UcmFuc2Zvcm1lclJlZ2lzdHJ5LmZpbmRCeU5hbWUoYTNbMV0pO1xuICBpZiAoIXRyYW5zZm9ybWVyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIGRlc2VyaWFsaXplIHVua25vd24gY3VzdG9tIHZhbHVlXCIpO1xuICB9XG4gIHJldHVybiB0cmFuc2Zvcm1lci5kZXNlcmlhbGl6ZSh2Mik7XG59KTtcbmNvbnN0IGNvbXBvc2l0ZVJ1bGVzID0gW2NsYXNzUnVsZSwgc3ltYm9sUnVsZSwgY3VzdG9tUnVsZSwgdHlwZWRBcnJheVJ1bGVdO1xuY29uc3QgdHJhbnNmb3JtVmFsdWUgPSAodmFsdWUsIHN1cGVySnNvbikgPT4ge1xuICBjb25zdCBhcHBsaWNhYmxlQ29tcG9zaXRlUnVsZSA9IGZpbmRBcnIoY29tcG9zaXRlUnVsZXMsIChydWxlKSA9PiBydWxlLmlzQXBwbGljYWJsZSh2YWx1ZSwgc3VwZXJKc29uKSk7XG4gIGlmIChhcHBsaWNhYmxlQ29tcG9zaXRlUnVsZSkge1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogYXBwbGljYWJsZUNvbXBvc2l0ZVJ1bGUudHJhbnNmb3JtKHZhbHVlLCBzdXBlckpzb24pLFxuICAgICAgdHlwZTogYXBwbGljYWJsZUNvbXBvc2l0ZVJ1bGUuYW5ub3RhdGlvbih2YWx1ZSwgc3VwZXJKc29uKVxuICAgIH07XG4gIH1cbiAgY29uc3QgYXBwbGljYWJsZVNpbXBsZVJ1bGUgPSBmaW5kQXJyKHNpbXBsZVJ1bGVzLCAocnVsZSkgPT4gcnVsZS5pc0FwcGxpY2FibGUodmFsdWUsIHN1cGVySnNvbikpO1xuICBpZiAoYXBwbGljYWJsZVNpbXBsZVJ1bGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IGFwcGxpY2FibGVTaW1wbGVSdWxlLnRyYW5zZm9ybSh2YWx1ZSwgc3VwZXJKc29uKSxcbiAgICAgIHR5cGU6IGFwcGxpY2FibGVTaW1wbGVSdWxlLmFubm90YXRpb25cbiAgICB9O1xuICB9XG4gIHJldHVybiB2b2lkIDA7XG59O1xuY29uc3Qgc2ltcGxlUnVsZXNCeUFubm90YXRpb24gPSB7fTtcbnNpbXBsZVJ1bGVzLmZvckVhY2goKHJ1bGUpID0+IHtcbiAgc2ltcGxlUnVsZXNCeUFubm90YXRpb25bcnVsZS5hbm5vdGF0aW9uXSA9IHJ1bGU7XG59KTtcbmNvbnN0IHVudHJhbnNmb3JtVmFsdWUgPSAoanNvbiwgdHlwZSwgc3VwZXJKc29uKSA9PiB7XG4gIGlmIChpc0FycmF5JDEodHlwZSkpIHtcbiAgICBzd2l0Y2ggKHR5cGVbMF0pIHtcbiAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgcmV0dXJuIHN5bWJvbFJ1bGUudW50cmFuc2Zvcm0oanNvbiwgdHlwZSwgc3VwZXJKc29uKTtcbiAgICAgIGNhc2UgXCJjbGFzc1wiOlxuICAgICAgICByZXR1cm4gY2xhc3NSdWxlLnVudHJhbnNmb3JtKGpzb24sIHR5cGUsIHN1cGVySnNvbik7XG4gICAgICBjYXNlIFwiY3VzdG9tXCI6XG4gICAgICAgIHJldHVybiBjdXN0b21SdWxlLnVudHJhbnNmb3JtKGpzb24sIHR5cGUsIHN1cGVySnNvbik7XG4gICAgICBjYXNlIFwidHlwZWQtYXJyYXlcIjpcbiAgICAgICAgcmV0dXJuIHR5cGVkQXJyYXlSdWxlLnVudHJhbnNmb3JtKGpzb24sIHR5cGUsIHN1cGVySnNvbik7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHRyYW5zZm9ybWF0aW9uOiBcIiArIHR5cGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0cmFuc2Zvcm1hdGlvbiA9IHNpbXBsZVJ1bGVzQnlBbm5vdGF0aW9uW3R5cGVdO1xuICAgIGlmICghdHJhbnNmb3JtYXRpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gdHJhbnNmb3JtYXRpb246IFwiICsgdHlwZSk7XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2Zvcm1hdGlvbi51bnRyYW5zZm9ybShqc29uLCBzdXBlckpzb24pO1xuICB9XG59O1xuY29uc3QgZ2V0TnRoS2V5ID0gKHZhbHVlLCBuMikgPT4ge1xuICBpZiAobjIgPiB2YWx1ZS5zaXplKVxuICAgIHRocm93IG5ldyBFcnJvcihcImluZGV4IG91dCBvZiBib3VuZHNcIik7XG4gIGNvbnN0IGtleXMgPSB2YWx1ZS5rZXlzKCk7XG4gIHdoaWxlIChuMiA+IDApIHtcbiAgICBrZXlzLm5leHQoKTtcbiAgICBuMi0tO1xuICB9XG4gIHJldHVybiBrZXlzLm5leHQoKS52YWx1ZTtcbn07XG5mdW5jdGlvbiB2YWxpZGF0ZVBhdGgocGF0aCkge1xuICBpZiAoaW5jbHVkZXMocGF0aCwgXCJfX3Byb3RvX19cIikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJfX3Byb3RvX18gaXMgbm90IGFsbG93ZWQgYXMgYSBwcm9wZXJ0eVwiKTtcbiAgfVxuICBpZiAoaW5jbHVkZXMocGF0aCwgXCJwcm90b3R5cGVcIikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJwcm90b3R5cGUgaXMgbm90IGFsbG93ZWQgYXMgYSBwcm9wZXJ0eVwiKTtcbiAgfVxuICBpZiAoaW5jbHVkZXMocGF0aCwgXCJjb25zdHJ1Y3RvclwiKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImNvbnN0cnVjdG9yIGlzIG5vdCBhbGxvd2VkIGFzIGEgcHJvcGVydHlcIik7XG4gIH1cbn1cbmNvbnN0IGdldERlZXAgPSAob2JqZWN0LCBwYXRoKSA9PiB7XG4gIHZhbGlkYXRlUGF0aChwYXRoKTtcbiAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IHBhdGgubGVuZ3RoOyBpMisrKSB7XG4gICAgY29uc3Qga2V5ID0gcGF0aFtpMl07XG4gICAgaWYgKGlzU2V0KG9iamVjdCkpIHtcbiAgICAgIG9iamVjdCA9IGdldE50aEtleShvYmplY3QsICtrZXkpO1xuICAgIH0gZWxzZSBpZiAoaXNNYXAob2JqZWN0KSkge1xuICAgICAgY29uc3Qgcm93ID0gK2tleTtcbiAgICAgIGNvbnN0IHR5cGUgPSArcGF0aFsrK2kyXSA9PT0gMCA/IFwia2V5XCIgOiBcInZhbHVlXCI7XG4gICAgICBjb25zdCBrZXlPZlJvdyA9IGdldE50aEtleShvYmplY3QsIHJvdyk7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImtleVwiOlxuICAgICAgICAgIG9iamVjdCA9IGtleU9mUm93O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICBvYmplY3QgPSBvYmplY3QuZ2V0KGtleU9mUm93KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmplY3Q7XG59O1xuY29uc3Qgc2V0RGVlcCA9IChvYmplY3QsIHBhdGgsIG1hcHBlcikgPT4ge1xuICB2YWxpZGF0ZVBhdGgocGF0aCk7XG4gIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBtYXBwZXIob2JqZWN0KTtcbiAgfVxuICBsZXQgcGFyZW50ID0gb2JqZWN0O1xuICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgcGF0aC5sZW5ndGggLSAxOyBpMisrKSB7XG4gICAgY29uc3Qga2V5ID0gcGF0aFtpMl07XG4gICAgaWYgKGlzQXJyYXkkMShwYXJlbnQpKSB7XG4gICAgICBjb25zdCBpbmRleDIgPSAra2V5O1xuICAgICAgcGFyZW50ID0gcGFyZW50W2luZGV4Ml07XG4gICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0JDEocGFyZW50KSkge1xuICAgICAgcGFyZW50ID0gcGFyZW50W2tleV07XG4gICAgfSBlbHNlIGlmIChpc1NldChwYXJlbnQpKSB7XG4gICAgICBjb25zdCByb3cgPSAra2V5O1xuICAgICAgcGFyZW50ID0gZ2V0TnRoS2V5KHBhcmVudCwgcm93KTtcbiAgICB9IGVsc2UgaWYgKGlzTWFwKHBhcmVudCkpIHtcbiAgICAgIGNvbnN0IGlzRW5kID0gaTIgPT09IHBhdGgubGVuZ3RoIC0gMjtcbiAgICAgIGlmIChpc0VuZCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJvdyA9ICtrZXk7XG4gICAgICBjb25zdCB0eXBlID0gK3BhdGhbKytpMl0gPT09IDAgPyBcImtleVwiIDogXCJ2YWx1ZVwiO1xuICAgICAgY29uc3Qga2V5T2ZSb3cgPSBnZXROdGhLZXkocGFyZW50LCByb3cpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJrZXlcIjpcbiAgICAgICAgICBwYXJlbnQgPSBrZXlPZlJvdztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgcGFyZW50ID0gcGFyZW50LmdldChrZXlPZlJvdyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IGxhc3RLZXkgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gIGlmIChpc0FycmF5JDEocGFyZW50KSkge1xuICAgIHBhcmVudFsrbGFzdEtleV0gPSBtYXBwZXIocGFyZW50WytsYXN0S2V5XSk7XG4gIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCQxKHBhcmVudCkpIHtcbiAgICBwYXJlbnRbbGFzdEtleV0gPSBtYXBwZXIocGFyZW50W2xhc3RLZXldKTtcbiAgfVxuICBpZiAoaXNTZXQocGFyZW50KSkge1xuICAgIGNvbnN0IG9sZFZhbHVlID0gZ2V0TnRoS2V5KHBhcmVudCwgK2xhc3RLZXkpO1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gbWFwcGVyKG9sZFZhbHVlKTtcbiAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICBwYXJlbnQuZGVsZXRlKG9sZFZhbHVlKTtcbiAgICAgIHBhcmVudC5hZGQobmV3VmFsdWUpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNNYXAocGFyZW50KSkge1xuICAgIGNvbnN0IHJvdyA9ICtwYXRoW3BhdGgubGVuZ3RoIC0gMl07XG4gICAgY29uc3Qga2V5VG9Sb3cgPSBnZXROdGhLZXkocGFyZW50LCByb3cpO1xuICAgIGNvbnN0IHR5cGUgPSArbGFzdEtleSA9PT0gMCA/IFwia2V5XCIgOiBcInZhbHVlXCI7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwia2V5XCI6IHtcbiAgICAgICAgY29uc3QgbmV3S2V5ID0gbWFwcGVyKGtleVRvUm93KTtcbiAgICAgICAgcGFyZW50LnNldChuZXdLZXksIHBhcmVudC5nZXQoa2V5VG9Sb3cpKTtcbiAgICAgICAgaWYgKG5ld0tleSAhPT0ga2V5VG9Sb3cpIHtcbiAgICAgICAgICBwYXJlbnQuZGVsZXRlKGtleVRvUm93KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ2YWx1ZVwiOiB7XG4gICAgICAgIHBhcmVudC5zZXQoa2V5VG9Sb3csIG1hcHBlcihwYXJlbnQuZ2V0KGtleVRvUm93KSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iamVjdDtcbn07XG5mdW5jdGlvbiB0cmF2ZXJzZSh0cmVlLCB3YWxrZXIyLCBvcmlnaW4gPSBbXSkge1xuICBpZiAoIXRyZWUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFpc0FycmF5JDEodHJlZSkpIHtcbiAgICBmb3JFYWNoKHRyZWUsIChzdWJ0cmVlLCBrZXkpID0+IHRyYXZlcnNlKHN1YnRyZWUsIHdhbGtlcjIsIFsuLi5vcmlnaW4sIC4uLnBhcnNlUGF0aChrZXkpXSkpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBbbm9kZVZhbHVlLCBjaGlsZHJlbl0gPSB0cmVlO1xuICBpZiAoY2hpbGRyZW4pIHtcbiAgICBmb3JFYWNoKGNoaWxkcmVuLCAoY2hpbGQsIGtleSkgPT4ge1xuICAgICAgdHJhdmVyc2UoY2hpbGQsIHdhbGtlcjIsIFsuLi5vcmlnaW4sIC4uLnBhcnNlUGF0aChrZXkpXSk7XG4gICAgfSk7XG4gIH1cbiAgd2Fsa2VyMihub2RlVmFsdWUsIG9yaWdpbik7XG59XG5mdW5jdGlvbiBhcHBseVZhbHVlQW5ub3RhdGlvbnMocGxhaW4sIGFubm90YXRpb25zLCBzdXBlckpzb24pIHtcbiAgdHJhdmVyc2UoYW5ub3RhdGlvbnMsICh0eXBlLCBwYXRoKSA9PiB7XG4gICAgcGxhaW4gPSBzZXREZWVwKHBsYWluLCBwYXRoLCAodjIpID0+IHVudHJhbnNmb3JtVmFsdWUodjIsIHR5cGUsIHN1cGVySnNvbikpO1xuICB9KTtcbiAgcmV0dXJuIHBsYWluO1xufVxuZnVuY3Rpb24gYXBwbHlSZWZlcmVudGlhbEVxdWFsaXR5QW5ub3RhdGlvbnMocGxhaW4sIGFubm90YXRpb25zKSB7XG4gIGZ1bmN0aW9uIGFwcGx5KGlkZW50aWNhbFBhdGhzLCBwYXRoKSB7XG4gICAgY29uc3Qgb2JqZWN0ID0gZ2V0RGVlcChwbGFpbiwgcGFyc2VQYXRoKHBhdGgpKTtcbiAgICBpZGVudGljYWxQYXRocy5tYXAocGFyc2VQYXRoKS5mb3JFYWNoKChpZGVudGljYWxPYmplY3RQYXRoKSA9PiB7XG4gICAgICBwbGFpbiA9IHNldERlZXAocGxhaW4sIGlkZW50aWNhbE9iamVjdFBhdGgsICgpID0+IG9iamVjdCk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKGlzQXJyYXkkMShhbm5vdGF0aW9ucykpIHtcbiAgICBjb25zdCBbcm9vdCwgb3RoZXJdID0gYW5ub3RhdGlvbnM7XG4gICAgcm9vdC5mb3JFYWNoKChpZGVudGljYWxQYXRoKSA9PiB7XG4gICAgICBwbGFpbiA9IHNldERlZXAocGxhaW4sIHBhcnNlUGF0aChpZGVudGljYWxQYXRoKSwgKCkgPT4gcGxhaW4pO1xuICAgIH0pO1xuICAgIGlmIChvdGhlcikge1xuICAgICAgZm9yRWFjaChvdGhlciwgYXBwbHkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3JFYWNoKGFubm90YXRpb25zLCBhcHBseSk7XG4gIH1cbiAgcmV0dXJuIHBsYWluO1xufVxuY29uc3QgaXNEZWVwID0gKG9iamVjdCwgc3VwZXJKc29uKSA9PiBpc1BsYWluT2JqZWN0JDEob2JqZWN0KSB8fCBpc0FycmF5JDEob2JqZWN0KSB8fCBpc01hcChvYmplY3QpIHx8IGlzU2V0KG9iamVjdCkgfHwgaXNJbnN0YW5jZU9mUmVnaXN0ZXJlZENsYXNzKG9iamVjdCwgc3VwZXJKc29uKTtcbmZ1bmN0aW9uIGFkZElkZW50aXR5KG9iamVjdCwgcGF0aCwgaWRlbnRpdGllcykge1xuICBjb25zdCBleGlzdGluZ1NldCA9IGlkZW50aXRpZXMuZ2V0KG9iamVjdCk7XG4gIGlmIChleGlzdGluZ1NldCkge1xuICAgIGV4aXN0aW5nU2V0LnB1c2gocGF0aCk7XG4gIH0gZWxzZSB7XG4gICAgaWRlbnRpdGllcy5zZXQob2JqZWN0LCBbcGF0aF0pO1xuICB9XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVJlZmVyZW50aWFsRXF1YWxpdHlBbm5vdGF0aW9ucyhpZGVudGl0aXRlcywgZGVkdXBlKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBsZXQgcm9vdEVxdWFsaXR5UGF0aHMgPSB2b2lkIDA7XG4gIGlkZW50aXRpdGVzLmZvckVhY2goKHBhdGhzKSA9PiB7XG4gICAgaWYgKHBhdGhzLmxlbmd0aCA8PSAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghZGVkdXBlKSB7XG4gICAgICBwYXRocyA9IHBhdGhzLm1hcCgocGF0aCkgPT4gcGF0aC5tYXAoU3RyaW5nKSkuc29ydCgoYTMsIGIyKSA9PiBhMy5sZW5ndGggLSBiMi5sZW5ndGgpO1xuICAgIH1cbiAgICBjb25zdCBbcmVwcmVzZW50YXRpdmVQYXRoLCAuLi5pZGVudGljYWxQYXRoc10gPSBwYXRocztcbiAgICBpZiAocmVwcmVzZW50YXRpdmVQYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcm9vdEVxdWFsaXR5UGF0aHMgPSBpZGVudGljYWxQYXRocy5tYXAoc3RyaW5naWZ5UGF0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtzdHJpbmdpZnlQYXRoKHJlcHJlc2VudGF0aXZlUGF0aCldID0gaWRlbnRpY2FsUGF0aHMubWFwKHN0cmluZ2lmeVBhdGgpO1xuICAgIH1cbiAgfSk7XG4gIGlmIChyb290RXF1YWxpdHlQYXRocykge1xuICAgIGlmIChpc0VtcHR5T2JqZWN0KHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiBbcm9vdEVxdWFsaXR5UGF0aHNdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW3Jvb3RFcXVhbGl0eVBhdGhzLCByZXN1bHRdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gaXNFbXB0eU9iamVjdChyZXN1bHQpID8gdm9pZCAwIDogcmVzdWx0O1xuICB9XG59XG5jb25zdCB3YWxrZXIgPSAob2JqZWN0LCBpZGVudGl0aWVzLCBzdXBlckpzb24sIGRlZHVwZSwgcGF0aCA9IFtdLCBvYmplY3RzSW5UaGlzUGF0aCA9IFtdLCBzZWVuT2JqZWN0cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpID0+IHtcbiAgY29uc3QgcHJpbWl0aXZlID0gaXNQcmltaXRpdmUob2JqZWN0KTtcbiAgaWYgKCFwcmltaXRpdmUpIHtcbiAgICBhZGRJZGVudGl0eShvYmplY3QsIHBhdGgsIGlkZW50aXRpZXMpO1xuICAgIGNvbnN0IHNlZW4gPSBzZWVuT2JqZWN0cy5nZXQob2JqZWN0KTtcbiAgICBpZiAoc2Vlbikge1xuICAgICAgcmV0dXJuIGRlZHVwZSA/IHtcbiAgICAgICAgdHJhbnNmb3JtZWRWYWx1ZTogbnVsbFxuICAgICAgfSA6IHNlZW47XG4gICAgfVxuICB9XG4gIGlmICghaXNEZWVwKG9iamVjdCwgc3VwZXJKc29uKSkge1xuICAgIGNvbnN0IHRyYW5zZm9ybWVkMiA9IHRyYW5zZm9ybVZhbHVlKG9iamVjdCwgc3VwZXJKc29uKTtcbiAgICBjb25zdCByZXN1bHQyID0gdHJhbnNmb3JtZWQyID8ge1xuICAgICAgdHJhbnNmb3JtZWRWYWx1ZTogdHJhbnNmb3JtZWQyLnZhbHVlLFxuICAgICAgYW5ub3RhdGlvbnM6IFt0cmFuc2Zvcm1lZDIudHlwZV1cbiAgICB9IDoge1xuICAgICAgdHJhbnNmb3JtZWRWYWx1ZTogb2JqZWN0XG4gICAgfTtcbiAgICBpZiAoIXByaW1pdGl2ZSkge1xuICAgICAgc2Vlbk9iamVjdHMuc2V0KG9iamVjdCwgcmVzdWx0Mik7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQyO1xuICB9XG4gIGlmIChpbmNsdWRlcyhvYmplY3RzSW5UaGlzUGF0aCwgb2JqZWN0KSkge1xuICAgIHJldHVybiB7XG4gICAgICB0cmFuc2Zvcm1lZFZhbHVlOiBudWxsXG4gICAgfTtcbiAgfVxuICBjb25zdCB0cmFuc2Zvcm1hdGlvblJlc3VsdCA9IHRyYW5zZm9ybVZhbHVlKG9iamVjdCwgc3VwZXJKc29uKTtcbiAgY29uc3QgdHJhbnNmb3JtZWQgPSAodHJhbnNmb3JtYXRpb25SZXN1bHQgPT0gbnVsbCA/IHZvaWQgMCA6IHRyYW5zZm9ybWF0aW9uUmVzdWx0LnZhbHVlKSA/PyBvYmplY3Q7XG4gIGNvbnN0IHRyYW5zZm9ybWVkVmFsdWUgPSBpc0FycmF5JDEodHJhbnNmb3JtZWQpID8gW10gOiB7fTtcbiAgY29uc3QgaW5uZXJBbm5vdGF0aW9ucyA9IHt9O1xuICBmb3JFYWNoKHRyYW5zZm9ybWVkLCAodmFsdWUsIGluZGV4MikgPT4ge1xuICAgIGlmIChpbmRleDIgPT09IFwiX19wcm90b19fXCIgfHwgaW5kZXgyID09PSBcImNvbnN0cnVjdG9yXCIgfHwgaW5kZXgyID09PSBcInByb3RvdHlwZVwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYERldGVjdGVkIHByb3BlcnR5ICR7aW5kZXgyfS4gVGhpcyBpcyBhIHByb3RvdHlwZSBwb2xsdXRpb24gcmlzaywgcGxlYXNlIHJlbW92ZSBpdCBmcm9tIHlvdXIgb2JqZWN0LmApO1xuICAgIH1cbiAgICBjb25zdCByZWN1cnNpdmVSZXN1bHQgPSB3YWxrZXIodmFsdWUsIGlkZW50aXRpZXMsIHN1cGVySnNvbiwgZGVkdXBlLCBbLi4ucGF0aCwgaW5kZXgyXSwgWy4uLm9iamVjdHNJblRoaXNQYXRoLCBvYmplY3RdLCBzZWVuT2JqZWN0cyk7XG4gICAgdHJhbnNmb3JtZWRWYWx1ZVtpbmRleDJdID0gcmVjdXJzaXZlUmVzdWx0LnRyYW5zZm9ybWVkVmFsdWU7XG4gICAgaWYgKGlzQXJyYXkkMShyZWN1cnNpdmVSZXN1bHQuYW5ub3RhdGlvbnMpKSB7XG4gICAgICBpbm5lckFubm90YXRpb25zW2luZGV4Ml0gPSByZWN1cnNpdmVSZXN1bHQuYW5ub3RhdGlvbnM7XG4gICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0JDEocmVjdXJzaXZlUmVzdWx0LmFubm90YXRpb25zKSkge1xuICAgICAgZm9yRWFjaChyZWN1cnNpdmVSZXN1bHQuYW5ub3RhdGlvbnMsICh0cmVlLCBrZXkpID0+IHtcbiAgICAgICAgaW5uZXJBbm5vdGF0aW9uc1tlc2NhcGVLZXkoaW5kZXgyKSArIFwiLlwiICsga2V5XSA9IHRyZWU7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCByZXN1bHQgPSBpc0VtcHR5T2JqZWN0KGlubmVyQW5ub3RhdGlvbnMpID8ge1xuICAgIHRyYW5zZm9ybWVkVmFsdWUsXG4gICAgYW5ub3RhdGlvbnM6ICEhdHJhbnNmb3JtYXRpb25SZXN1bHQgPyBbdHJhbnNmb3JtYXRpb25SZXN1bHQudHlwZV0gOiB2b2lkIDBcbiAgfSA6IHtcbiAgICB0cmFuc2Zvcm1lZFZhbHVlLFxuICAgIGFubm90YXRpb25zOiAhIXRyYW5zZm9ybWF0aW9uUmVzdWx0ID8gW3RyYW5zZm9ybWF0aW9uUmVzdWx0LnR5cGUsIGlubmVyQW5ub3RhdGlvbnNdIDogaW5uZXJBbm5vdGF0aW9uc1xuICB9O1xuICBpZiAoIXByaW1pdGl2ZSkge1xuICAgIHNlZW5PYmplY3RzLnNldChvYmplY3QsIHJlc3VsdCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5mdW5jdGlvbiBnZXRUeXBlKHBheWxvYWQpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwYXlsb2FkKS5zbGljZSg4LCAtMSk7XG59XG5mdW5jdGlvbiBpc0FycmF5KHBheWxvYWQpIHtcbiAgcmV0dXJuIGdldFR5cGUocGF5bG9hZCkgPT09IFwiQXJyYXlcIjtcbn1cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QocGF5bG9hZCkge1xuICBpZiAoZ2V0VHlwZShwYXlsb2FkKSAhPT0gXCJPYmplY3RcIilcbiAgICByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IHByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXlsb2FkKTtcbiAgcmV0dXJuICEhcHJvdG90eXBlICYmIHByb3RvdHlwZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0ICYmIHByb3RvdHlwZSA9PT0gT2JqZWN0LnByb3RvdHlwZTtcbn1cbmZ1bmN0aW9uIGFzc2lnblByb3AoY2FycnksIGtleSwgbmV3VmFsLCBvcmlnaW5hbE9iamVjdCwgaW5jbHVkZU5vbmVudW1lcmFibGUpIHtcbiAgY29uc3QgcHJvcFR5cGUgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9yaWdpbmFsT2JqZWN0LCBrZXkpID8gXCJlbnVtZXJhYmxlXCIgOiBcIm5vbmVudW1lcmFibGVcIjtcbiAgaWYgKHByb3BUeXBlID09PSBcImVudW1lcmFibGVcIilcbiAgICBjYXJyeVtrZXldID0gbmV3VmFsO1xuICBpZiAoaW5jbHVkZU5vbmVudW1lcmFibGUgJiYgcHJvcFR5cGUgPT09IFwibm9uZW51bWVyYWJsZVwiKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNhcnJ5LCBrZXksIHtcbiAgICAgIHZhbHVlOiBuZXdWYWwsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNvcHkodGFyZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgaWYgKGlzQXJyYXkodGFyZ2V0KSkge1xuICAgIHJldHVybiB0YXJnZXQubWFwKChpdGVtKSA9PiBjb3B5KGl0ZW0sIG9wdGlvbnMpKTtcbiAgfVxuICBpZiAoIWlzUGxhaW5PYmplY3QodGFyZ2V0KSkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgY29uc3QgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICBjb25zdCBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpO1xuICByZXR1cm4gWy4uLnByb3BzLCAuLi5zeW1ib2xzXS5yZWR1Y2UoKGNhcnJ5LCBrZXkpID0+IHtcbiAgICBpZiAoaXNBcnJheShvcHRpb25zLnByb3BzKSAmJiAhb3B0aW9ucy5wcm9wcy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICByZXR1cm4gY2Fycnk7XG4gICAgfVxuICAgIGNvbnN0IHZhbCA9IHRhcmdldFtrZXldO1xuICAgIGNvbnN0IG5ld1ZhbCA9IGNvcHkodmFsLCBvcHRpb25zKTtcbiAgICBhc3NpZ25Qcm9wKGNhcnJ5LCBrZXksIG5ld1ZhbCwgdGFyZ2V0LCBvcHRpb25zLm5vbmVudW1lcmFibGUpO1xuICAgIHJldHVybiBjYXJyeTtcbiAgfSwge30pO1xufVxuY2xhc3MgU3VwZXJKU09OIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBkZWR1cGVSZWZlcmVudGlhbEVxdWFsaXRpZXMgIElmIHRydWUsIFN1cGVySlNPTiB3aWxsIG1ha2Ugc3VyZSBvbmx5IG9uZSBpbnN0YW5jZSBvZiByZWZlcmVudGlhbGx5IGVxdWFsIG9iamVjdHMgYXJlIHNlcmlhbGl6ZWQgYW5kIHRoZSByZXN0IGFyZSByZXBsYWNlZCB3aXRoIGBudWxsYC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgZGVkdXBlID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgdGhpcy5jbGFzc1JlZ2lzdHJ5ID0gbmV3IENsYXNzUmVnaXN0cnkoKTtcbiAgICB0aGlzLnN5bWJvbFJlZ2lzdHJ5ID0gbmV3IFJlZ2lzdHJ5KChzMikgPT4gczIuZGVzY3JpcHRpb24gPz8gXCJcIik7XG4gICAgdGhpcy5jdXN0b21UcmFuc2Zvcm1lclJlZ2lzdHJ5ID0gbmV3IEN1c3RvbVRyYW5zZm9ybWVyUmVnaXN0cnkoKTtcbiAgICB0aGlzLmFsbG93ZWRFcnJvclByb3BzID0gW107XG4gICAgdGhpcy5kZWR1cGUgPSBkZWR1cGU7XG4gIH1cbiAgc2VyaWFsaXplKG9iamVjdCkge1xuICAgIGNvbnN0IGlkZW50aXRpZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIGNvbnN0IG91dHB1dCA9IHdhbGtlcihvYmplY3QsIGlkZW50aXRpZXMsIHRoaXMsIHRoaXMuZGVkdXBlKTtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICBqc29uOiBvdXRwdXQudHJhbnNmb3JtZWRWYWx1ZVxuICAgIH07XG4gICAgaWYgKG91dHB1dC5hbm5vdGF0aW9ucykge1xuICAgICAgcmVzLm1ldGEgPSB7XG4gICAgICAgIC4uLnJlcy5tZXRhLFxuICAgICAgICB2YWx1ZXM6IG91dHB1dC5hbm5vdGF0aW9uc1xuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgZXF1YWxpdHlBbm5vdGF0aW9ucyA9IGdlbmVyYXRlUmVmZXJlbnRpYWxFcXVhbGl0eUFubm90YXRpb25zKGlkZW50aXRpZXMsIHRoaXMuZGVkdXBlKTtcbiAgICBpZiAoZXF1YWxpdHlBbm5vdGF0aW9ucykge1xuICAgICAgcmVzLm1ldGEgPSB7XG4gICAgICAgIC4uLnJlcy5tZXRhLFxuICAgICAgICByZWZlcmVudGlhbEVxdWFsaXRpZXM6IGVxdWFsaXR5QW5ub3RhdGlvbnNcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgZGVzZXJpYWxpemUocGF5bG9hZCkge1xuICAgIGNvbnN0IHsganNvbiwgbWV0YSB9ID0gcGF5bG9hZDtcbiAgICBsZXQgcmVzdWx0ID0gY29weShqc29uKTtcbiAgICBpZiAobWV0YSA9PSBudWxsID8gdm9pZCAwIDogbWV0YS52YWx1ZXMpIHtcbiAgICAgIHJlc3VsdCA9IGFwcGx5VmFsdWVBbm5vdGF0aW9ucyhyZXN1bHQsIG1ldGEudmFsdWVzLCB0aGlzKTtcbiAgICB9XG4gICAgaWYgKG1ldGEgPT0gbnVsbCA/IHZvaWQgMCA6IG1ldGEucmVmZXJlbnRpYWxFcXVhbGl0aWVzKSB7XG4gICAgICByZXN1bHQgPSBhcHBseVJlZmVyZW50aWFsRXF1YWxpdHlBbm5vdGF0aW9ucyhyZXN1bHQsIG1ldGEucmVmZXJlbnRpYWxFcXVhbGl0aWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBzdHJpbmdpZnkob2JqZWN0KSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuc2VyaWFsaXplKG9iamVjdCkpO1xuICB9XG4gIHBhcnNlKHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLmRlc2VyaWFsaXplKEpTT04ucGFyc2Uoc3RyaW5nKSk7XG4gIH1cbiAgcmVnaXN0ZXJDbGFzcyh2Miwgb3B0aW9ucykge1xuICAgIHRoaXMuY2xhc3NSZWdpc3RyeS5yZWdpc3Rlcih2Miwgb3B0aW9ucyk7XG4gIH1cbiAgcmVnaXN0ZXJTeW1ib2wodjIsIGlkZW50aWZpZXIpIHtcbiAgICB0aGlzLnN5bWJvbFJlZ2lzdHJ5LnJlZ2lzdGVyKHYyLCBpZGVudGlmaWVyKTtcbiAgfVxuICByZWdpc3RlckN1c3RvbSh0cmFuc2Zvcm1lciwgbmFtZSkge1xuICAgIHRoaXMuY3VzdG9tVHJhbnNmb3JtZXJSZWdpc3RyeS5yZWdpc3Rlcih7XG4gICAgICBuYW1lLFxuICAgICAgLi4udHJhbnNmb3JtZXJcbiAgICB9KTtcbiAgfVxuICBhbGxvd0Vycm9yUHJvcHMoLi4ucHJvcHMpIHtcbiAgICB0aGlzLmFsbG93ZWRFcnJvclByb3BzLnB1c2goLi4ucHJvcHMpO1xuICB9XG59XG5TdXBlckpTT04uZGVmYXVsdEluc3RhbmNlID0gbmV3IFN1cGVySlNPTigpO1xuU3VwZXJKU09OLnNlcmlhbGl6ZSA9IFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2Uuc2VyaWFsaXplLmJpbmQoU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSk7XG5TdXBlckpTT04uZGVzZXJpYWxpemUgPSBTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlLmRlc2VyaWFsaXplLmJpbmQoU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSk7XG5TdXBlckpTT04uc3RyaW5naWZ5ID0gU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZS5zdHJpbmdpZnkuYmluZChTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlKTtcblN1cGVySlNPTi5wYXJzZSA9IFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2UucGFyc2UuYmluZChTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlKTtcblN1cGVySlNPTi5yZWdpc3RlckNsYXNzID0gU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZS5yZWdpc3RlckNsYXNzLmJpbmQoU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSk7XG5TdXBlckpTT04ucmVnaXN0ZXJTeW1ib2wgPSBTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlLnJlZ2lzdGVyU3ltYm9sLmJpbmQoU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSk7XG5TdXBlckpTT04ucmVnaXN0ZXJDdXN0b20gPSBTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlLnJlZ2lzdGVyQ3VzdG9tLmJpbmQoU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSk7XG5TdXBlckpTT04uYWxsb3dFcnJvclByb3BzID0gU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZS5hbGxvd0Vycm9yUHJvcHMuYmluZChTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlKTtcblN1cGVySlNPTi5zZXJpYWxpemU7XG5TdXBlckpTT04uZGVzZXJpYWxpemU7XG5TdXBlckpTT04uc3RyaW5naWZ5O1xuU3VwZXJKU09OLnBhcnNlO1xuU3VwZXJKU09OLnJlZ2lzdGVyQ2xhc3M7XG5TdXBlckpTT04ucmVnaXN0ZXJDdXN0b207XG5TdXBlckpTT04ucmVnaXN0ZXJTeW1ib2w7XG5TdXBlckpTT04uYWxsb3dFcnJvclByb3BzO1xuZnVuY3Rpb24gY3JlYXRlSlNPTlN0b3JhZ2UoZ2V0U3RvcmFnZSwgb3B0aW9ucykge1xuICBsZXQgc3RvcmFnZTtcbiAgdHJ5IHtcbiAgICBzdG9yYWdlID0gZ2V0U3RvcmFnZSgpO1xuICB9IGNhdGNoIChlMikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwZXJzaXN0U3RvcmFnZSA9IHtcbiAgICBnZXRJdGVtOiAobmFtZSkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc3QgcGFyc2UgPSAoc3RyMikgPT4ge1xuICAgICAgICBpZiAoc3RyMiA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cjIsIHZvaWQgMCk7XG4gICAgICB9O1xuICAgICAgY29uc3Qgc3RyID0gKF9hID0gc3RvcmFnZS5nZXRJdGVtKG5hbWUpKSAhPSBudWxsID8gX2EgOiBudWxsO1xuICAgICAgaWYgKHN0ciBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgcmV0dXJuIHN0ci50aGVuKHBhcnNlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXJzZShzdHIpO1xuICAgIH0sXG4gICAgc2V0SXRlbTogKG5hbWUsIG5ld1ZhbHVlKSA9PiBzdG9yYWdlLnNldEl0ZW0oXG4gICAgICBuYW1lLFxuICAgICAgSlNPTi5zdHJpbmdpZnkobmV3VmFsdWUsIHZvaWQgMClcbiAgICApLFxuICAgIHJlbW92ZUl0ZW06IChuYW1lKSA9PiBzdG9yYWdlLnJlbW92ZUl0ZW0obmFtZSlcbiAgfTtcbiAgcmV0dXJuIHBlcnNpc3RTdG9yYWdlO1xufVxuY29uc3QgdG9UaGVuYWJsZSA9IChmbjIpID0+IChpbnB1dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGZuMihpbnB1dCk7XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0aGVuKG9uRnVsZmlsbGVkKSB7XG4gICAgICAgIHJldHVybiB0b1RoZW5hYmxlKG9uRnVsZmlsbGVkKShyZXN1bHQpO1xuICAgICAgfSxcbiAgICAgIGNhdGNoKF9vblJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH07XG4gIH0gY2F0Y2ggKGUyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRoZW4oX29uRnVsZmlsbGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcbiAgICAgIGNhdGNoKG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRvVGhlbmFibGUob25SZWplY3RlZCkoZTIpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG5jb25zdCBwZXJzaXN0SW1wbCA9IChjb25maWcsIGJhc2VPcHRpb25zKSA9PiAoc2V0LCBnZXQsIGFwaSkgPT4ge1xuICBsZXQgb3B0aW9ucyA9IHtcbiAgICBzdG9yYWdlOiBjcmVhdGVKU09OU3RvcmFnZSgoKSA9PiBsb2NhbFN0b3JhZ2UpLFxuICAgIHBhcnRpYWxpemU6IChzdGF0ZSkgPT4gc3RhdGUsXG4gICAgdmVyc2lvbjogMCxcbiAgICBtZXJnZTogKHBlcnNpc3RlZFN0YXRlLCBjdXJyZW50U3RhdGUpID0+ICh7XG4gICAgICAuLi5jdXJyZW50U3RhdGUsXG4gICAgICAuLi5wZXJzaXN0ZWRTdGF0ZVxuICAgIH0pLFxuICAgIC4uLmJhc2VPcHRpb25zXG4gIH07XG4gIGxldCBoYXNIeWRyYXRlZCA9IGZhbHNlO1xuICBjb25zdCBoeWRyYXRpb25MaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBjb25zdCBmaW5pc2hIeWRyYXRpb25MaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgc3RvcmFnZSA9IG9wdGlvbnMuc3RvcmFnZTtcbiAgaWYgKCFzdG9yYWdlKSB7XG4gICAgcmV0dXJuIGNvbmZpZyhcbiAgICAgICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgW3p1c3RhbmQgcGVyc2lzdCBtaWRkbGV3YXJlXSBVbmFibGUgdG8gdXBkYXRlIGl0ZW0gJyR7b3B0aW9ucy5uYW1lfScsIHRoZSBnaXZlbiBzdG9yYWdlIGlzIGN1cnJlbnRseSB1bmF2YWlsYWJsZS5gXG4gICAgICAgICk7XG4gICAgICAgIHNldCguLi5hcmdzKTtcbiAgICAgIH0sXG4gICAgICBnZXQsXG4gICAgICBhcGlcbiAgICApO1xuICB9XG4gIGNvbnN0IHNldEl0ZW0gPSAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBvcHRpb25zLnBhcnRpYWxpemUoeyAuLi5nZXQoKSB9KTtcbiAgICByZXR1cm4gc3RvcmFnZS5zZXRJdGVtKG9wdGlvbnMubmFtZSwge1xuICAgICAgc3RhdGUsXG4gICAgICB2ZXJzaW9uOiBvcHRpb25zLnZlcnNpb25cbiAgICB9KTtcbiAgfTtcbiAgY29uc3Qgc2F2ZWRTZXRTdGF0ZSA9IGFwaS5zZXRTdGF0ZTtcbiAgYXBpLnNldFN0YXRlID0gKHN0YXRlLCByZXBsYWNlKSA9PiB7XG4gICAgc2F2ZWRTZXRTdGF0ZShzdGF0ZSwgcmVwbGFjZSk7XG4gICAgdm9pZCBzZXRJdGVtKCk7XG4gIH07XG4gIGNvbnN0IGNvbmZpZ1Jlc3VsdCA9IGNvbmZpZyhcbiAgICAoLi4uYXJncykgPT4ge1xuICAgICAgc2V0KC4uLmFyZ3MpO1xuICAgICAgdm9pZCBzZXRJdGVtKCk7XG4gICAgfSxcbiAgICBnZXQsXG4gICAgYXBpXG4gICk7XG4gIGFwaS5nZXRJbml0aWFsU3RhdGUgPSAoKSA9PiBjb25maWdSZXN1bHQ7XG4gIGxldCBzdGF0ZUZyb21TdG9yYWdlO1xuICBjb25zdCBoeWRyYXRlID0gKCkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKCFzdG9yYWdlKSByZXR1cm47XG4gICAgaGFzSHlkcmF0ZWQgPSBmYWxzZTtcbiAgICBoeWRyYXRpb25MaXN0ZW5lcnMuZm9yRWFjaCgoY2IpID0+IHtcbiAgICAgIHZhciBfYTI7XG4gICAgICByZXR1cm4gY2IoKF9hMiA9IGdldCgpKSAhPSBudWxsID8gX2EyIDogY29uZmlnUmVzdWx0KTtcbiAgICB9KTtcbiAgICBjb25zdCBwb3N0UmVoeWRyYXRpb25DYWxsYmFjayA9ICgoX2IgPSBvcHRpb25zLm9uUmVoeWRyYXRlU3RvcmFnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmNhbGwob3B0aW9ucywgKF9hID0gZ2V0KCkpICE9IG51bGwgPyBfYSA6IGNvbmZpZ1Jlc3VsdCkpIHx8IHZvaWQgMDtcbiAgICByZXR1cm4gdG9UaGVuYWJsZShzdG9yYWdlLmdldEl0ZW0uYmluZChzdG9yYWdlKSkob3B0aW9ucy5uYW1lKS50aGVuKChkZXNlcmlhbGl6ZWRTdG9yYWdlVmFsdWUpID0+IHtcbiAgICAgIGlmIChkZXNlcmlhbGl6ZWRTdG9yYWdlVmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkZXNlcmlhbGl6ZWRTdG9yYWdlVmFsdWUudmVyc2lvbiA9PT0gXCJudW1iZXJcIiAmJiBkZXNlcmlhbGl6ZWRTdG9yYWdlVmFsdWUudmVyc2lvbiAhPT0gb3B0aW9ucy52ZXJzaW9uKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbnMubWlncmF0ZSkge1xuICAgICAgICAgICAgY29uc3QgbWlncmF0aW9uID0gb3B0aW9ucy5taWdyYXRlKFxuICAgICAgICAgICAgICBkZXNlcmlhbGl6ZWRTdG9yYWdlVmFsdWUuc3RhdGUsXG4gICAgICAgICAgICAgIGRlc2VyaWFsaXplZFN0b3JhZ2VWYWx1ZS52ZXJzaW9uXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKG1pZ3JhdGlvbiBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1pZ3JhdGlvbi50aGVuKChyZXN1bHQpID0+IFt0cnVlLCByZXN1bHRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbdHJ1ZSwgbWlncmF0aW9uXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIGBTdGF0ZSBsb2FkZWQgZnJvbSBzdG9yYWdlIGNvdWxkbid0IGJlIG1pZ3JhdGVkIHNpbmNlIG5vIG1pZ3JhdGUgZnVuY3Rpb24gd2FzIHByb3ZpZGVkYFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtmYWxzZSwgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnN0YXRlXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIFtmYWxzZSwgdm9pZCAwXTtcbiAgICB9KS50aGVuKChtaWdyYXRpb25SZXN1bHQpID0+IHtcbiAgICAgIHZhciBfYTI7XG4gICAgICBjb25zdCBbbWlncmF0ZWQsIG1pZ3JhdGVkU3RhdGVdID0gbWlncmF0aW9uUmVzdWx0O1xuICAgICAgc3RhdGVGcm9tU3RvcmFnZSA9IG9wdGlvbnMubWVyZ2UoXG4gICAgICAgIG1pZ3JhdGVkU3RhdGUsXG4gICAgICAgIChfYTIgPSBnZXQoKSkgIT0gbnVsbCA/IF9hMiA6IGNvbmZpZ1Jlc3VsdFxuICAgICAgKTtcbiAgICAgIHNldChzdGF0ZUZyb21TdG9yYWdlLCB0cnVlKTtcbiAgICAgIGlmIChtaWdyYXRlZCkge1xuICAgICAgICByZXR1cm4gc2V0SXRlbSgpO1xuICAgICAgfVxuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgcG9zdFJlaHlkcmF0aW9uQ2FsbGJhY2sgPT0gbnVsbCA/IHZvaWQgMCA6IHBvc3RSZWh5ZHJhdGlvbkNhbGxiYWNrKHN0YXRlRnJvbVN0b3JhZ2UsIHZvaWQgMCk7XG4gICAgICBzdGF0ZUZyb21TdG9yYWdlID0gZ2V0KCk7XG4gICAgICBoYXNIeWRyYXRlZCA9IHRydWU7XG4gICAgICBmaW5pc2hIeWRyYXRpb25MaXN0ZW5lcnMuZm9yRWFjaCgoY2IpID0+IGNiKHN0YXRlRnJvbVN0b3JhZ2UpKTtcbiAgICB9KS5jYXRjaCgoZTIpID0+IHtcbiAgICAgIHBvc3RSZWh5ZHJhdGlvbkNhbGxiYWNrID09IG51bGwgPyB2b2lkIDAgOiBwb3N0UmVoeWRyYXRpb25DYWxsYmFjayh2b2lkIDAsIGUyKTtcbiAgICB9KTtcbiAgfTtcbiAgYXBpLnBlcnNpc3QgPSB7XG4gICAgc2V0T3B0aW9uczogKG5ld09wdGlvbnMpID0+IHtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC4uLm5ld09wdGlvbnNcbiAgICAgIH07XG4gICAgICBpZiAobmV3T3B0aW9ucy5zdG9yYWdlKSB7XG4gICAgICAgIHN0b3JhZ2UgPSBuZXdPcHRpb25zLnN0b3JhZ2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBjbGVhclN0b3JhZ2U6ICgpID0+IHtcbiAgICAgIHN0b3JhZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IHN0b3JhZ2UucmVtb3ZlSXRlbShvcHRpb25zLm5hbWUpO1xuICAgIH0sXG4gICAgZ2V0T3B0aW9uczogKCkgPT4gb3B0aW9ucyxcbiAgICByZWh5ZHJhdGU6ICgpID0+IGh5ZHJhdGUoKSxcbiAgICBoYXNIeWRyYXRlZDogKCkgPT4gaGFzSHlkcmF0ZWQsXG4gICAgb25IeWRyYXRlOiAoY2IpID0+IHtcbiAgICAgIGh5ZHJhdGlvbkxpc3RlbmVycy5hZGQoY2IpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaHlkcmF0aW9uTGlzdGVuZXJzLmRlbGV0ZShjYik7XG4gICAgICB9O1xuICAgIH0sXG4gICAgb25GaW5pc2hIeWRyYXRpb246IChjYikgPT4ge1xuICAgICAgZmluaXNoSHlkcmF0aW9uTGlzdGVuZXJzLmFkZChjYik7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBmaW5pc2hIeWRyYXRpb25MaXN0ZW5lcnMuZGVsZXRlKGNiKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICBpZiAoIW9wdGlvbnMuc2tpcEh5ZHJhdGlvbikge1xuICAgIGh5ZHJhdGUoKTtcbiAgfVxuICByZXR1cm4gc3RhdGVGcm9tU3RvcmFnZSB8fCBjb25maWdSZXN1bHQ7XG59O1xuY29uc3QgcGVyc2lzdCA9IHBlcnNpc3RJbXBsO1xuY29uc3QgY3JlYXRlQXBwU3RvcmUgPSAoczIpID0+IHtcbiAgY29uc3Qgc2V0ID0gczI7XG4gIHJldHVybiB7XG4gICAgYXBwQmxvY2tSZXF1ZXN0TGlzdDogW10sXG4gICAgYXBwVW5ibG9ja1JlcXVlc3RMaXN0OiBbXSxcbiAgICBsYXN0QmxvY2tSZXF1ZXN0TnVtYmVyOiAwLFxuICAgIGxhc3RVbmJsb2NrUmVxdWVzdE51bWJlcjogMCxcbiAgICBpc01haW5BcHBCbG9ja2VkOiBmYWxzZSxcbiAgICByZXF1ZXN0TWFpbkFwcEJsb2NrOiAoKSA9PiB7XG4gICAgICBsZXQgbmV3SGFuZGxlVmFsdWUgPSAwO1xuICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICBuZXdIYW5kbGVWYWx1ZSA9IHN0YXRlLmxhc3RCbG9ja1JlcXVlc3ROdW1iZXIgKyAxO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFwcEJsb2NrUmVxdWVzdExpc3Q6IFsuLi5zdGF0ZS5hcHBCbG9ja1JlcXVlc3RMaXN0LCBuZXdIYW5kbGVWYWx1ZV0sXG4gICAgICAgICAgbGFzdEJsb2NrUmVxdWVzdE51bWJlcjogbmV3SGFuZGxlVmFsdWUsXG4gICAgICAgICAgaXNNYWluQXBwQmxvY2tlZDogc3RhdGUuYXBwVW5ibG9ja1JlcXVlc3RMaXN0Lmxlbmd0aCA9PT0gMFxuICAgICAgICAgIC8vIFVuYmxvY2sgcmVxdWVzdHMgb3ZlcnJpZGUgYmxvY2sgcmVxdWVzdHNcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ld0hhbmRsZVZhbHVlO1xuICAgIH0sXG4gICAgcmVxdWVzdE1haW5BcHBVbmJsb2NrOiAoKSA9PiB7XG4gICAgICBsZXQgbmV3SGFuZGxlVmFsdWUgPSAwO1xuICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICBuZXdIYW5kbGVWYWx1ZSA9IHN0YXRlLmxhc3RVbmJsb2NrUmVxdWVzdE51bWJlciArIDE7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYXBwVW5ibG9ja1JlcXVlc3RMaXN0OiBbXG4gICAgICAgICAgICAuLi5zdGF0ZS5hcHBVbmJsb2NrUmVxdWVzdExpc3QsXG4gICAgICAgICAgICBuZXdIYW5kbGVWYWx1ZVxuICAgICAgICAgIF0sXG4gICAgICAgICAgbGFzdFVuYmxvY2tSZXF1ZXN0TnVtYmVyOiBuZXdIYW5kbGVWYWx1ZSxcbiAgICAgICAgICBpc01haW5BcHBCbG9ja2VkOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3SGFuZGxlVmFsdWU7XG4gICAgfSxcbiAgICBkaXNjYXJkTWFpbkFwcEJsb2NrOiAoaGFuZGxlKSA9PiB7XG4gICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0Jsb2NrUmVxdWVzdExpc3QgPSBzdGF0ZS5hcHBCbG9ja1JlcXVlc3RMaXN0LmZpbHRlcihcbiAgICAgICAgICAoaDIpID0+IGgyICE9PSBoYW5kbGVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhcHBCbG9ja1JlcXVlc3RMaXN0OiBuZXdCbG9ja1JlcXVlc3RMaXN0LFxuICAgICAgICAgIGlzTWFpbkFwcEJsb2NrZWQ6IG5ld0Jsb2NrUmVxdWVzdExpc3QubGVuZ3RoID4gMCAmJiBzdGF0ZS5hcHBVbmJsb2NrUmVxdWVzdExpc3QubGVuZ3RoID09PSAwXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGRpc2NhcmRNYWluQXBwVW5ibG9jazogKGhhbmRsZSkgPT4ge1xuICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBuZXdVbmJsb2NrUmVxdWVzdExpc3QgPSBzdGF0ZS5hcHBVbmJsb2NrUmVxdWVzdExpc3QuZmlsdGVyKFxuICAgICAgICAgIChoMikgPT4gaDIgIT09IGhhbmRsZVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFwcFVuYmxvY2tSZXF1ZXN0TGlzdDogbmV3VW5ibG9ja1JlcXVlc3RMaXN0LFxuICAgICAgICAgIGlzTWFpbkFwcEJsb2NrZWQ6IHN0YXRlLmFwcEJsb2NrUmVxdWVzdExpc3QubGVuZ3RoID4gMCAmJiBuZXdVbmJsb2NrUmVxdWVzdExpc3QubGVuZ3RoID09PSAwXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHRvb2xiYXJQb3NpdGlvbjogRHJvcEFyZWFab25lLkJPVFRPTV9DRU5URVIsXG4gICAgc2V0VG9vbGJhclBvc2l0aW9uOiAocG9zaXRpb24pID0+IHNldCgoKSA9PiAoeyB0b29sYmFyUG9zaXRpb246IHBvc2l0aW9uIH0pKSxcbiAgICB0b29sYmFyQm94UmVmOiBiJDUoKSxcbiAgICBzZXRUb29sYmFyQm94UmVmOiAocmVmKSA9PiBzZXQoKCkgPT4gKHsgdG9vbGJhckJveFJlZjogcmVmIH0pKSxcbiAgICB1bnNldFRvb2xiYXJCb3hSZWY6ICgpID0+IHNldCgoKSA9PiAoeyB0b29sYmFyQm94UmVmOiBiJDUoKSB9KSksXG4gICAgbWluaW1pemVkOiBmYWxzZSxcbiAgICBtaW5pbWl6ZTogKCkgPT4gc2V0KCgpID0+ICh7IG1pbmltaXplZDogdHJ1ZSB9KSksXG4gICAgZXhwYW5kOiAoKSA9PiBzZXQoKCkgPT4gKHsgbWluaW1pemVkOiBmYWxzZSB9KSksXG4gICAgcHJvbW90ZWRPblN0YXJ0dXA6IGZhbHNlLFxuICAgIHByb21vdGlvbkZpbmlzaGVkOiAoKSA9PiBzZXQoKCkgPT4gKHsgcHJvbW90ZWRPblN0YXJ0dXA6IHRydWUgfSkpXG4gIH07XG59O1xuZnVuY3Rpb24gY3JlYXRlU3VwZXJKU09OU3RvcmFnZShzdG9yYWdlKSB7XG4gIHJldHVybiB7XG4gICAgZ2V0SXRlbTogKG5hbWUpID0+IHtcbiAgICAgIGNvbnN0IHN0ciA9IHN0b3JhZ2UuZ2V0SXRlbShuYW1lKTtcbiAgICAgIGlmICghc3RyKSByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiBTdXBlckpTT04ucGFyc2Uoc3RyKTtcbiAgICB9LFxuICAgIHNldEl0ZW06IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgc3RvcmFnZS5zZXRJdGVtKG5hbWUsIFN1cGVySlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICB9LFxuICAgIHJlbW92ZUl0ZW06IChuYW1lKSA9PiBzdG9yYWdlLnJlbW92ZUl0ZW0obmFtZSlcbiAgfTtcbn1cbmNvbnN0IHVzZUFwcFN0YXRlID0gY3JlYXRlKFxuICBwZXJzaXN0KGNyZWF0ZUFwcFN0b3JlLCB7XG4gICAgbmFtZTogXCJzdGd3czpjb21wYW5pb25cIixcbiAgICBzdG9yYWdlOiBjcmVhdGVTdXBlckpTT05TdG9yYWdlKHNlc3Npb25TdG9yYWdlKSxcbiAgICBwYXJ0aWFsaXplOiAoc3RhdGUpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvb2xiYXJQb3NpdGlvbjogc3RhdGUudG9vbGJhclBvc2l0aW9uXG4gICAgICB9O1xuICAgIH1cbiAgfSlcbik7XG5jb25zdCBDaGF0Q29udGV4dCA9IEskMyh7XG4gIGNoYXRzOiBbXSxcbiAgY3VycmVudENoYXRJZDogbnVsbCxcbiAgY3JlYXRlQ2hhdDogKCkgPT4gXCJcIixcbiAgZGVsZXRlQ2hhdDogKCkgPT4ge1xuICB9LFxuICBzZXRDdXJyZW50Q2hhdDogKCkgPT4ge1xuICB9LFxuICBzZXRDaGF0SW5wdXQ6ICgpID0+IHtcbiAgfSxcbiAgYWRkQ2hhdERvbUNvbnRleHQ6ICgpID0+IHtcbiAgfSxcbiAgcmVtb3ZlQ2hhdERvbUNvbnRleHQ6ICgpID0+IHtcbiAgfSxcbiAgYWRkTWVzc2FnZTogKCkgPT4ge1xuICB9LFxuICBjaGF0QXJlYVN0YXRlOiBcImhpZGRlblwiLFxuICBzZXRDaGF0QXJlYVN0YXRlOiAoKSA9PiB7XG4gIH0sXG4gIGlzUHJvbXB0Q3JlYXRpb25BY3RpdmU6IGZhbHNlLFxuICBzdGFydFByb21wdENyZWF0aW9uOiAoKSA9PiB7XG4gIH0sXG4gIHN0b3BQcm9tcHRDcmVhdGlvbjogKCkgPT4ge1xuICB9XG59KTtcbmNvbnN0IENoYXRTdGF0ZVByb3ZpZGVyID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBbY2hhdHMsIHNldENoYXRzXSA9IGQkNChbXG4gICAge1xuICAgICAgaWQ6IFwibmV3X2NoYXRcIixcbiAgICAgIG1lc3NhZ2VzOiBbXSxcbiAgICAgIHRpdGxlOiBcIk5ldyBjaGF0XCIsXG4gICAgICBpbnB1dFZhbHVlOiBcIlwiLFxuICAgICAgZG9tQ29udGV4dEVsZW1lbnRzOiBbXVxuICAgIH1cbiAgXSk7XG4gIGNvbnN0IFtjdXJyZW50Q2hhdElkLCBzZXRDdXJyZW50Q2hhdElkXSA9IGQkNChcIm5ld19jaGF0XCIpO1xuICBjb25zdCBbY2hhdEFyZWFTdGF0ZSwgaW50ZXJuYWxTZXRDaGF0QXJlYVN0YXRlXSA9IGQkNChcImhpZGRlblwiKTtcbiAgY29uc3QgW2lzUHJvbXB0Q3JlYXRpb25Nb2RlLCBzZXRJc1Byb21wdENyZWF0aW9uTW9kZV0gPSBkJDQoZmFsc2UpO1xuICBjb25zdCBpc01pbmltaXplZCA9IHVzZUFwcFN0YXRlKChzdGF0ZSkgPT4gc3RhdGUubWluaW1pemVkKTtcbiAgeSQ2KCgpID0+IHtcbiAgICBpZiAoaXNNaW5pbWl6ZWQpIHtcbiAgICAgIHNldElzUHJvbXB0Q3JlYXRpb25Nb2RlKGZhbHNlKTtcbiAgICAgIGludGVybmFsU2V0Q2hhdEFyZWFTdGF0ZShcImhpZGRlblwiKTtcbiAgICB9XG4gIH0sIFtpc01pbmltaXplZF0pO1xuICBjb25zdCB7IGJyaWRnZSB9ID0gdXNlU1JQQ0JyaWRnZSgpO1xuICBjb25zdCBjcmVhdGVDaGF0ID0gcSQzKCgpID0+IHtcbiAgICBjb25zdCBuZXdDaGF0SWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICAgIGNvbnN0IG5ld0NoYXQgPSB7XG4gICAgICBpZDogbmV3Q2hhdElkLFxuICAgICAgdGl0bGU6IG51bGwsXG4gICAgICBtZXNzYWdlczogW10sXG4gICAgICBpbnB1dFZhbHVlOiBcIlwiLFxuICAgICAgZG9tQ29udGV4dEVsZW1lbnRzOiBbXVxuICAgIH07XG4gICAgc2V0Q2hhdHMoKHByZXYpID0+IFsuLi5wcmV2LCBuZXdDaGF0XSk7XG4gICAgc2V0Q3VycmVudENoYXRJZChuZXdDaGF0SWQpO1xuICAgIHJldHVybiBuZXdDaGF0SWQ7XG4gIH0sIFtdKTtcbiAgY29uc3QgZGVsZXRlQ2hhdCA9IHEkMyhcbiAgICAoY2hhdElkKSA9PiB7XG4gICAgICBzZXRDaGF0cygocHJldikgPT4ge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZENoYXRzID0gcHJldi5maWx0ZXIoKGNoYXQpID0+IGNoYXQuaWQgIT09IGNoYXRJZCk7XG4gICAgICAgIGlmIChmaWx0ZXJlZENoYXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiBcIm5ld19jaGF0XCIsXG4gICAgICAgICAgICAgIG1lc3NhZ2VzOiBbXSxcbiAgICAgICAgICAgICAgdGl0bGU6IFwiTmV3IGNoYXRcIixcbiAgICAgICAgICAgICAgaW5wdXRWYWx1ZTogXCJcIixcbiAgICAgICAgICAgICAgZG9tQ29udGV4dEVsZW1lbnRzOiBbXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkQ2hhdHM7XG4gICAgICB9KTtcbiAgICAgIGlmIChjdXJyZW50Q2hhdElkID09PSBjaGF0SWQpIHtcbiAgICAgICAgc2V0Q2hhdHMoKHByZXYpID0+IHtcbiAgICAgICAgICBzZXRDdXJyZW50Q2hhdElkKHByZXZbMF0uaWQpO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtjdXJyZW50Q2hhdElkXVxuICApO1xuICBjb25zdCBzZXRDdXJyZW50Q2hhdCA9IHEkMygoY2hhdElkKSA9PiB7XG4gICAgc2V0Q3VycmVudENoYXRJZChjaGF0SWQpO1xuICB9LCBbXSk7XG4gIGNvbnN0IHNldENoYXRJbnB1dCA9IHEkMygoY2hhdElkLCB2YWx1ZTIpID0+IHtcbiAgICBzZXRDaGF0cyhcbiAgICAgIChwcmV2KSA9PiBwcmV2Lm1hcChcbiAgICAgICAgKGNoYXQpID0+IGNoYXQuaWQgPT09IGNoYXRJZCA/IHsgLi4uY2hhdCwgaW5wdXRWYWx1ZTogdmFsdWUyIH0gOiBjaGF0XG4gICAgICApXG4gICAgKTtcbiAgfSwgW10pO1xuICBjb25zdCBzdGFydFByb21wdENyZWF0aW9uID0gcSQzKCgpID0+IHtcbiAgICBzZXRJc1Byb21wdENyZWF0aW9uTW9kZSh0cnVlKTtcbiAgICBpZiAoY2hhdEFyZWFTdGF0ZSA9PT0gXCJoaWRkZW5cIikge1xuICAgICAgaW50ZXJuYWxTZXRDaGF0QXJlYVN0YXRlKFwiY29tcGFjdFwiKTtcbiAgICB9XG4gIH0sIFtjaGF0QXJlYVN0YXRlXSk7XG4gIGNvbnN0IHN0b3BQcm9tcHRDcmVhdGlvbiA9IHEkMygoKSA9PiB7XG4gICAgc2V0SXNQcm9tcHRDcmVhdGlvbk1vZGUoZmFsc2UpO1xuICAgIHNldENoYXRzKFxuICAgICAgKHByZXYpID0+IHByZXYubWFwKFxuICAgICAgICAoY2hhdCkgPT4gY2hhdC5pZCA9PT0gY3VycmVudENoYXRJZCA/IHsgLi4uY2hhdCwgZG9tQ29udGV4dEVsZW1lbnRzOiBbXSB9IDogY2hhdFxuICAgICAgKVxuICAgICk7XG4gICAgaWYgKGNoYXRBcmVhU3RhdGUgPT09IFwiY29tcGFjdFwiKSB7XG4gICAgICBpbnRlcm5hbFNldENoYXRBcmVhU3RhdGUoXCJoaWRkZW5cIik7XG4gICAgfVxuICB9LCBbY3VycmVudENoYXRJZCwgY2hhdEFyZWFTdGF0ZV0pO1xuICBjb25zdCBzZXRDaGF0QXJlYVN0YXRlID0gcSQzKFxuICAgIChzdGF0ZSkgPT4ge1xuICAgICAgaW50ZXJuYWxTZXRDaGF0QXJlYVN0YXRlKHN0YXRlKTtcbiAgICAgIGlmIChzdGF0ZSA9PT0gXCJoaWRkZW5cIikge1xuICAgICAgICBzdG9wUHJvbXB0Q3JlYXRpb24oKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtpbnRlcm5hbFNldENoYXRBcmVhU3RhdGUsIHN0b3BQcm9tcHRDcmVhdGlvbl1cbiAgKTtcbiAgY29uc3QgYWRkQ2hhdERvbUNvbnRleHQgPSBxJDMoXG4gICAgKGNoYXRJZCwgZWxlbWVudCkgPT4ge1xuICAgICAgc2V0Q2hhdHMoXG4gICAgICAgIChwcmV2KSA9PiBwcmV2Lm1hcChcbiAgICAgICAgICAoY2hhdCkgPT4gY2hhdC5pZCA9PT0gY2hhdElkID8ge1xuICAgICAgICAgICAgLi4uY2hhdCxcbiAgICAgICAgICAgIGRvbUNvbnRleHRFbGVtZW50czogWy4uLmNoYXQuZG9tQ29udGV4dEVsZW1lbnRzLCBlbGVtZW50XVxuICAgICAgICAgIH0gOiBjaGF0XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSxcbiAgICBbXVxuICApO1xuICBjb25zdCByZW1vdmVDaGF0RG9tQ29udGV4dCA9IHEkMyhcbiAgICAoY2hhdElkLCBlbGVtZW50KSA9PiB7XG4gICAgICBzZXRDaGF0cyhcbiAgICAgICAgKHByZXYpID0+IHByZXYubWFwKFxuICAgICAgICAgIChjaGF0KSA9PiBjaGF0LmlkID09PSBjaGF0SWQgPyB7XG4gICAgICAgICAgICAuLi5jaGF0LFxuICAgICAgICAgICAgZG9tQ29udGV4dEVsZW1lbnRzOiBjaGF0LmRvbUNvbnRleHRFbGVtZW50cy5maWx0ZXIoXG4gICAgICAgICAgICAgIChlMikgPT4gZTIgIT09IGVsZW1lbnRcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9IDogY2hhdFxuICAgICAgICApXG4gICAgICApO1xuICAgIH0sXG4gICAgW11cbiAgKTtcbiAgY29uc3QgYWRkTWVzc2FnZSA9IHEkMyhcbiAgICAoY2hhdElkLCBjb250ZW50KSA9PiB7XG4gICAgICBpZiAoIWNvbnRlbnQudHJpbSgpKSByZXR1cm47XG4gICAgICBjb25zdCBjaGF0ID0gY2hhdHMuZmluZCgoY2hhdDIpID0+IGNoYXQyLmlkID09PSBjaGF0SWQpO1xuICAgICAgY29uc3QgcHJvbXB0ID0gY3JlYXRlUHJvbXB0KFxuICAgICAgICBjaGF0ID09IG51bGwgPyB2b2lkIDAgOiBjaGF0LmRvbUNvbnRleHRFbGVtZW50cyxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWZcbiAgICAgICk7XG4gICAgICBjb25zdCBuZXdNZXNzYWdlID0ge1xuICAgICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgICAgY29udGVudDogY29udGVudC50cmltKCksXG4gICAgICAgIHNlbmRlcjogXCJ1c2VyXCIsXG4gICAgICAgIHR5cGU6IFwicmVndWxhclwiLFxuICAgICAgICB0aW1lc3RhbXA6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpXG4gICAgICB9O1xuICAgICAgYXN5bmMgZnVuY3Rpb24gdHJpZ2dlckFnZW50UHJvbXB0KCkge1xuICAgICAgICBpZiAoYnJpZGdlKSB7XG4gICAgICAgICAgYXdhaXQgYnJpZGdlLmNhbGwudHJpZ2dlckFnZW50UHJvbXB0KFxuICAgICAgICAgICAgeyBwcm9tcHQgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb25VcGRhdGU6ICh1cGRhdGUpID0+IHtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRyaWdnZXJBZ2VudFByb21wdCgpO1xuICAgICAgc2V0SXNQcm9tcHRDcmVhdGlvbk1vZGUoZmFsc2UpO1xuICAgICAgaWYgKGNoYXRBcmVhU3RhdGUgPT09IFwiaGlkZGVuXCIpIHtcbiAgICAgICAgaW50ZXJuYWxTZXRDaGF0QXJlYVN0YXRlKFwiY29tcGFjdFwiKTtcbiAgICAgIH1cbiAgICAgIHNldENoYXRzKFxuICAgICAgICAocHJldikgPT4gcHJldi5tYXAoXG4gICAgICAgICAgKGNoYXQyKSA9PiBjaGF0Mi5pZCA9PT0gY2hhdElkID8ge1xuICAgICAgICAgICAgLi4uY2hhdDIsXG4gICAgICAgICAgICBtZXNzYWdlczogWy4uLmNoYXQyLm1lc3NhZ2VzLCBuZXdNZXNzYWdlXSxcbiAgICAgICAgICAgIGlucHV0VmFsdWU6IFwiXCIsXG4gICAgICAgICAgICBkb21Db250ZXh0RWxlbWVudHM6IFtdXG4gICAgICAgICAgfSA6IGNoYXQyXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSxcbiAgICBbXG4gICAgICBjaGF0QXJlYVN0YXRlLFxuICAgICAgYnJpZGdlLFxuICAgICAgY2hhdHMsXG4gICAgICBzZXRJc1Byb21wdENyZWF0aW9uTW9kZSxcbiAgICAgIGludGVybmFsU2V0Q2hhdEFyZWFTdGF0ZVxuICAgIF1cbiAgKTtcbiAgY29uc3QgdmFsdWUgPSB7XG4gICAgY2hhdHMsXG4gICAgY3VycmVudENoYXRJZCxcbiAgICBjcmVhdGVDaGF0LFxuICAgIGRlbGV0ZUNoYXQsXG4gICAgc2V0Q3VycmVudENoYXQsXG4gICAgc2V0Q2hhdElucHV0LFxuICAgIGFkZE1lc3NhZ2UsXG4gICAgY2hhdEFyZWFTdGF0ZSxcbiAgICBzZXRDaGF0QXJlYVN0YXRlLFxuICAgIGlzUHJvbXB0Q3JlYXRpb25BY3RpdmU6IGlzUHJvbXB0Q3JlYXRpb25Nb2RlLFxuICAgIHN0YXJ0UHJvbXB0Q3JlYXRpb24sXG4gICAgc3RvcFByb21wdENyZWF0aW9uLFxuICAgIGFkZENoYXREb21Db250ZXh0LFxuICAgIHJlbW92ZUNoYXREb21Db250ZXh0XG4gIH07XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KENoYXRDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlLCBjaGlsZHJlbiB9KTtcbn07XG5mdW5jdGlvbiB1c2VDaGF0U3RhdGUoKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB4JDQoQ2hhdENvbnRleHQpO1xuICBpZiAoIWNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VDaGF0U3RhdGUgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIENoYXRTdGF0ZVByb3ZpZGVyXCIpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufVxuZnVuY3Rpb24gdXNlQ3ljbGljVXBkYXRlKGZ1bmMsIGZyYW1lUmF0ZSkge1xuICBjb25zdCBhbmltYXRpb25GcmFtZUhhbmRsZSA9IEEkMyh2b2lkIDApO1xuICBjb25zdCB0aW1lQmV0d2VlbkZyYW1lcyA9IFQkNShcbiAgICAoKSA9PiBmcmFtZVJhdGUgJiYgZnJhbWVSYXRlID4gMCA/IDFlMyAvIGZyYW1lUmF0ZSA6IDAsXG4gICAgW2ZyYW1lUmF0ZV1cbiAgKTtcbiAgY29uc3QgbGFzdENhbGxGcmFtZVRpbWUgPSBBJDMoMCk7XG4gIGNvbnN0IHVwZGF0ZSA9IHEkMyhcbiAgICAoZnJhbWVUaW1lKSA9PiB7XG4gICAgICBpZiAoZnJhbWVUaW1lIC0gbGFzdENhbGxGcmFtZVRpbWUuY3VycmVudCA+PSB0aW1lQmV0d2VlbkZyYW1lcykge1xuICAgICAgICBmdW5jKCk7XG4gICAgICAgIGxhc3RDYWxsRnJhbWVUaW1lLmN1cnJlbnQgPSBmcmFtZVRpbWU7XG4gICAgICB9XG4gICAgICBhbmltYXRpb25GcmFtZUhhbmRsZS5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZSk7XG4gICAgfSxcbiAgICBbZnVuYywgdGltZUJldHdlZW5GcmFtZXNdXG4gICk7XG4gIHkkNigoKSA9PiB7XG4gICAgaWYgKCFmcmFtZVJhdGUgfHwgZnJhbWVSYXRlID4gMCkge1xuICAgICAgYW5pbWF0aW9uRnJhbWVIYW5kbGUuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGFuaW1hdGlvbkZyYW1lSGFuZGxlLmN1cnJlbnQpIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVIYW5kbGUuY3VycmVudCk7XG4gICAgICAgIGFuaW1hdGlvbkZyYW1lSGFuZGxlLmN1cnJlbnQgPSB2b2lkIDA7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2ZyYW1lUmF0ZSwgdXBkYXRlXSk7XG59XG5jb25zdCBMb2NhdGlvbkNvbnRleHQgPSBLJDMobmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZikpO1xuZnVuY3Rpb24gTG9jYXRpb25Qcm92aWRlcih7XG4gIGNoaWxkcmVuXG59KSB7XG4gIGNvbnN0IFtjdXJyZW50VXJsLCBzZXRDdXJyZW50VXJsXSA9IGQkNChcbiAgICBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKVxuICApO1xuICBjb25zdCB1cGRhdGUgPSBxJDMoKCkgPT4ge1xuICAgIHNldEN1cnJlbnRVcmwobmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZikpO1xuICB9LCBbXSk7XG4gIHVzZUN5Y2xpY1VwZGF0ZSh1cGRhdGUsIDE1KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoTG9jYXRpb25Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjdXJyZW50VXJsLCBjaGlsZHJlbiB9KTtcbn1cbmZ1bmN0aW9uIENvbnRleHRQcm92aWRlcnMoe1xuICBjaGlsZHJlbixcbiAgY29uZmlnXG59KSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KExvY2F0aW9uUHJvdmlkZXIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoU1JQQ0JyaWRnZVByb3ZpZGVyLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gdSQ5KFBsdWdpblByb3ZpZGVyLCB7IHBsdWdpbnM6IChjb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy5wbHVnaW5zKSB8fCBbXSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoQ2hhdFN0YXRlUHJvdmlkZXIsIHsgY2hpbGRyZW4gfSkgfSkgfSkgfSk7XG59XG5mdW5jdGlvbiB1c2VFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucywgZWxlbWVudCA9IHdpbmRvdykge1xuICB5JDYoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm47XG4gICAgaWYgKCFlbGVtZW50KSByZXR1cm47XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuICgpID0+IGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpO1xuICB9LCBbZXZlbnROYW1lLCBoYW5kbGVyLCBlbGVtZW50LCBvcHRpb25zXSk7XG59XG5mdW5jdGlvbiByJDMoZTIpIHtcbiAgdmFyIHQyLCBmMiwgbjIgPSBcIlwiO1xuICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZTIgfHwgXCJudW1iZXJcIiA9PSB0eXBlb2YgZTIpIG4yICs9IGUyO1xuICBlbHNlIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBlMikgaWYgKEFycmF5LmlzQXJyYXkoZTIpKSB7XG4gICAgdmFyIG8zID0gZTIubGVuZ3RoO1xuICAgIGZvciAodDIgPSAwOyB0MiA8IG8zOyB0MisrKSBlMlt0Ml0gJiYgKGYyID0gciQzKGUyW3QyXSkpICYmIChuMiAmJiAobjIgKz0gXCIgXCIpLCBuMiArPSBmMik7XG4gIH0gZWxzZSBmb3IgKGYyIGluIGUyKSBlMltmMl0gJiYgKG4yICYmIChuMiArPSBcIiBcIiksIG4yICs9IGYyKTtcbiAgcmV0dXJuIG4yO1xufVxuZnVuY3Rpb24gY2xzeCgpIHtcbiAgZm9yICh2YXIgZTIsIHQyLCBmMiA9IDAsIG4yID0gXCJcIiwgbzMgPSBhcmd1bWVudHMubGVuZ3RoOyBmMiA8IG8zOyBmMisrKSAoZTIgPSBhcmd1bWVudHNbZjJdKSAmJiAodDIgPSByJDMoZTIpKSAmJiAobjIgJiYgKG4yICs9IFwiIFwiKSwgbjIgKz0gdDIpO1xuICByZXR1cm4gbjI7XG59XG5jb25zdCBDTEFTU19QQVJUX1NFUEFSQVRPUiA9IFwiLVwiO1xuY29uc3QgY3JlYXRlQ2xhc3NHcm91cFV0aWxzID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBjbGFzc01hcCA9IGNyZWF0ZUNsYXNzTWFwKGNvbmZpZyk7XG4gIGNvbnN0IHtcbiAgICBjb25mbGljdGluZ0NsYXNzR3JvdXBzLFxuICAgIGNvbmZsaWN0aW5nQ2xhc3NHcm91cE1vZGlmaWVyc1xuICB9ID0gY29uZmlnO1xuICBjb25zdCBnZXRDbGFzc0dyb3VwSWQgPSAoY2xhc3NOYW1lKSA9PiB7XG4gICAgY29uc3QgY2xhc3NQYXJ0cyA9IGNsYXNzTmFtZS5zcGxpdChDTEFTU19QQVJUX1NFUEFSQVRPUik7XG4gICAgaWYgKGNsYXNzUGFydHNbMF0gPT09IFwiXCIgJiYgY2xhc3NQYXJ0cy5sZW5ndGggIT09IDEpIHtcbiAgICAgIGNsYXNzUGFydHMuc2hpZnQoKTtcbiAgICB9XG4gICAgcmV0dXJuIGdldEdyb3VwUmVjdXJzaXZlKGNsYXNzUGFydHMsIGNsYXNzTWFwKSB8fCBnZXRHcm91cElkRm9yQXJiaXRyYXJ5UHJvcGVydHkoY2xhc3NOYW1lKTtcbiAgfTtcbiAgY29uc3QgZ2V0Q29uZmxpY3RpbmdDbGFzc0dyb3VwSWRzID0gKGNsYXNzR3JvdXBJZCwgaGFzUG9zdGZpeE1vZGlmaWVyKSA9PiB7XG4gICAgY29uc3QgY29uZmxpY3RzID0gY29uZmxpY3RpbmdDbGFzc0dyb3Vwc1tjbGFzc0dyb3VwSWRdIHx8IFtdO1xuICAgIGlmIChoYXNQb3N0Zml4TW9kaWZpZXIgJiYgY29uZmxpY3RpbmdDbGFzc0dyb3VwTW9kaWZpZXJzW2NsYXNzR3JvdXBJZF0pIHtcbiAgICAgIHJldHVybiBbLi4uY29uZmxpY3RzLCAuLi5jb25mbGljdGluZ0NsYXNzR3JvdXBNb2RpZmllcnNbY2xhc3NHcm91cElkXV07XG4gICAgfVxuICAgIHJldHVybiBjb25mbGljdHM7XG4gIH07XG4gIHJldHVybiB7XG4gICAgZ2V0Q2xhc3NHcm91cElkLFxuICAgIGdldENvbmZsaWN0aW5nQ2xhc3NHcm91cElkc1xuICB9O1xufTtcbmNvbnN0IGdldEdyb3VwUmVjdXJzaXZlID0gKGNsYXNzUGFydHMsIGNsYXNzUGFydE9iamVjdCkgPT4ge1xuICB2YXIgX2E7XG4gIGlmIChjbGFzc1BhcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBjbGFzc1BhcnRPYmplY3QuY2xhc3NHcm91cElkO1xuICB9XG4gIGNvbnN0IGN1cnJlbnRDbGFzc1BhcnQgPSBjbGFzc1BhcnRzWzBdO1xuICBjb25zdCBuZXh0Q2xhc3NQYXJ0T2JqZWN0ID0gY2xhc3NQYXJ0T2JqZWN0Lm5leHRQYXJ0LmdldChjdXJyZW50Q2xhc3NQYXJ0KTtcbiAgY29uc3QgY2xhc3NHcm91cEZyb21OZXh0Q2xhc3NQYXJ0ID0gbmV4dENsYXNzUGFydE9iamVjdCA/IGdldEdyb3VwUmVjdXJzaXZlKGNsYXNzUGFydHMuc2xpY2UoMSksIG5leHRDbGFzc1BhcnRPYmplY3QpIDogdm9pZCAwO1xuICBpZiAoY2xhc3NHcm91cEZyb21OZXh0Q2xhc3NQYXJ0KSB7XG4gICAgcmV0dXJuIGNsYXNzR3JvdXBGcm9tTmV4dENsYXNzUGFydDtcbiAgfVxuICBpZiAoY2xhc3NQYXJ0T2JqZWN0LnZhbGlkYXRvcnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCBjbGFzc1Jlc3QgPSBjbGFzc1BhcnRzLmpvaW4oQ0xBU1NfUEFSVF9TRVBBUkFUT1IpO1xuICByZXR1cm4gKF9hID0gY2xhc3NQYXJ0T2JqZWN0LnZhbGlkYXRvcnMuZmluZCgoe1xuICAgIHZhbGlkYXRvclxuICB9KSA9PiB2YWxpZGF0b3IoY2xhc3NSZXN0KSkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jbGFzc0dyb3VwSWQ7XG59O1xuY29uc3QgYXJiaXRyYXJ5UHJvcGVydHlSZWdleCA9IC9eXFxbKC4rKVxcXSQvO1xuY29uc3QgZ2V0R3JvdXBJZEZvckFyYml0cmFyeVByb3BlcnR5ID0gKGNsYXNzTmFtZSkgPT4ge1xuICBpZiAoYXJiaXRyYXJ5UHJvcGVydHlSZWdleC50ZXN0KGNsYXNzTmFtZSkpIHtcbiAgICBjb25zdCBhcmJpdHJhcnlQcm9wZXJ0eUNsYXNzTmFtZSA9IGFyYml0cmFyeVByb3BlcnR5UmVnZXguZXhlYyhjbGFzc05hbWUpWzFdO1xuICAgIGNvbnN0IHByb3BlcnR5ID0gYXJiaXRyYXJ5UHJvcGVydHlDbGFzc05hbWUgPT0gbnVsbCA/IHZvaWQgMCA6IGFyYml0cmFyeVByb3BlcnR5Q2xhc3NOYW1lLnN1YnN0cmluZygwLCBhcmJpdHJhcnlQcm9wZXJ0eUNsYXNzTmFtZS5pbmRleE9mKFwiOlwiKSk7XG4gICAgaWYgKHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gXCJhcmJpdHJhcnkuLlwiICsgcHJvcGVydHk7XG4gICAgfVxuICB9XG59O1xuY29uc3QgY3JlYXRlQ2xhc3NNYXAgPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IHtcbiAgICB0aGVtZSxcbiAgICBjbGFzc0dyb3Vwc1xuICB9ID0gY29uZmlnO1xuICBjb25zdCBjbGFzc01hcCA9IHtcbiAgICBuZXh0UGFydDogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICB2YWxpZGF0b3JzOiBbXVxuICB9O1xuICBmb3IgKGNvbnN0IGNsYXNzR3JvdXBJZCBpbiBjbGFzc0dyb3Vwcykge1xuICAgIHByb2Nlc3NDbGFzc2VzUmVjdXJzaXZlbHkoY2xhc3NHcm91cHNbY2xhc3NHcm91cElkXSwgY2xhc3NNYXAsIGNsYXNzR3JvdXBJZCwgdGhlbWUpO1xuICB9XG4gIHJldHVybiBjbGFzc01hcDtcbn07XG5jb25zdCBwcm9jZXNzQ2xhc3Nlc1JlY3Vyc2l2ZWx5ID0gKGNsYXNzR3JvdXAsIGNsYXNzUGFydE9iamVjdCwgY2xhc3NHcm91cElkLCB0aGVtZSkgPT4ge1xuICBjbGFzc0dyb3VwLmZvckVhY2goKGNsYXNzRGVmaW5pdGlvbikgPT4ge1xuICAgIGlmICh0eXBlb2YgY2xhc3NEZWZpbml0aW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb25zdCBjbGFzc1BhcnRPYmplY3RUb0VkaXQgPSBjbGFzc0RlZmluaXRpb24gPT09IFwiXCIgPyBjbGFzc1BhcnRPYmplY3QgOiBnZXRQYXJ0KGNsYXNzUGFydE9iamVjdCwgY2xhc3NEZWZpbml0aW9uKTtcbiAgICAgIGNsYXNzUGFydE9iamVjdFRvRWRpdC5jbGFzc0dyb3VwSWQgPSBjbGFzc0dyb3VwSWQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2xhc3NEZWZpbml0aW9uID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGlmIChpc1RoZW1lR2V0dGVyKGNsYXNzRGVmaW5pdGlvbikpIHtcbiAgICAgICAgcHJvY2Vzc0NsYXNzZXNSZWN1cnNpdmVseShjbGFzc0RlZmluaXRpb24odGhlbWUpLCBjbGFzc1BhcnRPYmplY3QsIGNsYXNzR3JvdXBJZCwgdGhlbWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbGFzc1BhcnRPYmplY3QudmFsaWRhdG9ycy5wdXNoKHtcbiAgICAgICAgdmFsaWRhdG9yOiBjbGFzc0RlZmluaXRpb24sXG4gICAgICAgIGNsYXNzR3JvdXBJZFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIE9iamVjdC5lbnRyaWVzKGNsYXNzRGVmaW5pdGlvbikuZm9yRWFjaCgoW2tleSwgY2xhc3NHcm91cDJdKSA9PiB7XG4gICAgICBwcm9jZXNzQ2xhc3Nlc1JlY3Vyc2l2ZWx5KGNsYXNzR3JvdXAyLCBnZXRQYXJ0KGNsYXNzUGFydE9iamVjdCwga2V5KSwgY2xhc3NHcm91cElkLCB0aGVtZSk7XG4gICAgfSk7XG4gIH0pO1xufTtcbmNvbnN0IGdldFBhcnQgPSAoY2xhc3NQYXJ0T2JqZWN0LCBwYXRoKSA9PiB7XG4gIGxldCBjdXJyZW50Q2xhc3NQYXJ0T2JqZWN0ID0gY2xhc3NQYXJ0T2JqZWN0O1xuICBwYXRoLnNwbGl0KENMQVNTX1BBUlRfU0VQQVJBVE9SKS5mb3JFYWNoKChwYXRoUGFydCkgPT4ge1xuICAgIGlmICghY3VycmVudENsYXNzUGFydE9iamVjdC5uZXh0UGFydC5oYXMocGF0aFBhcnQpKSB7XG4gICAgICBjdXJyZW50Q2xhc3NQYXJ0T2JqZWN0Lm5leHRQYXJ0LnNldChwYXRoUGFydCwge1xuICAgICAgICBuZXh0UGFydDogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICAgICAgdmFsaWRhdG9yczogW11cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjdXJyZW50Q2xhc3NQYXJ0T2JqZWN0ID0gY3VycmVudENsYXNzUGFydE9iamVjdC5uZXh0UGFydC5nZXQocGF0aFBhcnQpO1xuICB9KTtcbiAgcmV0dXJuIGN1cnJlbnRDbGFzc1BhcnRPYmplY3Q7XG59O1xuY29uc3QgaXNUaGVtZUdldHRlciA9IChmdW5jKSA9PiBmdW5jLmlzVGhlbWVHZXR0ZXI7XG5jb25zdCBjcmVhdGVMcnVDYWNoZSA9IChtYXhDYWNoZVNpemUpID0+IHtcbiAgaWYgKG1heENhY2hlU2l6ZSA8IDEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0OiAoKSA9PiB2b2lkIDAsXG4gICAgICBzZXQ6ICgpID0+IHtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGxldCBjYWNoZVNpemUgPSAwO1xuICBsZXQgY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBsZXQgcHJldmlvdXNDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGNvbnN0IHVwZGF0ZSA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgY2FjaGUuc2V0KGtleSwgdmFsdWUpO1xuICAgIGNhY2hlU2l6ZSsrO1xuICAgIGlmIChjYWNoZVNpemUgPiBtYXhDYWNoZVNpemUpIHtcbiAgICAgIGNhY2hlU2l6ZSA9IDA7XG4gICAgICBwcmV2aW91c0NhY2hlID0gY2FjaGU7XG4gICAgICBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4ge1xuICAgIGdldChrZXkpIHtcbiAgICAgIGxldCB2YWx1ZSA9IGNhY2hlLmdldChrZXkpO1xuICAgICAgaWYgKHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKCh2YWx1ZSA9IHByZXZpb3VzQ2FjaGUuZ2V0KGtleSkpICE9PSB2b2lkIDApIHtcbiAgICAgICAgdXBkYXRlKGtleSwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgIGNhY2hlLnNldChrZXksIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZShrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuY29uc3QgSU1QT1JUQU5UX01PRElGSUVSID0gXCIhXCI7XG5jb25zdCBNT0RJRklFUl9TRVBBUkFUT1IgPSBcIjpcIjtcbmNvbnN0IE1PRElGSUVSX1NFUEFSQVRPUl9MRU5HVEggPSBNT0RJRklFUl9TRVBBUkFUT1IubGVuZ3RoO1xuY29uc3QgY3JlYXRlUGFyc2VDbGFzc05hbWUgPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBwcmVmaXgsXG4gICAgZXhwZXJpbWVudGFsUGFyc2VDbGFzc05hbWVcbiAgfSA9IGNvbmZpZztcbiAgbGV0IHBhcnNlQ2xhc3NOYW1lID0gKGNsYXNzTmFtZSkgPT4ge1xuICAgIGNvbnN0IG1vZGlmaWVycyA9IFtdO1xuICAgIGxldCBicmFja2V0RGVwdGggPSAwO1xuICAgIGxldCBwYXJlbkRlcHRoID0gMDtcbiAgICBsZXQgbW9kaWZpZXJTdGFydCA9IDA7XG4gICAgbGV0IHBvc3RmaXhNb2RpZmllclBvc2l0aW9uO1xuICAgIGZvciAobGV0IGluZGV4MiA9IDA7IGluZGV4MiA8IGNsYXNzTmFtZS5sZW5ndGg7IGluZGV4MisrKSB7XG4gICAgICBsZXQgY3VycmVudENoYXJhY3RlciA9IGNsYXNzTmFtZVtpbmRleDJdO1xuICAgICAgaWYgKGJyYWNrZXREZXB0aCA9PT0gMCAmJiBwYXJlbkRlcHRoID09PSAwKSB7XG4gICAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyID09PSBNT0RJRklFUl9TRVBBUkFUT1IpIHtcbiAgICAgICAgICBtb2RpZmllcnMucHVzaChjbGFzc05hbWUuc2xpY2UobW9kaWZpZXJTdGFydCwgaW5kZXgyKSk7XG4gICAgICAgICAgbW9kaWZpZXJTdGFydCA9IGluZGV4MiArIE1PRElGSUVSX1NFUEFSQVRPUl9MRU5HVEg7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIgPT09IFwiL1wiKSB7XG4gICAgICAgICAgcG9zdGZpeE1vZGlmaWVyUG9zaXRpb24gPSBpbmRleDI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyID09PSBcIltcIikge1xuICAgICAgICBicmFja2V0RGVwdGgrKztcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudENoYXJhY3RlciA9PT0gXCJdXCIpIHtcbiAgICAgICAgYnJhY2tldERlcHRoLS07XG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnRDaGFyYWN0ZXIgPT09IFwiKFwiKSB7XG4gICAgICAgIHBhcmVuRGVwdGgrKztcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudENoYXJhY3RlciA9PT0gXCIpXCIpIHtcbiAgICAgICAgcGFyZW5EZXB0aC0tO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBiYXNlQ2xhc3NOYW1lV2l0aEltcG9ydGFudE1vZGlmaWVyID0gbW9kaWZpZXJzLmxlbmd0aCA9PT0gMCA/IGNsYXNzTmFtZSA6IGNsYXNzTmFtZS5zdWJzdHJpbmcobW9kaWZpZXJTdGFydCk7XG4gICAgY29uc3QgYmFzZUNsYXNzTmFtZSA9IHN0cmlwSW1wb3J0YW50TW9kaWZpZXIoYmFzZUNsYXNzTmFtZVdpdGhJbXBvcnRhbnRNb2RpZmllcik7XG4gICAgY29uc3QgaGFzSW1wb3J0YW50TW9kaWZpZXIgPSBiYXNlQ2xhc3NOYW1lICE9PSBiYXNlQ2xhc3NOYW1lV2l0aEltcG9ydGFudE1vZGlmaWVyO1xuICAgIGNvbnN0IG1heWJlUG9zdGZpeE1vZGlmaWVyUG9zaXRpb24gPSBwb3N0Zml4TW9kaWZpZXJQb3NpdGlvbiAmJiBwb3N0Zml4TW9kaWZpZXJQb3NpdGlvbiA+IG1vZGlmaWVyU3RhcnQgPyBwb3N0Zml4TW9kaWZpZXJQb3NpdGlvbiAtIG1vZGlmaWVyU3RhcnQgOiB2b2lkIDA7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1vZGlmaWVycyxcbiAgICAgIGhhc0ltcG9ydGFudE1vZGlmaWVyLFxuICAgICAgYmFzZUNsYXNzTmFtZSxcbiAgICAgIG1heWJlUG9zdGZpeE1vZGlmaWVyUG9zaXRpb25cbiAgICB9O1xuICB9O1xuICBpZiAocHJlZml4KSB7XG4gICAgY29uc3QgZnVsbFByZWZpeCA9IHByZWZpeCArIE1PRElGSUVSX1NFUEFSQVRPUjtcbiAgICBjb25zdCBwYXJzZUNsYXNzTmFtZU9yaWdpbmFsID0gcGFyc2VDbGFzc05hbWU7XG4gICAgcGFyc2VDbGFzc05hbWUgPSAoY2xhc3NOYW1lKSA9PiBjbGFzc05hbWUuc3RhcnRzV2l0aChmdWxsUHJlZml4KSA/IHBhcnNlQ2xhc3NOYW1lT3JpZ2luYWwoY2xhc3NOYW1lLnN1YnN0cmluZyhmdWxsUHJlZml4Lmxlbmd0aCkpIDoge1xuICAgICAgaXNFeHRlcm5hbDogdHJ1ZSxcbiAgICAgIG1vZGlmaWVyczogW10sXG4gICAgICBoYXNJbXBvcnRhbnRNb2RpZmllcjogZmFsc2UsXG4gICAgICBiYXNlQ2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBtYXliZVBvc3RmaXhNb2RpZmllclBvc2l0aW9uOiB2b2lkIDBcbiAgICB9O1xuICB9XG4gIGlmIChleHBlcmltZW50YWxQYXJzZUNsYXNzTmFtZSkge1xuICAgIGNvbnN0IHBhcnNlQ2xhc3NOYW1lT3JpZ2luYWwgPSBwYXJzZUNsYXNzTmFtZTtcbiAgICBwYXJzZUNsYXNzTmFtZSA9IChjbGFzc05hbWUpID0+IGV4cGVyaW1lbnRhbFBhcnNlQ2xhc3NOYW1lKHtcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIHBhcnNlQ2xhc3NOYW1lOiBwYXJzZUNsYXNzTmFtZU9yaWdpbmFsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHBhcnNlQ2xhc3NOYW1lO1xufTtcbmNvbnN0IHN0cmlwSW1wb3J0YW50TW9kaWZpZXIgPSAoYmFzZUNsYXNzTmFtZSkgPT4ge1xuICBpZiAoYmFzZUNsYXNzTmFtZS5lbmRzV2l0aChJTVBPUlRBTlRfTU9ESUZJRVIpKSB7XG4gICAgcmV0dXJuIGJhc2VDbGFzc05hbWUuc3Vic3RyaW5nKDAsIGJhc2VDbGFzc05hbWUubGVuZ3RoIC0gMSk7XG4gIH1cbiAgaWYgKGJhc2VDbGFzc05hbWUuc3RhcnRzV2l0aChJTVBPUlRBTlRfTU9ESUZJRVIpKSB7XG4gICAgcmV0dXJuIGJhc2VDbGFzc05hbWUuc3Vic3RyaW5nKDEpO1xuICB9XG4gIHJldHVybiBiYXNlQ2xhc3NOYW1lO1xufTtcbmNvbnN0IGNyZWF0ZVNvcnRNb2RpZmllcnMgPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IG9yZGVyU2Vuc2l0aXZlTW9kaWZpZXJzID0gT2JqZWN0LmZyb21FbnRyaWVzKGNvbmZpZy5vcmRlclNlbnNpdGl2ZU1vZGlmaWVycy5tYXAoKG1vZGlmaWVyKSA9PiBbbW9kaWZpZXIsIHRydWVdKSk7XG4gIGNvbnN0IHNvcnRNb2RpZmllcnMgPSAobW9kaWZpZXJzKSA9PiB7XG4gICAgaWYgKG1vZGlmaWVycy5sZW5ndGggPD0gMSkge1xuICAgICAgcmV0dXJuIG1vZGlmaWVycztcbiAgICB9XG4gICAgY29uc3Qgc29ydGVkTW9kaWZpZXJzID0gW107XG4gICAgbGV0IHVuc29ydGVkTW9kaWZpZXJzID0gW107XG4gICAgbW9kaWZpZXJzLmZvckVhY2goKG1vZGlmaWVyKSA9PiB7XG4gICAgICBjb25zdCBpc1Bvc2l0aW9uU2Vuc2l0aXZlID0gbW9kaWZpZXJbMF0gPT09IFwiW1wiIHx8IG9yZGVyU2Vuc2l0aXZlTW9kaWZpZXJzW21vZGlmaWVyXTtcbiAgICAgIGlmIChpc1Bvc2l0aW9uU2Vuc2l0aXZlKSB7XG4gICAgICAgIHNvcnRlZE1vZGlmaWVycy5wdXNoKC4uLnVuc29ydGVkTW9kaWZpZXJzLnNvcnQoKSwgbW9kaWZpZXIpO1xuICAgICAgICB1bnNvcnRlZE1vZGlmaWVycyA9IFtdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdW5zb3J0ZWRNb2RpZmllcnMucHVzaChtb2RpZmllcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc29ydGVkTW9kaWZpZXJzLnB1c2goLi4udW5zb3J0ZWRNb2RpZmllcnMuc29ydCgpKTtcbiAgICByZXR1cm4gc29ydGVkTW9kaWZpZXJzO1xuICB9O1xuICByZXR1cm4gc29ydE1vZGlmaWVycztcbn07XG5jb25zdCBjcmVhdGVDb25maWdVdGlscyA9IChjb25maWcpID0+ICh7XG4gIGNhY2hlOiBjcmVhdGVMcnVDYWNoZShjb25maWcuY2FjaGVTaXplKSxcbiAgcGFyc2VDbGFzc05hbWU6IGNyZWF0ZVBhcnNlQ2xhc3NOYW1lKGNvbmZpZyksXG4gIHNvcnRNb2RpZmllcnM6IGNyZWF0ZVNvcnRNb2RpZmllcnMoY29uZmlnKSxcbiAgLi4uY3JlYXRlQ2xhc3NHcm91cFV0aWxzKGNvbmZpZylcbn0pO1xuY29uc3QgU1BMSVRfQ0xBU1NFU19SRUdFWCA9IC9cXHMrLztcbmNvbnN0IG1lcmdlQ2xhc3NMaXN0ID0gKGNsYXNzTGlzdCwgY29uZmlnVXRpbHMpID0+IHtcbiAgY29uc3Qge1xuICAgIHBhcnNlQ2xhc3NOYW1lLFxuICAgIGdldENsYXNzR3JvdXBJZCxcbiAgICBnZXRDb25mbGljdGluZ0NsYXNzR3JvdXBJZHMsXG4gICAgc29ydE1vZGlmaWVyc1xuICB9ID0gY29uZmlnVXRpbHM7XG4gIGNvbnN0IGNsYXNzR3JvdXBzSW5Db25mbGljdCA9IFtdO1xuICBjb25zdCBjbGFzc05hbWVzID0gY2xhc3NMaXN0LnRyaW0oKS5zcGxpdChTUExJVF9DTEFTU0VTX1JFR0VYKTtcbiAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gIGZvciAobGV0IGluZGV4MiA9IGNsYXNzTmFtZXMubGVuZ3RoIC0gMTsgaW5kZXgyID49IDA7IGluZGV4MiAtPSAxKSB7XG4gICAgY29uc3Qgb3JpZ2luYWxDbGFzc05hbWUgPSBjbGFzc05hbWVzW2luZGV4Ml07XG4gICAgY29uc3Qge1xuICAgICAgaXNFeHRlcm5hbCxcbiAgICAgIG1vZGlmaWVycyxcbiAgICAgIGhhc0ltcG9ydGFudE1vZGlmaWVyLFxuICAgICAgYmFzZUNsYXNzTmFtZSxcbiAgICAgIG1heWJlUG9zdGZpeE1vZGlmaWVyUG9zaXRpb25cbiAgICB9ID0gcGFyc2VDbGFzc05hbWUob3JpZ2luYWxDbGFzc05hbWUpO1xuICAgIGlmIChpc0V4dGVybmFsKSB7XG4gICAgICByZXN1bHQgPSBvcmlnaW5hbENsYXNzTmFtZSArIChyZXN1bHQubGVuZ3RoID4gMCA/IFwiIFwiICsgcmVzdWx0IDogcmVzdWx0KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBsZXQgaGFzUG9zdGZpeE1vZGlmaWVyID0gISFtYXliZVBvc3RmaXhNb2RpZmllclBvc2l0aW9uO1xuICAgIGxldCBjbGFzc0dyb3VwSWQgPSBnZXRDbGFzc0dyb3VwSWQoaGFzUG9zdGZpeE1vZGlmaWVyID8gYmFzZUNsYXNzTmFtZS5zdWJzdHJpbmcoMCwgbWF5YmVQb3N0Zml4TW9kaWZpZXJQb3NpdGlvbikgOiBiYXNlQ2xhc3NOYW1lKTtcbiAgICBpZiAoIWNsYXNzR3JvdXBJZCkge1xuICAgICAgaWYgKCFoYXNQb3N0Zml4TW9kaWZpZXIpIHtcbiAgICAgICAgcmVzdWx0ID0gb3JpZ2luYWxDbGFzc05hbWUgKyAocmVzdWx0Lmxlbmd0aCA+IDAgPyBcIiBcIiArIHJlc3VsdCA6IHJlc3VsdCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY2xhc3NHcm91cElkID0gZ2V0Q2xhc3NHcm91cElkKGJhc2VDbGFzc05hbWUpO1xuICAgICAgaWYgKCFjbGFzc0dyb3VwSWQpIHtcbiAgICAgICAgcmVzdWx0ID0gb3JpZ2luYWxDbGFzc05hbWUgKyAocmVzdWx0Lmxlbmd0aCA+IDAgPyBcIiBcIiArIHJlc3VsdCA6IHJlc3VsdCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaGFzUG9zdGZpeE1vZGlmaWVyID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHZhcmlhbnRNb2RpZmllciA9IHNvcnRNb2RpZmllcnMobW9kaWZpZXJzKS5qb2luKFwiOlwiKTtcbiAgICBjb25zdCBtb2RpZmllcklkID0gaGFzSW1wb3J0YW50TW9kaWZpZXIgPyB2YXJpYW50TW9kaWZpZXIgKyBJTVBPUlRBTlRfTU9ESUZJRVIgOiB2YXJpYW50TW9kaWZpZXI7XG4gICAgY29uc3QgY2xhc3NJZCA9IG1vZGlmaWVySWQgKyBjbGFzc0dyb3VwSWQ7XG4gICAgaWYgKGNsYXNzR3JvdXBzSW5Db25mbGljdC5pbmNsdWRlcyhjbGFzc0lkKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNsYXNzR3JvdXBzSW5Db25mbGljdC5wdXNoKGNsYXNzSWQpO1xuICAgIGNvbnN0IGNvbmZsaWN0R3JvdXBzID0gZ2V0Q29uZmxpY3RpbmdDbGFzc0dyb3VwSWRzKGNsYXNzR3JvdXBJZCwgaGFzUG9zdGZpeE1vZGlmaWVyKTtcbiAgICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgY29uZmxpY3RHcm91cHMubGVuZ3RoOyArK2kyKSB7XG4gICAgICBjb25zdCBncm91cCA9IGNvbmZsaWN0R3JvdXBzW2kyXTtcbiAgICAgIGNsYXNzR3JvdXBzSW5Db25mbGljdC5wdXNoKG1vZGlmaWVySWQgKyBncm91cCk7XG4gICAgfVxuICAgIHJlc3VsdCA9IG9yaWdpbmFsQ2xhc3NOYW1lICsgKHJlc3VsdC5sZW5ndGggPiAwID8gXCIgXCIgKyByZXN1bHQgOiByZXN1bHQpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZnVuY3Rpb24gdHdKb2luKCkge1xuICBsZXQgaW5kZXgyID0gMDtcbiAgbGV0IGFyZ3VtZW50O1xuICBsZXQgcmVzb2x2ZWRWYWx1ZTtcbiAgbGV0IHN0cmluZyA9IFwiXCI7XG4gIHdoaWxlIChpbmRleDIgPCBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgaWYgKGFyZ3VtZW50ID0gYXJndW1lbnRzW2luZGV4MisrXSkge1xuICAgICAgaWYgKHJlc29sdmVkVmFsdWUgPSB0b1ZhbHVlKGFyZ3VtZW50KSkge1xuICAgICAgICBzdHJpbmcgJiYgKHN0cmluZyArPSBcIiBcIik7XG4gICAgICAgIHN0cmluZyArPSByZXNvbHZlZFZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyaW5nO1xufVxuY29uc3QgdG9WYWx1ZSA9IChtaXgpID0+IHtcbiAgaWYgKHR5cGVvZiBtaXggPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gbWl4O1xuICB9XG4gIGxldCByZXNvbHZlZFZhbHVlO1xuICBsZXQgc3RyaW5nID0gXCJcIjtcbiAgZm9yIChsZXQgazIgPSAwOyBrMiA8IG1peC5sZW5ndGg7IGsyKyspIHtcbiAgICBpZiAobWl4W2syXSkge1xuICAgICAgaWYgKHJlc29sdmVkVmFsdWUgPSB0b1ZhbHVlKG1peFtrMl0pKSB7XG4gICAgICAgIHN0cmluZyAmJiAoc3RyaW5nICs9IFwiIFwiKTtcbiAgICAgICAgc3RyaW5nICs9IHJlc29sdmVkVmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHJpbmc7XG59O1xuZnVuY3Rpb24gY3JlYXRlVGFpbHdpbmRNZXJnZShjcmVhdGVDb25maWdGaXJzdCwgLi4uY3JlYXRlQ29uZmlnUmVzdCkge1xuICBsZXQgY29uZmlnVXRpbHM7XG4gIGxldCBjYWNoZUdldDtcbiAgbGV0IGNhY2hlU2V0O1xuICBsZXQgZnVuY3Rpb25Ub0NhbGwgPSBpbml0VGFpbHdpbmRNZXJnZTtcbiAgZnVuY3Rpb24gaW5pdFRhaWx3aW5kTWVyZ2UoY2xhc3NMaXN0KSB7XG4gICAgY29uc3QgY29uZmlnID0gY3JlYXRlQ29uZmlnUmVzdC5yZWR1Y2UoKHByZXZpb3VzQ29uZmlnLCBjcmVhdGVDb25maWdDdXJyZW50KSA9PiBjcmVhdGVDb25maWdDdXJyZW50KHByZXZpb3VzQ29uZmlnKSwgY3JlYXRlQ29uZmlnRmlyc3QoKSk7XG4gICAgY29uZmlnVXRpbHMgPSBjcmVhdGVDb25maWdVdGlscyhjb25maWcpO1xuICAgIGNhY2hlR2V0ID0gY29uZmlnVXRpbHMuY2FjaGUuZ2V0O1xuICAgIGNhY2hlU2V0ID0gY29uZmlnVXRpbHMuY2FjaGUuc2V0O1xuICAgIGZ1bmN0aW9uVG9DYWxsID0gdGFpbHdpbmRNZXJnZTtcbiAgICByZXR1cm4gdGFpbHdpbmRNZXJnZShjbGFzc0xpc3QpO1xuICB9XG4gIGZ1bmN0aW9uIHRhaWx3aW5kTWVyZ2UoY2xhc3NMaXN0KSB7XG4gICAgY29uc3QgY2FjaGVkUmVzdWx0ID0gY2FjaGVHZXQoY2xhc3NMaXN0KTtcbiAgICBpZiAoY2FjaGVkUmVzdWx0KSB7XG4gICAgICByZXR1cm4gY2FjaGVkUmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBtZXJnZUNsYXNzTGlzdChjbGFzc0xpc3QsIGNvbmZpZ1V0aWxzKTtcbiAgICBjYWNoZVNldChjbGFzc0xpc3QsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gY2FsbFRhaWx3aW5kTWVyZ2UoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uVG9DYWxsKHR3Sm9pbi5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcbiAgfTtcbn1cbmNvbnN0IGZyb21UaGVtZSA9IChrZXkpID0+IHtcbiAgY29uc3QgdGhlbWVHZXR0ZXIgPSAodGhlbWUpID0+IHRoZW1lW2tleV0gfHwgW107XG4gIHRoZW1lR2V0dGVyLmlzVGhlbWVHZXR0ZXIgPSB0cnVlO1xuICByZXR1cm4gdGhlbWVHZXR0ZXI7XG59O1xuY29uc3QgYXJiaXRyYXJ5VmFsdWVSZWdleCA9IC9eXFxbKD86KFxcd1tcXHctXSopOik/KC4rKVxcXSQvaTtcbmNvbnN0IGFyYml0cmFyeVZhcmlhYmxlUmVnZXggPSAvXlxcKCg/OihcXHdbXFx3LV0qKTopPyguKylcXCkkL2k7XG5jb25zdCBmcmFjdGlvblJlZ2V4ID0gL15cXGQrXFwvXFxkKyQvO1xuY29uc3QgdHNoaXJ0VW5pdFJlZ2V4ID0gL14oXFxkKyhcXC5cXGQrKT8pPyh4c3xzbXxtZHxsZ3x4bCkkLztcbmNvbnN0IGxlbmd0aFVuaXRSZWdleCA9IC9cXGQrKCV8cHh8cj9lbXxbc2RsXT92KFtod2liXXxtaW58bWF4KXxwdHxwY3xpbnxjbXxtbXxjYXB8Y2h8ZXh8cj9saHxjcSh3fGh8aXxifG1pbnxtYXgpKXxcXGIoY2FsY3xtaW58bWF4fGNsYW1wKVxcKC4rXFwpfF4wJC87XG5jb25zdCBjb2xvckZ1bmN0aW9uUmVnZXggPSAvXihyZ2JhP3xoc2xhP3xod2J8KG9rKT8obGFifGxjaCkpXFwoLitcXCkkLztcbmNvbnN0IHNoYWRvd1JlZ2V4ID0gL14oaW5zZXRfKT8tPygoXFxkKyk/XFwuPyhcXGQrKVthLXpdK3wwKV8tPygoXFxkKyk/XFwuPyhcXGQrKVthLXpdK3wwKS87XG5jb25zdCBpbWFnZVJlZ2V4ID0gL14odXJsfGltYWdlfGltYWdlLXNldHxjcm9zcy1mYWRlfGVsZW1lbnR8KHJlcGVhdGluZy0pPyhsaW5lYXJ8cmFkaWFsfGNvbmljKS1ncmFkaWVudClcXCguK1xcKSQvO1xuY29uc3QgaXNGcmFjdGlvbiA9ICh2YWx1ZSkgPT4gZnJhY3Rpb25SZWdleC50ZXN0KHZhbHVlKTtcbmNvbnN0IGlzTnVtYmVyID0gKHZhbHVlKSA9PiAhIXZhbHVlICYmICFOdW1iZXIuaXNOYU4oTnVtYmVyKHZhbHVlKSk7XG5jb25zdCBpc0ludGVnZXIgPSAodmFsdWUpID0+ICEhdmFsdWUgJiYgTnVtYmVyLmlzSW50ZWdlcihOdW1iZXIodmFsdWUpKTtcbmNvbnN0IGlzUGVyY2VudCA9ICh2YWx1ZSkgPT4gdmFsdWUuZW5kc1dpdGgoXCIlXCIpICYmIGlzTnVtYmVyKHZhbHVlLnNsaWNlKDAsIC0xKSk7XG5jb25zdCBpc1RzaGlydFNpemUgPSAodmFsdWUpID0+IHRzaGlydFVuaXRSZWdleC50ZXN0KHZhbHVlKTtcbmNvbnN0IGlzQW55ID0gKCkgPT4gdHJ1ZTtcbmNvbnN0IGlzTGVuZ3RoT25seSA9ICh2YWx1ZSkgPT4gKFxuICAvLyBgY29sb3JGdW5jdGlvblJlZ2V4YCBjaGVjayBpcyBuZWNlc3NhcnkgYmVjYXVzZSBjb2xvciBmdW5jdGlvbnMgY2FuIGhhdmUgcGVyY2VudGFnZXMgaW4gdGhlbSB3aGljaCB3aGljaCB3b3VsZCBiZSBpbmNvcnJlY3RseSBjbGFzc2lmaWVkIGFzIGxlbmd0aHMuXG4gIC8vIEZvciBleGFtcGxlLCBgaHNsKDAgMCUgMCUpYCB3b3VsZCBiZSBjbGFzc2lmaWVkIGFzIGEgbGVuZ3RoIHdpdGhvdXQgdGhpcyBjaGVjay5cbiAgLy8gSSBjb3VsZCBhbHNvIHVzZSBsb29rYmVoaW5kIGFzc2VydGlvbiBpbiBgbGVuZ3RoVW5pdFJlZ2V4YCBidXQgdGhhdCBpc24ndCBzdXBwb3J0ZWQgd2lkZWx5IGVub3VnaC5cbiAgbGVuZ3RoVW5pdFJlZ2V4LnRlc3QodmFsdWUpICYmICFjb2xvckZ1bmN0aW9uUmVnZXgudGVzdCh2YWx1ZSlcbik7XG5jb25zdCBpc05ldmVyID0gKCkgPT4gZmFsc2U7XG5jb25zdCBpc1NoYWRvdyA9ICh2YWx1ZSkgPT4gc2hhZG93UmVnZXgudGVzdCh2YWx1ZSk7XG5jb25zdCBpc0ltYWdlID0gKHZhbHVlKSA9PiBpbWFnZVJlZ2V4LnRlc3QodmFsdWUpO1xuY29uc3QgaXNBbnlOb25BcmJpdHJhcnkgPSAodmFsdWUpID0+ICFpc0FyYml0cmFyeVZhbHVlKHZhbHVlKSAmJiAhaXNBcmJpdHJhcnlWYXJpYWJsZSh2YWx1ZSk7XG5jb25zdCBpc0FyYml0cmFyeVNpemUgPSAodmFsdWUpID0+IGdldElzQXJiaXRyYXJ5VmFsdWUodmFsdWUsIGlzTGFiZWxTaXplLCBpc05ldmVyKTtcbmNvbnN0IGlzQXJiaXRyYXJ5VmFsdWUgPSAodmFsdWUpID0+IGFyYml0cmFyeVZhbHVlUmVnZXgudGVzdCh2YWx1ZSk7XG5jb25zdCBpc0FyYml0cmFyeUxlbmd0aCA9ICh2YWx1ZSkgPT4gZ2V0SXNBcmJpdHJhcnlWYWx1ZSh2YWx1ZSwgaXNMYWJlbExlbmd0aCwgaXNMZW5ndGhPbmx5KTtcbmNvbnN0IGlzQXJiaXRyYXJ5TnVtYmVyID0gKHZhbHVlKSA9PiBnZXRJc0FyYml0cmFyeVZhbHVlKHZhbHVlLCBpc0xhYmVsTnVtYmVyLCBpc051bWJlcik7XG5jb25zdCBpc0FyYml0cmFyeVBvc2l0aW9uID0gKHZhbHVlKSA9PiBnZXRJc0FyYml0cmFyeVZhbHVlKHZhbHVlLCBpc0xhYmVsUG9zaXRpb24sIGlzTmV2ZXIpO1xuY29uc3QgaXNBcmJpdHJhcnlJbWFnZSA9ICh2YWx1ZSkgPT4gZ2V0SXNBcmJpdHJhcnlWYWx1ZSh2YWx1ZSwgaXNMYWJlbEltYWdlLCBpc0ltYWdlKTtcbmNvbnN0IGlzQXJiaXRyYXJ5U2hhZG93ID0gKHZhbHVlKSA9PiBnZXRJc0FyYml0cmFyeVZhbHVlKHZhbHVlLCBpc0xhYmVsU2hhZG93LCBpc1NoYWRvdyk7XG5jb25zdCBpc0FyYml0cmFyeVZhcmlhYmxlID0gKHZhbHVlKSA9PiBhcmJpdHJhcnlWYXJpYWJsZVJlZ2V4LnRlc3QodmFsdWUpO1xuY29uc3QgaXNBcmJpdHJhcnlWYXJpYWJsZUxlbmd0aCA9ICh2YWx1ZSkgPT4gZ2V0SXNBcmJpdHJhcnlWYXJpYWJsZSh2YWx1ZSwgaXNMYWJlbExlbmd0aCk7XG5jb25zdCBpc0FyYml0cmFyeVZhcmlhYmxlRmFtaWx5TmFtZSA9ICh2YWx1ZSkgPT4gZ2V0SXNBcmJpdHJhcnlWYXJpYWJsZSh2YWx1ZSwgaXNMYWJlbEZhbWlseU5hbWUpO1xuY29uc3QgaXNBcmJpdHJhcnlWYXJpYWJsZVBvc2l0aW9uID0gKHZhbHVlKSA9PiBnZXRJc0FyYml0cmFyeVZhcmlhYmxlKHZhbHVlLCBpc0xhYmVsUG9zaXRpb24pO1xuY29uc3QgaXNBcmJpdHJhcnlWYXJpYWJsZVNpemUgPSAodmFsdWUpID0+IGdldElzQXJiaXRyYXJ5VmFyaWFibGUodmFsdWUsIGlzTGFiZWxTaXplKTtcbmNvbnN0IGlzQXJiaXRyYXJ5VmFyaWFibGVJbWFnZSA9ICh2YWx1ZSkgPT4gZ2V0SXNBcmJpdHJhcnlWYXJpYWJsZSh2YWx1ZSwgaXNMYWJlbEltYWdlKTtcbmNvbnN0IGlzQXJiaXRyYXJ5VmFyaWFibGVTaGFkb3cgPSAodmFsdWUpID0+IGdldElzQXJiaXRyYXJ5VmFyaWFibGUodmFsdWUsIGlzTGFiZWxTaGFkb3csIHRydWUpO1xuY29uc3QgZ2V0SXNBcmJpdHJhcnlWYWx1ZSA9ICh2YWx1ZSwgdGVzdExhYmVsLCB0ZXN0VmFsdWUpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXJiaXRyYXJ5VmFsdWVSZWdleC5leGVjKHZhbHVlKTtcbiAgaWYgKHJlc3VsdCkge1xuICAgIGlmIChyZXN1bHRbMV0pIHtcbiAgICAgIHJldHVybiB0ZXN0TGFiZWwocmVzdWx0WzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIHRlc3RWYWx1ZShyZXN1bHRbMl0pO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5jb25zdCBnZXRJc0FyYml0cmFyeVZhcmlhYmxlID0gKHZhbHVlLCB0ZXN0TGFiZWwsIHNob3VsZE1hdGNoTm9MYWJlbCA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGFyYml0cmFyeVZhcmlhYmxlUmVnZXguZXhlYyh2YWx1ZSk7XG4gIGlmIChyZXN1bHQpIHtcbiAgICBpZiAocmVzdWx0WzFdKSB7XG4gICAgICByZXR1cm4gdGVzdExhYmVsKHJlc3VsdFsxXSk7XG4gICAgfVxuICAgIHJldHVybiBzaG91bGRNYXRjaE5vTGFiZWw7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbmNvbnN0IGlzTGFiZWxQb3NpdGlvbiA9IChsYWJlbCkgPT4gbGFiZWwgPT09IFwicG9zaXRpb25cIiB8fCBsYWJlbCA9PT0gXCJwZXJjZW50YWdlXCI7XG5jb25zdCBpc0xhYmVsSW1hZ2UgPSAobGFiZWwpID0+IGxhYmVsID09PSBcImltYWdlXCIgfHwgbGFiZWwgPT09IFwidXJsXCI7XG5jb25zdCBpc0xhYmVsU2l6ZSA9IChsYWJlbCkgPT4gbGFiZWwgPT09IFwibGVuZ3RoXCIgfHwgbGFiZWwgPT09IFwic2l6ZVwiIHx8IGxhYmVsID09PSBcImJnLXNpemVcIjtcbmNvbnN0IGlzTGFiZWxMZW5ndGggPSAobGFiZWwpID0+IGxhYmVsID09PSBcImxlbmd0aFwiO1xuY29uc3QgaXNMYWJlbE51bWJlciA9IChsYWJlbCkgPT4gbGFiZWwgPT09IFwibnVtYmVyXCI7XG5jb25zdCBpc0xhYmVsRmFtaWx5TmFtZSA9IChsYWJlbCkgPT4gbGFiZWwgPT09IFwiZmFtaWx5LW5hbWVcIjtcbmNvbnN0IGlzTGFiZWxTaGFkb3cgPSAobGFiZWwpID0+IGxhYmVsID09PSBcInNoYWRvd1wiO1xuY29uc3QgZ2V0RGVmYXVsdENvbmZpZyA9ICgpID0+IHtcbiAgY29uc3QgdGhlbWVDb2xvciA9IGZyb21UaGVtZShcImNvbG9yXCIpO1xuICBjb25zdCB0aGVtZUZvbnQgPSBmcm9tVGhlbWUoXCJmb250XCIpO1xuICBjb25zdCB0aGVtZVRleHQgPSBmcm9tVGhlbWUoXCJ0ZXh0XCIpO1xuICBjb25zdCB0aGVtZUZvbnRXZWlnaHQgPSBmcm9tVGhlbWUoXCJmb250LXdlaWdodFwiKTtcbiAgY29uc3QgdGhlbWVUcmFja2luZyA9IGZyb21UaGVtZShcInRyYWNraW5nXCIpO1xuICBjb25zdCB0aGVtZUxlYWRpbmcgPSBmcm9tVGhlbWUoXCJsZWFkaW5nXCIpO1xuICBjb25zdCB0aGVtZUJyZWFrcG9pbnQgPSBmcm9tVGhlbWUoXCJicmVha3BvaW50XCIpO1xuICBjb25zdCB0aGVtZUNvbnRhaW5lciA9IGZyb21UaGVtZShcImNvbnRhaW5lclwiKTtcbiAgY29uc3QgdGhlbWVTcGFjaW5nID0gZnJvbVRoZW1lKFwic3BhY2luZ1wiKTtcbiAgY29uc3QgdGhlbWVSYWRpdXMgPSBmcm9tVGhlbWUoXCJyYWRpdXNcIik7XG4gIGNvbnN0IHRoZW1lU2hhZG93ID0gZnJvbVRoZW1lKFwic2hhZG93XCIpO1xuICBjb25zdCB0aGVtZUluc2V0U2hhZG93ID0gZnJvbVRoZW1lKFwiaW5zZXQtc2hhZG93XCIpO1xuICBjb25zdCB0aGVtZVRleHRTaGFkb3cgPSBmcm9tVGhlbWUoXCJ0ZXh0LXNoYWRvd1wiKTtcbiAgY29uc3QgdGhlbWVEcm9wU2hhZG93ID0gZnJvbVRoZW1lKFwiZHJvcC1zaGFkb3dcIik7XG4gIGNvbnN0IHRoZW1lQmx1ciA9IGZyb21UaGVtZShcImJsdXJcIik7XG4gIGNvbnN0IHRoZW1lUGVyc3BlY3RpdmUgPSBmcm9tVGhlbWUoXCJwZXJzcGVjdGl2ZVwiKTtcbiAgY29uc3QgdGhlbWVBc3BlY3QgPSBmcm9tVGhlbWUoXCJhc3BlY3RcIik7XG4gIGNvbnN0IHRoZW1lRWFzZSA9IGZyb21UaGVtZShcImVhc2VcIik7XG4gIGNvbnN0IHRoZW1lQW5pbWF0ZSA9IGZyb21UaGVtZShcImFuaW1hdGVcIik7XG4gIGNvbnN0IHNjYWxlQnJlYWsgPSAoKSA9PiBbXCJhdXRvXCIsIFwiYXZvaWRcIiwgXCJhbGxcIiwgXCJhdm9pZC1wYWdlXCIsIFwicGFnZVwiLCBcImxlZnRcIiwgXCJyaWdodFwiLCBcImNvbHVtblwiXTtcbiAgY29uc3Qgc2NhbGVQb3NpdGlvbiA9ICgpID0+IFtcbiAgICBcImNlbnRlclwiLFxuICAgIFwidG9wXCIsXG4gICAgXCJib3R0b21cIixcbiAgICBcImxlZnRcIixcbiAgICBcInJpZ2h0XCIsXG4gICAgXCJ0b3AtbGVmdFwiLFxuICAgIC8vIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjEuMCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MvcHVsbC8xNzM3OFxuICAgIFwibGVmdC10b3BcIixcbiAgICBcInRvcC1yaWdodFwiLFxuICAgIC8vIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjEuMCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MvcHVsbC8xNzM3OFxuICAgIFwicmlnaHQtdG9wXCIsXG4gICAgXCJib3R0b20tcmlnaHRcIixcbiAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4xLjAsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzL3B1bGwvMTczNzhcbiAgICBcInJpZ2h0LWJvdHRvbVwiLFxuICAgIFwiYm90dG9tLWxlZnRcIixcbiAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4xLjAsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzL3B1bGwvMTczNzhcbiAgICBcImxlZnQtYm90dG9tXCJcbiAgXTtcbiAgY29uc3Qgc2NhbGVQb3NpdGlvbldpdGhBcmJpdHJhcnkgPSAoKSA9PiBbLi4uc2NhbGVQb3NpdGlvbigpLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgY29uc3Qgc2NhbGVPdmVyZmxvdyA9ICgpID0+IFtcImF1dG9cIiwgXCJoaWRkZW5cIiwgXCJjbGlwXCIsIFwidmlzaWJsZVwiLCBcInNjcm9sbFwiXTtcbiAgY29uc3Qgc2NhbGVPdmVyc2Nyb2xsID0gKCkgPT4gW1wiYXV0b1wiLCBcImNvbnRhaW5cIiwgXCJub25lXCJdO1xuICBjb25zdCBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZyA9ICgpID0+IFtpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlLCB0aGVtZVNwYWNpbmddO1xuICBjb25zdCBzY2FsZUluc2V0ID0gKCkgPT4gW2lzRnJhY3Rpb24sIFwiZnVsbFwiLCBcImF1dG9cIiwgLi4uc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKV07XG4gIGNvbnN0IHNjYWxlR3JpZFRlbXBsYXRlQ29sc1Jvd3MgPSAoKSA9PiBbaXNJbnRlZ2VyLCBcIm5vbmVcIiwgXCJzdWJncmlkXCIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdO1xuICBjb25zdCBzY2FsZUdyaWRDb2xSb3dTdGFydEFuZEVuZCA9ICgpID0+IFtcImF1dG9cIiwge1xuICAgIHNwYW46IFtcImZ1bGxcIiwgaXNJbnRlZ2VyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICB9LCBpc0ludGVnZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdO1xuICBjb25zdCBzY2FsZUdyaWRDb2xSb3dTdGFydE9yRW5kID0gKCkgPT4gW2lzSW50ZWdlciwgXCJhdXRvXCIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdO1xuICBjb25zdCBzY2FsZUdyaWRBdXRvQ29sc1Jvd3MgPSAoKSA9PiBbXCJhdXRvXCIsIFwibWluXCIsIFwibWF4XCIsIFwiZnJcIiwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV07XG4gIGNvbnN0IHNjYWxlQWxpZ25QcmltYXJ5QXhpcyA9ICgpID0+IFtcInN0YXJ0XCIsIFwiZW5kXCIsIFwiY2VudGVyXCIsIFwiYmV0d2VlblwiLCBcImFyb3VuZFwiLCBcImV2ZW5seVwiLCBcInN0cmV0Y2hcIiwgXCJiYXNlbGluZVwiLCBcImNlbnRlci1zYWZlXCIsIFwiZW5kLXNhZmVcIl07XG4gIGNvbnN0IHNjYWxlQWxpZ25TZWNvbmRhcnlBeGlzID0gKCkgPT4gW1wic3RhcnRcIiwgXCJlbmRcIiwgXCJjZW50ZXJcIiwgXCJzdHJldGNoXCIsIFwiY2VudGVyLXNhZmVcIiwgXCJlbmQtc2FmZVwiXTtcbiAgY29uc3Qgc2NhbGVNYXJnaW4gPSAoKSA9PiBbXCJhdXRvXCIsIC4uLnNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKCldO1xuICBjb25zdCBzY2FsZVNpemluZyA9ICgpID0+IFtpc0ZyYWN0aW9uLCBcImF1dG9cIiwgXCJmdWxsXCIsIFwiZHZ3XCIsIFwiZHZoXCIsIFwibHZ3XCIsIFwibHZoXCIsIFwic3Z3XCIsIFwic3ZoXCIsIFwibWluXCIsIFwibWF4XCIsIFwiZml0XCIsIC4uLnNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKCldO1xuICBjb25zdCBzY2FsZUNvbG9yID0gKCkgPT4gW3RoZW1lQ29sb3IsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdO1xuICBjb25zdCBzY2FsZUJnUG9zaXRpb24gPSAoKSA9PiBbLi4uc2NhbGVQb3NpdGlvbigpLCBpc0FyYml0cmFyeVZhcmlhYmxlUG9zaXRpb24sIGlzQXJiaXRyYXJ5UG9zaXRpb24sIHtcbiAgICBwb3NpdGlvbjogW2lzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gIH1dO1xuICBjb25zdCBzY2FsZUJnUmVwZWF0ID0gKCkgPT4gW1wibm8tcmVwZWF0XCIsIHtcbiAgICByZXBlYXQ6IFtcIlwiLCBcInhcIiwgXCJ5XCIsIFwic3BhY2VcIiwgXCJyb3VuZFwiXVxuICB9XTtcbiAgY29uc3Qgc2NhbGVCZ1NpemUgPSAoKSA9PiBbXCJhdXRvXCIsIFwiY292ZXJcIiwgXCJjb250YWluXCIsIGlzQXJiaXRyYXJ5VmFyaWFibGVTaXplLCBpc0FyYml0cmFyeVNpemUsIHtcbiAgICBzaXplOiBbaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgfV07XG4gIGNvbnN0IHNjYWxlR3JhZGllbnRTdG9wUG9zaXRpb24gPSAoKSA9PiBbaXNQZXJjZW50LCBpc0FyYml0cmFyeVZhcmlhYmxlTGVuZ3RoLCBpc0FyYml0cmFyeUxlbmd0aF07XG4gIGNvbnN0IHNjYWxlUmFkaXVzID0gKCkgPT4gW1xuICAgIC8vIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjAuMFxuICAgIFwiXCIsXG4gICAgXCJub25lXCIsXG4gICAgXCJmdWxsXCIsXG4gICAgdGhlbWVSYWRpdXMsXG4gICAgaXNBcmJpdHJhcnlWYXJpYWJsZSxcbiAgICBpc0FyYml0cmFyeVZhbHVlXG4gIF07XG4gIGNvbnN0IHNjYWxlQm9yZGVyV2lkdGggPSAoKSA9PiBbXCJcIiwgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGVMZW5ndGgsIGlzQXJiaXRyYXJ5TGVuZ3RoXTtcbiAgY29uc3Qgc2NhbGVMaW5lU3R5bGUgPSAoKSA9PiBbXCJzb2xpZFwiLCBcImRhc2hlZFwiLCBcImRvdHRlZFwiLCBcImRvdWJsZVwiXTtcbiAgY29uc3Qgc2NhbGVCbGVuZE1vZGUgPSAoKSA9PiBbXCJub3JtYWxcIiwgXCJtdWx0aXBseVwiLCBcInNjcmVlblwiLCBcIm92ZXJsYXlcIiwgXCJkYXJrZW5cIiwgXCJsaWdodGVuXCIsIFwiY29sb3ItZG9kZ2VcIiwgXCJjb2xvci1idXJuXCIsIFwiaGFyZC1saWdodFwiLCBcInNvZnQtbGlnaHRcIiwgXCJkaWZmZXJlbmNlXCIsIFwiZXhjbHVzaW9uXCIsIFwiaHVlXCIsIFwic2F0dXJhdGlvblwiLCBcImNvbG9yXCIsIFwibHVtaW5vc2l0eVwiXTtcbiAgY29uc3Qgc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbiA9ICgpID0+IFtpc051bWJlciwgaXNQZXJjZW50LCBpc0FyYml0cmFyeVZhcmlhYmxlUG9zaXRpb24sIGlzQXJiaXRyYXJ5UG9zaXRpb25dO1xuICBjb25zdCBzY2FsZUJsdXIgPSAoKSA9PiBbXG4gICAgLy8gRGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICAgXCJcIixcbiAgICBcIm5vbmVcIixcbiAgICB0aGVtZUJsdXIsXG4gICAgaXNBcmJpdHJhcnlWYXJpYWJsZSxcbiAgICBpc0FyYml0cmFyeVZhbHVlXG4gIF07XG4gIGNvbnN0IHNjYWxlUm90YXRlID0gKCkgPT4gW1wibm9uZVwiLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV07XG4gIGNvbnN0IHNjYWxlU2NhbGUgPSAoKSA9PiBbXCJub25lXCIsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgY29uc3Qgc2NhbGVTa2V3ID0gKCkgPT4gW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgY29uc3Qgc2NhbGVUcmFuc2xhdGUgPSAoKSA9PiBbaXNGcmFjdGlvbiwgXCJmdWxsXCIsIC4uLnNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKCldO1xuICByZXR1cm4ge1xuICAgIGNhY2hlU2l6ZTogNTAwLFxuICAgIHRoZW1lOiB7XG4gICAgICBhbmltYXRlOiBbXCJzcGluXCIsIFwicGluZ1wiLCBcInB1bHNlXCIsIFwiYm91bmNlXCJdLFxuICAgICAgYXNwZWN0OiBbXCJ2aWRlb1wiXSxcbiAgICAgIGJsdXI6IFtpc1RzaGlydFNpemVdLFxuICAgICAgYnJlYWtwb2ludDogW2lzVHNoaXJ0U2l6ZV0sXG4gICAgICBjb2xvcjogW2lzQW55XSxcbiAgICAgIGNvbnRhaW5lcjogW2lzVHNoaXJ0U2l6ZV0sXG4gICAgICBcImRyb3Atc2hhZG93XCI6IFtpc1RzaGlydFNpemVdLFxuICAgICAgZWFzZTogW1wiaW5cIiwgXCJvdXRcIiwgXCJpbi1vdXRcIl0sXG4gICAgICBmb250OiBbaXNBbnlOb25BcmJpdHJhcnldLFxuICAgICAgXCJmb250LXdlaWdodFwiOiBbXCJ0aGluXCIsIFwiZXh0cmFsaWdodFwiLCBcImxpZ2h0XCIsIFwibm9ybWFsXCIsIFwibWVkaXVtXCIsIFwic2VtaWJvbGRcIiwgXCJib2xkXCIsIFwiZXh0cmFib2xkXCIsIFwiYmxhY2tcIl0sXG4gICAgICBcImluc2V0LXNoYWRvd1wiOiBbaXNUc2hpcnRTaXplXSxcbiAgICAgIGxlYWRpbmc6IFtcIm5vbmVcIiwgXCJ0aWdodFwiLCBcInNudWdcIiwgXCJub3JtYWxcIiwgXCJyZWxheGVkXCIsIFwibG9vc2VcIl0sXG4gICAgICBwZXJzcGVjdGl2ZTogW1wiZHJhbWF0aWNcIiwgXCJuZWFyXCIsIFwibm9ybWFsXCIsIFwibWlkcmFuZ2VcIiwgXCJkaXN0YW50XCIsIFwibm9uZVwiXSxcbiAgICAgIHJhZGl1czogW2lzVHNoaXJ0U2l6ZV0sXG4gICAgICBzaGFkb3c6IFtpc1RzaGlydFNpemVdLFxuICAgICAgc3BhY2luZzogW1wicHhcIiwgaXNOdW1iZXJdLFxuICAgICAgdGV4dDogW2lzVHNoaXJ0U2l6ZV0sXG4gICAgICBcInRleHQtc2hhZG93XCI6IFtpc1RzaGlydFNpemVdLFxuICAgICAgdHJhY2tpbmc6IFtcInRpZ2h0ZXJcIiwgXCJ0aWdodFwiLCBcIm5vcm1hbFwiLCBcIndpZGVcIiwgXCJ3aWRlclwiLCBcIndpZGVzdFwiXVxuICAgIH0sXG4gICAgY2xhc3NHcm91cHM6IHtcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyAtLS0gTGF5b3V0IC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogQXNwZWN0IFJhdGlvXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYXNwZWN0LXJhdGlvXG4gICAgICAgKi9cbiAgICAgIGFzcGVjdDogW3tcbiAgICAgICAgYXNwZWN0OiBbXCJhdXRvXCIsIFwic3F1YXJlXCIsIGlzRnJhY3Rpb24sIGlzQXJiaXRyYXJ5VmFsdWUsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIHRoZW1lQXNwZWN0XVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIENvbnRhaW5lclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2NvbnRhaW5lclxuICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjAuMFxuICAgICAgICovXG4gICAgICBjb250YWluZXI6IFtcImNvbnRhaW5lclwiXSxcbiAgICAgIC8qKlxuICAgICAgICogQ29sdW1uc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2NvbHVtbnNcbiAgICAgICAqL1xuICAgICAgY29sdW1uczogW3tcbiAgICAgICAgY29sdW1uczogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhbHVlLCBpc0FyYml0cmFyeVZhcmlhYmxlLCB0aGVtZUNvbnRhaW5lcl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCcmVhayBBZnRlclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JyZWFrLWFmdGVyXG4gICAgICAgKi9cbiAgICAgIFwiYnJlYWstYWZ0ZXJcIjogW3tcbiAgICAgICAgXCJicmVhay1hZnRlclwiOiBzY2FsZUJyZWFrKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCcmVhayBCZWZvcmVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9icmVhay1iZWZvcmVcbiAgICAgICAqL1xuICAgICAgXCJicmVhay1iZWZvcmVcIjogW3tcbiAgICAgICAgXCJicmVhay1iZWZvcmVcIjogc2NhbGVCcmVhaygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQnJlYWsgSW5zaWRlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYnJlYWstaW5zaWRlXG4gICAgICAgKi9cbiAgICAgIFwiYnJlYWstaW5zaWRlXCI6IFt7XG4gICAgICAgIFwiYnJlYWstaW5zaWRlXCI6IFtcImF1dG9cIiwgXCJhdm9pZFwiLCBcImF2b2lkLXBhZ2VcIiwgXCJhdm9pZC1jb2x1bW5cIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3ggRGVjb3JhdGlvbiBCcmVha1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1kZWNvcmF0aW9uLWJyZWFrXG4gICAgICAgKi9cbiAgICAgIFwiYm94LWRlY29yYXRpb25cIjogW3tcbiAgICAgICAgXCJib3gtZGVjb3JhdGlvblwiOiBbXCJzbGljZVwiLCBcImNsb25lXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm94IFNpemluZ1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaXppbmdcbiAgICAgICAqL1xuICAgICAgYm94OiBbe1xuICAgICAgICBib3g6IFtcImJvcmRlclwiLCBcImNvbnRlbnRcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBEaXNwbGF5XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZGlzcGxheVxuICAgICAgICovXG4gICAgICBkaXNwbGF5OiBbXCJibG9ja1wiLCBcImlubGluZS1ibG9ja1wiLCBcImlubGluZVwiLCBcImZsZXhcIiwgXCJpbmxpbmUtZmxleFwiLCBcInRhYmxlXCIsIFwiaW5saW5lLXRhYmxlXCIsIFwidGFibGUtY2FwdGlvblwiLCBcInRhYmxlLWNlbGxcIiwgXCJ0YWJsZS1jb2x1bW5cIiwgXCJ0YWJsZS1jb2x1bW4tZ3JvdXBcIiwgXCJ0YWJsZS1mb290ZXItZ3JvdXBcIiwgXCJ0YWJsZS1oZWFkZXItZ3JvdXBcIiwgXCJ0YWJsZS1yb3ctZ3JvdXBcIiwgXCJ0YWJsZS1yb3dcIiwgXCJmbG93LXJvb3RcIiwgXCJncmlkXCIsIFwiaW5saW5lLWdyaWRcIiwgXCJjb250ZW50c1wiLCBcImxpc3QtaXRlbVwiLCBcImhpZGRlblwiXSxcbiAgICAgIC8qKlxuICAgICAgICogU2NyZWVuIFJlYWRlciBPbmx5XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZGlzcGxheSNzY3JlZW4tcmVhZGVyLW9ubHlcbiAgICAgICAqL1xuICAgICAgc3I6IFtcInNyLW9ubHlcIiwgXCJub3Qtc3Itb25seVwiXSxcbiAgICAgIC8qKlxuICAgICAgICogRmxvYXRzXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxvYXRcbiAgICAgICAqL1xuICAgICAgZmxvYXQ6IFt7XG4gICAgICAgIGZsb2F0OiBbXCJyaWdodFwiLCBcImxlZnRcIiwgXCJub25lXCIsIFwic3RhcnRcIiwgXCJlbmRcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBDbGVhclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2NsZWFyXG4gICAgICAgKi9cbiAgICAgIGNsZWFyOiBbe1xuICAgICAgICBjbGVhcjogW1wibGVmdFwiLCBcInJpZ2h0XCIsIFwiYm90aFwiLCBcIm5vbmVcIiwgXCJzdGFydFwiLCBcImVuZFwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIElzb2xhdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2lzb2xhdGlvblxuICAgICAgICovXG4gICAgICBpc29sYXRpb246IFtcImlzb2xhdGVcIiwgXCJpc29sYXRpb24tYXV0b1wiXSxcbiAgICAgIC8qKlxuICAgICAgICogT2JqZWN0IEZpdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL29iamVjdC1maXRcbiAgICAgICAqL1xuICAgICAgXCJvYmplY3QtZml0XCI6IFt7XG4gICAgICAgIG9iamVjdDogW1wiY29udGFpblwiLCBcImNvdmVyXCIsIFwiZmlsbFwiLCBcIm5vbmVcIiwgXCJzY2FsZS1kb3duXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT2JqZWN0IFBvc2l0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb2JqZWN0LXBvc2l0aW9uXG4gICAgICAgKi9cbiAgICAgIFwib2JqZWN0LXBvc2l0aW9uXCI6IFt7XG4gICAgICAgIG9iamVjdDogc2NhbGVQb3NpdGlvbldpdGhBcmJpdHJhcnkoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE92ZXJmbG93XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3ZlcmZsb3dcbiAgICAgICAqL1xuICAgICAgb3ZlcmZsb3c6IFt7XG4gICAgICAgIG92ZXJmbG93OiBzY2FsZU92ZXJmbG93KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBPdmVyZmxvdyBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3ZlcmZsb3dcbiAgICAgICAqL1xuICAgICAgXCJvdmVyZmxvdy14XCI6IFt7XG4gICAgICAgIFwib3ZlcmZsb3cteFwiOiBzY2FsZU92ZXJmbG93KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBPdmVyZmxvdyBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3ZlcmZsb3dcbiAgICAgICAqL1xuICAgICAgXCJvdmVyZmxvdy15XCI6IFt7XG4gICAgICAgIFwib3ZlcmZsb3cteVwiOiBzY2FsZU92ZXJmbG93KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBPdmVyc2Nyb2xsIEJlaGF2aW9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3ZlcnNjcm9sbC1iZWhhdmlvclxuICAgICAgICovXG4gICAgICBvdmVyc2Nyb2xsOiBbe1xuICAgICAgICBvdmVyc2Nyb2xsOiBzY2FsZU92ZXJzY3JvbGwoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE92ZXJzY3JvbGwgQmVoYXZpb3IgWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL292ZXJzY3JvbGwtYmVoYXZpb3JcbiAgICAgICAqL1xuICAgICAgXCJvdmVyc2Nyb2xsLXhcIjogW3tcbiAgICAgICAgXCJvdmVyc2Nyb2xsLXhcIjogc2NhbGVPdmVyc2Nyb2xsKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBPdmVyc2Nyb2xsIEJlaGF2aW9yIFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdmVyc2Nyb2xsLWJlaGF2aW9yXG4gICAgICAgKi9cbiAgICAgIFwib3ZlcnNjcm9sbC15XCI6IFt7XG4gICAgICAgIFwib3ZlcnNjcm9sbC15XCI6IHNjYWxlT3ZlcnNjcm9sbCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUG9zaXRpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wb3NpdGlvblxuICAgICAgICovXG4gICAgICBwb3NpdGlvbjogW1wic3RhdGljXCIsIFwiZml4ZWRcIiwgXCJhYnNvbHV0ZVwiLCBcInJlbGF0aXZlXCIsIFwic3RpY2t5XCJdLFxuICAgICAgLyoqXG4gICAgICAgKiBUb3AgLyBSaWdodCAvIEJvdHRvbSAvIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgaW5zZXQ6IFt7XG4gICAgICAgIGluc2V0OiBzY2FsZUluc2V0KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBSaWdodCAvIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgXCJpbnNldC14XCI6IFt7XG4gICAgICAgIFwiaW5zZXQteFwiOiBzY2FsZUluc2V0KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUb3AgLyBCb3R0b21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgXCJpbnNldC15XCI6IFt7XG4gICAgICAgIFwiaW5zZXQteVwiOiBzY2FsZUluc2V0KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTdGFydFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvcC1yaWdodC1ib3R0b20tbGVmdFxuICAgICAgICovXG4gICAgICBzdGFydDogW3tcbiAgICAgICAgc3RhcnQ6IHNjYWxlSW5zZXQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEVuZFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvcC1yaWdodC1ib3R0b20tbGVmdFxuICAgICAgICovXG4gICAgICBlbmQ6IFt7XG4gICAgICAgIGVuZDogc2NhbGVJbnNldCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVG9wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG9wLXJpZ2h0LWJvdHRvbS1sZWZ0XG4gICAgICAgKi9cbiAgICAgIHRvcDogW3tcbiAgICAgICAgdG9wOiBzY2FsZUluc2V0KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBSaWdodFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvcC1yaWdodC1ib3R0b20tbGVmdFxuICAgICAgICovXG4gICAgICByaWdodDogW3tcbiAgICAgICAgcmlnaHQ6IHNjYWxlSW5zZXQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvdHRvbVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvcC1yaWdodC1ib3R0b20tbGVmdFxuICAgICAgICovXG4gICAgICBib3R0b206IFt7XG4gICAgICAgIGJvdHRvbTogc2NhbGVJbnNldCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTGVmdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvcC1yaWdodC1ib3R0b20tbGVmdFxuICAgICAgICovXG4gICAgICBsZWZ0OiBbe1xuICAgICAgICBsZWZ0OiBzY2FsZUluc2V0KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBWaXNpYmlsaXR5XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdmlzaWJpbGl0eVxuICAgICAgICovXG4gICAgICB2aXNpYmlsaXR5OiBbXCJ2aXNpYmxlXCIsIFwiaW52aXNpYmxlXCIsIFwiY29sbGFwc2VcIl0sXG4gICAgICAvKipcbiAgICAgICAqIFotSW5kZXhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy96LWluZGV4XG4gICAgICAgKi9cbiAgICAgIHo6IFt7XG4gICAgICAgIHo6IFtpc0ludGVnZXIsIFwiYXV0b1wiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBGbGV4Ym94IGFuZCBHcmlkIC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEZsZXggQmFzaXNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mbGV4LWJhc2lzXG4gICAgICAgKi9cbiAgICAgIGJhc2lzOiBbe1xuICAgICAgICBiYXNpczogW2lzRnJhY3Rpb24sIFwiZnVsbFwiLCBcImF1dG9cIiwgdGhlbWVDb250YWluZXIsIC4uLnNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKCldXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRmxleCBEaXJlY3Rpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mbGV4LWRpcmVjdGlvblxuICAgICAgICovXG4gICAgICBcImZsZXgtZGlyZWN0aW9uXCI6IFt7XG4gICAgICAgIGZsZXg6IFtcInJvd1wiLCBcInJvdy1yZXZlcnNlXCIsIFwiY29sXCIsIFwiY29sLXJldmVyc2VcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBGbGV4IFdyYXBcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mbGV4LXdyYXBcbiAgICAgICAqL1xuICAgICAgXCJmbGV4LXdyYXBcIjogW3tcbiAgICAgICAgZmxleDogW1wibm93cmFwXCIsIFwid3JhcFwiLCBcIndyYXAtcmV2ZXJzZVwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEZsZXhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mbGV4XG4gICAgICAgKi9cbiAgICAgIGZsZXg6IFt7XG4gICAgICAgIGZsZXg6IFtpc051bWJlciwgaXNGcmFjdGlvbiwgXCJhdXRvXCIsIFwiaW5pdGlhbFwiLCBcIm5vbmVcIiwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBGbGV4IEdyb3dcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mbGV4LWdyb3dcbiAgICAgICAqL1xuICAgICAgZ3JvdzogW3tcbiAgICAgICAgZ3JvdzogW1wiXCIsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEZsZXggU2hyaW5rXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxleC1zaHJpbmtcbiAgICAgICAqL1xuICAgICAgc2hyaW5rOiBbe1xuICAgICAgICBzaHJpbms6IFtcIlwiLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBPcmRlclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL29yZGVyXG4gICAgICAgKi9cbiAgICAgIG9yZGVyOiBbe1xuICAgICAgICBvcmRlcjogW2lzSW50ZWdlciwgXCJmaXJzdFwiLCBcImxhc3RcIiwgXCJub25lXCIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBUZW1wbGF0ZSBDb2x1bW5zXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zXG4gICAgICAgKi9cbiAgICAgIFwiZ3JpZC1jb2xzXCI6IFt7XG4gICAgICAgIFwiZ3JpZC1jb2xzXCI6IHNjYWxlR3JpZFRlbXBsYXRlQ29sc1Jvd3MoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyaWQgQ29sdW1uIFN0YXJ0IC8gRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1jb2x1bW5cbiAgICAgICAqL1xuICAgICAgXCJjb2wtc3RhcnQtZW5kXCI6IFt7XG4gICAgICAgIGNvbDogc2NhbGVHcmlkQ29sUm93U3RhcnRBbmRFbmQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyaWQgQ29sdW1uIFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1jb2x1bW5cbiAgICAgICAqL1xuICAgICAgXCJjb2wtc3RhcnRcIjogW3tcbiAgICAgICAgXCJjb2wtc3RhcnRcIjogc2NhbGVHcmlkQ29sUm93U3RhcnRPckVuZCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBDb2x1bW4gRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1jb2x1bW5cbiAgICAgICAqL1xuICAgICAgXCJjb2wtZW5kXCI6IFt7XG4gICAgICAgIFwiY29sLWVuZFwiOiBzY2FsZUdyaWRDb2xSb3dTdGFydE9yRW5kKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmlkIFRlbXBsYXRlIFJvd3NcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLXRlbXBsYXRlLXJvd3NcbiAgICAgICAqL1xuICAgICAgXCJncmlkLXJvd3NcIjogW3tcbiAgICAgICAgXCJncmlkLXJvd3NcIjogc2NhbGVHcmlkVGVtcGxhdGVDb2xzUm93cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBSb3cgU3RhcnQgLyBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLXJvd1xuICAgICAgICovXG4gICAgICBcInJvdy1zdGFydC1lbmRcIjogW3tcbiAgICAgICAgcm93OiBzY2FsZUdyaWRDb2xSb3dTdGFydEFuZEVuZCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBSb3cgU3RhcnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLXJvd1xuICAgICAgICovXG4gICAgICBcInJvdy1zdGFydFwiOiBbe1xuICAgICAgICBcInJvdy1zdGFydFwiOiBzY2FsZUdyaWRDb2xSb3dTdGFydE9yRW5kKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmlkIFJvdyBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLXJvd1xuICAgICAgICovXG4gICAgICBcInJvdy1lbmRcIjogW3tcbiAgICAgICAgXCJyb3ctZW5kXCI6IHNjYWxlR3JpZENvbFJvd1N0YXJ0T3JFbmQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyaWQgQXV0byBGbG93XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1hdXRvLWZsb3dcbiAgICAgICAqL1xuICAgICAgXCJncmlkLWZsb3dcIjogW3tcbiAgICAgICAgXCJncmlkLWZsb3dcIjogW1wicm93XCIsIFwiY29sXCIsIFwiZGVuc2VcIiwgXCJyb3ctZGVuc2VcIiwgXCJjb2wtZGVuc2VcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmlkIEF1dG8gQ29sdW1uc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyaWQtYXV0by1jb2x1bW5zXG4gICAgICAgKi9cbiAgICAgIFwiYXV0by1jb2xzXCI6IFt7XG4gICAgICAgIFwiYXV0by1jb2xzXCI6IHNjYWxlR3JpZEF1dG9Db2xzUm93cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBBdXRvIFJvd3NcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLWF1dG8tcm93c1xuICAgICAgICovXG4gICAgICBcImF1dG8tcm93c1wiOiBbe1xuICAgICAgICBcImF1dG8tcm93c1wiOiBzY2FsZUdyaWRBdXRvQ29sc1Jvd3MoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdhcFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dhcFxuICAgICAgICovXG4gICAgICBnYXA6IFt7XG4gICAgICAgIGdhcDogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdhcCBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ2FwXG4gICAgICAgKi9cbiAgICAgIFwiZ2FwLXhcIjogW3tcbiAgICAgICAgXCJnYXAteFwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR2FwIFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9nYXBcbiAgICAgICAqL1xuICAgICAgXCJnYXAteVwiOiBbe1xuICAgICAgICBcImdhcC15XCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBKdXN0aWZ5IENvbnRlbnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9qdXN0aWZ5LWNvbnRlbnRcbiAgICAgICAqL1xuICAgICAgXCJqdXN0aWZ5LWNvbnRlbnRcIjogW3tcbiAgICAgICAganVzdGlmeTogWy4uLnNjYWxlQWxpZ25QcmltYXJ5QXhpcygpLCBcIm5vcm1hbFwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEp1c3RpZnkgSXRlbXNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9qdXN0aWZ5LWl0ZW1zXG4gICAgICAgKi9cbiAgICAgIFwianVzdGlmeS1pdGVtc1wiOiBbe1xuICAgICAgICBcImp1c3RpZnktaXRlbXNcIjogWy4uLnNjYWxlQWxpZ25TZWNvbmRhcnlBeGlzKCksIFwibm9ybWFsXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogSnVzdGlmeSBTZWxmXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvanVzdGlmeS1zZWxmXG4gICAgICAgKi9cbiAgICAgIFwianVzdGlmeS1zZWxmXCI6IFt7XG4gICAgICAgIFwianVzdGlmeS1zZWxmXCI6IFtcImF1dG9cIiwgLi4uc2NhbGVBbGlnblNlY29uZGFyeUF4aXMoKV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBBbGlnbiBDb250ZW50XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYWxpZ24tY29udGVudFxuICAgICAgICovXG4gICAgICBcImFsaWduLWNvbnRlbnRcIjogW3tcbiAgICAgICAgY29udGVudDogW1wibm9ybWFsXCIsIC4uLnNjYWxlQWxpZ25QcmltYXJ5QXhpcygpXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEFsaWduIEl0ZW1zXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYWxpZ24taXRlbXNcbiAgICAgICAqL1xuICAgICAgXCJhbGlnbi1pdGVtc1wiOiBbe1xuICAgICAgICBpdGVtczogWy4uLnNjYWxlQWxpZ25TZWNvbmRhcnlBeGlzKCksIHtcbiAgICAgICAgICBiYXNlbGluZTogW1wiXCIsIFwibGFzdFwiXVxuICAgICAgICB9XVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEFsaWduIFNlbGZcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9hbGlnbi1zZWxmXG4gICAgICAgKi9cbiAgICAgIFwiYWxpZ24tc2VsZlwiOiBbe1xuICAgICAgICBzZWxmOiBbXCJhdXRvXCIsIC4uLnNjYWxlQWxpZ25TZWNvbmRhcnlBeGlzKCksIHtcbiAgICAgICAgICBiYXNlbGluZTogW1wiXCIsIFwibGFzdFwiXVxuICAgICAgICB9XVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBsYWNlIENvbnRlbnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wbGFjZS1jb250ZW50XG4gICAgICAgKi9cbiAgICAgIFwicGxhY2UtY29udGVudFwiOiBbe1xuICAgICAgICBcInBsYWNlLWNvbnRlbnRcIjogc2NhbGVBbGlnblByaW1hcnlBeGlzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQbGFjZSBJdGVtc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BsYWNlLWl0ZW1zXG4gICAgICAgKi9cbiAgICAgIFwicGxhY2UtaXRlbXNcIjogW3tcbiAgICAgICAgXCJwbGFjZS1pdGVtc1wiOiBbLi4uc2NhbGVBbGlnblNlY29uZGFyeUF4aXMoKSwgXCJiYXNlbGluZVwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBsYWNlIFNlbGZcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wbGFjZS1zZWxmXG4gICAgICAgKi9cbiAgICAgIFwicGxhY2Utc2VsZlwiOiBbe1xuICAgICAgICBcInBsYWNlLXNlbGZcIjogW1wiYXV0b1wiLCAuLi5zY2FsZUFsaWduU2Vjb25kYXJ5QXhpcygpXVxuICAgICAgfV0sXG4gICAgICAvLyBTcGFjaW5nXG4gICAgICAvKipcbiAgICAgICAqIFBhZGRpbmdcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIHA6IFt7XG4gICAgICAgIHA6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQYWRkaW5nIFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIHB4OiBbe1xuICAgICAgICBweDogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBhZGRpbmcgWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAqL1xuICAgICAgcHk6IFt7XG4gICAgICAgIHB5OiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUGFkZGluZyBTdGFydFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAqL1xuICAgICAgcHM6IFt7XG4gICAgICAgIHBzOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUGFkZGluZyBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIHBlOiBbe1xuICAgICAgICBwZTogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBhZGRpbmcgVG9wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGFkZGluZ1xuICAgICAgICovXG4gICAgICBwdDogW3tcbiAgICAgICAgcHQ6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQYWRkaW5nIFJpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGFkZGluZ1xuICAgICAgICovXG4gICAgICBwcjogW3tcbiAgICAgICAgcHI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQYWRkaW5nIEJvdHRvbVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAqL1xuICAgICAgcGI6IFt7XG4gICAgICAgIHBiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUGFkZGluZyBMZWZ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGFkZGluZ1xuICAgICAgICovXG4gICAgICBwbDogW3tcbiAgICAgICAgcGw6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXJnaW5cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAqL1xuICAgICAgbTogW3tcbiAgICAgICAgbTogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hcmdpbiBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIG14OiBbe1xuICAgICAgICBteDogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hcmdpbiBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIG15OiBbe1xuICAgICAgICBteTogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hcmdpbiBTdGFydFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpblxuICAgICAgICovXG4gICAgICBtczogW3tcbiAgICAgICAgbXM6IHNjYWxlTWFyZ2luKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXJnaW4gRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIG1lOiBbe1xuICAgICAgICBtZTogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hcmdpbiBUb3BcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAqL1xuICAgICAgbXQ6IFt7XG4gICAgICAgIG10OiBzY2FsZU1hcmdpbigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFyZ2luIFJpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIG1yOiBbe1xuICAgICAgICBtcjogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hcmdpbiBCb3R0b21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAqL1xuICAgICAgbWI6IFt7XG4gICAgICAgIG1iOiBzY2FsZU1hcmdpbigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFyZ2luIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAqL1xuICAgICAgbWw6IFt7XG4gICAgICAgIG1sOiBzY2FsZU1hcmdpbigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU3BhY2UgQmV0d2VlbiBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luI2FkZGluZy1zcGFjZS1iZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgKi9cbiAgICAgIFwic3BhY2UteFwiOiBbe1xuICAgICAgICBcInNwYWNlLXhcIjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNwYWNlIEJldHdlZW4gWCBSZXZlcnNlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luI2FkZGluZy1zcGFjZS1iZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgKi9cbiAgICAgIFwic3BhY2UteC1yZXZlcnNlXCI6IFtcInNwYWNlLXgtcmV2ZXJzZVwiXSxcbiAgICAgIC8qKlxuICAgICAgICogU3BhY2UgQmV0d2VlbiBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luI2FkZGluZy1zcGFjZS1iZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgKi9cbiAgICAgIFwic3BhY2UteVwiOiBbe1xuICAgICAgICBcInNwYWNlLXlcIjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNwYWNlIEJldHdlZW4gWSBSZXZlcnNlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luI2FkZGluZy1zcGFjZS1iZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgKi9cbiAgICAgIFwic3BhY2UteS1yZXZlcnNlXCI6IFtcInNwYWNlLXktcmV2ZXJzZVwiXSxcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyAtLS0gU2l6aW5nIC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogU2l6ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3dpZHRoI3NldHRpbmctYm90aC13aWR0aC1hbmQtaGVpZ2h0XG4gICAgICAgKi9cbiAgICAgIHNpemU6IFt7XG4gICAgICAgIHNpemU6IHNjYWxlU2l6aW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBXaWR0aFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3dpZHRoXG4gICAgICAgKi9cbiAgICAgIHc6IFt7XG4gICAgICAgIHc6IFt0aGVtZUNvbnRhaW5lciwgXCJzY3JlZW5cIiwgLi4uc2NhbGVTaXppbmcoKV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNaW4tV2lkdGhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9taW4td2lkdGhcbiAgICAgICAqL1xuICAgICAgXCJtaW4td1wiOiBbe1xuICAgICAgICBcIm1pbi13XCI6IFtcbiAgICAgICAgICB0aGVtZUNvbnRhaW5lcixcbiAgICAgICAgICBcInNjcmVlblwiLFxuICAgICAgICAgIC8qKiBEZXByZWNhdGVkLiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MuY29tL2lzc3Vlcy8yMDI3I2lzc3VlY29tbWVudC0yNjIwMTUyNzU3ICovXG4gICAgICAgICAgXCJub25lXCIsXG4gICAgICAgICAgLi4uc2NhbGVTaXppbmcoKVxuICAgICAgICBdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWF4LVdpZHRoXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWF4LXdpZHRoXG4gICAgICAgKi9cbiAgICAgIFwibWF4LXdcIjogW3tcbiAgICAgICAgXCJtYXgtd1wiOiBbXG4gICAgICAgICAgdGhlbWVDb250YWluZXIsXG4gICAgICAgICAgXCJzY3JlZW5cIixcbiAgICAgICAgICBcIm5vbmVcIixcbiAgICAgICAgICAvKiogRGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wLiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MuY29tL2lzc3Vlcy8yMDI3I2lzc3VlY29tbWVudC0yNjIwMTUyNzU3ICovXG4gICAgICAgICAgXCJwcm9zZVwiLFxuICAgICAgICAgIC8qKiBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4wLjAuIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kbGFicy90YWlsd2luZGNzcy5jb20vaXNzdWVzLzIwMjcjaXNzdWVjb21tZW50LTI2MjAxNTI3NTcgKi9cbiAgICAgICAgICB7XG4gICAgICAgICAgICBzY3JlZW46IFt0aGVtZUJyZWFrcG9pbnRdXG4gICAgICAgICAgfSxcbiAgICAgICAgICAuLi5zY2FsZVNpemluZygpXG4gICAgICAgIF1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBIZWlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9oZWlnaHRcbiAgICAgICAqL1xuICAgICAgaDogW3tcbiAgICAgICAgaDogW1wic2NyZWVuXCIsIC4uLnNjYWxlU2l6aW5nKCldXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWluLUhlaWdodFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21pbi1oZWlnaHRcbiAgICAgICAqL1xuICAgICAgXCJtaW4taFwiOiBbe1xuICAgICAgICBcIm1pbi1oXCI6IFtcInNjcmVlblwiLCBcIm5vbmVcIiwgLi4uc2NhbGVTaXppbmcoKV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXgtSGVpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWF4LWhlaWdodFxuICAgICAgICovXG4gICAgICBcIm1heC1oXCI6IFt7XG4gICAgICAgIFwibWF4LWhcIjogW1wic2NyZWVuXCIsIC4uLnNjYWxlU2l6aW5nKCldXG4gICAgICB9XSxcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIFR5cG9ncmFwaHkgLS0tXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogRm9udCBTaXplXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC1zaXplXG4gICAgICAgKi9cbiAgICAgIFwiZm9udC1zaXplXCI6IFt7XG4gICAgICAgIHRleHQ6IFtcImJhc2VcIiwgdGhlbWVUZXh0LCBpc0FyYml0cmFyeVZhcmlhYmxlTGVuZ3RoLCBpc0FyYml0cmFyeUxlbmd0aF1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBGb250IFNtb290aGluZ1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtc21vb3RoaW5nXG4gICAgICAgKi9cbiAgICAgIFwiZm9udC1zbW9vdGhpbmdcIjogW1wiYW50aWFsaWFzZWRcIiwgXCJzdWJwaXhlbC1hbnRpYWxpYXNlZFwiXSxcbiAgICAgIC8qKlxuICAgICAgICogRm9udCBTdHlsZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtc3R5bGVcbiAgICAgICAqL1xuICAgICAgXCJmb250LXN0eWxlXCI6IFtcIml0YWxpY1wiLCBcIm5vdC1pdGFsaWNcIl0sXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgV2VpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC13ZWlnaHRcbiAgICAgICAqL1xuICAgICAgXCJmb250LXdlaWdodFwiOiBbe1xuICAgICAgICBmb250OiBbdGhlbWVGb250V2VpZ2h0LCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeU51bWJlcl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBGb250IFN0cmV0Y2hcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXN0cmV0Y2hcbiAgICAgICAqL1xuICAgICAgXCJmb250LXN0cmV0Y2hcIjogW3tcbiAgICAgICAgXCJmb250LXN0cmV0Y2hcIjogW1widWx0cmEtY29uZGVuc2VkXCIsIFwiZXh0cmEtY29uZGVuc2VkXCIsIFwiY29uZGVuc2VkXCIsIFwic2VtaS1jb25kZW5zZWRcIiwgXCJub3JtYWxcIiwgXCJzZW1pLWV4cGFuZGVkXCIsIFwiZXhwYW5kZWRcIiwgXCJleHRyYS1leHBhbmRlZFwiLCBcInVsdHJhLWV4cGFuZGVkXCIsIGlzUGVyY2VudCwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBGb250IEZhbWlseVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtZmFtaWx5XG4gICAgICAgKi9cbiAgICAgIFwiZm9udC1mYW1pbHlcIjogW3tcbiAgICAgICAgZm9udDogW2lzQXJiaXRyYXJ5VmFyaWFibGVGYW1pbHlOYW1lLCBpc0FyYml0cmFyeVZhbHVlLCB0aGVtZUZvbnRdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRm9udCBWYXJpYW50IE51bWVyaWNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXZhcmlhbnQtbnVtZXJpY1xuICAgICAgICovXG4gICAgICBcImZ2bi1ub3JtYWxcIjogW1wibm9ybWFsLW51bXNcIl0sXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC12YXJpYW50LW51bWVyaWNcbiAgICAgICAqL1xuICAgICAgXCJmdm4tb3JkaW5hbFwiOiBbXCJvcmRpbmFsXCJdLFxuICAgICAgLyoqXG4gICAgICAgKiBGb250IFZhcmlhbnQgTnVtZXJpY1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtdmFyaWFudC1udW1lcmljXG4gICAgICAgKi9cbiAgICAgIFwiZnZuLXNsYXNoZWQtemVyb1wiOiBbXCJzbGFzaGVkLXplcm9cIl0sXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC12YXJpYW50LW51bWVyaWNcbiAgICAgICAqL1xuICAgICAgXCJmdm4tZmlndXJlXCI6IFtcImxpbmluZy1udW1zXCIsIFwib2xkc3R5bGUtbnVtc1wiXSxcbiAgICAgIC8qKlxuICAgICAgICogRm9udCBWYXJpYW50IE51bWVyaWNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXZhcmlhbnQtbnVtZXJpY1xuICAgICAgICovXG4gICAgICBcImZ2bi1zcGFjaW5nXCI6IFtcInByb3BvcnRpb25hbC1udW1zXCIsIFwidGFidWxhci1udW1zXCJdLFxuICAgICAgLyoqXG4gICAgICAgKiBGb250IFZhcmlhbnQgTnVtZXJpY1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtdmFyaWFudC1udW1lcmljXG4gICAgICAgKi9cbiAgICAgIFwiZnZuLWZyYWN0aW9uXCI6IFtcImRpYWdvbmFsLWZyYWN0aW9uc1wiLCBcInN0YWNrZWQtZnJhY3Rpb25zXCJdLFxuICAgICAgLyoqXG4gICAgICAgKiBMZXR0ZXIgU3BhY2luZ1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2xldHRlci1zcGFjaW5nXG4gICAgICAgKi9cbiAgICAgIHRyYWNraW5nOiBbe1xuICAgICAgICB0cmFja2luZzogW3RoZW1lVHJhY2tpbmcsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTGluZSBDbGFtcFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2xpbmUtY2xhbXBcbiAgICAgICAqL1xuICAgICAgXCJsaW5lLWNsYW1wXCI6IFt7XG4gICAgICAgIFwibGluZS1jbGFtcFwiOiBbaXNOdW1iZXIsIFwibm9uZVwiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeU51bWJlcl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBMaW5lIEhlaWdodFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2xpbmUtaGVpZ2h0XG4gICAgICAgKi9cbiAgICAgIGxlYWRpbmc6IFt7XG4gICAgICAgIGxlYWRpbmc6IFtcbiAgICAgICAgICAvKiogRGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wLiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MuY29tL2lzc3Vlcy8yMDI3I2lzc3VlY29tbWVudC0yNjIwMTUyNzU3ICovXG4gICAgICAgICAgdGhlbWVMZWFkaW5nLFxuICAgICAgICAgIC4uLnNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgICAgXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIExpc3QgU3R5bGUgSW1hZ2VcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9saXN0LXN0eWxlLWltYWdlXG4gICAgICAgKi9cbiAgICAgIFwibGlzdC1pbWFnZVwiOiBbe1xuICAgICAgICBcImxpc3QtaW1hZ2VcIjogW1wibm9uZVwiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIExpc3QgU3R5bGUgUG9zaXRpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9saXN0LXN0eWxlLXBvc2l0aW9uXG4gICAgICAgKi9cbiAgICAgIFwibGlzdC1zdHlsZS1wb3NpdGlvblwiOiBbe1xuICAgICAgICBsaXN0OiBbXCJpbnNpZGVcIiwgXCJvdXRzaWRlXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTGlzdCBTdHlsZSBUeXBlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbGlzdC1zdHlsZS10eXBlXG4gICAgICAgKi9cbiAgICAgIFwibGlzdC1zdHlsZS10eXBlXCI6IFt7XG4gICAgICAgIGxpc3Q6IFtcImRpc2NcIiwgXCJkZWNpbWFsXCIsIFwibm9uZVwiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgQWxpZ25tZW50XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC1hbGlnblxuICAgICAgICovXG4gICAgICBcInRleHQtYWxpZ25tZW50XCI6IFt7XG4gICAgICAgIHRleHQ6IFtcImxlZnRcIiwgXCJjZW50ZXJcIiwgXCJyaWdodFwiLCBcImp1c3RpZnlcIiwgXCJzdGFydFwiLCBcImVuZFwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBsYWNlaG9sZGVyIENvbG9yXG4gICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjMuMC4wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdjMudGFpbHdpbmRjc3MuY29tL2RvY3MvcGxhY2Vob2xkZXItY29sb3JcbiAgICAgICAqL1xuICAgICAgXCJwbGFjZWhvbGRlci1jb2xvclwiOiBbe1xuICAgICAgICBwbGFjZWhvbGRlcjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVGV4dCBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtY29sb3JcbiAgICAgICAqL1xuICAgICAgXCJ0ZXh0LWNvbG9yXCI6IFt7XG4gICAgICAgIHRleHQ6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgRGVjb3JhdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtZGVjb3JhdGlvblxuICAgICAgICovXG4gICAgICBcInRleHQtZGVjb3JhdGlvblwiOiBbXCJ1bmRlcmxpbmVcIiwgXCJvdmVybGluZVwiLCBcImxpbmUtdGhyb3VnaFwiLCBcIm5vLXVuZGVybGluZVwiXSxcbiAgICAgIC8qKlxuICAgICAgICogVGV4dCBEZWNvcmF0aW9uIFN0eWxlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC1kZWNvcmF0aW9uLXN0eWxlXG4gICAgICAgKi9cbiAgICAgIFwidGV4dC1kZWNvcmF0aW9uLXN0eWxlXCI6IFt7XG4gICAgICAgIGRlY29yYXRpb246IFsuLi5zY2FsZUxpbmVTdHlsZSgpLCBcIndhdnlcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUZXh0IERlY29yYXRpb24gVGhpY2tuZXNzXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC1kZWNvcmF0aW9uLXRoaWNrbmVzc1xuICAgICAgICovXG4gICAgICBcInRleHQtZGVjb3JhdGlvbi10aGlja25lc3NcIjogW3tcbiAgICAgICAgZGVjb3JhdGlvbjogW2lzTnVtYmVyLCBcImZyb20tZm9udFwiLCBcImF1dG9cIiwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlMZW5ndGhdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVGV4dCBEZWNvcmF0aW9uIENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC1kZWNvcmF0aW9uLWNvbG9yXG4gICAgICAgKi9cbiAgICAgIFwidGV4dC1kZWNvcmF0aW9uLWNvbG9yXCI6IFt7XG4gICAgICAgIGRlY29yYXRpb246IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgVW5kZXJsaW5lIE9mZnNldFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtdW5kZXJsaW5lLW9mZnNldFxuICAgICAgICovXG4gICAgICBcInVuZGVybGluZS1vZmZzZXRcIjogW3tcbiAgICAgICAgXCJ1bmRlcmxpbmUtb2Zmc2V0XCI6IFtpc051bWJlciwgXCJhdXRvXCIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVGV4dCBUcmFuc2Zvcm1cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LXRyYW5zZm9ybVxuICAgICAgICovXG4gICAgICBcInRleHQtdHJhbnNmb3JtXCI6IFtcInVwcGVyY2FzZVwiLCBcImxvd2VyY2FzZVwiLCBcImNhcGl0YWxpemVcIiwgXCJub3JtYWwtY2FzZVwiXSxcbiAgICAgIC8qKlxuICAgICAgICogVGV4dCBPdmVyZmxvd1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtb3ZlcmZsb3dcbiAgICAgICAqL1xuICAgICAgXCJ0ZXh0LW92ZXJmbG93XCI6IFtcInRydW5jYXRlXCIsIFwidGV4dC1lbGxpcHNpc1wiLCBcInRleHQtY2xpcFwiXSxcbiAgICAgIC8qKlxuICAgICAgICogVGV4dCBXcmFwXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC13cmFwXG4gICAgICAgKi9cbiAgICAgIFwidGV4dC13cmFwXCI6IFt7XG4gICAgICAgIHRleHQ6IFtcIndyYXBcIiwgXCJub3dyYXBcIiwgXCJiYWxhbmNlXCIsIFwicHJldHR5XCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVGV4dCBJbmRlbnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LWluZGVudFxuICAgICAgICovXG4gICAgICBpbmRlbnQ6IFt7XG4gICAgICAgIGluZGVudDogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFZlcnRpY2FsIEFsaWdubWVudFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3ZlcnRpY2FsLWFsaWduXG4gICAgICAgKi9cbiAgICAgIFwidmVydGljYWwtYWxpZ25cIjogW3tcbiAgICAgICAgYWxpZ246IFtcImJhc2VsaW5lXCIsIFwidG9wXCIsIFwibWlkZGxlXCIsIFwiYm90dG9tXCIsIFwidGV4dC10b3BcIiwgXCJ0ZXh0LWJvdHRvbVwiLCBcInN1YlwiLCBcInN1cGVyXCIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogV2hpdGVzcGFjZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3doaXRlc3BhY2VcbiAgICAgICAqL1xuICAgICAgd2hpdGVzcGFjZTogW3tcbiAgICAgICAgd2hpdGVzcGFjZTogW1wibm9ybWFsXCIsIFwibm93cmFwXCIsIFwicHJlXCIsIFwicHJlLWxpbmVcIiwgXCJwcmUtd3JhcFwiLCBcImJyZWFrLXNwYWNlc1wiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFdvcmQgQnJlYWtcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy93b3JkLWJyZWFrXG4gICAgICAgKi9cbiAgICAgIGJyZWFrOiBbe1xuICAgICAgICBicmVhazogW1wibm9ybWFsXCIsIFwid29yZHNcIiwgXCJhbGxcIiwgXCJrZWVwXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT3ZlcmZsb3cgV3JhcFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL292ZXJmbG93LXdyYXBcbiAgICAgICAqL1xuICAgICAgd3JhcDogW3tcbiAgICAgICAgd3JhcDogW1wiYnJlYWstd29yZFwiLCBcImFueXdoZXJlXCIsIFwibm9ybWFsXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogSHlwaGVuc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2h5cGhlbnNcbiAgICAgICAqL1xuICAgICAgaHlwaGVuczogW3tcbiAgICAgICAgaHlwaGVuczogW1wibm9uZVwiLCBcIm1hbnVhbFwiLCBcImF1dG9cIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBDb250ZW50XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvY29udGVudFxuICAgICAgICovXG4gICAgICBjb250ZW50OiBbe1xuICAgICAgICBjb250ZW50OiBbXCJub25lXCIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBCYWNrZ3JvdW5kcyAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogQmFja2dyb3VuZCBBdHRhY2htZW50XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1hdHRhY2htZW50XG4gICAgICAgKi9cbiAgICAgIFwiYmctYXR0YWNobWVudFwiOiBbe1xuICAgICAgICBiZzogW1wiZml4ZWRcIiwgXCJsb2NhbFwiLCBcInNjcm9sbFwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tncm91bmQgQ2xpcFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtY2xpcFxuICAgICAgICovXG4gICAgICBcImJnLWNsaXBcIjogW3tcbiAgICAgICAgXCJiZy1jbGlwXCI6IFtcImJvcmRlclwiLCBcInBhZGRpbmdcIiwgXCJjb250ZW50XCIsIFwidGV4dFwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tncm91bmQgT3JpZ2luXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1vcmlnaW5cbiAgICAgICAqL1xuICAgICAgXCJiZy1vcmlnaW5cIjogW3tcbiAgICAgICAgXCJiZy1vcmlnaW5cIjogW1wiYm9yZGVyXCIsIFwicGFkZGluZ1wiLCBcImNvbnRlbnRcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIFBvc2l0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1wb3NpdGlvblxuICAgICAgICovXG4gICAgICBcImJnLXBvc2l0aW9uXCI6IFt7XG4gICAgICAgIGJnOiBzY2FsZUJnUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tncm91bmQgUmVwZWF0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1yZXBlYXRcbiAgICAgICAqL1xuICAgICAgXCJiZy1yZXBlYXRcIjogW3tcbiAgICAgICAgYmc6IHNjYWxlQmdSZXBlYXQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tncm91bmQgU2l6ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtc2l6ZVxuICAgICAgICovXG4gICAgICBcImJnLXNpemVcIjogW3tcbiAgICAgICAgYmc6IHNjYWxlQmdTaXplKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIEltYWdlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1pbWFnZVxuICAgICAgICovXG4gICAgICBcImJnLWltYWdlXCI6IFt7XG4gICAgICAgIGJnOiBbXCJub25lXCIsIHtcbiAgICAgICAgICBsaW5lYXI6IFt7XG4gICAgICAgICAgICB0bzogW1widFwiLCBcInRyXCIsIFwiclwiLCBcImJyXCIsIFwiYlwiLCBcImJsXCIsIFwibFwiLCBcInRsXCJdXG4gICAgICAgICAgfSwgaXNJbnRlZ2VyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXSxcbiAgICAgICAgICByYWRpYWw6IFtcIlwiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXSxcbiAgICAgICAgICBjb25pYzogW2lzSW50ZWdlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgICAgfSwgaXNBcmJpdHJhcnlWYXJpYWJsZUltYWdlLCBpc0FyYml0cmFyeUltYWdlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tncm91bmQgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZ3JvdW5kLWNvbG9yXG4gICAgICAgKi9cbiAgICAgIFwiYmctY29sb3JcIjogW3tcbiAgICAgICAgYmc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyYWRpZW50IENvbG9yIFN0b3BzIEZyb20gUG9zaXRpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmFkaWVudC1jb2xvci1zdG9wc1xuICAgICAgICovXG4gICAgICBcImdyYWRpZW50LWZyb20tcG9zXCI6IFt7XG4gICAgICAgIGZyb206IHNjYWxlR3JhZGllbnRTdG9wUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyYWRpZW50IENvbG9yIFN0b3BzIFZpYSBQb3NpdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyYWRpZW50LWNvbG9yLXN0b3BzXG4gICAgICAgKi9cbiAgICAgIFwiZ3JhZGllbnQtdmlhLXBvc1wiOiBbe1xuICAgICAgICB2aWE6IHNjYWxlR3JhZGllbnRTdG9wUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyYWRpZW50IENvbG9yIFN0b3BzIFRvIFBvc2l0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JhZGllbnQtY29sb3Itc3RvcHNcbiAgICAgICAqL1xuICAgICAgXCJncmFkaWVudC10by1wb3NcIjogW3tcbiAgICAgICAgdG86IHNjYWxlR3JhZGllbnRTdG9wUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyYWRpZW50IENvbG9yIFN0b3BzIEZyb21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmFkaWVudC1jb2xvci1zdG9wc1xuICAgICAgICovXG4gICAgICBcImdyYWRpZW50LWZyb21cIjogW3tcbiAgICAgICAgZnJvbTogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JhZGllbnQgQ29sb3IgU3RvcHMgVmlhXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JhZGllbnQtY29sb3Itc3RvcHNcbiAgICAgICAqL1xuICAgICAgXCJncmFkaWVudC12aWFcIjogW3tcbiAgICAgICAgdmlhOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmFkaWVudCBDb2xvciBTdG9wcyBUb1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyYWRpZW50LWNvbG9yLXN0b3BzXG4gICAgICAgKi9cbiAgICAgIFwiZ3JhZGllbnQtdG9cIjogW3tcbiAgICAgICAgdG86IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBCb3JkZXJzIC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgIHJvdW5kZWQ6IFt7XG4gICAgICAgIHJvdW5kZWQ6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICBcInJvdW5kZWQtc1wiOiBbe1xuICAgICAgICBcInJvdW5kZWQtc1wiOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgIFwicm91bmRlZC1lXCI6IFt7XG4gICAgICAgIFwicm91bmRlZC1lXCI6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIFRvcFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAqL1xuICAgICAgXCJyb3VuZGVkLXRcIjogW3tcbiAgICAgICAgXCJyb3VuZGVkLXRcIjogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgIFwicm91bmRlZC1yXCI6IFt7XG4gICAgICAgIFwicm91bmRlZC1yXCI6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIEJvdHRvbVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAqL1xuICAgICAgXCJyb3VuZGVkLWJcIjogW3tcbiAgICAgICAgXCJyb3VuZGVkLWJcIjogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgTGVmdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAqL1xuICAgICAgXCJyb3VuZGVkLWxcIjogW3tcbiAgICAgICAgXCJyb3VuZGVkLWxcIjogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgU3RhcnQgU3RhcnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgIFwicm91bmRlZC1zc1wiOiBbe1xuICAgICAgICBcInJvdW5kZWQtc3NcIjogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgU3RhcnQgRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICBcInJvdW5kZWQtc2VcIjogW3tcbiAgICAgICAgXCJyb3VuZGVkLXNlXCI6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIEVuZCBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgIFwicm91bmRlZC1lZVwiOiBbe1xuICAgICAgICBcInJvdW5kZWQtZWVcIjogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgRW5kIFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICBcInJvdW5kZWQtZXNcIjogW3tcbiAgICAgICAgXCJyb3VuZGVkLWVzXCI6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIFRvcCBMZWZ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICBcInJvdW5kZWQtdGxcIjogW3tcbiAgICAgICAgXCJyb3VuZGVkLXRsXCI6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIFRvcCBSaWdodFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAqL1xuICAgICAgXCJyb3VuZGVkLXRyXCI6IFt7XG4gICAgICAgIFwicm91bmRlZC10clwiOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBCb3R0b20gUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgIFwicm91bmRlZC1iclwiOiBbe1xuICAgICAgICBcInJvdW5kZWQtYnJcIjogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgQm90dG9tIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgIFwicm91bmRlZC1ibFwiOiBbe1xuICAgICAgICBcInJvdW5kZWQtYmxcIjogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBXaWR0aFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aFxuICAgICAgICovXG4gICAgICBcImJvcmRlci13XCI6IFt7XG4gICAgICAgIGJvcmRlcjogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFdpZHRoIFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAqL1xuICAgICAgXCJib3JkZXItdy14XCI6IFt7XG4gICAgICAgIFwiYm9yZGVyLXhcIjogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFdpZHRoIFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAqL1xuICAgICAgXCJib3JkZXItdy15XCI6IFt7XG4gICAgICAgIFwiYm9yZGVyLXlcIjogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFdpZHRoIFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoXG4gICAgICAgKi9cbiAgICAgIFwiYm9yZGVyLXctc1wiOiBbe1xuICAgICAgICBcImJvcmRlci1zXCI6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBXaWR0aCBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAqL1xuICAgICAgXCJib3JkZXItdy1lXCI6IFt7XG4gICAgICAgIFwiYm9yZGVyLWVcIjogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFdpZHRoIFRvcFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aFxuICAgICAgICovXG4gICAgICBcImJvcmRlci13LXRcIjogW3tcbiAgICAgICAgXCJib3JkZXItdFwiOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgV2lkdGggUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAqL1xuICAgICAgXCJib3JkZXItdy1yXCI6IFt7XG4gICAgICAgIFwiYm9yZGVyLXJcIjogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFdpZHRoIEJvdHRvbVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aFxuICAgICAgICovXG4gICAgICBcImJvcmRlci13LWJcIjogW3tcbiAgICAgICAgXCJib3JkZXItYlwiOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgV2lkdGggTGVmdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aFxuICAgICAgICovXG4gICAgICBcImJvcmRlci13LWxcIjogW3tcbiAgICAgICAgXCJib3JkZXItbFwiOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBEaXZpZGUgV2lkdGggWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aCNiZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgKi9cbiAgICAgIFwiZGl2aWRlLXhcIjogW3tcbiAgICAgICAgXCJkaXZpZGUteFwiOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBEaXZpZGUgV2lkdGggWCBSZXZlcnNlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoI2JldHdlZW4tY2hpbGRyZW5cbiAgICAgICAqL1xuICAgICAgXCJkaXZpZGUteC1yZXZlcnNlXCI6IFtcImRpdmlkZS14LXJldmVyc2VcIl0sXG4gICAgICAvKipcbiAgICAgICAqIERpdmlkZSBXaWR0aCBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoI2JldHdlZW4tY2hpbGRyZW5cbiAgICAgICAqL1xuICAgICAgXCJkaXZpZGUteVwiOiBbe1xuICAgICAgICBcImRpdmlkZS15XCI6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIERpdmlkZSBXaWR0aCBZIFJldmVyc2VcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGgjYmV0d2Vlbi1jaGlsZHJlblxuICAgICAgICovXG4gICAgICBcImRpdmlkZS15LXJldmVyc2VcIjogW1wiZGl2aWRlLXktcmV2ZXJzZVwiXSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFN0eWxlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXN0eWxlXG4gICAgICAgKi9cbiAgICAgIFwiYm9yZGVyLXN0eWxlXCI6IFt7XG4gICAgICAgIGJvcmRlcjogWy4uLnNjYWxlTGluZVN0eWxlKCksIFwiaGlkZGVuXCIsIFwibm9uZVwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIERpdmlkZSBTdHlsZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1zdHlsZSNzZXR0aW5nLXRoZS1kaXZpZGVyLXN0eWxlXG4gICAgICAgKi9cbiAgICAgIFwiZGl2aWRlLXN0eWxlXCI6IFt7XG4gICAgICAgIGRpdmlkZTogWy4uLnNjYWxlTGluZVN0eWxlKCksIFwiaGlkZGVuXCIsIFwibm9uZVwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xvclxuICAgICAgICovXG4gICAgICBcImJvcmRlci1jb2xvclwiOiBbe1xuICAgICAgICBib3JkZXI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvciBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgIFwiYm9yZGVyLWNvbG9yLXhcIjogW3tcbiAgICAgICAgXCJib3JkZXIteFwiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgQ29sb3IgWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xvclxuICAgICAgICovXG4gICAgICBcImJvcmRlci1jb2xvci15XCI6IFt7XG4gICAgICAgIFwiYm9yZGVyLXlcIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIENvbG9yIFNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItY29sb3JcbiAgICAgICAqL1xuICAgICAgXCJib3JkZXItY29sb3Itc1wiOiBbe1xuICAgICAgICBcImJvcmRlci1zXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvciBFXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgIFwiYm9yZGVyLWNvbG9yLWVcIjogW3tcbiAgICAgICAgXCJib3JkZXItZVwiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgQ29sb3IgVG9wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgIFwiYm9yZGVyLWNvbG9yLXRcIjogW3tcbiAgICAgICAgXCJib3JkZXItdFwiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgQ29sb3IgUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItY29sb3JcbiAgICAgICAqL1xuICAgICAgXCJib3JkZXItY29sb3ItclwiOiBbe1xuICAgICAgICBcImJvcmRlci1yXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvciBCb3R0b21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItY29sb3JcbiAgICAgICAqL1xuICAgICAgXCJib3JkZXItY29sb3ItYlwiOiBbe1xuICAgICAgICBcImJvcmRlci1iXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvciBMZWZ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgIFwiYm9yZGVyLWNvbG9yLWxcIjogW3tcbiAgICAgICAgXCJib3JkZXItbFwiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBEaXZpZGUgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9kaXZpZGUtY29sb3JcbiAgICAgICAqL1xuICAgICAgXCJkaXZpZGUtY29sb3JcIjogW3tcbiAgICAgICAgZGl2aWRlOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBPdXRsaW5lIFN0eWxlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3V0bGluZS1zdHlsZVxuICAgICAgICovXG4gICAgICBcIm91dGxpbmUtc3R5bGVcIjogW3tcbiAgICAgICAgb3V0bGluZTogWy4uLnNjYWxlTGluZVN0eWxlKCksIFwibm9uZVwiLCBcImhpZGRlblwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE91dGxpbmUgT2Zmc2V0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3V0bGluZS1vZmZzZXRcbiAgICAgICAqL1xuICAgICAgXCJvdXRsaW5lLW9mZnNldFwiOiBbe1xuICAgICAgICBcIm91dGxpbmUtb2Zmc2V0XCI6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBPdXRsaW5lIFdpZHRoXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3V0bGluZS13aWR0aFxuICAgICAgICovXG4gICAgICBcIm91dGxpbmUtd1wiOiBbe1xuICAgICAgICBvdXRsaW5lOiBbXCJcIiwgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGVMZW5ndGgsIGlzQXJiaXRyYXJ5TGVuZ3RoXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE91dGxpbmUgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdXRsaW5lLWNvbG9yXG4gICAgICAgKi9cbiAgICAgIFwib3V0bGluZS1jb2xvclwiOiBbe1xuICAgICAgICBvdXRsaW5lOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyAtLS0gRWZmZWN0cyAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLVxuICAgICAgLyoqXG4gICAgICAgKiBCb3ggU2hhZG93XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm94LXNoYWRvd1xuICAgICAgICovXG4gICAgICBzaGFkb3c6IFt7XG4gICAgICAgIHNoYWRvdzogW1xuICAgICAgICAgIC8vIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjAuMFxuICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgXCJub25lXCIsXG4gICAgICAgICAgdGhlbWVTaGFkb3csXG4gICAgICAgICAgaXNBcmJpdHJhcnlWYXJpYWJsZVNoYWRvdyxcbiAgICAgICAgICBpc0FyYml0cmFyeVNoYWRvd1xuICAgICAgICBdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm94IFNoYWRvdyBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3cjc2V0dGluZy10aGUtc2hhZG93LWNvbG9yXG4gICAgICAgKi9cbiAgICAgIFwic2hhZG93LWNvbG9yXCI6IFt7XG4gICAgICAgIHNoYWRvdzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogSW5zZXQgQm94IFNoYWRvd1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3cjYWRkaW5nLWFuLWluc2V0LXNoYWRvd1xuICAgICAgICovXG4gICAgICBcImluc2V0LXNoYWRvd1wiOiBbe1xuICAgICAgICBcImluc2V0LXNoYWRvd1wiOiBbXCJub25lXCIsIHRoZW1lSW5zZXRTaGFkb3csIGlzQXJiaXRyYXJ5VmFyaWFibGVTaGFkb3csIGlzQXJiaXRyYXJ5U2hhZG93XVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEluc2V0IEJveCBTaGFkb3cgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3gtc2hhZG93I3NldHRpbmctdGhlLWluc2V0LXNoYWRvdy1jb2xvclxuICAgICAgICovXG4gICAgICBcImluc2V0LXNoYWRvdy1jb2xvclwiOiBbe1xuICAgICAgICBcImluc2V0LXNoYWRvd1wiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBSaW5nIFdpZHRoXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm94LXNoYWRvdyNhZGRpbmctYS1yaW5nXG4gICAgICAgKi9cbiAgICAgIFwicmluZy13XCI6IFt7XG4gICAgICAgIHJpbmc6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFJpbmcgV2lkdGggSW5zZXRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly92My50YWlsd2luZGNzcy5jb20vZG9jcy9yaW5nLXdpZHRoI2luc2V0LXJpbmdzXG4gICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MvYmxvYi92NC4wLjAvcGFja2FnZXMvdGFpbHdpbmRjc3Mvc3JjL3V0aWxpdGllcy50cyNMNDE1OFxuICAgICAgICovXG4gICAgICBcInJpbmctdy1pbnNldFwiOiBbXCJyaW5nLWluc2V0XCJdLFxuICAgICAgLyoqXG4gICAgICAgKiBSaW5nIENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm94LXNoYWRvdyNzZXR0aW5nLXRoZS1yaW5nLWNvbG9yXG4gICAgICAgKi9cbiAgICAgIFwicmluZy1jb2xvclwiOiBbe1xuICAgICAgICByaW5nOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBSaW5nIE9mZnNldCBXaWR0aFxuICAgICAgICogQHNlZSBodHRwczovL3YzLnRhaWx3aW5kY3NzLmNvbS9kb2NzL3Jpbmctb2Zmc2V0LXdpZHRoXG4gICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MvYmxvYi92NC4wLjAvcGFja2FnZXMvdGFpbHdpbmRjc3Mvc3JjL3V0aWxpdGllcy50cyNMNDE1OFxuICAgICAgICovXG4gICAgICBcInJpbmctb2Zmc2V0LXdcIjogW3tcbiAgICAgICAgXCJyaW5nLW9mZnNldFwiOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5TGVuZ3RoXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFJpbmcgT2Zmc2V0IENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdjMudGFpbHdpbmRjc3MuY29tL2RvY3MvcmluZy1vZmZzZXQtY29sb3JcbiAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4wLjBcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kbGFicy90YWlsd2luZGNzcy9ibG9iL3Y0LjAuMC9wYWNrYWdlcy90YWlsd2luZGNzcy9zcmMvdXRpbGl0aWVzLnRzI0w0MTU4XG4gICAgICAgKi9cbiAgICAgIFwicmluZy1vZmZzZXQtY29sb3JcIjogW3tcbiAgICAgICAgXCJyaW5nLW9mZnNldFwiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBJbnNldCBSaW5nIFdpZHRoXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm94LXNoYWRvdyNhZGRpbmctYW4taW5zZXQtcmluZ1xuICAgICAgICovXG4gICAgICBcImluc2V0LXJpbmctd1wiOiBbe1xuICAgICAgICBcImluc2V0LXJpbmdcIjogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogSW5zZXQgUmluZyBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3cjc2V0dGluZy10aGUtaW5zZXQtcmluZy1jb2xvclxuICAgICAgICovXG4gICAgICBcImluc2V0LXJpbmctY29sb3JcIjogW3tcbiAgICAgICAgXCJpbnNldC1yaW5nXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgU2hhZG93XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC1zaGFkb3dcbiAgICAgICAqL1xuICAgICAgXCJ0ZXh0LXNoYWRvd1wiOiBbe1xuICAgICAgICBcInRleHQtc2hhZG93XCI6IFtcIm5vbmVcIiwgdGhlbWVUZXh0U2hhZG93LCBpc0FyYml0cmFyeVZhcmlhYmxlU2hhZG93LCBpc0FyYml0cmFyeVNoYWRvd11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUZXh0IFNoYWRvdyBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtc2hhZG93I3NldHRpbmctdGhlLXNoYWRvdy1jb2xvclxuICAgICAgICovXG4gICAgICBcInRleHQtc2hhZG93LWNvbG9yXCI6IFt7XG4gICAgICAgIFwidGV4dC1zaGFkb3dcIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT3BhY2l0eVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL29wYWNpdHlcbiAgICAgICAqL1xuICAgICAgb3BhY2l0eTogW3tcbiAgICAgICAgb3BhY2l0eTogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1peCBCbGVuZCBNb2RlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWl4LWJsZW5kLW1vZGVcbiAgICAgICAqL1xuICAgICAgXCJtaXgtYmxlbmRcIjogW3tcbiAgICAgICAgXCJtaXgtYmxlbmRcIjogWy4uLnNjYWxlQmxlbmRNb2RlKCksIFwicGx1cy1kYXJrZXJcIiwgXCJwbHVzLWxpZ2h0ZXJcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIEJsZW5kIE1vZGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZ3JvdW5kLWJsZW5kLW1vZGVcbiAgICAgICAqL1xuICAgICAgXCJiZy1ibGVuZFwiOiBbe1xuICAgICAgICBcImJnLWJsZW5kXCI6IHNjYWxlQmxlbmRNb2RlKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIENsaXBcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXNrLWNsaXBcbiAgICAgICAqL1xuICAgICAgXCJtYXNrLWNsaXBcIjogW3tcbiAgICAgICAgXCJtYXNrLWNsaXBcIjogW1wiYm9yZGVyXCIsIFwicGFkZGluZ1wiLCBcImNvbnRlbnRcIiwgXCJmaWxsXCIsIFwic3Ryb2tlXCIsIFwidmlld1wiXVxuICAgICAgfSwgXCJtYXNrLW5vLWNsaXBcIl0sXG4gICAgICAvKipcbiAgICAgICAqIE1hc2sgQ29tcG9zaXRlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFzay1jb21wb3NpdGVcbiAgICAgICAqL1xuICAgICAgXCJtYXNrLWNvbXBvc2l0ZVwiOiBbe1xuICAgICAgICBtYXNrOiBbXCJhZGRcIiwgXCJzdWJ0cmFjdFwiLCBcImludGVyc2VjdFwiLCBcImV4Y2x1ZGVcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIEltYWdlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFzay1pbWFnZVxuICAgICAgICovXG4gICAgICBcIm1hc2staW1hZ2UtbGluZWFyLXBvc1wiOiBbe1xuICAgICAgICBcIm1hc2stbGluZWFyXCI6IFtpc051bWJlcl1cbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLWxpbmVhci1mcm9tLXBvc1wiOiBbe1xuICAgICAgICBcIm1hc2stbGluZWFyLWZyb21cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1saW5lYXItdG8tcG9zXCI6IFt7XG4gICAgICAgIFwibWFzay1saW5lYXItdG9cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1saW5lYXItZnJvbS1jb2xvclwiOiBbe1xuICAgICAgICBcIm1hc2stbGluZWFyLWZyb21cIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1saW5lYXItdG8tY29sb3JcIjogW3tcbiAgICAgICAgXCJtYXNrLWxpbmVhci10b1wiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXQtZnJvbS1wb3NcIjogW3tcbiAgICAgICAgXCJtYXNrLXQtZnJvbVwiOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXQtdG8tcG9zXCI6IFt7XG4gICAgICAgIFwibWFzay10LXRvXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UtdC1mcm9tLWNvbG9yXCI6IFt7XG4gICAgICAgIFwibWFzay10LWZyb21cIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS10LXRvLWNvbG9yXCI6IFt7XG4gICAgICAgIFwibWFzay10LXRvXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2Utci1mcm9tLXBvc1wiOiBbe1xuICAgICAgICBcIm1hc2stci1mcm9tXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2Utci10by1wb3NcIjogW3tcbiAgICAgICAgXCJtYXNrLXItdG9cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1yLWZyb20tY29sb3JcIjogW3tcbiAgICAgICAgXCJtYXNrLXItZnJvbVwiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXItdG8tY29sb3JcIjogW3tcbiAgICAgICAgXCJtYXNrLXItdG9cIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1iLWZyb20tcG9zXCI6IFt7XG4gICAgICAgIFwibWFzay1iLWZyb21cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1iLXRvLXBvc1wiOiBbe1xuICAgICAgICBcIm1hc2stYi10b1wiOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLWItZnJvbS1jb2xvclwiOiBbe1xuICAgICAgICBcIm1hc2stYi1mcm9tXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UtYi10by1jb2xvclwiOiBbe1xuICAgICAgICBcIm1hc2stYi10b1wiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLWwtZnJvbS1wb3NcIjogW3tcbiAgICAgICAgXCJtYXNrLWwtZnJvbVwiOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLWwtdG8tcG9zXCI6IFt7XG4gICAgICAgIFwibWFzay1sLXRvXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UtbC1mcm9tLWNvbG9yXCI6IFt7XG4gICAgICAgIFwibWFzay1sLWZyb21cIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1sLXRvLWNvbG9yXCI6IFt7XG4gICAgICAgIFwibWFzay1sLXRvXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UteC1mcm9tLXBvc1wiOiBbe1xuICAgICAgICBcIm1hc2steC1mcm9tXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UteC10by1wb3NcIjogW3tcbiAgICAgICAgXCJtYXNrLXgtdG9cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS14LWZyb20tY29sb3JcIjogW3tcbiAgICAgICAgXCJtYXNrLXgtZnJvbVwiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXgtdG8tY29sb3JcIjogW3tcbiAgICAgICAgXCJtYXNrLXgtdG9cIjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS15LWZyb20tcG9zXCI6IFt7XG4gICAgICAgIFwibWFzay15LWZyb21cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS15LXRvLXBvc1wiOiBbe1xuICAgICAgICBcIm1hc2steS10b1wiOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXktZnJvbS1jb2xvclwiOiBbe1xuICAgICAgICBcIm1hc2steS1mcm9tXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UteS10by1jb2xvclwiOiBbe1xuICAgICAgICBcIm1hc2steS10b1wiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXJhZGlhbFwiOiBbe1xuICAgICAgICBcIm1hc2stcmFkaWFsXCI6IFtpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UtcmFkaWFsLWZyb20tcG9zXCI6IFt7XG4gICAgICAgIFwibWFzay1yYWRpYWwtZnJvbVwiOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXJhZGlhbC10by1wb3NcIjogW3tcbiAgICAgICAgXCJtYXNrLXJhZGlhbC10b1wiOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXJhZGlhbC1mcm9tLWNvbG9yXCI6IFt7XG4gICAgICAgIFwibWFzay1yYWRpYWwtZnJvbVwiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXJhZGlhbC10by1jb2xvclwiOiBbe1xuICAgICAgICBcIm1hc2stcmFkaWFsLXRvXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UtcmFkaWFsLXNoYXBlXCI6IFt7XG4gICAgICAgIFwibWFzay1yYWRpYWxcIjogW1wiY2lyY2xlXCIsIFwiZWxsaXBzZVwiXVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UtcmFkaWFsLXNpemVcIjogW3tcbiAgICAgICAgXCJtYXNrLXJhZGlhbFwiOiBbe1xuICAgICAgICAgIGNsb3Nlc3Q6IFtcInNpZGVcIiwgXCJjb3JuZXJcIl0sXG4gICAgICAgICAgZmFydGhlc3Q6IFtcInNpZGVcIiwgXCJjb3JuZXJcIl1cbiAgICAgICAgfV1cbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLXJhZGlhbC1wb3NcIjogW3tcbiAgICAgICAgXCJtYXNrLXJhZGlhbC1hdFwiOiBzY2FsZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLWNvbmljLXBvc1wiOiBbe1xuICAgICAgICBcIm1hc2stY29uaWNcIjogW2lzTnVtYmVyXVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UtY29uaWMtZnJvbS1wb3NcIjogW3tcbiAgICAgICAgXCJtYXNrLWNvbmljLWZyb21cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIFwibWFzay1pbWFnZS1jb25pYy10by1wb3NcIjogW3tcbiAgICAgICAgXCJtYXNrLWNvbmljLXRvXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICBcIm1hc2staW1hZ2UtY29uaWMtZnJvbS1jb2xvclwiOiBbe1xuICAgICAgICBcIm1hc2stY29uaWMtZnJvbVwiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgXCJtYXNrLWltYWdlLWNvbmljLXRvLWNvbG9yXCI6IFt7XG4gICAgICAgIFwibWFzay1jb25pYy10b1wiOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIE1vZGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXNrLW1vZGVcbiAgICAgICAqL1xuICAgICAgXCJtYXNrLW1vZGVcIjogW3tcbiAgICAgICAgbWFzazogW1wiYWxwaGFcIiwgXCJsdW1pbmFuY2VcIiwgXCJtYXRjaFwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hc2sgT3JpZ2luXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFzay1vcmlnaW5cbiAgICAgICAqL1xuICAgICAgXCJtYXNrLW9yaWdpblwiOiBbe1xuICAgICAgICBcIm1hc2stb3JpZ2luXCI6IFtcImJvcmRlclwiLCBcInBhZGRpbmdcIiwgXCJjb250ZW50XCIsIFwiZmlsbFwiLCBcInN0cm9rZVwiLCBcInZpZXdcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIFBvc2l0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFzay1wb3NpdGlvblxuICAgICAgICovXG4gICAgICBcIm1hc2stcG9zaXRpb25cIjogW3tcbiAgICAgICAgbWFzazogc2NhbGVCZ1Bvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIFJlcGVhdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hc2stcmVwZWF0XG4gICAgICAgKi9cbiAgICAgIFwibWFzay1yZXBlYXRcIjogW3tcbiAgICAgICAgbWFzazogc2NhbGVCZ1JlcGVhdCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFzayBTaXplXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFzay1zaXplXG4gICAgICAgKi9cbiAgICAgIFwibWFzay1zaXplXCI6IFt7XG4gICAgICAgIG1hc2s6IHNjYWxlQmdTaXplKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIFR5cGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXNrLXR5cGVcbiAgICAgICAqL1xuICAgICAgXCJtYXNrLXR5cGVcIjogW3tcbiAgICAgICAgXCJtYXNrLXR5cGVcIjogW1wiYWxwaGFcIiwgXCJsdW1pbmFuY2VcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIEltYWdlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFzay1pbWFnZVxuICAgICAgICovXG4gICAgICBcIm1hc2staW1hZ2VcIjogW3tcbiAgICAgICAgbWFzazogW1wibm9uZVwiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBGaWx0ZXJzIC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEZpbHRlclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZpbHRlclxuICAgICAgICovXG4gICAgICBmaWx0ZXI6IFt7XG4gICAgICAgIGZpbHRlcjogW1xuICAgICAgICAgIC8vIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHYzLjAuMFxuICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgXCJub25lXCIsXG4gICAgICAgICAgaXNBcmJpdHJhcnlWYXJpYWJsZSxcbiAgICAgICAgICBpc0FyYml0cmFyeVZhbHVlXG4gICAgICAgIF1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCbHVyXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmx1clxuICAgICAgICovXG4gICAgICBibHVyOiBbe1xuICAgICAgICBibHVyOiBzY2FsZUJsdXIoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJyaWdodG5lc3NcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9icmlnaHRuZXNzXG4gICAgICAgKi9cbiAgICAgIGJyaWdodG5lc3M6IFt7XG4gICAgICAgIGJyaWdodG5lc3M6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBDb250cmFzdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2NvbnRyYXN0XG4gICAgICAgKi9cbiAgICAgIGNvbnRyYXN0OiBbe1xuICAgICAgICBjb250cmFzdDogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIERyb3AgU2hhZG93XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZHJvcC1zaGFkb3dcbiAgICAgICAqL1xuICAgICAgXCJkcm9wLXNoYWRvd1wiOiBbe1xuICAgICAgICBcImRyb3Atc2hhZG93XCI6IFtcbiAgICAgICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4wLjBcbiAgICAgICAgICBcIlwiLFxuICAgICAgICAgIFwibm9uZVwiLFxuICAgICAgICAgIHRoZW1lRHJvcFNoYWRvdyxcbiAgICAgICAgICBpc0FyYml0cmFyeVZhcmlhYmxlU2hhZG93LFxuICAgICAgICAgIGlzQXJiaXRyYXJ5U2hhZG93XG4gICAgICAgIF1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBEcm9wIFNoYWRvdyBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZpbHRlci1kcm9wLXNoYWRvdyNzZXR0aW5nLXRoZS1zaGFkb3ctY29sb3JcbiAgICAgICAqL1xuICAgICAgXCJkcm9wLXNoYWRvdy1jb2xvclwiOiBbe1xuICAgICAgICBcImRyb3Atc2hhZG93XCI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyYXlzY2FsZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyYXlzY2FsZVxuICAgICAgICovXG4gICAgICBncmF5c2NhbGU6IFt7XG4gICAgICAgIGdyYXlzY2FsZTogW1wiXCIsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEh1ZSBSb3RhdGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9odWUtcm90YXRlXG4gICAgICAgKi9cbiAgICAgIFwiaHVlLXJvdGF0ZVwiOiBbe1xuICAgICAgICBcImh1ZS1yb3RhdGVcIjogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEludmVydFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ludmVydFxuICAgICAgICovXG4gICAgICBpbnZlcnQ6IFt7XG4gICAgICAgIGludmVydDogW1wiXCIsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNhdHVyYXRlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2F0dXJhdGVcbiAgICAgICAqL1xuICAgICAgc2F0dXJhdGU6IFt7XG4gICAgICAgIHNhdHVyYXRlOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2VwaWFcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zZXBpYVxuICAgICAgICovXG4gICAgICBzZXBpYTogW3tcbiAgICAgICAgc2VwaWE6IFtcIlwiLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZHJvcCBGaWx0ZXJcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZHJvcC1maWx0ZXJcbiAgICAgICAqL1xuICAgICAgXCJiYWNrZHJvcC1maWx0ZXJcIjogW3tcbiAgICAgICAgXCJiYWNrZHJvcC1maWx0ZXJcIjogW1xuICAgICAgICAgIC8vIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHYzLjAuMFxuICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgXCJub25lXCIsXG4gICAgICAgICAgaXNBcmJpdHJhcnlWYXJpYWJsZSxcbiAgICAgICAgICBpc0FyYml0cmFyeVZhbHVlXG4gICAgICAgIF1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZHJvcCBCbHVyXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3AtYmx1clxuICAgICAgICovXG4gICAgICBcImJhY2tkcm9wLWJsdXJcIjogW3tcbiAgICAgICAgXCJiYWNrZHJvcC1ibHVyXCI6IHNjYWxlQmx1cigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2Ryb3AgQnJpZ2h0bmVzc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLWJyaWdodG5lc3NcbiAgICAgICAqL1xuICAgICAgXCJiYWNrZHJvcC1icmlnaHRuZXNzXCI6IFt7XG4gICAgICAgIFwiYmFja2Ryb3AtYnJpZ2h0bmVzc1wiOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2Ryb3AgQ29udHJhc3RcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZHJvcC1jb250cmFzdFxuICAgICAgICovXG4gICAgICBcImJhY2tkcm9wLWNvbnRyYXN0XCI6IFt7XG4gICAgICAgIFwiYmFja2Ryb3AtY29udHJhc3RcIjogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tkcm9wIEdyYXlzY2FsZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLWdyYXlzY2FsZVxuICAgICAgICovXG4gICAgICBcImJhY2tkcm9wLWdyYXlzY2FsZVwiOiBbe1xuICAgICAgICBcImJhY2tkcm9wLWdyYXlzY2FsZVwiOiBbXCJcIiwgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2Ryb3AgSHVlIFJvdGF0ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLWh1ZS1yb3RhdGVcbiAgICAgICAqL1xuICAgICAgXCJiYWNrZHJvcC1odWUtcm90YXRlXCI6IFt7XG4gICAgICAgIFwiYmFja2Ryb3AtaHVlLXJvdGF0ZVwiOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2Ryb3AgSW52ZXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3AtaW52ZXJ0XG4gICAgICAgKi9cbiAgICAgIFwiYmFja2Ryb3AtaW52ZXJ0XCI6IFt7XG4gICAgICAgIFwiYmFja2Ryb3AtaW52ZXJ0XCI6IFtcIlwiLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZHJvcCBPcGFjaXR5XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3Atb3BhY2l0eVxuICAgICAgICovXG4gICAgICBcImJhY2tkcm9wLW9wYWNpdHlcIjogW3tcbiAgICAgICAgXCJiYWNrZHJvcC1vcGFjaXR5XCI6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZHJvcCBTYXR1cmF0ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLXNhdHVyYXRlXG4gICAgICAgKi9cbiAgICAgIFwiYmFja2Ryb3Atc2F0dXJhdGVcIjogW3tcbiAgICAgICAgXCJiYWNrZHJvcC1zYXR1cmF0ZVwiOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2Ryb3AgU2VwaWFcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZHJvcC1zZXBpYVxuICAgICAgICovXG4gICAgICBcImJhY2tkcm9wLXNlcGlhXCI6IFt7XG4gICAgICAgIFwiYmFja2Ryb3Atc2VwaWFcIjogW1wiXCIsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIFRhYmxlcyAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xsYXBzZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xsYXBzZVxuICAgICAgICovXG4gICAgICBcImJvcmRlci1jb2xsYXBzZVwiOiBbe1xuICAgICAgICBib3JkZXI6IFtcImNvbGxhcHNlXCIsIFwic2VwYXJhdGVcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgU3BhY2luZ1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1zcGFjaW5nXG4gICAgICAgKi9cbiAgICAgIFwiYm9yZGVyLXNwYWNpbmdcIjogW3tcbiAgICAgICAgXCJib3JkZXItc3BhY2luZ1wiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFNwYWNpbmcgWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1zcGFjaW5nXG4gICAgICAgKi9cbiAgICAgIFwiYm9yZGVyLXNwYWNpbmcteFwiOiBbe1xuICAgICAgICBcImJvcmRlci1zcGFjaW5nLXhcIjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBTcGFjaW5nIFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItc3BhY2luZ1xuICAgICAgICovXG4gICAgICBcImJvcmRlci1zcGFjaW5nLXlcIjogW3tcbiAgICAgICAgXCJib3JkZXItc3BhY2luZy15XCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUYWJsZSBMYXlvdXRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90YWJsZS1sYXlvdXRcbiAgICAgICAqL1xuICAgICAgXCJ0YWJsZS1sYXlvdXRcIjogW3tcbiAgICAgICAgdGFibGU6IFtcImF1dG9cIiwgXCJmaXhlZFwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIENhcHRpb24gU2lkZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2NhcHRpb24tc2lkZVxuICAgICAgICovXG4gICAgICBjYXB0aW9uOiBbe1xuICAgICAgICBjYXB0aW9uOiBbXCJ0b3BcIiwgXCJib3R0b21cIl1cbiAgICAgIH1dLFxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyAtLS0gVHJhbnNpdGlvbnMgYW5kIEFuaW1hdGlvbiAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2l0aW9uIFByb3BlcnR5XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdHJhbnNpdGlvbi1wcm9wZXJ0eVxuICAgICAgICovXG4gICAgICB0cmFuc2l0aW9uOiBbe1xuICAgICAgICB0cmFuc2l0aW9uOiBbXCJcIiwgXCJhbGxcIiwgXCJjb2xvcnNcIiwgXCJvcGFjaXR5XCIsIFwic2hhZG93XCIsIFwidHJhbnNmb3JtXCIsIFwibm9uZVwiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zaXRpb24gQmVoYXZpb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLWJlaGF2aW9yXG4gICAgICAgKi9cbiAgICAgIFwidHJhbnNpdGlvbi1iZWhhdmlvclwiOiBbe1xuICAgICAgICB0cmFuc2l0aW9uOiBbXCJub3JtYWxcIiwgXCJkaXNjcmV0ZVwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zaXRpb24gRHVyYXRpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLWR1cmF0aW9uXG4gICAgICAgKi9cbiAgICAgIGR1cmF0aW9uOiBbe1xuICAgICAgICBkdXJhdGlvbjogW2lzTnVtYmVyLCBcImluaXRpYWxcIiwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2l0aW9uIFRpbWluZyBGdW5jdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXG4gICAgICAgKi9cbiAgICAgIGVhc2U6IFt7XG4gICAgICAgIGVhc2U6IFtcImxpbmVhclwiLCBcImluaXRpYWxcIiwgdGhlbWVFYXNlLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zaXRpb24gRGVsYXlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLWRlbGF5XG4gICAgICAgKi9cbiAgICAgIGRlbGF5OiBbe1xuICAgICAgICBkZWxheTogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEFuaW1hdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FuaW1hdGlvblxuICAgICAgICovXG4gICAgICBhbmltYXRlOiBbe1xuICAgICAgICBhbmltYXRlOiBbXCJub25lXCIsIHRoZW1lQW5pbWF0ZSwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyAtLS0gVHJhbnNmb3JtcyAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZmFjZSBWaXNpYmlsaXR5XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2ZhY2UtdmlzaWJpbGl0eVxuICAgICAgICovXG4gICAgICBiYWNrZmFjZTogW3tcbiAgICAgICAgYmFja2ZhY2U6IFtcImhpZGRlblwiLCBcInZpc2libGVcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQZXJzcGVjdGl2ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BlcnNwZWN0aXZlXG4gICAgICAgKi9cbiAgICAgIHBlcnNwZWN0aXZlOiBbe1xuICAgICAgICBwZXJzcGVjdGl2ZTogW3RoZW1lUGVyc3BlY3RpdmUsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUGVyc3BlY3RpdmUgT3JpZ2luXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGVyc3BlY3RpdmUtb3JpZ2luXG4gICAgICAgKi9cbiAgICAgIFwicGVyc3BlY3RpdmUtb3JpZ2luXCI6IFt7XG4gICAgICAgIFwicGVyc3BlY3RpdmUtb3JpZ2luXCI6IHNjYWxlUG9zaXRpb25XaXRoQXJiaXRyYXJ5KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBSb3RhdGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9yb3RhdGVcbiAgICAgICAqL1xuICAgICAgcm90YXRlOiBbe1xuICAgICAgICByb3RhdGU6IHNjYWxlUm90YXRlKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBSb3RhdGUgWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3JvdGF0ZVxuICAgICAgICovXG4gICAgICBcInJvdGF0ZS14XCI6IFt7XG4gICAgICAgIFwicm90YXRlLXhcIjogc2NhbGVSb3RhdGUoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFJvdGF0ZSBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvcm90YXRlXG4gICAgICAgKi9cbiAgICAgIFwicm90YXRlLXlcIjogW3tcbiAgICAgICAgXCJyb3RhdGUteVwiOiBzY2FsZVJvdGF0ZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUm90YXRlIFpcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9yb3RhdGVcbiAgICAgICAqL1xuICAgICAgXCJyb3RhdGUtelwiOiBbe1xuICAgICAgICBcInJvdGF0ZS16XCI6IHNjYWxlUm90YXRlKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY2FsZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NjYWxlXG4gICAgICAgKi9cbiAgICAgIHNjYWxlOiBbe1xuICAgICAgICBzY2FsZTogc2NhbGVTY2FsZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2NhbGUgWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NjYWxlXG4gICAgICAgKi9cbiAgICAgIFwic2NhbGUteFwiOiBbe1xuICAgICAgICBcInNjYWxlLXhcIjogc2NhbGVTY2FsZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2NhbGUgWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NjYWxlXG4gICAgICAgKi9cbiAgICAgIFwic2NhbGUteVwiOiBbe1xuICAgICAgICBcInNjYWxlLXlcIjogc2NhbGVTY2FsZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2NhbGUgWlxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NjYWxlXG4gICAgICAgKi9cbiAgICAgIFwic2NhbGUtelwiOiBbe1xuICAgICAgICBcInNjYWxlLXpcIjogc2NhbGVTY2FsZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2NhbGUgM0RcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY2FsZVxuICAgICAgICovXG4gICAgICBcInNjYWxlLTNkXCI6IFtcInNjYWxlLTNkXCJdLFxuICAgICAgLyoqXG4gICAgICAgKiBTa2V3XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2tld1xuICAgICAgICovXG4gICAgICBza2V3OiBbe1xuICAgICAgICBza2V3OiBzY2FsZVNrZXcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNrZXcgWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NrZXdcbiAgICAgICAqL1xuICAgICAgXCJza2V3LXhcIjogW3tcbiAgICAgICAgXCJza2V3LXhcIjogc2NhbGVTa2V3KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTa2V3IFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9za2V3XG4gICAgICAgKi9cbiAgICAgIFwic2tldy15XCI6IFt7XG4gICAgICAgIFwic2tldy15XCI6IHNjYWxlU2tldygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVHJhbnNmb3JtXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdHJhbnNmb3JtXG4gICAgICAgKi9cbiAgICAgIHRyYW5zZm9ybTogW3tcbiAgICAgICAgdHJhbnNmb3JtOiBbaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZSwgXCJcIiwgXCJub25lXCIsIFwiZ3B1XCIsIFwiY3B1XCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVHJhbnNmb3JtIE9yaWdpblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zZm9ybS1vcmlnaW5cbiAgICAgICAqL1xuICAgICAgXCJ0cmFuc2Zvcm0tb3JpZ2luXCI6IFt7XG4gICAgICAgIG9yaWdpbjogc2NhbGVQb3NpdGlvbldpdGhBcmJpdHJhcnkoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zZm9ybSBTdHlsZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zZm9ybS1zdHlsZVxuICAgICAgICovXG4gICAgICBcInRyYW5zZm9ybS1zdHlsZVwiOiBbe1xuICAgICAgICB0cmFuc2Zvcm06IFtcIjNkXCIsIFwiZmxhdFwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zbGF0ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zbGF0ZVxuICAgICAgICovXG4gICAgICB0cmFuc2xhdGU6IFt7XG4gICAgICAgIHRyYW5zbGF0ZTogc2NhbGVUcmFuc2xhdGUoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zbGF0ZSBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdHJhbnNsYXRlXG4gICAgICAgKi9cbiAgICAgIFwidHJhbnNsYXRlLXhcIjogW3tcbiAgICAgICAgXCJ0cmFuc2xhdGUteFwiOiBzY2FsZVRyYW5zbGF0ZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVHJhbnNsYXRlIFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2xhdGVcbiAgICAgICAqL1xuICAgICAgXCJ0cmFuc2xhdGUteVwiOiBbe1xuICAgICAgICBcInRyYW5zbGF0ZS15XCI6IHNjYWxlVHJhbnNsYXRlKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2xhdGUgWlxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zbGF0ZVxuICAgICAgICovXG4gICAgICBcInRyYW5zbGF0ZS16XCI6IFt7XG4gICAgICAgIFwidHJhbnNsYXRlLXpcIjogc2NhbGVUcmFuc2xhdGUoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zbGF0ZSBOb25lXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdHJhbnNsYXRlXG4gICAgICAgKi9cbiAgICAgIFwidHJhbnNsYXRlLW5vbmVcIjogW1widHJhbnNsYXRlLW5vbmVcIl0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBJbnRlcmFjdGl2aXR5IC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEFjY2VudCBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FjY2VudC1jb2xvclxuICAgICAgICovXG4gICAgICBhY2NlbnQ6IFt7XG4gICAgICAgIGFjY2VudDogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQXBwZWFyYW5jZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FwcGVhcmFuY2VcbiAgICAgICAqL1xuICAgICAgYXBwZWFyYW5jZTogW3tcbiAgICAgICAgYXBwZWFyYW5jZTogW1wibm9uZVwiLCBcImF1dG9cIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBDYXJldCBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2p1c3QtaW4tdGltZS1tb2RlI2NhcmV0LWNvbG9yLXV0aWxpdGllc1xuICAgICAgICovXG4gICAgICBcImNhcmV0LWNvbG9yXCI6IFt7XG4gICAgICAgIGNhcmV0OiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBDb2xvciBTY2hlbWVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9jb2xvci1zY2hlbWVcbiAgICAgICAqL1xuICAgICAgXCJjb2xvci1zY2hlbWVcIjogW3tcbiAgICAgICAgc2NoZW1lOiBbXCJub3JtYWxcIiwgXCJkYXJrXCIsIFwibGlnaHRcIiwgXCJsaWdodC1kYXJrXCIsIFwib25seS1kYXJrXCIsIFwib25seS1saWdodFwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEN1cnNvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2N1cnNvclxuICAgICAgICovXG4gICAgICBjdXJzb3I6IFt7XG4gICAgICAgIGN1cnNvcjogW1wiYXV0b1wiLCBcImRlZmF1bHRcIiwgXCJwb2ludGVyXCIsIFwid2FpdFwiLCBcInRleHRcIiwgXCJtb3ZlXCIsIFwiaGVscFwiLCBcIm5vdC1hbGxvd2VkXCIsIFwibm9uZVwiLCBcImNvbnRleHQtbWVudVwiLCBcInByb2dyZXNzXCIsIFwiY2VsbFwiLCBcImNyb3NzaGFpclwiLCBcInZlcnRpY2FsLXRleHRcIiwgXCJhbGlhc1wiLCBcImNvcHlcIiwgXCJuby1kcm9wXCIsIFwiZ3JhYlwiLCBcImdyYWJiaW5nXCIsIFwiYWxsLXNjcm9sbFwiLCBcImNvbC1yZXNpemVcIiwgXCJyb3ctcmVzaXplXCIsIFwibi1yZXNpemVcIiwgXCJlLXJlc2l6ZVwiLCBcInMtcmVzaXplXCIsIFwidy1yZXNpemVcIiwgXCJuZS1yZXNpemVcIiwgXCJudy1yZXNpemVcIiwgXCJzZS1yZXNpemVcIiwgXCJzdy1yZXNpemVcIiwgXCJldy1yZXNpemVcIiwgXCJucy1yZXNpemVcIiwgXCJuZXN3LXJlc2l6ZVwiLCBcIm53c2UtcmVzaXplXCIsIFwiem9vbS1pblwiLCBcInpvb20tb3V0XCIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRmllbGQgU2l6aW5nXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmllbGQtc2l6aW5nXG4gICAgICAgKi9cbiAgICAgIFwiZmllbGQtc2l6aW5nXCI6IFt7XG4gICAgICAgIFwiZmllbGQtc2l6aW5nXCI6IFtcImZpeGVkXCIsIFwiY29udGVudFwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBvaW50ZXIgRXZlbnRzXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcG9pbnRlci1ldmVudHNcbiAgICAgICAqL1xuICAgICAgXCJwb2ludGVyLWV2ZW50c1wiOiBbe1xuICAgICAgICBcInBvaW50ZXItZXZlbnRzXCI6IFtcImF1dG9cIiwgXCJub25lXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUmVzaXplXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcmVzaXplXG4gICAgICAgKi9cbiAgICAgIHJlc2l6ZTogW3tcbiAgICAgICAgcmVzaXplOiBbXCJub25lXCIsIFwiXCIsIFwieVwiLCBcInhcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgQmVoYXZpb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtYmVoYXZpb3JcbiAgICAgICAqL1xuICAgICAgXCJzY3JvbGwtYmVoYXZpb3JcIjogW3tcbiAgICAgICAgc2Nyb2xsOiBbXCJhdXRvXCIsIFwic21vb3RoXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIE1hcmdpblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1tYXJnaW5cbiAgICAgICAqL1xuICAgICAgXCJzY3JvbGwtbVwiOiBbe1xuICAgICAgICBcInNjcm9sbC1tXCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgTWFyZ2luIFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIFwic2Nyb2xsLW14XCI6IFt7XG4gICAgICAgIFwic2Nyb2xsLW14XCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgTWFyZ2luIFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIFwic2Nyb2xsLW15XCI6IFt7XG4gICAgICAgIFwic2Nyb2xsLW15XCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgTWFyZ2luIFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICovXG4gICAgICBcInNjcm9sbC1tc1wiOiBbe1xuICAgICAgICBcInNjcm9sbC1tc1wiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIE1hcmdpbiBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIFwic2Nyb2xsLW1lXCI6IFt7XG4gICAgICAgIFwic2Nyb2xsLW1lXCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgTWFyZ2luIFRvcFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1tYXJnaW5cbiAgICAgICAqL1xuICAgICAgXCJzY3JvbGwtbXRcIjogW3tcbiAgICAgICAgXCJzY3JvbGwtbXRcIjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBNYXJnaW4gUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIFwic2Nyb2xsLW1yXCI6IFt7XG4gICAgICAgIFwic2Nyb2xsLW1yXCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgTWFyZ2luIEJvdHRvbVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1tYXJnaW5cbiAgICAgICAqL1xuICAgICAgXCJzY3JvbGwtbWJcIjogW3tcbiAgICAgICAgXCJzY3JvbGwtbWJcIjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBNYXJnaW4gTGVmdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1tYXJnaW5cbiAgICAgICAqL1xuICAgICAgXCJzY3JvbGwtbWxcIjogW3tcbiAgICAgICAgXCJzY3JvbGwtbWxcIjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBQYWRkaW5nXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAqL1xuICAgICAgXCJzY3JvbGwtcFwiOiBbe1xuICAgICAgICBcInNjcm9sbC1wXCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgUGFkZGluZyBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAqL1xuICAgICAgXCJzY3JvbGwtcHhcIjogW3tcbiAgICAgICAgXCJzY3JvbGwtcHhcIjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBQYWRkaW5nIFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtcGFkZGluZ1xuICAgICAgICovXG4gICAgICBcInNjcm9sbC1weVwiOiBbe1xuICAgICAgICBcInNjcm9sbC1weVwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFBhZGRpbmcgU3RhcnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtcGFkZGluZ1xuICAgICAgICovXG4gICAgICBcInNjcm9sbC1wc1wiOiBbe1xuICAgICAgICBcInNjcm9sbC1wc1wiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFBhZGRpbmcgRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAqL1xuICAgICAgXCJzY3JvbGwtcGVcIjogW3tcbiAgICAgICAgXCJzY3JvbGwtcGVcIjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBQYWRkaW5nIFRvcFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIFwic2Nyb2xsLXB0XCI6IFt7XG4gICAgICAgIFwic2Nyb2xsLXB0XCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgUGFkZGluZyBSaWdodFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIFwic2Nyb2xsLXByXCI6IFt7XG4gICAgICAgIFwic2Nyb2xsLXByXCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgUGFkZGluZyBCb3R0b21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtcGFkZGluZ1xuICAgICAgICovXG4gICAgICBcInNjcm9sbC1wYlwiOiBbe1xuICAgICAgICBcInNjcm9sbC1wYlwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFBhZGRpbmcgTGVmdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIFwic2Nyb2xsLXBsXCI6IFt7XG4gICAgICAgIFwic2Nyb2xsLXBsXCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgU25hcCBBbGlnblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1zbmFwLWFsaWduXG4gICAgICAgKi9cbiAgICAgIFwic25hcC1hbGlnblwiOiBbe1xuICAgICAgICBzbmFwOiBbXCJzdGFydFwiLCBcImVuZFwiLCBcImNlbnRlclwiLCBcImFsaWduLW5vbmVcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgU25hcCBTdG9wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXNuYXAtc3RvcFxuICAgICAgICovXG4gICAgICBcInNuYXAtc3RvcFwiOiBbe1xuICAgICAgICBzbmFwOiBbXCJub3JtYWxcIiwgXCJhbHdheXNcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgU25hcCBUeXBlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXNuYXAtdHlwZVxuICAgICAgICovXG4gICAgICBcInNuYXAtdHlwZVwiOiBbe1xuICAgICAgICBzbmFwOiBbXCJub25lXCIsIFwieFwiLCBcInlcIiwgXCJib3RoXCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFNuYXAgVHlwZSBTdHJpY3RuZXNzXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXNuYXAtdHlwZVxuICAgICAgICovXG4gICAgICBcInNuYXAtc3RyaWN0bmVzc1wiOiBbe1xuICAgICAgICBzbmFwOiBbXCJtYW5kYXRvcnlcIiwgXCJwcm94aW1pdHlcIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUb3VjaCBBY3Rpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3VjaC1hY3Rpb25cbiAgICAgICAqL1xuICAgICAgdG91Y2g6IFt7XG4gICAgICAgIHRvdWNoOiBbXCJhdXRvXCIsIFwibm9uZVwiLCBcIm1hbmlwdWxhdGlvblwiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRvdWNoIEFjdGlvbiBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG91Y2gtYWN0aW9uXG4gICAgICAgKi9cbiAgICAgIFwidG91Y2gteFwiOiBbe1xuICAgICAgICBcInRvdWNoLXBhblwiOiBbXCJ4XCIsIFwibGVmdFwiLCBcInJpZ2h0XCJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVG91Y2ggQWN0aW9uIFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3VjaC1hY3Rpb25cbiAgICAgICAqL1xuICAgICAgXCJ0b3VjaC15XCI6IFt7XG4gICAgICAgIFwidG91Y2gtcGFuXCI6IFtcInlcIiwgXCJ1cFwiLCBcImRvd25cIl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUb3VjaCBBY3Rpb24gUGluY2ggWm9vbVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvdWNoLWFjdGlvblxuICAgICAgICovXG4gICAgICBcInRvdWNoLXB6XCI6IFtcInRvdWNoLXBpbmNoLXpvb21cIl0sXG4gICAgICAvKipcbiAgICAgICAqIFVzZXIgU2VsZWN0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdXNlci1zZWxlY3RcbiAgICAgICAqL1xuICAgICAgc2VsZWN0OiBbe1xuICAgICAgICBzZWxlY3Q6IFtcIm5vbmVcIiwgXCJ0ZXh0XCIsIFwiYWxsXCIsIFwiYXV0b1wiXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFdpbGwgQ2hhbmdlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvd2lsbC1jaGFuZ2VcbiAgICAgICAqL1xuICAgICAgXCJ3aWxsLWNoYW5nZVwiOiBbe1xuICAgICAgICBcIndpbGwtY2hhbmdlXCI6IFtcImF1dG9cIiwgXCJzY3JvbGxcIiwgXCJjb250ZW50c1wiLCBcInRyYW5zZm9ybVwiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIFNWRyAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEZpbGxcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9maWxsXG4gICAgICAgKi9cbiAgICAgIGZpbGw6IFt7XG4gICAgICAgIGZpbGw6IFtcIm5vbmVcIiwgLi4uc2NhbGVDb2xvcigpXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFN0cm9rZSBXaWR0aFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3N0cm9rZS13aWR0aFxuICAgICAgICovXG4gICAgICBcInN0cm9rZS13XCI6IFt7XG4gICAgICAgIHN0cm9rZTogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlTGVuZ3RoLCBpc0FyYml0cmFyeUxlbmd0aCwgaXNBcmJpdHJhcnlOdW1iZXJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU3Ryb2tlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc3Ryb2tlXG4gICAgICAgKi9cbiAgICAgIHN0cm9rZTogW3tcbiAgICAgICAgc3Ryb2tlOiBbXCJub25lXCIsIC4uLnNjYWxlQ29sb3IoKV1cbiAgICAgIH1dLFxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyAtLS0gQWNjZXNzaWJpbGl0eSAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLyoqXG4gICAgICAgKiBGb3JjZWQgQ29sb3IgQWRqdXN0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9yY2VkLWNvbG9yLWFkanVzdFxuICAgICAgICovXG4gICAgICBcImZvcmNlZC1jb2xvci1hZGp1c3RcIjogW3tcbiAgICAgICAgXCJmb3JjZWQtY29sb3ItYWRqdXN0XCI6IFtcImF1dG9cIiwgXCJub25lXCJdXG4gICAgICB9XVxuICAgIH0sXG4gICAgY29uZmxpY3RpbmdDbGFzc0dyb3Vwczoge1xuICAgICAgb3ZlcmZsb3c6IFtcIm92ZXJmbG93LXhcIiwgXCJvdmVyZmxvdy15XCJdLFxuICAgICAgb3ZlcnNjcm9sbDogW1wib3ZlcnNjcm9sbC14XCIsIFwib3ZlcnNjcm9sbC15XCJdLFxuICAgICAgaW5zZXQ6IFtcImluc2V0LXhcIiwgXCJpbnNldC15XCIsIFwic3RhcnRcIiwgXCJlbmRcIiwgXCJ0b3BcIiwgXCJyaWdodFwiLCBcImJvdHRvbVwiLCBcImxlZnRcIl0sXG4gICAgICBcImluc2V0LXhcIjogW1wicmlnaHRcIiwgXCJsZWZ0XCJdLFxuICAgICAgXCJpbnNldC15XCI6IFtcInRvcFwiLCBcImJvdHRvbVwiXSxcbiAgICAgIGZsZXg6IFtcImJhc2lzXCIsIFwiZ3Jvd1wiLCBcInNocmlua1wiXSxcbiAgICAgIGdhcDogW1wiZ2FwLXhcIiwgXCJnYXAteVwiXSxcbiAgICAgIHA6IFtcInB4XCIsIFwicHlcIiwgXCJwc1wiLCBcInBlXCIsIFwicHRcIiwgXCJwclwiLCBcInBiXCIsIFwicGxcIl0sXG4gICAgICBweDogW1wicHJcIiwgXCJwbFwiXSxcbiAgICAgIHB5OiBbXCJwdFwiLCBcInBiXCJdLFxuICAgICAgbTogW1wibXhcIiwgXCJteVwiLCBcIm1zXCIsIFwibWVcIiwgXCJtdFwiLCBcIm1yXCIsIFwibWJcIiwgXCJtbFwiXSxcbiAgICAgIG14OiBbXCJtclwiLCBcIm1sXCJdLFxuICAgICAgbXk6IFtcIm10XCIsIFwibWJcIl0sXG4gICAgICBzaXplOiBbXCJ3XCIsIFwiaFwiXSxcbiAgICAgIFwiZm9udC1zaXplXCI6IFtcImxlYWRpbmdcIl0sXG4gICAgICBcImZ2bi1ub3JtYWxcIjogW1wiZnZuLW9yZGluYWxcIiwgXCJmdm4tc2xhc2hlZC16ZXJvXCIsIFwiZnZuLWZpZ3VyZVwiLCBcImZ2bi1zcGFjaW5nXCIsIFwiZnZuLWZyYWN0aW9uXCJdLFxuICAgICAgXCJmdm4tb3JkaW5hbFwiOiBbXCJmdm4tbm9ybWFsXCJdLFxuICAgICAgXCJmdm4tc2xhc2hlZC16ZXJvXCI6IFtcImZ2bi1ub3JtYWxcIl0sXG4gICAgICBcImZ2bi1maWd1cmVcIjogW1wiZnZuLW5vcm1hbFwiXSxcbiAgICAgIFwiZnZuLXNwYWNpbmdcIjogW1wiZnZuLW5vcm1hbFwiXSxcbiAgICAgIFwiZnZuLWZyYWN0aW9uXCI6IFtcImZ2bi1ub3JtYWxcIl0sXG4gICAgICBcImxpbmUtY2xhbXBcIjogW1wiZGlzcGxheVwiLCBcIm92ZXJmbG93XCJdLFxuICAgICAgcm91bmRlZDogW1wicm91bmRlZC1zXCIsIFwicm91bmRlZC1lXCIsIFwicm91bmRlZC10XCIsIFwicm91bmRlZC1yXCIsIFwicm91bmRlZC1iXCIsIFwicm91bmRlZC1sXCIsIFwicm91bmRlZC1zc1wiLCBcInJvdW5kZWQtc2VcIiwgXCJyb3VuZGVkLWVlXCIsIFwicm91bmRlZC1lc1wiLCBcInJvdW5kZWQtdGxcIiwgXCJyb3VuZGVkLXRyXCIsIFwicm91bmRlZC1iclwiLCBcInJvdW5kZWQtYmxcIl0sXG4gICAgICBcInJvdW5kZWQtc1wiOiBbXCJyb3VuZGVkLXNzXCIsIFwicm91bmRlZC1lc1wiXSxcbiAgICAgIFwicm91bmRlZC1lXCI6IFtcInJvdW5kZWQtc2VcIiwgXCJyb3VuZGVkLWVlXCJdLFxuICAgICAgXCJyb3VuZGVkLXRcIjogW1wicm91bmRlZC10bFwiLCBcInJvdW5kZWQtdHJcIl0sXG4gICAgICBcInJvdW5kZWQtclwiOiBbXCJyb3VuZGVkLXRyXCIsIFwicm91bmRlZC1iclwiXSxcbiAgICAgIFwicm91bmRlZC1iXCI6IFtcInJvdW5kZWQtYnJcIiwgXCJyb3VuZGVkLWJsXCJdLFxuICAgICAgXCJyb3VuZGVkLWxcIjogW1wicm91bmRlZC10bFwiLCBcInJvdW5kZWQtYmxcIl0sXG4gICAgICBcImJvcmRlci1zcGFjaW5nXCI6IFtcImJvcmRlci1zcGFjaW5nLXhcIiwgXCJib3JkZXItc3BhY2luZy15XCJdLFxuICAgICAgXCJib3JkZXItd1wiOiBbXCJib3JkZXItdy14XCIsIFwiYm9yZGVyLXcteVwiLCBcImJvcmRlci13LXNcIiwgXCJib3JkZXItdy1lXCIsIFwiYm9yZGVyLXctdFwiLCBcImJvcmRlci13LXJcIiwgXCJib3JkZXItdy1iXCIsIFwiYm9yZGVyLXctbFwiXSxcbiAgICAgIFwiYm9yZGVyLXcteFwiOiBbXCJib3JkZXItdy1yXCIsIFwiYm9yZGVyLXctbFwiXSxcbiAgICAgIFwiYm9yZGVyLXcteVwiOiBbXCJib3JkZXItdy10XCIsIFwiYm9yZGVyLXctYlwiXSxcbiAgICAgIFwiYm9yZGVyLWNvbG9yXCI6IFtcImJvcmRlci1jb2xvci14XCIsIFwiYm9yZGVyLWNvbG9yLXlcIiwgXCJib3JkZXItY29sb3Itc1wiLCBcImJvcmRlci1jb2xvci1lXCIsIFwiYm9yZGVyLWNvbG9yLXRcIiwgXCJib3JkZXItY29sb3ItclwiLCBcImJvcmRlci1jb2xvci1iXCIsIFwiYm9yZGVyLWNvbG9yLWxcIl0sXG4gICAgICBcImJvcmRlci1jb2xvci14XCI6IFtcImJvcmRlci1jb2xvci1yXCIsIFwiYm9yZGVyLWNvbG9yLWxcIl0sXG4gICAgICBcImJvcmRlci1jb2xvci15XCI6IFtcImJvcmRlci1jb2xvci10XCIsIFwiYm9yZGVyLWNvbG9yLWJcIl0sXG4gICAgICB0cmFuc2xhdGU6IFtcInRyYW5zbGF0ZS14XCIsIFwidHJhbnNsYXRlLXlcIiwgXCJ0cmFuc2xhdGUtbm9uZVwiXSxcbiAgICAgIFwidHJhbnNsYXRlLW5vbmVcIjogW1widHJhbnNsYXRlXCIsIFwidHJhbnNsYXRlLXhcIiwgXCJ0cmFuc2xhdGUteVwiLCBcInRyYW5zbGF0ZS16XCJdLFxuICAgICAgXCJzY3JvbGwtbVwiOiBbXCJzY3JvbGwtbXhcIiwgXCJzY3JvbGwtbXlcIiwgXCJzY3JvbGwtbXNcIiwgXCJzY3JvbGwtbWVcIiwgXCJzY3JvbGwtbXRcIiwgXCJzY3JvbGwtbXJcIiwgXCJzY3JvbGwtbWJcIiwgXCJzY3JvbGwtbWxcIl0sXG4gICAgICBcInNjcm9sbC1teFwiOiBbXCJzY3JvbGwtbXJcIiwgXCJzY3JvbGwtbWxcIl0sXG4gICAgICBcInNjcm9sbC1teVwiOiBbXCJzY3JvbGwtbXRcIiwgXCJzY3JvbGwtbWJcIl0sXG4gICAgICBcInNjcm9sbC1wXCI6IFtcInNjcm9sbC1weFwiLCBcInNjcm9sbC1weVwiLCBcInNjcm9sbC1wc1wiLCBcInNjcm9sbC1wZVwiLCBcInNjcm9sbC1wdFwiLCBcInNjcm9sbC1wclwiLCBcInNjcm9sbC1wYlwiLCBcInNjcm9sbC1wbFwiXSxcbiAgICAgIFwic2Nyb2xsLXB4XCI6IFtcInNjcm9sbC1wclwiLCBcInNjcm9sbC1wbFwiXSxcbiAgICAgIFwic2Nyb2xsLXB5XCI6IFtcInNjcm9sbC1wdFwiLCBcInNjcm9sbC1wYlwiXSxcbiAgICAgIHRvdWNoOiBbXCJ0b3VjaC14XCIsIFwidG91Y2gteVwiLCBcInRvdWNoLXB6XCJdLFxuICAgICAgXCJ0b3VjaC14XCI6IFtcInRvdWNoXCJdLFxuICAgICAgXCJ0b3VjaC15XCI6IFtcInRvdWNoXCJdLFxuICAgICAgXCJ0b3VjaC1welwiOiBbXCJ0b3VjaFwiXVxuICAgIH0sXG4gICAgY29uZmxpY3RpbmdDbGFzc0dyb3VwTW9kaWZpZXJzOiB7XG4gICAgICBcImZvbnQtc2l6ZVwiOiBbXCJsZWFkaW5nXCJdXG4gICAgfSxcbiAgICBvcmRlclNlbnNpdGl2ZU1vZGlmaWVyczogW1wiKlwiLCBcIioqXCIsIFwiYWZ0ZXJcIiwgXCJiYWNrZHJvcFwiLCBcImJlZm9yZVwiLCBcImRldGFpbHMtY29udGVudFwiLCBcImZpbGVcIiwgXCJmaXJzdC1sZXR0ZXJcIiwgXCJmaXJzdC1saW5lXCIsIFwibWFya2VyXCIsIFwicGxhY2Vob2xkZXJcIiwgXCJzZWxlY3Rpb25cIl1cbiAgfTtcbn07XG5jb25zdCBtZXJnZUNvbmZpZ3MgPSAoYmFzZUNvbmZpZywge1xuICBjYWNoZVNpemUsXG4gIHByZWZpeCxcbiAgZXhwZXJpbWVudGFsUGFyc2VDbGFzc05hbWUsXG4gIGV4dGVuZDogZXh0ZW5kMiA9IHt9LFxuICBvdmVycmlkZSA9IHt9XG59KSA9PiB7XG4gIG92ZXJyaWRlUHJvcGVydHkoYmFzZUNvbmZpZywgXCJjYWNoZVNpemVcIiwgY2FjaGVTaXplKTtcbiAgb3ZlcnJpZGVQcm9wZXJ0eShiYXNlQ29uZmlnLCBcInByZWZpeFwiLCBwcmVmaXgpO1xuICBvdmVycmlkZVByb3BlcnR5KGJhc2VDb25maWcsIFwiZXhwZXJpbWVudGFsUGFyc2VDbGFzc05hbWVcIiwgZXhwZXJpbWVudGFsUGFyc2VDbGFzc05hbWUpO1xuICBvdmVycmlkZUNvbmZpZ1Byb3BlcnRpZXMoYmFzZUNvbmZpZy50aGVtZSwgb3ZlcnJpZGUudGhlbWUpO1xuICBvdmVycmlkZUNvbmZpZ1Byb3BlcnRpZXMoYmFzZUNvbmZpZy5jbGFzc0dyb3Vwcywgb3ZlcnJpZGUuY2xhc3NHcm91cHMpO1xuICBvdmVycmlkZUNvbmZpZ1Byb3BlcnRpZXMoYmFzZUNvbmZpZy5jb25mbGljdGluZ0NsYXNzR3JvdXBzLCBvdmVycmlkZS5jb25mbGljdGluZ0NsYXNzR3JvdXBzKTtcbiAgb3ZlcnJpZGVDb25maWdQcm9wZXJ0aWVzKGJhc2VDb25maWcuY29uZmxpY3RpbmdDbGFzc0dyb3VwTW9kaWZpZXJzLCBvdmVycmlkZS5jb25mbGljdGluZ0NsYXNzR3JvdXBNb2RpZmllcnMpO1xuICBvdmVycmlkZVByb3BlcnR5KGJhc2VDb25maWcsIFwib3JkZXJTZW5zaXRpdmVNb2RpZmllcnNcIiwgb3ZlcnJpZGUub3JkZXJTZW5zaXRpdmVNb2RpZmllcnMpO1xuICBtZXJnZUNvbmZpZ1Byb3BlcnRpZXMoYmFzZUNvbmZpZy50aGVtZSwgZXh0ZW5kMi50aGVtZSk7XG4gIG1lcmdlQ29uZmlnUHJvcGVydGllcyhiYXNlQ29uZmlnLmNsYXNzR3JvdXBzLCBleHRlbmQyLmNsYXNzR3JvdXBzKTtcbiAgbWVyZ2VDb25maWdQcm9wZXJ0aWVzKGJhc2VDb25maWcuY29uZmxpY3RpbmdDbGFzc0dyb3VwcywgZXh0ZW5kMi5jb25mbGljdGluZ0NsYXNzR3JvdXBzKTtcbiAgbWVyZ2VDb25maWdQcm9wZXJ0aWVzKGJhc2VDb25maWcuY29uZmxpY3RpbmdDbGFzc0dyb3VwTW9kaWZpZXJzLCBleHRlbmQyLmNvbmZsaWN0aW5nQ2xhc3NHcm91cE1vZGlmaWVycyk7XG4gIG1lcmdlQXJyYXlQcm9wZXJ0aWVzKGJhc2VDb25maWcsIGV4dGVuZDIsIFwib3JkZXJTZW5zaXRpdmVNb2RpZmllcnNcIik7XG4gIHJldHVybiBiYXNlQ29uZmlnO1xufTtcbmNvbnN0IG92ZXJyaWRlUHJvcGVydHkgPSAoYmFzZU9iamVjdCwgb3ZlcnJpZGVLZXksIG92ZXJyaWRlVmFsdWUpID0+IHtcbiAgaWYgKG92ZXJyaWRlVmFsdWUgIT09IHZvaWQgMCkge1xuICAgIGJhc2VPYmplY3Rbb3ZlcnJpZGVLZXldID0gb3ZlcnJpZGVWYWx1ZTtcbiAgfVxufTtcbmNvbnN0IG92ZXJyaWRlQ29uZmlnUHJvcGVydGllcyA9IChiYXNlT2JqZWN0LCBvdmVycmlkZU9iamVjdCkgPT4ge1xuICBpZiAob3ZlcnJpZGVPYmplY3QpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvdmVycmlkZU9iamVjdCkge1xuICAgICAgb3ZlcnJpZGVQcm9wZXJ0eShiYXNlT2JqZWN0LCBrZXksIG92ZXJyaWRlT2JqZWN0W2tleV0pO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IG1lcmdlQ29uZmlnUHJvcGVydGllcyA9IChiYXNlT2JqZWN0LCBtZXJnZU9iamVjdCkgPT4ge1xuICBpZiAobWVyZ2VPYmplY3QpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBtZXJnZU9iamVjdCkge1xuICAgICAgbWVyZ2VBcnJheVByb3BlcnRpZXMoYmFzZU9iamVjdCwgbWVyZ2VPYmplY3QsIGtleSk7XG4gICAgfVxuICB9XG59O1xuY29uc3QgbWVyZ2VBcnJheVByb3BlcnRpZXMgPSAoYmFzZU9iamVjdCwgbWVyZ2VPYmplY3QsIGtleSkgPT4ge1xuICBjb25zdCBtZXJnZVZhbHVlID0gbWVyZ2VPYmplY3Rba2V5XTtcbiAgaWYgKG1lcmdlVmFsdWUgIT09IHZvaWQgMCkge1xuICAgIGJhc2VPYmplY3Rba2V5XSA9IGJhc2VPYmplY3Rba2V5XSA/IGJhc2VPYmplY3Rba2V5XS5jb25jYXQobWVyZ2VWYWx1ZSkgOiBtZXJnZVZhbHVlO1xuICB9XG59O1xuY29uc3QgZXh0ZW5kVGFpbHdpbmRNZXJnZSA9IChjb25maWdFeHRlbnNpb24sIC4uLmNyZWF0ZUNvbmZpZykgPT4gdHlwZW9mIGNvbmZpZ0V4dGVuc2lvbiA9PT0gXCJmdW5jdGlvblwiID8gY3JlYXRlVGFpbHdpbmRNZXJnZShnZXREZWZhdWx0Q29uZmlnLCBjb25maWdFeHRlbnNpb24sIC4uLmNyZWF0ZUNvbmZpZykgOiBjcmVhdGVUYWlsd2luZE1lcmdlKCgpID0+IG1lcmdlQ29uZmlncyhnZXREZWZhdWx0Q29uZmlnKCksIGNvbmZpZ0V4dGVuc2lvbiksIC4uLmNyZWF0ZUNvbmZpZyk7XG5jb25zdCBjb21wYW5pb25BbmNob3JUYWdOYW1lID0gXCJzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvclwiO1xuZnVuY3Rpb24gZ2V0RWxlbWVudEF0UG9pbnQoeDIsIHkyKSB7XG4gIGNvbnN0IGVsZW1lbnRzQmVsb3dBbm5vdGF0aW9uID0gZG9jdW1lbnQuZWxlbWVudHNGcm9tUG9pbnQoeDIsIHkyKTtcbiAgY29uc3QgcmVmRWxlbWVudCA9IGVsZW1lbnRzQmVsb3dBbm5vdGF0aW9uLmZpbmQoXG4gICAgKGVsZW1lbnQpID0+IGVsZW1lbnQubm9kZU5hbWUgIT09IFwiU1RBR0VXSVNFLUNPTVBBTklPTi1BTkNIT1JcIiAmJiAhZWxlbWVudC5jbG9zZXN0KGNvbXBhbmlvbkFuY2hvclRhZ05hbWUpICYmICFlbGVtZW50LmNsb3Nlc3QoXCJzdmdcIikgJiYgaXNFbGVtZW50QXRQb2ludChlbGVtZW50LCB4MiwgeTIpXG4gICkgfHwgZG9jdW1lbnQuYm9keTtcbiAgcmV0dXJuIHJlZkVsZW1lbnQ7XG59XG5jb25zdCBpc0VsZW1lbnRBdFBvaW50ID0gKGVsZW1lbnQsIGNsaWVudFgsIGNsaWVudFkpID0+IHtcbiAgY29uc3QgYm91bmRpbmdSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgaXNJbkhvcml6b250YWxCb3VuZHMgPSBjbGllbnRYID4gYm91bmRpbmdSZWN0LmxlZnQgJiYgY2xpZW50WCA8IGJvdW5kaW5nUmVjdC5sZWZ0ICsgYm91bmRpbmdSZWN0LndpZHRoO1xuICBjb25zdCBpc0luVmVydGljYWxCb3VuZHMgPSBjbGllbnRZID4gYm91bmRpbmdSZWN0LnRvcCAmJiBjbGllbnRZIDwgYm91bmRpbmdSZWN0LnRvcCArIGJvdW5kaW5nUmVjdC5oZWlnaHQ7XG4gIHJldHVybiBpc0luSG9yaXpvbnRhbEJvdW5kcyAmJiBpc0luVmVydGljYWxCb3VuZHM7XG59O1xudmFyIEhvdGtleUFjdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gKChIb3RrZXlBY3Rpb25zMikgPT4ge1xuICBIb3RrZXlBY3Rpb25zMltIb3RrZXlBY3Rpb25zMltcIkVTQ1wiXSA9IDBdID0gXCJFU0NcIjtcbiAgSG90a2V5QWN0aW9uczJbSG90a2V5QWN0aW9uczJbXCJDVFJMX0FMVF9DXCJdID0gMV0gPSBcIkNUUkxfQUxUX0NcIjtcbiAgcmV0dXJuIEhvdGtleUFjdGlvbnMyO1xufSkoSG90a2V5QWN0aW9ucyB8fCB7fSk7XG5jb25zdCBob3RrZXlBY3Rpb25EZWZpbml0aW9ucyA9IHtcbiAgW1xuICAgIDBcbiAgICAvKiBFU0MgKi9cbiAgXToge1xuICAgIGtleUNvbWJvRGVmYXVsdDogXCJFc2NcIixcbiAgICBrZXlDb21ib01hYzogXCJlc2NcIixcbiAgICBpc0V2ZW50TWF0Y2hpbmc6IChldikgPT4gZXYuY29kZSA9PT0gXCJFc2NhcGVcIlxuICB9LFxuICBbXG4gICAgMVxuICAgIC8qIENUUkxfQUxUX0MgKi9cbiAgXToge1xuICAgIGtleUNvbWJvRGVmYXVsdDogXCJDdHJsK0FsdCtDXCIsXG4gICAga2V5Q29tYm9NYWM6IFwi4oyYK+KMpStDXCIsXG4gICAgaXNFdmVudE1hdGNoaW5nOiAoZXYpID0+IGV2LmNvZGUgPT09IFwiS2V5Q1wiICYmIChldi5jdHJsS2V5IHx8IGV2Lm1ldGFLZXkpICYmIGV2LmFsdEtleVxuICB9XG59O1xuY29uc3QgY3VzdG9tVHdNZXJnZSA9IGV4dGVuZFRhaWx3aW5kTWVyZ2Uoe1xuICBleHRlbmQ6IHtcbiAgICBjbGFzc0dyb3Vwczoge1xuICAgICAgXCJiZy1pbWFnZVwiOiBbXG4gICAgICAgIFwiYmctZ3JhZGllbnRcIixcbiAgICAgICAgXCJiZy1ncmFkaWVudC1saWdodC0xXCIsXG4gICAgICAgIFwiYmctZ3JhZGllbnQtbGlnaHQtMlwiLFxuICAgICAgICBcImJnLWdyYWRpZW50LWxpZ2h0LTNcIlxuICAgICAgXVxuICAgIH1cbiAgfVxufSk7XG5mdW5jdGlvbiBjbiguLi5pbnB1dHMpIHtcbiAgcmV0dXJuIGN1c3RvbVR3TWVyZ2UoY2xzeChpbnB1dHMpKTtcbn1cbmZ1bmN0aW9uIEhvdGtleUxpc3RlbmVyKCkge1xuICBjb25zdCB7IHN0YXJ0UHJvbXB0Q3JlYXRpb24sIHN0b3BQcm9tcHRDcmVhdGlvbiB9ID0gdXNlQ2hhdFN0YXRlKCk7XG4gIGNvbnN0IGhvdEtleUhhbmRsZXJNYXAgPSBUJDUoXG4gICAgKCkgPT4gKHtcbiAgICAgIFtIb3RrZXlBY3Rpb25zLkNUUkxfQUxUX0NdOiAoKSA9PiB7XG4gICAgICAgIHN0YXJ0UHJvbXB0Q3JlYXRpb24oKTtcbiAgICAgIH0sXG4gICAgICBbSG90a2V5QWN0aW9ucy5FU0NdOiAoKSA9PiB7XG4gICAgICAgIHN0b3BQcm9tcHRDcmVhdGlvbigpO1xuICAgICAgfVxuICAgIH0pLFxuICAgIFtzdGFydFByb21wdENyZWF0aW9uLCBzdG9wUHJvbXB0Q3JlYXRpb25dXG4gICk7XG4gIGNvbnN0IGhvdEtleUxpc3RlbmVyID0gcSQzKFxuICAgIChldikgPT4ge1xuICAgICAgZm9yIChjb25zdCBbYWN0aW9uLCBkZWZpbml0aW9uXSBvZiBPYmplY3QuZW50cmllcyhcbiAgICAgICAgaG90a2V5QWN0aW9uRGVmaW5pdGlvbnNcbiAgICAgICkpIHtcbiAgICAgICAgaWYgKGRlZmluaXRpb24uaXNFdmVudE1hdGNoaW5nKGV2KSkge1xuICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgaG90S2V5SGFuZGxlck1hcFthY3Rpb25dKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIFtob3RLZXlIYW5kbGVyTWFwXVxuICApO1xuICB1c2VFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBob3RLZXlMaXN0ZW5lciwge1xuICAgIGNhcHR1cmU6IHRydWVcbiAgfSk7XG4gIHJldHVybiBudWxsO1xufVxuY29uc3QgJGYwYTA0Y2NkOGRiZGQ4M2IkZXhwb3J0JGU1YzVhNWY5MTdhNTg3MWMgPSB0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgPyBSbi51c2VMYXlvdXRFZmZlY3QgOiAoKSA9PiB7XG59O1xuZnVuY3Rpb24gJDhhZTA1ZWFhNWMxMTRlOWMkZXhwb3J0JDdmNTRmYzMxODA1MDhhNTIoZm4yKSB7XG4gIGNvbnN0IHJlZiA9IEEkMyhudWxsKTtcbiAgJGYwYTA0Y2NkOGRiZGQ4M2IkZXhwb3J0JGU1YzVhNWY5MTdhNTg3MWMoKCkgPT4ge1xuICAgIHJlZi5jdXJyZW50ID0gZm4yO1xuICB9LCBbXG4gICAgZm4yXG4gIF0pO1xuICByZXR1cm4gcSQzKCguLi5hcmdzKSA9PiB7XG4gICAgY29uc3QgZjIgPSByZWYuY3VycmVudDtcbiAgICByZXR1cm4gZjIgPT09IG51bGwgfHwgZjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGYyKC4uLmFyZ3MpO1xuICB9LCBbXSk7XG59XG5jb25zdCAkNDMxZmJkODZjYTdkYzIxNiRleHBvcnQkYjIwNGFmMTU4MDQyZmJhYyA9IChlbCkgPT4ge1xuICB2YXIgX2VsX293bmVyRG9jdW1lbnQ7XG4gIHJldHVybiAoX2VsX293bmVyRG9jdW1lbnQgPSBlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWwub3duZXJEb2N1bWVudCkgIT09IG51bGwgJiYgX2VsX293bmVyRG9jdW1lbnQgIT09IHZvaWQgMCA/IF9lbF9vd25lckRvY3VtZW50IDogZG9jdW1lbnQ7XG59O1xuY29uc3QgJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGYyMWExZmZhZTI2MDE0NWEgPSAoZWwpID0+IHtcbiAgaWYgKGVsICYmIFwid2luZG93XCIgaW4gZWwgJiYgZWwud2luZG93ID09PSBlbCkgcmV0dXJuIGVsO1xuICBjb25zdCBkb2MgPSAkNDMxZmJkODZjYTdkYzIxNiRleHBvcnQkYjIwNGFmMTU4MDQyZmJhYyhlbCk7XG4gIHJldHVybiBkb2MuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xufTtcbmZ1bmN0aW9uICQ0MzFmYmQ4NmNhN2RjMjE2JHZhciRpc05vZGUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiBcIm5vZGVUeXBlXCIgaW4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLm5vZGVUeXBlID09PSBcIm51bWJlclwiO1xufVxuZnVuY3Rpb24gJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGFmNTFmMGYwNmMwZjMyOGEobm9kZSkge1xuICByZXR1cm4gJDQzMWZiZDg2Y2E3ZGMyMTYkdmFyJGlzTm9kZShub2RlKSAmJiBub2RlLm5vZGVUeXBlID09PSBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUgJiYgXCJob3N0XCIgaW4gbm9kZTtcbn1cbmxldCAkZjRlMmRmNmJkMTVmODU2OSR2YXIkX3NoYWRvd0RPTSA9IGZhbHNlO1xuZnVuY3Rpb24gJGY0ZTJkZjZiZDE1Zjg1NjkkZXhwb3J0JDk4NjU4ZThjNTkxMjVlNmEoKSB7XG4gIHJldHVybiAkZjRlMmRmNmJkMTVmODU2OSR2YXIkX3NoYWRvd0RPTTtcbn1cbmZ1bmN0aW9uICRkNGVlMTBkZTMwNmYyNTEwJGV4cG9ydCQ0MjgyZjcwNzk4MDY0ZmUwKG5vZGUsIG90aGVyTm9kZSkge1xuICBpZiAoISRmNGUyZGY2YmQxNWY4NTY5JGV4cG9ydCQ5ODY1OGU4YzU5MTI1ZTZhKCkpIHJldHVybiBvdGhlck5vZGUgJiYgbm9kZSA/IG5vZGUuY29udGFpbnMob3RoZXJOb2RlKSA6IGZhbHNlO1xuICBpZiAoIW5vZGUgfHwgIW90aGVyTm9kZSkgcmV0dXJuIGZhbHNlO1xuICBsZXQgY3VycmVudE5vZGUgPSBvdGhlck5vZGU7XG4gIHdoaWxlIChjdXJyZW50Tm9kZSAhPT0gbnVsbCkge1xuICAgIGlmIChjdXJyZW50Tm9kZSA9PT0gbm9kZSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKGN1cnJlbnROb2RlLnRhZ05hbWUgPT09IFwiU0xPVFwiICYmIGN1cnJlbnROb2RlLmFzc2lnbmVkU2xvdClcbiAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUuYXNzaWduZWRTbG90LnBhcmVudE5vZGU7XG4gICAgZWxzZSBpZiAoJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGFmNTFmMGYwNmMwZjMyOGEoY3VycmVudE5vZGUpKVxuICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5ob3N0O1xuICAgIGVsc2UgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5wYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmNvbnN0ICRkNGVlMTBkZTMwNmYyNTEwJGV4cG9ydCRjZDRlNTU3M2ZiZTJiNTc2ID0gKGRvYyA9IGRvY3VtZW50KSA9PiB7XG4gIHZhciBfYWN0aXZlRWxlbWVudF9zaGFkb3dSb290O1xuICBpZiAoISRmNGUyZGY2YmQxNWY4NTY5JGV4cG9ydCQ5ODY1OGU4YzU5MTI1ZTZhKCkpIHJldHVybiBkb2MuYWN0aXZlRWxlbWVudDtcbiAgbGV0IGFjdGl2ZUVsZW1lbnQgPSBkb2MuYWN0aXZlRWxlbWVudDtcbiAgd2hpbGUgKGFjdGl2ZUVsZW1lbnQgJiYgXCJzaGFkb3dSb290XCIgaW4gYWN0aXZlRWxlbWVudCAmJiAoKF9hY3RpdmVFbGVtZW50X3NoYWRvd1Jvb3QgPSBhY3RpdmVFbGVtZW50LnNoYWRvd1Jvb3QpID09PSBudWxsIHx8IF9hY3RpdmVFbGVtZW50X3NoYWRvd1Jvb3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hY3RpdmVFbGVtZW50X3NoYWRvd1Jvb3QuYWN0aXZlRWxlbWVudCkpIGFjdGl2ZUVsZW1lbnQgPSBhY3RpdmVFbGVtZW50LnNoYWRvd1Jvb3QuYWN0aXZlRWxlbWVudDtcbiAgcmV0dXJuIGFjdGl2ZUVsZW1lbnQ7XG59O1xuZnVuY3Rpb24gJGQ0ZWUxMGRlMzA2ZjI1MTAkZXhwb3J0JGU1OGYwMjlmMGZiZmRiMjkoZXZlbnQpIHtcbiAgaWYgKCRmNGUyZGY2YmQxNWY4NTY5JGV4cG9ydCQ5ODY1OGU4YzU5MTI1ZTZhKCkgJiYgZXZlbnQudGFyZ2V0LnNoYWRvd1Jvb3QpIHtcbiAgICBpZiAoZXZlbnQuY29tcG9zZWRQYXRoKSByZXR1cm4gZXZlbnQuY29tcG9zZWRQYXRoKClbMF07XG4gIH1cbiAgcmV0dXJuIGV2ZW50LnRhcmdldDtcbn1cbmZ1bmN0aW9uICRjODczMTE0MjRlYTMwYTA1JHZhciR0ZXN0VXNlckFnZW50KHJlKSB7XG4gIHZhciBfd2luZG93X25hdmlnYXRvcl91c2VyQWdlbnREYXRhO1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fCB3aW5kb3cubmF2aWdhdG9yID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuICgoX3dpbmRvd19uYXZpZ2F0b3JfdXNlckFnZW50RGF0YSA9IHdpbmRvdy5uYXZpZ2F0b3JbXCJ1c2VyQWdlbnREYXRhXCJdKSA9PT0gbnVsbCB8fCBfd2luZG93X25hdmlnYXRvcl91c2VyQWdlbnREYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfd2luZG93X25hdmlnYXRvcl91c2VyQWdlbnREYXRhLmJyYW5kcy5zb21lKChicmFuZCkgPT4gcmUudGVzdChicmFuZC5icmFuZCkpKSB8fCByZS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcbn1cbmZ1bmN0aW9uICRjODczMTE0MjRlYTMwYTA1JHZhciR0ZXN0UGxhdGZvcm0ocmUpIHtcbiAgdmFyIF93aW5kb3dfbmF2aWdhdG9yX3VzZXJBZ2VudERhdGE7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5uYXZpZ2F0b3IgIT0gbnVsbCA/IHJlLnRlc3QoKChfd2luZG93X25hdmlnYXRvcl91c2VyQWdlbnREYXRhID0gd2luZG93Lm5hdmlnYXRvcltcInVzZXJBZ2VudERhdGFcIl0pID09PSBudWxsIHx8IF93aW5kb3dfbmF2aWdhdG9yX3VzZXJBZ2VudERhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93aW5kb3dfbmF2aWdhdG9yX3VzZXJBZ2VudERhdGEucGxhdGZvcm0pIHx8IHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0pIDogZmFsc2U7XG59XG5mdW5jdGlvbiAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkY2FjaGVkKGZuMikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwidGVzdFwiKSByZXR1cm4gZm4yO1xuICBsZXQgcmVzID0gbnVsbDtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAocmVzID09IG51bGwpIHJlcyA9IGZuMigpO1xuICAgIHJldHVybiByZXM7XG4gIH07XG59XG5jb25zdCAkYzg3MzExNDI0ZWEzMGEwNSRleHBvcnQkOWFjMTAwZTQwNjEzZWExMCA9ICRjODczMTE0MjRlYTMwYTA1JHZhciRjYWNoZWQoZnVuY3Rpb24oKSB7XG4gIHJldHVybiAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkdGVzdFBsYXRmb3JtKC9eTWFjL2kpO1xufSk7XG5jb25zdCAkYzg3MzExNDI0ZWEzMGEwNSRleHBvcnQkMTg2YzY5NjRjYTE3ZDk5ID0gJGM4NzMxMTQyNGVhMzBhMDUkdmFyJGNhY2hlZChmdW5jdGlvbigpIHtcbiAgcmV0dXJuICRjODczMTE0MjRlYTMwYTA1JHZhciR0ZXN0UGxhdGZvcm0oL15pUGhvbmUvaSk7XG59KTtcbmNvbnN0ICRjODczMTE0MjRlYTMwYTA1JGV4cG9ydCQ3YmVmMDQ5Y2U5MmU0MjI0ID0gJGM4NzMxMTQyNGVhMzBhMDUkdmFyJGNhY2hlZChmdW5jdGlvbigpIHtcbiAgcmV0dXJuICRjODczMTE0MjRlYTMwYTA1JHZhciR0ZXN0UGxhdGZvcm0oL15pUGFkL2kpIHx8IC8vIGlQYWRPUyAxMyBsaWVzIGFuZCBzYXlzIGl0J3MgYSBNYWMsIGJ1dCB3ZSBjYW4gZGlzdGluZ3Vpc2ggYnkgZGV0ZWN0aW5nIHRvdWNoIHN1cHBvcnQuXG4gICRjODczMTE0MjRlYTMwYTA1JGV4cG9ydCQ5YWMxMDBlNDA2MTNlYTEwKCkgJiYgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMTtcbn0pO1xuY29uc3QgJGM4NzMxMTQyNGVhMzBhMDUkZXhwb3J0JGZlZGIzNjljYjcwMjA3ZjEgPSAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkY2FjaGVkKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gJGM4NzMxMTQyNGVhMzBhMDUkZXhwb3J0JDE4NmM2OTY0Y2ExN2Q5OSgpIHx8ICRjODczMTE0MjRlYTMwYTA1JGV4cG9ydCQ3YmVmMDQ5Y2U5MmU0MjI0KCk7XG59KTtcbiRjODczMTE0MjRlYTMwYTA1JHZhciRjYWNoZWQoZnVuY3Rpb24oKSB7XG4gIHJldHVybiAkYzg3MzExNDI0ZWEzMGEwNSRleHBvcnQkOWFjMTAwZTQwNjEzZWExMCgpIHx8ICRjODczMTE0MjRlYTMwYTA1JGV4cG9ydCRmZWRiMzY5Y2I3MDIwN2YxKCk7XG59KTtcbiRjODczMTE0MjRlYTMwYTA1JHZhciRjYWNoZWQoZnVuY3Rpb24oKSB7XG4gIHJldHVybiAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkdGVzdFVzZXJBZ2VudCgvQXBwbGVXZWJLaXQvaSkgJiYgISRjODczMTE0MjRlYTMwYTA1JGV4cG9ydCQ2NDQ2YTE4NmQwOWUzNzllKCk7XG59KTtcbmNvbnN0ICRjODczMTE0MjRlYTMwYTA1JGV4cG9ydCQ2NDQ2YTE4NmQwOWUzNzllID0gJGM4NzMxMTQyNGVhMzBhMDUkdmFyJGNhY2hlZChmdW5jdGlvbigpIHtcbiAgcmV0dXJuICRjODczMTE0MjRlYTMwYTA1JHZhciR0ZXN0VXNlckFnZW50KC9DaHJvbWUvaSk7XG59KTtcbmNvbnN0ICRjODczMTE0MjRlYTMwYTA1JGV4cG9ydCRhMTFiMDA1OTkwMGNlZWM4ID0gJGM4NzMxMTQyNGVhMzBhMDUkdmFyJGNhY2hlZChmdW5jdGlvbigpIHtcbiAgcmV0dXJuICRjODczMTE0MjRlYTMwYTA1JHZhciR0ZXN0VXNlckFnZW50KC9BbmRyb2lkL2kpO1xufSk7XG4kYzg3MzExNDI0ZWEzMGEwNSR2YXIkY2FjaGVkKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gJGM4NzMxMTQyNGVhMzBhMDUkdmFyJHRlc3RVc2VyQWdlbnQoL0ZpcmVmb3gvaSk7XG59KTtcbmZ1bmN0aW9uICQwM2RlYjIzZmYxNDkyMGM0JGV4cG9ydCQ0ZWFmMDRlNTRhYThlZWQ2KCkge1xuICBsZXQgZ2xvYmFsTGlzdGVuZXJzID0gQSQzKC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICBsZXQgYWRkR2xvYmFsTGlzdGVuZXIgPSBxJDMoKGV2ZW50VGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykgPT4ge1xuICAgIGxldCBmbjIgPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm9uY2UpID8gKC4uLmFyZ3MpID0+IHtcbiAgICAgIGdsb2JhbExpc3RlbmVycy5jdXJyZW50LmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgICBsaXN0ZW5lciguLi5hcmdzKTtcbiAgICB9IDogbGlzdGVuZXI7XG4gICAgZ2xvYmFsTGlzdGVuZXJzLmN1cnJlbnQuc2V0KGxpc3RlbmVyLCB7XG4gICAgICB0eXBlLFxuICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICBmbjogZm4yLFxuICAgICAgb3B0aW9uc1xuICAgIH0pO1xuICAgIGV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZm4yLCBvcHRpb25zKTtcbiAgfSwgW10pO1xuICBsZXQgcmVtb3ZlR2xvYmFsTGlzdGVuZXIgPSBxJDMoKGV2ZW50VGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykgPT4ge1xuICAgIHZhciBfZ2xvYmFsTGlzdGVuZXJzX2N1cnJlbnRfZ2V0O1xuICAgIGxldCBmbjIgPSAoKF9nbG9iYWxMaXN0ZW5lcnNfY3VycmVudF9nZXQgPSBnbG9iYWxMaXN0ZW5lcnMuY3VycmVudC5nZXQobGlzdGVuZXIpKSA9PT0gbnVsbCB8fCBfZ2xvYmFsTGlzdGVuZXJzX2N1cnJlbnRfZ2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZ2xvYmFsTGlzdGVuZXJzX2N1cnJlbnRfZ2V0LmZuKSB8fCBsaXN0ZW5lcjtcbiAgICBldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZuMiwgb3B0aW9ucyk7XG4gICAgZ2xvYmFsTGlzdGVuZXJzLmN1cnJlbnQuZGVsZXRlKGxpc3RlbmVyKTtcbiAgfSwgW10pO1xuICBsZXQgcmVtb3ZlQWxsR2xvYmFsTGlzdGVuZXJzID0gcSQzKCgpID0+IHtcbiAgICBnbG9iYWxMaXN0ZW5lcnMuY3VycmVudC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICByZW1vdmVHbG9iYWxMaXN0ZW5lcih2YWx1ZS5ldmVudFRhcmdldCwgdmFsdWUudHlwZSwga2V5LCB2YWx1ZS5vcHRpb25zKTtcbiAgICB9KTtcbiAgfSwgW1xuICAgIHJlbW92ZUdsb2JhbExpc3RlbmVyXG4gIF0pO1xuICB5JDYoKCkgPT4ge1xuICAgIHJldHVybiByZW1vdmVBbGxHbG9iYWxMaXN0ZW5lcnM7XG4gIH0sIFtcbiAgICByZW1vdmVBbGxHbG9iYWxMaXN0ZW5lcnNcbiAgXSk7XG4gIHJldHVybiB7XG4gICAgYWRkR2xvYmFsTGlzdGVuZXIsXG4gICAgcmVtb3ZlR2xvYmFsTGlzdGVuZXIsXG4gICAgcmVtb3ZlQWxsR2xvYmFsTGlzdGVuZXJzXG4gIH07XG59XG5mdW5jdGlvbiAkNmE3ZGI4NTQzMjQ0OGY3ZiRleHBvcnQkNjAyNzg4NzE0NTc2MjJkZShldmVudCkge1xuICBpZiAoZXZlbnQubW96SW5wdXRTb3VyY2UgPT09IDAgJiYgZXZlbnQuaXNUcnVzdGVkKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKCRjODczMTE0MjRlYTMwYTA1JGV4cG9ydCRhMTFiMDA1OTkwMGNlZWM4KCkgJiYgZXZlbnQucG9pbnRlclR5cGUpIHJldHVybiBldmVudC50eXBlID09PSBcImNsaWNrXCIgJiYgZXZlbnQuYnV0dG9ucyA9PT0gMTtcbiAgcmV0dXJuIGV2ZW50LmRldGFpbCA9PT0gMCAmJiAhZXZlbnQucG9pbnRlclR5cGU7XG59XG5mdW5jdGlvbiAkOGE5Y2IyNzlkYzg3ZTEzMCRleHBvcnQkNTI1YmM0OTIxZDU2ZDRhKG5hdGl2ZUV2ZW50KSB7XG4gIGxldCBldmVudCA9IG5hdGl2ZUV2ZW50O1xuICBldmVudC5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuICBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQgPSAoKSA9PiBldmVudC5kZWZhdWx0UHJldmVudGVkO1xuICBldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9ICgpID0+IGV2ZW50LmNhbmNlbEJ1YmJsZTtcbiAgZXZlbnQucGVyc2lzdCA9ICgpID0+IHtcbiAgfTtcbiAgcmV0dXJuIGV2ZW50O1xufVxuZnVuY3Rpb24gJDhhOWNiMjc5ZGM4N2UxMzAkZXhwb3J0JGMyYjdhYmU1ZDYxZWM2OTYoZXZlbnQsIHRhcmdldCkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXZlbnQsIFwidGFyZ2V0XCIsIHtcbiAgICB2YWx1ZTogdGFyZ2V0XG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXZlbnQsIFwiY3VycmVudFRhcmdldFwiLCB7XG4gICAgdmFsdWU6IHRhcmdldFxuICB9KTtcbn1cbmZ1bmN0aW9uICQ4YTljYjI3OWRjODdlMTMwJGV4cG9ydCQ3MTVjNjgyZDA5ZDYzOWNjKG9uQmx1cikge1xuICBsZXQgc3RhdGVSZWYgPSBBJDMoe1xuICAgIGlzRm9jdXNlZDogZmFsc2UsXG4gICAgb2JzZXJ2ZXI6IG51bGxcbiAgfSk7XG4gICRmMGEwNGNjZDhkYmRkODNiJGV4cG9ydCRlNWM1YTVmOTE3YTU4NzFjKCgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHN0YXRlUmVmLmN1cnJlbnQ7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChzdGF0ZS5vYnNlcnZlcikge1xuICAgICAgICBzdGF0ZS5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIHN0YXRlLm9ic2VydmVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG4gIGxldCBkaXNwYXRjaEJsdXIgPSAkOGFlMDVlYWE1YzExNGU5YyRleHBvcnQkN2Y1NGZjMzE4MDUwOGE1MigoZTIpID0+IHtcbiAgICBvbkJsdXIgPT09IG51bGwgfHwgb25CbHVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkJsdXIoZTIpO1xuICB9KTtcbiAgcmV0dXJuIHEkMygoZTIpID0+IHtcbiAgICBpZiAoZTIudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEJ1dHRvbkVsZW1lbnQgfHwgZTIudGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCB8fCBlMi50YXJnZXQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50IHx8IGUyLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50KSB7XG4gICAgICBzdGF0ZVJlZi5jdXJyZW50LmlzRm9jdXNlZCA9IHRydWU7XG4gICAgICBsZXQgdGFyZ2V0ID0gZTIudGFyZ2V0O1xuICAgICAgbGV0IG9uQmx1ckhhbmRsZXIgPSAoZTMpID0+IHtcbiAgICAgICAgc3RhdGVSZWYuY3VycmVudC5pc0ZvY3VzZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRhcmdldC5kaXNhYmxlZCkge1xuICAgICAgICAgIGxldCBldmVudCA9ICQ4YTljYjI3OWRjODdlMTMwJGV4cG9ydCQ1MjViYzQ5MjFkNTZkNGEoZTMpO1xuICAgICAgICAgIGRpc3BhdGNoQmx1cihldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlUmVmLmN1cnJlbnQub2JzZXJ2ZXIpIHtcbiAgICAgICAgICBzdGF0ZVJlZi5jdXJyZW50Lm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICBzdGF0ZVJlZi5jdXJyZW50Lm9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgb25CbHVySGFuZGxlciwge1xuICAgICAgICBvbmNlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHN0YXRlUmVmLmN1cnJlbnQub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZVJlZi5jdXJyZW50LmlzRm9jdXNlZCAmJiB0YXJnZXQuZGlzYWJsZWQpIHtcbiAgICAgICAgICB2YXIgX3N0YXRlUmVmX2N1cnJlbnRfb2JzZXJ2ZXI7XG4gICAgICAgICAgKF9zdGF0ZVJlZl9jdXJyZW50X29ic2VydmVyID0gc3RhdGVSZWYuY3VycmVudC5vYnNlcnZlcikgPT09IG51bGwgfHwgX3N0YXRlUmVmX2N1cnJlbnRfb2JzZXJ2ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zdGF0ZVJlZl9jdXJyZW50X29ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICBsZXQgcmVsYXRlZFRhcmdldEVsID0gdGFyZ2V0ID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID8gbnVsbCA6IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgdGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IEZvY3VzRXZlbnQoXCJibHVyXCIsIHtcbiAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXRFbFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgRm9jdXNFdmVudChcImZvY3Vzb3V0XCIsIHtcbiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0RWxcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc3RhdGVSZWYuY3VycmVudC5vYnNlcnZlci5vYnNlcnZlKHRhcmdldCwge1xuICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICBhdHRyaWJ1dGVGaWx0ZXI6IFtcbiAgICAgICAgICBcImRpc2FibGVkXCJcbiAgICAgICAgXVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbXG4gICAgZGlzcGF0Y2hCbHVyXG4gIF0pO1xufVxubGV0ICQ4YTljYjI3OWRjODdlMTMwJGV4cG9ydCRmZGE3ZGE3M2FiNWQ0YzQ4ID0gZmFsc2U7XG5sZXQgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGN1cnJlbnRNb2RhbGl0eSA9IG51bGw7XG5sZXQgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGNoYW5nZUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbmxldCAkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkZDkwMjQzYjU4ZGFlY2RhNyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5sZXQgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhc0V2ZW50QmVmb3JlRm9jdXMgPSBmYWxzZTtcbmxldCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFzQmx1cnJlZFdpbmRvd1JlY2VudGx5ID0gZmFsc2U7XG5jb25zdCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkRk9DVVNfVklTSUJMRV9JTlBVVF9LRVlTID0ge1xuICBUYWI6IHRydWUsXG4gIEVzY2FwZTogdHJ1ZVxufTtcbmZ1bmN0aW9uICQ1MDdmYWJlMTBlNzFjNmZiJHZhciR0cmlnZ2VyQ2hhbmdlSGFuZGxlcnMobW9kYWxpdHksIGUyKSB7XG4gIGZvciAobGV0IGhhbmRsZXIgb2YgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGNoYW5nZUhhbmRsZXJzKSBoYW5kbGVyKG1vZGFsaXR5LCBlMik7XG59XG5mdW5jdGlvbiAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaXNWYWxpZEtleShlMikge1xuICByZXR1cm4gIShlMi5tZXRhS2V5IHx8ICEkYzg3MzExNDI0ZWEzMGEwNSRleHBvcnQkOWFjMTAwZTQwNjEzZWExMCgpICYmIGUyLmFsdEtleSB8fCBlMi5jdHJsS2V5IHx8IGUyLmtleSA9PT0gXCJDb250cm9sXCIgfHwgZTIua2V5ID09PSBcIlNoaWZ0XCIgfHwgZTIua2V5ID09PSBcIk1ldGFcIik7XG59XG5mdW5jdGlvbiAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlS2V5Ym9hcmRFdmVudChlMikge1xuICAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFzRXZlbnRCZWZvcmVGb2N1cyA9IHRydWU7XG4gIGlmICgkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaXNWYWxpZEtleShlMikpIHtcbiAgICAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkY3VycmVudE1vZGFsaXR5ID0gXCJrZXlib2FyZFwiO1xuICAgICQ1MDdmYWJlMTBlNzFjNmZiJHZhciR0cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoXCJrZXlib2FyZFwiLCBlMik7XG4gIH1cbn1cbmZ1bmN0aW9uICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVQb2ludGVyRXZlbnQoZTIpIHtcbiAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGN1cnJlbnRNb2RhbGl0eSA9IFwicG9pbnRlclwiO1xuICBpZiAoZTIudHlwZSA9PT0gXCJtb3VzZWRvd25cIiB8fCBlMi50eXBlID09PSBcInBvaW50ZXJkb3duXCIpIHtcbiAgICAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFzRXZlbnRCZWZvcmVGb2N1cyA9IHRydWU7XG4gICAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJHRyaWdnZXJDaGFuZ2VIYW5kbGVycyhcInBvaW50ZXJcIiwgZTIpO1xuICB9XG59XG5mdW5jdGlvbiAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlQ2xpY2tFdmVudChlMikge1xuICBpZiAoJDZhN2RiODU0MzI0NDhmN2YkZXhwb3J0JDYwMjc4ODcxNDU3NjIyZGUoZTIpKSB7XG4gICAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhc0V2ZW50QmVmb3JlRm9jdXMgPSB0cnVlO1xuICAgICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRjdXJyZW50TW9kYWxpdHkgPSBcInZpcnR1YWxcIjtcbiAgfVxufVxuZnVuY3Rpb24gJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZUZvY3VzRXZlbnQoZTIpIHtcbiAgaWYgKGUyLnRhcmdldCA9PT0gd2luZG93IHx8IGUyLnRhcmdldCA9PT0gZG9jdW1lbnQgfHwgJDhhOWNiMjc5ZGM4N2UxMzAkZXhwb3J0JGZkYTdkYTczYWI1ZDRjNDggfHwgIWUyLmlzVHJ1c3RlZCkgcmV0dXJuO1xuICBpZiAoISQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYXNFdmVudEJlZm9yZUZvY3VzICYmICEkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFzQmx1cnJlZFdpbmRvd1JlY2VudGx5KSB7XG4gICAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGN1cnJlbnRNb2RhbGl0eSA9IFwidmlydHVhbFwiO1xuICAgICQ1MDdmYWJlMTBlNzFjNmZiJHZhciR0cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoXCJ2aXJ0dWFsXCIsIGUyKTtcbiAgfVxuICAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFzRXZlbnRCZWZvcmVGb2N1cyA9IGZhbHNlO1xuICAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFzQmx1cnJlZFdpbmRvd1JlY2VudGx5ID0gZmFsc2U7XG59XG5mdW5jdGlvbiAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlV2luZG93Qmx1cigpIHtcbiAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhc0V2ZW50QmVmb3JlRm9jdXMgPSBmYWxzZTtcbiAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhc0JsdXJyZWRXaW5kb3dSZWNlbnRseSA9IHRydWU7XG59XG5mdW5jdGlvbiAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkc2V0dXBHbG9iYWxGb2N1c0V2ZW50cyhlbGVtZW50KSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8ICQ1MDdmYWJlMTBlNzFjNmZiJGV4cG9ydCRkOTAyNDNiNThkYWVjZGE3LmdldCgkNDMxZmJkODZjYTdkYzIxNiRleHBvcnQkZjIxYTFmZmFlMjYwMTQ1YShlbGVtZW50KSkpIHJldHVybjtcbiAgY29uc3Qgd2luZG93T2JqZWN0ID0gJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGYyMWExZmZhZTI2MDE0NWEoZWxlbWVudCk7XG4gIGNvbnN0IGRvY3VtZW50T2JqZWN0ID0gJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGIyMDRhZjE1ODA0MmZiYWMoZWxlbWVudCk7XG4gIGxldCBmb2N1cyA9IHdpbmRvd09iamVjdC5IVE1MRWxlbWVudC5wcm90b3R5cGUuZm9jdXM7XG4gIHdpbmRvd09iamVjdC5IVE1MRWxlbWVudC5wcm90b3R5cGUuZm9jdXMgPSBmdW5jdGlvbigpIHtcbiAgICAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFzRXZlbnRCZWZvcmVGb2N1cyA9IHRydWU7XG4gICAgZm9jdXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbiAgZG9jdW1lbnRPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZUtleWJvYXJkRXZlbnQsIHRydWUpO1xuICBkb2N1bWVudE9iamVjdC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZUtleWJvYXJkRXZlbnQsIHRydWUpO1xuICBkb2N1bWVudE9iamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZUNsaWNrRXZlbnQsIHRydWUpO1xuICB3aW5kb3dPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVGb2N1c0V2ZW50LCB0cnVlKTtcbiAgd2luZG93T2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVXaW5kb3dCbHVyLCBmYWxzZSk7XG4gIGlmICh0eXBlb2YgUG9pbnRlckV2ZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgZG9jdW1lbnRPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVQb2ludGVyRXZlbnQsIHRydWUpO1xuICAgIGRvY3VtZW50T2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlUG9pbnRlckV2ZW50LCB0cnVlKTtcbiAgICBkb2N1bWVudE9iamVjdC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVQb2ludGVyRXZlbnQsIHRydWUpO1xuICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInRlc3RcIikge1xuICAgIGRvY3VtZW50T2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZVBvaW50ZXJFdmVudCwgdHJ1ZSk7XG4gICAgZG9jdW1lbnRPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlUG9pbnRlckV2ZW50LCB0cnVlKTtcbiAgICBkb2N1bWVudE9iamVjdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlUG9pbnRlckV2ZW50LCB0cnVlKTtcbiAgfVxuICB3aW5kb3dPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCAoKSA9PiB7XG4gICAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJHRlYXJEb3duV2luZG93Rm9jdXNUcmFja2luZyhlbGVtZW50KTtcbiAgfSwge1xuICAgIG9uY2U6IHRydWVcbiAgfSk7XG4gICQ1MDdmYWJlMTBlNzFjNmZiJGV4cG9ydCRkOTAyNDNiNThkYWVjZGE3LnNldCh3aW5kb3dPYmplY3QsIHtcbiAgICBmb2N1c1xuICB9KTtcbn1cbmNvbnN0ICQ1MDdmYWJlMTBlNzFjNmZiJHZhciR0ZWFyRG93bldpbmRvd0ZvY3VzVHJhY2tpbmcgPSAoZWxlbWVudCwgbG9hZExpc3RlbmVyKSA9PiB7XG4gIGNvbnN0IHdpbmRvd09iamVjdCA9ICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRmMjFhMWZmYWUyNjAxNDVhKGVsZW1lbnQpO1xuICBjb25zdCBkb2N1bWVudE9iamVjdCA9ICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRiMjA0YWYxNTgwNDJmYmFjKGVsZW1lbnQpO1xuICBpZiAobG9hZExpc3RlbmVyKSBkb2N1bWVudE9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBsb2FkTGlzdGVuZXIpO1xuICBpZiAoISQ1MDdmYWJlMTBlNzFjNmZiJGV4cG9ydCRkOTAyNDNiNThkYWVjZGE3Lmhhcyh3aW5kb3dPYmplY3QpKSByZXR1cm47XG4gIHdpbmRvd09iamVjdC5IVE1MRWxlbWVudC5wcm90b3R5cGUuZm9jdXMgPSAkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkZDkwMjQzYjU4ZGFlY2RhNy5nZXQod2luZG93T2JqZWN0KS5mb2N1cztcbiAgZG9jdW1lbnRPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZUtleWJvYXJkRXZlbnQsIHRydWUpO1xuICBkb2N1bWVudE9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZUtleWJvYXJkRXZlbnQsIHRydWUpO1xuICBkb2N1bWVudE9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZUNsaWNrRXZlbnQsIHRydWUpO1xuICB3aW5kb3dPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVGb2N1c0V2ZW50LCB0cnVlKTtcbiAgd2luZG93T2JqZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJibHVyXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVXaW5kb3dCbHVyLCBmYWxzZSk7XG4gIGlmICh0eXBlb2YgUG9pbnRlckV2ZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgZG9jdW1lbnRPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVQb2ludGVyRXZlbnQsIHRydWUpO1xuICAgIGRvY3VtZW50T2JqZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlUG9pbnRlckV2ZW50LCB0cnVlKTtcbiAgICBkb2N1bWVudE9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVQb2ludGVyRXZlbnQsIHRydWUpO1xuICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInRlc3RcIikge1xuICAgIGRvY3VtZW50T2JqZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZVBvaW50ZXJFdmVudCwgdHJ1ZSk7XG4gICAgZG9jdW1lbnRPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlUG9pbnRlckV2ZW50LCB0cnVlKTtcbiAgICBkb2N1bWVudE9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlUG9pbnRlckV2ZW50LCB0cnVlKTtcbiAgfVxuICAkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkZDkwMjQzYjU4ZGFlY2RhNy5kZWxldGUod2luZG93T2JqZWN0KTtcbn07XG5mdW5jdGlvbiAkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkMmYxODg4MTEyZjU1OGE3ZChlbGVtZW50KSB7XG4gIGNvbnN0IGRvY3VtZW50T2JqZWN0ID0gJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGIyMDRhZjE1ODA0MmZiYWMoZWxlbWVudCk7XG4gIGxldCBsb2FkTGlzdGVuZXI7XG4gIGlmIChkb2N1bWVudE9iamVjdC5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIikgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJHNldHVwR2xvYmFsRm9jdXNFdmVudHMoZWxlbWVudCk7XG4gIGVsc2Uge1xuICAgIGxvYWRMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRzZXR1cEdsb2JhbEZvY3VzRXZlbnRzKGVsZW1lbnQpO1xuICAgIH07XG4gICAgZG9jdW1lbnRPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgbG9hZExpc3RlbmVyKTtcbiAgfVxuICByZXR1cm4gKCkgPT4gJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJHRlYXJEb3duV2luZG93Rm9jdXNUcmFja2luZyhlbGVtZW50LCBsb2FkTGlzdGVuZXIpO1xufVxuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikgJDUwN2ZhYmUxMGU3MWM2ZmIkZXhwb3J0JDJmMTg4ODExMmY1NThhN2QoKTtcbmZ1bmN0aW9uICQ1MDdmYWJlMTBlNzFjNmZiJGV4cG9ydCRiOWIzZGZkZGFiMTdkYjI3KCkge1xuICByZXR1cm4gJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGN1cnJlbnRNb2RhbGl0eSAhPT0gXCJwb2ludGVyXCI7XG59XG5jb25zdCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkbm9uVGV4dElucHV0VHlwZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gIFwiY2hlY2tib3hcIixcbiAgXCJyYWRpb1wiLFxuICBcInJhbmdlXCIsXG4gIFwiY29sb3JcIixcbiAgXCJmaWxlXCIsXG4gIFwiaW1hZ2VcIixcbiAgXCJidXR0b25cIixcbiAgXCJzdWJtaXRcIixcbiAgXCJyZXNldFwiXG5dKTtcbmZ1bmN0aW9uICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRpc0tleWJvYXJkRm9jdXNFdmVudChpc1RleHRJbnB1dCwgbW9kYWxpdHksIGUyKSB7XG4gIGxldCBkb2N1bWVudDEgPSAkNDMxZmJkODZjYTdkYzIxNiRleHBvcnQkYjIwNGFmMTU4MDQyZmJhYyhlMiA9PT0gbnVsbCB8fCBlMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogZTIudGFyZ2V0KTtcbiAgY29uc3QgSUhUTUxJbnB1dEVsZW1lbnQgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGYyMWExZmZhZTI2MDE0NWEoZTIgPT09IG51bGwgfHwgZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGUyLnRhcmdldCkuSFRNTElucHV0RWxlbWVudCA6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IElIVE1MVGV4dEFyZWFFbGVtZW50ID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/ICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRmMjFhMWZmYWUyNjAxNDVhKGUyID09PSBudWxsIHx8IGUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlMi50YXJnZXQpLkhUTUxUZXh0QXJlYUVsZW1lbnQgOiBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICBjb25zdCBJSFRNTEVsZW1lbnQgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGYyMWExZmZhZTI2MDE0NWEoZTIgPT09IG51bGwgfHwgZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGUyLnRhcmdldCkuSFRNTEVsZW1lbnQgOiBIVE1MRWxlbWVudDtcbiAgY29uc3QgSUtleWJvYXJkRXZlbnQgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGYyMWExZmZhZTI2MDE0NWEoZTIgPT09IG51bGwgfHwgZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGUyLnRhcmdldCkuS2V5Ym9hcmRFdmVudCA6IEtleWJvYXJkRXZlbnQ7XG4gIGlzVGV4dElucHV0ID0gaXNUZXh0SW5wdXQgfHwgZG9jdW1lbnQxLmFjdGl2ZUVsZW1lbnQgaW5zdGFuY2VvZiBJSFRNTElucHV0RWxlbWVudCAmJiAhJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJG5vblRleHRJbnB1dFR5cGVzLmhhcyhkb2N1bWVudDEuYWN0aXZlRWxlbWVudC50eXBlKSB8fCBkb2N1bWVudDEuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIElIVE1MVGV4dEFyZWFFbGVtZW50IHx8IGRvY3VtZW50MS5hY3RpdmVFbGVtZW50IGluc3RhbmNlb2YgSUhUTUxFbGVtZW50ICYmIGRvY3VtZW50MS5hY3RpdmVFbGVtZW50LmlzQ29udGVudEVkaXRhYmxlO1xuICByZXR1cm4gIShpc1RleHRJbnB1dCAmJiBtb2RhbGl0eSA9PT0gXCJrZXlib2FyZFwiICYmIGUyIGluc3RhbmNlb2YgSUtleWJvYXJkRXZlbnQgJiYgISQ1MDdmYWJlMTBlNzFjNmZiJHZhciRGT0NVU19WSVNJQkxFX0lOUFVUX0tFWVNbZTIua2V5XSk7XG59XG5mdW5jdGlvbiAkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkZWM3MWI0YjgzYWMwOGVjMyhmbjIsIGRlcHMsIG9wdHMpIHtcbiAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJHNldHVwR2xvYmFsRm9jdXNFdmVudHMoKTtcbiAgeSQ2KCgpID0+IHtcbiAgICBsZXQgaGFuZGxlciA9IChtb2RhbGl0eSwgZTIpID0+IHtcbiAgICAgIGlmICghJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGlzS2V5Ym9hcmRGb2N1c0V2ZW50KCEhKG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5pc1RleHRJbnB1dCksIG1vZGFsaXR5LCBlMikpIHJldHVybjtcbiAgICAgIGZuMigkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkYjliM2RmZGRhYjE3ZGIyNygpKTtcbiAgICB9O1xuICAgICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRjaGFuZ2VIYW5kbGVycy5hZGQoaGFuZGxlcik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRjaGFuZ2VIYW5kbGVycy5kZWxldGUoaGFuZGxlcik7XG4gICAgfTtcbiAgfSwgZGVwcyk7XG59XG5mdW5jdGlvbiAkYTFlYTU5ZDY4MjcwZjBkZCRleHBvcnQkZjgxNjhkOGRkOGZkNjZlNihwcm9wcykge1xuICBsZXQgeyBpc0Rpc2FibGVkLCBvbkZvY3VzOiBvbkZvY3VzUHJvcCwgb25CbHVyOiBvbkJsdXJQcm9wLCBvbkZvY3VzQ2hhbmdlIH0gPSBwcm9wcztcbiAgY29uc3Qgb25CbHVyID0gcSQzKChlMikgPT4ge1xuICAgIGlmIChlMi50YXJnZXQgPT09IGUyLmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIGlmIChvbkJsdXJQcm9wKSBvbkJsdXJQcm9wKGUyKTtcbiAgICAgIGlmIChvbkZvY3VzQ2hhbmdlKSBvbkZvY3VzQ2hhbmdlKGZhbHNlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwgW1xuICAgIG9uQmx1clByb3AsXG4gICAgb25Gb2N1c0NoYW5nZVxuICBdKTtcbiAgY29uc3Qgb25TeW50aGV0aWNGb2N1cyA9ICQ4YTljYjI3OWRjODdlMTMwJGV4cG9ydCQ3MTVjNjgyZDA5ZDYzOWNjKG9uQmx1cik7XG4gIGNvbnN0IG9uRm9jdXMgPSBxJDMoKGUyKSA9PiB7XG4gICAgY29uc3Qgb3duZXJEb2N1bWVudCA9ICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRiMjA0YWYxNTgwNDJmYmFjKGUyLnRhcmdldCk7XG4gICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IG93bmVyRG9jdW1lbnQgPyAkZDRlZTEwZGUzMDZmMjUxMCRleHBvcnQkY2Q0ZTU1NzNmYmUyYjU3Nihvd25lckRvY3VtZW50KSA6ICRkNGVlMTBkZTMwNmYyNTEwJGV4cG9ydCRjZDRlNTU3M2ZiZTJiNTc2KCk7XG4gICAgaWYgKGUyLnRhcmdldCA9PT0gZTIuY3VycmVudFRhcmdldCAmJiBhY3RpdmVFbGVtZW50ID09PSAkZDRlZTEwZGUzMDZmMjUxMCRleHBvcnQkZTU4ZjAyOWYwZmJmZGIyOShlMi5uYXRpdmVFdmVudCkpIHtcbiAgICAgIGlmIChvbkZvY3VzUHJvcCkgb25Gb2N1c1Byb3AoZTIpO1xuICAgICAgaWYgKG9uRm9jdXNDaGFuZ2UpIG9uRm9jdXNDaGFuZ2UodHJ1ZSk7XG4gICAgICBvblN5bnRoZXRpY0ZvY3VzKGUyKTtcbiAgICB9XG4gIH0sIFtcbiAgICBvbkZvY3VzQ2hhbmdlLFxuICAgIG9uRm9jdXNQcm9wLFxuICAgIG9uU3ludGhldGljRm9jdXNcbiAgXSk7XG4gIHJldHVybiB7XG4gICAgZm9jdXNQcm9wczoge1xuICAgICAgb25Gb2N1czogIWlzRGlzYWJsZWQgJiYgKG9uRm9jdXNQcm9wIHx8IG9uRm9jdXNDaGFuZ2UgfHwgb25CbHVyUHJvcCkgPyBvbkZvY3VzIDogdm9pZCAwLFxuICAgICAgb25CbHVyOiAhaXNEaXNhYmxlZCAmJiAob25CbHVyUHJvcCB8fCBvbkZvY3VzQ2hhbmdlKSA/IG9uQmx1ciA6IHZvaWQgMFxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uICQ5YWI5NDI2MmJkMDA0N2M3JGV4cG9ydCQ0MjBlNjgyNzMxNjVmNGVjKHByb3BzKSB7XG4gIGxldCB7IGlzRGlzYWJsZWQsIG9uQmx1cldpdGhpbiwgb25Gb2N1c1dpdGhpbiwgb25Gb2N1c1dpdGhpbkNoYW5nZSB9ID0gcHJvcHM7XG4gIGxldCBzdGF0ZSA9IEEkMyh7XG4gICAgaXNGb2N1c1dpdGhpbjogZmFsc2VcbiAgfSk7XG4gIGxldCB7IGFkZEdsb2JhbExpc3RlbmVyLCByZW1vdmVBbGxHbG9iYWxMaXN0ZW5lcnMgfSA9ICQwM2RlYjIzZmYxNDkyMGM0JGV4cG9ydCQ0ZWFmMDRlNTRhYThlZWQ2KCk7XG4gIGxldCBvbkJsdXIgPSBxJDMoKGUyKSA9PiB7XG4gICAgaWYgKCFlMi5jdXJyZW50VGFyZ2V0LmNvbnRhaW5zKGUyLnRhcmdldCkpIHJldHVybjtcbiAgICBpZiAoc3RhdGUuY3VycmVudC5pc0ZvY3VzV2l0aGluICYmICFlMi5jdXJyZW50VGFyZ2V0LmNvbnRhaW5zKGUyLnJlbGF0ZWRUYXJnZXQpKSB7XG4gICAgICBzdGF0ZS5jdXJyZW50LmlzRm9jdXNXaXRoaW4gPSBmYWxzZTtcbiAgICAgIHJlbW92ZUFsbEdsb2JhbExpc3RlbmVycygpO1xuICAgICAgaWYgKG9uQmx1cldpdGhpbikgb25CbHVyV2l0aGluKGUyKTtcbiAgICAgIGlmIChvbkZvY3VzV2l0aGluQ2hhbmdlKSBvbkZvY3VzV2l0aGluQ2hhbmdlKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtcbiAgICBvbkJsdXJXaXRoaW4sXG4gICAgb25Gb2N1c1dpdGhpbkNoYW5nZSxcbiAgICBzdGF0ZSxcbiAgICByZW1vdmVBbGxHbG9iYWxMaXN0ZW5lcnNcbiAgXSk7XG4gIGxldCBvblN5bnRoZXRpY0ZvY3VzID0gJDhhOWNiMjc5ZGM4N2UxMzAkZXhwb3J0JDcxNWM2ODJkMDlkNjM5Y2Mob25CbHVyKTtcbiAgbGV0IG9uRm9jdXMgPSBxJDMoKGUyKSA9PiB7XG4gICAgaWYgKCFlMi5jdXJyZW50VGFyZ2V0LmNvbnRhaW5zKGUyLnRhcmdldCkpIHJldHVybjtcbiAgICBjb25zdCBvd25lckRvY3VtZW50ID0gJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGIyMDRhZjE1ODA0MmZiYWMoZTIudGFyZ2V0KTtcbiAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gJGQ0ZWUxMGRlMzA2ZjI1MTAkZXhwb3J0JGNkNGU1NTczZmJlMmI1NzYob3duZXJEb2N1bWVudCk7XG4gICAgaWYgKCFzdGF0ZS5jdXJyZW50LmlzRm9jdXNXaXRoaW4gJiYgYWN0aXZlRWxlbWVudCA9PT0gJGQ0ZWUxMGRlMzA2ZjI1MTAkZXhwb3J0JGU1OGYwMjlmMGZiZmRiMjkoZTIubmF0aXZlRXZlbnQpKSB7XG4gICAgICBpZiAob25Gb2N1c1dpdGhpbikgb25Gb2N1c1dpdGhpbihlMik7XG4gICAgICBpZiAob25Gb2N1c1dpdGhpbkNoYW5nZSkgb25Gb2N1c1dpdGhpbkNoYW5nZSh0cnVlKTtcbiAgICAgIHN0YXRlLmN1cnJlbnQuaXNGb2N1c1dpdGhpbiA9IHRydWU7XG4gICAgICBvblN5bnRoZXRpY0ZvY3VzKGUyKTtcbiAgICAgIGxldCBjdXJyZW50VGFyZ2V0ID0gZTIuY3VycmVudFRhcmdldDtcbiAgICAgIGFkZEdsb2JhbExpc3RlbmVyKG93bmVyRG9jdW1lbnQsIFwiZm9jdXNcIiwgKGUzKSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5jdXJyZW50LmlzRm9jdXNXaXRoaW4gJiYgISRkNGVlMTBkZTMwNmYyNTEwJGV4cG9ydCQ0MjgyZjcwNzk4MDY0ZmUwKGN1cnJlbnRUYXJnZXQsIGUzLnRhcmdldCkpIHtcbiAgICAgICAgICBsZXQgbmF0aXZlRXZlbnQgPSBuZXcgb3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5Gb2N1c0V2ZW50KFwiYmx1clwiLCB7XG4gICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiBlMy50YXJnZXRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkOGE5Y2IyNzlkYzg3ZTEzMCRleHBvcnQkYzJiN2FiZTVkNjFlYzY5NihuYXRpdmVFdmVudCwgY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgbGV0IGV2ZW50ID0gJDhhOWNiMjc5ZGM4N2UxMzAkZXhwb3J0JDUyNWJjNDkyMWQ1NmQ0YShuYXRpdmVFdmVudCk7XG4gICAgICAgICAgb25CbHVyKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBjYXB0dXJlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtcbiAgICBvbkZvY3VzV2l0aGluLFxuICAgIG9uRm9jdXNXaXRoaW5DaGFuZ2UsXG4gICAgb25TeW50aGV0aWNGb2N1cyxcbiAgICBhZGRHbG9iYWxMaXN0ZW5lcixcbiAgICBvbkJsdXJcbiAgXSk7XG4gIGlmIChpc0Rpc2FibGVkKSByZXR1cm4ge1xuICAgIGZvY3VzV2l0aGluUHJvcHM6IHtcbiAgICAgIC8vIFRoZXNlIGNhbm5vdCBiZSBudWxsLCB0aGF0IHdvdWxkIGNvbmZsaWN0IGluIG1lcmdlUHJvcHNcbiAgICAgIG9uRm9jdXM6IHZvaWQgMCxcbiAgICAgIG9uQmx1cjogdm9pZCAwXG4gICAgfVxuICB9O1xuICByZXR1cm4ge1xuICAgIGZvY3VzV2l0aGluUHJvcHM6IHtcbiAgICAgIG9uRm9jdXMsXG4gICAgICBvbkJsdXJcbiAgICB9XG4gIH07XG59XG5sZXQgJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJGdsb2JhbElnbm9yZUVtdWxhdGVkTW91c2VFdmVudHMgPSBmYWxzZTtcbmxldCAkNjE3OWI5MzY3MDVlNzZkMyR2YXIkaG92ZXJDb3VudCA9IDA7XG5mdW5jdGlvbiAkNjE3OWI5MzY3MDVlNzZkMyR2YXIkc2V0R2xvYmFsSWdub3JlRW11bGF0ZWRNb3VzZUV2ZW50cygpIHtcbiAgJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJGdsb2JhbElnbm9yZUVtdWxhdGVkTW91c2VFdmVudHMgPSB0cnVlO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAkNjE3OWI5MzY3MDVlNzZkMyR2YXIkZ2xvYmFsSWdub3JlRW11bGF0ZWRNb3VzZUV2ZW50cyA9IGZhbHNlO1xuICB9LCA1MCk7XG59XG5mdW5jdGlvbiAkNjE3OWI5MzY3MDVlNzZkMyR2YXIkaGFuZGxlR2xvYmFsUG9pbnRlckV2ZW50KGUyKSB7XG4gIGlmIChlMi5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSAkNjE3OWI5MzY3MDVlNzZkMyR2YXIkc2V0R2xvYmFsSWdub3JlRW11bGF0ZWRNb3VzZUV2ZW50cygpO1xufVxuZnVuY3Rpb24gJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJHNldHVwR2xvYmFsVG91Y2hFdmVudHMoKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcbiAgaWYgKHR5cGVvZiBQb2ludGVyRXZlbnQgIT09IFwidW5kZWZpbmVkXCIpIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJGhhbmRsZUdsb2JhbFBvaW50ZXJFdmVudCk7XG4gIGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInRlc3RcIikgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsICQ2MTc5YjkzNjcwNWU3NmQzJHZhciRzZXRHbG9iYWxJZ25vcmVFbXVsYXRlZE1vdXNlRXZlbnRzKTtcbiAgJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJGhvdmVyQ291bnQrKztcbiAgcmV0dXJuICgpID0+IHtcbiAgICAkNjE3OWI5MzY3MDVlNzZkMyR2YXIkaG92ZXJDb3VudC0tO1xuICAgIGlmICgkNjE3OWI5MzY3MDVlNzZkMyR2YXIkaG92ZXJDb3VudCA+IDApIHJldHVybjtcbiAgICBpZiAodHlwZW9mIFBvaW50ZXJFdmVudCAhPT0gXCJ1bmRlZmluZWRcIikgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCAkNjE3OWI5MzY3MDVlNzZkMyR2YXIkaGFuZGxlR2xvYmFsUG9pbnRlckV2ZW50KTtcbiAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJ0ZXN0XCIpIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCAkNjE3OWI5MzY3MDVlNzZkMyR2YXIkc2V0R2xvYmFsSWdub3JlRW11bGF0ZWRNb3VzZUV2ZW50cyk7XG4gIH07XG59XG5mdW5jdGlvbiAkNjE3OWI5MzY3MDVlNzZkMyRleHBvcnQkYWU3ODBkYWYyOWU2ZDQ1Nihwcm9wcykge1xuICBsZXQgeyBvbkhvdmVyU3RhcnQsIG9uSG92ZXJDaGFuZ2UsIG9uSG92ZXJFbmQsIGlzRGlzYWJsZWQgfSA9IHByb3BzO1xuICBsZXQgW2lzSG92ZXJlZCwgc2V0SG92ZXJlZF0gPSBkJDQoZmFsc2UpO1xuICBsZXQgc3RhdGUgPSBBJDMoe1xuICAgIGlzSG92ZXJlZDogZmFsc2UsXG4gICAgaWdub3JlRW11bGF0ZWRNb3VzZUV2ZW50czogZmFsc2UsXG4gICAgcG9pbnRlclR5cGU6IFwiXCIsXG4gICAgdGFyZ2V0OiBudWxsXG4gIH0pLmN1cnJlbnQ7XG4gIHkkNigkNjE3OWI5MzY3MDVlNzZkMyR2YXIkc2V0dXBHbG9iYWxUb3VjaEV2ZW50cywgW10pO1xuICBsZXQgeyBhZGRHbG9iYWxMaXN0ZW5lciwgcmVtb3ZlQWxsR2xvYmFsTGlzdGVuZXJzIH0gPSAkMDNkZWIyM2ZmMTQ5MjBjNCRleHBvcnQkNGVhZjA0ZTU0YWE4ZWVkNigpO1xuICBsZXQgeyBob3ZlclByb3BzLCB0cmlnZ2VySG92ZXJFbmQgfSA9IFQkNSgoKSA9PiB7XG4gICAgbGV0IHRyaWdnZXJIb3ZlclN0YXJ0ID0gKGV2ZW50LCBwb2ludGVyVHlwZSkgPT4ge1xuICAgICAgc3RhdGUucG9pbnRlclR5cGUgPSBwb2ludGVyVHlwZTtcbiAgICAgIGlmIChpc0Rpc2FibGVkIHx8IHBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIgfHwgc3RhdGUuaXNIb3ZlcmVkIHx8ICFldmVudC5jdXJyZW50VGFyZ2V0LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHJldHVybjtcbiAgICAgIHN0YXRlLmlzSG92ZXJlZCA9IHRydWU7XG4gICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgIHN0YXRlLnRhcmdldCA9IHRhcmdldDtcbiAgICAgIGFkZEdsb2JhbExpc3RlbmVyKCQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRiMjA0YWYxNTgwNDJmYmFjKGV2ZW50LnRhcmdldCksIFwicG9pbnRlcm92ZXJcIiwgKGUyKSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5pc0hvdmVyZWQgJiYgc3RhdGUudGFyZ2V0ICYmICEkZDRlZTEwZGUzMDZmMjUxMCRleHBvcnQkNDI4MmY3MDc5ODA2NGZlMChzdGF0ZS50YXJnZXQsIGUyLnRhcmdldCkpIHRyaWdnZXJIb3ZlckVuZDIoZTIsIGUyLnBvaW50ZXJUeXBlKTtcbiAgICAgIH0sIHtcbiAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBpZiAob25Ib3ZlclN0YXJ0KSBvbkhvdmVyU3RhcnQoe1xuICAgICAgICB0eXBlOiBcImhvdmVyc3RhcnRcIixcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICBwb2ludGVyVHlwZVxuICAgICAgfSk7XG4gICAgICBpZiAob25Ib3ZlckNoYW5nZSkgb25Ib3ZlckNoYW5nZSh0cnVlKTtcbiAgICAgIHNldEhvdmVyZWQodHJ1ZSk7XG4gICAgfTtcbiAgICBsZXQgdHJpZ2dlckhvdmVyRW5kMiA9IChldmVudCwgcG9pbnRlclR5cGUpID0+IHtcbiAgICAgIGxldCB0YXJnZXQgPSBzdGF0ZS50YXJnZXQ7XG4gICAgICBzdGF0ZS5wb2ludGVyVHlwZSA9IFwiXCI7XG4gICAgICBzdGF0ZS50YXJnZXQgPSBudWxsO1xuICAgICAgaWYgKHBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIgfHwgIXN0YXRlLmlzSG92ZXJlZCB8fCAhdGFyZ2V0KSByZXR1cm47XG4gICAgICBzdGF0ZS5pc0hvdmVyZWQgPSBmYWxzZTtcbiAgICAgIHJlbW92ZUFsbEdsb2JhbExpc3RlbmVycygpO1xuICAgICAgaWYgKG9uSG92ZXJFbmQpIG9uSG92ZXJFbmQoe1xuICAgICAgICB0eXBlOiBcImhvdmVyZW5kXCIsXG4gICAgICAgIHRhcmdldCxcbiAgICAgICAgcG9pbnRlclR5cGVcbiAgICAgIH0pO1xuICAgICAgaWYgKG9uSG92ZXJDaGFuZ2UpIG9uSG92ZXJDaGFuZ2UoZmFsc2UpO1xuICAgICAgc2V0SG92ZXJlZChmYWxzZSk7XG4gICAgfTtcbiAgICBsZXQgaG92ZXJQcm9wczIgPSB7fTtcbiAgICBpZiAodHlwZW9mIFBvaW50ZXJFdmVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgaG92ZXJQcm9wczIub25Qb2ludGVyRW50ZXIgPSAoZTIpID0+IHtcbiAgICAgICAgaWYgKCQ2MTc5YjkzNjcwNWU3NmQzJHZhciRnbG9iYWxJZ25vcmVFbXVsYXRlZE1vdXNlRXZlbnRzICYmIGUyLnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIpIHJldHVybjtcbiAgICAgICAgdHJpZ2dlckhvdmVyU3RhcnQoZTIsIGUyLnBvaW50ZXJUeXBlKTtcbiAgICAgIH07XG4gICAgICBob3ZlclByb3BzMi5vblBvaW50ZXJMZWF2ZSA9IChlMikgPT4ge1xuICAgICAgICBpZiAoIWlzRGlzYWJsZWQgJiYgZTIuY3VycmVudFRhcmdldC5jb250YWlucyhlMi50YXJnZXQpKSB0cmlnZ2VySG92ZXJFbmQyKGUyLCBlMi5wb2ludGVyVHlwZSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwidGVzdFwiKSB7XG4gICAgICBob3ZlclByb3BzMi5vblRvdWNoU3RhcnQgPSAoKSA9PiB7XG4gICAgICAgIHN0YXRlLmlnbm9yZUVtdWxhdGVkTW91c2VFdmVudHMgPSB0cnVlO1xuICAgICAgfTtcbiAgICAgIGhvdmVyUHJvcHMyLm9uTW91c2VFbnRlciA9IChlMikgPT4ge1xuICAgICAgICBpZiAoIXN0YXRlLmlnbm9yZUVtdWxhdGVkTW91c2VFdmVudHMgJiYgISQ2MTc5YjkzNjcwNWU3NmQzJHZhciRnbG9iYWxJZ25vcmVFbXVsYXRlZE1vdXNlRXZlbnRzKSB0cmlnZ2VySG92ZXJTdGFydChlMiwgXCJtb3VzZVwiKTtcbiAgICAgICAgc3RhdGUuaWdub3JlRW11bGF0ZWRNb3VzZUV2ZW50cyA9IGZhbHNlO1xuICAgICAgfTtcbiAgICAgIGhvdmVyUHJvcHMyLm9uTW91c2VMZWF2ZSA9IChlMikgPT4ge1xuICAgICAgICBpZiAoIWlzRGlzYWJsZWQgJiYgZTIuY3VycmVudFRhcmdldC5jb250YWlucyhlMi50YXJnZXQpKSB0cmlnZ2VySG92ZXJFbmQyKGUyLCBcIm1vdXNlXCIpO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGhvdmVyUHJvcHM6IGhvdmVyUHJvcHMyLFxuICAgICAgdHJpZ2dlckhvdmVyRW5kOiB0cmlnZ2VySG92ZXJFbmQyXG4gICAgfTtcbiAgfSwgW1xuICAgIG9uSG92ZXJTdGFydCxcbiAgICBvbkhvdmVyQ2hhbmdlLFxuICAgIG9uSG92ZXJFbmQsXG4gICAgaXNEaXNhYmxlZCxcbiAgICBzdGF0ZSxcbiAgICBhZGRHbG9iYWxMaXN0ZW5lcixcbiAgICByZW1vdmVBbGxHbG9iYWxMaXN0ZW5lcnNcbiAgXSk7XG4gIHkkNigoKSA9PiB7XG4gICAgaWYgKGlzRGlzYWJsZWQpIHRyaWdnZXJIb3ZlckVuZCh7XG4gICAgICBjdXJyZW50VGFyZ2V0OiBzdGF0ZS50YXJnZXRcbiAgICB9LCBzdGF0ZS5wb2ludGVyVHlwZSk7XG4gIH0sIFtcbiAgICBpc0Rpc2FibGVkXG4gIF0pO1xuICByZXR1cm4ge1xuICAgIGhvdmVyUHJvcHMsXG4gICAgaXNIb3ZlcmVkXG4gIH07XG59XG5mdW5jdGlvbiAkZjdkY2VmZmM1YWQ3NzY4YiRleHBvcnQkNGUzMjhmNjFjNTM4Njg3Zihwcm9wcyA9IHt9KSB7XG4gIGxldCB7IGF1dG9Gb2N1cyA9IGZhbHNlLCBpc1RleHRJbnB1dCwgd2l0aGluIH0gPSBwcm9wcztcbiAgbGV0IHN0YXRlID0gQSQzKHtcbiAgICBpc0ZvY3VzZWQ6IGZhbHNlLFxuICAgIGlzRm9jdXNWaXNpYmxlOiBhdXRvRm9jdXMgfHwgJDUwN2ZhYmUxMGU3MWM2ZmIkZXhwb3J0JGI5YjNkZmRkYWIxN2RiMjcoKVxuICB9KTtcbiAgbGV0IFtpc0ZvY3VzZWQsIHNldEZvY3VzZWRdID0gZCQ0KGZhbHNlKTtcbiAgbGV0IFtpc0ZvY3VzVmlzaWJsZVN0YXRlLCBzZXRGb2N1c1Zpc2libGVdID0gZCQ0KCgpID0+IHN0YXRlLmN1cnJlbnQuaXNGb2N1c2VkICYmIHN0YXRlLmN1cnJlbnQuaXNGb2N1c1Zpc2libGUpO1xuICBsZXQgdXBkYXRlU3RhdGUgPSBxJDMoKCkgPT4gc2V0Rm9jdXNWaXNpYmxlKHN0YXRlLmN1cnJlbnQuaXNGb2N1c2VkICYmIHN0YXRlLmN1cnJlbnQuaXNGb2N1c1Zpc2libGUpLCBbXSk7XG4gIGxldCBvbkZvY3VzQ2hhbmdlID0gcSQzKChpc0ZvY3VzZWQyKSA9PiB7XG4gICAgc3RhdGUuY3VycmVudC5pc0ZvY3VzZWQgPSBpc0ZvY3VzZWQyO1xuICAgIHNldEZvY3VzZWQoaXNGb2N1c2VkMik7XG4gICAgdXBkYXRlU3RhdGUoKTtcbiAgfSwgW1xuICAgIHVwZGF0ZVN0YXRlXG4gIF0pO1xuICAkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkZWM3MWI0YjgzYWMwOGVjMygoaXNGb2N1c1Zpc2libGUpID0+IHtcbiAgICBzdGF0ZS5jdXJyZW50LmlzRm9jdXNWaXNpYmxlID0gaXNGb2N1c1Zpc2libGU7XG4gICAgdXBkYXRlU3RhdGUoKTtcbiAgfSwgW10sIHtcbiAgICBpc1RleHRJbnB1dFxuICB9KTtcbiAgbGV0IHsgZm9jdXNQcm9wcyB9ID0gJGExZWE1OWQ2ODI3MGYwZGQkZXhwb3J0JGY4MTY4ZDhkZDhmZDY2ZTYoe1xuICAgIGlzRGlzYWJsZWQ6IHdpdGhpbixcbiAgICBvbkZvY3VzQ2hhbmdlXG4gIH0pO1xuICBsZXQgeyBmb2N1c1dpdGhpblByb3BzIH0gPSAkOWFiOTQyNjJiZDAwNDdjNyRleHBvcnQkNDIwZTY4MjczMTY1ZjRlYyh7XG4gICAgaXNEaXNhYmxlZDogIXdpdGhpbixcbiAgICBvbkZvY3VzV2l0aGluQ2hhbmdlOiBvbkZvY3VzQ2hhbmdlXG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGlzRm9jdXNlZCxcbiAgICBpc0ZvY3VzVmlzaWJsZTogaXNGb2N1c1Zpc2libGVTdGF0ZSxcbiAgICBmb2N1c1Byb3BzOiB3aXRoaW4gPyBmb2N1c1dpdGhpblByb3BzIDogZm9jdXNQcm9wc1xuICB9O1xufVxudmFyIGkkNiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBkJDMgPSAodDIsIGUyLCBuMikgPT4gZTIgaW4gdDIgPyBpJDYodDIsIGUyLCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOiBuMiB9KSA6IHQyW2UyXSA9IG4yO1xudmFyIHIkMiA9ICh0MiwgZTIsIG4yKSA9PiAoZCQzKHQyLCB0eXBlb2YgZTIgIT0gXCJzeW1ib2xcIiA/IGUyICsgXCJcIiA6IGUyLCBuMiksIG4yKTtcbmxldCBvJDcgPSBjbGFzcyBvIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgciQyKHRoaXMsIFwiY3VycmVudFwiLCB0aGlzLmRldGVjdCgpKTtcbiAgICByJDIodGhpcywgXCJoYW5kb2ZmU3RhdGVcIiwgXCJwZW5kaW5nXCIpO1xuICAgIHIkMih0aGlzLCBcImN1cnJlbnRJZFwiLCAwKTtcbiAgfVxuICBzZXQoZTIpIHtcbiAgICB0aGlzLmN1cnJlbnQgIT09IGUyICYmICh0aGlzLmhhbmRvZmZTdGF0ZSA9IFwicGVuZGluZ1wiLCB0aGlzLmN1cnJlbnRJZCA9IDAsIHRoaXMuY3VycmVudCA9IGUyKTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLnNldCh0aGlzLmRldGVjdCgpKTtcbiAgfVxuICBuZXh0SWQoKSB7XG4gICAgcmV0dXJuICsrdGhpcy5jdXJyZW50SWQ7XG4gIH1cbiAgZ2V0IGlzU2VydmVyKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnQgPT09IFwic2VydmVyXCI7XG4gIH1cbiAgZ2V0IGlzQ2xpZW50KCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnQgPT09IFwiY2xpZW50XCI7XG4gIH1cbiAgZGV0ZWN0KCkge1xuICAgIHJldHVybiB0eXBlb2Ygd2luZG93ID09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIGRvY3VtZW50ID09IFwidW5kZWZpbmVkXCIgPyBcInNlcnZlclwiIDogXCJjbGllbnRcIjtcbiAgfVxuICBoYW5kb2ZmKCkge1xuICAgIHRoaXMuaGFuZG9mZlN0YXRlID09PSBcInBlbmRpbmdcIiAmJiAodGhpcy5oYW5kb2ZmU3RhdGUgPSBcImNvbXBsZXRlXCIpO1xuICB9XG4gIGdldCBpc0hhbmRvZmZDb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5oYW5kb2ZmU3RhdGUgPT09IFwiY29tcGxldGVcIjtcbiAgfVxufTtcbmxldCBzJDcgPSBuZXcgbyQ3KCk7XG5mdW5jdGlvbiBvJDYobjIpIHtcbiAgdmFyIGUyLCByMjtcbiAgcmV0dXJuIHMkNy5pc1NlcnZlciA/IG51bGwgOiBuMiA/IFwib3duZXJEb2N1bWVudFwiIGluIG4yID8gbjIub3duZXJEb2N1bWVudCA6IFwiY3VycmVudFwiIGluIG4yID8gKHIyID0gKGUyID0gbjIuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IGUyLm93bmVyRG9jdW1lbnQpICE9IG51bGwgPyByMiA6IGRvY3VtZW50IDogbnVsbCA6IGRvY3VtZW50O1xufVxuZnVuY3Rpb24gdCQzKGUyKSB7XG4gIHR5cGVvZiBxdWV1ZU1pY3JvdGFzayA9PSBcImZ1bmN0aW9uXCIgPyBxdWV1ZU1pY3JvdGFzayhlMikgOiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGUyKS5jYXRjaCgobzMpID0+IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHRocm93IG8zO1xuICB9KSk7XG59XG5mdW5jdGlvbiBvJDUoKSB7XG4gIGxldCBuMiA9IFtdLCByMiA9IHsgYWRkRXZlbnRMaXN0ZW5lcihlMiwgdDIsIHMyLCBhMykge1xuICAgIHJldHVybiBlMi5hZGRFdmVudExpc3RlbmVyKHQyLCBzMiwgYTMpLCByMi5hZGQoKCkgPT4gZTIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0MiwgczIsIGEzKSk7XG4gIH0sIHJlcXVlc3RBbmltYXRpb25GcmFtZSguLi5lMikge1xuICAgIGxldCB0MiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSguLi5lMik7XG4gICAgcmV0dXJuIHIyLmFkZCgoKSA9PiBjYW5jZWxBbmltYXRpb25GcmFtZSh0MikpO1xuICB9LCBuZXh0RnJhbWUoLi4uZTIpIHtcbiAgICByZXR1cm4gcjIucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHIyLnJlcXVlc3RBbmltYXRpb25GcmFtZSguLi5lMikpO1xuICB9LCBzZXRUaW1lb3V0KC4uLmUyKSB7XG4gICAgbGV0IHQyID0gc2V0VGltZW91dCguLi5lMik7XG4gICAgcmV0dXJuIHIyLmFkZCgoKSA9PiBjbGVhclRpbWVvdXQodDIpKTtcbiAgfSwgbWljcm9UYXNrKC4uLmUyKSB7XG4gICAgbGV0IHQyID0geyBjdXJyZW50OiB0cnVlIH07XG4gICAgcmV0dXJuIHQkMygoKSA9PiB7XG4gICAgICB0Mi5jdXJyZW50ICYmIGUyWzBdKCk7XG4gICAgfSksIHIyLmFkZCgoKSA9PiB7XG4gICAgICB0Mi5jdXJyZW50ID0gZmFsc2U7XG4gICAgfSk7XG4gIH0sIHN0eWxlKGUyLCB0MiwgczIpIHtcbiAgICBsZXQgYTMgPSBlMi5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHQyKTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihlMi5zdHlsZSwgeyBbdDJdOiBzMiB9KSwgdGhpcy5hZGQoKCkgPT4ge1xuICAgICAgT2JqZWN0LmFzc2lnbihlMi5zdHlsZSwgeyBbdDJdOiBhMyB9KTtcbiAgICB9KTtcbiAgfSwgZ3JvdXAoZTIpIHtcbiAgICBsZXQgdDIgPSBvJDUoKTtcbiAgICByZXR1cm4gZTIodDIpLCB0aGlzLmFkZCgoKSA9PiB0Mi5kaXNwb3NlKCkpO1xuICB9LCBhZGQoZTIpIHtcbiAgICByZXR1cm4gbjIuaW5jbHVkZXMoZTIpIHx8IG4yLnB1c2goZTIpLCAoKSA9PiB7XG4gICAgICBsZXQgdDIgPSBuMi5pbmRleE9mKGUyKTtcbiAgICAgIGlmICh0MiA+PSAwKSBmb3IgKGxldCBzMiBvZiBuMi5zcGxpY2UodDIsIDEpKSBzMigpO1xuICAgIH07XG4gIH0sIGRpc3Bvc2UoKSB7XG4gICAgZm9yIChsZXQgZTIgb2YgbjIuc3BsaWNlKDApKSBlMigpO1xuICB9IH07XG4gIHJldHVybiByMjtcbn1cbmZ1bmN0aW9uIHAkMigpIHtcbiAgbGV0IFtlMl0gPSBkJDQobyQ1KTtcbiAgcmV0dXJuIHkkNigoKSA9PiAoKSA9PiBlMi5kaXNwb3NlKCksIFtlMl0pLCBlMjtcbn1cbmxldCBuJDMgPSAoZTIsIHQyKSA9PiB7XG4gIHMkNy5pc1NlcnZlciA/IHkkNihlMiwgdDIpIDogXyQzKGUyLCB0Mik7XG59O1xuZnVuY3Rpb24gcyQ2KGUyKSB7XG4gIGxldCByMiA9IEEkMyhlMik7XG4gIHJldHVybiBuJDMoKCkgPT4ge1xuICAgIHIyLmN1cnJlbnQgPSBlMjtcbiAgfSwgW2UyXSksIHIyO1xufVxubGV0IG8kNCA9IGZ1bmN0aW9uKHQyKSB7XG4gIGxldCBlMiA9IHMkNih0Mik7XG4gIHJldHVybiBSbi51c2VDYWxsYmFjaygoLi4ucjIpID0+IGUyLmN1cnJlbnQoLi4ucjIpLCBbZTJdKTtcbn07XG5mdW5jdGlvbiBFJDEoZTIpIHtcbiAgbGV0IHQyID0gZTIud2lkdGggLyAyLCBuMiA9IGUyLmhlaWdodCAvIDI7XG4gIHJldHVybiB7IHRvcDogZTIuY2xpZW50WSAtIG4yLCByaWdodDogZTIuY2xpZW50WCArIHQyLCBib3R0b206IGUyLmNsaWVudFkgKyBuMiwgbGVmdDogZTIuY2xpZW50WCAtIHQyIH07XG59XG5mdW5jdGlvbiBQJDMoZTIsIHQyKSB7XG4gIHJldHVybiAhKCFlMiB8fCAhdDIgfHwgZTIucmlnaHQgPCB0Mi5sZWZ0IHx8IGUyLmxlZnQgPiB0Mi5yaWdodCB8fCBlMi5ib3R0b20gPCB0Mi50b3AgfHwgZTIudG9wID4gdDIuYm90dG9tKTtcbn1cbmZ1bmN0aW9uIHckMih7IGRpc2FibGVkOiBlMiA9IGZhbHNlIH0gPSB7fSkge1xuICBsZXQgdDIgPSBBJDMobnVsbCksIFtuMiwgbDJdID0gZCQ0KGZhbHNlKSwgcjIgPSBwJDIoKSwgbzMgPSBvJDQoKCkgPT4ge1xuICAgIHQyLmN1cnJlbnQgPSBudWxsLCBsMihmYWxzZSksIHIyLmRpc3Bvc2UoKTtcbiAgfSksIGYyID0gbyQ0KChzMikgPT4ge1xuICAgIGlmIChyMi5kaXNwb3NlKCksIHQyLmN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgIHQyLmN1cnJlbnQgPSBzMi5jdXJyZW50VGFyZ2V0LCBsMih0cnVlKTtcbiAgICAgIHtcbiAgICAgICAgbGV0IGkyID0gbyQ2KHMyLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICByMi5hZGRFdmVudExpc3RlbmVyKGkyLCBcInBvaW50ZXJ1cFwiLCBvMywgZmFsc2UpLCByMi5hZGRFdmVudExpc3RlbmVyKGkyLCBcInBvaW50ZXJtb3ZlXCIsIChjMikgPT4ge1xuICAgICAgICAgIGlmICh0Mi5jdXJyZW50KSB7XG4gICAgICAgICAgICBsZXQgcDIgPSBFJDEoYzIpO1xuICAgICAgICAgICAgbDIoUCQzKHAyLCB0Mi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmYWxzZSksIHIyLmFkZEV2ZW50TGlzdGVuZXIoaTIsIFwicG9pbnRlcmNhbmNlbFwiLCBvMywgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiB7IHByZXNzZWQ6IG4yLCBwcmVzc1Byb3BzOiBlMiA/IHt9IDogeyBvblBvaW50ZXJEb3duOiBmMiwgb25Qb2ludGVyVXA6IG8zLCBvbkNsaWNrOiBvMyB9IH07XG59XG5sZXQgZSQzID0gSyQzKHZvaWQgMCk7XG5mdW5jdGlvbiBhJDkoKSB7XG4gIHJldHVybiB4JDQoZSQzKTtcbn1cbmZ1bmN0aW9uIHQkMiguLi5yMikge1xuICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KHIyLmZsYXRNYXAoKG4yKSA9PiB0eXBlb2YgbjIgPT0gXCJzdHJpbmdcIiA/IG4yLnNwbGl0KFwiIFwiKSA6IFtdKSkpLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKTtcbn1cbmZ1bmN0aW9uIHUkNyhyMiwgbjIsIC4uLmEzKSB7XG4gIGlmIChyMiBpbiBuMikge1xuICAgIGxldCBlMiA9IG4yW3IyXTtcbiAgICByZXR1cm4gdHlwZW9mIGUyID09IFwiZnVuY3Rpb25cIiA/IGUyKC4uLmEzKSA6IGUyO1xuICB9XG4gIGxldCB0MiA9IG5ldyBFcnJvcihgVHJpZWQgdG8gaGFuZGxlIFwiJHtyMn1cIiBidXQgdGhlcmUgaXMgbm8gaGFuZGxlciBkZWZpbmVkLiBPbmx5IGRlZmluZWQgaGFuZGxlcnMgYXJlOiAke09iamVjdC5rZXlzKG4yKS5tYXAoKGUyKSA9PiBgXCIke2UyfVwiYCkuam9pbihcIiwgXCIpfS5gKTtcbiAgdGhyb3cgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgJiYgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodDIsIHUkNyksIHQyO1xufVxudmFyIE8kMSA9ICgoYTMpID0+IChhM1thMy5Ob25lID0gMF0gPSBcIk5vbmVcIiwgYTNbYTMuUmVuZGVyU3RyYXRlZ3kgPSAxXSA9IFwiUmVuZGVyU3RyYXRlZ3lcIiwgYTNbYTMuU3RhdGljID0gMl0gPSBcIlN0YXRpY1wiLCBhMykpKE8kMSB8fCB7fSksIEEkMSA9ICgoZTIpID0+IChlMltlMi5Vbm1vdW50ID0gMF0gPSBcIlVubW91bnRcIiwgZTJbZTIuSGlkZGVuID0gMV0gPSBcIkhpZGRlblwiLCBlMikpKEEkMSB8fCB7fSk7XG5mdW5jdGlvbiBMJDIoKSB7XG4gIGxldCBuMiA9IFUkMigpO1xuICByZXR1cm4gcSQzKChyMikgPT4gQyQyKHsgbWVyZ2VSZWZzOiBuMiwgLi4ucjIgfSksIFtuMl0pO1xufVxuZnVuY3Rpb24gQyQyKHsgb3VyUHJvcHM6IG4yLCB0aGVpclByb3BzOiByMiwgc2xvdDogZTIsIGRlZmF1bHRUYWc6IGEzLCBmZWF0dXJlczogczIsIHZpc2libGU6IHQyID0gdHJ1ZSwgbmFtZTogbDIsIG1lcmdlUmVmczogaTIgfSkge1xuICBpMiA9IGkyICE9IG51bGwgPyBpMiA6ICQ7XG4gIGxldCBvMyA9IFAkMihyMiwgbjIpO1xuICBpZiAodDIpIHJldHVybiBGJDMobzMsIGUyLCBhMywgbDIsIGkyKTtcbiAgbGV0IHkyID0gczIgIT0gbnVsbCA/IHMyIDogMDtcbiAgaWYgKHkyICYgMikge1xuICAgIGxldCB7IHN0YXRpYzogZjIgPSBmYWxzZSwgLi4udTIgfSA9IG8zO1xuICAgIGlmIChmMikgcmV0dXJuIEYkMyh1MiwgZTIsIGEzLCBsMiwgaTIpO1xuICB9XG4gIGlmICh5MiAmIDEpIHtcbiAgICBsZXQgeyB1bm1vdW50OiBmMiA9IHRydWUsIC4uLnUyIH0gPSBvMztcbiAgICByZXR1cm4gdSQ3KGYyID8gMCA6IDEsIHsgWzBdKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSwgWzFdKCkge1xuICAgICAgcmV0dXJuIEYkMyh7IC4uLnUyLCBoaWRkZW46IHRydWUsIHN0eWxlOiB7IGRpc3BsYXk6IFwibm9uZVwiIH0gfSwgZTIsIGEzLCBsMiwgaTIpO1xuICAgIH0gfSk7XG4gIH1cbiAgcmV0dXJuIEYkMyhvMywgZTIsIGEzLCBsMiwgaTIpO1xufVxuZnVuY3Rpb24gRiQzKG4yLCByMiA9IHt9LCBlMiwgYTMsIHMyKSB7XG4gIGxldCB7IGFzOiB0MiA9IGUyLCBjaGlsZHJlbjogbDIsIHJlZk5hbWU6IGkyID0gXCJyZWZcIiwgLi4ubzMgfSA9IGgkNChuMiwgW1widW5tb3VudFwiLCBcInN0YXRpY1wiXSksIHkyID0gbjIucmVmICE9PSB2b2lkIDAgPyB7IFtpMl06IG4yLnJlZiB9IDoge30sIGYyID0gdHlwZW9mIGwyID09IFwiZnVuY3Rpb25cIiA/IGwyKHIyKSA6IGwyO1xuICBcImNsYXNzTmFtZVwiIGluIG8zICYmIG8zLmNsYXNzTmFtZSAmJiB0eXBlb2YgbzMuY2xhc3NOYW1lID09IFwiZnVuY3Rpb25cIiAmJiAobzMuY2xhc3NOYW1lID0gbzMuY2xhc3NOYW1lKHIyKSksIG8zW1wiYXJpYS1sYWJlbGxlZGJ5XCJdICYmIG8zW1wiYXJpYS1sYWJlbGxlZGJ5XCJdID09PSBvMy5pZCAmJiAobzNbXCJhcmlhLWxhYmVsbGVkYnlcIl0gPSB2b2lkIDApO1xuICBsZXQgdTIgPSB7fTtcbiAgaWYgKHIyKSB7XG4gICAgbGV0IGQyID0gZmFsc2UsIHAyID0gW107XG4gICAgZm9yIChsZXQgW2MyLCBUMl0gb2YgT2JqZWN0LmVudHJpZXMocjIpKSB0eXBlb2YgVDIgPT0gXCJib29sZWFuXCIgJiYgKGQyID0gdHJ1ZSksIFQyID09PSB0cnVlICYmIHAyLnB1c2goYzIucmVwbGFjZSgvKFtBLVpdKS9nLCAoZzIpID0+IGAtJHtnMi50b0xvd2VyQ2FzZSgpfWApKTtcbiAgICBpZiAoZDIpIHtcbiAgICAgIHUyW1wiZGF0YS1oZWFkbGVzc3VpLXN0YXRlXCJdID0gcDIuam9pbihcIiBcIik7XG4gICAgICBmb3IgKGxldCBjMiBvZiBwMikgdTJbYGRhdGEtJHtjMn1gXSA9IFwiXCI7XG4gICAgfVxuICB9XG4gIGlmICh0MiA9PT0gayQzICYmIChPYmplY3Qua2V5cyhtJDQobzMpKS5sZW5ndGggPiAwIHx8IE9iamVjdC5rZXlzKG0kNCh1MikpLmxlbmd0aCA+IDApKSBpZiAoIW1uKGYyKSB8fCBBcnJheS5pc0FycmF5KGYyKSAmJiBmMi5sZW5ndGggPiAxKSB7XG4gICAgaWYgKE9iamVjdC5rZXlzKG0kNChvMykpLmxlbmd0aCA+IDApIHRocm93IG5ldyBFcnJvcihbJ1Bhc3NpbmcgcHJvcHMgb24gXCJGcmFnbWVudFwiIScsIFwiXCIsIGBUaGUgY3VycmVudCBjb21wb25lbnQgPCR7YTN9IC8+IGlzIHJlbmRlcmluZyBhIFwiRnJhZ21lbnRcIi5gLCBcIkhvd2V2ZXIgd2UgbmVlZCB0byBwYXNzdGhyb3VnaCB0aGUgZm9sbG93aW5nIHByb3BzOlwiLCBPYmplY3Qua2V5cyhtJDQobzMpKS5jb25jYXQoT2JqZWN0LmtleXMobSQ0KHUyKSkpLm1hcCgoZDIpID0+IGAgIC0gJHtkMn1gKS5qb2luKGBcbmApLCBcIlwiLCBcIllvdSBjYW4gYXBwbHkgYSBmZXcgc29sdXRpb25zOlwiLCBbJ0FkZCBhbiBgYXM9XCIuLi5cImAgcHJvcCwgdG8gZW5zdXJlIHRoYXQgd2UgcmVuZGVyIGFuIGFjdHVhbCBlbGVtZW50IGluc3RlYWQgb2YgYSBcIkZyYWdtZW50XCIuJywgXCJSZW5kZXIgYSBzaW5nbGUgZWxlbWVudCBhcyB0aGUgY2hpbGQgc28gdGhhdCB3ZSBjYW4gZm9yd2FyZCB0aGUgcHJvcHMgb250byB0aGF0IGVsZW1lbnQuXCJdLm1hcCgoZDIpID0+IGAgIC0gJHtkMn1gKS5qb2luKGBcbmApXS5qb2luKGBcbmApKTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgZDIgPSBmMi5wcm9wcywgcDIgPSBkMiA9PSBudWxsID8gdm9pZCAwIDogZDIuY2xhc3NOYW1lLCBjMiA9IHR5cGVvZiBwMiA9PSBcImZ1bmN0aW9uXCIgPyAoLi4uUjIpID0+IHQkMihwMiguLi5SMiksIG8zLmNsYXNzTmFtZSkgOiB0JDIocDIsIG8zLmNsYXNzTmFtZSksIFQyID0gYzIgPyB7IGNsYXNzTmFtZTogYzIgfSA6IHt9LCBnMiA9IFAkMihmMi5wcm9wcywgbSQ0KGgkNChvMywgW1wicmVmXCJdKSkpO1xuICAgIGZvciAobGV0IFIyIGluIHUyKSBSMiBpbiBnMiAmJiBkZWxldGUgdTJbUjJdO1xuICAgIHJldHVybiBfbihmMiwgT2JqZWN0LmFzc2lnbih7fSwgZzIsIHUyLCB5MiwgeyByZWY6IHMyKEgkNChmMiksIHkyLnJlZikgfSwgVDIpKTtcbiAgfVxuICByZXR1cm4gXyQ0KHQyLCBPYmplY3QuYXNzaWduKHt9LCBoJDQobzMsIFtcInJlZlwiXSksIHQyICE9PSBrJDMgJiYgeTIsIHQyICE9PSBrJDMgJiYgdTIpLCBmMik7XG59XG5mdW5jdGlvbiBVJDIoKSB7XG4gIGxldCBuMiA9IEEkMyhbXSksIHIyID0gcSQzKChlMikgPT4ge1xuICAgIGZvciAobGV0IGEzIG9mIG4yLmN1cnJlbnQpIGEzICE9IG51bGwgJiYgKHR5cGVvZiBhMyA9PSBcImZ1bmN0aW9uXCIgPyBhMyhlMikgOiBhMy5jdXJyZW50ID0gZTIpO1xuICB9LCBbXSk7XG4gIHJldHVybiAoLi4uZTIpID0+IHtcbiAgICBpZiAoIWUyLmV2ZXJ5KChhMykgPT4gYTMgPT0gbnVsbCkpIHJldHVybiBuMi5jdXJyZW50ID0gZTIsIHIyO1xuICB9O1xufVxuZnVuY3Rpb24gJCguLi5uMikge1xuICByZXR1cm4gbjIuZXZlcnkoKHIyKSA9PiByMiA9PSBudWxsKSA/IHZvaWQgMCA6IChyMikgPT4ge1xuICAgIGZvciAobGV0IGUyIG9mIG4yKSBlMiAhPSBudWxsICYmICh0eXBlb2YgZTIgPT0gXCJmdW5jdGlvblwiID8gZTIocjIpIDogZTIuY3VycmVudCA9IHIyKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIFAkMiguLi5uMikge1xuICBpZiAobjIubGVuZ3RoID09PSAwKSByZXR1cm4ge307XG4gIGlmIChuMi5sZW5ndGggPT09IDEpIHJldHVybiBuMlswXTtcbiAgbGV0IHIyID0ge30sIGUyID0ge307XG4gIGZvciAobGV0IHMyIG9mIG4yKSBmb3IgKGxldCB0MiBpbiBzMikgdDIuc3RhcnRzV2l0aChcIm9uXCIpICYmIHR5cGVvZiBzMlt0Ml0gPT0gXCJmdW5jdGlvblwiID8gKGUyW3QyXSAhPSBudWxsIHx8IChlMlt0Ml0gPSBbXSksIGUyW3QyXS5wdXNoKHMyW3QyXSkpIDogcjJbdDJdID0gczJbdDJdO1xuICBpZiAocjIuZGlzYWJsZWQgfHwgcjJbXCJhcmlhLWRpc2FibGVkXCJdKSBmb3IgKGxldCBzMiBpbiBlMikgL14ob24oPzpDbGlja3xQb2ludGVyfE1vdXNlfEtleSkoPzpEb3dufFVwfFByZXNzKT8pJC8udGVzdChzMikgJiYgKGUyW3MyXSA9IFsodDIpID0+IHtcbiAgICB2YXIgbDI7XG4gICAgcmV0dXJuIChsMiA9IHQyID09IG51bGwgPyB2b2lkIDAgOiB0Mi5wcmV2ZW50RGVmYXVsdCkgPT0gbnVsbCA/IHZvaWQgMCA6IGwyLmNhbGwodDIpO1xuICB9XSk7XG4gIGZvciAobGV0IHMyIGluIGUyKSBPYmplY3QuYXNzaWduKHIyLCB7IFtzMl0odDIsIC4uLmwyKSB7XG4gICAgbGV0IGkyID0gZTJbczJdO1xuICAgIGZvciAobGV0IG8zIG9mIGkyKSB7XG4gICAgICBpZiAoKHQyIGluc3RhbmNlb2YgRXZlbnQgfHwgKHQyID09IG51bGwgPyB2b2lkIDAgOiB0Mi5uYXRpdmVFdmVudCkgaW5zdGFuY2VvZiBFdmVudCkgJiYgdDIuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuO1xuICAgICAgbzModDIsIC4uLmwyKTtcbiAgICB9XG4gIH0gfSk7XG4gIHJldHVybiByMjtcbn1cbmZ1bmN0aW9uIF8kMiguLi5uMikge1xuICBpZiAobjIubGVuZ3RoID09PSAwKSByZXR1cm4ge307XG4gIGlmIChuMi5sZW5ndGggPT09IDEpIHJldHVybiBuMlswXTtcbiAgbGV0IHIyID0ge30sIGUyID0ge307XG4gIGZvciAobGV0IHMyIG9mIG4yKSBmb3IgKGxldCB0MiBpbiBzMikgdDIuc3RhcnRzV2l0aChcIm9uXCIpICYmIHR5cGVvZiBzMlt0Ml0gPT0gXCJmdW5jdGlvblwiID8gKGUyW3QyXSAhPSBudWxsIHx8IChlMlt0Ml0gPSBbXSksIGUyW3QyXS5wdXNoKHMyW3QyXSkpIDogcjJbdDJdID0gczJbdDJdO1xuICBmb3IgKGxldCBzMiBpbiBlMikgT2JqZWN0LmFzc2lnbihyMiwgeyBbczJdKC4uLnQyKSB7XG4gICAgbGV0IGwyID0gZTJbczJdO1xuICAgIGZvciAobGV0IGkyIG9mIGwyKSBpMiA9PSBudWxsIHx8IGkyKC4uLnQyKTtcbiAgfSB9KTtcbiAgcmV0dXJuIHIyO1xufVxuZnVuY3Rpb24gSyQxKG4yKSB7XG4gIHZhciByMjtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oRCQxKG4yKSwgeyBkaXNwbGF5TmFtZTogKHIyID0gbjIuZGlzcGxheU5hbWUpICE9IG51bGwgPyByMiA6IG4yLm5hbWUgfSk7XG59XG5mdW5jdGlvbiBtJDQobjIpIHtcbiAgbGV0IHIyID0gT2JqZWN0LmFzc2lnbih7fSwgbjIpO1xuICBmb3IgKGxldCBlMiBpbiByMikgcjJbZTJdID09PSB2b2lkIDAgJiYgZGVsZXRlIHIyW2UyXTtcbiAgcmV0dXJuIHIyO1xufVxuZnVuY3Rpb24gaCQ0KG4yLCByMiA9IFtdKSB7XG4gIGxldCBlMiA9IE9iamVjdC5hc3NpZ24oe30sIG4yKTtcbiAgZm9yIChsZXQgYTMgb2YgcjIpIGEzIGluIGUyICYmIGRlbGV0ZSBlMlthM107XG4gIHJldHVybiBlMjtcbn1cbmZ1bmN0aW9uIEgkNChuMikge1xuICByZXR1cm4gUm4udmVyc2lvbi5zcGxpdChcIi5cIilbMF0gPj0gXCIxOVwiID8gbjIucHJvcHMucmVmIDogbjIucmVmO1xufVxubGV0IFIkMiA9IFwiYnV0dG9uXCI7XG5mdW5jdGlvbiB2JDEoYTMsIHUyKSB7XG4gIHZhciBwMjtcbiAgbGV0IGwyID0gYSQ5KCksIHsgZGlzYWJsZWQ6IGUyID0gbDIgfHwgZmFsc2UsIGF1dG9Gb2N1czogdDIgPSBmYWxzZSwgLi4ubzMgfSA9IGEzLCB7IGlzRm9jdXNWaXNpYmxlOiByMiwgZm9jdXNQcm9wczogaTIgfSA9ICRmN2RjZWZmYzVhZDc3NjhiJGV4cG9ydCQ0ZTMyOGY2MWM1Mzg2ODdmKHsgYXV0b0ZvY3VzOiB0MiB9KSwgeyBpc0hvdmVyZWQ6IHMyLCBob3ZlclByb3BzOiBUMiB9ID0gJDYxNzliOTM2NzA1ZTc2ZDMkZXhwb3J0JGFlNzgwZGFmMjllNmQ0NTYoeyBpc0Rpc2FibGVkOiBlMiB9KSwgeyBwcmVzc2VkOiBuMiwgcHJlc3NQcm9wczogZDIgfSA9IHckMih7IGRpc2FibGVkOiBlMiB9KSwgZjIgPSBfJDIoeyByZWY6IHUyLCB0eXBlOiAocDIgPSBvMy50eXBlKSAhPSBudWxsID8gcDIgOiBcImJ1dHRvblwiLCBkaXNhYmxlZDogZTIgfHwgdm9pZCAwLCBhdXRvRm9jdXM6IHQyIH0sIGkyLCBUMiwgZDIpLCBtMiA9IFQkNSgoKSA9PiAoeyBkaXNhYmxlZDogZTIsIGhvdmVyOiBzMiwgZm9jdXM6IHIyLCBhY3RpdmU6IG4yLCBhdXRvZm9jdXM6IHQyIH0pLCBbZTIsIHMyLCByMiwgbjIsIHQyXSk7XG4gIHJldHVybiBMJDIoKSh7IG91clByb3BzOiBmMiwgdGhlaXJQcm9wczogbzMsIHNsb3Q6IG0yLCBkZWZhdWx0VGFnOiBSJDIsIG5hbWU6IFwiQnV0dG9uXCIgfSk7XG59XG5sZXQgSCQzID0gSyQxKHYkMSk7XG5sZXQgZSQyID0gSyQzKHZvaWQgMCk7XG5mdW5jdGlvbiB1JDYoKSB7XG4gIHJldHVybiB4JDQoZSQyKTtcbn1cbmZ1bmN0aW9uIHIkMShuMikge1xuICBsZXQgZTIgPSBuMi5wYXJlbnRFbGVtZW50LCBsMiA9IG51bGw7XG4gIGZvciAoOyBlMiAmJiAhKGUyIGluc3RhbmNlb2YgSFRNTEZpZWxkU2V0RWxlbWVudCk7ICkgZTIgaW5zdGFuY2VvZiBIVE1MTGVnZW5kRWxlbWVudCAmJiAobDIgPSBlMiksIGUyID0gZTIucGFyZW50RWxlbWVudDtcbiAgbGV0IHQyID0gKGUyID09IG51bGwgPyB2b2lkIDAgOiBlMi5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSkgPT09IFwiXCI7XG4gIHJldHVybiB0MiAmJiBpJDUobDIpID8gZmFsc2UgOiB0Mjtcbn1cbmZ1bmN0aW9uIGkkNShuMikge1xuICBpZiAoIW4yKSByZXR1cm4gZmFsc2U7XG4gIGxldCBlMiA9IG4yLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gIGZvciAoOyBlMiAhPT0gbnVsbDsgKSB7XG4gICAgaWYgKGUyIGluc3RhbmNlb2YgSFRNTExlZ2VuZEVsZW1lbnQpIHJldHVybiBmYWxzZTtcbiAgICBlMiA9IGUyLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5sZXQgdSQ1ID0gU3ltYm9sKCk7XG5mdW5jdGlvbiBUJDModDIsIG4yID0gdHJ1ZSkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih0MiwgeyBbdSQ1XTogbjIgfSk7XG59XG5mdW5jdGlvbiB5JDUoLi4udDIpIHtcbiAgbGV0IG4yID0gQSQzKHQyKTtcbiAgeSQ2KCgpID0+IHtcbiAgICBuMi5jdXJyZW50ID0gdDI7XG4gIH0sIFt0Ml0pO1xuICBsZXQgYzIgPSBvJDQoKGUyKSA9PiB7XG4gICAgZm9yIChsZXQgbzMgb2YgbjIuY3VycmVudCkgbzMgIT0gbnVsbCAmJiAodHlwZW9mIG8zID09IFwiZnVuY3Rpb25cIiA/IG8zKGUyKSA6IG8zLmN1cnJlbnQgPSBlMik7XG4gIH0pO1xuICByZXR1cm4gdDIuZXZlcnkoKGUyKSA9PiBlMiA9PSBudWxsIHx8IChlMiA9PSBudWxsID8gdm9pZCAwIDogZTJbdSQ1XSkpID8gdm9pZCAwIDogYzI7XG59XG5sZXQgYSQ4ID0gSyQzKG51bGwpO1xuYSQ4LmRpc3BsYXlOYW1lID0gXCJEZXNjcmlwdGlvbkNvbnRleHRcIjtcbmZ1bmN0aW9uIGYkNigpIHtcbiAgbGV0IHIyID0geCQ0KGEkOCk7XG4gIGlmIChyMiA9PT0gbnVsbCkge1xuICAgIGxldCBlMiA9IG5ldyBFcnJvcihcIllvdSB1c2VkIGEgPERlc2NyaXB0aW9uIC8+IGNvbXBvbmVudCwgYnV0IGl0IGlzIG5vdCBpbnNpZGUgYSByZWxldmFudCBwYXJlbnQuXCIpO1xuICAgIHRocm93IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlICYmIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGUyLCBmJDYpLCBlMjtcbiAgfVxuICByZXR1cm4gcjI7XG59XG5mdW5jdGlvbiBVJDEoKSB7XG4gIHZhciByMiwgZTI7XG4gIHJldHVybiAoZTIgPSAocjIgPSB4JDQoYSQ4KSkgPT0gbnVsbCA/IHZvaWQgMCA6IHIyLnZhbHVlKSAhPSBudWxsID8gZTIgOiB2b2lkIDA7XG59XG5mdW5jdGlvbiB3JDEoKSB7XG4gIGxldCBbcjIsIGUyXSA9IGQkNChbXSk7XG4gIHJldHVybiBbcjIubGVuZ3RoID4gMCA/IHIyLmpvaW4oXCIgXCIpIDogdm9pZCAwLCBUJDUoKCkgPT4gZnVuY3Rpb24odDIpIHtcbiAgICBsZXQgaTIgPSBvJDQoKG4yKSA9PiAoZTIoKHMyKSA9PiBbLi4uczIsIG4yXSksICgpID0+IGUyKChzMikgPT4ge1xuICAgICAgbGV0IG8zID0gczIuc2xpY2UoKSwgcDIgPSBvMy5pbmRleE9mKG4yKTtcbiAgICAgIHJldHVybiBwMiAhPT0gLTEgJiYgbzMuc3BsaWNlKHAyLCAxKSwgbzM7XG4gICAgfSkpKSwgbDIgPSBUJDUoKCkgPT4gKHsgcmVnaXN0ZXI6IGkyLCBzbG90OiB0Mi5zbG90LCBuYW1lOiB0Mi5uYW1lLCBwcm9wczogdDIucHJvcHMsIHZhbHVlOiB0Mi52YWx1ZSB9KSwgW2kyLCB0Mi5zbG90LCB0Mi5uYW1lLCB0Mi5wcm9wcywgdDIudmFsdWVdKTtcbiAgICByZXR1cm4gUm4uY3JlYXRlRWxlbWVudChhJDguUHJvdmlkZXIsIHsgdmFsdWU6IGwyIH0sIHQyLmNoaWxkcmVuKTtcbiAgfSwgW2UyXSldO1xufVxubGV0IFMkNCA9IFwicFwiO1xuZnVuY3Rpb24gQyQxKHIyLCBlMikge1xuICBsZXQgZDIgPSBnJDMoKSwgdDIgPSBhJDkoKSwgeyBpZDogaTIgPSBgaGVhZGxlc3N1aS1kZXNjcmlwdGlvbi0ke2QyfWAsIC4uLmwyIH0gPSByMiwgbjIgPSBmJDYoKSwgczIgPSB5JDUoZTIpO1xuICBuJDMoKCkgPT4gbjIucmVnaXN0ZXIoaTIpLCBbaTIsIG4yLnJlZ2lzdGVyXSk7XG4gIGxldCBvMyA9IHQyIHx8IGZhbHNlLCBwMiA9IFQkNSgoKSA9PiAoeyAuLi5uMi5zbG90LCBkaXNhYmxlZDogbzMgfSksIFtuMi5zbG90LCBvM10pLCBEMiA9IHsgcmVmOiBzMiwgLi4ubjIucHJvcHMsIGlkOiBpMiB9O1xuICByZXR1cm4gTCQyKCkoeyBvdXJQcm9wczogRDIsIHRoZWlyUHJvcHM6IGwyLCBzbG90OiBwMiwgZGVmYXVsdFRhZzogUyQ0LCBuYW1lOiBuMi5uYW1lIHx8IFwiRGVzY3JpcHRpb25cIiB9KTtcbn1cbmxldCBfJDEgPSBLJDEoQyQxKTtcbk9iamVjdC5hc3NpZ24oXyQxLCB7fSk7XG52YXIgbyQzID0gKChyMikgPT4gKHIyLlNwYWNlID0gXCIgXCIsIHIyLkVudGVyID0gXCJFbnRlclwiLCByMi5Fc2NhcGUgPSBcIkVzY2FwZVwiLCByMi5CYWNrc3BhY2UgPSBcIkJhY2tzcGFjZVwiLCByMi5EZWxldGUgPSBcIkRlbGV0ZVwiLCByMi5BcnJvd0xlZnQgPSBcIkFycm93TGVmdFwiLCByMi5BcnJvd1VwID0gXCJBcnJvd1VwXCIsIHIyLkFycm93UmlnaHQgPSBcIkFycm93UmlnaHRcIiwgcjIuQXJyb3dEb3duID0gXCJBcnJvd0Rvd25cIiwgcjIuSG9tZSA9IFwiSG9tZVwiLCByMi5FbmQgPSBcIkVuZFwiLCByMi5QYWdlVXAgPSBcIlBhZ2VVcFwiLCByMi5QYWdlRG93biA9IFwiUGFnZURvd25cIiwgcjIuVGFiID0gXCJUYWJcIiwgcjIpKShvJDMgfHwge30pO1xubGV0IGMkNSA9IEskMyhudWxsKTtcbmMkNS5kaXNwbGF5TmFtZSA9IFwiTGFiZWxDb250ZXh0XCI7XG5mdW5jdGlvbiBQJDEoKSB7XG4gIGxldCByMiA9IHgkNChjJDUpO1xuICBpZiAocjIgPT09IG51bGwpIHtcbiAgICBsZXQgbDIgPSBuZXcgRXJyb3IoXCJZb3UgdXNlZCBhIDxMYWJlbCAvPiBjb21wb25lbnQsIGJ1dCBpdCBpcyBub3QgaW5zaWRlIGEgcmVsZXZhbnQgcGFyZW50LlwiKTtcbiAgICB0aHJvdyBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSAmJiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShsMiwgUCQxKSwgbDI7XG4gIH1cbiAgcmV0dXJuIHIyO1xufVxuZnVuY3Rpb24gSSQyKHIyKSB7XG4gIHZhciBhMywgZTIsIG8zO1xuICBsZXQgbDIgPSAoZTIgPSAoYTMgPSB4JDQoYyQ1KSkgPT0gbnVsbCA/IHZvaWQgMCA6IGEzLnZhbHVlKSAhPSBudWxsID8gZTIgOiB2b2lkIDA7XG4gIHJldHVybiAoKG8zID0gdm9pZCAwKSAhPSBudWxsID8gbzMgOiAwKSA+IDAgPyBbbDIsIC4uLnIyXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIikgOiBsMjtcbn1cbmZ1bmN0aW9uIEsoeyBpbmhlcml0OiByMiA9IGZhbHNlIH0gPSB7fSkge1xuICBsZXQgbDIgPSBJJDIoKSwgW2EzLCBlMl0gPSBkJDQoW10pLCBvMyA9IHIyID8gW2wyLCAuLi5hM10uZmlsdGVyKEJvb2xlYW4pIDogYTM7XG4gIHJldHVybiBbbzMubGVuZ3RoID4gMCA/IG8zLmpvaW4oXCIgXCIpIDogdm9pZCAwLCBUJDUoKCkgPT4gZnVuY3Rpb24odDIpIHtcbiAgICBsZXQgczIgPSBvJDQoKGkyKSA9PiAoZTIoKHAyKSA9PiBbLi4ucDIsIGkyXSksICgpID0+IGUyKChwMikgPT4ge1xuICAgICAgbGV0IHUyID0gcDIuc2xpY2UoKSwgZDIgPSB1Mi5pbmRleE9mKGkyKTtcbiAgICAgIHJldHVybiBkMiAhPT0gLTEgJiYgdTIuc3BsaWNlKGQyLCAxKSwgdTI7XG4gICAgfSkpKSwgbTIgPSBUJDUoKCkgPT4gKHsgcmVnaXN0ZXI6IHMyLCBzbG90OiB0Mi5zbG90LCBuYW1lOiB0Mi5uYW1lLCBwcm9wczogdDIucHJvcHMsIHZhbHVlOiB0Mi52YWx1ZSB9KSwgW3MyLCB0Mi5zbG90LCB0Mi5uYW1lLCB0Mi5wcm9wcywgdDIudmFsdWVdKTtcbiAgICByZXR1cm4gUm4uY3JlYXRlRWxlbWVudChjJDUuUHJvdmlkZXIsIHsgdmFsdWU6IG0yIH0sIHQyLmNoaWxkcmVuKTtcbiAgfSwgW2UyXSldO1xufVxubGV0IE4gPSBcImxhYmVsXCI7XG5mdW5jdGlvbiBHJDEocjIsIGwyKSB7XG4gIHZhciB5MjtcbiAgbGV0IGEzID0gZyQzKCksIGUyID0gUCQxKCksIG8zID0gdSQ2KCksIGcyID0gYSQ5KCksIHsgaWQ6IHQyID0gYGhlYWRsZXNzdWktbGFiZWwtJHthM31gLCBodG1sRm9yOiBzMiA9IG8zICE9IG51bGwgPyBvMyA6ICh5MiA9IGUyLnByb3BzKSA9PSBudWxsID8gdm9pZCAwIDogeTIuaHRtbEZvciwgcGFzc2l2ZTogbTIgPSBmYWxzZSwgLi4uaTIgfSA9IHIyLCBwMiA9IHkkNShsMik7XG4gIG4kMygoKSA9PiBlMi5yZWdpc3Rlcih0MiksIFt0MiwgZTIucmVnaXN0ZXJdKTtcbiAgbGV0IHUyID0gbyQ0KChMMikgPT4ge1xuICAgIGxldCBiMiA9IEwyLmN1cnJlbnRUYXJnZXQ7XG4gICAgaWYgKGIyIGluc3RhbmNlb2YgSFRNTExhYmVsRWxlbWVudCAmJiBMMi5wcmV2ZW50RGVmYXVsdCgpLCBlMi5wcm9wcyAmJiBcIm9uQ2xpY2tcIiBpbiBlMi5wcm9wcyAmJiB0eXBlb2YgZTIucHJvcHMub25DbGljayA9PSBcImZ1bmN0aW9uXCIgJiYgZTIucHJvcHMub25DbGljayhMMiksIGIyIGluc3RhbmNlb2YgSFRNTExhYmVsRWxlbWVudCkge1xuICAgICAgbGV0IG4yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYjIuaHRtbEZvcik7XG4gICAgICBpZiAobjIpIHtcbiAgICAgICAgbGV0IEUyID0gbjIuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgIGlmIChFMiA9PT0gXCJ0cnVlXCIgfHwgRTIgPT09IFwiXCIpIHJldHVybjtcbiAgICAgICAgbGV0IHgyID0gbjIuZ2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKTtcbiAgICAgICAgaWYgKHgyID09PSBcInRydWVcIiB8fCB4MiA9PT0gXCJcIikgcmV0dXJuO1xuICAgICAgICAobjIgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIChuMi50eXBlID09PSBcInJhZGlvXCIgfHwgbjIudHlwZSA9PT0gXCJjaGVja2JveFwiKSB8fCBuMi5yb2xlID09PSBcInJhZGlvXCIgfHwgbjIucm9sZSA9PT0gXCJjaGVja2JveFwiIHx8IG4yLnJvbGUgPT09IFwic3dpdGNoXCIpICYmIG4yLmNsaWNrKCksIG4yLmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pLCBkMiA9IGcyIHx8IGZhbHNlLCBDMiA9IFQkNSgoKSA9PiAoeyAuLi5lMi5zbG90LCBkaXNhYmxlZDogZDIgfSksIFtlMi5zbG90LCBkMl0pLCBmMiA9IHsgcmVmOiBwMiwgLi4uZTIucHJvcHMsIGlkOiB0MiwgaHRtbEZvcjogczIsIG9uQ2xpY2s6IHUyIH07XG4gIHJldHVybiBtMiAmJiAoXCJvbkNsaWNrXCIgaW4gZjIgJiYgKGRlbGV0ZSBmMi5odG1sRm9yLCBkZWxldGUgZjIub25DbGljayksIFwib25DbGlja1wiIGluIGkyICYmIGRlbGV0ZSBpMi5vbkNsaWNrKSwgTCQyKCkoeyBvdXJQcm9wczogZjIsIHRoZWlyUHJvcHM6IGkyLCBzbG90OiBDMiwgZGVmYXVsdFRhZzogczIgPyBOIDogXCJkaXZcIiwgbmFtZTogZTIubmFtZSB8fCBcIkxhYmVsXCIgfSk7XG59XG5sZXQgVSA9IEskMShHJDEpO1xuT2JqZWN0LmFzc2lnbihVLCB7fSk7XG5mdW5jdGlvbiBmJDUoZTIpIHtcbiAgaWYgKGUyID09PSBudWxsKSByZXR1cm4geyB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gIGxldCB7IHdpZHRoOiB0MiwgaGVpZ2h0OiByMiB9ID0gZTIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiB7IHdpZHRoOiB0MiwgaGVpZ2h0OiByMiB9O1xufVxuZnVuY3Rpb24gZCQyKGUyLCB0MiA9IGZhbHNlKSB7XG4gIGxldCBbcjIsIHUyXSA9IGgkNSgoKSA9PiAoe30pLCB7fSksIGkyID0gVCQ1KCgpID0+IGYkNShlMiksIFtlMiwgcjJdKTtcbiAgcmV0dXJuIG4kMygoKSA9PiB7XG4gICAgaWYgKCFlMikgcmV0dXJuO1xuICAgIGxldCBuMiA9IG5ldyBSZXNpemVPYnNlcnZlcih1Mik7XG4gICAgcmV0dXJuIG4yLm9ic2VydmUoZTIpLCAoKSA9PiB7XG4gICAgICBuMi5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgfSwgW2UyXSksIHQyID8geyB3aWR0aDogYCR7aTIud2lkdGh9cHhgLCBoZWlnaHQ6IGAke2kyLmhlaWdodH1weGAgfSA6IGkyO1xufVxubGV0IGEkNyA9IGNsYXNzIGEgZXh0ZW5kcyBNYXAge1xuICBjb25zdHJ1Y3Rvcih0Mikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5mYWN0b3J5ID0gdDI7XG4gIH1cbiAgZ2V0KHQyKSB7XG4gICAgbGV0IGUyID0gc3VwZXIuZ2V0KHQyKTtcbiAgICByZXR1cm4gZTIgPT09IHZvaWQgMCAmJiAoZTIgPSB0aGlzLmZhY3RvcnkodDIpLCB0aGlzLnNldCh0MiwgZTIpKSwgZTI7XG4gIH1cbn07XG5mdW5jdGlvbiBhJDYobzMsIHIyKSB7XG4gIGxldCB0MiA9IG8zKCksIG4yID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgcmV0dXJuIHsgZ2V0U25hcHNob3QoKSB7XG4gICAgcmV0dXJuIHQyO1xuICB9LCBzdWJzY3JpYmUoZTIpIHtcbiAgICByZXR1cm4gbjIuYWRkKGUyKSwgKCkgPT4gbjIuZGVsZXRlKGUyKTtcbiAgfSwgZGlzcGF0Y2goZTIsIC4uLnMyKSB7XG4gICAgbGV0IGkyID0gcjJbZTJdLmNhbGwodDIsIC4uLnMyKTtcbiAgICBpMiAmJiAodDIgPSBpMiwgbjIuZm9yRWFjaCgoYzIpID0+IGMyKCkpKTtcbiAgfSB9O1xufVxuZnVuY3Rpb24gbyQyKHQyKSB7XG4gIHJldHVybiBDJDModDIuc3Vic2NyaWJlLCB0Mi5nZXRTbmFwc2hvdCwgdDIuZ2V0U25hcHNob3QpO1xufVxubGV0IHAkMSA9IG5ldyBhJDcoKCkgPT4gYSQ2KCgpID0+IFtdLCB7IEFERChyMikge1xuICByZXR1cm4gdGhpcy5pbmNsdWRlcyhyMikgPyB0aGlzIDogWy4uLnRoaXMsIHIyXTtcbn0sIFJFTU9WRShyMikge1xuICBsZXQgZTIgPSB0aGlzLmluZGV4T2YocjIpO1xuICBpZiAoZTIgPT09IC0xKSByZXR1cm4gdGhpcztcbiAgbGV0IHQyID0gdGhpcy5zbGljZSgpO1xuICByZXR1cm4gdDIuc3BsaWNlKGUyLCAxKSwgdDI7XG59IH0pKTtcbmZ1bmN0aW9uIHgkMihyMiwgZTIpIHtcbiAgbGV0IHQyID0gcCQxLmdldChlMiksIGkyID0gZyQzKCksIGgyID0gbyQyKHQyKTtcbiAgaWYgKG4kMygoKSA9PiB7XG4gICAgaWYgKHIyKSByZXR1cm4gdDIuZGlzcGF0Y2goXCJBRERcIiwgaTIpLCAoKSA9PiB0Mi5kaXNwYXRjaChcIlJFTU9WRVwiLCBpMik7XG4gIH0sIFt0MiwgcjJdKSwgIXIyKSByZXR1cm4gZmFsc2U7XG4gIGxldCBzMiA9IGgyLmluZGV4T2YoaTIpLCBvMyA9IGgyLmxlbmd0aDtcbiAgcmV0dXJuIHMyID09PSAtMSAmJiAoczIgPSBvMywgbzMgKz0gMSksIHMyID09PSBvMyAtIDE7XG59XG5sZXQgZiQ0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgdSQ0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmZ1bmN0aW9uIGgkMyh0Mikge1xuICB2YXIgZTI7XG4gIGxldCByMiA9IChlMiA9IHUkNC5nZXQodDIpKSAhPSBudWxsID8gZTIgOiAwO1xuICByZXR1cm4gdSQ0LnNldCh0MiwgcjIgKyAxKSwgcjIgIT09IDAgPyAoKSA9PiBtJDModDIpIDogKGYkNC5zZXQodDIsIHsgXCJhcmlhLWhpZGRlblwiOiB0Mi5nZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiKSwgaW5lcnQ6IHQyLmluZXJ0IH0pLCB0Mi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIiksIHQyLmluZXJ0ID0gdHJ1ZSwgKCkgPT4gbSQzKHQyKSk7XG59XG5mdW5jdGlvbiBtJDModDIpIHtcbiAgdmFyIGkyO1xuICBsZXQgcjIgPSAoaTIgPSB1JDQuZ2V0KHQyKSkgIT0gbnVsbCA/IGkyIDogMTtcbiAgaWYgKHIyID09PSAxID8gdSQ0LmRlbGV0ZSh0MikgOiB1JDQuc2V0KHQyLCByMiAtIDEpLCByMiAhPT0gMSkgcmV0dXJuO1xuICBsZXQgZTIgPSBmJDQuZ2V0KHQyKTtcbiAgZTIgJiYgKGUyW1wiYXJpYS1oaWRkZW5cIl0gPT09IG51bGwgPyB0Mi5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiKSA6IHQyLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIGUyW1wiYXJpYS1oaWRkZW5cIl0pLCB0Mi5pbmVydCA9IGUyLmluZXJ0LCBmJDQuZGVsZXRlKHQyKSk7XG59XG5mdW5jdGlvbiB5JDQodDIsIHsgYWxsb3dlZDogcjIsIGRpc2FsbG93ZWQ6IGUyIH0gPSB7fSkge1xuICBsZXQgaTIgPSB4JDIodDIsIFwiaW5lcnQtb3RoZXJzXCIpO1xuICBuJDMoKCkgPT4ge1xuICAgIHZhciBkMiwgYzI7XG4gICAgaWYgKCFpMikgcmV0dXJuO1xuICAgIGxldCBhMyA9IG8kNSgpO1xuICAgIGZvciAobGV0IG4yIG9mIChkMiA9IGUyID09IG51bGwgPyB2b2lkIDAgOiBlMigpKSAhPSBudWxsID8gZDIgOiBbXSkgbjIgJiYgYTMuYWRkKGgkMyhuMikpO1xuICAgIGxldCBzMiA9IChjMiA9IHIyID09IG51bGwgPyB2b2lkIDAgOiByMigpKSAhPSBudWxsID8gYzIgOiBbXTtcbiAgICBmb3IgKGxldCBuMiBvZiBzMikge1xuICAgICAgaWYgKCFuMikgY29udGludWU7XG4gICAgICBsZXQgbDIgPSBvJDYobjIpO1xuICAgICAgaWYgKCFsMikgY29udGludWU7XG4gICAgICBsZXQgbzMgPSBuMi5wYXJlbnRFbGVtZW50O1xuICAgICAgZm9yICg7IG8zICYmIG8zICE9PSBsMi5ib2R5OyApIHtcbiAgICAgICAgZm9yIChsZXQgcDIgb2YgbzMuY2hpbGRyZW4pIHMyLnNvbWUoKEUyKSA9PiBwMi5jb250YWlucyhFMikpIHx8IGEzLmFkZChoJDMocDIpKTtcbiAgICAgICAgbzMgPSBvMy5wYXJlbnRFbGVtZW50O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYTMuZGlzcG9zZTtcbiAgfSwgW2kyLCByMiwgZTJdKTtcbn1cbmZ1bmN0aW9uIG0kMihzMiwgbjIsIGwyKSB7XG4gIGxldCBpMiA9IHMkNigodDIpID0+IHtcbiAgICBsZXQgZTIgPSB0Mi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBlMi54ID09PSAwICYmIGUyLnkgPT09IDAgJiYgZTIud2lkdGggPT09IDAgJiYgZTIuaGVpZ2h0ID09PSAwICYmIGwyKCk7XG4gIH0pO1xuICB5JDYoKCkgPT4ge1xuICAgIGlmICghczIpIHJldHVybjtcbiAgICBsZXQgdDIgPSBuMiA9PT0gbnVsbCA/IG51bGwgOiBuMiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gbjIgOiBuMi5jdXJyZW50O1xuICAgIGlmICghdDIpIHJldHVybjtcbiAgICBsZXQgZTIgPSBvJDUoKTtcbiAgICBpZiAodHlwZW9mIFJlc2l6ZU9ic2VydmVyICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGxldCByMiA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiBpMi5jdXJyZW50KHQyKSk7XG4gICAgICByMi5vYnNlcnZlKHQyKSwgZTIuYWRkKCgpID0+IHIyLmRpc2Nvbm5lY3QoKSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgbGV0IHIyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKCgpID0+IGkyLmN1cnJlbnQodDIpKTtcbiAgICAgIHIyLm9ic2VydmUodDIpLCBlMi5hZGQoKCkgPT4gcjIuZGlzY29ubmVjdCgpKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IGUyLmRpc3Bvc2UoKTtcbiAgfSwgW24yLCBpMiwgczJdKTtcbn1cbmxldCBmJDMgPSBbXCJbY29udGVudEVkaXRhYmxlPXRydWVdXCIsIFwiW3RhYmluZGV4XVwiLCBcImFbaHJlZl1cIiwgXCJhcmVhW2hyZWZdXCIsIFwiYnV0dG9uOm5vdChbZGlzYWJsZWRdKVwiLCBcImlmcmFtZVwiLCBcImlucHV0Om5vdChbZGlzYWJsZWRdKVwiLCBcInNlbGVjdDpub3QoW2Rpc2FibGVkXSlcIiwgXCJ0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSlcIl0ubWFwKChlMikgPT4gYCR7ZTJ9Om5vdChbdGFiaW5kZXg9Jy0xJ10pYCkuam9pbihcIixcIiksIHAgPSBbXCJbZGF0YS1hdXRvZm9jdXNdXCJdLm1hcCgoZTIpID0+IGAke2UyfTpub3QoW3RhYmluZGV4PSctMSddKWApLmpvaW4oXCIsXCIpO1xudmFyIEYkMiA9ICgobjIpID0+IChuMltuMi5GaXJzdCA9IDFdID0gXCJGaXJzdFwiLCBuMltuMi5QcmV2aW91cyA9IDJdID0gXCJQcmV2aW91c1wiLCBuMltuMi5OZXh0ID0gNF0gPSBcIk5leHRcIiwgbjJbbjIuTGFzdCA9IDhdID0gXCJMYXN0XCIsIG4yW24yLldyYXBBcm91bmQgPSAxNl0gPSBcIldyYXBBcm91bmRcIiwgbjJbbjIuTm9TY3JvbGwgPSAzMl0gPSBcIk5vU2Nyb2xsXCIsIG4yW24yLkF1dG9Gb2N1cyA9IDY0XSA9IFwiQXV0b0ZvY3VzXCIsIG4yKSkoRiQyIHx8IHt9KSwgVCQyID0gKChvMykgPT4gKG8zW28zLkVycm9yID0gMF0gPSBcIkVycm9yXCIsIG8zW28zLk92ZXJmbG93ID0gMV0gPSBcIk92ZXJmbG93XCIsIG8zW28zLlN1Y2Nlc3MgPSAyXSA9IFwiU3VjY2Vzc1wiLCBvM1tvMy5VbmRlcmZsb3cgPSAzXSA9IFwiVW5kZXJmbG93XCIsIG8zKSkoVCQyIHx8IHt9KSwgeSQzID0gKCh0MikgPT4gKHQyW3QyLlByZXZpb3VzID0gLTFdID0gXCJQcmV2aW91c1wiLCB0Mlt0Mi5OZXh0ID0gMV0gPSBcIk5leHRcIiwgdDIpKSh5JDMgfHwge30pO1xuZnVuY3Rpb24gYiQzKGUyID0gZG9jdW1lbnQuYm9keSkge1xuICByZXR1cm4gZTIgPT0gbnVsbCA/IFtdIDogQXJyYXkuZnJvbShlMi5xdWVyeVNlbGVjdG9yQWxsKGYkMykpLnNvcnQoKHIyLCB0MikgPT4gTWF0aC5zaWduKChyMi50YWJJbmRleCB8fCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikgLSAodDIudGFiSW5kZXggfHwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpKSk7XG59XG5mdW5jdGlvbiBTJDMoZTIgPSBkb2N1bWVudC5ib2R5KSB7XG4gIHJldHVybiBlMiA9PSBudWxsID8gW10gOiBBcnJheS5mcm9tKGUyLnF1ZXJ5U2VsZWN0b3JBbGwocCkpLnNvcnQoKHIyLCB0MikgPT4gTWF0aC5zaWduKChyMi50YWJJbmRleCB8fCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikgLSAodDIudGFiSW5kZXggfHwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpKSk7XG59XG52YXIgaCQyID0gKCh0MikgPT4gKHQyW3QyLlN0cmljdCA9IDBdID0gXCJTdHJpY3RcIiwgdDJbdDIuTG9vc2UgPSAxXSA9IFwiTG9vc2VcIiwgdDIpKShoJDIgfHwge30pO1xuZnVuY3Rpb24gQShlMiwgcjIgPSAwKSB7XG4gIHZhciB0MjtcbiAgcmV0dXJuIGUyID09PSAoKHQyID0gbyQ2KGUyKSkgPT0gbnVsbCA/IHZvaWQgMCA6IHQyLmJvZHkpID8gZmFsc2UgOiB1JDcocjIsIHsgWzBdKCkge1xuICAgIHJldHVybiBlMi5tYXRjaGVzKGYkMyk7XG4gIH0sIFsxXSgpIHtcbiAgICBsZXQgdTIgPSBlMjtcbiAgICBmb3IgKDsgdTIgIT09IG51bGw7ICkge1xuICAgICAgaWYgKHUyLm1hdGNoZXMoZiQzKSkgcmV0dXJuIHRydWU7XG4gICAgICB1MiA9IHUyLnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSB9KTtcbn1cbmZ1bmN0aW9uIEcoZTIpIHtcbiAgbGV0IHIyID0gbyQ2KGUyKTtcbiAgbyQ1KCkubmV4dEZyYW1lKCgpID0+IHtcbiAgICByMiAmJiAhQShyMi5hY3RpdmVFbGVtZW50LCAwKSAmJiBJJDEoZTIpO1xuICB9KTtcbn1cbnZhciBIJDIgPSAoKHQyKSA9PiAodDJbdDIuS2V5Ym9hcmQgPSAwXSA9IFwiS2V5Ym9hcmRcIiwgdDJbdDIuTW91c2UgPSAxXSA9IFwiTW91c2VcIiwgdDIpKShIJDIgfHwge30pO1xudHlwZW9mIHdpbmRvdyAhPSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBkb2N1bWVudCAhPSBcInVuZGVmaW5lZFwiICYmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZTIpID0+IHtcbiAgZTIubWV0YUtleSB8fCBlMi5hbHRLZXkgfHwgZTIuY3RybEtleSB8fCAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRhdGFzZXQuaGVhZGxlc3N1aUZvY3VzVmlzaWJsZSA9IFwiXCIpO1xufSwgdHJ1ZSksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZTIpID0+IHtcbiAgZTIuZGV0YWlsID09PSAxID8gZGVsZXRlIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kYXRhc2V0LmhlYWRsZXNzdWlGb2N1c1Zpc2libGUgOiBlMi5kZXRhaWwgPT09IDAgJiYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kYXRhc2V0LmhlYWRsZXNzdWlGb2N1c1Zpc2libGUgPSBcIlwiKTtcbn0sIHRydWUpKTtcbmZ1bmN0aW9uIEkkMShlMikge1xuICBlMiA9PSBudWxsIHx8IGUyLmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbn1cbmxldCB3ID0gW1widGV4dGFyZWFcIiwgXCJpbnB1dFwiXS5qb2luKFwiLFwiKTtcbmZ1bmN0aW9uIE8oZTIpIHtcbiAgdmFyIHIyLCB0MjtcbiAgcmV0dXJuICh0MiA9IChyMiA9IGUyID09IG51bGwgPyB2b2lkIDAgOiBlMi5tYXRjaGVzKSA9PSBudWxsID8gdm9pZCAwIDogcjIuY2FsbChlMiwgdykpICE9IG51bGwgPyB0MiA6IGZhbHNlO1xufVxuZnVuY3Rpb24gXyhlMiwgcjIgPSAodDIpID0+IHQyKSB7XG4gIHJldHVybiBlMi5zbGljZSgpLnNvcnQoKHQyLCB1MikgPT4ge1xuICAgIGxldCBvMyA9IHIyKHQyKSwgYzIgPSByMih1Mik7XG4gICAgaWYgKG8zID09PSBudWxsIHx8IGMyID09PSBudWxsKSByZXR1cm4gMDtcbiAgICBsZXQgbDIgPSBvMy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihjMik7XG4gICAgcmV0dXJuIGwyICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkcgPyAtMSA6IGwyICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9QUkVDRURJTkcgPyAxIDogMDtcbiAgfSk7XG59XG5mdW5jdGlvbiBqJDIoZTIsIHIyKSB7XG4gIHJldHVybiBQKGIkMygpLCByMiwgeyByZWxhdGl2ZVRvOiBlMiB9KTtcbn1cbmZ1bmN0aW9uIFAoZTIsIHIyLCB7IHNvcnRlZDogdDIgPSB0cnVlLCByZWxhdGl2ZVRvOiB1MiA9IG51bGwsIHNraXBFbGVtZW50czogbzMgPSBbXSB9ID0ge30pIHtcbiAgbGV0IGMyID0gQXJyYXkuaXNBcnJheShlMikgPyBlMi5sZW5ndGggPiAwID8gZTJbMF0ub3duZXJEb2N1bWVudCA6IGRvY3VtZW50IDogZTIub3duZXJEb2N1bWVudCwgbDIgPSBBcnJheS5pc0FycmF5KGUyKSA/IHQyID8gXyhlMikgOiBlMiA6IHIyICYgNjQgPyBTJDMoZTIpIDogYiQzKGUyKTtcbiAgbzMubGVuZ3RoID4gMCAmJiBsMi5sZW5ndGggPiAxICYmIChsMiA9IGwyLmZpbHRlcigoczIpID0+ICFvMy5zb21lKChhMykgPT4gYTMgIT0gbnVsbCAmJiBcImN1cnJlbnRcIiBpbiBhMyA/IChhMyA9PSBudWxsID8gdm9pZCAwIDogYTMuY3VycmVudCkgPT09IHMyIDogYTMgPT09IHMyKSkpLCB1MiA9IHUyICE9IG51bGwgPyB1MiA6IGMyLmFjdGl2ZUVsZW1lbnQ7XG4gIGxldCBuMiA9ICgoKSA9PiB7XG4gICAgaWYgKHIyICYgNSkgcmV0dXJuIDE7XG4gICAgaWYgKHIyICYgMTApIHJldHVybiAtMTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIEZvY3VzLkZpcnN0LCBGb2N1cy5QcmV2aW91cywgRm9jdXMuTmV4dCBvciBGb2N1cy5MYXN0XCIpO1xuICB9KSgpLCB4MiA9ICgoKSA9PiB7XG4gICAgaWYgKHIyICYgMSkgcmV0dXJuIDA7XG4gICAgaWYgKHIyICYgMikgcmV0dXJuIE1hdGgubWF4KDAsIGwyLmluZGV4T2YodTIpKSAtIDE7XG4gICAgaWYgKHIyICYgNCkgcmV0dXJuIE1hdGgubWF4KDAsIGwyLmluZGV4T2YodTIpKSArIDE7XG4gICAgaWYgKHIyICYgOCkgcmV0dXJuIGwyLmxlbmd0aCAtIDE7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBGb2N1cy5GaXJzdCwgRm9jdXMuUHJldmlvdXMsIEZvY3VzLk5leHQgb3IgRm9jdXMuTGFzdFwiKTtcbiAgfSkoKSwgTTIgPSByMiAmIDMyID8geyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0gOiB7fSwgbTIgPSAwLCBkMiA9IGwyLmxlbmd0aCwgaTI7XG4gIGRvIHtcbiAgICBpZiAobTIgPj0gZDIgfHwgbTIgKyBkMiA8PSAwKSByZXR1cm4gMDtcbiAgICBsZXQgczIgPSB4MiArIG0yO1xuICAgIGlmIChyMiAmIDE2KSBzMiA9IChzMiArIGQyKSAlIGQyO1xuICAgIGVsc2Uge1xuICAgICAgaWYgKHMyIDwgMCkgcmV0dXJuIDM7XG4gICAgICBpZiAoczIgPj0gZDIpIHJldHVybiAxO1xuICAgIH1cbiAgICBpMiA9IGwyW3MyXSwgaTIgPT0gbnVsbCB8fCBpMi5mb2N1cyhNMiksIG0yICs9IG4yO1xuICB9IHdoaWxlIChpMiAhPT0gYzIuYWN0aXZlRWxlbWVudCk7XG4gIHJldHVybiByMiAmIDYgJiYgTyhpMikgJiYgaTIuc2VsZWN0KCksIDI7XG59XG5mdW5jdGlvbiB0JDEoKSB7XG4gIHJldHVybiAvaVBob25lL2dpLnRlc3Qod2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSkgfHwgL01hYy9naS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0pICYmIHdpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwO1xufVxuZnVuY3Rpb24gaSQ0KCkge1xuICByZXR1cm4gL0FuZHJvaWQvZ2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG59XG5mdW5jdGlvbiBuJDIoKSB7XG4gIHJldHVybiB0JDEoKSB8fCBpJDQoKTtcbn1cbmZ1bmN0aW9uIGkkMyh0MiwgZTIsIG8zLCBuMikge1xuICBsZXQgdTIgPSBzJDYobzMpO1xuICB5JDYoKCkgPT4ge1xuICAgIGlmICghdDIpIHJldHVybjtcbiAgICBmdW5jdGlvbiByMihtMikge1xuICAgICAgdTIuY3VycmVudChtMik7XG4gICAgfVxuICAgIHJldHVybiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGUyLCByMiwgbjIpLCAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGUyLCByMiwgbjIpO1xuICB9LCBbdDIsIGUyLCBuMl0pO1xufVxuZnVuY3Rpb24gcyQ1KHQyLCBlMiwgbzMsIG4yKSB7XG4gIGxldCBpMiA9IHMkNihvMyk7XG4gIHkkNigoKSA9PiB7XG4gICAgaWYgKCF0MikgcmV0dXJuO1xuICAgIGZ1bmN0aW9uIHIyKGQyKSB7XG4gICAgICBpMi5jdXJyZW50KGQyKTtcbiAgICB9XG4gICAgcmV0dXJuIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGUyLCByMiwgbjIpLCAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihlMiwgcjIsIG4yKTtcbiAgfSwgW3QyLCBlMiwgbjJdKTtcbn1cbmNvbnN0IEUgPSAzMDtcbmZ1bmN0aW9uIFIkMShwMiwgZjIsIEMyKSB7XG4gIGxldCB1MiA9IHgkMihwMiwgXCJvdXRzaWRlLWNsaWNrXCIpLCBtMiA9IHMkNihDMiksIHMyID0gcSQzKGZ1bmN0aW9uKGUyLCBuMikge1xuICAgIGlmIChlMi5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XG4gICAgbGV0IHIyID0gbjIoZTIpO1xuICAgIGlmIChyMiA9PT0gbnVsbCB8fCAhcjIuZ2V0Um9vdE5vZGUoKS5jb250YWlucyhyMikgfHwgIXIyLmlzQ29ubmVjdGVkKSByZXR1cm47XG4gICAgbGV0IGgyID0gZnVuY3Rpb24gbDIobzMpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgbzMgPT0gXCJmdW5jdGlvblwiID8gbDIobzMoKSkgOiBBcnJheS5pc0FycmF5KG8zKSB8fCBvMyBpbnN0YW5jZW9mIFNldCA/IG8zIDogW28zXTtcbiAgICB9KGYyKTtcbiAgICBmb3IgKGxldCBsMiBvZiBoMikgaWYgKGwyICE9PSBudWxsICYmIChsMi5jb250YWlucyhyMikgfHwgZTIuY29tcG9zZWQgJiYgZTIuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMobDIpKSkgcmV0dXJuO1xuICAgIHJldHVybiAhQShyMiwgaCQyLkxvb3NlKSAmJiByMi50YWJJbmRleCAhPT0gLTEgJiYgZTIucHJldmVudERlZmF1bHQoKSwgbTIuY3VycmVudChlMiwgcjIpO1xuICB9LCBbbTIsIGYyXSksIGkyID0gQSQzKG51bGwpO1xuICBpJDModTIsIFwicG9pbnRlcmRvd25cIiwgKHQyKSA9PiB7XG4gICAgdmFyIGUyLCBuMjtcbiAgICBpMi5jdXJyZW50ID0gKChuMiA9IChlMiA9IHQyLmNvbXBvc2VkUGF0aCkgPT0gbnVsbCA/IHZvaWQgMCA6IGUyLmNhbGwodDIpKSA9PSBudWxsID8gdm9pZCAwIDogbjJbMF0pIHx8IHQyLnRhcmdldDtcbiAgfSwgdHJ1ZSksIGkkMyh1MiwgXCJtb3VzZWRvd25cIiwgKHQyKSA9PiB7XG4gICAgdmFyIGUyLCBuMjtcbiAgICBpMi5jdXJyZW50ID0gKChuMiA9IChlMiA9IHQyLmNvbXBvc2VkUGF0aCkgPT0gbnVsbCA/IHZvaWQgMCA6IGUyLmNhbGwodDIpKSA9PSBudWxsID8gdm9pZCAwIDogbjJbMF0pIHx8IHQyLnRhcmdldDtcbiAgfSwgdHJ1ZSksIGkkMyh1MiwgXCJjbGlja1wiLCAodDIpID0+IHtcbiAgICBuJDIoKSB8fCBpMi5jdXJyZW50ICYmIChzMih0MiwgKCkgPT4gaTIuY3VycmVudCksIGkyLmN1cnJlbnQgPSBudWxsKTtcbiAgfSwgdHJ1ZSk7XG4gIGxldCBhMyA9IEEkMyh7IHg6IDAsIHk6IDAgfSk7XG4gIGkkMyh1MiwgXCJ0b3VjaHN0YXJ0XCIsICh0MikgPT4ge1xuICAgIGEzLmN1cnJlbnQueCA9IHQyLnRvdWNoZXNbMF0uY2xpZW50WCwgYTMuY3VycmVudC55ID0gdDIudG91Y2hlc1swXS5jbGllbnRZO1xuICB9LCB0cnVlKSwgaSQzKHUyLCBcInRvdWNoZW5kXCIsICh0MikgPT4ge1xuICAgIGxldCBlMiA9IHsgeDogdDIuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCwgeTogdDIuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSB9O1xuICAgIGlmICghKE1hdGguYWJzKGUyLnggLSBhMy5jdXJyZW50LngpID49IEUgfHwgTWF0aC5hYnMoZTIueSAtIGEzLmN1cnJlbnQueSkgPj0gRSkpIHJldHVybiBzMih0MiwgKCkgPT4gdDIudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPyB0Mi50YXJnZXQgOiBudWxsKTtcbiAgfSwgdHJ1ZSksIHMkNSh1MiwgXCJibHVyXCIsICh0MikgPT4gczIodDIsICgpID0+IHdpbmRvdy5kb2N1bWVudC5hY3RpdmVFbGVtZW50IGluc3RhbmNlb2YgSFRNTElGcmFtZUVsZW1lbnQgPyB3aW5kb3cuZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA6IG51bGwpLCB0cnVlKTtcbn1cbmZ1bmN0aW9uIG4kMSguLi5lMikge1xuICByZXR1cm4gVCQ1KCgpID0+IG8kNiguLi5lMiksIFsuLi5lMl0pO1xufVxuZnVuY3Rpb24gZSQxKHQyLCB1Mikge1xuICByZXR1cm4gVCQ1KCgpID0+IHtcbiAgICB2YXIgbjI7XG4gICAgaWYgKHQyLnR5cGUpIHJldHVybiB0Mi50eXBlO1xuICAgIGxldCByMiA9IChuMiA9IHQyLmFzKSAhPSBudWxsID8gbjIgOiBcImJ1dHRvblwiO1xuICAgIGlmICh0eXBlb2YgcjIgPT0gXCJzdHJpbmdcIiAmJiByMi50b0xvd2VyQ2FzZSgpID09PSBcImJ1dHRvblwiIHx8ICh1MiA9PSBudWxsID8gdm9pZCAwIDogdTIudGFnTmFtZSkgPT09IFwiQlVUVE9OXCIgJiYgIXUyLmhhc0F0dHJpYnV0ZShcInR5cGVcIikpIHJldHVybiBcImJ1dHRvblwiO1xuICB9LCBbdDIudHlwZSwgdDIuYXMsIHUyXSk7XG59XG5mdW5jdGlvbiBkJDEoKSB7XG4gIGxldCByMjtcbiAgcmV0dXJuIHsgYmVmb3JlKHsgZG9jOiBlMiB9KSB7XG4gICAgdmFyIGwyO1xuICAgIGxldCBvMyA9IGUyLmRvY3VtZW50RWxlbWVudCwgdDIgPSAobDIgPSBlMi5kZWZhdWx0VmlldykgIT0gbnVsbCA/IGwyIDogd2luZG93O1xuICAgIHIyID0gTWF0aC5tYXgoMCwgdDIuaW5uZXJXaWR0aCAtIG8zLmNsaWVudFdpZHRoKTtcbiAgfSwgYWZ0ZXIoeyBkb2M6IGUyLCBkOiBvMyB9KSB7XG4gICAgbGV0IHQyID0gZTIuZG9jdW1lbnRFbGVtZW50LCBsMiA9IE1hdGgubWF4KDAsIHQyLmNsaWVudFdpZHRoIC0gdDIub2Zmc2V0V2lkdGgpLCBuMiA9IE1hdGgubWF4KDAsIHIyIC0gbDIpO1xuICAgIG8zLnN0eWxlKHQyLCBcInBhZGRpbmdSaWdodFwiLCBgJHtuMn1weGApO1xuICB9IH07XG59XG5mdW5jdGlvbiBkKCkge1xuICByZXR1cm4gdCQxKCkgPyB7IGJlZm9yZSh7IGRvYzogcjIsIGQ6IG4yLCBtZXRhOiBjMiB9KSB7XG4gICAgZnVuY3Rpb24gbzMoYTMpIHtcbiAgICAgIHJldHVybiBjMi5jb250YWluZXJzLmZsYXRNYXAoKGwyKSA9PiBsMigpKS5zb21lKChsMikgPT4gbDIuY29udGFpbnMoYTMpKTtcbiAgICB9XG4gICAgbjIubWljcm9UYXNrKCgpID0+IHtcbiAgICAgIHZhciBzMjtcbiAgICAgIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShyMi5kb2N1bWVudEVsZW1lbnQpLnNjcm9sbEJlaGF2aW9yICE9PSBcImF1dG9cIikge1xuICAgICAgICBsZXQgdDIgPSBvJDUoKTtcbiAgICAgICAgdDIuc3R5bGUocjIuZG9jdW1lbnRFbGVtZW50LCBcInNjcm9sbEJlaGF2aW9yXCIsIFwiYXV0b1wiKSwgbjIuYWRkKCgpID0+IG4yLm1pY3JvVGFzaygoKSA9PiB0Mi5kaXNwb3NlKCkpKTtcbiAgICAgIH1cbiAgICAgIGxldCBhMyA9IChzMiA9IHdpbmRvdy5zY3JvbGxZKSAhPSBudWxsID8gczIgOiB3aW5kb3cucGFnZVlPZmZzZXQsIGwyID0gbnVsbDtcbiAgICAgIG4yLmFkZEV2ZW50TGlzdGVuZXIocjIsIFwiY2xpY2tcIiwgKHQyKSA9PiB7XG4gICAgICAgIGlmICh0Mi50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkgdHJ5IHtcbiAgICAgICAgICBsZXQgZTIgPSB0Mi50YXJnZXQuY2xvc2VzdChcImFcIik7XG4gICAgICAgICAgaWYgKCFlMikgcmV0dXJuO1xuICAgICAgICAgIGxldCB7IGhhc2g6IGYyIH0gPSBuZXcgVVJMKGUyLmhyZWYpLCBpMiA9IHIyLnF1ZXJ5U2VsZWN0b3IoZjIpO1xuICAgICAgICAgIGkyICYmICFvMyhpMikgJiYgKGwyID0gaTIpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgfVxuICAgICAgfSwgdHJ1ZSksIG4yLmFkZEV2ZW50TGlzdGVuZXIocjIsIFwidG91Y2hzdGFydFwiLCAodDIpID0+IHtcbiAgICAgICAgaWYgKHQyLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSBpZiAobzModDIudGFyZ2V0KSkge1xuICAgICAgICAgIGxldCBlMiA9IHQyLnRhcmdldDtcbiAgICAgICAgICBmb3IgKDsgZTIucGFyZW50RWxlbWVudCAmJiBvMyhlMi5wYXJlbnRFbGVtZW50KTsgKSBlMiA9IGUyLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgbjIuc3R5bGUoZTIsIFwib3ZlcnNjcm9sbEJlaGF2aW9yXCIsIFwiY29udGFpblwiKTtcbiAgICAgICAgfSBlbHNlIG4yLnN0eWxlKHQyLnRhcmdldCwgXCJ0b3VjaEFjdGlvblwiLCBcIm5vbmVcIik7XG4gICAgICB9KSwgbjIuYWRkRXZlbnRMaXN0ZW5lcihyMiwgXCJ0b3VjaG1vdmVcIiwgKHQyKSA9PiB7XG4gICAgICAgIGlmICh0Mi50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgIGlmICh0Mi50YXJnZXQudGFnTmFtZSA9PT0gXCJJTlBVVFwiKSByZXR1cm47XG4gICAgICAgICAgaWYgKG8zKHQyLnRhcmdldCkpIHtcbiAgICAgICAgICAgIGxldCBlMiA9IHQyLnRhcmdldDtcbiAgICAgICAgICAgIGZvciAoOyBlMi5wYXJlbnRFbGVtZW50ICYmIGUyLmRhdGFzZXQuaGVhZGxlc3N1aVBvcnRhbCAhPT0gXCJcIiAmJiAhKGUyLnNjcm9sbEhlaWdodCA+IGUyLmNsaWVudEhlaWdodCB8fCBlMi5zY3JvbGxXaWR0aCA+IGUyLmNsaWVudFdpZHRoKTsgKSBlMiA9IGUyLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBlMi5kYXRhc2V0LmhlYWRsZXNzdWlQb3J0YWwgPT09IFwiXCIgJiYgdDIucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9IGVsc2UgdDIucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgfSwgeyBwYXNzaXZlOiBmYWxzZSB9KSwgbjIuYWRkKCgpID0+IHtcbiAgICAgICAgdmFyIGUyO1xuICAgICAgICBsZXQgdDIgPSAoZTIgPSB3aW5kb3cuc2Nyb2xsWSkgIT0gbnVsbCA/IGUyIDogd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgICAgICBhMyAhPT0gdDIgJiYgd2luZG93LnNjcm9sbFRvKDAsIGEzKSwgbDIgJiYgbDIuaXNDb25uZWN0ZWQgJiYgKGwyLnNjcm9sbEludG9WaWV3KHsgYmxvY2s6IFwibmVhcmVzdFwiIH0pLCBsMiA9IG51bGwpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0gfSA6IHt9O1xufVxuZnVuY3Rpb24gcigpIHtcbiAgcmV0dXJuIHsgYmVmb3JlKHsgZG9jOiBlMiwgZDogbzMgfSkge1xuICAgIG8zLnN0eWxlKGUyLmRvY3VtZW50RWxlbWVudCwgXCJvdmVyZmxvd1wiLCBcImhpZGRlblwiKTtcbiAgfSB9O1xufVxuZnVuY3Rpb24gbSQxKGUyKSB7XG4gIGxldCBuMiA9IHt9O1xuICBmb3IgKGxldCB0MiBvZiBlMikgT2JqZWN0LmFzc2lnbihuMiwgdDIobjIpKTtcbiAgcmV0dXJuIG4yO1xufVxubGV0IGEkNSA9IGEkNigoKSA9PiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCB7IFBVU0goZTIsIG4yKSB7XG4gIHZhciBvMztcbiAgbGV0IHQyID0gKG8zID0gdGhpcy5nZXQoZTIpKSAhPSBudWxsID8gbzMgOiB7IGRvYzogZTIsIGNvdW50OiAwLCBkOiBvJDUoKSwgbWV0YTogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSB9O1xuICByZXR1cm4gdDIuY291bnQrKywgdDIubWV0YS5hZGQobjIpLCB0aGlzLnNldChlMiwgdDIpLCB0aGlzO1xufSwgUE9QKGUyLCBuMikge1xuICBsZXQgdDIgPSB0aGlzLmdldChlMik7XG4gIHJldHVybiB0MiAmJiAodDIuY291bnQtLSwgdDIubWV0YS5kZWxldGUobjIpKSwgdGhpcztcbn0sIFNDUk9MTF9QUkVWRU5UKHsgZG9jOiBlMiwgZDogbjIsIG1ldGE6IHQyIH0pIHtcbiAgbGV0IG8zID0geyBkb2M6IGUyLCBkOiBuMiwgbWV0YTogbSQxKHQyKSB9LCBjMiA9IFtkKCksIGQkMSgpLCByKCldO1xuICBjMi5mb3JFYWNoKCh7IGJlZm9yZTogcjIgfSkgPT4gcjIgPT0gbnVsbCA/IHZvaWQgMCA6IHIyKG8zKSksIGMyLmZvckVhY2goKHsgYWZ0ZXI6IHIyIH0pID0+IHIyID09IG51bGwgPyB2b2lkIDAgOiByMihvMykpO1xufSwgU0NST0xMX0FMTE9XKHsgZDogZTIgfSkge1xuICBlMi5kaXNwb3NlKCk7XG59LCBURUFSRE9XTih7IGRvYzogZTIgfSkge1xuICB0aGlzLmRlbGV0ZShlMik7XG59IH0pO1xuYSQ1LnN1YnNjcmliZSgoKSA9PiB7XG4gIGxldCBlMiA9IGEkNS5nZXRTbmFwc2hvdCgpLCBuMiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGZvciAobGV0IFt0Ml0gb2YgZTIpIG4yLnNldCh0MiwgdDIuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93KTtcbiAgZm9yIChsZXQgdDIgb2YgZTIudmFsdWVzKCkpIHtcbiAgICBsZXQgbzMgPSBuMi5nZXQodDIuZG9jKSA9PT0gXCJoaWRkZW5cIiwgYzIgPSB0Mi5jb3VudCAhPT0gMDtcbiAgICAoYzIgJiYgIW8zIHx8ICFjMiAmJiBvMykgJiYgYSQ1LmRpc3BhdGNoKHQyLmNvdW50ID4gMCA/IFwiU0NST0xMX1BSRVZFTlRcIiA6IFwiU0NST0xMX0FMTE9XXCIsIHQyKSwgdDIuY291bnQgPT09IDAgJiYgYSQ1LmRpc3BhdGNoKFwiVEVBUkRPV05cIiwgdDIpO1xuICB9XG59KTtcbmZ1bmN0aW9uIGEkNChyMiwgZTIsIG4yID0gKCkgPT4gKHsgY29udGFpbmVyczogW10gfSkpIHtcbiAgbGV0IGYyID0gbyQyKGEkNSksIG8zID0gZTIgPyBmMi5nZXQoZTIpIDogdm9pZCAwLCBpMiA9IG8zID8gbzMuY291bnQgPiAwIDogZmFsc2U7XG4gIHJldHVybiBuJDMoKCkgPT4ge1xuICAgIGlmICghKCFlMiB8fCAhcjIpKSByZXR1cm4gYSQ1LmRpc3BhdGNoKFwiUFVTSFwiLCBlMiwgbjIpLCAoKSA9PiBhJDUuZGlzcGF0Y2goXCJQT1BcIiwgZTIsIG4yKTtcbiAgfSwgW3IyLCBlMl0pLCBpMjtcbn1cbmZ1bmN0aW9uIGYkMihlMiwgYzIsIG4yID0gKCkgPT4gW2RvY3VtZW50LmJvZHldKSB7XG4gIGxldCByMiA9IHgkMihlMiwgXCJzY3JvbGwtbG9ja1wiKTtcbiAgYSQ0KHIyLCBjMiwgKHQyKSA9PiB7XG4gICAgdmFyIG8zO1xuICAgIHJldHVybiB7IGNvbnRhaW5lcnM6IFsuLi4obzMgPSB0Mi5jb250YWluZXJzKSAhPSBudWxsID8gbzMgOiBbXSwgbjJdIH07XG4gIH0pO1xufVxuZnVuY3Rpb24gdChlMikge1xuICByZXR1cm4gW2UyLnNjcmVlblgsIGUyLnNjcmVlblldO1xufVxuZnVuY3Rpb24gdSQzKCkge1xuICBsZXQgZTIgPSBBJDMoWy0xLCAtMV0pO1xuICByZXR1cm4geyB3YXNNb3ZlZChyMikge1xuICAgIGxldCBuMiA9IHQocjIpO1xuICAgIHJldHVybiBlMi5jdXJyZW50WzBdID09PSBuMlswXSAmJiBlMi5jdXJyZW50WzFdID09PSBuMlsxXSA/IGZhbHNlIDogKGUyLmN1cnJlbnQgPSBuMiwgdHJ1ZSk7XG4gIH0sIHVwZGF0ZShyMikge1xuICAgIGUyLmN1cnJlbnQgPSB0KHIyKTtcbiAgfSB9O1xufVxuZnVuY3Rpb24gYyQ0KHUyID0gMCkge1xuICBsZXQgW3QyLCBsMl0gPSBkJDQodTIpLCBnMiA9IHEkMygoZTIpID0+IGwyKGUyKSwgW3QyXSksIHMyID0gcSQzKChlMikgPT4gbDIoKGEzKSA9PiBhMyB8IGUyKSwgW3QyXSksIG0yID0gcSQzKChlMikgPT4gKHQyICYgZTIpID09PSBlMiwgW3QyXSksIG4yID0gcSQzKChlMikgPT4gbDIoKGEzKSA9PiBhMyAmIH5lMiksIFtsMl0pLCBGMiA9IHEkMygoZTIpID0+IGwyKChhMykgPT4gYTMgXiBlMiksIFtsMl0pO1xuICByZXR1cm4geyBmbGFnczogdDIsIHNldEZsYWc6IGcyLCBhZGRGbGFnOiBzMiwgaGFzRmxhZzogbTIsIHJlbW92ZUZsYWc6IG4yLCB0b2dnbGVGbGFnOiBGMiB9O1xufVxudmFyIFQkMSwgYiQyO1xudHlwZW9mIHByb2Nlc3MgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgZ2xvYmFsVGhpcyAhPSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBFbGVtZW50ICE9IFwidW5kZWZpbmVkXCIgJiYgKChUJDEgPSBwcm9jZXNzID09IG51bGwgPyB2b2lkIDAgOiBwcm9jZXNzLmVudikgPT0gbnVsbCA/IHZvaWQgMCA6IFQkMVtcIk5PREVfRU5WXCJdKSA9PT0gXCJ0ZXN0XCIgJiYgdHlwZW9mICgoYiQyID0gRWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogRWxlbWVudC5wcm90b3R5cGUpID09IG51bGwgPyB2b2lkIDAgOiBiJDIuZ2V0QW5pbWF0aW9ucykgPT0gXCJ1bmRlZmluZWRcIiAmJiAoRWxlbWVudC5wcm90b3R5cGUuZ2V0QW5pbWF0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gY29uc29sZS53YXJuKFtcIkhlYWRsZXNzIFVJIGhhcyBwb2x5ZmlsbGVkIGBFbGVtZW50LnByb3RvdHlwZS5nZXRBbmltYXRpb25zYCBmb3IgeW91ciB0ZXN0cy5cIiwgXCJQbGVhc2UgaW5zdGFsbCBhIHByb3BlciBwb2x5ZmlsbCBlLmcuIGBqc2RvbS10ZXN0aW5nLW1vY2tzYCwgdG8gc2lsZW5jZSB0aGVzZSB3YXJuaW5ncy5cIiwgXCJcIiwgXCJFeGFtcGxlIHVzYWdlOlwiLCBcImBgYGpzXCIsIFwiaW1wb3J0IHsgbW9ja0FuaW1hdGlvbnNBcGkgfSBmcm9tICdqc2RvbS10ZXN0aW5nLW1vY2tzJ1wiLCBcIm1vY2tBbmltYXRpb25zQXBpKClcIiwgXCJgYGBcIl0uam9pbihgXG5gKSksIFtdO1xufSk7XG52YXIgTCQxID0gKChyMikgPT4gKHIyW3IyLk5vbmUgPSAwXSA9IFwiTm9uZVwiLCByMltyMi5DbG9zZWQgPSAxXSA9IFwiQ2xvc2VkXCIsIHIyW3IyLkVudGVyID0gMl0gPSBcIkVudGVyXCIsIHIyW3IyLkxlYXZlID0gNF0gPSBcIkxlYXZlXCIsIHIyKSkoTCQxIHx8IHt9KTtcbmZ1bmN0aW9uIFIodDIpIHtcbiAgbGV0IG4yID0ge307XG4gIGZvciAobGV0IGUyIGluIHQyKSB0MltlMl0gPT09IHRydWUgJiYgKG4yW2BkYXRhLSR7ZTJ9YF0gPSBcIlwiKTtcbiAgcmV0dXJuIG4yO1xufVxuZnVuY3Rpb24geCQxKHQyLCBuMiwgZTIsIGkyKSB7XG4gIGxldCBbcjIsIG8zXSA9IGQkNChlMiksIHsgaGFzRmxhZzogczIsIGFkZEZsYWc6IGEzLCByZW1vdmVGbGFnOiBsMiB9ID0gYyQ0KHQyICYmIHIyID8gMyA6IDApLCB1MiA9IEEkMyhmYWxzZSksIGYyID0gQSQzKGZhbHNlKSwgRTIgPSBwJDIoKTtcbiAgcmV0dXJuIG4kMygoKSA9PiB7XG4gICAgdmFyIGQyO1xuICAgIGlmICh0Mikge1xuICAgICAgaWYgKGUyICYmIG8zKHRydWUpLCAhbjIpIHtcbiAgICAgICAgZTIgJiYgYTMoMyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoZDIgPSB2b2lkIDApID09IG51bGwgfHwgZDIuY2FsbChpMiwgZTIpLCBDKG4yLCB7IGluRmxpZ2h0OiB1MiwgcHJlcGFyZSgpIHtcbiAgICAgICAgZjIuY3VycmVudCA/IGYyLmN1cnJlbnQgPSBmYWxzZSA6IGYyLmN1cnJlbnQgPSB1Mi5jdXJyZW50LCB1Mi5jdXJyZW50ID0gdHJ1ZSwgIWYyLmN1cnJlbnQgJiYgKGUyID8gKGEzKDMpLCBsMig0KSkgOiAoYTMoNCksIGwyKDIpKSk7XG4gICAgICB9LCBydW4oKSB7XG4gICAgICAgIGYyLmN1cnJlbnQgPyBlMiA/IChsMigzKSwgYTMoNCkpIDogKGwyKDQpLCBhMygzKSkgOiBlMiA/IGwyKDEpIDogYTMoMSk7XG4gICAgICB9LCBkb25lKCkge1xuICAgICAgICB2YXIgcDI7XG4gICAgICAgIGYyLmN1cnJlbnQgJiYgdHlwZW9mIG4yLmdldEFuaW1hdGlvbnMgPT0gXCJmdW5jdGlvblwiICYmIG4yLmdldEFuaW1hdGlvbnMoKS5sZW5ndGggPiAwIHx8ICh1Mi5jdXJyZW50ID0gZmFsc2UsIGwyKDcpLCBlMiB8fCBvMyhmYWxzZSksIChwMiA9IHZvaWQgMCkgPT0gbnVsbCB8fCBwMi5jYWxsKGkyLCBlMikpO1xuICAgICAgfSB9KTtcbiAgICB9XG4gIH0sIFt0MiwgZTIsIG4yLCBFMl0pLCB0MiA/IFtyMiwgeyBjbG9zZWQ6IHMyKDEpLCBlbnRlcjogczIoMiksIGxlYXZlOiBzMig0KSwgdHJhbnNpdGlvbjogczIoMikgfHwgczIoNCkgfV0gOiBbZTIsIHsgY2xvc2VkOiB2b2lkIDAsIGVudGVyOiB2b2lkIDAsIGxlYXZlOiB2b2lkIDAsIHRyYW5zaXRpb246IHZvaWQgMCB9XTtcbn1cbmZ1bmN0aW9uIEModDIsIHsgcHJlcGFyZTogbjIsIHJ1bjogZTIsIGRvbmU6IGkyLCBpbkZsaWdodDogcjIgfSkge1xuICBsZXQgbzMgPSBvJDUoKTtcbiAgcmV0dXJuIGokMSh0MiwgeyBwcmVwYXJlOiBuMiwgaW5GbGlnaHQ6IHIyIH0pLCBvMy5uZXh0RnJhbWUoKCkgPT4ge1xuICAgIGUyKCksIG8zLnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBvMy5hZGQoTSQyKHQyLCBpMikpO1xuICAgIH0pO1xuICB9KSwgbzMuZGlzcG9zZTtcbn1cbmZ1bmN0aW9uIE0kMih0MiwgbjIpIHtcbiAgdmFyIG8zLCBzMjtcbiAgbGV0IGUyID0gbyQ1KCk7XG4gIGlmICghdDIpIHJldHVybiBlMi5kaXNwb3NlO1xuICBsZXQgaTIgPSBmYWxzZTtcbiAgZTIuYWRkKCgpID0+IHtcbiAgICBpMiA9IHRydWU7XG4gIH0pO1xuICBsZXQgcjIgPSAoczIgPSAobzMgPSB0Mi5nZXRBbmltYXRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogbzMuY2FsbCh0MikuZmlsdGVyKChhMykgPT4gYTMgaW5zdGFuY2VvZiBDU1NUcmFuc2l0aW9uKSkgIT0gbnVsbCA/IHMyIDogW107XG4gIHJldHVybiByMi5sZW5ndGggPT09IDAgPyAobjIoKSwgZTIuZGlzcG9zZSkgOiAoUHJvbWlzZS5hbGxTZXR0bGVkKHIyLm1hcCgoYTMpID0+IGEzLmZpbmlzaGVkKSkudGhlbigoKSA9PiB7XG4gICAgaTIgfHwgbjIoKTtcbiAgfSksIGUyLmRpc3Bvc2UpO1xufVxuZnVuY3Rpb24gaiQxKHQyLCB7IGluRmxpZ2h0OiBuMiwgcHJlcGFyZTogZTIgfSkge1xuICBpZiAobjIgIT0gbnVsbCAmJiBuMi5jdXJyZW50KSB7XG4gICAgZTIoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGkyID0gdDIuc3R5bGUudHJhbnNpdGlvbjtcbiAgdDIuc3R5bGUudHJhbnNpdGlvbiA9IFwibm9uZVwiLCBlMigpLCB0Mi5vZmZzZXRIZWlnaHQsIHQyLnN0eWxlLnRyYW5zaXRpb24gPSBpMjtcbn1cbmZ1bmN0aW9uIEYkMShjMiwgeyBjb250YWluZXI6IGUyLCBhY2NlcHQ6IHQyLCB3YWxrOiByMiB9KSB7XG4gIGxldCBvMyA9IEEkMyh0MiksIGwyID0gQSQzKHIyKTtcbiAgeSQ2KCgpID0+IHtcbiAgICBvMy5jdXJyZW50ID0gdDIsIGwyLmN1cnJlbnQgPSByMjtcbiAgfSwgW3QyLCByMl0pLCBuJDMoKCkgPT4ge1xuICAgIGlmICghZTIgfHwgIWMyKSByZXR1cm47XG4gICAgbGV0IG4yID0gbyQ2KGUyKTtcbiAgICBpZiAoIW4yKSByZXR1cm47XG4gICAgbGV0IGYyID0gbzMuY3VycmVudCwgcDIgPSBsMi5jdXJyZW50LCBpMiA9IE9iamVjdC5hc3NpZ24oKG0yKSA9PiBmMihtMiksIHsgYWNjZXB0Tm9kZTogZjIgfSksIHUyID0gbjIuY3JlYXRlVHJlZVdhbGtlcihlMiwgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQsIGkyLCBmYWxzZSk7XG4gICAgZm9yICg7IHUyLm5leHROb2RlKCk7ICkgcDIodTIuY3VycmVudE5vZGUpO1xuICB9LCBbZTIsIGMyLCBvMywgbDJdKTtcbn1cbmZ1bmN0aW9uIGhhc1dpbmRvdygpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCI7XG59XG5mdW5jdGlvbiBnZXROb2RlTmFtZShub2RlKSB7XG4gIGlmIChpc05vZGUobm9kZSkpIHtcbiAgICByZXR1cm4gKG5vZGUubm9kZU5hbWUgfHwgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgfVxuICByZXR1cm4gXCIjZG9jdW1lbnRcIjtcbn1cbmZ1bmN0aW9uIGdldFdpbmRvdyhub2RlKSB7XG4gIHZhciBfbm9kZSRvd25lckRvY3VtZW50O1xuICByZXR1cm4gKG5vZGUgPT0gbnVsbCB8fCAoX25vZGUkb3duZXJEb2N1bWVudCA9IG5vZGUub3duZXJEb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9ub2RlJG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpIHx8IHdpbmRvdztcbn1cbmZ1bmN0aW9uIGdldERvY3VtZW50RWxlbWVudChub2RlKSB7XG4gIHZhciBfcmVmO1xuICByZXR1cm4gKF9yZWYgPSAoaXNOb2RlKG5vZGUpID8gbm9kZS5vd25lckRvY3VtZW50IDogbm9kZS5kb2N1bWVudCkgfHwgd2luZG93LmRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX3JlZi5kb2N1bWVudEVsZW1lbnQ7XG59XG5mdW5jdGlvbiBpc05vZGUodmFsdWUpIHtcbiAgaWYgKCFoYXNXaW5kb3coKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBOb2RlIHx8IHZhbHVlIGluc3RhbmNlb2YgZ2V0V2luZG93KHZhbHVlKS5Ob2RlO1xufVxuZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKSB7XG4gIGlmICghaGFzV2luZG93KCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRWxlbWVudCB8fCB2YWx1ZSBpbnN0YW5jZW9mIGdldFdpbmRvdyh2YWx1ZSkuRWxlbWVudDtcbn1cbmZ1bmN0aW9uIGlzSFRNTEVsZW1lbnQodmFsdWUpIHtcbiAgaWYgKCFoYXNXaW5kb3coKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCB2YWx1ZSBpbnN0YW5jZW9mIGdldFdpbmRvdyh2YWx1ZSkuSFRNTEVsZW1lbnQ7XG59XG5mdW5jdGlvbiBpc1NoYWRvd1Jvb3QodmFsdWUpIHtcbiAgaWYgKCFoYXNXaW5kb3coKSB8fCB0eXBlb2YgU2hhZG93Um9vdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBTaGFkb3dSb290IHx8IHZhbHVlIGluc3RhbmNlb2YgZ2V0V2luZG93KHZhbHVlKS5TaGFkb3dSb290O1xufVxuZnVuY3Rpb24gaXNPdmVyZmxvd0VsZW1lbnQoZWxlbWVudCkge1xuICBjb25zdCB7XG4gICAgb3ZlcmZsb3csXG4gICAgb3ZlcmZsb3dYLFxuICAgIG92ZXJmbG93WSxcbiAgICBkaXNwbGF5XG4gIH0gPSBnZXRDb21wdXRlZFN0eWxlJDEoZWxlbWVudCk7XG4gIHJldHVybiAvYXV0b3xzY3JvbGx8b3ZlcmxheXxoaWRkZW58Y2xpcC8udGVzdChvdmVyZmxvdyArIG92ZXJmbG93WSArIG92ZXJmbG93WCkgJiYgIVtcImlubGluZVwiLCBcImNvbnRlbnRzXCJdLmluY2x1ZGVzKGRpc3BsYXkpO1xufVxuZnVuY3Rpb24gaXNUYWJsZUVsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gW1widGFibGVcIiwgXCJ0ZFwiLCBcInRoXCJdLmluY2x1ZGVzKGdldE5vZGVOYW1lKGVsZW1lbnQpKTtcbn1cbmZ1bmN0aW9uIGlzVG9wTGF5ZXIoZWxlbWVudCkge1xuICByZXR1cm4gW1wiOnBvcG92ZXItb3BlblwiLCBcIjptb2RhbFwiXS5zb21lKChzZWxlY3RvcikgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKTtcbiAgICB9IGNhdGNoIChlMikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBpc0NvbnRhaW5pbmdCbG9jayhlbGVtZW50T3JDc3MpIHtcbiAgY29uc3Qgd2Via2l0ID0gaXNXZWJLaXQoKTtcbiAgY29uc3QgY3NzID0gaXNFbGVtZW50KGVsZW1lbnRPckNzcykgPyBnZXRDb21wdXRlZFN0eWxlJDEoZWxlbWVudE9yQ3NzKSA6IGVsZW1lbnRPckNzcztcbiAgcmV0dXJuIFtcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZVwiLCBcInNjYWxlXCIsIFwicm90YXRlXCIsIFwicGVyc3BlY3RpdmVcIl0uc29tZSgodmFsdWUpID0+IGNzc1t2YWx1ZV0gPyBjc3NbdmFsdWVdICE9PSBcIm5vbmVcIiA6IGZhbHNlKSB8fCAoY3NzLmNvbnRhaW5lclR5cGUgPyBjc3MuY29udGFpbmVyVHlwZSAhPT0gXCJub3JtYWxcIiA6IGZhbHNlKSB8fCAhd2Via2l0ICYmIChjc3MuYmFja2Ryb3BGaWx0ZXIgPyBjc3MuYmFja2Ryb3BGaWx0ZXIgIT09IFwibm9uZVwiIDogZmFsc2UpIHx8ICF3ZWJraXQgJiYgKGNzcy5maWx0ZXIgPyBjc3MuZmlsdGVyICE9PSBcIm5vbmVcIiA6IGZhbHNlKSB8fCBbXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGVcIiwgXCJzY2FsZVwiLCBcInJvdGF0ZVwiLCBcInBlcnNwZWN0aXZlXCIsIFwiZmlsdGVyXCJdLnNvbWUoKHZhbHVlKSA9PiAoY3NzLndpbGxDaGFuZ2UgfHwgXCJcIikuaW5jbHVkZXModmFsdWUpKSB8fCBbXCJwYWludFwiLCBcImxheW91dFwiLCBcInN0cmljdFwiLCBcImNvbnRlbnRcIl0uc29tZSgodmFsdWUpID0+IChjc3MuY29udGFpbiB8fCBcIlwiKS5pbmNsdWRlcyh2YWx1ZSkpO1xufVxuZnVuY3Rpb24gZ2V0Q29udGFpbmluZ0Jsb2NrKGVsZW1lbnQpIHtcbiAgbGV0IGN1cnJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShlbGVtZW50KTtcbiAgd2hpbGUgKGlzSFRNTEVsZW1lbnQoY3VycmVudE5vZGUpICYmICFpc0xhc3RUcmF2ZXJzYWJsZU5vZGUoY3VycmVudE5vZGUpKSB7XG4gICAgaWYgKGlzQ29udGFpbmluZ0Jsb2NrKGN1cnJlbnROb2RlKSkge1xuICAgICAgcmV0dXJuIGN1cnJlbnROb2RlO1xuICAgIH0gZWxzZSBpZiAoaXNUb3BMYXllcihjdXJyZW50Tm9kZSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjdXJyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUoY3VycmVudE5vZGUpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gaXNXZWJLaXQoKSB7XG4gIGlmICh0eXBlb2YgQ1NTID09PSBcInVuZGVmaW5lZFwiIHx8ICFDU1Muc3VwcG9ydHMpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIENTUy5zdXBwb3J0cyhcIi13ZWJraXQtYmFja2Ryb3AtZmlsdGVyXCIsIFwibm9uZVwiKTtcbn1cbmZ1bmN0aW9uIGlzTGFzdFRyYXZlcnNhYmxlTm9kZShub2RlKSB7XG4gIHJldHVybiBbXCJodG1sXCIsIFwiYm9keVwiLCBcIiNkb2N1bWVudFwiXS5pbmNsdWRlcyhnZXROb2RlTmFtZShub2RlKSk7XG59XG5mdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlJDEoZWxlbWVudCkge1xuICByZXR1cm4gZ2V0V2luZG93KGVsZW1lbnQpLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG59XG5mdW5jdGlvbiBnZXROb2RlU2Nyb2xsKGVsZW1lbnQpIHtcbiAgaWYgKGlzRWxlbWVudChlbGVtZW50KSkge1xuICAgIHJldHVybiB7XG4gICAgICBzY3JvbGxMZWZ0OiBlbGVtZW50LnNjcm9sbExlZnQsXG4gICAgICBzY3JvbGxUb3A6IGVsZW1lbnQuc2Nyb2xsVG9wXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHNjcm9sbExlZnQ6IGVsZW1lbnQuc2Nyb2xsWCxcbiAgICBzY3JvbGxUb3A6IGVsZW1lbnQuc2Nyb2xsWVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0UGFyZW50Tm9kZShub2RlKSB7XG4gIGlmIChnZXROb2RlTmFtZShub2RlKSA9PT0gXCJodG1sXCIpIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSAoXG4gICAgLy8gU3RlcCBpbnRvIHRoZSBzaGFkb3cgRE9NIG9mIHRoZSBwYXJlbnQgb2YgYSBzbG90dGVkIG5vZGUuXG4gICAgbm9kZS5hc3NpZ25lZFNsb3QgfHwgLy8gRE9NIEVsZW1lbnQgZGV0ZWN0ZWQuXG4gICAgbm9kZS5wYXJlbnROb2RlIHx8IC8vIFNoYWRvd1Jvb3QgZGV0ZWN0ZWQuXG4gICAgaXNTaGFkb3dSb290KG5vZGUpICYmIG5vZGUuaG9zdCB8fCAvLyBGYWxsYmFjay5cbiAgICBnZXREb2N1bWVudEVsZW1lbnQobm9kZSlcbiAgKTtcbiAgcmV0dXJuIGlzU2hhZG93Um9vdChyZXN1bHQpID8gcmVzdWx0Lmhvc3QgOiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXROZWFyZXN0T3ZlcmZsb3dBbmNlc3Rvcihub2RlKSB7XG4gIGNvbnN0IHBhcmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKG5vZGUpO1xuICBpZiAoaXNMYXN0VHJhdmVyc2FibGVOb2RlKHBhcmVudE5vZGUpKSB7XG4gICAgcmV0dXJuIG5vZGUub3duZXJEb2N1bWVudCA/IG5vZGUub3duZXJEb2N1bWVudC5ib2R5IDogbm9kZS5ib2R5O1xuICB9XG4gIGlmIChpc0hUTUxFbGVtZW50KHBhcmVudE5vZGUpICYmIGlzT3ZlcmZsb3dFbGVtZW50KHBhcmVudE5vZGUpKSB7XG4gICAgcmV0dXJuIHBhcmVudE5vZGU7XG4gIH1cbiAgcmV0dXJuIGdldE5lYXJlc3RPdmVyZmxvd0FuY2VzdG9yKHBhcmVudE5vZGUpO1xufVxuZnVuY3Rpb24gZ2V0T3ZlcmZsb3dBbmNlc3RvcnMobm9kZSwgbGlzdCwgdHJhdmVyc2VJZnJhbWVzKSB7XG4gIHZhciBfbm9kZSRvd25lckRvY3VtZW50MjtcbiAgaWYgKGxpc3QgPT09IHZvaWQgMCkge1xuICAgIGxpc3QgPSBbXTtcbiAgfVxuICBpZiAodHJhdmVyc2VJZnJhbWVzID09PSB2b2lkIDApIHtcbiAgICB0cmF2ZXJzZUlmcmFtZXMgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHNjcm9sbGFibGVBbmNlc3RvciA9IGdldE5lYXJlc3RPdmVyZmxvd0FuY2VzdG9yKG5vZGUpO1xuICBjb25zdCBpc0JvZHkgPSBzY3JvbGxhYmxlQW5jZXN0b3IgPT09ICgoX25vZGUkb3duZXJEb2N1bWVudDIgPSBub2RlLm93bmVyRG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbm9kZSRvd25lckRvY3VtZW50Mi5ib2R5KTtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KHNjcm9sbGFibGVBbmNlc3Rvcik7XG4gIGlmIChpc0JvZHkpIHtcbiAgICBjb25zdCBmcmFtZUVsZW1lbnQgPSBnZXRGcmFtZUVsZW1lbnQod2luKTtcbiAgICByZXR1cm4gbGlzdC5jb25jYXQod2luLCB3aW4udmlzdWFsVmlld3BvcnQgfHwgW10sIGlzT3ZlcmZsb3dFbGVtZW50KHNjcm9sbGFibGVBbmNlc3RvcikgPyBzY3JvbGxhYmxlQW5jZXN0b3IgOiBbXSwgZnJhbWVFbGVtZW50ICYmIHRyYXZlcnNlSWZyYW1lcyA/IGdldE92ZXJmbG93QW5jZXN0b3JzKGZyYW1lRWxlbWVudCkgOiBbXSk7XG4gIH1cbiAgcmV0dXJuIGxpc3QuY29uY2F0KHNjcm9sbGFibGVBbmNlc3RvciwgZ2V0T3ZlcmZsb3dBbmNlc3RvcnMoc2Nyb2xsYWJsZUFuY2VzdG9yLCBbXSwgdHJhdmVyc2VJZnJhbWVzKSk7XG59XG5mdW5jdGlvbiBnZXRGcmFtZUVsZW1lbnQod2luKSB7XG4gIHJldHVybiB3aW4ucGFyZW50ICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZih3aW4ucGFyZW50KSA/IHdpbi5mcmFtZUVsZW1lbnQgOiBudWxsO1xufVxuZnVuY3Rpb24gZ2V0VXNlckFnZW50KCkge1xuICBjb25zdCB1YURhdGEgPSBuYXZpZ2F0b3IudXNlckFnZW50RGF0YTtcbiAgaWYgKHVhRGF0YSAmJiBBcnJheS5pc0FycmF5KHVhRGF0YS5icmFuZHMpKSB7XG4gICAgcmV0dXJuIHVhRGF0YS5icmFuZHMubWFwKChfcmVmKSA9PiB7XG4gICAgICBsZXQge1xuICAgICAgICBicmFuZCxcbiAgICAgICAgdmVyc2lvblxuICAgICAgfSA9IF9yZWY7XG4gICAgICByZXR1cm4gYnJhbmQgKyBcIi9cIiArIHZlcnNpb247XG4gICAgfSkuam9pbihcIiBcIik7XG4gIH1cbiAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQ7XG59XG5jb25zdCBtaW4gPSBNYXRoLm1pbjtcbmNvbnN0IG1heCA9IE1hdGgubWF4O1xuY29uc3Qgcm91bmQgPSBNYXRoLnJvdW5kO1xuY29uc3QgZmxvb3IgPSBNYXRoLmZsb29yO1xuY29uc3QgY3JlYXRlQ29vcmRzID0gKHYyKSA9PiAoe1xuICB4OiB2MixcbiAgeTogdjJcbn0pO1xuY29uc3Qgb3Bwb3NpdGVTaWRlTWFwID0ge1xuICBsZWZ0OiBcInJpZ2h0XCIsXG4gIHJpZ2h0OiBcImxlZnRcIixcbiAgYm90dG9tOiBcInRvcFwiLFxuICB0b3A6IFwiYm90dG9tXCJcbn07XG5jb25zdCBvcHBvc2l0ZUFsaWdubWVudE1hcCA9IHtcbiAgc3RhcnQ6IFwiZW5kXCIsXG4gIGVuZDogXCJzdGFydFwiXG59O1xuZnVuY3Rpb24gY2xhbXAoc3RhcnQsIHZhbHVlLCBlbmQpIHtcbiAgcmV0dXJuIG1heChzdGFydCwgbWluKHZhbHVlLCBlbmQpKTtcbn1cbmZ1bmN0aW9uIGV2YWx1YXRlKHZhbHVlLCBwYXJhbSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyB2YWx1ZShwYXJhbSkgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGdldFNpZGUocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQuc3BsaXQoXCItXCIpWzBdO1xufVxuZnVuY3Rpb24gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnNwbGl0KFwiLVwiKVsxXTtcbn1cbmZ1bmN0aW9uIGdldE9wcG9zaXRlQXhpcyhheGlzKSB7XG4gIHJldHVybiBheGlzID09PSBcInhcIiA/IFwieVwiIDogXCJ4XCI7XG59XG5mdW5jdGlvbiBnZXRBeGlzTGVuZ3RoKGF4aXMpIHtcbiAgcmV0dXJuIGF4aXMgPT09IFwieVwiID8gXCJoZWlnaHRcIiA6IFwid2lkdGhcIjtcbn1cbmZ1bmN0aW9uIGdldFNpZGVBeGlzKHBsYWNlbWVudCkge1xuICByZXR1cm4gW1widG9wXCIsIFwiYm90dG9tXCJdLmluY2x1ZGVzKGdldFNpZGUocGxhY2VtZW50KSkgPyBcInlcIiA6IFwieFwiO1xufVxuZnVuY3Rpb24gZ2V0QWxpZ25tZW50QXhpcyhwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIGdldE9wcG9zaXRlQXhpcyhnZXRTaWRlQXhpcyhwbGFjZW1lbnQpKTtcbn1cbmZ1bmN0aW9uIGdldEFsaWdubWVudFNpZGVzKHBsYWNlbWVudCwgcmVjdHMsIHJ0bCkge1xuICBpZiAocnRsID09PSB2b2lkIDApIHtcbiAgICBydGwgPSBmYWxzZTtcbiAgfVxuICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQocGxhY2VtZW50KTtcbiAgY29uc3QgYWxpZ25tZW50QXhpcyA9IGdldEFsaWdubWVudEF4aXMocGxhY2VtZW50KTtcbiAgY29uc3QgbGVuZ3RoID0gZ2V0QXhpc0xlbmd0aChhbGlnbm1lbnRBeGlzKTtcbiAgbGV0IG1haW5BbGlnbm1lbnRTaWRlID0gYWxpZ25tZW50QXhpcyA9PT0gXCJ4XCIgPyBhbGlnbm1lbnQgPT09IChydGwgPyBcImVuZFwiIDogXCJzdGFydFwiKSA/IFwicmlnaHRcIiA6IFwibGVmdFwiIDogYWxpZ25tZW50ID09PSBcInN0YXJ0XCIgPyBcImJvdHRvbVwiIDogXCJ0b3BcIjtcbiAgaWYgKHJlY3RzLnJlZmVyZW5jZVtsZW5ndGhdID4gcmVjdHMuZmxvYXRpbmdbbGVuZ3RoXSkge1xuICAgIG1haW5BbGlnbm1lbnRTaWRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQobWFpbkFsaWdubWVudFNpZGUpO1xuICB9XG4gIHJldHVybiBbbWFpbkFsaWdubWVudFNpZGUsIGdldE9wcG9zaXRlUGxhY2VtZW50KG1haW5BbGlnbm1lbnRTaWRlKV07XG59XG5mdW5jdGlvbiBnZXRFeHBhbmRlZFBsYWNlbWVudHMocGxhY2VtZW50KSB7XG4gIGNvbnN0IG9wcG9zaXRlUGxhY2VtZW50ID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTtcbiAgcmV0dXJuIFtnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudChwbGFjZW1lbnQpLCBvcHBvc2l0ZVBsYWNlbWVudCwgZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQob3Bwb3NpdGVQbGFjZW1lbnQpXTtcbn1cbmZ1bmN0aW9uIGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnJlcGxhY2UoL3N0YXJ0fGVuZC9nLCAoYWxpZ25tZW50KSA9PiBvcHBvc2l0ZUFsaWdubWVudE1hcFthbGlnbm1lbnRdKTtcbn1cbmZ1bmN0aW9uIGdldFNpZGVMaXN0KHNpZGUsIGlzU3RhcnQsIHJ0bCkge1xuICBjb25zdCBsciA9IFtcImxlZnRcIiwgXCJyaWdodFwiXTtcbiAgY29uc3QgcmwgPSBbXCJyaWdodFwiLCBcImxlZnRcIl07XG4gIGNvbnN0IHRiID0gW1widG9wXCIsIFwiYm90dG9tXCJdO1xuICBjb25zdCBidCA9IFtcImJvdHRvbVwiLCBcInRvcFwiXTtcbiAgc3dpdGNoIChzaWRlKSB7XG4gICAgY2FzZSBcInRvcFwiOlxuICAgIGNhc2UgXCJib3R0b21cIjpcbiAgICAgIGlmIChydGwpIHJldHVybiBpc1N0YXJ0ID8gcmwgOiBscjtcbiAgICAgIHJldHVybiBpc1N0YXJ0ID8gbHIgOiBybDtcbiAgICBjYXNlIFwibGVmdFwiOlxuICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgcmV0dXJuIGlzU3RhcnQgPyB0YiA6IGJ0O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gW107XG4gIH1cbn1cbmZ1bmN0aW9uIGdldE9wcG9zaXRlQXhpc1BsYWNlbWVudHMocGxhY2VtZW50LCBmbGlwQWxpZ25tZW50LCBkaXJlY3Rpb24sIHJ0bCkge1xuICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQocGxhY2VtZW50KTtcbiAgbGV0IGxpc3QgPSBnZXRTaWRlTGlzdChnZXRTaWRlKHBsYWNlbWVudCksIGRpcmVjdGlvbiA9PT0gXCJzdGFydFwiLCBydGwpO1xuICBpZiAoYWxpZ25tZW50KSB7XG4gICAgbGlzdCA9IGxpc3QubWFwKChzaWRlKSA9PiBzaWRlICsgXCItXCIgKyBhbGlnbm1lbnQpO1xuICAgIGlmIChmbGlwQWxpZ25tZW50KSB7XG4gICAgICBsaXN0ID0gbGlzdC5jb25jYXQobGlzdC5tYXAoZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxpc3Q7XG59XG5mdW5jdGlvbiBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5yZXBsYWNlKC9sZWZ0fHJpZ2h0fGJvdHRvbXx0b3AvZywgKHNpZGUpID0+IG9wcG9zaXRlU2lkZU1hcFtzaWRlXSk7XG59XG5mdW5jdGlvbiBleHBhbmRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgLi4ucGFkZGluZ1xuICB9O1xufVxuZnVuY3Rpb24gZ2V0UGFkZGluZ09iamVjdChwYWRkaW5nKSB7XG4gIHJldHVybiB0eXBlb2YgcGFkZGluZyAhPT0gXCJudW1iZXJcIiA/IGV4cGFuZFBhZGRpbmdPYmplY3QocGFkZGluZykgOiB7XG4gICAgdG9wOiBwYWRkaW5nLFxuICAgIHJpZ2h0OiBwYWRkaW5nLFxuICAgIGJvdHRvbTogcGFkZGluZyxcbiAgICBsZWZ0OiBwYWRkaW5nXG4gIH07XG59XG5mdW5jdGlvbiByZWN0VG9DbGllbnRSZWN0KHJlY3QpIHtcbiAgY29uc3Qge1xuICAgIHg6IHgyLFxuICAgIHk6IHkyLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodFxuICB9ID0gcmVjdDtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgdG9wOiB5MixcbiAgICBsZWZ0OiB4MixcbiAgICByaWdodDogeDIgKyB3aWR0aCxcbiAgICBib3R0b206IHkyICsgaGVpZ2h0LFxuICAgIHg6IHgyLFxuICAgIHk6IHkyXG4gIH07XG59XG5mdW5jdGlvbiBjb21wdXRlQ29vcmRzRnJvbVBsYWNlbWVudChfcmVmLCBwbGFjZW1lbnQsIHJ0bCkge1xuICBsZXQge1xuICAgIHJlZmVyZW5jZSxcbiAgICBmbG9hdGluZ1xuICB9ID0gX3JlZjtcbiAgY29uc3Qgc2lkZUF4aXMgPSBnZXRTaWRlQXhpcyhwbGFjZW1lbnQpO1xuICBjb25zdCBhbGlnbm1lbnRBeGlzID0gZ2V0QWxpZ25tZW50QXhpcyhwbGFjZW1lbnQpO1xuICBjb25zdCBhbGlnbkxlbmd0aCA9IGdldEF4aXNMZW5ndGgoYWxpZ25tZW50QXhpcyk7XG4gIGNvbnN0IHNpZGUgPSBnZXRTaWRlKHBsYWNlbWVudCk7XG4gIGNvbnN0IGlzVmVydGljYWwgPSBzaWRlQXhpcyA9PT0gXCJ5XCI7XG4gIGNvbnN0IGNvbW1vblggPSByZWZlcmVuY2UueCArIHJlZmVyZW5jZS53aWR0aCAvIDIgLSBmbG9hdGluZy53aWR0aCAvIDI7XG4gIGNvbnN0IGNvbW1vblkgPSByZWZlcmVuY2UueSArIHJlZmVyZW5jZS5oZWlnaHQgLyAyIC0gZmxvYXRpbmcuaGVpZ2h0IC8gMjtcbiAgY29uc3QgY29tbW9uQWxpZ24gPSByZWZlcmVuY2VbYWxpZ25MZW5ndGhdIC8gMiAtIGZsb2F0aW5nW2FsaWduTGVuZ3RoXSAvIDI7XG4gIGxldCBjb29yZHM7XG4gIHN3aXRjaCAoc2lkZSkge1xuICAgIGNhc2UgXCJ0b3BcIjpcbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgeDogY29tbW9uWCxcbiAgICAgICAgeTogcmVmZXJlbmNlLnkgLSBmbG9hdGluZy5oZWlnaHRcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICBjb29yZHMgPSB7XG4gICAgICAgIHg6IGNvbW1vblgsXG4gICAgICAgIHk6IHJlZmVyZW5jZS55ICsgcmVmZXJlbmNlLmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgY29vcmRzID0ge1xuICAgICAgICB4OiByZWZlcmVuY2UueCArIHJlZmVyZW5jZS53aWR0aCxcbiAgICAgICAgeTogY29tbW9uWVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICBjb29yZHMgPSB7XG4gICAgICAgIHg6IHJlZmVyZW5jZS54IC0gZmxvYXRpbmcud2lkdGgsXG4gICAgICAgIHk6IGNvbW1vbllcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29vcmRzID0ge1xuICAgICAgICB4OiByZWZlcmVuY2UueCxcbiAgICAgICAgeTogcmVmZXJlbmNlLnlcbiAgICAgIH07XG4gIH1cbiAgc3dpdGNoIChnZXRBbGlnbm1lbnQocGxhY2VtZW50KSkge1xuICAgIGNhc2UgXCJzdGFydFwiOlxuICAgICAgY29vcmRzW2FsaWdubWVudEF4aXNdIC09IGNvbW1vbkFsaWduICogKHJ0bCAmJiBpc1ZlcnRpY2FsID8gLTEgOiAxKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgIGNvb3Jkc1thbGlnbm1lbnRBeGlzXSArPSBjb21tb25BbGlnbiAqIChydGwgJiYgaXNWZXJ0aWNhbCA/IC0xIDogMSk7XG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gY29vcmRzO1xufVxuY29uc3QgY29tcHV0ZVBvc2l0aW9uJDEgPSBhc3luYyAocmVmZXJlbmNlLCBmbG9hdGluZywgY29uZmlnKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBwbGFjZW1lbnQgPSBcImJvdHRvbVwiLFxuICAgIHN0cmF0ZWd5ID0gXCJhYnNvbHV0ZVwiLFxuICAgIG1pZGRsZXdhcmUgPSBbXSxcbiAgICBwbGF0Zm9ybTogcGxhdGZvcm0yXG4gIH0gPSBjb25maWc7XG4gIGNvbnN0IHZhbGlkTWlkZGxld2FyZSA9IG1pZGRsZXdhcmUuZmlsdGVyKEJvb2xlYW4pO1xuICBjb25zdCBydGwgPSBhd2FpdCAocGxhdGZvcm0yLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybTIuaXNSVEwoZmxvYXRpbmcpKTtcbiAgbGV0IHJlY3RzID0gYXdhaXQgcGxhdGZvcm0yLmdldEVsZW1lbnRSZWN0cyh7XG4gICAgcmVmZXJlbmNlLFxuICAgIGZsb2F0aW5nLFxuICAgIHN0cmF0ZWd5XG4gIH0pO1xuICBsZXQge1xuICAgIHg6IHgyLFxuICAgIHk6IHkyXG4gIH0gPSBjb21wdXRlQ29vcmRzRnJvbVBsYWNlbWVudChyZWN0cywgcGxhY2VtZW50LCBydGwpO1xuICBsZXQgc3RhdGVmdWxQbGFjZW1lbnQgPSBwbGFjZW1lbnQ7XG4gIGxldCBtaWRkbGV3YXJlRGF0YSA9IHt9O1xuICBsZXQgcmVzZXRDb3VudCA9IDA7XG4gIGZvciAobGV0IGkyID0gMDsgaTIgPCB2YWxpZE1pZGRsZXdhcmUubGVuZ3RoOyBpMisrKSB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZSxcbiAgICAgIGZuOiBmbjJcbiAgICB9ID0gdmFsaWRNaWRkbGV3YXJlW2kyXTtcbiAgICBjb25zdCB7XG4gICAgICB4OiBuZXh0WCxcbiAgICAgIHk6IG5leHRZLFxuICAgICAgZGF0YSxcbiAgICAgIHJlc2V0XG4gICAgfSA9IGF3YWl0IGZuMih7XG4gICAgICB4OiB4MixcbiAgICAgIHk6IHkyLFxuICAgICAgaW5pdGlhbFBsYWNlbWVudDogcGxhY2VtZW50LFxuICAgICAgcGxhY2VtZW50OiBzdGF0ZWZ1bFBsYWNlbWVudCxcbiAgICAgIHN0cmF0ZWd5LFxuICAgICAgbWlkZGxld2FyZURhdGEsXG4gICAgICByZWN0cyxcbiAgICAgIHBsYXRmb3JtOiBwbGF0Zm9ybTIsXG4gICAgICBlbGVtZW50czoge1xuICAgICAgICByZWZlcmVuY2UsXG4gICAgICAgIGZsb2F0aW5nXG4gICAgICB9XG4gICAgfSk7XG4gICAgeDIgPSBuZXh0WCAhPSBudWxsID8gbmV4dFggOiB4MjtcbiAgICB5MiA9IG5leHRZICE9IG51bGwgPyBuZXh0WSA6IHkyO1xuICAgIG1pZGRsZXdhcmVEYXRhID0ge1xuICAgICAgLi4ubWlkZGxld2FyZURhdGEsXG4gICAgICBbbmFtZV06IHtcbiAgICAgICAgLi4ubWlkZGxld2FyZURhdGFbbmFtZV0sXG4gICAgICAgIC4uLmRhdGFcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChyZXNldCAmJiByZXNldENvdW50IDw9IDUwKSB7XG4gICAgICByZXNldENvdW50Kys7XG4gICAgICBpZiAodHlwZW9mIHJlc2V0ID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGlmIChyZXNldC5wbGFjZW1lbnQpIHtcbiAgICAgICAgICBzdGF0ZWZ1bFBsYWNlbWVudCA9IHJlc2V0LnBsYWNlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzZXQucmVjdHMpIHtcbiAgICAgICAgICByZWN0cyA9IHJlc2V0LnJlY3RzID09PSB0cnVlID8gYXdhaXQgcGxhdGZvcm0yLmdldEVsZW1lbnRSZWN0cyh7XG4gICAgICAgICAgICByZWZlcmVuY2UsXG4gICAgICAgICAgICBmbG9hdGluZyxcbiAgICAgICAgICAgIHN0cmF0ZWd5XG4gICAgICAgICAgfSkgOiByZXNldC5yZWN0cztcbiAgICAgICAgfVxuICAgICAgICAoe1xuICAgICAgICAgIHg6IHgyLFxuICAgICAgICAgIHk6IHkyXG4gICAgICAgIH0gPSBjb21wdXRlQ29vcmRzRnJvbVBsYWNlbWVudChyZWN0cywgc3RhdGVmdWxQbGFjZW1lbnQsIHJ0bCkpO1xuICAgICAgfVxuICAgICAgaTIgPSAtMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4OiB4MixcbiAgICB5OiB5MixcbiAgICBwbGFjZW1lbnQ6IHN0YXRlZnVsUGxhY2VtZW50LFxuICAgIHN0cmF0ZWd5LFxuICAgIG1pZGRsZXdhcmVEYXRhXG4gIH07XG59O1xuYXN5bmMgZnVuY3Rpb24gZGV0ZWN0T3ZlcmZsb3ckMShzdGF0ZSwgb3B0aW9ucykge1xuICB2YXIgX2F3YWl0JHBsYXRmb3JtJGlzRWxlO1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIGNvbnN0IHtcbiAgICB4OiB4MixcbiAgICB5OiB5MixcbiAgICBwbGF0Zm9ybTogcGxhdGZvcm0yLFxuICAgIHJlY3RzLFxuICAgIGVsZW1lbnRzLFxuICAgIHN0cmF0ZWd5XG4gIH0gPSBzdGF0ZTtcbiAgY29uc3Qge1xuICAgIGJvdW5kYXJ5ID0gXCJjbGlwcGluZ0FuY2VzdG9yc1wiLFxuICAgIHJvb3RCb3VuZGFyeSA9IFwidmlld3BvcnRcIixcbiAgICBlbGVtZW50Q29udGV4dCA9IFwiZmxvYXRpbmdcIixcbiAgICBhbHRCb3VuZGFyeSA9IGZhbHNlLFxuICAgIHBhZGRpbmcgPSAwXG4gIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gIGNvbnN0IHBhZGRpbmdPYmplY3QgPSBnZXRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpO1xuICBjb25zdCBhbHRDb250ZXh0ID0gZWxlbWVudENvbnRleHQgPT09IFwiZmxvYXRpbmdcIiA/IFwicmVmZXJlbmNlXCIgOiBcImZsb2F0aW5nXCI7XG4gIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1thbHRCb3VuZGFyeSA/IGFsdENvbnRleHQgOiBlbGVtZW50Q29udGV4dF07XG4gIGNvbnN0IGNsaXBwaW5nQ2xpZW50UmVjdCA9IHJlY3RUb0NsaWVudFJlY3QoYXdhaXQgcGxhdGZvcm0yLmdldENsaXBwaW5nUmVjdCh7XG4gICAgZWxlbWVudDogKChfYXdhaXQkcGxhdGZvcm0kaXNFbGUgPSBhd2FpdCAocGxhdGZvcm0yLmlzRWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0yLmlzRWxlbWVudChlbGVtZW50KSkpICE9IG51bGwgPyBfYXdhaXQkcGxhdGZvcm0kaXNFbGUgOiB0cnVlKSA/IGVsZW1lbnQgOiBlbGVtZW50LmNvbnRleHRFbGVtZW50IHx8IGF3YWl0IChwbGF0Zm9ybTIuZ2V0RG9jdW1lbnRFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybTIuZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnRzLmZsb2F0aW5nKSksXG4gICAgYm91bmRhcnksXG4gICAgcm9vdEJvdW5kYXJ5LFxuICAgIHN0cmF0ZWd5XG4gIH0pKTtcbiAgY29uc3QgcmVjdCA9IGVsZW1lbnRDb250ZXh0ID09PSBcImZsb2F0aW5nXCIgPyB7XG4gICAgeDogeDIsXG4gICAgeTogeTIsXG4gICAgd2lkdGg6IHJlY3RzLmZsb2F0aW5nLndpZHRoLFxuICAgIGhlaWdodDogcmVjdHMuZmxvYXRpbmcuaGVpZ2h0XG4gIH0gOiByZWN0cy5yZWZlcmVuY2U7XG4gIGNvbnN0IG9mZnNldFBhcmVudCA9IGF3YWl0IChwbGF0Zm9ybTIuZ2V0T2Zmc2V0UGFyZW50ID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybTIuZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnRzLmZsb2F0aW5nKSk7XG4gIGNvbnN0IG9mZnNldFNjYWxlID0gYXdhaXQgKHBsYXRmb3JtMi5pc0VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtMi5pc0VsZW1lbnQob2Zmc2V0UGFyZW50KSkgPyBhd2FpdCAocGxhdGZvcm0yLmdldFNjYWxlID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybTIuZ2V0U2NhbGUob2Zmc2V0UGFyZW50KSkgfHwge1xuICAgIHg6IDEsXG4gICAgeTogMVxuICB9IDoge1xuICAgIHg6IDEsXG4gICAgeTogMVxuICB9O1xuICBjb25zdCBlbGVtZW50Q2xpZW50UmVjdCA9IHJlY3RUb0NsaWVudFJlY3QocGxhdGZvcm0yLmNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0ID8gYXdhaXQgcGxhdGZvcm0yLmNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0KHtcbiAgICBlbGVtZW50cyxcbiAgICByZWN0LFxuICAgIG9mZnNldFBhcmVudCxcbiAgICBzdHJhdGVneVxuICB9KSA6IHJlY3QpO1xuICByZXR1cm4ge1xuICAgIHRvcDogKGNsaXBwaW5nQ2xpZW50UmVjdC50b3AgLSBlbGVtZW50Q2xpZW50UmVjdC50b3AgKyBwYWRkaW5nT2JqZWN0LnRvcCkgLyBvZmZzZXRTY2FsZS55LFxuICAgIGJvdHRvbTogKGVsZW1lbnRDbGllbnRSZWN0LmJvdHRvbSAtIGNsaXBwaW5nQ2xpZW50UmVjdC5ib3R0b20gKyBwYWRkaW5nT2JqZWN0LmJvdHRvbSkgLyBvZmZzZXRTY2FsZS55LFxuICAgIGxlZnQ6IChjbGlwcGluZ0NsaWVudFJlY3QubGVmdCAtIGVsZW1lbnRDbGllbnRSZWN0LmxlZnQgKyBwYWRkaW5nT2JqZWN0LmxlZnQpIC8gb2Zmc2V0U2NhbGUueCxcbiAgICByaWdodDogKGVsZW1lbnRDbGllbnRSZWN0LnJpZ2h0IC0gY2xpcHBpbmdDbGllbnRSZWN0LnJpZ2h0ICsgcGFkZGluZ09iamVjdC5yaWdodCkgLyBvZmZzZXRTY2FsZS54XG4gIH07XG59XG5jb25zdCBmbGlwJDIgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBcImZsaXBcIixcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJGFycm93LCBfbWlkZGxld2FyZURhdGEkZmxpcDtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBtaWRkbGV3YXJlRGF0YSxcbiAgICAgICAgcmVjdHMsXG4gICAgICAgIGluaXRpYWxQbGFjZW1lbnQsXG4gICAgICAgIHBsYXRmb3JtOiBwbGF0Zm9ybTIsXG4gICAgICAgIGVsZW1lbnRzXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG1haW5BeGlzOiBjaGVja01haW5BeGlzID0gdHJ1ZSxcbiAgICAgICAgY3Jvc3NBeGlzOiBjaGVja0Nyb3NzQXhpcyA9IHRydWUsXG4gICAgICAgIGZhbGxiYWNrUGxhY2VtZW50czogc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzLFxuICAgICAgICBmYWxsYmFja1N0cmF0ZWd5ID0gXCJiZXN0Rml0XCIsXG4gICAgICAgIGZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24gPSBcIm5vbmVcIixcbiAgICAgICAgZmxpcEFsaWdubWVudCA9IHRydWUsXG4gICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9uc1xuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgIGlmICgoX21pZGRsZXdhcmVEYXRhJGFycm93ID0gbWlkZGxld2FyZURhdGEuYXJyb3cpICE9IG51bGwgJiYgX21pZGRsZXdhcmVEYXRhJGFycm93LmFsaWdubWVudE9mZnNldCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBjb25zdCBzaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpO1xuICAgICAgY29uc3QgaW5pdGlhbFNpZGVBeGlzID0gZ2V0U2lkZUF4aXMoaW5pdGlhbFBsYWNlbWVudCk7XG4gICAgICBjb25zdCBpc0Jhc2VQbGFjZW1lbnQgPSBnZXRTaWRlKGluaXRpYWxQbGFjZW1lbnQpID09PSBpbml0aWFsUGxhY2VtZW50O1xuICAgICAgY29uc3QgcnRsID0gYXdhaXQgKHBsYXRmb3JtMi5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0yLmlzUlRMKGVsZW1lbnRzLmZsb2F0aW5nKSk7XG4gICAgICBjb25zdCBmYWxsYmFja1BsYWNlbWVudHMgPSBzcGVjaWZpZWRGYWxsYmFja1BsYWNlbWVudHMgfHwgKGlzQmFzZVBsYWNlbWVudCB8fCAhZmxpcEFsaWdubWVudCA/IFtnZXRPcHBvc2l0ZVBsYWNlbWVudChpbml0aWFsUGxhY2VtZW50KV0gOiBnZXRFeHBhbmRlZFBsYWNlbWVudHMoaW5pdGlhbFBsYWNlbWVudCkpO1xuICAgICAgY29uc3QgaGFzRmFsbGJhY2tBeGlzU2lkZURpcmVjdGlvbiA9IGZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24gIT09IFwibm9uZVwiO1xuICAgICAgaWYgKCFzcGVjaWZpZWRGYWxsYmFja1BsYWNlbWVudHMgJiYgaGFzRmFsbGJhY2tBeGlzU2lkZURpcmVjdGlvbikge1xuICAgICAgICBmYWxsYmFja1BsYWNlbWVudHMucHVzaCguLi5nZXRPcHBvc2l0ZUF4aXNQbGFjZW1lbnRzKGluaXRpYWxQbGFjZW1lbnQsIGZsaXBBbGlnbm1lbnQsIGZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24sIHJ0bCkpO1xuICAgICAgfVxuICAgICAgY29uc3QgcGxhY2VtZW50cyA9IFtpbml0aWFsUGxhY2VtZW50LCAuLi5mYWxsYmFja1BsYWNlbWVudHNdO1xuICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyQxKHN0YXRlLCBkZXRlY3RPdmVyZmxvd09wdGlvbnMpO1xuICAgICAgY29uc3Qgb3ZlcmZsb3dzID0gW107XG4gICAgICBsZXQgb3ZlcmZsb3dzRGF0YSA9ICgoX21pZGRsZXdhcmVEYXRhJGZsaXAgPSBtaWRkbGV3YXJlRGF0YS5mbGlwKSA9PSBudWxsID8gdm9pZCAwIDogX21pZGRsZXdhcmVEYXRhJGZsaXAub3ZlcmZsb3dzKSB8fCBbXTtcbiAgICAgIGlmIChjaGVja01haW5BeGlzKSB7XG4gICAgICAgIG92ZXJmbG93cy5wdXNoKG92ZXJmbG93W3NpZGVdKTtcbiAgICAgIH1cbiAgICAgIGlmIChjaGVja0Nyb3NzQXhpcykge1xuICAgICAgICBjb25zdCBzaWRlcyA9IGdldEFsaWdubWVudFNpZGVzKHBsYWNlbWVudCwgcmVjdHMsIHJ0bCk7XG4gICAgICAgIG92ZXJmbG93cy5wdXNoKG92ZXJmbG93W3NpZGVzWzBdXSwgb3ZlcmZsb3dbc2lkZXNbMV1dKTtcbiAgICAgIH1cbiAgICAgIG92ZXJmbG93c0RhdGEgPSBbLi4ub3ZlcmZsb3dzRGF0YSwge1xuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIG92ZXJmbG93c1xuICAgICAgfV07XG4gICAgICBpZiAoIW92ZXJmbG93cy5ldmVyeSgoc2lkZTIpID0+IHNpZGUyIDw9IDApKSB7XG4gICAgICAgIHZhciBfbWlkZGxld2FyZURhdGEkZmxpcDIsIF9vdmVyZmxvd3NEYXRhJGZpbHRlcjtcbiAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gKCgoX21pZGRsZXdhcmVEYXRhJGZsaXAyID0gbWlkZGxld2FyZURhdGEuZmxpcCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRmbGlwMi5pbmRleCkgfHwgMCkgKyAxO1xuICAgICAgICBjb25zdCBuZXh0UGxhY2VtZW50ID0gcGxhY2VtZW50c1tuZXh0SW5kZXhdO1xuICAgICAgICBpZiAobmV4dFBsYWNlbWVudCkge1xuICAgICAgICAgIHZhciBfb3ZlcmZsb3dzRGF0YSQ7XG4gICAgICAgICAgY29uc3QgaWdub3JlQ3Jvc3NBeGlzT3ZlcmZsb3cgPSBjaGVja0Nyb3NzQXhpcyA9PT0gXCJhbGlnbm1lbnRcIiA/IGluaXRpYWxTaWRlQXhpcyAhPT0gZ2V0U2lkZUF4aXMobmV4dFBsYWNlbWVudCkgOiBmYWxzZTtcbiAgICAgICAgICBjb25zdCBoYXNJbml0aWFsTWFpbkF4aXNPdmVyZmxvdyA9ICgoX292ZXJmbG93c0RhdGEkID0gb3ZlcmZsb3dzRGF0YVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9vdmVyZmxvd3NEYXRhJC5vdmVyZmxvd3NbMF0pID4gMDtcbiAgICAgICAgICBpZiAoIWlnbm9yZUNyb3NzQXhpc092ZXJmbG93IHx8IGhhc0luaXRpYWxNYWluQXhpc092ZXJmbG93KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IG5leHRJbmRleCxcbiAgICAgICAgICAgICAgICBvdmVyZmxvd3M6IG92ZXJmbG93c0RhdGFcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IG5leHRQbGFjZW1lbnRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc2V0UGxhY2VtZW50ID0gKF9vdmVyZmxvd3NEYXRhJGZpbHRlciA9IG92ZXJmbG93c0RhdGEuZmlsdGVyKChkMikgPT4gZDIub3ZlcmZsb3dzWzBdIDw9IDApLnNvcnQoKGEzLCBiMikgPT4gYTMub3ZlcmZsb3dzWzFdIC0gYjIub3ZlcmZsb3dzWzFdKVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9vdmVyZmxvd3NEYXRhJGZpbHRlci5wbGFjZW1lbnQ7XG4gICAgICAgIGlmICghcmVzZXRQbGFjZW1lbnQpIHtcbiAgICAgICAgICBzd2l0Y2ggKGZhbGxiYWNrU3RyYXRlZ3kpIHtcbiAgICAgICAgICAgIGNhc2UgXCJiZXN0Rml0XCI6IHtcbiAgICAgICAgICAgICAgdmFyIF9vdmVyZmxvd3NEYXRhJGZpbHRlcjI7XG4gICAgICAgICAgICAgIGNvbnN0IHBsYWNlbWVudDIgPSAoX292ZXJmbG93c0RhdGEkZmlsdGVyMiA9IG92ZXJmbG93c0RhdGEuZmlsdGVyKChkMikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChoYXNGYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2lkZUF4aXMgPSBnZXRTaWRlQXhpcyhkMi5wbGFjZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRTaWRlQXhpcyA9PT0gaW5pdGlhbFNpZGVBeGlzIHx8IC8vIENyZWF0ZSBhIGJpYXMgdG8gdGhlIGB5YCBzaWRlIGF4aXMgZHVlIHRvIGhvcml6b250YWxcbiAgICAgICAgICAgICAgICAgIC8vIHJlYWRpbmcgZGlyZWN0aW9ucyBmYXZvcmluZyBncmVhdGVyIHdpZHRoLlxuICAgICAgICAgICAgICAgICAgY3VycmVudFNpZGVBeGlzID09PSBcInlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH0pLm1hcCgoZDIpID0+IFtkMi5wbGFjZW1lbnQsIGQyLm92ZXJmbG93cy5maWx0ZXIoKG92ZXJmbG93MikgPT4gb3ZlcmZsb3cyID4gMCkucmVkdWNlKChhY2MsIG92ZXJmbG93MikgPT4gYWNjICsgb3ZlcmZsb3cyLCAwKV0pLnNvcnQoKGEzLCBiMikgPT4gYTNbMV0gLSBiMlsxXSlbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfb3ZlcmZsb3dzRGF0YSRmaWx0ZXIyWzBdO1xuICAgICAgICAgICAgICBpZiAocGxhY2VtZW50Mikge1xuICAgICAgICAgICAgICAgIHJlc2V0UGxhY2VtZW50ID0gcGxhY2VtZW50MjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbml0aWFsUGxhY2VtZW50XCI6XG4gICAgICAgICAgICAgIHJlc2V0UGxhY2VtZW50ID0gaW5pdGlhbFBsYWNlbWVudDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwbGFjZW1lbnQgIT09IHJlc2V0UGxhY2VtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICAgIHBsYWNlbWVudDogcmVzZXRQbGFjZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9O1xufTtcbmFzeW5jIGZ1bmN0aW9uIGNvbnZlcnRWYWx1ZVRvQ29vcmRzKHN0YXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBwbGFjZW1lbnQsXG4gICAgcGxhdGZvcm06IHBsYXRmb3JtMixcbiAgICBlbGVtZW50c1xuICB9ID0gc3RhdGU7XG4gIGNvbnN0IHJ0bCA9IGF3YWl0IChwbGF0Zm9ybTIuaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtMi5pc1JUTChlbGVtZW50cy5mbG9hdGluZykpO1xuICBjb25zdCBzaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpO1xuICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQocGxhY2VtZW50KTtcbiAgY29uc3QgaXNWZXJ0aWNhbCA9IGdldFNpZGVBeGlzKHBsYWNlbWVudCkgPT09IFwieVwiO1xuICBjb25zdCBtYWluQXhpc011bHRpID0gW1wibGVmdFwiLCBcInRvcFwiXS5pbmNsdWRlcyhzaWRlKSA/IC0xIDogMTtcbiAgY29uc3QgY3Jvc3NBeGlzTXVsdGkgPSBydGwgJiYgaXNWZXJ0aWNhbCA/IC0xIDogMTtcbiAgY29uc3QgcmF3VmFsdWUgPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gIGxldCB7XG4gICAgbWFpbkF4aXMsXG4gICAgY3Jvc3NBeGlzLFxuICAgIGFsaWdubWVudEF4aXNcbiAgfSA9IHR5cGVvZiByYXdWYWx1ZSA9PT0gXCJudW1iZXJcIiA/IHtcbiAgICBtYWluQXhpczogcmF3VmFsdWUsXG4gICAgY3Jvc3NBeGlzOiAwLFxuICAgIGFsaWdubWVudEF4aXM6IG51bGxcbiAgfSA6IHtcbiAgICBtYWluQXhpczogcmF3VmFsdWUubWFpbkF4aXMgfHwgMCxcbiAgICBjcm9zc0F4aXM6IHJhd1ZhbHVlLmNyb3NzQXhpcyB8fCAwLFxuICAgIGFsaWdubWVudEF4aXM6IHJhd1ZhbHVlLmFsaWdubWVudEF4aXNcbiAgfTtcbiAgaWYgKGFsaWdubWVudCAmJiB0eXBlb2YgYWxpZ25tZW50QXhpcyA9PT0gXCJudW1iZXJcIikge1xuICAgIGNyb3NzQXhpcyA9IGFsaWdubWVudCA9PT0gXCJlbmRcIiA/IGFsaWdubWVudEF4aXMgKiAtMSA6IGFsaWdubWVudEF4aXM7XG4gIH1cbiAgcmV0dXJuIGlzVmVydGljYWwgPyB7XG4gICAgeDogY3Jvc3NBeGlzICogY3Jvc3NBeGlzTXVsdGksXG4gICAgeTogbWFpbkF4aXMgKiBtYWluQXhpc011bHRpXG4gIH0gOiB7XG4gICAgeDogbWFpbkF4aXMgKiBtYWluQXhpc011bHRpLFxuICAgIHk6IGNyb3NzQXhpcyAqIGNyb3NzQXhpc011bHRpXG4gIH07XG59XG5jb25zdCBvZmZzZXQkMiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSAwO1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogXCJvZmZzZXRcIixcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJG9mZnNlLCBfbWlkZGxld2FyZURhdGEkYXJyb3c7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHg6IHgyLFxuICAgICAgICB5OiB5MixcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBtaWRkbGV3YXJlRGF0YVxuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3QgZGlmZkNvb3JkcyA9IGF3YWl0IGNvbnZlcnRWYWx1ZVRvQ29vcmRzKHN0YXRlLCBvcHRpb25zKTtcbiAgICAgIGlmIChwbGFjZW1lbnQgPT09ICgoX21pZGRsZXdhcmVEYXRhJG9mZnNlID0gbWlkZGxld2FyZURhdGEub2Zmc2V0KSA9PSBudWxsID8gdm9pZCAwIDogX21pZGRsZXdhcmVEYXRhJG9mZnNlLnBsYWNlbWVudCkgJiYgKF9taWRkbGV3YXJlRGF0YSRhcnJvdyA9IG1pZGRsZXdhcmVEYXRhLmFycm93KSAhPSBudWxsICYmIF9taWRkbGV3YXJlRGF0YSRhcnJvdy5hbGlnbm1lbnRPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogeDIgKyBkaWZmQ29vcmRzLngsXG4gICAgICAgIHk6IHkyICsgZGlmZkNvb3Jkcy55LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgLi4uZGlmZkNvb3JkcyxcbiAgICAgICAgICBwbGFjZW1lbnRcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuY29uc3Qgc2hpZnQkMiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6IFwic2hpZnRcIixcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHg6IHgyLFxuICAgICAgICB5OiB5MixcbiAgICAgICAgcGxhY2VtZW50XG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG1haW5BeGlzOiBjaGVja01haW5BeGlzID0gdHJ1ZSxcbiAgICAgICAgY3Jvc3NBeGlzOiBjaGVja0Nyb3NzQXhpcyA9IGZhbHNlLFxuICAgICAgICBsaW1pdGVyID0ge1xuICAgICAgICAgIGZuOiAoX3JlZikgPT4ge1xuICAgICAgICAgICAgbGV0IHtcbiAgICAgICAgICAgICAgeDogeDMsXG4gICAgICAgICAgICAgIHk6IHkzXG4gICAgICAgICAgICB9ID0gX3JlZjtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHg6IHgzLFxuICAgICAgICAgICAgICB5OiB5M1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9uc1xuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgIGNvbnN0IGNvb3JkcyA9IHtcbiAgICAgICAgeDogeDIsXG4gICAgICAgIHk6IHkyXG4gICAgICB9O1xuICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyQxKHN0YXRlLCBkZXRlY3RPdmVyZmxvd09wdGlvbnMpO1xuICAgICAgY29uc3QgY3Jvc3NBeGlzID0gZ2V0U2lkZUF4aXMoZ2V0U2lkZShwbGFjZW1lbnQpKTtcbiAgICAgIGNvbnN0IG1haW5BeGlzID0gZ2V0T3Bwb3NpdGVBeGlzKGNyb3NzQXhpcyk7XG4gICAgICBsZXQgbWFpbkF4aXNDb29yZCA9IGNvb3Jkc1ttYWluQXhpc107XG4gICAgICBsZXQgY3Jvc3NBeGlzQ29vcmQgPSBjb29yZHNbY3Jvc3NBeGlzXTtcbiAgICAgIGlmIChjaGVja01haW5BeGlzKSB7XG4gICAgICAgIGNvbnN0IG1pblNpZGUgPSBtYWluQXhpcyA9PT0gXCJ5XCIgPyBcInRvcFwiIDogXCJsZWZ0XCI7XG4gICAgICAgIGNvbnN0IG1heFNpZGUgPSBtYWluQXhpcyA9PT0gXCJ5XCIgPyBcImJvdHRvbVwiIDogXCJyaWdodFwiO1xuICAgICAgICBjb25zdCBtaW4yID0gbWFpbkF4aXNDb29yZCArIG92ZXJmbG93W21pblNpZGVdO1xuICAgICAgICBjb25zdCBtYXgyID0gbWFpbkF4aXNDb29yZCAtIG92ZXJmbG93W21heFNpZGVdO1xuICAgICAgICBtYWluQXhpc0Nvb3JkID0gY2xhbXAobWluMiwgbWFpbkF4aXNDb29yZCwgbWF4Mik7XG4gICAgICB9XG4gICAgICBpZiAoY2hlY2tDcm9zc0F4aXMpIHtcbiAgICAgICAgY29uc3QgbWluU2lkZSA9IGNyb3NzQXhpcyA9PT0gXCJ5XCIgPyBcInRvcFwiIDogXCJsZWZ0XCI7XG4gICAgICAgIGNvbnN0IG1heFNpZGUgPSBjcm9zc0F4aXMgPT09IFwieVwiID8gXCJib3R0b21cIiA6IFwicmlnaHRcIjtcbiAgICAgICAgY29uc3QgbWluMiA9IGNyb3NzQXhpc0Nvb3JkICsgb3ZlcmZsb3dbbWluU2lkZV07XG4gICAgICAgIGNvbnN0IG1heDIgPSBjcm9zc0F4aXNDb29yZCAtIG92ZXJmbG93W21heFNpZGVdO1xuICAgICAgICBjcm9zc0F4aXNDb29yZCA9IGNsYW1wKG1pbjIsIGNyb3NzQXhpc0Nvb3JkLCBtYXgyKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxpbWl0ZWRDb29yZHMgPSBsaW1pdGVyLmZuKHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIFttYWluQXhpc106IG1haW5BeGlzQ29vcmQsXG4gICAgICAgIFtjcm9zc0F4aXNdOiBjcm9zc0F4aXNDb29yZFxuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5saW1pdGVkQ29vcmRzLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgeDogbGltaXRlZENvb3Jkcy54IC0geDIsXG4gICAgICAgICAgeTogbGltaXRlZENvb3Jkcy55IC0geTIsXG4gICAgICAgICAgZW5hYmxlZDoge1xuICAgICAgICAgICAgW21haW5BeGlzXTogY2hlY2tNYWluQXhpcyxcbiAgICAgICAgICAgIFtjcm9zc0F4aXNdOiBjaGVja0Nyb3NzQXhpc1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuY29uc3Qgc2l6ZSQyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogXCJzaXplXCIsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgdmFyIF9zdGF0ZSRtaWRkbGV3YXJlRGF0YSwgX3N0YXRlJG1pZGRsZXdhcmVEYXRhMjtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICByZWN0cyxcbiAgICAgICAgcGxhdGZvcm06IHBsYXRmb3JtMixcbiAgICAgICAgZWxlbWVudHNcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgYXBwbHkgPSAoKSA9PiB7XG4gICAgICAgIH0sXG4gICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9uc1xuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3ckMShzdGF0ZSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICAgIGNvbnN0IHNpZGUgPSBnZXRTaWRlKHBsYWNlbWVudCk7XG4gICAgICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQocGxhY2VtZW50KTtcbiAgICAgIGNvbnN0IGlzWUF4aXMgPSBnZXRTaWRlQXhpcyhwbGFjZW1lbnQpID09PSBcInlcIjtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodFxuICAgICAgfSA9IHJlY3RzLmZsb2F0aW5nO1xuICAgICAgbGV0IGhlaWdodFNpZGU7XG4gICAgICBsZXQgd2lkdGhTaWRlO1xuICAgICAgaWYgKHNpZGUgPT09IFwidG9wXCIgfHwgc2lkZSA9PT0gXCJib3R0b21cIikge1xuICAgICAgICBoZWlnaHRTaWRlID0gc2lkZTtcbiAgICAgICAgd2lkdGhTaWRlID0gYWxpZ25tZW50ID09PSAoYXdhaXQgKHBsYXRmb3JtMi5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0yLmlzUlRMKGVsZW1lbnRzLmZsb2F0aW5nKSkgPyBcInN0YXJ0XCIgOiBcImVuZFwiKSA/IFwibGVmdFwiIDogXCJyaWdodFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGhTaWRlID0gc2lkZTtcbiAgICAgICAgaGVpZ2h0U2lkZSA9IGFsaWdubWVudCA9PT0gXCJlbmRcIiA/IFwidG9wXCIgOiBcImJvdHRvbVwiO1xuICAgICAgfVxuICAgICAgY29uc3QgbWF4aW11bUNsaXBwaW5nSGVpZ2h0ID0gaGVpZ2h0IC0gb3ZlcmZsb3cudG9wIC0gb3ZlcmZsb3cuYm90dG9tO1xuICAgICAgY29uc3QgbWF4aW11bUNsaXBwaW5nV2lkdGggPSB3aWR0aCAtIG92ZXJmbG93LmxlZnQgLSBvdmVyZmxvdy5yaWdodDtcbiAgICAgIGNvbnN0IG92ZXJmbG93QXZhaWxhYmxlSGVpZ2h0ID0gbWluKGhlaWdodCAtIG92ZXJmbG93W2hlaWdodFNpZGVdLCBtYXhpbXVtQ2xpcHBpbmdIZWlnaHQpO1xuICAgICAgY29uc3Qgb3ZlcmZsb3dBdmFpbGFibGVXaWR0aCA9IG1pbih3aWR0aCAtIG92ZXJmbG93W3dpZHRoU2lkZV0sIG1heGltdW1DbGlwcGluZ1dpZHRoKTtcbiAgICAgIGNvbnN0IG5vU2hpZnQgPSAhc3RhdGUubWlkZGxld2FyZURhdGEuc2hpZnQ7XG4gICAgICBsZXQgYXZhaWxhYmxlSGVpZ2h0ID0gb3ZlcmZsb3dBdmFpbGFibGVIZWlnaHQ7XG4gICAgICBsZXQgYXZhaWxhYmxlV2lkdGggPSBvdmVyZmxvd0F2YWlsYWJsZVdpZHRoO1xuICAgICAgaWYgKChfc3RhdGUkbWlkZGxld2FyZURhdGEgPSBzdGF0ZS5taWRkbGV3YXJlRGF0YS5zaGlmdCkgIT0gbnVsbCAmJiBfc3RhdGUkbWlkZGxld2FyZURhdGEuZW5hYmxlZC54KSB7XG4gICAgICAgIGF2YWlsYWJsZVdpZHRoID0gbWF4aW11bUNsaXBwaW5nV2lkdGg7XG4gICAgICB9XG4gICAgICBpZiAoKF9zdGF0ZSRtaWRkbGV3YXJlRGF0YTIgPSBzdGF0ZS5taWRkbGV3YXJlRGF0YS5zaGlmdCkgIT0gbnVsbCAmJiBfc3RhdGUkbWlkZGxld2FyZURhdGEyLmVuYWJsZWQueSkge1xuICAgICAgICBhdmFpbGFibGVIZWlnaHQgPSBtYXhpbXVtQ2xpcHBpbmdIZWlnaHQ7XG4gICAgICB9XG4gICAgICBpZiAobm9TaGlmdCAmJiAhYWxpZ25tZW50KSB7XG4gICAgICAgIGNvbnN0IHhNaW4gPSBtYXgob3ZlcmZsb3cubGVmdCwgMCk7XG4gICAgICAgIGNvbnN0IHhNYXggPSBtYXgob3ZlcmZsb3cucmlnaHQsIDApO1xuICAgICAgICBjb25zdCB5TWluID0gbWF4KG92ZXJmbG93LnRvcCwgMCk7XG4gICAgICAgIGNvbnN0IHlNYXggPSBtYXgob3ZlcmZsb3cuYm90dG9tLCAwKTtcbiAgICAgICAgaWYgKGlzWUF4aXMpIHtcbiAgICAgICAgICBhdmFpbGFibGVXaWR0aCA9IHdpZHRoIC0gMiAqICh4TWluICE9PSAwIHx8IHhNYXggIT09IDAgPyB4TWluICsgeE1heCA6IG1heChvdmVyZmxvdy5sZWZ0LCBvdmVyZmxvdy5yaWdodCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF2YWlsYWJsZUhlaWdodCA9IGhlaWdodCAtIDIgKiAoeU1pbiAhPT0gMCB8fCB5TWF4ICE9PSAwID8geU1pbiArIHlNYXggOiBtYXgob3ZlcmZsb3cudG9wLCBvdmVyZmxvdy5ib3R0b20pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXdhaXQgYXBwbHkoe1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgYXZhaWxhYmxlV2lkdGgsXG4gICAgICAgIGF2YWlsYWJsZUhlaWdodFxuICAgICAgfSk7XG4gICAgICBjb25zdCBuZXh0RGltZW5zaW9ucyA9IGF3YWl0IHBsYXRmb3JtMi5nZXREaW1lbnNpb25zKGVsZW1lbnRzLmZsb2F0aW5nKTtcbiAgICAgIGlmICh3aWR0aCAhPT0gbmV4dERpbWVuc2lvbnMud2lkdGggfHwgaGVpZ2h0ICE9PSBuZXh0RGltZW5zaW9ucy5oZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgcmVjdHM6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9O1xufTtcbmZ1bmN0aW9uIGdldENzc0RpbWVuc2lvbnMoZWxlbWVudCkge1xuICBjb25zdCBjc3MgPSBnZXRDb21wdXRlZFN0eWxlJDEoZWxlbWVudCk7XG4gIGxldCB3aWR0aCA9IHBhcnNlRmxvYXQoY3NzLndpZHRoKSB8fCAwO1xuICBsZXQgaGVpZ2h0ID0gcGFyc2VGbG9hdChjc3MuaGVpZ2h0KSB8fCAwO1xuICBjb25zdCBoYXNPZmZzZXQgPSBpc0hUTUxFbGVtZW50KGVsZW1lbnQpO1xuICBjb25zdCBvZmZzZXRXaWR0aCA9IGhhc09mZnNldCA/IGVsZW1lbnQub2Zmc2V0V2lkdGggOiB3aWR0aDtcbiAgY29uc3Qgb2Zmc2V0SGVpZ2h0ID0gaGFzT2Zmc2V0ID8gZWxlbWVudC5vZmZzZXRIZWlnaHQgOiBoZWlnaHQ7XG4gIGNvbnN0IHNob3VsZEZhbGxiYWNrID0gcm91bmQod2lkdGgpICE9PSBvZmZzZXRXaWR0aCB8fCByb3VuZChoZWlnaHQpICE9PSBvZmZzZXRIZWlnaHQ7XG4gIGlmIChzaG91bGRGYWxsYmFjaykge1xuICAgIHdpZHRoID0gb2Zmc2V0V2lkdGg7XG4gICAgaGVpZ2h0ID0gb2Zmc2V0SGVpZ2h0O1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgICQ6IHNob3VsZEZhbGxiYWNrXG4gIH07XG59XG5mdW5jdGlvbiB1bndyYXBFbGVtZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuICFpc0VsZW1lbnQoZWxlbWVudCkgPyBlbGVtZW50LmNvbnRleHRFbGVtZW50IDogZWxlbWVudDtcbn1cbmZ1bmN0aW9uIGdldFNjYWxlKGVsZW1lbnQpIHtcbiAgY29uc3QgZG9tRWxlbWVudCA9IHVud3JhcEVsZW1lbnQoZWxlbWVudCk7XG4gIGlmICghaXNIVE1MRWxlbWVudChkb21FbGVtZW50KSkge1xuICAgIHJldHVybiBjcmVhdGVDb29yZHMoMSk7XG4gIH1cbiAgY29uc3QgcmVjdCA9IGRvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgJDogJDJcbiAgfSA9IGdldENzc0RpbWVuc2lvbnMoZG9tRWxlbWVudCk7XG4gIGxldCB4MiA9ICgkMiA/IHJvdW5kKHJlY3Qud2lkdGgpIDogcmVjdC53aWR0aCkgLyB3aWR0aDtcbiAgbGV0IHkyID0gKCQyID8gcm91bmQocmVjdC5oZWlnaHQpIDogcmVjdC5oZWlnaHQpIC8gaGVpZ2h0O1xuICBpZiAoIXgyIHx8ICFOdW1iZXIuaXNGaW5pdGUoeDIpKSB7XG4gICAgeDIgPSAxO1xuICB9XG4gIGlmICgheTIgfHwgIU51bWJlci5pc0Zpbml0ZSh5MikpIHtcbiAgICB5MiA9IDE7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4OiB4MixcbiAgICB5OiB5MlxuICB9O1xufVxuY29uc3Qgbm9PZmZzZXRzID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZUNvb3JkcygwKTtcbmZ1bmN0aW9uIGdldFZpc3VhbE9mZnNldHMoZWxlbWVudCkge1xuICBjb25zdCB3aW4gPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gIGlmICghaXNXZWJLaXQoKSB8fCAhd2luLnZpc3VhbFZpZXdwb3J0KSB7XG4gICAgcmV0dXJuIG5vT2Zmc2V0cztcbiAgfVxuICByZXR1cm4ge1xuICAgIHg6IHdpbi52aXN1YWxWaWV3cG9ydC5vZmZzZXRMZWZ0LFxuICAgIHk6IHdpbi52aXN1YWxWaWV3cG9ydC5vZmZzZXRUb3BcbiAgfTtcbn1cbmZ1bmN0aW9uIHNob3VsZEFkZFZpc3VhbE9mZnNldHMoZWxlbWVudCwgaXNGaXhlZCwgZmxvYXRpbmdPZmZzZXRQYXJlbnQpIHtcbiAgaWYgKGlzRml4ZWQgPT09IHZvaWQgMCkge1xuICAgIGlzRml4ZWQgPSBmYWxzZTtcbiAgfVxuICBpZiAoIWZsb2F0aW5nT2Zmc2V0UGFyZW50IHx8IGlzRml4ZWQgJiYgZmxvYXRpbmdPZmZzZXRQYXJlbnQgIT09IGdldFdpbmRvdyhlbGVtZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaXNGaXhlZDtcbn1cbmZ1bmN0aW9uIGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCBpbmNsdWRlU2NhbGUsIGlzRml4ZWRTdHJhdGVneSwgb2Zmc2V0UGFyZW50KSB7XG4gIGlmIChpbmNsdWRlU2NhbGUgPT09IHZvaWQgMCkge1xuICAgIGluY2x1ZGVTY2FsZSA9IGZhbHNlO1xuICB9XG4gIGlmIChpc0ZpeGVkU3RyYXRlZ3kgPT09IHZvaWQgMCkge1xuICAgIGlzRml4ZWRTdHJhdGVneSA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IGNsaWVudFJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBkb21FbGVtZW50ID0gdW53cmFwRWxlbWVudChlbGVtZW50KTtcbiAgbGV0IHNjYWxlID0gY3JlYXRlQ29vcmRzKDEpO1xuICBpZiAoaW5jbHVkZVNjYWxlKSB7XG4gICAgaWYgKG9mZnNldFBhcmVudCkge1xuICAgICAgaWYgKGlzRWxlbWVudChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICAgIHNjYWxlID0gZ2V0U2NhbGUob2Zmc2V0UGFyZW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2NhbGUgPSBnZXRTY2FsZShlbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgY29uc3QgdmlzdWFsT2Zmc2V0cyA9IHNob3VsZEFkZFZpc3VhbE9mZnNldHMoZG9tRWxlbWVudCwgaXNGaXhlZFN0cmF0ZWd5LCBvZmZzZXRQYXJlbnQpID8gZ2V0VmlzdWFsT2Zmc2V0cyhkb21FbGVtZW50KSA6IGNyZWF0ZUNvb3JkcygwKTtcbiAgbGV0IHgyID0gKGNsaWVudFJlY3QubGVmdCArIHZpc3VhbE9mZnNldHMueCkgLyBzY2FsZS54O1xuICBsZXQgeTIgPSAoY2xpZW50UmVjdC50b3AgKyB2aXN1YWxPZmZzZXRzLnkpIC8gc2NhbGUueTtcbiAgbGV0IHdpZHRoID0gY2xpZW50UmVjdC53aWR0aCAvIHNjYWxlLng7XG4gIGxldCBoZWlnaHQgPSBjbGllbnRSZWN0LmhlaWdodCAvIHNjYWxlLnk7XG4gIGlmIChkb21FbGVtZW50KSB7XG4gICAgY29uc3Qgd2luID0gZ2V0V2luZG93KGRvbUVsZW1lbnQpO1xuICAgIGNvbnN0IG9mZnNldFdpbiA9IG9mZnNldFBhcmVudCAmJiBpc0VsZW1lbnQob2Zmc2V0UGFyZW50KSA/IGdldFdpbmRvdyhvZmZzZXRQYXJlbnQpIDogb2Zmc2V0UGFyZW50O1xuICAgIGxldCBjdXJyZW50V2luID0gd2luO1xuICAgIGxldCBjdXJyZW50SUZyYW1lID0gZ2V0RnJhbWVFbGVtZW50KGN1cnJlbnRXaW4pO1xuICAgIHdoaWxlIChjdXJyZW50SUZyYW1lICYmIG9mZnNldFBhcmVudCAmJiBvZmZzZXRXaW4gIT09IGN1cnJlbnRXaW4pIHtcbiAgICAgIGNvbnN0IGlmcmFtZVNjYWxlID0gZ2V0U2NhbGUoY3VycmVudElGcmFtZSk7XG4gICAgICBjb25zdCBpZnJhbWVSZWN0ID0gY3VycmVudElGcmFtZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IGNzcyA9IGdldENvbXB1dGVkU3R5bGUkMShjdXJyZW50SUZyYW1lKTtcbiAgICAgIGNvbnN0IGxlZnQgPSBpZnJhbWVSZWN0LmxlZnQgKyAoY3VycmVudElGcmFtZS5jbGllbnRMZWZ0ICsgcGFyc2VGbG9hdChjc3MucGFkZGluZ0xlZnQpKSAqIGlmcmFtZVNjYWxlLng7XG4gICAgICBjb25zdCB0b3AgPSBpZnJhbWVSZWN0LnRvcCArIChjdXJyZW50SUZyYW1lLmNsaWVudFRvcCArIHBhcnNlRmxvYXQoY3NzLnBhZGRpbmdUb3ApKSAqIGlmcmFtZVNjYWxlLnk7XG4gICAgICB4MiAqPSBpZnJhbWVTY2FsZS54O1xuICAgICAgeTIgKj0gaWZyYW1lU2NhbGUueTtcbiAgICAgIHdpZHRoICo9IGlmcmFtZVNjYWxlLng7XG4gICAgICBoZWlnaHQgKj0gaWZyYW1lU2NhbGUueTtcbiAgICAgIHgyICs9IGxlZnQ7XG4gICAgICB5MiArPSB0b3A7XG4gICAgICBjdXJyZW50V2luID0gZ2V0V2luZG93KGN1cnJlbnRJRnJhbWUpO1xuICAgICAgY3VycmVudElGcmFtZSA9IGdldEZyYW1lRWxlbWVudChjdXJyZW50V2luKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlY3RUb0NsaWVudFJlY3Qoe1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB4OiB4MixcbiAgICB5OiB5MlxuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFdpbmRvd1Njcm9sbEJhclgoZWxlbWVudCwgcmVjdCkge1xuICBjb25zdCBsZWZ0U2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChlbGVtZW50KS5zY3JvbGxMZWZ0O1xuICBpZiAoIXJlY3QpIHtcbiAgICByZXR1cm4gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSkubGVmdCArIGxlZnRTY3JvbGw7XG4gIH1cbiAgcmV0dXJuIHJlY3QubGVmdCArIGxlZnRTY3JvbGw7XG59XG5mdW5jdGlvbiBnZXRIVE1MT2Zmc2V0KGRvY3VtZW50RWxlbWVudCwgc2Nyb2xsLCBpZ25vcmVTY3JvbGxiYXJYKSB7XG4gIGlmIChpZ25vcmVTY3JvbGxiYXJYID09PSB2b2lkIDApIHtcbiAgICBpZ25vcmVTY3JvbGxiYXJYID0gZmFsc2U7XG4gIH1cbiAgY29uc3QgaHRtbFJlY3QgPSBkb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IHgyID0gaHRtbFJlY3QubGVmdCArIHNjcm9sbC5zY3JvbGxMZWZ0IC0gKGlnbm9yZVNjcm9sbGJhclggPyAwIDogKFxuICAgIC8vIFJUTCA8Ym9keT4gc2Nyb2xsYmFyLlxuICAgIGdldFdpbmRvd1Njcm9sbEJhclgoZG9jdW1lbnRFbGVtZW50LCBodG1sUmVjdClcbiAgKSk7XG4gIGNvbnN0IHkyID0gaHRtbFJlY3QudG9wICsgc2Nyb2xsLnNjcm9sbFRvcDtcbiAgcmV0dXJuIHtcbiAgICB4OiB4MixcbiAgICB5OiB5MlxuICB9O1xufVxuZnVuY3Rpb24gY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3QoX3JlZikge1xuICBsZXQge1xuICAgIGVsZW1lbnRzLFxuICAgIHJlY3QsXG4gICAgb2Zmc2V0UGFyZW50LFxuICAgIHN0cmF0ZWd5XG4gIH0gPSBfcmVmO1xuICBjb25zdCBpc0ZpeGVkID0gc3RyYXRlZ3kgPT09IFwiZml4ZWRcIjtcbiAgY29uc3QgZG9jdW1lbnRFbGVtZW50ID0gZ2V0RG9jdW1lbnRFbGVtZW50KG9mZnNldFBhcmVudCk7XG4gIGNvbnN0IHRvcExheWVyID0gZWxlbWVudHMgPyBpc1RvcExheWVyKGVsZW1lbnRzLmZsb2F0aW5nKSA6IGZhbHNlO1xuICBpZiAob2Zmc2V0UGFyZW50ID09PSBkb2N1bWVudEVsZW1lbnQgfHwgdG9wTGF5ZXIgJiYgaXNGaXhlZCkge1xuICAgIHJldHVybiByZWN0O1xuICB9XG4gIGxldCBzY3JvbGwgPSB7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBzY3JvbGxUb3A6IDBcbiAgfTtcbiAgbGV0IHNjYWxlID0gY3JlYXRlQ29vcmRzKDEpO1xuICBjb25zdCBvZmZzZXRzID0gY3JlYXRlQ29vcmRzKDApO1xuICBjb25zdCBpc09mZnNldFBhcmVudEFuRWxlbWVudCA9IGlzSFRNTEVsZW1lbnQob2Zmc2V0UGFyZW50KTtcbiAgaWYgKGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50IHx8ICFpc09mZnNldFBhcmVudEFuRWxlbWVudCAmJiAhaXNGaXhlZCkge1xuICAgIGlmIChnZXROb2RlTmFtZShvZmZzZXRQYXJlbnQpICE9PSBcImJvZHlcIiB8fCBpc092ZXJmbG93RWxlbWVudChkb2N1bWVudEVsZW1lbnQpKSB7XG4gICAgICBzY3JvbGwgPSBnZXROb2RlU2Nyb2xsKG9mZnNldFBhcmVudCk7XG4gICAgfVxuICAgIGlmIChpc0hUTUxFbGVtZW50KG9mZnNldFBhcmVudCkpIHtcbiAgICAgIGNvbnN0IG9mZnNldFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50KTtcbiAgICAgIHNjYWxlID0gZ2V0U2NhbGUob2Zmc2V0UGFyZW50KTtcbiAgICAgIG9mZnNldHMueCA9IG9mZnNldFJlY3QueCArIG9mZnNldFBhcmVudC5jbGllbnRMZWZ0O1xuICAgICAgb2Zmc2V0cy55ID0gb2Zmc2V0UmVjdC55ICsgb2Zmc2V0UGFyZW50LmNsaWVudFRvcDtcbiAgICB9XG4gIH1cbiAgY29uc3QgaHRtbE9mZnNldCA9IGRvY3VtZW50RWxlbWVudCAmJiAhaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgJiYgIWlzRml4ZWQgPyBnZXRIVE1MT2Zmc2V0KGRvY3VtZW50RWxlbWVudCwgc2Nyb2xsLCB0cnVlKSA6IGNyZWF0ZUNvb3JkcygwKTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogcmVjdC53aWR0aCAqIHNjYWxlLngsXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodCAqIHNjYWxlLnksXG4gICAgeDogcmVjdC54ICogc2NhbGUueCAtIHNjcm9sbC5zY3JvbGxMZWZ0ICogc2NhbGUueCArIG9mZnNldHMueCArIGh0bWxPZmZzZXQueCxcbiAgICB5OiByZWN0LnkgKiBzY2FsZS55IC0gc2Nyb2xsLnNjcm9sbFRvcCAqIHNjYWxlLnkgKyBvZmZzZXRzLnkgKyBodG1sT2Zmc2V0LnlcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldENsaWVudFJlY3RzKGVsZW1lbnQpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5nZXRDbGllbnRSZWN0cygpKTtcbn1cbmZ1bmN0aW9uIGdldERvY3VtZW50UmVjdChlbGVtZW50KSB7XG4gIGNvbnN0IGh0bWwgPSBnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCk7XG4gIGNvbnN0IHNjcm9sbCA9IGdldE5vZGVTY3JvbGwoZWxlbWVudCk7XG4gIGNvbnN0IGJvZHkgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuYm9keTtcbiAgY29uc3Qgd2lkdGggPSBtYXgoaHRtbC5zY3JvbGxXaWR0aCwgaHRtbC5jbGllbnRXaWR0aCwgYm9keS5zY3JvbGxXaWR0aCwgYm9keS5jbGllbnRXaWR0aCk7XG4gIGNvbnN0IGhlaWdodCA9IG1heChodG1sLnNjcm9sbEhlaWdodCwgaHRtbC5jbGllbnRIZWlnaHQsIGJvZHkuc2Nyb2xsSGVpZ2h0LCBib2R5LmNsaWVudEhlaWdodCk7XG4gIGxldCB4MiA9IC1zY3JvbGwuc2Nyb2xsTGVmdCArIGdldFdpbmRvd1Njcm9sbEJhclgoZWxlbWVudCk7XG4gIGNvbnN0IHkyID0gLXNjcm9sbC5zY3JvbGxUb3A7XG4gIGlmIChnZXRDb21wdXRlZFN0eWxlJDEoYm9keSkuZGlyZWN0aW9uID09PSBcInJ0bFwiKSB7XG4gICAgeDIgKz0gbWF4KGh0bWwuY2xpZW50V2lkdGgsIGJvZHkuY2xpZW50V2lkdGgpIC0gd2lkdGg7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeDogeDIsXG4gICAgeTogeTJcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFZpZXdwb3J0UmVjdChlbGVtZW50LCBzdHJhdGVneSkge1xuICBjb25zdCB3aW4gPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gIGNvbnN0IGh0bWwgPSBnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCk7XG4gIGNvbnN0IHZpc3VhbFZpZXdwb3J0ID0gd2luLnZpc3VhbFZpZXdwb3J0O1xuICBsZXQgd2lkdGggPSBodG1sLmNsaWVudFdpZHRoO1xuICBsZXQgaGVpZ2h0ID0gaHRtbC5jbGllbnRIZWlnaHQ7XG4gIGxldCB4MiA9IDA7XG4gIGxldCB5MiA9IDA7XG4gIGlmICh2aXN1YWxWaWV3cG9ydCkge1xuICAgIHdpZHRoID0gdmlzdWFsVmlld3BvcnQud2lkdGg7XG4gICAgaGVpZ2h0ID0gdmlzdWFsVmlld3BvcnQuaGVpZ2h0O1xuICAgIGNvbnN0IHZpc3VhbFZpZXdwb3J0QmFzZWQgPSBpc1dlYktpdCgpO1xuICAgIGlmICghdmlzdWFsVmlld3BvcnRCYXNlZCB8fCB2aXN1YWxWaWV3cG9ydEJhc2VkICYmIHN0cmF0ZWd5ID09PSBcImZpeGVkXCIpIHtcbiAgICAgIHgyID0gdmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdDtcbiAgICAgIHkyID0gdmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB4OiB4MixcbiAgICB5OiB5MlxuICB9O1xufVxuZnVuY3Rpb24gZ2V0SW5uZXJCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCwgc3RyYXRlZ3kpIHtcbiAgY29uc3QgY2xpZW50UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCB0cnVlLCBzdHJhdGVneSA9PT0gXCJmaXhlZFwiKTtcbiAgY29uc3QgdG9wID0gY2xpZW50UmVjdC50b3AgKyBlbGVtZW50LmNsaWVudFRvcDtcbiAgY29uc3QgbGVmdCA9IGNsaWVudFJlY3QubGVmdCArIGVsZW1lbnQuY2xpZW50TGVmdDtcbiAgY29uc3Qgc2NhbGUgPSBpc0hUTUxFbGVtZW50KGVsZW1lbnQpID8gZ2V0U2NhbGUoZWxlbWVudCkgOiBjcmVhdGVDb29yZHMoMSk7XG4gIGNvbnN0IHdpZHRoID0gZWxlbWVudC5jbGllbnRXaWR0aCAqIHNjYWxlLng7XG4gIGNvbnN0IGhlaWdodCA9IGVsZW1lbnQuY2xpZW50SGVpZ2h0ICogc2NhbGUueTtcbiAgY29uc3QgeDIgPSBsZWZ0ICogc2NhbGUueDtcbiAgY29uc3QgeTIgPSB0b3AgKiBzY2FsZS55O1xuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB4OiB4MixcbiAgICB5OiB5MlxuICB9O1xufVxuZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdEZyb21DbGlwcGluZ0FuY2VzdG9yKGVsZW1lbnQsIGNsaXBwaW5nQW5jZXN0b3IsIHN0cmF0ZWd5KSB7XG4gIGxldCByZWN0O1xuICBpZiAoY2xpcHBpbmdBbmNlc3RvciA9PT0gXCJ2aWV3cG9ydFwiKSB7XG4gICAgcmVjdCA9IGdldFZpZXdwb3J0UmVjdChlbGVtZW50LCBzdHJhdGVneSk7XG4gIH0gZWxzZSBpZiAoY2xpcHBpbmdBbmNlc3RvciA9PT0gXCJkb2N1bWVudFwiKSB7XG4gICAgcmVjdCA9IGdldERvY3VtZW50UmVjdChnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCkpO1xuICB9IGVsc2UgaWYgKGlzRWxlbWVudChjbGlwcGluZ0FuY2VzdG9yKSkge1xuICAgIHJlY3QgPSBnZXRJbm5lckJvdW5kaW5nQ2xpZW50UmVjdChjbGlwcGluZ0FuY2VzdG9yLCBzdHJhdGVneSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgdmlzdWFsT2Zmc2V0cyA9IGdldFZpc3VhbE9mZnNldHMoZWxlbWVudCk7XG4gICAgcmVjdCA9IHtcbiAgICAgIHg6IGNsaXBwaW5nQW5jZXN0b3IueCAtIHZpc3VhbE9mZnNldHMueCxcbiAgICAgIHk6IGNsaXBwaW5nQW5jZXN0b3IueSAtIHZpc3VhbE9mZnNldHMueSxcbiAgICAgIHdpZHRoOiBjbGlwcGluZ0FuY2VzdG9yLndpZHRoLFxuICAgICAgaGVpZ2h0OiBjbGlwcGluZ0FuY2VzdG9yLmhlaWdodFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHJlY3RUb0NsaWVudFJlY3QocmVjdCk7XG59XG5mdW5jdGlvbiBoYXNGaXhlZFBvc2l0aW9uQW5jZXN0b3IoZWxlbWVudCwgc3RvcE5vZGUpIHtcbiAgY29uc3QgcGFyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7XG4gIGlmIChwYXJlbnROb2RlID09PSBzdG9wTm9kZSB8fCAhaXNFbGVtZW50KHBhcmVudE5vZGUpIHx8IGlzTGFzdFRyYXZlcnNhYmxlTm9kZShwYXJlbnROb2RlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZSQxKHBhcmVudE5vZGUpLnBvc2l0aW9uID09PSBcImZpeGVkXCIgfHwgaGFzRml4ZWRQb3NpdGlvbkFuY2VzdG9yKHBhcmVudE5vZGUsIHN0b3BOb2RlKTtcbn1cbmZ1bmN0aW9uIGdldENsaXBwaW5nRWxlbWVudEFuY2VzdG9ycyhlbGVtZW50LCBjYWNoZSkge1xuICBjb25zdCBjYWNoZWRSZXN1bHQgPSBjYWNoZS5nZXQoZWxlbWVudCk7XG4gIGlmIChjYWNoZWRSZXN1bHQpIHtcbiAgICByZXR1cm4gY2FjaGVkUmVzdWx0O1xuICB9XG4gIGxldCByZXN1bHQgPSBnZXRPdmVyZmxvd0FuY2VzdG9ycyhlbGVtZW50LCBbXSwgZmFsc2UpLmZpbHRlcigoZWwpID0+IGlzRWxlbWVudChlbCkgJiYgZ2V0Tm9kZU5hbWUoZWwpICE9PSBcImJvZHlcIik7XG4gIGxldCBjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSA9IG51bGw7XG4gIGNvbnN0IGVsZW1lbnRJc0ZpeGVkID0gZ2V0Q29tcHV0ZWRTdHlsZSQxKGVsZW1lbnQpLnBvc2l0aW9uID09PSBcImZpeGVkXCI7XG4gIGxldCBjdXJyZW50Tm9kZSA9IGVsZW1lbnRJc0ZpeGVkID8gZ2V0UGFyZW50Tm9kZShlbGVtZW50KSA6IGVsZW1lbnQ7XG4gIHdoaWxlIChpc0VsZW1lbnQoY3VycmVudE5vZGUpICYmICFpc0xhc3RUcmF2ZXJzYWJsZU5vZGUoY3VycmVudE5vZGUpKSB7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUkMShjdXJyZW50Tm9kZSk7XG4gICAgY29uc3QgY3VycmVudE5vZGVJc0NvbnRhaW5pbmcgPSBpc0NvbnRhaW5pbmdCbG9jayhjdXJyZW50Tm9kZSk7XG4gICAgaWYgKCFjdXJyZW50Tm9kZUlzQ29udGFpbmluZyAmJiBjb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSBcImZpeGVkXCIpIHtcbiAgICAgIGN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3Qgc2hvdWxkRHJvcEN1cnJlbnROb2RlID0gZWxlbWVudElzRml4ZWQgPyAhY3VycmVudE5vZGVJc0NvbnRhaW5pbmcgJiYgIWN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlIDogIWN1cnJlbnROb2RlSXNDb250YWluaW5nICYmIGNvbXB1dGVkU3R5bGUucG9zaXRpb24gPT09IFwic3RhdGljXCIgJiYgISFjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSAmJiBbXCJhYnNvbHV0ZVwiLCBcImZpeGVkXCJdLmluY2x1ZGVzKGN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlLnBvc2l0aW9uKSB8fCBpc092ZXJmbG93RWxlbWVudChjdXJyZW50Tm9kZSkgJiYgIWN1cnJlbnROb2RlSXNDb250YWluaW5nICYmIGhhc0ZpeGVkUG9zaXRpb25BbmNlc3RvcihlbGVtZW50LCBjdXJyZW50Tm9kZSk7XG4gICAgaWYgKHNob3VsZERyb3BDdXJyZW50Tm9kZSkge1xuICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcigoYW5jZXN0b3IpID0+IGFuY2VzdG9yICE9PSBjdXJyZW50Tm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlID0gY29tcHV0ZWRTdHlsZTtcbiAgICB9XG4gICAgY3VycmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKGN1cnJlbnROb2RlKTtcbiAgfVxuICBjYWNoZS5zZXQoZWxlbWVudCwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldENsaXBwaW5nUmVjdChfcmVmKSB7XG4gIGxldCB7XG4gICAgZWxlbWVudCxcbiAgICBib3VuZGFyeSxcbiAgICByb290Qm91bmRhcnksXG4gICAgc3RyYXRlZ3lcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IGVsZW1lbnRDbGlwcGluZ0FuY2VzdG9ycyA9IGJvdW5kYXJ5ID09PSBcImNsaXBwaW5nQW5jZXN0b3JzXCIgPyBpc1RvcExheWVyKGVsZW1lbnQpID8gW10gOiBnZXRDbGlwcGluZ0VsZW1lbnRBbmNlc3RvcnMoZWxlbWVudCwgdGhpcy5fYykgOiBbXS5jb25jYXQoYm91bmRhcnkpO1xuICBjb25zdCBjbGlwcGluZ0FuY2VzdG9ycyA9IFsuLi5lbGVtZW50Q2xpcHBpbmdBbmNlc3RvcnMsIHJvb3RCb3VuZGFyeV07XG4gIGNvbnN0IGZpcnN0Q2xpcHBpbmdBbmNlc3RvciA9IGNsaXBwaW5nQW5jZXN0b3JzWzBdO1xuICBjb25zdCBjbGlwcGluZ1JlY3QgPSBjbGlwcGluZ0FuY2VzdG9ycy5yZWR1Y2UoKGFjY1JlY3QsIGNsaXBwaW5nQW5jZXN0b3IpID0+IHtcbiAgICBjb25zdCByZWN0ID0gZ2V0Q2xpZW50UmVjdEZyb21DbGlwcGluZ0FuY2VzdG9yKGVsZW1lbnQsIGNsaXBwaW5nQW5jZXN0b3IsIHN0cmF0ZWd5KTtcbiAgICBhY2NSZWN0LnRvcCA9IG1heChyZWN0LnRvcCwgYWNjUmVjdC50b3ApO1xuICAgIGFjY1JlY3QucmlnaHQgPSBtaW4ocmVjdC5yaWdodCwgYWNjUmVjdC5yaWdodCk7XG4gICAgYWNjUmVjdC5ib3R0b20gPSBtaW4ocmVjdC5ib3R0b20sIGFjY1JlY3QuYm90dG9tKTtcbiAgICBhY2NSZWN0LmxlZnQgPSBtYXgocmVjdC5sZWZ0LCBhY2NSZWN0LmxlZnQpO1xuICAgIHJldHVybiBhY2NSZWN0O1xuICB9LCBnZXRDbGllbnRSZWN0RnJvbUNsaXBwaW5nQW5jZXN0b3IoZWxlbWVudCwgZmlyc3RDbGlwcGluZ0FuY2VzdG9yLCBzdHJhdGVneSkpO1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBjbGlwcGluZ1JlY3QucmlnaHQgLSBjbGlwcGluZ1JlY3QubGVmdCxcbiAgICBoZWlnaHQ6IGNsaXBwaW5nUmVjdC5ib3R0b20gLSBjbGlwcGluZ1JlY3QudG9wLFxuICAgIHg6IGNsaXBwaW5nUmVjdC5sZWZ0LFxuICAgIHk6IGNsaXBwaW5nUmVjdC50b3BcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldERpbWVuc2lvbnMoZWxlbWVudCkge1xuICBjb25zdCB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0XG4gIH0gPSBnZXRDc3NEaW1lbnNpb25zKGVsZW1lbnQpO1xuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodFxuICB9O1xufVxuZnVuY3Rpb24gZ2V0UmVjdFJlbGF0aXZlVG9PZmZzZXRQYXJlbnQoZWxlbWVudCwgb2Zmc2V0UGFyZW50LCBzdHJhdGVneSkge1xuICBjb25zdCBpc09mZnNldFBhcmVudEFuRWxlbWVudCA9IGlzSFRNTEVsZW1lbnQob2Zmc2V0UGFyZW50KTtcbiAgY29uc3QgZG9jdW1lbnRFbGVtZW50ID0gZ2V0RG9jdW1lbnRFbGVtZW50KG9mZnNldFBhcmVudCk7XG4gIGNvbnN0IGlzRml4ZWQgPSBzdHJhdGVneSA9PT0gXCJmaXhlZFwiO1xuICBjb25zdCByZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIHRydWUsIGlzRml4ZWQsIG9mZnNldFBhcmVudCk7XG4gIGxldCBzY3JvbGwgPSB7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBzY3JvbGxUb3A6IDBcbiAgfTtcbiAgY29uc3Qgb2Zmc2V0cyA9IGNyZWF0ZUNvb3JkcygwKTtcbiAgZnVuY3Rpb24gc2V0TGVmdFJUTFNjcm9sbGJhck9mZnNldCgpIHtcbiAgICBvZmZzZXRzLnggPSBnZXRXaW5kb3dTY3JvbGxCYXJYKGRvY3VtZW50RWxlbWVudCk7XG4gIH1cbiAgaWYgKGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50IHx8ICFpc09mZnNldFBhcmVudEFuRWxlbWVudCAmJiAhaXNGaXhlZCkge1xuICAgIGlmIChnZXROb2RlTmFtZShvZmZzZXRQYXJlbnQpICE9PSBcImJvZHlcIiB8fCBpc092ZXJmbG93RWxlbWVudChkb2N1bWVudEVsZW1lbnQpKSB7XG4gICAgICBzY3JvbGwgPSBnZXROb2RlU2Nyb2xsKG9mZnNldFBhcmVudCk7XG4gICAgfVxuICAgIGlmIChpc09mZnNldFBhcmVudEFuRWxlbWVudCkge1xuICAgICAgY29uc3Qgb2Zmc2V0UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChvZmZzZXRQYXJlbnQsIHRydWUsIGlzRml4ZWQsIG9mZnNldFBhcmVudCk7XG4gICAgICBvZmZzZXRzLnggPSBvZmZzZXRSZWN0LnggKyBvZmZzZXRQYXJlbnQuY2xpZW50TGVmdDtcbiAgICAgIG9mZnNldHMueSA9IG9mZnNldFJlY3QueSArIG9mZnNldFBhcmVudC5jbGllbnRUb3A7XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgIHNldExlZnRSVExTY3JvbGxiYXJPZmZzZXQoKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzRml4ZWQgJiYgIWlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ICYmIGRvY3VtZW50RWxlbWVudCkge1xuICAgIHNldExlZnRSVExTY3JvbGxiYXJPZmZzZXQoKTtcbiAgfVxuICBjb25zdCBodG1sT2Zmc2V0ID0gZG9jdW1lbnRFbGVtZW50ICYmICFpc09mZnNldFBhcmVudEFuRWxlbWVudCAmJiAhaXNGaXhlZCA/IGdldEhUTUxPZmZzZXQoZG9jdW1lbnRFbGVtZW50LCBzY3JvbGwpIDogY3JlYXRlQ29vcmRzKDApO1xuICBjb25zdCB4MiA9IHJlY3QubGVmdCArIHNjcm9sbC5zY3JvbGxMZWZ0IC0gb2Zmc2V0cy54IC0gaHRtbE9mZnNldC54O1xuICBjb25zdCB5MiA9IHJlY3QudG9wICsgc2Nyb2xsLnNjcm9sbFRvcCAtIG9mZnNldHMueSAtIGh0bWxPZmZzZXQueTtcbiAgcmV0dXJuIHtcbiAgICB4OiB4MixcbiAgICB5OiB5MixcbiAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0XG4gIH07XG59XG5mdW5jdGlvbiBpc1N0YXRpY1Bvc2l0aW9uZWQoZWxlbWVudCkge1xuICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZSQxKGVsZW1lbnQpLnBvc2l0aW9uID09PSBcInN0YXRpY1wiO1xufVxuZnVuY3Rpb24gZ2V0VHJ1ZU9mZnNldFBhcmVudChlbGVtZW50LCBwb2x5ZmlsbCkge1xuICBpZiAoIWlzSFRNTEVsZW1lbnQoZWxlbWVudCkgfHwgZ2V0Q29tcHV0ZWRTdHlsZSQxKGVsZW1lbnQpLnBvc2l0aW9uID09PSBcImZpeGVkXCIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAocG9seWZpbGwpIHtcbiAgICByZXR1cm4gcG9seWZpbGwoZWxlbWVudCk7XG4gIH1cbiAgbGV0IHJhd09mZnNldFBhcmVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50O1xuICBpZiAoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpID09PSByYXdPZmZzZXRQYXJlbnQpIHtcbiAgICByYXdPZmZzZXRQYXJlbnQgPSByYXdPZmZzZXRQYXJlbnQub3duZXJEb2N1bWVudC5ib2R5O1xuICB9XG4gIHJldHVybiByYXdPZmZzZXRQYXJlbnQ7XG59XG5mdW5jdGlvbiBnZXRPZmZzZXRQYXJlbnQoZWxlbWVudCwgcG9seWZpbGwpIHtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KGVsZW1lbnQpO1xuICBpZiAoaXNUb3BMYXllcihlbGVtZW50KSkge1xuICAgIHJldHVybiB3aW47XG4gIH1cbiAgaWYgKCFpc0hUTUxFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgbGV0IHN2Z09mZnNldFBhcmVudCA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7XG4gICAgd2hpbGUgKHN2Z09mZnNldFBhcmVudCAmJiAhaXNMYXN0VHJhdmVyc2FibGVOb2RlKHN2Z09mZnNldFBhcmVudCkpIHtcbiAgICAgIGlmIChpc0VsZW1lbnQoc3ZnT2Zmc2V0UGFyZW50KSAmJiAhaXNTdGF0aWNQb3NpdGlvbmVkKHN2Z09mZnNldFBhcmVudCkpIHtcbiAgICAgICAgcmV0dXJuIHN2Z09mZnNldFBhcmVudDtcbiAgICAgIH1cbiAgICAgIHN2Z09mZnNldFBhcmVudCA9IGdldFBhcmVudE5vZGUoc3ZnT2Zmc2V0UGFyZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHdpbjtcbiAgfVxuICBsZXQgb2Zmc2V0UGFyZW50ID0gZ2V0VHJ1ZU9mZnNldFBhcmVudChlbGVtZW50LCBwb2x5ZmlsbCk7XG4gIHdoaWxlIChvZmZzZXRQYXJlbnQgJiYgaXNUYWJsZUVsZW1lbnQob2Zmc2V0UGFyZW50KSAmJiBpc1N0YXRpY1Bvc2l0aW9uZWQob2Zmc2V0UGFyZW50KSkge1xuICAgIG9mZnNldFBhcmVudCA9IGdldFRydWVPZmZzZXRQYXJlbnQob2Zmc2V0UGFyZW50LCBwb2x5ZmlsbCk7XG4gIH1cbiAgaWYgKG9mZnNldFBhcmVudCAmJiBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUob2Zmc2V0UGFyZW50KSAmJiBpc1N0YXRpY1Bvc2l0aW9uZWQob2Zmc2V0UGFyZW50KSAmJiAhaXNDb250YWluaW5nQmxvY2sob2Zmc2V0UGFyZW50KSkge1xuICAgIHJldHVybiB3aW47XG4gIH1cbiAgcmV0dXJuIG9mZnNldFBhcmVudCB8fCBnZXRDb250YWluaW5nQmxvY2soZWxlbWVudCkgfHwgd2luO1xufVxuY29uc3QgZ2V0RWxlbWVudFJlY3RzID0gYXN5bmMgZnVuY3Rpb24oZGF0YSkge1xuICBjb25zdCBnZXRPZmZzZXRQYXJlbnRGbiA9IHRoaXMuZ2V0T2Zmc2V0UGFyZW50IHx8IGdldE9mZnNldFBhcmVudDtcbiAgY29uc3QgZ2V0RGltZW5zaW9uc0ZuID0gdGhpcy5nZXREaW1lbnNpb25zO1xuICBjb25zdCBmbG9hdGluZ0RpbWVuc2lvbnMgPSBhd2FpdCBnZXREaW1lbnNpb25zRm4oZGF0YS5mbG9hdGluZyk7XG4gIHJldHVybiB7XG4gICAgcmVmZXJlbmNlOiBnZXRSZWN0UmVsYXRpdmVUb09mZnNldFBhcmVudChkYXRhLnJlZmVyZW5jZSwgYXdhaXQgZ2V0T2Zmc2V0UGFyZW50Rm4oZGF0YS5mbG9hdGluZyksIGRhdGEuc3RyYXRlZ3kpLFxuICAgIGZsb2F0aW5nOiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHdpZHRoOiBmbG9hdGluZ0RpbWVuc2lvbnMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGZsb2F0aW5nRGltZW5zaW9ucy5oZWlnaHRcbiAgICB9XG4gIH07XG59O1xuZnVuY3Rpb24gaXNSVEwoZWxlbWVudCkge1xuICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZSQxKGVsZW1lbnQpLmRpcmVjdGlvbiA9PT0gXCJydGxcIjtcbn1cbmNvbnN0IHBsYXRmb3JtID0ge1xuICBjb252ZXJ0T2Zmc2V0UGFyZW50UmVsYXRpdmVSZWN0VG9WaWV3cG9ydFJlbGF0aXZlUmVjdCxcbiAgZ2V0RG9jdW1lbnRFbGVtZW50LFxuICBnZXRDbGlwcGluZ1JlY3QsXG4gIGdldE9mZnNldFBhcmVudCxcbiAgZ2V0RWxlbWVudFJlY3RzLFxuICBnZXRDbGllbnRSZWN0cyxcbiAgZ2V0RGltZW5zaW9ucyxcbiAgZ2V0U2NhbGUsXG4gIGlzRWxlbWVudCxcbiAgaXNSVExcbn07XG5mdW5jdGlvbiByZWN0c0FyZUVxdWFsKGEzLCBiMikge1xuICByZXR1cm4gYTMueCA9PT0gYjIueCAmJiBhMy55ID09PSBiMi55ICYmIGEzLndpZHRoID09PSBiMi53aWR0aCAmJiBhMy5oZWlnaHQgPT09IGIyLmhlaWdodDtcbn1cbmZ1bmN0aW9uIG9ic2VydmVNb3ZlKGVsZW1lbnQsIG9uTW92ZSkge1xuICBsZXQgaW8gPSBudWxsO1xuICBsZXQgdGltZW91dElkO1xuICBjb25zdCByb290ID0gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xuICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgIHZhciBfaW87XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgKF9pbyA9IGlvKSA9PSBudWxsIHx8IF9pby5kaXNjb25uZWN0KCk7XG4gICAgaW8gPSBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIHJlZnJlc2goc2tpcCwgdGhyZXNob2xkKSB7XG4gICAgaWYgKHNraXAgPT09IHZvaWQgMCkge1xuICAgICAgc2tpcCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhyZXNob2xkID09PSB2b2lkIDApIHtcbiAgICAgIHRocmVzaG9sZCA9IDE7XG4gICAgfVxuICAgIGNsZWFudXAoKTtcbiAgICBjb25zdCBlbGVtZW50UmVjdEZvclJvb3RNYXJnaW4gPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHtcbiAgICAgIGxlZnQsXG4gICAgICB0b3AsXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodFxuICAgIH0gPSBlbGVtZW50UmVjdEZvclJvb3RNYXJnaW47XG4gICAgaWYgKCFza2lwKSB7XG4gICAgICBvbk1vdmUoKTtcbiAgICB9XG4gICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluc2V0VG9wID0gZmxvb3IodG9wKTtcbiAgICBjb25zdCBpbnNldFJpZ2h0ID0gZmxvb3Iocm9vdC5jbGllbnRXaWR0aCAtIChsZWZ0ICsgd2lkdGgpKTtcbiAgICBjb25zdCBpbnNldEJvdHRvbSA9IGZsb29yKHJvb3QuY2xpZW50SGVpZ2h0IC0gKHRvcCArIGhlaWdodCkpO1xuICAgIGNvbnN0IGluc2V0TGVmdCA9IGZsb29yKGxlZnQpO1xuICAgIGNvbnN0IHJvb3RNYXJnaW4gPSAtaW5zZXRUb3AgKyBcInB4IFwiICsgLWluc2V0UmlnaHQgKyBcInB4IFwiICsgLWluc2V0Qm90dG9tICsgXCJweCBcIiArIC1pbnNldExlZnQgKyBcInB4XCI7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIHJvb3RNYXJnaW4sXG4gICAgICB0aHJlc2hvbGQ6IG1heCgwLCBtaW4oMSwgdGhyZXNob2xkKSkgfHwgMVxuICAgIH07XG4gICAgbGV0IGlzRmlyc3RVcGRhdGUgPSB0cnVlO1xuICAgIGZ1bmN0aW9uIGhhbmRsZU9ic2VydmUoZW50cmllcykge1xuICAgICAgY29uc3QgcmF0aW8gPSBlbnRyaWVzWzBdLmludGVyc2VjdGlvblJhdGlvO1xuICAgICAgaWYgKHJhdGlvICE9PSB0aHJlc2hvbGQpIHtcbiAgICAgICAgaWYgKCFpc0ZpcnN0VXBkYXRlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJhdGlvKSB7XG4gICAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICByZWZyZXNoKGZhbHNlLCAxZS03KTtcbiAgICAgICAgICB9LCAxZTMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZnJlc2goZmFsc2UsIHJhdGlvKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJhdGlvID09PSAxICYmICFyZWN0c0FyZUVxdWFsKGVsZW1lbnRSZWN0Rm9yUm9vdE1hcmdpbiwgZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSkpIHtcbiAgICAgICAgcmVmcmVzaCgpO1xuICAgICAgfVxuICAgICAgaXNGaXJzdFVwZGF0ZSA9IGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgaW8gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlT2JzZXJ2ZSwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAvLyBIYW5kbGUgPGlmcmFtZT5zXG4gICAgICAgIHJvb3Q6IHJvb3Qub3duZXJEb2N1bWVudFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoX2UpIHtcbiAgICAgIGlvID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGhhbmRsZU9ic2VydmUsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpby5vYnNlcnZlKGVsZW1lbnQpO1xuICB9XG4gIHJlZnJlc2godHJ1ZSk7XG4gIHJldHVybiBjbGVhbnVwO1xufVxuZnVuY3Rpb24gYXV0b1VwZGF0ZShyZWZlcmVuY2UsIGZsb2F0aW5nLCB1cGRhdGUsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICBjb25zdCB7XG4gICAgYW5jZXN0b3JTY3JvbGwgPSB0cnVlLFxuICAgIGFuY2VzdG9yUmVzaXplID0gdHJ1ZSxcbiAgICBlbGVtZW50UmVzaXplID0gdHlwZW9mIFJlc2l6ZU9ic2VydmVyID09PSBcImZ1bmN0aW9uXCIsXG4gICAgbGF5b3V0U2hpZnQgPSB0eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPT09IFwiZnVuY3Rpb25cIixcbiAgICBhbmltYXRpb25GcmFtZSA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCByZWZlcmVuY2VFbCA9IHVud3JhcEVsZW1lbnQocmVmZXJlbmNlKTtcbiAgY29uc3QgYW5jZXN0b3JzID0gYW5jZXN0b3JTY3JvbGwgfHwgYW5jZXN0b3JSZXNpemUgPyBbLi4ucmVmZXJlbmNlRWwgPyBnZXRPdmVyZmxvd0FuY2VzdG9ycyhyZWZlcmVuY2VFbCkgOiBbXSwgLi4uZ2V0T3ZlcmZsb3dBbmNlc3RvcnMoZmxvYXRpbmcpXSA6IFtdO1xuICBhbmNlc3RvcnMuZm9yRWFjaCgoYW5jZXN0b3IpID0+IHtcbiAgICBhbmNlc3RvclNjcm9sbCAmJiBhbmNlc3Rvci5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHVwZGF0ZSwge1xuICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGFuY2VzdG9yUmVzaXplICYmIGFuY2VzdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdXBkYXRlKTtcbiAgfSk7XG4gIGNvbnN0IGNsZWFudXBJbyA9IHJlZmVyZW5jZUVsICYmIGxheW91dFNoaWZ0ID8gb2JzZXJ2ZU1vdmUocmVmZXJlbmNlRWwsIHVwZGF0ZSkgOiBudWxsO1xuICBsZXQgcmVvYnNlcnZlRnJhbWUgPSAtMTtcbiAgbGV0IHJlc2l6ZU9ic2VydmVyID0gbnVsbDtcbiAgaWYgKGVsZW1lbnRSZXNpemUpIHtcbiAgICByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoX3JlZikgPT4ge1xuICAgICAgbGV0IFtmaXJzdEVudHJ5XSA9IF9yZWY7XG4gICAgICBpZiAoZmlyc3RFbnRyeSAmJiBmaXJzdEVudHJ5LnRhcmdldCA9PT0gcmVmZXJlbmNlRWwgJiYgcmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKGZsb2F0aW5nKTtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmVvYnNlcnZlRnJhbWUpO1xuICAgICAgICByZW9ic2VydmVGcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgdmFyIF9yZXNpemVPYnNlcnZlcjtcbiAgICAgICAgICAoX3Jlc2l6ZU9ic2VydmVyID0gcmVzaXplT2JzZXJ2ZXIpID09IG51bGwgfHwgX3Jlc2l6ZU9ic2VydmVyLm9ic2VydmUoZmxvYXRpbmcpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZSgpO1xuICAgIH0pO1xuICAgIGlmIChyZWZlcmVuY2VFbCAmJiAhYW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUocmVmZXJlbmNlRWwpO1xuICAgIH1cbiAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGZsb2F0aW5nKTtcbiAgfVxuICBsZXQgZnJhbWVJZDtcbiAgbGV0IHByZXZSZWZSZWN0ID0gYW5pbWF0aW9uRnJhbWUgPyBnZXRCb3VuZGluZ0NsaWVudFJlY3QocmVmZXJlbmNlKSA6IG51bGw7XG4gIGlmIChhbmltYXRpb25GcmFtZSkge1xuICAgIGZyYW1lTG9vcCgpO1xuICB9XG4gIGZ1bmN0aW9uIGZyYW1lTG9vcCgpIHtcbiAgICBjb25zdCBuZXh0UmVmUmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChyZWZlcmVuY2UpO1xuICAgIGlmIChwcmV2UmVmUmVjdCAmJiAhcmVjdHNBcmVFcXVhbChwcmV2UmVmUmVjdCwgbmV4dFJlZlJlY3QpKSB7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gICAgcHJldlJlZlJlY3QgPSBuZXh0UmVmUmVjdDtcbiAgICBmcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lTG9vcCk7XG4gIH1cbiAgdXBkYXRlKCk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgdmFyIF9yZXNpemVPYnNlcnZlcjI7XG4gICAgYW5jZXN0b3JzLmZvckVhY2goKGFuY2VzdG9yKSA9PiB7XG4gICAgICBhbmNlc3RvclNjcm9sbCAmJiBhbmNlc3Rvci5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHVwZGF0ZSk7XG4gICAgICBhbmNlc3RvclJlc2l6ZSAmJiBhbmNlc3Rvci5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHVwZGF0ZSk7XG4gICAgfSk7XG4gICAgY2xlYW51cElvID09IG51bGwgfHwgY2xlYW51cElvKCk7XG4gICAgKF9yZXNpemVPYnNlcnZlcjIgPSByZXNpemVPYnNlcnZlcikgPT0gbnVsbCB8fCBfcmVzaXplT2JzZXJ2ZXIyLmRpc2Nvbm5lY3QoKTtcbiAgICByZXNpemVPYnNlcnZlciA9IG51bGw7XG4gICAgaWYgKGFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShmcmFtZUlkKTtcbiAgICB9XG4gIH07XG59XG5jb25zdCBkZXRlY3RPdmVyZmxvdyA9IGRldGVjdE92ZXJmbG93JDE7XG5jb25zdCBvZmZzZXQkMSA9IG9mZnNldCQyO1xuY29uc3Qgc2hpZnQkMSA9IHNoaWZ0JDI7XG5jb25zdCBmbGlwJDEgPSBmbGlwJDI7XG5jb25zdCBzaXplJDEgPSBzaXplJDI7XG5jb25zdCBjb21wdXRlUG9zaXRpb24gPSAocmVmZXJlbmNlLCBmbG9hdGluZywgb3B0aW9ucykgPT4ge1xuICBjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSB7XG4gICAgcGxhdGZvcm0sXG4gICAgLi4ub3B0aW9uc1xuICB9O1xuICBjb25zdCBwbGF0Zm9ybVdpdGhDYWNoZSA9IHtcbiAgICAuLi5tZXJnZWRPcHRpb25zLnBsYXRmb3JtLFxuICAgIF9jOiBjYWNoZVxuICB9O1xuICByZXR1cm4gY29tcHV0ZVBvc2l0aW9uJDEocmVmZXJlbmNlLCBmbG9hdGluZywge1xuICAgIC4uLm1lcmdlZE9wdGlvbnMsXG4gICAgcGxhdGZvcm06IHBsYXRmb3JtV2l0aENhY2hlXG4gIH0pO1xufTtcbnZhciBpbmRleCQxID0gdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiID8gXyQzIDogeSQ2O1xuZnVuY3Rpb24gZGVlcEVxdWFsKGEzLCBiMikge1xuICBpZiAoYTMgPT09IGIyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiBhMyAhPT0gdHlwZW9mIGIyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgYTMgPT09IFwiZnVuY3Rpb25cIiAmJiBhMy50b1N0cmluZygpID09PSBiMi50b1N0cmluZygpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgbGV0IGxlbmd0aDtcbiAgbGV0IGkyO1xuICBsZXQga2V5cztcbiAgaWYgKGEzICYmIGIyICYmIHR5cGVvZiBhMyA9PT0gXCJvYmplY3RcIikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGEzKSkge1xuICAgICAgbGVuZ3RoID0gYTMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCAhPT0gYjIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKGkyID0gbGVuZ3RoOyBpMi0tICE9PSAwOyApIHtcbiAgICAgICAgaWYgKCFkZWVwRXF1YWwoYTNbaTJdLCBiMltpMl0pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAga2V5cyA9IE9iamVjdC5rZXlzKGEzKTtcbiAgICBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiMikubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoaTIgPSBsZW5ndGg7IGkyLS0gIT09IDA7ICkge1xuICAgICAgaWYgKCF7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIyLCBrZXlzW2kyXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGkyID0gbGVuZ3RoOyBpMi0tICE9PSAwOyApIHtcbiAgICAgIGNvbnN0IGtleSA9IGtleXNbaTJdO1xuICAgICAgaWYgKGtleSA9PT0gXCJfb3duZXJcIiAmJiBhMy4kJHR5cGVvZikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICghZGVlcEVxdWFsKGEzW2tleV0sIGIyW2tleV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGEzICE9PSBhMyAmJiBiMiAhPT0gYjI7XG59XG5mdW5jdGlvbiBnZXREUFIoZWxlbWVudCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiAxO1xuICB9XG4gIGNvbnN0IHdpbiA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCB3aW5kb3c7XG4gIHJldHVybiB3aW4uZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xufVxuZnVuY3Rpb24gcm91bmRCeURQUihlbGVtZW50LCB2YWx1ZSkge1xuICBjb25zdCBkcHIgPSBnZXREUFIoZWxlbWVudCk7XG4gIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogZHByKSAvIGRwcjtcbn1cbmZ1bmN0aW9uIHVzZUxhdGVzdFJlZih2YWx1ZSkge1xuICBjb25zdCByZWYgPSBBJDModmFsdWUpO1xuICBpbmRleCQxKCgpID0+IHtcbiAgICByZWYuY3VycmVudCA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHJlZjtcbn1cbmZ1bmN0aW9uIHVzZUZsb2F0aW5nJDEob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIGNvbnN0IHtcbiAgICBwbGFjZW1lbnQgPSBcImJvdHRvbVwiLFxuICAgIHN0cmF0ZWd5ID0gXCJhYnNvbHV0ZVwiLFxuICAgIG1pZGRsZXdhcmUgPSBbXSxcbiAgICBwbGF0Zm9ybTogcGxhdGZvcm0yLFxuICAgIGVsZW1lbnRzOiB7XG4gICAgICByZWZlcmVuY2U6IGV4dGVybmFsUmVmZXJlbmNlLFxuICAgICAgZmxvYXRpbmc6IGV4dGVybmFsRmxvYXRpbmdcbiAgICB9ID0ge30sXG4gICAgdHJhbnNmb3JtID0gdHJ1ZSxcbiAgICB3aGlsZUVsZW1lbnRzTW91bnRlZCxcbiAgICBvcGVuXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSBkJDQoe1xuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICBzdHJhdGVneSxcbiAgICBwbGFjZW1lbnQsXG4gICAgbWlkZGxld2FyZURhdGE6IHt9LFxuICAgIGlzUG9zaXRpb25lZDogZmFsc2VcbiAgfSk7XG4gIGNvbnN0IFtsYXRlc3RNaWRkbGV3YXJlLCBzZXRMYXRlc3RNaWRkbGV3YXJlXSA9IGQkNChtaWRkbGV3YXJlKTtcbiAgaWYgKCFkZWVwRXF1YWwobGF0ZXN0TWlkZGxld2FyZSwgbWlkZGxld2FyZSkpIHtcbiAgICBzZXRMYXRlc3RNaWRkbGV3YXJlKG1pZGRsZXdhcmUpO1xuICB9XG4gIGNvbnN0IFtfcmVmZXJlbmNlLCBfc2V0UmVmZXJlbmNlXSA9IGQkNChudWxsKTtcbiAgY29uc3QgW19mbG9hdGluZywgX3NldEZsb2F0aW5nXSA9IGQkNChudWxsKTtcbiAgY29uc3Qgc2V0UmVmZXJlbmNlID0gcSQzKChub2RlKSA9PiB7XG4gICAgaWYgKG5vZGUgIT09IHJlZmVyZW5jZVJlZi5jdXJyZW50KSB7XG4gICAgICByZWZlcmVuY2VSZWYuY3VycmVudCA9IG5vZGU7XG4gICAgICBfc2V0UmVmZXJlbmNlKG5vZGUpO1xuICAgIH1cbiAgfSwgW10pO1xuICBjb25zdCBzZXRGbG9hdGluZyA9IHEkMygobm9kZSkgPT4ge1xuICAgIGlmIChub2RlICE9PSBmbG9hdGluZ1JlZi5jdXJyZW50KSB7XG4gICAgICBmbG9hdGluZ1JlZi5jdXJyZW50ID0gbm9kZTtcbiAgICAgIF9zZXRGbG9hdGluZyhub2RlKTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgY29uc3QgcmVmZXJlbmNlRWwgPSBleHRlcm5hbFJlZmVyZW5jZSB8fCBfcmVmZXJlbmNlO1xuICBjb25zdCBmbG9hdGluZ0VsID0gZXh0ZXJuYWxGbG9hdGluZyB8fCBfZmxvYXRpbmc7XG4gIGNvbnN0IHJlZmVyZW5jZVJlZiA9IEEkMyhudWxsKTtcbiAgY29uc3QgZmxvYXRpbmdSZWYgPSBBJDMobnVsbCk7XG4gIGNvbnN0IGRhdGFSZWYgPSBBJDMoZGF0YSk7XG4gIGNvbnN0IGhhc1doaWxlRWxlbWVudHNNb3VudGVkID0gd2hpbGVFbGVtZW50c01vdW50ZWQgIT0gbnVsbDtcbiAgY29uc3Qgd2hpbGVFbGVtZW50c01vdW50ZWRSZWYgPSB1c2VMYXRlc3RSZWYod2hpbGVFbGVtZW50c01vdW50ZWQpO1xuICBjb25zdCBwbGF0Zm9ybVJlZiA9IHVzZUxhdGVzdFJlZihwbGF0Zm9ybTIpO1xuICBjb25zdCBvcGVuUmVmID0gdXNlTGF0ZXN0UmVmKG9wZW4pO1xuICBjb25zdCB1cGRhdGUgPSBxJDMoKCkgPT4ge1xuICAgIGlmICghcmVmZXJlbmNlUmVmLmN1cnJlbnQgfHwgIWZsb2F0aW5nUmVmLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgcGxhY2VtZW50LFxuICAgICAgc3RyYXRlZ3ksXG4gICAgICBtaWRkbGV3YXJlOiBsYXRlc3RNaWRkbGV3YXJlXG4gICAgfTtcbiAgICBpZiAocGxhdGZvcm1SZWYuY3VycmVudCkge1xuICAgICAgY29uZmlnLnBsYXRmb3JtID0gcGxhdGZvcm1SZWYuY3VycmVudDtcbiAgICB9XG4gICAgY29tcHV0ZVBvc2l0aW9uKHJlZmVyZW5jZVJlZi5jdXJyZW50LCBmbG9hdGluZ1JlZi5jdXJyZW50LCBjb25maWcpLnRoZW4oKGRhdGEyKSA9PiB7XG4gICAgICBjb25zdCBmdWxsRGF0YSA9IHtcbiAgICAgICAgLi4uZGF0YTIsXG4gICAgICAgIC8vIFRoZSBmbG9hdGluZyBlbGVtZW50J3MgcG9zaXRpb24gbWF5IGJlIHJlY29tcHV0ZWQgd2hpbGUgaXQncyBjbG9zZWRcbiAgICAgICAgLy8gYnV0IHN0aWxsIG1vdW50ZWQgKHN1Y2ggYXMgd2hlbiB0cmFuc2l0aW9uaW5nIG91dCkuIFRvIGVuc3VyZVxuICAgICAgICAvLyBgaXNQb3NpdGlvbmVkYCB3aWxsIGJlIGBmYWxzZWAgaW5pdGlhbGx5IG9uIHRoZSBuZXh0IG9wZW4sIGF2b2lkXG4gICAgICAgIC8vIHNldHRpbmcgaXQgdG8gYHRydWVgIHdoZW4gYG9wZW4gPT09IGZhbHNlYCAobXVzdCBiZSBzcGVjaWZpZWQpLlxuICAgICAgICBpc1Bvc2l0aW9uZWQ6IG9wZW5SZWYuY3VycmVudCAhPT0gZmFsc2VcbiAgICAgIH07XG4gICAgICBpZiAoaXNNb3VudGVkUmVmLmN1cnJlbnQgJiYgIWRlZXBFcXVhbChkYXRhUmVmLmN1cnJlbnQsIGZ1bGxEYXRhKSkge1xuICAgICAgICBkYXRhUmVmLmN1cnJlbnQgPSBmdWxsRGF0YTtcbiAgICAgICAgRW4oKCkgPT4ge1xuICAgICAgICAgIHNldERhdGEoZnVsbERhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW2xhdGVzdE1pZGRsZXdhcmUsIHBsYWNlbWVudCwgc3RyYXRlZ3ksIHBsYXRmb3JtUmVmLCBvcGVuUmVmXSk7XG4gIGluZGV4JDEoKCkgPT4ge1xuICAgIGlmIChvcGVuID09PSBmYWxzZSAmJiBkYXRhUmVmLmN1cnJlbnQuaXNQb3NpdGlvbmVkKSB7XG4gICAgICBkYXRhUmVmLmN1cnJlbnQuaXNQb3NpdGlvbmVkID0gZmFsc2U7XG4gICAgICBzZXREYXRhKChkYXRhMikgPT4gKHtcbiAgICAgICAgLi4uZGF0YTIsXG4gICAgICAgIGlzUG9zaXRpb25lZDogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sIFtvcGVuXSk7XG4gIGNvbnN0IGlzTW91bnRlZFJlZiA9IEEkMyhmYWxzZSk7XG4gIGluZGV4JDEoKCkgPT4ge1xuICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIGluZGV4JDEoKCkgPT4ge1xuICAgIGlmIChyZWZlcmVuY2VFbCkgcmVmZXJlbmNlUmVmLmN1cnJlbnQgPSByZWZlcmVuY2VFbDtcbiAgICBpZiAoZmxvYXRpbmdFbCkgZmxvYXRpbmdSZWYuY3VycmVudCA9IGZsb2F0aW5nRWw7XG4gICAgaWYgKHJlZmVyZW5jZUVsICYmIGZsb2F0aW5nRWwpIHtcbiAgICAgIGlmICh3aGlsZUVsZW1lbnRzTW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHJldHVybiB3aGlsZUVsZW1lbnRzTW91bnRlZFJlZi5jdXJyZW50KHJlZmVyZW5jZUVsLCBmbG9hdGluZ0VsLCB1cGRhdGUpO1xuICAgICAgfVxuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICB9LCBbcmVmZXJlbmNlRWwsIGZsb2F0aW5nRWwsIHVwZGF0ZSwgd2hpbGVFbGVtZW50c01vdW50ZWRSZWYsIGhhc1doaWxlRWxlbWVudHNNb3VudGVkXSk7XG4gIGNvbnN0IHJlZnMgPSBUJDUoKCkgPT4gKHtcbiAgICByZWZlcmVuY2U6IHJlZmVyZW5jZVJlZixcbiAgICBmbG9hdGluZzogZmxvYXRpbmdSZWYsXG4gICAgc2V0UmVmZXJlbmNlLFxuICAgIHNldEZsb2F0aW5nXG4gIH0pLCBbc2V0UmVmZXJlbmNlLCBzZXRGbG9hdGluZ10pO1xuICBjb25zdCBlbGVtZW50cyA9IFQkNSgoKSA9PiAoe1xuICAgIHJlZmVyZW5jZTogcmVmZXJlbmNlRWwsXG4gICAgZmxvYXRpbmc6IGZsb2F0aW5nRWxcbiAgfSksIFtyZWZlcmVuY2VFbCwgZmxvYXRpbmdFbF0pO1xuICBjb25zdCBmbG9hdGluZ1N0eWxlcyA9IFQkNSgoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbFN0eWxlcyA9IHtcbiAgICAgIHBvc2l0aW9uOiBzdHJhdGVneSxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICB0b3A6IDBcbiAgICB9O1xuICAgIGlmICghZWxlbWVudHMuZmxvYXRpbmcpIHtcbiAgICAgIHJldHVybiBpbml0aWFsU3R5bGVzO1xuICAgIH1cbiAgICBjb25zdCB4MiA9IHJvdW5kQnlEUFIoZWxlbWVudHMuZmxvYXRpbmcsIGRhdGEueCk7XG4gICAgY29uc3QgeTIgPSByb3VuZEJ5RFBSKGVsZW1lbnRzLmZsb2F0aW5nLCBkYXRhLnkpO1xuICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmluaXRpYWxTdHlsZXMsXG4gICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoXCIgKyB4MiArIFwicHgsIFwiICsgeTIgKyBcInB4KVwiLFxuICAgICAgICAuLi5nZXREUFIoZWxlbWVudHMuZmxvYXRpbmcpID49IDEuNSAmJiB7XG4gICAgICAgICAgd2lsbENoYW5nZTogXCJ0cmFuc2Zvcm1cIlxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgcG9zaXRpb246IHN0cmF0ZWd5LFxuICAgICAgbGVmdDogeDIsXG4gICAgICB0b3A6IHkyXG4gICAgfTtcbiAgfSwgW3N0cmF0ZWd5LCB0cmFuc2Zvcm0sIGVsZW1lbnRzLmZsb2F0aW5nLCBkYXRhLngsIGRhdGEueV0pO1xuICByZXR1cm4gVCQ1KCgpID0+ICh7XG4gICAgLi4uZGF0YSxcbiAgICB1cGRhdGUsXG4gICAgcmVmcyxcbiAgICBlbGVtZW50cyxcbiAgICBmbG9hdGluZ1N0eWxlc1xuICB9KSwgW2RhdGEsIHVwZGF0ZSwgcmVmcywgZWxlbWVudHMsIGZsb2F0aW5nU3R5bGVzXSk7XG59XG5jb25zdCBvZmZzZXQgPSAob3B0aW9ucywgZGVwcykgPT4gKHtcbiAgLi4ub2Zmc2V0JDEob3B0aW9ucyksXG4gIG9wdGlvbnM6IFtvcHRpb25zLCBkZXBzXVxufSk7XG5jb25zdCBzaGlmdCA9IChvcHRpb25zLCBkZXBzKSA9PiAoe1xuICAuLi5zaGlmdCQxKG9wdGlvbnMpLFxuICBvcHRpb25zOiBbb3B0aW9ucywgZGVwc11cbn0pO1xuY29uc3QgZmxpcCA9IChvcHRpb25zLCBkZXBzKSA9PiAoe1xuICAuLi5mbGlwJDEob3B0aW9ucyksXG4gIG9wdGlvbnM6IFtvcHRpb25zLCBkZXBzXVxufSk7XG5jb25zdCBzaXplID0gKG9wdGlvbnMsIGRlcHMpID0+ICh7XG4gIC4uLnNpemUkMShvcHRpb25zKSxcbiAgb3B0aW9uczogW29wdGlvbnMsIGRlcHNdXG59KTtcbmNvbnN0IFNhZmVSZWFjdCA9IHtcbiAgLi4udCQ0XG59O1xuY29uc3QgdXNlSW5zZXJ0aW9uRWZmZWN0ID0gU2FmZVJlYWN0LnVzZUluc2VydGlvbkVmZmVjdDtcbmNvbnN0IHVzZVNhZmVJbnNlcnRpb25FZmZlY3QgPSB1c2VJbnNlcnRpb25FZmZlY3QgfHwgKChmbjIpID0+IGZuMigpKTtcbmZ1bmN0aW9uIHVzZUVmZmVjdEV2ZW50KGNhbGxiYWNrKSB7XG4gIGNvbnN0IHJlZiA9IEEkMygoKSA9PiB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgYW4gZXZlbnQgaGFuZGxlciB3aGlsZSByZW5kZXJpbmcuXCIpO1xuICAgIH1cbiAgfSk7XG4gIHVzZVNhZmVJbnNlcnRpb25FZmZlY3QoKCkgPT4ge1xuICAgIHJlZi5jdXJyZW50ID0gY2FsbGJhY2s7XG4gIH0pO1xuICByZXR1cm4gcSQzKGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHJlZi5jdXJyZW50ID09IG51bGwgPyB2b2lkIDAgOiByZWYuY3VycmVudCguLi5hcmdzKTtcbiAgfSwgW10pO1xufVxudmFyIGluZGV4ID0gdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiID8gXyQzIDogeSQ2O1xubGV0IHNlcnZlckhhbmRvZmZDb21wbGV0ZSA9IGZhbHNlO1xubGV0IGNvdW50ID0gMDtcbmNvbnN0IGdlbklkID0gKCkgPT4gKFxuICAvLyBFbnN1cmUgdGhlIGlkIGlzIHVuaXF1ZSB3aXRoIG11bHRpcGxlIGluZGVwZW5kZW50IHZlcnNpb25zIG9mIEZsb2F0aW5nIFVJXG4gIC8vIG9uIDxSZWFjdCAxOFxuICBcImZsb2F0aW5nLXVpLVwiICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgNikgKyBjb3VudCsrXG4pO1xuZnVuY3Rpb24gdXNlRmxvYXRpbmdJZCgpIHtcbiAgY29uc3QgW2lkLCBzZXRJZF0gPSBkJDQoKCkgPT4gc2VydmVySGFuZG9mZkNvbXBsZXRlID8gZ2VuSWQoKSA6IHZvaWQgMCk7XG4gIGluZGV4KCgpID0+IHtcbiAgICBpZiAoaWQgPT0gbnVsbCkge1xuICAgICAgc2V0SWQoZ2VuSWQoKSk7XG4gICAgfVxuICB9LCBbXSk7XG4gIHkkNigoKSA9PiB7XG4gICAgc2VydmVySGFuZG9mZkNvbXBsZXRlID0gdHJ1ZTtcbiAgfSwgW10pO1xuICByZXR1cm4gaWQ7XG59XG5jb25zdCB1c2VSZWFjdElkID0gU2FmZVJlYWN0LnVzZUlkO1xuY29uc3QgdXNlSWQgPSB1c2VSZWFjdElkIHx8IHVzZUZsb2F0aW5nSWQ7XG5sZXQgZGV2TWVzc2FnZVNldDtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgZGV2TWVzc2FnZVNldCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG59XG5mdW5jdGlvbiB3YXJuKCkge1xuICB2YXIgX2Rldk1lc3NhZ2VTZXQ7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtZXNzYWdlcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBtZXNzYWdlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuICBjb25zdCBtZXNzYWdlID0gXCJGbG9hdGluZyBVSTogXCIgKyBtZXNzYWdlcy5qb2luKFwiIFwiKTtcbiAgaWYgKCEoKF9kZXZNZXNzYWdlU2V0ID0gZGV2TWVzc2FnZVNldCkgIT0gbnVsbCAmJiBfZGV2TWVzc2FnZVNldC5oYXMobWVzc2FnZSkpKSB7XG4gICAgdmFyIF9kZXZNZXNzYWdlU2V0MjtcbiAgICAoX2Rldk1lc3NhZ2VTZXQyID0gZGV2TWVzc2FnZVNldCkgPT0gbnVsbCB8fCBfZGV2TWVzc2FnZVNldDIuYWRkKG1lc3NhZ2UpO1xuICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgfVxufVxuZnVuY3Rpb24gZXJyb3IoKSB7XG4gIHZhciBfZGV2TWVzc2FnZVNldDM7XG4gIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgbWVzc2FnZXMgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBtZXNzYWdlc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICB9XG4gIGNvbnN0IG1lc3NhZ2UgPSBcIkZsb2F0aW5nIFVJOiBcIiArIG1lc3NhZ2VzLmpvaW4oXCIgXCIpO1xuICBpZiAoISgoX2Rldk1lc3NhZ2VTZXQzID0gZGV2TWVzc2FnZVNldCkgIT0gbnVsbCAmJiBfZGV2TWVzc2FnZVNldDMuaGFzKG1lc3NhZ2UpKSkge1xuICAgIHZhciBfZGV2TWVzc2FnZVNldDQ7XG4gICAgKF9kZXZNZXNzYWdlU2V0NCA9IGRldk1lc3NhZ2VTZXQpID09IG51bGwgfHwgX2Rldk1lc3NhZ2VTZXQ0LmFkZChtZXNzYWdlKTtcbiAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVQdWJTdWIoKSB7XG4gIGNvbnN0IG1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIHJldHVybiB7XG4gICAgZW1pdChldmVudCwgZGF0YSkge1xuICAgICAgdmFyIF9tYXAkZ2V0O1xuICAgICAgKF9tYXAkZ2V0ID0gbWFwLmdldChldmVudCkpID09IG51bGwgfHwgX21hcCRnZXQuZm9yRWFjaCgoaGFuZGxlcikgPT4gaGFuZGxlcihkYXRhKSk7XG4gICAgfSxcbiAgICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgIG1hcC5zZXQoZXZlbnQsIFsuLi5tYXAuZ2V0KGV2ZW50KSB8fCBbXSwgbGlzdGVuZXJdKTtcbiAgICB9LFxuICAgIG9mZihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBfbWFwJGdldDI7XG4gICAgICBtYXAuc2V0KGV2ZW50LCAoKF9tYXAkZ2V0MiA9IG1hcC5nZXQoZXZlbnQpKSA9PSBudWxsID8gdm9pZCAwIDogX21hcCRnZXQyLmZpbHRlcigobDIpID0+IGwyICE9PSBsaXN0ZW5lcikpIHx8IFtdKTtcbiAgICB9XG4gIH07XG59XG5jb25zdCBGbG9hdGluZ05vZGVDb250ZXh0ID0gLyogQF9fUFVSRV9fICovIEskMyhudWxsKTtcbmNvbnN0IEZsb2F0aW5nVHJlZUNvbnRleHQgPSAvKiBAX19QVVJFX18gKi8gSyQzKG51bGwpO1xuY29uc3QgdXNlRmxvYXRpbmdQYXJlbnROb2RlSWQgPSAoKSA9PiB7XG4gIHZhciBfUmVhY3QkdXNlQ29udGV4dDtcbiAgcmV0dXJuICgoX1JlYWN0JHVzZUNvbnRleHQgPSB4JDQoRmxvYXRpbmdOb2RlQ29udGV4dCkpID09IG51bGwgPyB2b2lkIDAgOiBfUmVhY3QkdXNlQ29udGV4dC5pZCkgfHwgbnVsbDtcbn07XG5jb25zdCB1c2VGbG9hdGluZ1RyZWUgPSAoKSA9PiB4JDQoRmxvYXRpbmdUcmVlQ29udGV4dCk7XG5jb25zdCBGT0NVU0FCTEVfQVRUUklCVVRFID0gXCJkYXRhLWZsb2F0aW5nLXVpLWZvY3VzYWJsZVwiO1xuZnVuY3Rpb24gdXNlRmxvYXRpbmdSb290Q29udGV4dChvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBvcGVuID0gZmFsc2UsXG4gICAgb25PcGVuQ2hhbmdlOiBvbk9wZW5DaGFuZ2VQcm9wLFxuICAgIGVsZW1lbnRzOiBlbGVtZW50c1Byb3BcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGZsb2F0aW5nSWQgPSB1c2VJZCgpO1xuICBjb25zdCBkYXRhUmVmID0gQSQzKHt9KTtcbiAgY29uc3QgW2V2ZW50c10gPSBkJDQoKCkgPT4gY3JlYXRlUHViU3ViKCkpO1xuICBjb25zdCBuZXN0ZWQgPSB1c2VGbG9hdGluZ1BhcmVudE5vZGVJZCgpICE9IG51bGw7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICBjb25zdCBvcHRpb25Eb21SZWZlcmVuY2UgPSBlbGVtZW50c1Byb3AucmVmZXJlbmNlO1xuICAgIGlmIChvcHRpb25Eb21SZWZlcmVuY2UgJiYgIWlzRWxlbWVudChvcHRpb25Eb21SZWZlcmVuY2UpKSB7XG4gICAgICBlcnJvcihcIkNhbm5vdCBwYXNzIGEgdmlydHVhbCBlbGVtZW50IHRvIHRoZSBgZWxlbWVudHMucmVmZXJlbmNlYCBvcHRpb24sXCIsIFwiYXMgaXQgbXVzdCBiZSBhIHJlYWwgRE9NIGVsZW1lbnQuIFVzZSBgcmVmcy5zZXRQb3NpdGlvblJlZmVyZW5jZSgpYFwiLCBcImluc3RlYWQuXCIpO1xuICAgIH1cbiAgfVxuICBjb25zdCBbcG9zaXRpb25SZWZlcmVuY2UsIHNldFBvc2l0aW9uUmVmZXJlbmNlXSA9IGQkNChlbGVtZW50c1Byb3AucmVmZXJlbmNlKTtcbiAgY29uc3Qgb25PcGVuQ2hhbmdlID0gdXNlRWZmZWN0RXZlbnQoKG9wZW4yLCBldmVudCwgcmVhc29uKSA9PiB7XG4gICAgZGF0YVJlZi5jdXJyZW50Lm9wZW5FdmVudCA9IG9wZW4yID8gZXZlbnQgOiB2b2lkIDA7XG4gICAgZXZlbnRzLmVtaXQoXCJvcGVuY2hhbmdlXCIsIHtcbiAgICAgIG9wZW46IG9wZW4yLFxuICAgICAgZXZlbnQsXG4gICAgICByZWFzb24sXG4gICAgICBuZXN0ZWRcbiAgICB9KTtcbiAgICBvbk9wZW5DaGFuZ2VQcm9wID09IG51bGwgfHwgb25PcGVuQ2hhbmdlUHJvcChvcGVuMiwgZXZlbnQsIHJlYXNvbik7XG4gIH0pO1xuICBjb25zdCByZWZzID0gVCQ1KCgpID0+ICh7XG4gICAgc2V0UG9zaXRpb25SZWZlcmVuY2VcbiAgfSksIFtdKTtcbiAgY29uc3QgZWxlbWVudHMgPSBUJDUoKCkgPT4gKHtcbiAgICByZWZlcmVuY2U6IHBvc2l0aW9uUmVmZXJlbmNlIHx8IGVsZW1lbnRzUHJvcC5yZWZlcmVuY2UgfHwgbnVsbCxcbiAgICBmbG9hdGluZzogZWxlbWVudHNQcm9wLmZsb2F0aW5nIHx8IG51bGwsXG4gICAgZG9tUmVmZXJlbmNlOiBlbGVtZW50c1Byb3AucmVmZXJlbmNlXG4gIH0pLCBbcG9zaXRpb25SZWZlcmVuY2UsIGVsZW1lbnRzUHJvcC5yZWZlcmVuY2UsIGVsZW1lbnRzUHJvcC5mbG9hdGluZ10pO1xuICByZXR1cm4gVCQ1KCgpID0+ICh7XG4gICAgZGF0YVJlZixcbiAgICBvcGVuLFxuICAgIG9uT3BlbkNoYW5nZSxcbiAgICBlbGVtZW50cyxcbiAgICBldmVudHMsXG4gICAgZmxvYXRpbmdJZCxcbiAgICByZWZzXG4gIH0pLCBbb3Blbiwgb25PcGVuQ2hhbmdlLCBlbGVtZW50cywgZXZlbnRzLCBmbG9hdGluZ0lkLCByZWZzXSk7XG59XG5mdW5jdGlvbiB1c2VGbG9hdGluZyhvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgY29uc3Qge1xuICAgIG5vZGVJZFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaW50ZXJuYWxSb290Q29udGV4dCA9IHVzZUZsb2F0aW5nUm9vdENvbnRleHQoe1xuICAgIC4uLm9wdGlvbnMsXG4gICAgZWxlbWVudHM6IHtcbiAgICAgIHJlZmVyZW5jZTogbnVsbCxcbiAgICAgIGZsb2F0aW5nOiBudWxsLFxuICAgICAgLi4ub3B0aW9ucy5lbGVtZW50c1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHJvb3RDb250ZXh0ID0gb3B0aW9ucy5yb290Q29udGV4dCB8fCBpbnRlcm5hbFJvb3RDb250ZXh0O1xuICBjb25zdCBjb21wdXRlZEVsZW1lbnRzID0gcm9vdENvbnRleHQuZWxlbWVudHM7XG4gIGNvbnN0IFtfZG9tUmVmZXJlbmNlLCBzZXREb21SZWZlcmVuY2VdID0gZCQ0KG51bGwpO1xuICBjb25zdCBbcG9zaXRpb25SZWZlcmVuY2UsIF9zZXRQb3NpdGlvblJlZmVyZW5jZV0gPSBkJDQobnVsbCk7XG4gIGNvbnN0IG9wdGlvbkRvbVJlZmVyZW5jZSA9IGNvbXB1dGVkRWxlbWVudHMgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbXB1dGVkRWxlbWVudHMuZG9tUmVmZXJlbmNlO1xuICBjb25zdCBkb21SZWZlcmVuY2UgPSBvcHRpb25Eb21SZWZlcmVuY2UgfHwgX2RvbVJlZmVyZW5jZTtcbiAgY29uc3QgZG9tUmVmZXJlbmNlUmVmID0gQSQzKG51bGwpO1xuICBjb25zdCB0cmVlID0gdXNlRmxvYXRpbmdUcmVlKCk7XG4gIGluZGV4KCgpID0+IHtcbiAgICBpZiAoZG9tUmVmZXJlbmNlKSB7XG4gICAgICBkb21SZWZlcmVuY2VSZWYuY3VycmVudCA9IGRvbVJlZmVyZW5jZTtcbiAgICB9XG4gIH0sIFtkb21SZWZlcmVuY2VdKTtcbiAgY29uc3QgcG9zaXRpb24gPSB1c2VGbG9hdGluZyQxKHtcbiAgICAuLi5vcHRpb25zLFxuICAgIGVsZW1lbnRzOiB7XG4gICAgICAuLi5jb21wdXRlZEVsZW1lbnRzLFxuICAgICAgLi4ucG9zaXRpb25SZWZlcmVuY2UgJiYge1xuICAgICAgICByZWZlcmVuY2U6IHBvc2l0aW9uUmVmZXJlbmNlXG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgY29uc3Qgc2V0UG9zaXRpb25SZWZlcmVuY2UgPSBxJDMoKG5vZGUpID0+IHtcbiAgICBjb25zdCBjb21wdXRlZFBvc2l0aW9uUmVmZXJlbmNlID0gaXNFbGVtZW50KG5vZGUpID8ge1xuICAgICAgZ2V0Qm91bmRpbmdDbGllbnRSZWN0OiAoKSA9PiBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgY29udGV4dEVsZW1lbnQ6IG5vZGVcbiAgICB9IDogbm9kZTtcbiAgICBfc2V0UG9zaXRpb25SZWZlcmVuY2UoY29tcHV0ZWRQb3NpdGlvblJlZmVyZW5jZSk7XG4gICAgcG9zaXRpb24ucmVmcy5zZXRSZWZlcmVuY2UoY29tcHV0ZWRQb3NpdGlvblJlZmVyZW5jZSk7XG4gIH0sIFtwb3NpdGlvbi5yZWZzXSk7XG4gIGNvbnN0IHNldFJlZmVyZW5jZSA9IHEkMygobm9kZSkgPT4ge1xuICAgIGlmIChpc0VsZW1lbnQobm9kZSkgfHwgbm9kZSA9PT0gbnVsbCkge1xuICAgICAgZG9tUmVmZXJlbmNlUmVmLmN1cnJlbnQgPSBub2RlO1xuICAgICAgc2V0RG9tUmVmZXJlbmNlKG5vZGUpO1xuICAgIH1cbiAgICBpZiAoaXNFbGVtZW50KHBvc2l0aW9uLnJlZnMucmVmZXJlbmNlLmN1cnJlbnQpIHx8IHBvc2l0aW9uLnJlZnMucmVmZXJlbmNlLmN1cnJlbnQgPT09IG51bGwgfHwgLy8gRG9uJ3QgYWxsb3cgc2V0dGluZyB2aXJ0dWFsIGVsZW1lbnRzIHVzaW5nIHRoZSBvbGQgdGVjaG5pcXVlIGJhY2sgdG9cbiAgICAvLyBgbnVsbGAgdG8gc3VwcG9ydCBgcG9zaXRpb25SZWZlcmVuY2VgICsgYW4gdW5zdGFibGUgYHJlZmVyZW5jZWBcbiAgICAvLyBjYWxsYmFjayByZWYuXG4gICAgbm9kZSAhPT0gbnVsbCAmJiAhaXNFbGVtZW50KG5vZGUpKSB7XG4gICAgICBwb3NpdGlvbi5yZWZzLnNldFJlZmVyZW5jZShub2RlKTtcbiAgICB9XG4gIH0sIFtwb3NpdGlvbi5yZWZzXSk7XG4gIGNvbnN0IHJlZnMgPSBUJDUoKCkgPT4gKHtcbiAgICAuLi5wb3NpdGlvbi5yZWZzLFxuICAgIHNldFJlZmVyZW5jZSxcbiAgICBzZXRQb3NpdGlvblJlZmVyZW5jZSxcbiAgICBkb21SZWZlcmVuY2U6IGRvbVJlZmVyZW5jZVJlZlxuICB9KSwgW3Bvc2l0aW9uLnJlZnMsIHNldFJlZmVyZW5jZSwgc2V0UG9zaXRpb25SZWZlcmVuY2VdKTtcbiAgY29uc3QgZWxlbWVudHMgPSBUJDUoKCkgPT4gKHtcbiAgICAuLi5wb3NpdGlvbi5lbGVtZW50cyxcbiAgICBkb21SZWZlcmVuY2VcbiAgfSksIFtwb3NpdGlvbi5lbGVtZW50cywgZG9tUmVmZXJlbmNlXSk7XG4gIGNvbnN0IGNvbnRleHQgPSBUJDUoKCkgPT4gKHtcbiAgICAuLi5wb3NpdGlvbixcbiAgICAuLi5yb290Q29udGV4dCxcbiAgICByZWZzLFxuICAgIGVsZW1lbnRzLFxuICAgIG5vZGVJZFxuICB9KSwgW3Bvc2l0aW9uLCByZWZzLCBlbGVtZW50cywgbm9kZUlkLCByb290Q29udGV4dF0pO1xuICBpbmRleCgoKSA9PiB7XG4gICAgcm9vdENvbnRleHQuZGF0YVJlZi5jdXJyZW50LmZsb2F0aW5nQ29udGV4dCA9IGNvbnRleHQ7XG4gICAgY29uc3Qgbm9kZSA9IHRyZWUgPT0gbnVsbCA/IHZvaWQgMCA6IHRyZWUubm9kZXNSZWYuY3VycmVudC5maW5kKChub2RlMikgPT4gbm9kZTIuaWQgPT09IG5vZGVJZCk7XG4gICAgaWYgKG5vZGUpIHtcbiAgICAgIG5vZGUuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIFQkNSgoKSA9PiAoe1xuICAgIC4uLnBvc2l0aW9uLFxuICAgIGNvbnRleHQsXG4gICAgcmVmcyxcbiAgICBlbGVtZW50c1xuICB9KSwgW3Bvc2l0aW9uLCByZWZzLCBlbGVtZW50cywgY29udGV4dF0pO1xufVxuY29uc3QgQUNUSVZFX0tFWSA9IFwiYWN0aXZlXCI7XG5jb25zdCBTRUxFQ1RFRF9LRVkgPSBcInNlbGVjdGVkXCI7XG5mdW5jdGlvbiBtZXJnZVByb3BzKHVzZXJQcm9wcywgcHJvcHNMaXN0LCBlbGVtZW50S2V5KSB7XG4gIGNvbnN0IG1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGNvbnN0IGlzSXRlbSA9IGVsZW1lbnRLZXkgPT09IFwiaXRlbVwiO1xuICBsZXQgZG9tVXNlclByb3BzID0gdXNlclByb3BzO1xuICBpZiAoaXNJdGVtICYmIHVzZXJQcm9wcykge1xuICAgIGNvbnN0IHtcbiAgICAgIFtBQ1RJVkVfS0VZXTogXzIsXG4gICAgICBbU0VMRUNURURfS0VZXTogX18sXG4gICAgICAuLi52YWxpZFByb3BzXG4gICAgfSA9IHVzZXJQcm9wcztcbiAgICBkb21Vc2VyUHJvcHMgPSB2YWxpZFByb3BzO1xuICB9XG4gIHJldHVybiB7XG4gICAgLi4uZWxlbWVudEtleSA9PT0gXCJmbG9hdGluZ1wiICYmIHtcbiAgICAgIHRhYkluZGV4OiAtMSxcbiAgICAgIFtGT0NVU0FCTEVfQVRUUklCVVRFXTogXCJcIlxuICAgIH0sXG4gICAgLi4uZG9tVXNlclByb3BzLFxuICAgIC4uLnByb3BzTGlzdC5tYXAoKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCBwcm9wc09yR2V0UHJvcHMgPSB2YWx1ZSA/IHZhbHVlW2VsZW1lbnRLZXldIDogbnVsbDtcbiAgICAgIGlmICh0eXBlb2YgcHJvcHNPckdldFByb3BzID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJQcm9wcyA/IHByb3BzT3JHZXRQcm9wcyh1c2VyUHJvcHMpIDogbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9wc09yR2V0UHJvcHM7XG4gICAgfSkuY29uY2F0KHVzZXJQcm9wcykucmVkdWNlKChhY2MsIHByb3BzKSA9PiB7XG4gICAgICBpZiAoIXByb3BzKSB7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9XG4gICAgICBPYmplY3QuZW50cmllcyhwcm9wcykuZm9yRWFjaCgoX3JlZikgPT4ge1xuICAgICAgICBsZXQgW2tleSwgdmFsdWVdID0gX3JlZjtcbiAgICAgICAgaWYgKGlzSXRlbSAmJiBbQUNUSVZFX0tFWSwgU0VMRUNURURfS0VZXS5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXkuaW5kZXhPZihcIm9uXCIpID09PSAwKSB7XG4gICAgICAgICAgaWYgKCFtYXAuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIG1hcC5zZXQoa2V5LCBbXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFyIF9tYXAkZ2V0O1xuICAgICAgICAgICAgKF9tYXAkZ2V0ID0gbWFwLmdldChrZXkpKSA9PSBudWxsIHx8IF9tYXAkZ2V0LnB1c2godmFsdWUpO1xuICAgICAgICAgICAgYWNjW2tleV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdmFyIF9tYXAkZ2V0MjtcbiAgICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gKF9tYXAkZ2V0MiA9IG1hcC5nZXQoa2V5KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9tYXAkZ2V0Mi5tYXAoKGZuMikgPT4gZm4yKC4uLmFyZ3MpKS5maW5kKCh2YWwpID0+IHZhbCAhPT0gdm9pZCAwKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjY1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSlcbiAgfTtcbn1cbmZ1bmN0aW9uIHVzZUludGVyYWN0aW9ucyhwcm9wc0xpc3QpIHtcbiAgaWYgKHByb3BzTGlzdCA9PT0gdm9pZCAwKSB7XG4gICAgcHJvcHNMaXN0ID0gW107XG4gIH1cbiAgY29uc3QgcmVmZXJlbmNlRGVwcyA9IHByb3BzTGlzdC5tYXAoKGtleSkgPT4ga2V5ID09IG51bGwgPyB2b2lkIDAgOiBrZXkucmVmZXJlbmNlKTtcbiAgY29uc3QgZmxvYXRpbmdEZXBzID0gcHJvcHNMaXN0Lm1hcCgoa2V5KSA9PiBrZXkgPT0gbnVsbCA/IHZvaWQgMCA6IGtleS5mbG9hdGluZyk7XG4gIGNvbnN0IGl0ZW1EZXBzID0gcHJvcHNMaXN0Lm1hcCgoa2V5KSA9PiBrZXkgPT0gbnVsbCA/IHZvaWQgMCA6IGtleS5pdGVtKTtcbiAgY29uc3QgZ2V0UmVmZXJlbmNlUHJvcHMgPSBxJDMoXG4gICAgKHVzZXJQcm9wcykgPT4gbWVyZ2VQcm9wcyh1c2VyUHJvcHMsIHByb3BzTGlzdCwgXCJyZWZlcmVuY2VcIiksXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIHJlZmVyZW5jZURlcHNcbiAgKTtcbiAgY29uc3QgZ2V0RmxvYXRpbmdQcm9wcyA9IHEkMyhcbiAgICAodXNlclByb3BzKSA9PiBtZXJnZVByb3BzKHVzZXJQcm9wcywgcHJvcHNMaXN0LCBcImZsb2F0aW5nXCIpLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICBmbG9hdGluZ0RlcHNcbiAgKTtcbiAgY29uc3QgZ2V0SXRlbVByb3BzID0gcSQzKFxuICAgICh1c2VyUHJvcHMpID0+IG1lcmdlUHJvcHModXNlclByb3BzLCBwcm9wc0xpc3QsIFwiaXRlbVwiKSxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgaXRlbURlcHNcbiAgKTtcbiAgcmV0dXJuIFQkNSgoKSA9PiAoe1xuICAgIGdldFJlZmVyZW5jZVByb3BzLFxuICAgIGdldEZsb2F0aW5nUHJvcHMsXG4gICAgZ2V0SXRlbVByb3BzXG4gIH0pLCBbZ2V0UmVmZXJlbmNlUHJvcHMsIGdldEZsb2F0aW5nUHJvcHMsIGdldEl0ZW1Qcm9wc10pO1xufVxuZnVuY3Rpb24gZ2V0QXJnc1dpdGhDdXN0b21GbG9hdGluZ0hlaWdodChzdGF0ZSwgaGVpZ2h0KSB7XG4gIHJldHVybiB7XG4gICAgLi4uc3RhdGUsXG4gICAgcmVjdHM6IHtcbiAgICAgIC4uLnN0YXRlLnJlY3RzLFxuICAgICAgZmxvYXRpbmc6IHtcbiAgICAgICAgLi4uc3RhdGUucmVjdHMuZmxvYXRpbmcsXG4gICAgICAgIGhlaWdodFxuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cbmNvbnN0IGlubmVyID0gKHByb3BzKSA9PiAoe1xuICBuYW1lOiBcImlubmVyXCIsXG4gIG9wdGlvbnM6IHByb3BzLFxuICBhc3luYyBmbihzdGF0ZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGxpc3RSZWYsXG4gICAgICBvdmVyZmxvd1JlZixcbiAgICAgIG9uRmFsbGJhY2tDaGFuZ2UsXG4gICAgICBvZmZzZXQ6IGlubmVyT2Zmc2V0ID0gMCxcbiAgICAgIGluZGV4OiBpbmRleDIgPSAwLFxuICAgICAgbWluSXRlbXNWaXNpYmxlID0gNCxcbiAgICAgIHJlZmVyZW5jZU92ZXJmbG93VGhyZXNob2xkID0gMCxcbiAgICAgIHNjcm9sbFJlZixcbiAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9uc1xuICAgIH0gPSBldmFsdWF0ZShwcm9wcywgc3RhdGUpO1xuICAgIGNvbnN0IHtcbiAgICAgIHJlY3RzLFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgZmxvYXRpbmdcbiAgICAgIH1cbiAgICB9ID0gc3RhdGU7XG4gICAgY29uc3QgaXRlbSA9IGxpc3RSZWYuY3VycmVudFtpbmRleDJdO1xuICAgIGNvbnN0IHNjcm9sbEVsID0gKHNjcm9sbFJlZiA9PSBudWxsID8gdm9pZCAwIDogc2Nyb2xsUmVmLmN1cnJlbnQpIHx8IGZsb2F0aW5nO1xuICAgIGNvbnN0IGNsaWVudFRvcCA9IGZsb2F0aW5nLmNsaWVudFRvcCB8fCBzY3JvbGxFbC5jbGllbnRUb3A7XG4gICAgY29uc3QgZmxvYXRpbmdJc0JvcmRlcmVkID0gZmxvYXRpbmcuY2xpZW50VG9wICE9PSAwO1xuICAgIGNvbnN0IHNjcm9sbEVsSXNCb3JkZXJlZCA9IHNjcm9sbEVsLmNsaWVudFRvcCAhPT0gMDtcbiAgICBjb25zdCBmbG9hdGluZ0lzU2Nyb2xsRWwgPSBmbG9hdGluZyA9PT0gc2Nyb2xsRWw7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgaWYgKCFzdGF0ZS5wbGFjZW1lbnQuc3RhcnRzV2l0aChcImJvdHRvbVwiKSkge1xuICAgICAgICB3YXJuKCdgcGxhY2VtZW50YCBzaWRlIG11c3QgYmUgXCJib3R0b21cIiB3aGVuIHVzaW5nIHRoZSBgaW5uZXJgJywgXCJtaWRkbGV3YXJlLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNvbnN0IG5leHRBcmdzID0ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICAuLi5hd2FpdCBvZmZzZXQoLWl0ZW0ub2Zmc2V0VG9wIC0gZmxvYXRpbmcuY2xpZW50VG9wIC0gcmVjdHMucmVmZXJlbmNlLmhlaWdodCAvIDIgLSBpdGVtLm9mZnNldEhlaWdodCAvIDIgLSBpbm5lck9mZnNldCkuZm4oc3RhdGUpXG4gICAgfTtcbiAgICBjb25zdCBvdmVyZmxvdyA9IGF3YWl0IGRldGVjdE92ZXJmbG93KGdldEFyZ3NXaXRoQ3VzdG9tRmxvYXRpbmdIZWlnaHQobmV4dEFyZ3MsIHNjcm9sbEVsLnNjcm9sbEhlaWdodCArIGNsaWVudFRvcCArIGZsb2F0aW5nLmNsaWVudFRvcCksIGRldGVjdE92ZXJmbG93T3B0aW9ucyk7XG4gICAgY29uc3QgcmVmT3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyhuZXh0QXJncywge1xuICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zLFxuICAgICAgZWxlbWVudENvbnRleHQ6IFwicmVmZXJlbmNlXCJcbiAgICB9KTtcbiAgICBjb25zdCBkaWZmWSA9IG1heCgwLCBvdmVyZmxvdy50b3ApO1xuICAgIGNvbnN0IG5leHRZID0gbmV4dEFyZ3MueSArIGRpZmZZO1xuICAgIGNvbnN0IGlzU2Nyb2xsYWJsZSA9IHNjcm9sbEVsLnNjcm9sbEhlaWdodCA+IHNjcm9sbEVsLmNsaWVudEhlaWdodDtcbiAgICBjb25zdCByb3VuZGVyID0gaXNTY3JvbGxhYmxlID8gKHYyKSA9PiB2MiA6IHJvdW5kO1xuICAgIGNvbnN0IG1heEhlaWdodCA9IHJvdW5kZXIobWF4KDAsIHNjcm9sbEVsLnNjcm9sbEhlaWdodCArIChmbG9hdGluZ0lzQm9yZGVyZWQgJiYgZmxvYXRpbmdJc1Njcm9sbEVsIHx8IHNjcm9sbEVsSXNCb3JkZXJlZCA/IGNsaWVudFRvcCAqIDIgOiAwKSAtIGRpZmZZIC0gbWF4KDAsIG92ZXJmbG93LmJvdHRvbSkpKTtcbiAgICBzY3JvbGxFbC5zdHlsZS5tYXhIZWlnaHQgPSBtYXhIZWlnaHQgKyBcInB4XCI7XG4gICAgc2Nyb2xsRWwuc2Nyb2xsVG9wID0gZGlmZlk7XG4gICAgaWYgKG9uRmFsbGJhY2tDaGFuZ2UpIHtcbiAgICAgIGNvbnN0IHNob3VsZEZhbGxiYWNrID0gc2Nyb2xsRWwub2Zmc2V0SGVpZ2h0IDwgaXRlbS5vZmZzZXRIZWlnaHQgKiBtaW4obWluSXRlbXNWaXNpYmxlLCBsaXN0UmVmLmN1cnJlbnQubGVuZ3RoKSAtIDEgfHwgcmVmT3ZlcmZsb3cudG9wID49IC1yZWZlcmVuY2VPdmVyZmxvd1RocmVzaG9sZCB8fCByZWZPdmVyZmxvdy5ib3R0b20gPj0gLXJlZmVyZW5jZU92ZXJmbG93VGhyZXNob2xkO1xuICAgICAgRW4oKCkgPT4gb25GYWxsYmFja0NoYW5nZShzaG91bGRGYWxsYmFjaykpO1xuICAgIH1cbiAgICBpZiAob3ZlcmZsb3dSZWYpIHtcbiAgICAgIG92ZXJmbG93UmVmLmN1cnJlbnQgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyhnZXRBcmdzV2l0aEN1c3RvbUZsb2F0aW5nSGVpZ2h0KHtcbiAgICAgICAgLi4ubmV4dEFyZ3MsXG4gICAgICAgIHk6IG5leHRZXG4gICAgICB9LCBzY3JvbGxFbC5vZmZzZXRIZWlnaHQgKyBjbGllbnRUb3AgKyBmbG9hdGluZy5jbGllbnRUb3ApLCBkZXRlY3RPdmVyZmxvd09wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgeTogbmV4dFlcbiAgICB9O1xuICB9XG59KTtcbmZ1bmN0aW9uIHVzZUlubmVyT2Zmc2V0KGNvbnRleHQsIHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBvcGVuLFxuICAgIGVsZW1lbnRzXG4gIH0gPSBjb250ZXh0O1xuICBjb25zdCB7XG4gICAgZW5hYmxlZCA9IHRydWUsXG4gICAgb3ZlcmZsb3dSZWYsXG4gICAgc2Nyb2xsUmVmLFxuICAgIG9uQ2hhbmdlOiB1bnN0YWJsZV9vbkNoYW5nZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IG9uQ2hhbmdlID0gdXNlRWZmZWN0RXZlbnQodW5zdGFibGVfb25DaGFuZ2UpO1xuICBjb25zdCBjb250cm9sbGVkU2Nyb2xsaW5nUmVmID0gQSQzKGZhbHNlKTtcbiAgY29uc3QgcHJldlNjcm9sbFRvcFJlZiA9IEEkMyhudWxsKTtcbiAgY29uc3QgaW5pdGlhbE92ZXJmbG93UmVmID0gQSQzKG51bGwpO1xuICB5JDYoKCkgPT4ge1xuICAgIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuICAgIGZ1bmN0aW9uIG9uV2hlZWwoZTIpIHtcbiAgICAgIGlmIChlMi5jdHJsS2V5IHx8ICFlbCB8fCBvdmVyZmxvd1JlZi5jdXJyZW50ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZFkgPSBlMi5kZWx0YVk7XG4gICAgICBjb25zdCBpc0F0VG9wID0gb3ZlcmZsb3dSZWYuY3VycmVudC50b3AgPj0gLTAuNTtcbiAgICAgIGNvbnN0IGlzQXRCb3R0b20gPSBvdmVyZmxvd1JlZi5jdXJyZW50LmJvdHRvbSA+PSAtMC41O1xuICAgICAgY29uc3QgcmVtYWluaW5nU2Nyb2xsID0gZWwuc2Nyb2xsSGVpZ2h0IC0gZWwuY2xpZW50SGVpZ2h0O1xuICAgICAgY29uc3Qgc2lnbiA9IGRZIDwgMCA/IC0xIDogMTtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IGRZIDwgMCA/IFwibWF4XCIgOiBcIm1pblwiO1xuICAgICAgaWYgKGVsLnNjcm9sbEhlaWdodCA8PSBlbC5jbGllbnRIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0F0VG9wICYmIGRZID4gMCB8fCAhaXNBdEJvdHRvbSAmJiBkWSA8IDApIHtcbiAgICAgICAgZTIucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgRW4oKCkgPT4ge1xuICAgICAgICAgIG9uQ2hhbmdlKChkMikgPT4gZDIgKyBNYXRoW21ldGhvZF0oZFksIHJlbWFpbmluZ1Njcm9sbCAqIHNpZ24pKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKC9maXJlZm94L2kudGVzdChnZXRVc2VyQWdlbnQoKSkpIHtcbiAgICAgICAgZWwuc2Nyb2xsVG9wICs9IGRZO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBlbCA9IChzY3JvbGxSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IHNjcm9sbFJlZi5jdXJyZW50KSB8fCBlbGVtZW50cy5mbG9hdGluZztcbiAgICBpZiAob3BlbiAmJiBlbCkge1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIG9uV2hlZWwpO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgcHJldlNjcm9sbFRvcFJlZi5jdXJyZW50ID0gZWwuc2Nyb2xsVG9wO1xuICAgICAgICBpZiAob3ZlcmZsb3dSZWYuY3VycmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgaW5pdGlhbE92ZXJmbG93UmVmLmN1cnJlbnQgPSB7XG4gICAgICAgICAgICAuLi5vdmVyZmxvd1JlZi5jdXJyZW50XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBwcmV2U2Nyb2xsVG9wUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICBpbml0aWFsT3ZlcmZsb3dSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCBvbldoZWVsKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbZW5hYmxlZCwgb3BlbiwgZWxlbWVudHMuZmxvYXRpbmcsIG92ZXJmbG93UmVmLCBzY3JvbGxSZWYsIG9uQ2hhbmdlXSk7XG4gIGNvbnN0IGZsb2F0aW5nID0gVCQ1KCgpID0+ICh7XG4gICAgb25LZXlEb3duKCkge1xuICAgICAgY29udHJvbGxlZFNjcm9sbGluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9LFxuICAgIG9uV2hlZWwoKSB7XG4gICAgICBjb250cm9sbGVkU2Nyb2xsaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9LFxuICAgIG9uUG9pbnRlck1vdmUoKSB7XG4gICAgICBjb250cm9sbGVkU2Nyb2xsaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9LFxuICAgIG9uU2Nyb2xsKCkge1xuICAgICAgY29uc3QgZWwgPSAoc2Nyb2xsUmVmID09IG51bGwgPyB2b2lkIDAgOiBzY3JvbGxSZWYuY3VycmVudCkgfHwgZWxlbWVudHMuZmxvYXRpbmc7XG4gICAgICBpZiAoIW92ZXJmbG93UmVmLmN1cnJlbnQgfHwgIWVsIHx8ICFjb250cm9sbGVkU2Nyb2xsaW5nUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHByZXZTY3JvbGxUb3BSZWYuY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBzY3JvbGxEaWZmID0gZWwuc2Nyb2xsVG9wIC0gcHJldlNjcm9sbFRvcFJlZi5jdXJyZW50O1xuICAgICAgICBpZiAob3ZlcmZsb3dSZWYuY3VycmVudC5ib3R0b20gPCAtMC41ICYmIHNjcm9sbERpZmYgPCAtMSB8fCBvdmVyZmxvd1JlZi5jdXJyZW50LnRvcCA8IC0wLjUgJiYgc2Nyb2xsRGlmZiA+IDEpIHtcbiAgICAgICAgICBFbigoKSA9PiBvbkNoYW5nZSgoZDIpID0+IGQyICsgc2Nyb2xsRGlmZikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBwcmV2U2Nyb2xsVG9wUmVmLmN1cnJlbnQgPSBlbC5zY3JvbGxUb3A7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pLCBbZWxlbWVudHMuZmxvYXRpbmcsIG9uQ2hhbmdlLCBvdmVyZmxvd1JlZiwgc2Nyb2xsUmVmXSk7XG4gIHJldHVybiBUJDUoKCkgPT4gZW5hYmxlZCA/IHtcbiAgICBmbG9hdGluZ1xuICB9IDoge30sIFtlbmFibGVkLCBmbG9hdGluZ10pO1xufVxubGV0IHkkMiA9IEskMyh7IHN0eWxlczogdm9pZCAwLCBzZXRSZWZlcmVuY2U6ICgpID0+IHtcbn0sIHNldEZsb2F0aW5nOiAoKSA9PiB7XG59LCBnZXRSZWZlcmVuY2VQcm9wczogKCkgPT4gKHt9KSwgZ2V0RmxvYXRpbmdQcm9wczogKCkgPT4gKHt9KSwgc2xvdDoge30gfSk7XG55JDIuZGlzcGxheU5hbWUgPSBcIkZsb2F0aW5nQ29udGV4dFwiO1xubGV0IEgkMSA9IEskMyhudWxsKTtcbkgkMS5kaXNwbGF5TmFtZSA9IFwiUGxhY2VtZW50Q29udGV4dFwiO1xuZnVuY3Rpb24geGUoZTIpIHtcbiAgcmV0dXJuIFQkNSgoKSA9PiBlMiA/IHR5cGVvZiBlMiA9PSBcInN0cmluZ1wiID8geyB0bzogZTIgfSA6IGUyIDogbnVsbCwgW2UyXSk7XG59XG5mdW5jdGlvbiB5ZSgpIHtcbiAgcmV0dXJuIHgkNCh5JDIpLnNldFJlZmVyZW5jZTtcbn1cbmZ1bmN0aW9uIEZlKCkge1xuICByZXR1cm4geCQ0KHkkMikuZ2V0UmVmZXJlbmNlUHJvcHM7XG59XG5mdW5jdGlvbiBiZSgpIHtcbiAgbGV0IHsgZ2V0RmxvYXRpbmdQcm9wczogZTIsIHNsb3Q6IHQyIH0gPSB4JDQoeSQyKTtcbiAgcmV0dXJuIHEkMygoLi4ubjIpID0+IE9iamVjdC5hc3NpZ24oe30sIGUyKC4uLm4yKSwgeyBcImRhdGEtYW5jaG9yXCI6IHQyLmFuY2hvciB9KSwgW2UyLCB0Ml0pO1xufVxuZnVuY3Rpb24gUmUoZTIgPSBudWxsKSB7XG4gIGUyID09PSBmYWxzZSAmJiAoZTIgPSBudWxsKSwgdHlwZW9mIGUyID09IFwic3RyaW5nXCIgJiYgKGUyID0geyB0bzogZTIgfSk7XG4gIGxldCB0MiA9IHgkNChIJDEpLCBuMiA9IFQkNSgoKSA9PiBlMiwgW0pTT04uc3RyaW5naWZ5KGUyLCAocjIsIG8zKSA9PiB7XG4gICAgdmFyIHUyO1xuICAgIHJldHVybiAodTIgPSBvMyA9PSBudWxsID8gdm9pZCAwIDogbzMub3V0ZXJIVE1MKSAhPSBudWxsID8gdTIgOiBvMztcbiAgfSldKTtcbiAgbiQzKCgpID0+IHtcbiAgICB0MiA9PSBudWxsIHx8IHQyKG4yICE9IG51bGwgPyBuMiA6IG51bGwpO1xuICB9LCBbdDIsIG4yXSk7XG4gIGxldCBsMiA9IHgkNCh5JDIpO1xuICByZXR1cm4gVCQ1KCgpID0+IFtsMi5zZXRGbG9hdGluZywgZTIgPyBsMi5zdHlsZXMgOiB7fV0sIFtsMi5zZXRGbG9hdGluZywgZTIsIGwyLnN0eWxlc10pO1xufVxubGV0IHEkMSA9IDQ7XG5mdW5jdGlvbiBNZSh7IGNoaWxkcmVuOiBlMiwgZW5hYmxlZDogdDIgPSB0cnVlIH0pIHtcbiAgbGV0IFtuMiwgbDJdID0gZCQ0KG51bGwpLCBbcjIsIG8zXSA9IGQkNCgwKSwgdTIgPSBBJDMobnVsbCksIFtmMiwgczJdID0gZCQ0KG51bGwpO1xuICBwZShmMik7XG4gIGxldCBpMiA9IHQyICYmIG4yICE9PSBudWxsICYmIGYyICE9PSBudWxsLCB7IHRvOiBGMiA9IFwiYm90dG9tXCIsIGdhcDogRTIgPSAwLCBvZmZzZXQ6IHYyID0gMCwgcGFkZGluZzogYzIgPSAwLCBpbm5lcjogUDIgfSA9IGNlKG4yLCBmMiksIFthMywgcDIgPSBcImNlbnRlclwiXSA9IEYyLnNwbGl0KFwiIFwiKTtcbiAgbiQzKCgpID0+IHtcbiAgICBpMiAmJiBvMygwKTtcbiAgfSwgW2kyXSk7XG4gIGxldCB7IHJlZnM6IGIyLCBmbG9hdGluZ1N0eWxlczogdzIsIGNvbnRleHQ6IGcyIH0gPSB1c2VGbG9hdGluZyh7IG9wZW46IGkyLCBwbGFjZW1lbnQ6IGEzID09PSBcInNlbGVjdGlvblwiID8gcDIgPT09IFwiY2VudGVyXCIgPyBcImJvdHRvbVwiIDogYGJvdHRvbS0ke3AyfWAgOiBwMiA9PT0gXCJjZW50ZXJcIiA/IGAke2EzfWAgOiBgJHthM30tJHtwMn1gLCBzdHJhdGVneTogXCJhYnNvbHV0ZVwiLCB0cmFuc2Zvcm06IGZhbHNlLCBtaWRkbGV3YXJlOiBbb2Zmc2V0KHsgbWFpbkF4aXM6IGEzID09PSBcInNlbGVjdGlvblwiID8gMCA6IEUyLCBjcm9zc0F4aXM6IHYyIH0pLCBzaGlmdCh7IHBhZGRpbmc6IGMyIH0pLCBhMyAhPT0gXCJzZWxlY3Rpb25cIiAmJiBmbGlwKHsgcGFkZGluZzogYzIgfSksIGEzID09PSBcInNlbGVjdGlvblwiICYmIFAyID8gaW5uZXIoeyAuLi5QMiwgcGFkZGluZzogYzIsIG92ZXJmbG93UmVmOiB1Miwgb2Zmc2V0OiByMiwgbWluSXRlbXNWaXNpYmxlOiBxJDEsIHJlZmVyZW5jZU92ZXJmbG93VGhyZXNob2xkOiBjMiwgb25GYWxsYmFja0NoYW5nZShoMikge1xuICAgIHZhciBPMiwgVzI7XG4gICAgaWYgKCFoMikgcmV0dXJuO1xuICAgIGxldCBkMiA9IGcyLmVsZW1lbnRzLmZsb2F0aW5nO1xuICAgIGlmICghZDIpIHJldHVybjtcbiAgICBsZXQgVDIgPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoZDIpLnNjcm9sbFBhZGRpbmdCb3R0b20pIHx8IDAsICQyID0gTWF0aC5taW4ocSQxLCBkMi5jaGlsZEVsZW1lbnRDb3VudCksIEwyID0gMCwgTjIgPSAwO1xuICAgIGZvciAobGV0IG0yIG9mIChXMiA9IChPMiA9IGcyLmVsZW1lbnRzLmZsb2F0aW5nKSA9PSBudWxsID8gdm9pZCAwIDogTzIuY2hpbGROb2RlcykgIT0gbnVsbCA/IFcyIDogW10pIGlmIChtMiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICBsZXQgeDIgPSBtMi5vZmZzZXRUb3AsIGsyID0geDIgKyBtMi5jbGllbnRIZWlnaHQgKyBUMiwgUzIgPSBkMi5zY3JvbGxUb3AsIFUyID0gUzIgKyBkMi5jbGllbnRIZWlnaHQ7XG4gICAgICBpZiAoeDIgPj0gUzIgJiYgazIgPD0gVTIpICQyLS07XG4gICAgICBlbHNlIHtcbiAgICAgICAgTjIgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihrMiwgVTIpIC0gTWF0aC5tYXgoeDIsIFMyKSksIEwyID0gbTIuY2xpZW50SGVpZ2h0O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgJDIgPj0gMSAmJiBvMygobTIpID0+IHtcbiAgICAgIGxldCB4MiA9IEwyICogJDIgLSBOMiArIFQyO1xuICAgICAgcmV0dXJuIG0yID49IHgyID8gbTIgOiB4MjtcbiAgICB9KTtcbiAgfSB9KSA6IG51bGwsIHNpemUoeyBwYWRkaW5nOiBjMiwgYXBwbHkoeyBhdmFpbGFibGVXaWR0aDogaDIsIGF2YWlsYWJsZUhlaWdodDogZDIsIGVsZW1lbnRzOiBUMiB9KSB7XG4gICAgT2JqZWN0LmFzc2lnbihUMi5mbG9hdGluZy5zdHlsZSwgeyBvdmVyZmxvdzogXCJhdXRvXCIsIG1heFdpZHRoOiBgJHtoMn1weGAsIG1heEhlaWdodDogYG1pbih2YXIoLS1hbmNob3ItbWF4LWhlaWdodCwgMTAwdmgpLCAke2QyfXB4KWAgfSk7XG4gIH0gfSldLmZpbHRlcihCb29sZWFuKSwgd2hpbGVFbGVtZW50c01vdW50ZWQ6IGF1dG9VcGRhdGUgfSksIFtJMiA9IGEzLCBCMiA9IHAyXSA9IGcyLnBsYWNlbWVudC5zcGxpdChcIi1cIik7XG4gIGEzID09PSBcInNlbGVjdGlvblwiICYmIChJMiA9IFwic2VsZWN0aW9uXCIpO1xuICBsZXQgRzIgPSBUJDUoKCkgPT4gKHsgYW5jaG9yOiBbSTIsIEIyXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIikgfSksIFtJMiwgQjJdKSwgSzIgPSB1c2VJbm5lck9mZnNldChnMiwgeyBvdmVyZmxvd1JlZjogdTIsIG9uQ2hhbmdlOiBvMyB9KSwgeyBnZXRSZWZlcmVuY2VQcm9wczogUTIsIGdldEZsb2F0aW5nUHJvcHM6IFgyIH0gPSB1c2VJbnRlcmFjdGlvbnMoW0syXSksIFkyID0gbyQ0KChoMikgPT4ge1xuICAgIHMyKGgyKSwgYjIuc2V0RmxvYXRpbmcoaDIpO1xuICB9KTtcbiAgcmV0dXJuIF8kNChIJDEuUHJvdmlkZXIsIHsgdmFsdWU6IGwyIH0sIF8kNCh5JDIuUHJvdmlkZXIsIHsgdmFsdWU6IHsgc2V0RmxvYXRpbmc6IFkyLCBzZXRSZWZlcmVuY2U6IGIyLnNldFJlZmVyZW5jZSwgc3R5bGVzOiB3MiwgZ2V0UmVmZXJlbmNlUHJvcHM6IFEyLCBnZXRGbG9hdGluZ1Byb3BzOiBYMiwgc2xvdDogRzIgfSB9LCBlMikpO1xufVxuZnVuY3Rpb24gcGUoZTIpIHtcbiAgbiQzKCgpID0+IHtcbiAgICBpZiAoIWUyKSByZXR1cm47XG4gICAgbGV0IHQyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgbGV0IG4yID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZTIpLm1heEhlaWdodCwgbDIgPSBwYXJzZUZsb2F0KG4yKTtcbiAgICAgIGlmIChpc05hTihsMikpIHJldHVybjtcbiAgICAgIGxldCByMiA9IHBhcnNlSW50KG4yKTtcbiAgICAgIGlzTmFOKHIyKSB8fCBsMiAhPT0gcjIgJiYgKGUyLnN0eWxlLm1heEhlaWdodCA9IGAke01hdGguY2VpbChsMil9cHhgKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdDIub2JzZXJ2ZShlMiwgeyBhdHRyaWJ1dGVzOiB0cnVlLCBhdHRyaWJ1dGVGaWx0ZXI6IFtcInN0eWxlXCJdIH0pLCAoKSA9PiB7XG4gICAgICB0Mi5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgfSwgW2UyXSk7XG59XG5mdW5jdGlvbiBjZShlMiwgdDIpIHtcbiAgdmFyIG8zLCB1MiwgZjI7XG4gIGxldCBuMiA9IFYoKG8zID0gZTIgPT0gbnVsbCA/IHZvaWQgMCA6IGUyLmdhcCkgIT0gbnVsbCA/IG8zIDogXCJ2YXIoLS1hbmNob3ItZ2FwLCAwKVwiLCB0MiksIGwyID0gVigodTIgPSBlMiA9PSBudWxsID8gdm9pZCAwIDogZTIub2Zmc2V0KSAhPSBudWxsID8gdTIgOiBcInZhcigtLWFuY2hvci1vZmZzZXQsIDApXCIsIHQyKSwgcjIgPSBWKChmMiA9IGUyID09IG51bGwgPyB2b2lkIDAgOiBlMi5wYWRkaW5nKSAhPSBudWxsID8gZjIgOiBcInZhcigtLWFuY2hvci1wYWRkaW5nLCAwKVwiLCB0Mik7XG4gIHJldHVybiB7IC4uLmUyLCBnYXA6IG4yLCBvZmZzZXQ6IGwyLCBwYWRkaW5nOiByMiB9O1xufVxuZnVuY3Rpb24gVihlMiwgdDIsIG4yID0gdm9pZCAwKSB7XG4gIGxldCBsMiA9IHAkMigpLCByMiA9IG8kNCgoczIsIGkyKSA9PiB7XG4gICAgaWYgKHMyID09IG51bGwpIHJldHVybiBbbjIsIG51bGxdO1xuICAgIGlmICh0eXBlb2YgczIgPT0gXCJudW1iZXJcIikgcmV0dXJuIFtzMiwgbnVsbF07XG4gICAgaWYgKHR5cGVvZiBzMiA9PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAoIWkyKSByZXR1cm4gW24yLCBudWxsXTtcbiAgICAgIGxldCBGMiA9IEokMihzMiwgaTIpO1xuICAgICAgcmV0dXJuIFtGMiwgKEUyKSA9PiB7XG4gICAgICAgIGxldCB2MiA9IEQoczIpO1xuICAgICAgICB7XG4gICAgICAgICAgbGV0IGMyID0gdjIubWFwKChQMikgPT4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoaTIpLmdldFByb3BlcnR5VmFsdWUoUDIpKTtcbiAgICAgICAgICBsMi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gUDIoKSB7XG4gICAgICAgICAgICBsMi5uZXh0RnJhbWUoUDIpO1xuICAgICAgICAgICAgbGV0IGEzID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGxldCBbYjIsIHcyXSBvZiB2Mi5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgbGV0IGcyID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoaTIpLmdldFByb3BlcnR5VmFsdWUodzIpO1xuICAgICAgICAgICAgICBpZiAoYzJbYjJdICE9PSBnMikge1xuICAgICAgICAgICAgICAgIGMyW2IyXSA9IGcyLCBhMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghYTMpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBwMiA9IEokMihzMiwgaTIpO1xuICAgICAgICAgICAgRjIgIT09IHAyICYmIChFMihwMiksIEYyID0gcDIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsMi5kaXNwb3NlO1xuICAgICAgfV07XG4gICAgfVxuICAgIHJldHVybiBbbjIsIG51bGxdO1xuICB9KSwgbzMgPSBUJDUoKCkgPT4gcjIoZTIsIHQyKVswXSwgW2UyLCB0Ml0pLCBbdTIgPSBvMywgZjJdID0gZCQ0KCk7XG4gIHJldHVybiBuJDMoKCkgPT4ge1xuICAgIGxldCBbczIsIGkyXSA9IHIyKGUyLCB0Mik7XG4gICAgaWYgKGYyKHMyKSwgISFpMikgcmV0dXJuIGkyKGYyKTtcbiAgfSwgW2UyLCB0Ml0pLCB1Mjtcbn1cbmZ1bmN0aW9uIEQoZTIpIHtcbiAgbGV0IHQyID0gL3ZhclxcKCguKilcXCkvLmV4ZWMoZTIpO1xuICBpZiAodDIpIHtcbiAgICBsZXQgbjIgPSB0MlsxXS5pbmRleE9mKFwiLFwiKTtcbiAgICBpZiAobjIgPT09IC0xKSByZXR1cm4gW3QyWzFdXTtcbiAgICBsZXQgbDIgPSB0MlsxXS5zbGljZSgwLCBuMikudHJpbSgpLCByMiA9IHQyWzFdLnNsaWNlKG4yICsgMSkudHJpbSgpO1xuICAgIHJldHVybiByMiA/IFtsMiwgLi4uRChyMildIDogW2wyXTtcbiAgfVxuICByZXR1cm4gW107XG59XG5mdW5jdGlvbiBKJDIoZTIsIHQyKSB7XG4gIGxldCBuMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHQyLmFwcGVuZENoaWxkKG4yKSwgbjIuc3R5bGUuc2V0UHJvcGVydHkoXCJtYXJnaW4tdG9wXCIsIFwiMHB4XCIsIFwiaW1wb3J0YW50XCIpLCBuMi5zdHlsZS5zZXRQcm9wZXJ0eShcIm1hcmdpbi10b3BcIiwgZTIsIFwiaW1wb3J0YW50XCIpO1xuICBsZXQgbDIgPSBwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG4yKS5tYXJnaW5Ub3ApIHx8IDA7XG4gIHJldHVybiB0Mi5yZW1vdmVDaGlsZChuMiksIGwyO1xufVxubGV0IG4gPSBLJDMobnVsbCk7XG5uLmRpc3BsYXlOYW1lID0gXCJPcGVuQ2xvc2VkQ29udGV4dFwiO1xudmFyIGkkMiA9ICgoZTIpID0+IChlMltlMi5PcGVuID0gMV0gPSBcIk9wZW5cIiwgZTJbZTIuQ2xvc2VkID0gMl0gPSBcIkNsb3NlZFwiLCBlMltlMi5DbG9zaW5nID0gNF0gPSBcIkNsb3NpbmdcIiwgZTJbZTIuT3BlbmluZyA9IDhdID0gXCJPcGVuaW5nXCIsIGUyKSkoaSQyIHx8IHt9KTtcbmZ1bmN0aW9uIHUkMigpIHtcbiAgcmV0dXJuIHgkNChuKTtcbn1cbmZ1bmN0aW9uIGMkMyh7IHZhbHVlOiBvMywgY2hpbGRyZW46IHQyIH0pIHtcbiAgcmV0dXJuIFJuLmNyZWF0ZUVsZW1lbnQobi5Qcm92aWRlciwgeyB2YWx1ZTogbzMgfSwgdDIpO1xufVxudmFyIHdpdGhTZWxlY3RvciA9IHsgZXhwb3J0czoge30gfTtcbnZhciB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9wcm9kdWN0aW9uID0ge307XG4vKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiB1c2Utc3luYy1leHRlcm5hbC1zdG9yZS13aXRoLXNlbGVjdG9yLnByb2R1Y3Rpb24uanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG52YXIgaGFzUmVxdWlyZWRVc2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9wcm9kdWN0aW9uO1xuZnVuY3Rpb24gcmVxdWlyZVVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX3Byb2R1Y3Rpb24oKSB7XG4gIGlmIChoYXNSZXF1aXJlZFVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX3Byb2R1Y3Rpb24pIHJldHVybiB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9wcm9kdWN0aW9uO1xuICBoYXNSZXF1aXJlZFVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX3Byb2R1Y3Rpb24gPSAxO1xuICB2YXIgUmVhY3QgPSB0JDQ7XG4gIGZ1bmN0aW9uIGlzKHgyLCB5Mikge1xuICAgIHJldHVybiB4MiA9PT0geTIgJiYgKDAgIT09IHgyIHx8IDEgLyB4MiA9PT0gMSAvIHkyKSB8fCB4MiAhPT0geDIgJiYgeTIgIT09IHkyO1xuICB9XG4gIHZhciBvYmplY3RJcyA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE9iamVjdC5pcyA/IE9iamVjdC5pcyA6IGlzLCB1c2VTeW5jRXh0ZXJuYWxTdG9yZSA9IFJlYWN0LnVzZVN5bmNFeHRlcm5hbFN0b3JlLCB1c2VSZWYgPSBSZWFjdC51c2VSZWYsIHVzZUVmZmVjdCA9IFJlYWN0LnVzZUVmZmVjdCwgdXNlTWVtbyA9IFJlYWN0LnVzZU1lbW8sIHVzZURlYnVnVmFsdWUgPSBSZWFjdC51c2VEZWJ1Z1ZhbHVlO1xuICB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9wcm9kdWN0aW9uLnVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yID0gZnVuY3Rpb24oc3Vic2NyaWJlLCBnZXRTbmFwc2hvdCwgZ2V0U2VydmVyU25hcHNob3QsIHNlbGVjdG9yLCBpc0VxdWFsKSB7XG4gICAgdmFyIGluc3RSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgaWYgKG51bGwgPT09IGluc3RSZWYuY3VycmVudCkge1xuICAgICAgdmFyIGluc3QgPSB7IGhhc1ZhbHVlOiBmYWxzZSwgdmFsdWU6IG51bGwgfTtcbiAgICAgIGluc3RSZWYuY3VycmVudCA9IGluc3Q7XG4gICAgfSBlbHNlIGluc3QgPSBpbnN0UmVmLmN1cnJlbnQ7XG4gICAgaW5zdFJlZiA9IHVzZU1lbW8oXG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgZnVuY3Rpb24gbWVtb2l6ZWRTZWxlY3RvcihuZXh0U25hcHNob3QpIHtcbiAgICAgICAgICBpZiAoIWhhc01lbW8pIHtcbiAgICAgICAgICAgIGhhc01lbW8gPSB0cnVlO1xuICAgICAgICAgICAgbWVtb2l6ZWRTbmFwc2hvdCA9IG5leHRTbmFwc2hvdDtcbiAgICAgICAgICAgIG5leHRTbmFwc2hvdCA9IHNlbGVjdG9yKG5leHRTbmFwc2hvdCk7XG4gICAgICAgICAgICBpZiAodm9pZCAwICE9PSBpc0VxdWFsICYmIGluc3QuaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFyIGN1cnJlbnRTZWxlY3Rpb24gPSBpbnN0LnZhbHVlO1xuICAgICAgICAgICAgICBpZiAoaXNFcXVhbChjdXJyZW50U2VsZWN0aW9uLCBuZXh0U25hcHNob3QpKVxuICAgICAgICAgICAgICAgIHJldHVybiBtZW1vaXplZFNlbGVjdGlvbiA9IGN1cnJlbnRTZWxlY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWVtb2l6ZWRTZWxlY3Rpb24gPSBuZXh0U25hcHNob3Q7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnJlbnRTZWxlY3Rpb24gPSBtZW1vaXplZFNlbGVjdGlvbjtcbiAgICAgICAgICBpZiAob2JqZWN0SXMobWVtb2l6ZWRTbmFwc2hvdCwgbmV4dFNuYXBzaG90KSkgcmV0dXJuIGN1cnJlbnRTZWxlY3Rpb247XG4gICAgICAgICAgdmFyIG5leHRTZWxlY3Rpb24gPSBzZWxlY3RvcihuZXh0U25hcHNob3QpO1xuICAgICAgICAgIGlmICh2b2lkIDAgIT09IGlzRXF1YWwgJiYgaXNFcXVhbChjdXJyZW50U2VsZWN0aW9uLCBuZXh0U2VsZWN0aW9uKSlcbiAgICAgICAgICAgIHJldHVybiBtZW1vaXplZFNuYXBzaG90ID0gbmV4dFNuYXBzaG90LCBjdXJyZW50U2VsZWN0aW9uO1xuICAgICAgICAgIG1lbW9pemVkU25hcHNob3QgPSBuZXh0U25hcHNob3Q7XG4gICAgICAgICAgcmV0dXJuIG1lbW9pemVkU2VsZWN0aW9uID0gbmV4dFNlbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGFzTWVtbyA9IGZhbHNlLCBtZW1vaXplZFNuYXBzaG90LCBtZW1vaXplZFNlbGVjdGlvbiwgbWF5YmVHZXRTZXJ2ZXJTbmFwc2hvdCA9IHZvaWQgMCA9PT0gZ2V0U2VydmVyU25hcHNob3QgPyBudWxsIDogZ2V0U2VydmVyU25hcHNob3Q7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVtb2l6ZWRTZWxlY3RvcihnZXRTbmFwc2hvdCgpKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG51bGwgPT09IG1heWJlR2V0U2VydmVyU25hcHNob3QgPyB2b2lkIDAgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBtZW1vaXplZFNlbGVjdG9yKG1heWJlR2V0U2VydmVyU25hcHNob3QoKSk7XG4gICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgfSxcbiAgICAgIFtnZXRTbmFwc2hvdCwgZ2V0U2VydmVyU25hcHNob3QsIHNlbGVjdG9yLCBpc0VxdWFsXVxuICAgICk7XG4gICAgdmFyIHZhbHVlID0gdXNlU3luY0V4dGVybmFsU3RvcmUoc3Vic2NyaWJlLCBpbnN0UmVmWzBdLCBpbnN0UmVmWzFdKTtcbiAgICB1c2VFZmZlY3QoXG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgaW5zdC5oYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgIGluc3QudmFsdWUgPSB2YWx1ZTtcbiAgICAgIH0sXG4gICAgICBbdmFsdWVdXG4gICAgKTtcbiAgICB1c2VEZWJ1Z1ZhbHVlKHZhbHVlKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG4gIHJldHVybiB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9wcm9kdWN0aW9uO1xufVxudmFyIHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX2RldmVsb3BtZW50ID0ge307XG4vKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiB1c2Utc3luYy1leHRlcm5hbC1zdG9yZS13aXRoLXNlbGVjdG9yLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xudmFyIGhhc1JlcXVpcmVkVXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3JfZGV2ZWxvcG1lbnQ7XG5mdW5jdGlvbiByZXF1aXJlVXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3JfZGV2ZWxvcG1lbnQoKSB7XG4gIGlmIChoYXNSZXF1aXJlZFVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX2RldmVsb3BtZW50KSByZXR1cm4gdXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3JfZGV2ZWxvcG1lbnQ7XG4gIGhhc1JlcXVpcmVkVXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3JfZGV2ZWxvcG1lbnQgPSAxO1xuICBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gaXMoeDIsIHkyKSB7XG4gICAgICByZXR1cm4geDIgPT09IHkyICYmICgwICE9PSB4MiB8fCAxIC8geDIgPT09IDEgLyB5MikgfHwgeDIgIT09IHgyICYmIHkyICE9PSB5MjtcbiAgICB9XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0ICYmIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQoRXJyb3IoKSk7XG4gICAgdmFyIFJlYWN0ID0gdCQ0LCBvYmplY3RJcyA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE9iamVjdC5pcyA/IE9iamVjdC5pcyA6IGlzLCB1c2VTeW5jRXh0ZXJuYWxTdG9yZSA9IFJlYWN0LnVzZVN5bmNFeHRlcm5hbFN0b3JlLCB1c2VSZWYgPSBSZWFjdC51c2VSZWYsIHVzZUVmZmVjdCA9IFJlYWN0LnVzZUVmZmVjdCwgdXNlTWVtbyA9IFJlYWN0LnVzZU1lbW8sIHVzZURlYnVnVmFsdWUgPSBSZWFjdC51c2VEZWJ1Z1ZhbHVlO1xuICAgIHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX2RldmVsb3BtZW50LnVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yID0gZnVuY3Rpb24oc3Vic2NyaWJlLCBnZXRTbmFwc2hvdCwgZ2V0U2VydmVyU25hcHNob3QsIHNlbGVjdG9yLCBpc0VxdWFsKSB7XG4gICAgICB2YXIgaW5zdFJlZiA9IHVzZVJlZihudWxsKTtcbiAgICAgIGlmIChudWxsID09PSBpbnN0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdmFyIGluc3QgPSB7IGhhc1ZhbHVlOiBmYWxzZSwgdmFsdWU6IG51bGwgfTtcbiAgICAgICAgaW5zdFJlZi5jdXJyZW50ID0gaW5zdDtcbiAgICAgIH0gZWxzZSBpbnN0ID0gaW5zdFJlZi5jdXJyZW50O1xuICAgICAgaW5zdFJlZiA9IHVzZU1lbW8oXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGZ1bmN0aW9uIG1lbW9pemVkU2VsZWN0b3IobmV4dFNuYXBzaG90KSB7XG4gICAgICAgICAgICBpZiAoIWhhc01lbW8pIHtcbiAgICAgICAgICAgICAgaGFzTWVtbyA9IHRydWU7XG4gICAgICAgICAgICAgIG1lbW9pemVkU25hcHNob3QgPSBuZXh0U25hcHNob3Q7XG4gICAgICAgICAgICAgIG5leHRTbmFwc2hvdCA9IHNlbGVjdG9yKG5leHRTbmFwc2hvdCk7XG4gICAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGlzRXF1YWwgJiYgaW5zdC5oYXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50U2VsZWN0aW9uID0gaW5zdC52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoaXNFcXVhbChjdXJyZW50U2VsZWN0aW9uLCBuZXh0U25hcHNob3QpKVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lbW9pemVkU2VsZWN0aW9uID0gY3VycmVudFNlbGVjdGlvbjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gbWVtb2l6ZWRTZWxlY3Rpb24gPSBuZXh0U25hcHNob3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50U2VsZWN0aW9uID0gbWVtb2l6ZWRTZWxlY3Rpb247XG4gICAgICAgICAgICBpZiAob2JqZWN0SXMobWVtb2l6ZWRTbmFwc2hvdCwgbmV4dFNuYXBzaG90KSlcbiAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRTZWxlY3Rpb247XG4gICAgICAgICAgICB2YXIgbmV4dFNlbGVjdGlvbiA9IHNlbGVjdG9yKG5leHRTbmFwc2hvdCk7XG4gICAgICAgICAgICBpZiAodm9pZCAwICE9PSBpc0VxdWFsICYmIGlzRXF1YWwoY3VycmVudFNlbGVjdGlvbiwgbmV4dFNlbGVjdGlvbikpXG4gICAgICAgICAgICAgIHJldHVybiBtZW1vaXplZFNuYXBzaG90ID0gbmV4dFNuYXBzaG90LCBjdXJyZW50U2VsZWN0aW9uO1xuICAgICAgICAgICAgbWVtb2l6ZWRTbmFwc2hvdCA9IG5leHRTbmFwc2hvdDtcbiAgICAgICAgICAgIHJldHVybiBtZW1vaXplZFNlbGVjdGlvbiA9IG5leHRTZWxlY3Rpb247XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBoYXNNZW1vID0gZmFsc2UsIG1lbW9pemVkU25hcHNob3QsIG1lbW9pemVkU2VsZWN0aW9uLCBtYXliZUdldFNlcnZlclNuYXBzaG90ID0gdm9pZCAwID09PSBnZXRTZXJ2ZXJTbmFwc2hvdCA/IG51bGwgOiBnZXRTZXJ2ZXJTbmFwc2hvdDtcbiAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtZW1vaXplZFNlbGVjdG9yKGdldFNuYXBzaG90KCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG51bGwgPT09IG1heWJlR2V0U2VydmVyU25hcHNob3QgPyB2b2lkIDAgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1lbW9pemVkU2VsZWN0b3IobWF5YmVHZXRTZXJ2ZXJTbmFwc2hvdCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdO1xuICAgICAgICB9LFxuICAgICAgICBbZ2V0U25hcHNob3QsIGdldFNlcnZlclNuYXBzaG90LCBzZWxlY3RvciwgaXNFcXVhbF1cbiAgICAgICk7XG4gICAgICB2YXIgdmFsdWUgPSB1c2VTeW5jRXh0ZXJuYWxTdG9yZShzdWJzY3JpYmUsIGluc3RSZWZbMF0sIGluc3RSZWZbMV0pO1xuICAgICAgdXNlRWZmZWN0KFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpbnN0Lmhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICBpbnN0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIFt2YWx1ZV1cbiAgICAgICk7XG4gICAgICB1c2VEZWJ1Z1ZhbHVlKHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiYgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wICYmIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcChFcnJvcigpKTtcbiAgfSgpO1xuICByZXR1cm4gdXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3JfZGV2ZWxvcG1lbnQ7XG59XG52YXIgaGFzUmVxdWlyZWRXaXRoU2VsZWN0b3I7XG5mdW5jdGlvbiByZXF1aXJlV2l0aFNlbGVjdG9yKCkge1xuICBpZiAoaGFzUmVxdWlyZWRXaXRoU2VsZWN0b3IpIHJldHVybiB3aXRoU2VsZWN0b3IuZXhwb3J0cztcbiAgaGFzUmVxdWlyZWRXaXRoU2VsZWN0b3IgPSAxO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgd2l0aFNlbGVjdG9yLmV4cG9ydHMgPSByZXF1aXJlVXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3JfcHJvZHVjdGlvbigpO1xuICB9IGVsc2Uge1xuICAgIHdpdGhTZWxlY3Rvci5leHBvcnRzID0gcmVxdWlyZVVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX2RldmVsb3BtZW50KCk7XG4gIH1cbiAgcmV0dXJuIHdpdGhTZWxlY3Rvci5leHBvcnRzO1xufVxudmFyIHdpdGhTZWxlY3RvckV4cG9ydHMgPSByZXF1aXJlV2l0aFNlbGVjdG9yKCk7XG52YXIgZiQxID0gKHQyLCBlMiwgcjIpID0+IHtcbiAgaWYgKCFlMi5oYXModDIpKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyByMik7XG59O1xudmFyIGEkMyA9ICh0MiwgZTIsIHIyKSA9PiAoZiQxKHQyLCBlMiwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKSwgcjIgPyByMi5jYWxsKHQyKSA6IGUyLmdldCh0MikpLCBsJDIgPSAodDIsIGUyLCByMikgPT4ge1xuICBpZiAoZTIuaGFzKHQyKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgZTIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gZTIuYWRkKHQyKSA6IGUyLnNldCh0MiwgcjIpO1xufSwgYyQyID0gKHQyLCBlMiwgcjIsIG4yKSA9PiAoZiQxKHQyLCBlMiwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpLCBlMi5zZXQodDIsIHIyKSwgcjIpO1xudmFyIGkkMSwgcyQ0LCBvJDE7XG5jbGFzcyBtIHtcbiAgY29uc3RydWN0b3IoZTIpIHtcbiAgICBsJDIodGhpcywgaSQxLCB7fSk7XG4gICAgbCQyKHRoaXMsIHMkNCwgbmV3IGEkNygoKSA9PiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKSk7XG4gICAgbCQyKHRoaXMsIG8kMSwgLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gICAgYyQyKHRoaXMsIGkkMSwgZTIpO1xuICB9XG4gIGdldCBzdGF0ZSgpIHtcbiAgICByZXR1cm4gYSQzKHRoaXMsIGkkMSk7XG4gIH1cbiAgc3Vic2NyaWJlKGUyLCByMikge1xuICAgIGxldCBuMiA9IHsgc2VsZWN0b3I6IGUyLCBjYWxsYmFjazogcjIsIGN1cnJlbnQ6IGUyKGEkMyh0aGlzLCBpJDEpKSB9O1xuICAgIHJldHVybiBhJDModGhpcywgbyQxKS5hZGQobjIpLCAoKSA9PiB7XG4gICAgICBhJDModGhpcywgbyQxKS5kZWxldGUobjIpO1xuICAgIH07XG4gIH1cbiAgb24oZTIsIHIyKSB7XG4gICAgcmV0dXJuIGEkMyh0aGlzLCBzJDQpLmdldChlMikuYWRkKHIyKSwgKCkgPT4ge1xuICAgICAgYSQzKHRoaXMsIHMkNCkuZ2V0KGUyKS5kZWxldGUocjIpO1xuICAgIH07XG4gIH1cbiAgc2VuZChlMikge1xuICAgIGMkMih0aGlzLCBpJDEsIHRoaXMucmVkdWNlKGEkMyh0aGlzLCBpJDEpLCBlMikpO1xuICAgIGZvciAobGV0IHIyIG9mIGEkMyh0aGlzLCBvJDEpKSB7XG4gICAgICBsZXQgbjIgPSByMi5zZWxlY3RvcihhJDModGhpcywgaSQxKSk7XG4gICAgICBoJDEocjIuY3VycmVudCwgbjIpIHx8IChyMi5jdXJyZW50ID0gbjIsIHIyLmNhbGxiYWNrKG4yKSk7XG4gICAgfVxuICAgIGZvciAobGV0IHIyIG9mIGEkMyh0aGlzLCBzJDQpLmdldChlMi50eXBlKSkgcjIoYSQzKHRoaXMsIGkkMSksIGUyKTtcbiAgfVxufVxuaSQxID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksIHMkNCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBvJDEgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGgkMSh0MiwgZTIpIHtcbiAgcmV0dXJuIE9iamVjdC5pcyh0MiwgZTIpID8gdHJ1ZSA6IHR5cGVvZiB0MiAhPSBcIm9iamVjdFwiIHx8IHQyID09PSBudWxsIHx8IHR5cGVvZiBlMiAhPSBcIm9iamVjdFwiIHx8IGUyID09PSBudWxsID8gZmFsc2UgOiBBcnJheS5pc0FycmF5KHQyKSAmJiBBcnJheS5pc0FycmF5KGUyKSA/IHQyLmxlbmd0aCAhPT0gZTIubGVuZ3RoID8gZmFsc2UgOiB1JDEodDJbU3ltYm9sLml0ZXJhdG9yXSgpLCBlMltTeW1ib2wuaXRlcmF0b3JdKCkpIDogdDIgaW5zdGFuY2VvZiBNYXAgJiYgZTIgaW5zdGFuY2VvZiBNYXAgfHwgdDIgaW5zdGFuY2VvZiBTZXQgJiYgZTIgaW5zdGFuY2VvZiBTZXQgPyB0Mi5zaXplICE9PSBlMi5zaXplID8gZmFsc2UgOiB1JDEodDIuZW50cmllcygpLCBlMi5lbnRyaWVzKCkpIDogUyQyKHQyKSAmJiBTJDIoZTIpID8gdSQxKE9iamVjdC5lbnRyaWVzKHQyKVtTeW1ib2wuaXRlcmF0b3JdKCksIE9iamVjdC5lbnRyaWVzKGUyKVtTeW1ib2wuaXRlcmF0b3JdKCkpIDogZmFsc2U7XG59XG5mdW5jdGlvbiB1JDEodDIsIGUyKSB7XG4gIGRvIHtcbiAgICBsZXQgcjIgPSB0Mi5uZXh0KCksIG4yID0gZTIubmV4dCgpO1xuICAgIGlmIChyMi5kb25lICYmIG4yLmRvbmUpIHJldHVybiB0cnVlO1xuICAgIGlmIChyMi5kb25lIHx8IG4yLmRvbmUgfHwgIU9iamVjdC5pcyhyMi52YWx1ZSwgbjIudmFsdWUpKSByZXR1cm4gZmFsc2U7XG4gIH0gd2hpbGUgKHRydWUpO1xufVxuZnVuY3Rpb24gUyQyKHQyKSB7XG4gIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodDIpICE9PSBcIltvYmplY3QgT2JqZWN0XVwiKSByZXR1cm4gZmFsc2U7XG4gIGxldCBlMiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0Mik7XG4gIHJldHVybiBlMiA9PT0gbnVsbCB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZTIpID09PSBudWxsO1xufVxuZnVuY3Rpb24gZyQxKHQyKSB7XG4gIGxldCBbZTIsIHIyXSA9IHQyKCksIG4yID0gbyQ1KCk7XG4gIHJldHVybiAoLi4uYjIpID0+IHtcbiAgICBlMiguLi5iMiksIG4yLmRpc3Bvc2UoKSwgbjIubWljcm9UYXNrKHIyKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIFMkMShlMiwgbjIsIHIyID0gaCQxKSB7XG4gIHJldHVybiB3aXRoU2VsZWN0b3JFeHBvcnRzLnVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yKG8kNCgoaTIpID0+IGUyLnN1YnNjcmliZShzJDMsIGkyKSksIG8kNCgoKSA9PiBlMi5zdGF0ZSksIG8kNCgoKSA9PiBlMi5zdGF0ZSksIG8kNChuMiksIHIyKTtcbn1cbmZ1bmN0aW9uIHMkMyhlMikge1xuICByZXR1cm4gZTI7XG59XG5mdW5jdGlvbiB1KGwyKSB7XG4gIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgb2JqZWN0OiBcIiArIGwyKTtcbn1cbnZhciBjJDEgPSAoKGkyKSA9PiAoaTJbaTIuRmlyc3QgPSAwXSA9IFwiRmlyc3RcIiwgaTJbaTIuUHJldmlvdXMgPSAxXSA9IFwiUHJldmlvdXNcIiwgaTJbaTIuTmV4dCA9IDJdID0gXCJOZXh0XCIsIGkyW2kyLkxhc3QgPSAzXSA9IFwiTGFzdFwiLCBpMltpMi5TcGVjaWZpYyA9IDRdID0gXCJTcGVjaWZpY1wiLCBpMltpMi5Ob3RoaW5nID0gNV0gPSBcIk5vdGhpbmdcIiwgaTIpKShjJDEgfHwge30pO1xuZnVuY3Rpb24gZihsMiwgbjIpIHtcbiAgbGV0IHQyID0gbjIucmVzb2x2ZUl0ZW1zKCk7XG4gIGlmICh0Mi5sZW5ndGggPD0gMCkgcmV0dXJuIG51bGw7XG4gIGxldCByMiA9IG4yLnJlc29sdmVBY3RpdmVJbmRleCgpLCBzMiA9IHIyICE9IG51bGwgPyByMiA6IC0xO1xuICBzd2l0Y2ggKGwyLmZvY3VzKSB7XG4gICAgY2FzZSAwOiB7XG4gICAgICBmb3IgKGxldCBlMiA9IDA7IGUyIDwgdDIubGVuZ3RoOyArK2UyKSBpZiAoIW4yLnJlc29sdmVEaXNhYmxlZCh0MltlMl0sIGUyLCB0MikpIHJldHVybiBlMjtcbiAgICAgIHJldHVybiByMjtcbiAgICB9XG4gICAgY2FzZSAxOiB7XG4gICAgICBzMiA9PT0gLTEgJiYgKHMyID0gdDIubGVuZ3RoKTtcbiAgICAgIGZvciAobGV0IGUyID0gczIgLSAxOyBlMiA+PSAwOyAtLWUyKSBpZiAoIW4yLnJlc29sdmVEaXNhYmxlZCh0MltlMl0sIGUyLCB0MikpIHJldHVybiBlMjtcbiAgICAgIHJldHVybiByMjtcbiAgICB9XG4gICAgY2FzZSAyOiB7XG4gICAgICBmb3IgKGxldCBlMiA9IHMyICsgMTsgZTIgPCB0Mi5sZW5ndGg7ICsrZTIpIGlmICghbjIucmVzb2x2ZURpc2FibGVkKHQyW2UyXSwgZTIsIHQyKSkgcmV0dXJuIGUyO1xuICAgICAgcmV0dXJuIHIyO1xuICAgIH1cbiAgICBjYXNlIDM6IHtcbiAgICAgIGZvciAobGV0IGUyID0gdDIubGVuZ3RoIC0gMTsgZTIgPj0gMDsgLS1lMikgaWYgKCFuMi5yZXNvbHZlRGlzYWJsZWQodDJbZTJdLCBlMiwgdDIpKSByZXR1cm4gZTI7XG4gICAgICByZXR1cm4gcjI7XG4gICAgfVxuICAgIGNhc2UgNDoge1xuICAgICAgZm9yIChsZXQgZTIgPSAwOyBlMiA8IHQyLmxlbmd0aDsgKytlMikgaWYgKG4yLnJlc29sdmVJZCh0MltlMl0sIGUyLCB0MikgPT09IGwyLmlkKSByZXR1cm4gZTI7XG4gICAgICByZXR1cm4gcjI7XG4gICAgfVxuICAgIGNhc2UgNTpcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGRlZmF1bHQ6XG4gICAgICB1KGwyKTtcbiAgfVxufVxuZnVuY3Rpb24gYyh0Mikge1xuICBsZXQgcjIgPSBvJDQodDIpLCBlMiA9IEEkMyhmYWxzZSk7XG4gIHkkNigoKSA9PiAoZTIuY3VycmVudCA9IGZhbHNlLCAoKSA9PiB7XG4gICAgZTIuY3VycmVudCA9IHRydWUsIHQkMygoKSA9PiB7XG4gICAgICBlMi5jdXJyZW50ICYmIHIyKCk7XG4gICAgfSk7XG4gIH0pLCBbcjJdKTtcbn1cbmZ1bmN0aW9uIHMkMigpIHtcbiAgbGV0IHIyID0gdHlwZW9mIGRvY3VtZW50ID09IFwidW5kZWZpbmVkXCI7XG4gIHJldHVybiBcInVzZVN5bmNFeHRlcm5hbFN0b3JlXCIgaW4gdCQ0ID8gKChvMykgPT4gbzMudXNlU3luY0V4dGVybmFsU3RvcmUpKHQkNCkoKCkgPT4gKCkgPT4ge1xuICB9LCAoKSA9PiBmYWxzZSwgKCkgPT4gIXIyKSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gbCQxKCkge1xuICBsZXQgcjIgPSBzJDIoKSwgW2UyLCBuMl0gPSBkJDQocyQ3LmlzSGFuZG9mZkNvbXBsZXRlKTtcbiAgcmV0dXJuIGUyICYmIHMkNy5pc0hhbmRvZmZDb21wbGV0ZSA9PT0gZmFsc2UgJiYgbjIoZmFsc2UpLCB5JDYoKCkgPT4ge1xuICAgIGUyICE9PSB0cnVlICYmIG4yKHRydWUpO1xuICB9LCBbZTJdKSwgeSQ2KCgpID0+IHMkNy5oYW5kb2ZmKCksIFtdKSwgcjIgPyBmYWxzZSA6IGUyO1xufVxubGV0IGUgPSBLJDMoZmFsc2UpO1xuZnVuY3Rpb24gYSQyKCkge1xuICByZXR1cm4geCQ0KGUpO1xufVxuZnVuY3Rpb24gaih0Mikge1xuICBsZXQgbzMgPSBhJDIoKSwgbjIgPSB4JDQoYiQxKSwgW3IyLCB1Ml0gPSBkJDQoKCkgPT4ge1xuICAgIHZhciBzMiwgYTM7XG4gICAgaWYgKCFvMyAmJiBuMiAhPT0gbnVsbCkgcmV0dXJuIChzMiA9IG4yLmN1cnJlbnQpICE9IG51bGwgPyBzMiA6IG51bGw7XG4gICAgaWYgKHMkNy5pc1NlcnZlcikgcmV0dXJuIG51bGw7XG4gICAgbGV0IGUyID0gdDIgPT0gbnVsbCA/IHZvaWQgMCA6IHQyLmdldEVsZW1lbnRCeUlkKFwic3RhZ2V3aXNlLXRvb2xiYXItcG9ydGFsLXJvb3RcIik7XG4gICAgaWYgKGUyKSByZXR1cm4gZTI7XG4gICAgaWYgKHQyID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICBsZXQgbDIgPSB0Mi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHJldHVybiBsMi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInN0YWdld2lzZS10b29sYmFyLXBvcnRhbC1yb290XCIpLCBsMi5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCIsICgoYTMgPSB0Mi5xdWVyeVNlbGVjdG9yKFwic3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3JcIikpICE9IG51bGwgPyBhMyA6IHQyLmJvZHkpLmFwcGVuZENoaWxkKGwyKTtcbiAgfSk7XG4gIHJldHVybiB5JDYoKCkgPT4ge1xuICAgIHZhciBsMjtcbiAgICBpZiAocjIgPT09IG51bGwpIHJldHVybjtcbiAgICBjb25zdCBlMiA9IChsMiA9IHQyID09IG51bGwgPyB2b2lkIDAgOiB0Mi5xdWVyeVNlbGVjdG9yKFwic3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3JcIikpICE9IG51bGwgPyBsMiA6IHQyID09IG51bGwgPyB2b2lkIDAgOiB0Mi5ib2R5O1xuICAgIGUyICE9IG51bGwgJiYgZTIuY29udGFpbnMocjIpIHx8IGUyID09IG51bGwgfHwgZTIuYXBwZW5kQ2hpbGQocjIpO1xuICB9LCBbcjIsIHQyXSksIHkkNigoKSA9PiB7XG4gICAgbzMgfHwgbjIgIT09IG51bGwgJiYgdTIobjIuY3VycmVudCk7XG4gIH0sIFtuMiwgdTIsIG8zXSksIHIyO1xufVxubGV0IE0kMSA9IGskMywgSSA9IEskMShmdW5jdGlvbihvMywgbjIpIHtcbiAgbGV0IHsgb3duZXJEb2N1bWVudDogcjIgPSBudWxsLCAuLi51MiB9ID0gbzMsIGUyID0gQSQzKG51bGwpLCBsMiA9IHkkNShUJDMoKGkyKSA9PiB7XG4gICAgZTIuY3VycmVudCA9IGkyO1xuICB9KSwgbjIpLCBSMiA9IG4kMShlMiksIHMyID0gcjIgIT0gbnVsbCA/IHIyIDogUjIsIGEzID0gaihzMiksIFtwMl0gPSBkJDQoKCkgPT4ge1xuICAgIHZhciBpMjtcbiAgICByZXR1cm4gcyQ3LmlzU2VydmVyID8gbnVsbCA6IChpMiA9IHMyID09IG51bGwgPyB2b2lkIDAgOiBzMi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSAhPSBudWxsID8gaTIgOiBudWxsO1xuICB9KSwgZjIgPSB4JDQoeSQxKSwgSDIgPSBsJDEoKTtcbiAgbiQzKCgpID0+IHtcbiAgICAhYTMgfHwgIXAyIHx8IGEzLmNvbnRhaW5zKHAyKSB8fCAocDIuc2V0QXR0cmlidXRlKFwiZGF0YS1oZWFkbGVzc3VpLXBvcnRhbFwiLCBcIlwiKSwgYTMuYXBwZW5kQ2hpbGQocDIpKTtcbiAgfSwgW2EzLCBwMl0pLCBuJDMoKCkgPT4ge1xuICAgIGlmIChwMiAmJiBmMikgcmV0dXJuIGYyLnJlZ2lzdGVyKHAyKTtcbiAgfSwgW2YyLCBwMl0pLCBjKCgpID0+IHtcbiAgICB2YXIgaTI7XG4gICAgIWEzIHx8ICFwMiB8fCAocDIgaW5zdGFuY2VvZiBOb2RlICYmIGEzLmNvbnRhaW5zKHAyKSAmJiBhMy5yZW1vdmVDaGlsZChwMiksIGEzLmNoaWxkTm9kZXMubGVuZ3RoIDw9IDAgJiYgKChpMiA9IGEzLnBhcmVudEVsZW1lbnQpID09IG51bGwgfHwgaTIucmVtb3ZlQ2hpbGQoYTMpKSk7XG4gIH0pO1xuICBsZXQgaDIgPSBMJDIoKTtcbiAgcmV0dXJuIEgyID8gIWEzIHx8ICFwMiA/IG51bGwgOiAkJDEoaDIoeyBvdXJQcm9wczogeyByZWY6IGwyIH0sIHRoZWlyUHJvcHM6IHUyLCBzbG90OiB7fSwgZGVmYXVsdFRhZzogTSQxLCBuYW1lOiBcIlBvcnRhbFwiIH0pLCBwMikgOiBudWxsO1xufSk7XG5mdW5jdGlvbiBxKHQyLCBvMykge1xuICBsZXQgbjIgPSB5JDUobzMpLCB7IGVuYWJsZWQ6IHIyID0gdHJ1ZSwgb3duZXJEb2N1bWVudDogdTIsIC4uLmUyIH0gPSB0MiwgbDIgPSBMJDIoKTtcbiAgcmV0dXJuIHIyID8gUm4uY3JlYXRlRWxlbWVudChJLCB7IC4uLmUyLCBvd25lckRvY3VtZW50OiB1MiwgcmVmOiBuMiB9KSA6IGwyKHsgb3VyUHJvcHM6IHsgcmVmOiBuMiB9LCB0aGVpclByb3BzOiBlMiwgc2xvdDoge30sIGRlZmF1bHRUYWc6IE0kMSwgbmFtZTogXCJQb3J0YWxcIiB9KTtcbn1cbmxldCBKJDEgPSBrJDMsIGIkMSA9IEskMyhudWxsKTtcbmZ1bmN0aW9uIFgodDIsIG8zKSB7XG4gIGxldCB7IHRhcmdldDogbjIsIC4uLnIyIH0gPSB0MiwgZTIgPSB7IHJlZjogeSQ1KG8zKSB9LCBsMiA9IEwkMigpO1xuICByZXR1cm4gUm4uY3JlYXRlRWxlbWVudChiJDEuUHJvdmlkZXIsIHsgdmFsdWU6IG4yIH0sIGwyKHsgb3VyUHJvcHM6IGUyLCB0aGVpclByb3BzOiByMiwgZGVmYXVsdFRhZzogSiQxLCBuYW1lOiBcIlBvcG92ZXIuR3JvdXBcIiB9KSk7XG59XG5sZXQgeSQxID0gSyQzKG51bGwpO1xubGV0IGsgPSBLJDEocSksIEIgPSBLJDEoWCksIG9lID0gT2JqZWN0LmFzc2lnbihrLCB7IEdyb3VwOiBCIH0pO1xuZnVuY3Rpb24gcyQxKG4yLCB0Mikge1xuICBsZXQgZTIgPSBBJDMoeyBsZWZ0OiAwLCB0b3A6IDAgfSk7XG4gIGlmIChuJDMoKCkgPT4ge1xuICAgIGlmICghdDIpIHJldHVybjtcbiAgICBsZXQgcjIgPSB0Mi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByMiAmJiAoZTIuY3VycmVudCA9IHIyKTtcbiAgfSwgW24yLCB0Ml0pLCB0MiA9PSBudWxsIHx8ICFuMiB8fCB0MiA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgcmV0dXJuIGZhbHNlO1xuICBsZXQgbzMgPSB0Mi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgcmV0dXJuIG8zLnRvcCAhPT0gZTIuY3VycmVudC50b3AgfHwgbzMubGVmdCAhPT0gZTIuY3VycmVudC5sZWZ0O1xufVxubGV0IGEkMSA9IC8oW1xcdTI3MDAtXFx1MjdCRl18W1xcdUUwMDAtXFx1RjhGRl18XFx1RDgzQ1tcXHVEQzAwLVxcdURGRkZdfFxcdUQ4M0RbXFx1REMwMC1cXHVERkZGXXxbXFx1MjAxMS1cXHUyNkZGXXxcXHVEODNFW1xcdUREMTAtXFx1RERGRl0pL2c7XG5mdW5jdGlvbiBvMihlMikge1xuICB2YXIgcjIsIGkyO1xuICBsZXQgbjIgPSAocjIgPSBlMi5pbm5lclRleHQpICE9IG51bGwgPyByMiA6IFwiXCIsIHQyID0gZTIuY2xvbmVOb2RlKHRydWUpO1xuICBpZiAoISh0MiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkgcmV0dXJuIG4yO1xuICBsZXQgdTIgPSBmYWxzZTtcbiAgZm9yIChsZXQgZjIgb2YgdDIucXVlcnlTZWxlY3RvckFsbCgnW2hpZGRlbl0sW2FyaWEtaGlkZGVuXSxbcm9sZT1cImltZ1wiXScpKSBmMi5yZW1vdmUoKSwgdTIgPSB0cnVlO1xuICBsZXQgbDIgPSB1MiA/IChpMiA9IHQyLmlubmVyVGV4dCkgIT0gbnVsbCA/IGkyIDogXCJcIiA6IG4yO1xuICByZXR1cm4gYSQxLnRlc3QobDIpICYmIChsMiA9IGwyLnJlcGxhY2UoYSQxLCBcIlwiKSksIGwyO1xufVxuZnVuY3Rpb24gZyhlMikge1xuICBsZXQgbjIgPSBlMi5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpO1xuICBpZiAodHlwZW9mIG4yID09IFwic3RyaW5nXCIpIHJldHVybiBuMi50cmltKCk7XG4gIGxldCB0MiA9IGUyLmdldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiKTtcbiAgaWYgKHQyKSB7XG4gICAgbGV0IHUyID0gdDIuc3BsaXQoXCIgXCIpLm1hcCgobDIpID0+IHtcbiAgICAgIGxldCByMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGwyKTtcbiAgICAgIGlmIChyMikge1xuICAgICAgICBsZXQgaTIgPSByMi5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpO1xuICAgICAgICByZXR1cm4gdHlwZW9mIGkyID09IFwic3RyaW5nXCIgPyBpMi50cmltKCkgOiBvMihyMikudHJpbSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgIGlmICh1Mi5sZW5ndGggPiAwKSByZXR1cm4gdTIuam9pbihcIiwgXCIpO1xuICB9XG4gIHJldHVybiBvMihlMikudHJpbSgpO1xufVxuZnVuY3Rpb24gcyhjMikge1xuICBsZXQgdDIgPSBBJDMoXCJcIiksIHIyID0gQSQzKFwiXCIpO1xuICByZXR1cm4gbyQ0KCgpID0+IHtcbiAgICBsZXQgZTIgPSBjMi5jdXJyZW50O1xuICAgIGlmICghZTIpIHJldHVybiBcIlwiO1xuICAgIGxldCB1MiA9IGUyLmlubmVyVGV4dDtcbiAgICBpZiAodDIuY3VycmVudCA9PT0gdTIpIHJldHVybiByMi5jdXJyZW50O1xuICAgIGxldCBuMiA9IGcoZTIpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiB0Mi5jdXJyZW50ID0gdTIsIHIyLmN1cnJlbnQgPSBuMiwgbjI7XG4gIH0pO1xufVxudmFyIGggPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgeSA9IChlMiwgbjIsIHQyKSA9PiBuMiBpbiBlMiA/IGgoZTIsIG4yLCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOiB0MiB9KSA6IGUyW24yXSA9IHQyO1xudmFyIHYgPSAoZTIsIG4yLCB0MikgPT4gKHkoZTIsIHR5cGVvZiBuMiAhPSBcInN5bWJvbFwiID8gbjIgKyBcIlwiIDogbjIsIHQyKSwgdDIpO1xudmFyIE0gPSAoKHQyKSA9PiAodDJbdDIuT3BlbiA9IDBdID0gXCJPcGVuXCIsIHQyW3QyLkNsb3NlZCA9IDFdID0gXCJDbG9zZWRcIiwgdDIpKShNIHx8IHt9KSwgVCA9ICgodDIpID0+ICh0Mlt0Mi5Qb2ludGVyID0gMF0gPSBcIlBvaW50ZXJcIiwgdDJbdDIuT3RoZXIgPSAxXSA9IFwiT3RoZXJcIiwgdDIpKShUIHx8IHt9KSwgYiA9ICgoaTIpID0+IChpMltpMi5PcGVuTWVudSA9IDBdID0gXCJPcGVuTWVudVwiLCBpMltpMi5DbG9zZU1lbnUgPSAxXSA9IFwiQ2xvc2VNZW51XCIsIGkyW2kyLkdvVG9JdGVtID0gMl0gPSBcIkdvVG9JdGVtXCIsIGkyW2kyLlNlYXJjaCA9IDNdID0gXCJTZWFyY2hcIiwgaTJbaTIuQ2xlYXJTZWFyY2ggPSA0XSA9IFwiQ2xlYXJTZWFyY2hcIiwgaTJbaTIuUmVnaXN0ZXJJdGVtcyA9IDVdID0gXCJSZWdpc3Rlckl0ZW1zXCIsIGkyW2kyLlVucmVnaXN0ZXJJdGVtcyA9IDZdID0gXCJVbnJlZ2lzdGVySXRlbXNcIiwgaTJbaTIuU2V0QnV0dG9uRWxlbWVudCA9IDddID0gXCJTZXRCdXR0b25FbGVtZW50XCIsIGkyW2kyLlNldEl0ZW1zRWxlbWVudCA9IDhdID0gXCJTZXRJdGVtc0VsZW1lbnRcIiwgaTJbaTIuU29ydEl0ZW1zID0gOV0gPSBcIlNvcnRJdGVtc1wiLCBpMikpKGIgfHwge30pO1xuZnVuY3Rpb24gUyhlMiwgbjIgPSAodDIpID0+IHQyKSB7XG4gIGxldCB0MiA9IGUyLmFjdGl2ZUl0ZW1JbmRleCAhPT0gbnVsbCA/IGUyLml0ZW1zW2UyLmFjdGl2ZUl0ZW1JbmRleF0gOiBudWxsLCByMiA9IF8objIoZTIuaXRlbXMuc2xpY2UoKSksICh1MikgPT4gdTIuZGF0YVJlZi5jdXJyZW50LmRvbVJlZi5jdXJyZW50KSwgbDIgPSB0MiA/IHIyLmluZGV4T2YodDIpIDogbnVsbDtcbiAgcmV0dXJuIGwyID09PSAtMSAmJiAobDIgPSBudWxsKSwgeyBpdGVtczogcjIsIGFjdGl2ZUl0ZW1JbmRleDogbDIgfTtcbn1cbmxldCBGID0geyBbMV0oZTIpIHtcbiAgcmV0dXJuIGUyLm1lbnVTdGF0ZSA9PT0gMSA/IGUyIDogeyAuLi5lMiwgYWN0aXZlSXRlbUluZGV4OiBudWxsLCBwZW5kaW5nRm9jdXM6IHsgZm9jdXM6IGMkMS5Ob3RoaW5nIH0sIG1lbnVTdGF0ZTogMSB9O1xufSwgWzBdKGUyLCBuMikge1xuICByZXR1cm4gZTIubWVudVN0YXRlID09PSAwID8gZTIgOiB7IC4uLmUyLCBfX2RlbW9Nb2RlOiBmYWxzZSwgcGVuZGluZ0ZvY3VzOiBuMi5mb2N1cywgbWVudVN0YXRlOiAwIH07XG59LCBbMl06IChlMiwgbjIpID0+IHtcbiAgdmFyIHUyLCBtMiwgZDIsIGEzLCBJMjtcbiAgaWYgKGUyLm1lbnVTdGF0ZSA9PT0gMSkgcmV0dXJuIGUyO1xuICBsZXQgdDIgPSB7IC4uLmUyLCBzZWFyY2hRdWVyeTogXCJcIiwgYWN0aXZhdGlvblRyaWdnZXI6ICh1MiA9IG4yLnRyaWdnZXIpICE9IG51bGwgPyB1MiA6IDEsIF9fZGVtb01vZGU6IGZhbHNlIH07XG4gIGlmIChuMi5mb2N1cyA9PT0gYyQxLk5vdGhpbmcpIHJldHVybiB7IC4uLnQyLCBhY3RpdmVJdGVtSW5kZXg6IG51bGwgfTtcbiAgaWYgKG4yLmZvY3VzID09PSBjJDEuU3BlY2lmaWMpIHJldHVybiB7IC4uLnQyLCBhY3RpdmVJdGVtSW5kZXg6IGUyLml0ZW1zLmZpbmRJbmRleCgoaTIpID0+IGkyLmlkID09PSBuMi5pZCkgfTtcbiAgaWYgKG4yLmZvY3VzID09PSBjJDEuUHJldmlvdXMpIHtcbiAgICBsZXQgaTIgPSBlMi5hY3RpdmVJdGVtSW5kZXg7XG4gICAgaWYgKGkyICE9PSBudWxsKSB7XG4gICAgICBsZXQgZzIgPSBlMi5pdGVtc1tpMl0uZGF0YVJlZi5jdXJyZW50LmRvbVJlZiwgbzMgPSBmKG4yLCB7IHJlc29sdmVJdGVtczogKCkgPT4gZTIuaXRlbXMsIHJlc29sdmVBY3RpdmVJbmRleDogKCkgPT4gZTIuYWN0aXZlSXRlbUluZGV4LCByZXNvbHZlSWQ6IChzMikgPT4gczIuaWQsIHJlc29sdmVEaXNhYmxlZDogKHMyKSA9PiBzMi5kYXRhUmVmLmN1cnJlbnQuZGlzYWJsZWQgfSk7XG4gICAgICBpZiAobzMgIT09IG51bGwpIHtcbiAgICAgICAgbGV0IHMyID0gZTIuaXRlbXNbbzNdLmRhdGFSZWYuY3VycmVudC5kb21SZWY7XG4gICAgICAgIGlmICgoKG0yID0gZzIuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IG0yLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpID09PSBzMi5jdXJyZW50IHx8ICgoZDIgPSBzMi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogZDIucHJldmlvdXNFbGVtZW50U2libGluZykgPT09IG51bGwpIHJldHVybiB7IC4uLnQyLCBhY3RpdmVJdGVtSW5kZXg6IG8zIH07XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKG4yLmZvY3VzID09PSBjJDEuTmV4dCkge1xuICAgIGxldCBpMiA9IGUyLmFjdGl2ZUl0ZW1JbmRleDtcbiAgICBpZiAoaTIgIT09IG51bGwpIHtcbiAgICAgIGxldCBnMiA9IGUyLml0ZW1zW2kyXS5kYXRhUmVmLmN1cnJlbnQuZG9tUmVmLCBvMyA9IGYobjIsIHsgcmVzb2x2ZUl0ZW1zOiAoKSA9PiBlMi5pdGVtcywgcmVzb2x2ZUFjdGl2ZUluZGV4OiAoKSA9PiBlMi5hY3RpdmVJdGVtSW5kZXgsIHJlc29sdmVJZDogKHMyKSA9PiBzMi5pZCwgcmVzb2x2ZURpc2FibGVkOiAoczIpID0+IHMyLmRhdGFSZWYuY3VycmVudC5kaXNhYmxlZCB9KTtcbiAgICAgIGlmIChvMyAhPT0gbnVsbCkge1xuICAgICAgICBsZXQgczIgPSBlMi5pdGVtc1tvM10uZGF0YVJlZi5jdXJyZW50LmRvbVJlZjtcbiAgICAgICAgaWYgKCgoYTMgPSBnMi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogYTMubmV4dEVsZW1lbnRTaWJsaW5nKSA9PT0gczIuY3VycmVudCB8fCAoKEkyID0gczIuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IEkyLm5leHRFbGVtZW50U2libGluZykgPT09IG51bGwpIHJldHVybiB7IC4uLnQyLCBhY3RpdmVJdGVtSW5kZXg6IG8zIH07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGxldCByMiA9IFMoZTIpLCBsMiA9IGYobjIsIHsgcmVzb2x2ZUl0ZW1zOiAoKSA9PiByMi5pdGVtcywgcmVzb2x2ZUFjdGl2ZUluZGV4OiAoKSA9PiByMi5hY3RpdmVJdGVtSW5kZXgsIHJlc29sdmVJZDogKGkyKSA9PiBpMi5pZCwgcmVzb2x2ZURpc2FibGVkOiAoaTIpID0+IGkyLmRhdGFSZWYuY3VycmVudC5kaXNhYmxlZCB9KTtcbiAgcmV0dXJuIHsgLi4udDIsIC4uLnIyLCBhY3RpdmVJdGVtSW5kZXg6IGwyIH07XG59LCBbM106IChlMiwgbjIpID0+IHtcbiAgbGV0IHIyID0gZTIuc2VhcmNoUXVlcnkgIT09IFwiXCIgPyAwIDogMSwgbDIgPSBlMi5zZWFyY2hRdWVyeSArIG4yLnZhbHVlLnRvTG93ZXJDYXNlKCksIG0yID0gKGUyLmFjdGl2ZUl0ZW1JbmRleCAhPT0gbnVsbCA/IGUyLml0ZW1zLnNsaWNlKGUyLmFjdGl2ZUl0ZW1JbmRleCArIHIyKS5jb25jYXQoZTIuaXRlbXMuc2xpY2UoMCwgZTIuYWN0aXZlSXRlbUluZGV4ICsgcjIpKSA6IGUyLml0ZW1zKS5maW5kKChhMykgPT4ge1xuICAgIHZhciBJMjtcbiAgICByZXR1cm4gKChJMiA9IGEzLmRhdGFSZWYuY3VycmVudC50ZXh0VmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBJMi5zdGFydHNXaXRoKGwyKSkgJiYgIWEzLmRhdGFSZWYuY3VycmVudC5kaXNhYmxlZDtcbiAgfSksIGQyID0gbTIgPyBlMi5pdGVtcy5pbmRleE9mKG0yKSA6IC0xO1xuICByZXR1cm4gZDIgPT09IC0xIHx8IGQyID09PSBlMi5hY3RpdmVJdGVtSW5kZXggPyB7IC4uLmUyLCBzZWFyY2hRdWVyeTogbDIgfSA6IHsgLi4uZTIsIHNlYXJjaFF1ZXJ5OiBsMiwgYWN0aXZlSXRlbUluZGV4OiBkMiwgYWN0aXZhdGlvblRyaWdnZXI6IDEgfTtcbn0sIFs0XShlMikge1xuICByZXR1cm4gZTIuc2VhcmNoUXVlcnkgPT09IFwiXCIgPyBlMiA6IHsgLi4uZTIsIHNlYXJjaFF1ZXJ5OiBcIlwiLCBzZWFyY2hBY3RpdmVJdGVtSW5kZXg6IG51bGwgfTtcbn0sIFs1XTogKGUyLCBuMikgPT4ge1xuICBsZXQgdDIgPSBlMi5pdGVtcy5jb25jYXQobjIuaXRlbXMubWFwKChsMikgPT4gbDIpKSwgcjIgPSBlMi5hY3RpdmVJdGVtSW5kZXg7XG4gIHJldHVybiBlMi5wZW5kaW5nRm9jdXMuZm9jdXMgIT09IGMkMS5Ob3RoaW5nICYmIChyMiA9IGYoZTIucGVuZGluZ0ZvY3VzLCB7IHJlc29sdmVJdGVtczogKCkgPT4gdDIsIHJlc29sdmVBY3RpdmVJbmRleDogKCkgPT4gZTIuYWN0aXZlSXRlbUluZGV4LCByZXNvbHZlSWQ6IChsMikgPT4gbDIuaWQsIHJlc29sdmVEaXNhYmxlZDogKGwyKSA9PiBsMi5kYXRhUmVmLmN1cnJlbnQuZGlzYWJsZWQgfSkpLCB7IC4uLmUyLCBpdGVtczogdDIsIGFjdGl2ZUl0ZW1JbmRleDogcjIsIHBlbmRpbmdGb2N1czogeyBmb2N1czogYyQxLk5vdGhpbmcgfSwgcGVuZGluZ1Nob3VsZFNvcnQ6IHRydWUgfTtcbn0sIFs2XTogKGUyLCBuMikgPT4ge1xuICBsZXQgdDIgPSBlMi5pdGVtcywgcjIgPSBbXSwgbDIgPSBuZXcgU2V0KG4yLml0ZW1zKTtcbiAgZm9yIChsZXQgW3UyLCBtMl0gb2YgdDIuZW50cmllcygpKSBpZiAobDIuaGFzKG0yLmlkKSAmJiAocjIucHVzaCh1MiksIGwyLmRlbGV0ZShtMi5pZCksIGwyLnNpemUgPT09IDApKSBicmVhaztcbiAgaWYgKHIyLmxlbmd0aCA+IDApIHtcbiAgICB0MiA9IHQyLnNsaWNlKCk7XG4gICAgZm9yIChsZXQgdTIgb2YgcjIucmV2ZXJzZSgpKSB0Mi5zcGxpY2UodTIsIDEpO1xuICB9XG4gIHJldHVybiB7IC4uLmUyLCBpdGVtczogdDIsIGFjdGl2YXRpb25UcmlnZ2VyOiAxIH07XG59LCBbN106IChlMiwgbjIpID0+IGUyLmJ1dHRvbkVsZW1lbnQgPT09IG4yLmVsZW1lbnQgPyBlMiA6IHsgLi4uZTIsIGJ1dHRvbkVsZW1lbnQ6IG4yLmVsZW1lbnQgfSwgWzhdOiAoZTIsIG4yKSA9PiBlMi5pdGVtc0VsZW1lbnQgPT09IG4yLmVsZW1lbnQgPyBlMiA6IHsgLi4uZTIsIGl0ZW1zRWxlbWVudDogbjIuZWxlbWVudCB9LCBbOV06IChlMikgPT4gZTIucGVuZGluZ1Nob3VsZFNvcnQgPyB7IC4uLmUyLCAuLi5TKGUyKSwgcGVuZGluZ1Nob3VsZFNvcnQ6IGZhbHNlIH0gOiBlMiB9O1xuY2xhc3MgeCBleHRlbmRzIG0ge1xuICBjb25zdHJ1Y3Rvcih0Mikge1xuICAgIHN1cGVyKHQyKTtcbiAgICB2KHRoaXMsIFwiYWN0aW9uc1wiLCB7IHJlZ2lzdGVySXRlbTogZyQxKCgpID0+IHtcbiAgICAgIGxldCB0MyA9IFtdLCByMiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgICByZXR1cm4gWyhsMiwgdTIpID0+IHtcbiAgICAgICAgcjIuaGFzKHUyKSB8fCAocjIuYWRkKHUyKSwgdDMucHVzaCh7IGlkOiBsMiwgZGF0YVJlZjogdTIgfSkpO1xuICAgICAgfSwgKCkgPT4gKHIyLmNsZWFyKCksIHRoaXMuc2VuZCh7IHR5cGU6IDUsIGl0ZW1zOiB0My5zcGxpY2UoMCkgfSkpXTtcbiAgICB9KSwgdW5yZWdpc3Rlckl0ZW06IGckMSgoKSA9PiB7XG4gICAgICBsZXQgdDMgPSBbXTtcbiAgICAgIHJldHVybiBbKHIyKSA9PiB0My5wdXNoKHIyKSwgKCkgPT4gdGhpcy5zZW5kKHsgdHlwZTogNiwgaXRlbXM6IHQzLnNwbGljZSgwKSB9KV07XG4gICAgfSkgfSk7XG4gICAgdih0aGlzLCBcInNlbGVjdG9yc1wiLCB7IGFjdGl2ZURlc2NlbmRhbnRJZCh0Mykge1xuICAgICAgdmFyIHUyO1xuICAgICAgbGV0IHIyID0gdDMuYWN0aXZlSXRlbUluZGV4LCBsMiA9IHQzLml0ZW1zO1xuICAgICAgcmV0dXJuIHIyID09PSBudWxsIHx8ICh1MiA9IGwyW3IyXSkgPT0gbnVsbCA/IHZvaWQgMCA6IHUyLmlkO1xuICAgIH0sIGlzQWN0aXZlKHQzLCByMikge1xuICAgICAgdmFyIG0yO1xuICAgICAgbGV0IGwyID0gdDMuYWN0aXZlSXRlbUluZGV4LCB1MiA9IHQzLml0ZW1zO1xuICAgICAgcmV0dXJuIGwyICE9PSBudWxsID8gKChtMiA9IHUyW2wyXSkgPT0gbnVsbCA/IHZvaWQgMCA6IG0yLmlkKSA9PT0gcjIgOiBmYWxzZTtcbiAgICB9LCBzaG91bGRTY3JvbGxJbnRvVmlldyh0MywgcjIpIHtcbiAgICAgIHJldHVybiB0My5fX2RlbW9Nb2RlIHx8IHQzLm1lbnVTdGF0ZSAhPT0gMCB8fCB0My5hY3RpdmF0aW9uVHJpZ2dlciA9PT0gMCA/IGZhbHNlIDogdGhpcy5pc0FjdGl2ZSh0MywgcjIpO1xuICAgIH0gfSk7XG4gICAgdGhpcy5vbig1LCAoKSA9PiB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICB0aGlzLnNlbmQoeyB0eXBlOiA5IH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgc3RhdGljIG5ldyh7IF9fZGVtb01vZGU6IHQyID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgcmV0dXJuIG5ldyB4KHsgX19kZW1vTW9kZTogdDIsIG1lbnVTdGF0ZTogdDIgPyAwIDogMSwgYnV0dG9uRWxlbWVudDogbnVsbCwgaXRlbXNFbGVtZW50OiBudWxsLCBpdGVtczogW10sIHNlYXJjaFF1ZXJ5OiBcIlwiLCBhY3RpdmVJdGVtSW5kZXg6IG51bGwsIGFjdGl2YXRpb25UcmlnZ2VyOiAxLCBwZW5kaW5nU2hvdWxkU29ydDogZmFsc2UsIHBlbmRpbmdGb2N1czogeyBmb2N1czogYyQxLk5vdGhpbmcgfSB9KTtcbiAgfVxuICByZWR1Y2UodDIsIHIyKSB7XG4gICAgcmV0dXJuIHUkNyhyMi50eXBlLCBGLCB0MiwgcjIpO1xuICB9XG59XG5jb25zdCBhMiA9IEskMyhudWxsKTtcbmZ1bmN0aW9uIGwoZTIpIHtcbiAgbGV0IG4yID0geCQ0KGEyKTtcbiAgaWYgKG4yID09PSBudWxsKSB7XG4gICAgbGV0IHQyID0gbmV3IEVycm9yKGA8JHtlMn0gLz4gaXMgbWlzc2luZyBhIHBhcmVudCA8TWVudSAvPiBjb21wb25lbnQuYCk7XG4gICAgdGhyb3cgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgJiYgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodDIsIGkpLCB0MjtcbiAgfVxuICByZXR1cm4gbjI7XG59XG5mdW5jdGlvbiBpKHsgX19kZW1vTW9kZTogZTIgPSBmYWxzZSB9ID0ge30pIHtcbiAgcmV0dXJuIFQkNSgoKSA9PiB4Lm5ldyh7IF9fZGVtb01vZGU6IGUyIH0pLCBbXSk7XG59XG5sZXQgemUgPSBrJDM7XG5mdW5jdGlvbiBRZShUMiwgRTIpIHtcbiAgbGV0IHsgX19kZW1vTW9kZTogaSQxMiA9IGZhbHNlLCAuLi5hJDEyIH0gPSBUMiwgbjIgPSBpKHsgX19kZW1vTW9kZTogaSQxMiB9KSwgW3MyLCBvMywgUDJdID0gUyQxKG4yLCAocDIpID0+IFtwMi5tZW51U3RhdGUsIHAyLml0ZW1zRWxlbWVudCwgcDIuYnV0dG9uRWxlbWVudF0pLCBjMiA9IHkkNShFMiksIF8yID0gczIgPT09IE0uT3BlbjtcbiAgUiQxKF8yLCBbUDIsIG8zXSwgKHAyLCBGMikgPT4ge1xuICAgIHZhciBBJDEyO1xuICAgIG4yLnNlbmQoeyB0eXBlOiBiLkNsb3NlTWVudSB9KSwgQShGMiwgaCQyLkxvb3NlKSB8fCAocDIucHJldmVudERlZmF1bHQoKSwgKEEkMTIgPSBuMi5zdGF0ZS5idXR0b25FbGVtZW50KSA9PSBudWxsIHx8IEEkMTIuZm9jdXMoKSk7XG4gIH0pO1xuICBsZXQgdDIgPSBvJDQoKCkgPT4ge1xuICAgIG4yLnNlbmQoeyB0eXBlOiBiLkNsb3NlTWVudSB9KTtcbiAgfSksIFIyID0gVCQ1KCgpID0+ICh7IG9wZW46IHMyID09PSBNLk9wZW4sIGNsb3NlOiB0MiB9KSwgW3MyLCB0Ml0pLCBJMiA9IHsgcmVmOiBjMiB9LCBnMiA9IEwkMigpO1xuICByZXR1cm4gUm4uY3JlYXRlRWxlbWVudChNZSwgbnVsbCwgUm4uY3JlYXRlRWxlbWVudChhMi5Qcm92aWRlciwgeyB2YWx1ZTogbjIgfSwgUm4uY3JlYXRlRWxlbWVudChjJDMsIHsgdmFsdWU6IHUkNyhzMiwgeyBbTS5PcGVuXTogaSQyLk9wZW4sIFtNLkNsb3NlZF06IGkkMi5DbG9zZWQgfSkgfSwgZzIoeyBvdXJQcm9wczogSTIsIHRoZWlyUHJvcHM6IGEkMTIsIHNsb3Q6IFIyLCBkZWZhdWx0VGFnOiB6ZSwgbmFtZTogXCJNZW51XCIgfSkpKSk7XG59XG5sZXQgWWUgPSBcImJ1dHRvblwiO1xuZnVuY3Rpb24gWmUoVCQxMiwgRTIpIHtcbiAgbGV0IGkyID0gbChcIk1lbnUuQnV0dG9uXCIpLCBhMyA9IGckMygpLCB7IGlkOiBuMiA9IGBoZWFkbGVzc3VpLW1lbnUtYnV0dG9uLSR7YTN9YCwgZGlzYWJsZWQ6IHMyID0gZmFsc2UsIGF1dG9Gb2N1czogbzMgPSBmYWxzZSwgLi4uUDIgfSA9IFQkMTIsIGMyID0gQSQzKG51bGwpLCBfMiA9IEZlKCksIHQyID0geSQ1KEUyLCBjMiwgeWUoKSwgbyQ0KChsMikgPT4gaTIuc2VuZCh7IHR5cGU6IGIuU2V0QnV0dG9uRWxlbWVudCwgZWxlbWVudDogbDIgfSkpKSwgUjIgPSBvJDQoKGwyKSA9PiB7XG4gICAgc3dpdGNoIChsMi5rZXkpIHtcbiAgICAgIGNhc2UgbyQzLlNwYWNlOlxuICAgICAgY2FzZSBvJDMuRW50ZXI6XG4gICAgICBjYXNlIG8kMy5BcnJvd0Rvd246XG4gICAgICAgIGwyLnByZXZlbnREZWZhdWx0KCksIGwyLnN0b3BQcm9wYWdhdGlvbigpLCBpMi5zZW5kKHsgdHlwZTogYi5PcGVuTWVudSwgZm9jdXM6IHsgZm9jdXM6IGMkMS5GaXJzdCB9IH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgbyQzLkFycm93VXA6XG4gICAgICAgIGwyLnByZXZlbnREZWZhdWx0KCksIGwyLnN0b3BQcm9wYWdhdGlvbigpLCBpMi5zZW5kKHsgdHlwZTogYi5PcGVuTWVudSwgZm9jdXM6IHsgZm9jdXM6IGMkMS5MYXN0IH0gfSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSksIEkyID0gbyQ0KChsMikgPT4ge1xuICAgIHN3aXRjaCAobDIua2V5KSB7XG4gICAgICBjYXNlIG8kMy5TcGFjZTpcbiAgICAgICAgbDIucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KSwgW2cyLCBwMl0gPSBTJDEoaTIsIChsMikgPT4gW2wyLm1lbnVTdGF0ZSwgbDIuaXRlbXNFbGVtZW50XSksIEYyID0gbyQ0KChsMikgPT4ge1xuICAgIHZhciBIMjtcbiAgICBpZiAobDIuYnV0dG9uID09PSAwKSB7XG4gICAgICBpZiAociQxKGwyLmN1cnJlbnRUYXJnZXQpKSByZXR1cm4gbDIucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHMyIHx8IChnMiA9PT0gTS5PcGVuID8gKEVuKCgpID0+IGkyLnNlbmQoeyB0eXBlOiBiLkNsb3NlTWVudSB9KSksIChIMiA9IGMyLmN1cnJlbnQpID09IG51bGwgfHwgSDIuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pKSA6IChsMi5wcmV2ZW50RGVmYXVsdCgpLCBpMi5zZW5kKHsgdHlwZTogYi5PcGVuTWVudSwgZm9jdXM6IHsgZm9jdXM6IGMkMS5Ob3RoaW5nIH0sIHRyaWdnZXI6IFQuUG9pbnRlciB9KSkpO1xuICAgIH1cbiAgfSksIHsgaXNGb2N1c1Zpc2libGU6IEEyLCBmb2N1c1Byb3BzOiBmMiB9ID0gJGY3ZGNlZmZjNWFkNzc2OGIkZXhwb3J0JDRlMzI4ZjYxYzUzODY4N2YoeyBhdXRvRm9jdXM6IG8zIH0pLCB7IGlzSG92ZXJlZDogTSQxMiwgaG92ZXJQcm9wczogTDIgfSA9ICQ2MTc5YjkzNjcwNWU3NmQzJGV4cG9ydCRhZTc4MGRhZjI5ZTZkNDU2KHsgaXNEaXNhYmxlZDogczIgfSksIHsgcHJlc3NlZDogUzIsIHByZXNzUHJvcHM6IE8yIH0gPSB3JDIoeyBkaXNhYmxlZDogczIgfSksIHgyID0gVCQ1KCgpID0+ICh7IG9wZW46IGcyID09PSBNLk9wZW4sIGFjdGl2ZTogUzIgfHwgZzIgPT09IE0uT3BlbiwgZGlzYWJsZWQ6IHMyLCBob3ZlcjogTSQxMiwgZm9jdXM6IEEyLCBhdXRvZm9jdXM6IG8zIH0pLCBbZzIsIE0kMTIsIEEyLCBTMiwgczIsIG8zXSksIFUyID0gXyQyKF8yKCksIHsgcmVmOiB0MiwgaWQ6IG4yLCB0eXBlOiBlJDEoVCQxMiwgYzIuY3VycmVudCksIFwiYXJpYS1oYXNwb3B1cFwiOiBcIm1lbnVcIiwgXCJhcmlhLWNvbnRyb2xzXCI6IHAyID09IG51bGwgPyB2b2lkIDAgOiBwMi5pZCwgXCJhcmlhLWV4cGFuZGVkXCI6IGcyID09PSBNLk9wZW4sIGRpc2FibGVkOiBzMiB8fCB2b2lkIDAsIGF1dG9Gb2N1czogbzMsIG9uS2V5RG93bjogUjIsIG9uS2V5VXA6IEkyLCBvbk1vdXNlRG93bjogRjIgfSwgZjIsIEwyLCBPMik7XG4gIHJldHVybiBMJDIoKSh7IG91clByb3BzOiBVMiwgdGhlaXJQcm9wczogUDIsIHNsb3Q6IHgyLCBkZWZhdWx0VGFnOiBZZSwgbmFtZTogXCJNZW51LkJ1dHRvblwiIH0pO1xufVxubGV0IGV0ID0gXCJkaXZcIiwgdHQgPSBPJDEuUmVuZGVyU3RyYXRlZ3kgfCBPJDEuU3RhdGljO1xuZnVuY3Rpb24gb3QoVDIsIEUyKSB7XG4gIGxldCBpMiA9IGckMygpLCB7IGlkOiBhMyA9IGBoZWFkbGVzc3VpLW1lbnUtaXRlbXMtJHtpMn1gLCBhbmNob3I6IG4yLCBwb3J0YWw6IHMyID0gZmFsc2UsIG1vZGFsOiBvMyA9IHRydWUsIHRyYW5zaXRpb246IFAyID0gZmFsc2UsIC4uLmMyIH0gPSBUMiwgXzIgPSB4ZShuMiksIHQyID0gbChcIk1lbnUuSXRlbXNcIiksIFtSJDEyLCBJMl0gPSBSZShfMiksIGcyID0gYmUoKSwgW3AyLCBGMl0gPSBkJDQobnVsbCksIEEyID0geSQ1KEUyLCBfMiA/IFIkMTIgOiBudWxsLCBvJDQoKGUyKSA9PiB0Mi5zZW5kKHsgdHlwZTogYi5TZXRJdGVtc0VsZW1lbnQsIGVsZW1lbnQ6IGUyIH0pKSwgRjIpLCBbZjIsIE0kMTJdID0gUyQxKHQyLCAoZTIpID0+IFtlMi5tZW51U3RhdGUsIGUyLmJ1dHRvbkVsZW1lbnRdKSwgTDIgPSBuJDEoTSQxMiksIFMyID0gbiQxKHAyKTtcbiAgXzIgJiYgKHMyID0gdHJ1ZSk7XG4gIGxldCBPMiA9IHUkMigpLCBbeDIsIFUyXSA9IHgkMShQMiwgcDIsIE8yICE9PSBudWxsID8gKE8yICYgaSQyLk9wZW4pID09PSBpJDIuT3BlbiA6IGYyID09PSBNLk9wZW4pO1xuICBtJDIoeDIsIE0kMTIsICgpID0+IHtcbiAgICB0Mi5zZW5kKHsgdHlwZTogYi5DbG9zZU1lbnUgfSk7XG4gIH0pO1xuICBsZXQgRyQxMiA9IFMkMSh0MiwgKGUyKSA9PiBlMi5fX2RlbW9Nb2RlKSwgbCQxMiA9IEckMTIgPyBmYWxzZSA6IG8zICYmIGYyID09PSBNLk9wZW47XG4gIGYkMihsJDEyLCBTMik7XG4gIGxldCBIMiA9IEckMTIgPyBmYWxzZSA6IG8zICYmIGYyID09PSBNLk9wZW47XG4gIHkkNChIMiwgeyBhbGxvd2VkOiBxJDMoKCkgPT4gW00kMTIsIHAyXSwgW00kMTIsIHAyXSkgfSk7XG4gIGxldCB1MiA9IGYyICE9PSBNLk9wZW4sIGFlID0gcyQxKHUyLCBNJDEyKSA/IGZhbHNlIDogeDI7XG4gIHkkNigoKSA9PiB7XG4gICAgbGV0IGUyID0gcDI7XG4gICAgZTIgJiYgZjIgPT09IE0uT3BlbiAmJiBlMiAhPT0gKFMyID09IG51bGwgPyB2b2lkIDAgOiBTMi5hY3RpdmVFbGVtZW50KSAmJiBlMi5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gIH0sIFtmMiwgcDIsIFMyXSksIEYkMShmMiA9PT0gTS5PcGVuLCB7IGNvbnRhaW5lcjogcDIsIGFjY2VwdChlMikge1xuICAgIHJldHVybiBlMi5nZXRBdHRyaWJ1dGUoXCJyb2xlXCIpID09PSBcIm1lbnVpdGVtXCIgPyBOb2RlRmlsdGVyLkZJTFRFUl9SRUpFQ1QgOiBlMi5oYXNBdHRyaWJ1dGUoXCJyb2xlXCIpID8gTm9kZUZpbHRlci5GSUxURVJfU0tJUCA6IE5vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVDtcbiAgfSwgd2FsayhlMikge1xuICAgIGUyLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJub25lXCIpO1xuICB9IH0pO1xuICBsZXQgcTIgPSBwJDIoKSwgc2UgPSBvJDQoKGUyKSA9PiB7XG4gICAgdmFyIE4yLCB6MiwgUTI7XG4gICAgc3dpdGNoIChxMi5kaXNwb3NlKCksIGUyLmtleSkge1xuICAgICAgY2FzZSBvJDMuU3BhY2U6XG4gICAgICAgIGlmICh0Mi5zdGF0ZS5zZWFyY2hRdWVyeSAhPT0gXCJcIikgcmV0dXJuIGUyLnByZXZlbnREZWZhdWx0KCksIGUyLnN0b3BQcm9wYWdhdGlvbigpLCB0Mi5zZW5kKHsgdHlwZTogYi5TZWFyY2gsIHZhbHVlOiBlMi5rZXkgfSk7XG4gICAgICBjYXNlIG8kMy5FbnRlcjpcbiAgICAgICAgaWYgKGUyLnByZXZlbnREZWZhdWx0KCksIGUyLnN0b3BQcm9wYWdhdGlvbigpLCB0Mi5zdGF0ZS5hY3RpdmVJdGVtSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICBsZXQgeyBkYXRhUmVmOiBkZSB9ID0gdDIuc3RhdGUuaXRlbXNbdDIuc3RhdGUuYWN0aXZlSXRlbUluZGV4XTtcbiAgICAgICAgICAoejIgPSAoTjIgPSBkZS5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogTjIuZG9tUmVmLmN1cnJlbnQpID09IG51bGwgfHwgejIuY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICB0Mi5zZW5kKHsgdHlwZTogYi5DbG9zZU1lbnUgfSksIEcodDIuc3RhdGUuYnV0dG9uRWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBvJDMuQXJyb3dEb3duOlxuICAgICAgICByZXR1cm4gZTIucHJldmVudERlZmF1bHQoKSwgZTIuc3RvcFByb3BhZ2F0aW9uKCksIHQyLnNlbmQoeyB0eXBlOiBiLkdvVG9JdGVtLCBmb2N1czogYyQxLk5leHQgfSk7XG4gICAgICBjYXNlIG8kMy5BcnJvd1VwOlxuICAgICAgICByZXR1cm4gZTIucHJldmVudERlZmF1bHQoKSwgZTIuc3RvcFByb3BhZ2F0aW9uKCksIHQyLnNlbmQoeyB0eXBlOiBiLkdvVG9JdGVtLCBmb2N1czogYyQxLlByZXZpb3VzIH0pO1xuICAgICAgY2FzZSBvJDMuSG9tZTpcbiAgICAgIGNhc2UgbyQzLlBhZ2VVcDpcbiAgICAgICAgcmV0dXJuIGUyLnByZXZlbnREZWZhdWx0KCksIGUyLnN0b3BQcm9wYWdhdGlvbigpLCB0Mi5zZW5kKHsgdHlwZTogYi5Hb1RvSXRlbSwgZm9jdXM6IGMkMS5GaXJzdCB9KTtcbiAgICAgIGNhc2UgbyQzLkVuZDpcbiAgICAgIGNhc2UgbyQzLlBhZ2VEb3duOlxuICAgICAgICByZXR1cm4gZTIucHJldmVudERlZmF1bHQoKSwgZTIuc3RvcFByb3BhZ2F0aW9uKCksIHQyLnNlbmQoeyB0eXBlOiBiLkdvVG9JdGVtLCBmb2N1czogYyQxLkxhc3QgfSk7XG4gICAgICBjYXNlIG8kMy5Fc2NhcGU6XG4gICAgICAgIGUyLnByZXZlbnREZWZhdWx0KCksIGUyLnN0b3BQcm9wYWdhdGlvbigpLCBFbigoKSA9PiB0Mi5zZW5kKHsgdHlwZTogYi5DbG9zZU1lbnUgfSkpLCAoUTIgPSB0Mi5zdGF0ZS5idXR0b25FbGVtZW50KSA9PSBudWxsIHx8IFEyLmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIG8kMy5UYWI6XG4gICAgICAgIGUyLnByZXZlbnREZWZhdWx0KCksIGUyLnN0b3BQcm9wYWdhdGlvbigpLCBFbigoKSA9PiB0Mi5zZW5kKHsgdHlwZTogYi5DbG9zZU1lbnUgfSkpLCBqJDIodDIuc3RhdGUuYnV0dG9uRWxlbWVudCwgZTIuc2hpZnRLZXkgPyBGJDIuUHJldmlvdXMgOiBGJDIuTmV4dCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZTIua2V5Lmxlbmd0aCA9PT0gMSAmJiAodDIuc2VuZCh7IHR5cGU6IGIuU2VhcmNoLCB2YWx1ZTogZTIua2V5IH0pLCBxMi5zZXRUaW1lb3V0KCgpID0+IHQyLnNlbmQoeyB0eXBlOiBiLkNsZWFyU2VhcmNoIH0pLCAzNTApKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KSwgbGUgPSBvJDQoKGUyKSA9PiB7XG4gICAgc3dpdGNoIChlMi5rZXkpIHtcbiAgICAgIGNhc2UgbyQzLlNwYWNlOlxuICAgICAgICBlMi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0pLCBwZTIgPSBUJDUoKCkgPT4gKHsgb3BlbjogZjIgPT09IE0uT3BlbiB9KSwgW2YyXSksIGllID0gXyQyKF8yID8gZzIoKSA6IHt9LCB7IFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCI6IFMkMSh0MiwgdDIuc2VsZWN0b3JzLmFjdGl2ZURlc2NlbmRhbnRJZCksIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IFMkMSh0MiwgKGUyKSA9PiB7XG4gICAgdmFyIE4yO1xuICAgIHJldHVybiAoTjIgPSBlMi5idXR0b25FbGVtZW50KSA9PSBudWxsID8gdm9pZCAwIDogTjIuaWQ7XG4gIH0pLCBpZDogYTMsIG9uS2V5RG93bjogc2UsIG9uS2V5VXA6IGxlLCByb2xlOiBcIm1lbnVcIiwgdGFiSW5kZXg6IGYyID09PSBNLk9wZW4gPyAwIDogdm9pZCAwLCByZWY6IEEyLCBzdHlsZTogeyAuLi5jMi5zdHlsZSwgLi4uSTIsIFwiLS1idXR0b24td2lkdGhcIjogZCQyKE0kMTIsIHRydWUpLndpZHRoIH0sIC4uLlIoVTIpIH0pLCB1ZSA9IEwkMigpO1xuICByZXR1cm4gUm4uY3JlYXRlRWxlbWVudChvZSwgeyBlbmFibGVkOiBzMiA/IFQyLnN0YXRpYyB8fCB4MiA6IGZhbHNlLCBvd25lckRvY3VtZW50OiBMMiB9LCB1ZSh7IG91clByb3BzOiBpZSwgdGhlaXJQcm9wczogYzIsIHNsb3Q6IHBlMiwgZGVmYXVsdFRhZzogZXQsIGZlYXR1cmVzOiB0dCwgdmlzaWJsZTogYWUsIG5hbWU6IFwiTWVudS5JdGVtc1wiIH0pKTtcbn1cbmxldCBudCA9IGskMztcbmZ1bmN0aW9uIHJ0KFQkMTIsIEUyKSB7XG4gIGxldCBpMiA9IGckMygpLCB7IGlkOiBhMyA9IGBoZWFkbGVzc3VpLW1lbnUtaXRlbS0ke2kyfWAsIGRpc2FibGVkOiBuMiA9IGZhbHNlLCAuLi5zJDEyIH0gPSBUJDEyLCBvMyA9IGwoXCJNZW51Lkl0ZW1cIiksIFAyID0gUyQxKG8zLCAodTIpID0+IG8zLnNlbGVjdG9ycy5pc0FjdGl2ZSh1MiwgYTMpKSwgYzIgPSBBJDMobnVsbCksIF8yID0geSQ1KEUyLCBjMiksIHQyID0gUyQxKG8zLCAodTIpID0+IG8zLnNlbGVjdG9ycy5zaG91bGRTY3JvbGxJbnRvVmlldyh1MiwgYTMpKTtcbiAgbiQzKCgpID0+IHtcbiAgICBpZiAodDIpIHJldHVybiBvJDUoKS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgdmFyIHUyLCBKMjtcbiAgICAgIChKMiA9ICh1MiA9IGMyLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiB1Mi5zY3JvbGxJbnRvVmlldykgPT0gbnVsbCB8fCBKMi5jYWxsKHUyLCB7IGJsb2NrOiBcIm5lYXJlc3RcIiB9KTtcbiAgICB9KTtcbiAgfSwgW3QyLCBjMl0pO1xuICBsZXQgUjIgPSBzKGMyKSwgSTIgPSBBJDMoeyBkaXNhYmxlZDogbjIsIGRvbVJlZjogYzIsIGdldCB0ZXh0VmFsdWUoKSB7XG4gICAgcmV0dXJuIFIyKCk7XG4gIH0gfSk7XG4gIG4kMygoKSA9PiB7XG4gICAgSTIuY3VycmVudC5kaXNhYmxlZCA9IG4yO1xuICB9LCBbSTIsIG4yXSksIG4kMygoKSA9PiAobzMuYWN0aW9ucy5yZWdpc3Rlckl0ZW0oYTMsIEkyKSwgKCkgPT4gbzMuYWN0aW9ucy51bnJlZ2lzdGVySXRlbShhMykpLCBbSTIsIGEzXSk7XG4gIGxldCBnMiA9IG8kNCgoKSA9PiB7XG4gICAgbzMuc2VuZCh7IHR5cGU6IGIuQ2xvc2VNZW51IH0pO1xuICB9KSwgcDIgPSBvJDQoKHUyKSA9PiB7XG4gICAgaWYgKG4yKSByZXR1cm4gdTIucHJldmVudERlZmF1bHQoKTtcbiAgICBvMy5zZW5kKHsgdHlwZTogYi5DbG9zZU1lbnUgfSksIEcobzMuc3RhdGUuYnV0dG9uRWxlbWVudCk7XG4gIH0pLCBGMiA9IG8kNCgoKSA9PiB7XG4gICAgaWYgKG4yKSByZXR1cm4gbzMuc2VuZCh7IHR5cGU6IGIuR29Ub0l0ZW0sIGZvY3VzOiBjJDEuTm90aGluZyB9KTtcbiAgICBvMy5zZW5kKHsgdHlwZTogYi5Hb1RvSXRlbSwgZm9jdXM6IGMkMS5TcGVjaWZpYywgaWQ6IGEzIH0pO1xuICB9KSwgQTIgPSB1JDMoKSwgZjIgPSBvJDQoKHUyKSA9PiB7XG4gICAgQTIudXBkYXRlKHUyKSwgIW4yICYmIChQMiB8fCBvMy5zZW5kKHsgdHlwZTogYi5Hb1RvSXRlbSwgZm9jdXM6IGMkMS5TcGVjaWZpYywgaWQ6IGEzLCB0cmlnZ2VyOiBULlBvaW50ZXIgfSkpO1xuICB9KSwgTTIgPSBvJDQoKHUyKSA9PiB7XG4gICAgQTIud2FzTW92ZWQodTIpICYmIChuMiB8fCBQMiB8fCBvMy5zZW5kKHsgdHlwZTogYi5Hb1RvSXRlbSwgZm9jdXM6IGMkMS5TcGVjaWZpYywgaWQ6IGEzLCB0cmlnZ2VyOiBULlBvaW50ZXIgfSkpO1xuICB9KSwgTDIgPSBvJDQoKHUyKSA9PiB7XG4gICAgQTIud2FzTW92ZWQodTIpICYmIChuMiB8fCBQMiAmJiBvMy5zZW5kKHsgdHlwZTogYi5Hb1RvSXRlbSwgZm9jdXM6IGMkMS5Ob3RoaW5nIH0pKTtcbiAgfSksIFtTMiwgTzJdID0gSygpLCBbeDIsIFUyXSA9IHckMSgpLCBHJDEyID0gVCQ1KCgpID0+ICh7IGFjdGl2ZTogUDIsIGZvY3VzOiBQMiwgZGlzYWJsZWQ6IG4yLCBjbG9zZTogZzIgfSksIFtQMiwgbjIsIGcyXSksIGwkMTIgPSB7IGlkOiBhMywgcmVmOiBfMiwgcm9sZTogXCJtZW51aXRlbVwiLCB0YWJJbmRleDogbjIgPT09IHRydWUgPyB2b2lkIDAgOiAtMSwgXCJhcmlhLWRpc2FibGVkXCI6IG4yID09PSB0cnVlID8gdHJ1ZSA6IHZvaWQgMCwgXCJhcmlhLWxhYmVsbGVkYnlcIjogUzIsIFwiYXJpYS1kZXNjcmliZWRieVwiOiB4MiwgZGlzYWJsZWQ6IHZvaWQgMCwgb25DbGljazogcDIsIG9uRm9jdXM6IEYyLCBvblBvaW50ZXJFbnRlcjogZjIsIG9uTW91c2VFbnRlcjogZjIsIG9uUG9pbnRlck1vdmU6IE0yLCBvbk1vdXNlTW92ZTogTTIsIG9uUG9pbnRlckxlYXZlOiBMMiwgb25Nb3VzZUxlYXZlOiBMMiB9LCBIMiA9IEwkMigpO1xuICByZXR1cm4gUm4uY3JlYXRlRWxlbWVudChPMiwgbnVsbCwgUm4uY3JlYXRlRWxlbWVudChVMiwgbnVsbCwgSDIoeyBvdXJQcm9wczogbCQxMiwgdGhlaXJQcm9wczogcyQxMiwgc2xvdDogRyQxMiwgZGVmYXVsdFRhZzogbnQsIG5hbWU6IFwiTWVudS5JdGVtXCIgfSkpKTtcbn1cbmxldCBhdCA9IFwiZGl2XCI7XG5mdW5jdGlvbiBzdChUMiwgRTIpIHtcbiAgbGV0IFtpMiwgYTNdID0gSygpLCBuMiA9IFQyLCBzMiA9IHsgcmVmOiBFMiwgXCJhcmlhLWxhYmVsbGVkYnlcIjogaTIsIHJvbGU6IFwiZ3JvdXBcIiB9LCBvMyA9IEwkMigpO1xuICByZXR1cm4gUm4uY3JlYXRlRWxlbWVudChhMywgbnVsbCwgbzMoeyBvdXJQcm9wczogczIsIHRoZWlyUHJvcHM6IG4yLCBzbG90OiB7fSwgZGVmYXVsdFRhZzogYXQsIG5hbWU6IFwiTWVudS5TZWN0aW9uXCIgfSkpO1xufVxubGV0IGx0ID0gXCJoZWFkZXJcIjtcbmZ1bmN0aW9uIHB0KFQyLCBFMikge1xuICBsZXQgaTIgPSBnJDMoKSwgeyBpZDogYTMgPSBgaGVhZGxlc3N1aS1tZW51LWhlYWRpbmctJHtpMn1gLCAuLi5uMiB9ID0gVDIsIHMyID0gUCQxKCk7XG4gIG4kMygoKSA9PiBzMi5yZWdpc3RlcihhMyksIFthMywgczIucmVnaXN0ZXJdKTtcbiAgbGV0IG8zID0geyBpZDogYTMsIHJlZjogRTIsIHJvbGU6IFwicHJlc2VudGF0aW9uXCIsIC4uLnMyLnByb3BzIH07XG4gIHJldHVybiBMJDIoKSh7IG91clByb3BzOiBvMywgdGhlaXJQcm9wczogbjIsIHNsb3Q6IHt9LCBkZWZhdWx0VGFnOiBsdCwgbmFtZTogXCJNZW51LkhlYWRpbmdcIiB9KTtcbn1cbmxldCBpdCA9IFwiZGl2XCI7XG5mdW5jdGlvbiB1dChUMiwgRTIpIHtcbiAgbGV0IGkyID0gVDIsIGEzID0geyByZWY6IEUyLCByb2xlOiBcInNlcGFyYXRvclwiIH07XG4gIHJldHVybiBMJDIoKSh7IG91clByb3BzOiBhMywgdGhlaXJQcm9wczogaTIsIHNsb3Q6IHt9LCBkZWZhdWx0VGFnOiBpdCwgbmFtZTogXCJNZW51LlNlcGFyYXRvclwiIH0pO1xufVxubGV0IGR0ID0gSyQxKFFlKSwgbXQgPSBLJDEoWmUpLCBUdCA9IEskMShvdCksIGZ0ID0gSyQxKHJ0KSwgY3QgPSBLJDEoc3QpLCB5dCA9IEskMShwdCksIEV0ID0gSyQxKHV0KSwgdG8gPSBPYmplY3QuYXNzaWduKGR0LCB7IEJ1dHRvbjogbXQsIEl0ZW1zOiBUdCwgSXRlbTogZnQsIFNlY3Rpb246IGN0LCBIZWFkaW5nOiB5dCwgU2VwYXJhdG9yOiBFdCB9KTtcbmxldCBMID0gXCJ0ZXh0YXJlYVwiO1xuZnVuY3Rpb24gSChzMiwgbDIpIHtcbiAgbGV0IGkyID0gZyQzKCksIGQyID0gdSQ2KCksIG4yID0gYSQ5KCksIHsgaWQ6IHAyID0gZDIgfHwgYGhlYWRsZXNzdWktdGV4dGFyZWEtJHtpMn1gLCBkaXNhYmxlZDogZTIgPSBuMiB8fCBmYWxzZSwgYXV0b0ZvY3VzOiByMiA9IGZhbHNlLCBpbnZhbGlkOiBhMyA9IGZhbHNlLCAuLi5UMiB9ID0gczIsIGYyID0gSSQyKCksIG0yID0gVSQxKCksIHsgaXNGb2N1c2VkOiBvMywgZm9jdXNQcm9wczogdTIgfSA9ICRmN2RjZWZmYzVhZDc3NjhiJGV4cG9ydCQ0ZTMyOGY2MWM1Mzg2ODdmKHsgYXV0b0ZvY3VzOiByMiB9KSwgeyBpc0hvdmVyZWQ6IHQyLCBob3ZlclByb3BzOiBiMiB9ID0gJDYxNzliOTM2NzA1ZTc2ZDMkZXhwb3J0JGFlNzgwZGFmMjllNmQ0NTYoeyBpc0Rpc2FibGVkOiBlMiB9KSwgeTIgPSBfJDIoeyByZWY6IGwyLCBpZDogcDIsIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGYyLCBcImFyaWEtZGVzY3JpYmVkYnlcIjogbTIsIFwiYXJpYS1pbnZhbGlkXCI6IGEzID8gXCJ0cnVlXCIgOiB2b2lkIDAsIGRpc2FibGVkOiBlMiB8fCB2b2lkIDAsIGF1dG9Gb2N1czogcjIgfSwgdTIsIGIyKSwgeDIgPSBUJDUoKCkgPT4gKHsgZGlzYWJsZWQ6IGUyLCBpbnZhbGlkOiBhMywgaG92ZXI6IHQyLCBmb2N1czogbzMsIGF1dG9mb2N1czogcjIgfSksIFtlMiwgYTMsIHQyLCBvMywgcjJdKTtcbiAgcmV0dXJuIEwkMigpKHsgb3VyUHJvcHM6IHkyLCB0aGVpclByb3BzOiBUMiwgc2xvdDogeDIsIGRlZmF1bHRUYWc6IEwsIG5hbWU6IFwiVGV4dGFyZWFcIiB9KTtcbn1cbmxldCBKID0gSyQxKEgpO1xuLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTAzLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5jb25zdCB0b0tlYmFiQ2FzZSA9IChzdHJpbmcpID0+IHN0cmluZy5yZXBsYWNlKC8oW2EtejAtOV0pKFtBLVpdKS9nLCBcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCk7XG5jb25zdCB0b0NhbWVsQ2FzZSA9IChzdHJpbmcpID0+IHN0cmluZy5yZXBsYWNlKFxuICAvXihbQS1aXSl8W1xccy1fXSsoXFx3KS9nLFxuICAobWF0Y2gsIHAxLCBwMikgPT4gcDIgPyBwMi50b1VwcGVyQ2FzZSgpIDogcDEudG9Mb3dlckNhc2UoKVxuKTtcbmNvbnN0IHRvUGFzY2FsQ2FzZSA9IChzdHJpbmcpID0+IHtcbiAgY29uc3QgY2FtZWxDYXNlID0gdG9DYW1lbENhc2Uoc3RyaW5nKTtcbiAgcmV0dXJuIGNhbWVsQ2FzZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNhbWVsQ2FzZS5zbGljZSgxKTtcbn07XG5jb25zdCBtZXJnZUNsYXNzZXMgPSAoLi4uY2xhc3NlcykgPT4gY2xhc3Nlcy5maWx0ZXIoKGNsYXNzTmFtZSwgaW5kZXgyLCBhcnJheSkgPT4ge1xuICByZXR1cm4gQm9vbGVhbihjbGFzc05hbWUpICYmIGNsYXNzTmFtZS50cmltKCkgIT09IFwiXCIgJiYgYXJyYXkuaW5kZXhPZihjbGFzc05hbWUpID09PSBpbmRleDI7XG59KS5qb2luKFwiIFwiKS50cmltKCk7XG5jb25zdCBoYXNBMTF5UHJvcCA9IChwcm9wcykgPT4ge1xuICBmb3IgKGNvbnN0IHByb3AgaW4gcHJvcHMpIHtcbiAgICBpZiAocHJvcC5zdGFydHNXaXRoKFwiYXJpYS1cIikgfHwgcHJvcCA9PT0gXCJyb2xlXCIgfHwgcHJvcCA9PT0gXCJ0aXRsZVwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn07XG4vKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MDMuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbnZhciBkZWZhdWx0QXR0cmlidXRlcyA9IHtcbiAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgd2lkdGg6IDI0LFxuICBoZWlnaHQ6IDI0LFxuICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICBmaWxsOiBcIm5vbmVcIixcbiAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICBzdHJva2VXaWR0aDogMixcbiAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLFxuICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG59O1xuLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTAzLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5jb25zdCBJY29uID0gRCQxKFxuICAoe1xuICAgIGNvbG9yID0gXCJjdXJyZW50Q29sb3JcIixcbiAgICBzaXplOiBzaXplMiA9IDI0LFxuICAgIHN0cm9rZVdpZHRoID0gMixcbiAgICBhYnNvbHV0ZVN0cm9rZVdpZHRoLFxuICAgIGNsYXNzTmFtZSA9IFwiXCIsXG4gICAgY2hpbGRyZW4sXG4gICAgaWNvbk5vZGUsXG4gICAgLi4ucmVzdFxuICB9LCByZWYpID0+IHtcbiAgICByZXR1cm4gXyQ0KFxuICAgICAgXCJzdmdcIixcbiAgICAgIHtcbiAgICAgICAgcmVmLFxuICAgICAgICAuLi5kZWZhdWx0QXR0cmlidXRlcyxcbiAgICAgICAgd2lkdGg6IHNpemUyLFxuICAgICAgICBoZWlnaHQ6IHNpemUyLFxuICAgICAgICBzdHJva2U6IGNvbG9yLFxuICAgICAgICBzdHJva2VXaWR0aDogYWJzb2x1dGVTdHJva2VXaWR0aCA/IE51bWJlcihzdHJva2VXaWR0aCkgKiAyNCAvIE51bWJlcihzaXplMikgOiBzdHJva2VXaWR0aCxcbiAgICAgICAgY2xhc3NOYW1lOiBtZXJnZUNsYXNzZXMoXCJsdWNpZGVcIiwgY2xhc3NOYW1lKSxcbiAgICAgICAgLi4uIWNoaWxkcmVuICYmICFoYXNBMTF5UHJvcChyZXN0KSAmJiB7IFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIgfSxcbiAgICAgICAgLi4ucmVzdFxuICAgICAgfSxcbiAgICAgIFtcbiAgICAgICAgLi4uaWNvbk5vZGUubWFwKChbdGFnLCBhdHRyc10pID0+IF8kNCh0YWcsIGF0dHJzKSksXG4gICAgICAgIC4uLkFycmF5LmlzQXJyYXkoY2hpbGRyZW4pID8gY2hpbGRyZW4gOiBbY2hpbGRyZW5dXG4gICAgICBdXG4gICAgKTtcbiAgfVxuKTtcbi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUwMy4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuY29uc3QgY3JlYXRlTHVjaWRlSWNvbiA9IChpY29uTmFtZSwgaWNvbk5vZGUpID0+IHtcbiAgY29uc3QgQ29tcG9uZW50ID0gRCQxKFxuICAgICh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiBfJDQoSWNvbiwge1xuICAgICAgcmVmLFxuICAgICAgaWNvbk5vZGUsXG4gICAgICBjbGFzc05hbWU6IG1lcmdlQ2xhc3NlcyhcbiAgICAgICAgYGx1Y2lkZS0ke3RvS2ViYWJDYXNlKHRvUGFzY2FsQ2FzZShpY29uTmFtZSkpfWAsXG4gICAgICAgIGBsdWNpZGUtJHtpY29uTmFtZX1gLFxuICAgICAgICBjbGFzc05hbWVcbiAgICAgICksXG4gICAgICAuLi5wcm9wc1xuICAgIH0pXG4gICk7XG4gIENvbXBvbmVudC5kaXNwbGF5TmFtZSA9IHRvUGFzY2FsQ2FzZShpY29uTmFtZSk7XG4gIHJldHVybiBDb21wb25lbnQ7XG59O1xuLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTAzLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5jb25zdCBfX2ljb25Ob2RlJDYgPSBbW1wicGF0aFwiLCB7IGQ6IFwibTYgOSA2IDYgNi02XCIsIGtleTogXCJxcnVuc2xcIiB9XV07XG5jb25zdCBDaGV2cm9uRG93biA9IGNyZWF0ZUx1Y2lkZUljb24oXCJjaGV2cm9uLWRvd25cIiwgX19pY29uTm9kZSQ2KTtcbi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUwMy4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuY29uc3QgX19pY29uTm9kZSQ1ID0gW1tcInBhdGhcIiwgeyBkOiBcIm0xOCAxNS02LTYtNiA2XCIsIGtleTogXCIxNTN1ZHpcIiB9XV07XG5jb25zdCBDaGV2cm9uVXAgPSBjcmVhdGVMdWNpZGVJY29uKFwiY2hldnJvbi11cFwiLCBfX2ljb25Ob2RlJDUpO1xuLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTAzLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5jb25zdCBfX2ljb25Ob2RlJDQgPSBbXG4gIFtcImNpcmNsZVwiLCB7IGN4OiBcIjEyXCIsIGN5OiBcIjEyXCIsIHI6IFwiMVwiLCBrZXk6IFwiNDFoaWxmXCIgfV0sXG4gIFtcImNpcmNsZVwiLCB7IGN4OiBcIjE5XCIsIGN5OiBcIjEyXCIsIHI6IFwiMVwiLCBrZXk6IFwiMXdqbDhpXCIgfV0sXG4gIFtcImNpcmNsZVwiLCB7IGN4OiBcIjVcIiwgY3k6IFwiMTJcIiwgcjogXCIxXCIsIGtleTogXCIxcGN6OGNcIiB9XVxuXTtcbmNvbnN0IEVsbGlwc2lzID0gY3JlYXRlTHVjaWRlSWNvbihcImVsbGlwc2lzXCIsIF9faWNvbk5vZGUkNCk7XG4vKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MDMuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbmNvbnN0IF9faWNvbk5vZGUkMyA9IFtcbiAgW1wicG9seWxpbmVcIiwgeyBwb2ludHM6IFwiNCAxNCAxMCAxNCAxMCAyMFwiLCBrZXk6IFwiMTFrZm5yXCIgfV0sXG4gIFtcInBvbHlsaW5lXCIsIHsgcG9pbnRzOiBcIjIwIDEwIDE0IDEwIDE0IDRcIiwga2V5OiBcInJsbXNjZVwiIH1dLFxuICBbXCJsaW5lXCIsIHsgeDE6IFwiMTRcIiwgeDI6IFwiMjFcIiwgeTE6IFwiMTBcIiwgeTI6IFwiM1wiLCBrZXk6IFwibzVsYWZ6XCIgfV0sXG4gIFtcImxpbmVcIiwgeyB4MTogXCIzXCIsIHgyOiBcIjEwXCIsIHkxOiBcIjIxXCIsIHkyOiBcIjE0XCIsIGtleTogXCIxYXRsMHJcIiB9XVxuXTtcbmNvbnN0IE1pbmltaXplMiA9IGNyZWF0ZUx1Y2lkZUljb24oXCJtaW5pbWl6ZS0yXCIsIF9faWNvbk5vZGUkMyk7XG4vKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MDMuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbmNvbnN0IF9faWNvbk5vZGUkMiA9IFtcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTUgMTJoMTRcIiwga2V5OiBcIjFheXMwaFwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMTIgNXYxNFwiLCBrZXk6IFwiczY5OWxlXCIgfV1cbl07XG5jb25zdCBQbHVzID0gY3JlYXRlTHVjaWRlSWNvbihcInBsdXNcIiwgX19pY29uTm9kZSQyKTtcbi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUwMy4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuY29uc3QgX19pY29uTm9kZSQxID0gW1xuICBbXG4gICAgXCJwYXRoXCIsXG4gICAge1xuICAgICAgZDogXCJNMTQuNTM2IDIxLjY4NmEuNS41IDAgMCAwIC45MzctLjAyNGw2LjUtMTlhLjQ5Ni40OTYgMCAwIDAtLjYzNS0uNjM1bC0xOSA2LjVhLjUuNSAwIDAgMC0uMDI0LjkzN2w3LjkzIDMuMThhMiAyIDAgMCAxIDEuMTEyIDEuMTF6XCIsXG4gICAgICBrZXk6IFwiMWZmeHkzXCJcbiAgICB9XG4gIF0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIm0yMS44NTQgMi4xNDctMTAuOTQgMTAuOTM5XCIsIGtleTogXCIxMmNqcGFcIiB9XVxuXTtcbmNvbnN0IFNlbmQgPSBjcmVhdGVMdWNpZGVJY29uKFwic2VuZFwiLCBfX2ljb25Ob2RlJDEpO1xuLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTAzLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5jb25zdCBfX2ljb25Ob2RlID0gW1xuICBbXCJwYXRoXCIsIHsgZDogXCJNMyA2aDE4XCIsIGtleTogXCJkMHdtMGpcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTE5IDZ2MTRjMCAxLTEgMi0yIDJIN2MtMSAwLTItMS0yLTJWNlwiLCBrZXk6IFwiNGFscnQ0XCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk04IDZWNGMwLTEgMS0yIDItMmg0YzEgMCAyIDEgMiAydjJcIiwga2V5OiBcInYwN3MwZVwiIH1dLFxuICBbXCJsaW5lXCIsIHsgeDE6IFwiMTBcIiwgeDI6IFwiMTBcIiwgeTE6IFwiMTFcIiwgeTI6IFwiMTdcIiwga2V5OiBcIjF1dWZyNVwiIH1dLFxuICBbXCJsaW5lXCIsIHsgeDE6IFwiMTRcIiwgeDI6IFwiMTRcIiwgeTE6IFwiMTFcIiwgeTI6IFwiMTdcIiwga2V5OiBcInh0eGtkXCIgfV1cbl07XG5jb25zdCBUcmFzaDIgPSBjcmVhdGVMdWNpZGVJY29uKFwidHJhc2gtMlwiLCBfX2ljb25Ob2RlKTtcbmNvbnN0IENoYXRBcmVhID0gTSQzKCgpID0+IHtcbiAgY29uc3QgeyBjaGF0QXJlYVN0YXRlIH0gPSB1c2VDaGF0U3RhdGUoKTtcbiAgaWYgKGNoYXRBcmVhU3RhdGUgPT09IFwiaGlkZGVuXCIpIHJldHVybiBudWxsO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShDaGF0QXJlYUJveCwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoQ2hhdEFyZWFSZXNpemVCYXIsIHt9KSxcbiAgICBjaGF0QXJlYVN0YXRlID09PSBcImNvbXBhY3RcIiAmJiAvKiBAX19QVVJFX18gKi8gdSQ5KENoYXRBcmVhQ29tcGFjdCwge30pLFxuICAgIGNoYXRBcmVhU3RhdGUgPT09IFwiZXhwYW5kZWRcIiAmJiAvKiBAX19QVVJFX18gKi8gdSQ5KENoYXRBcmVhRXhwYW5kZWQsIHt9KVxuICBdIH0pO1xufSk7XG5jb25zdCBDaGF0QXJlYUJveCA9IE0kMygoeyBjaGlsZHJlbiB9KSA9PiAvKiBAX19QVVJFX18gKi8gdSQ5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImgtYXV0byB3LWZ1bGwgb3ZlcmZsb3cteC1oaWRkZW5cIiwgY2hpbGRyZW4gfSkpO1xuY29uc3QgQ2hhdEFyZWFSZXNpemVCYXIgPSBNJDMoKCkgPT4ge1xuICBjb25zdCB7IGNoYXRBcmVhU3RhdGUsIHNldENoYXRBcmVhU3RhdGUsIHN0b3BQcm9tcHRDcmVhdGlvbiB9ID0gdXNlQ2hhdFN0YXRlKCk7XG4gIGNvbnN0IGhhbmRsZVJlc2l6ZUJhckNsaWNrID0gcSQzKCgpID0+IHtcbiAgICBzZXRDaGF0QXJlYVN0YXRlKGNoYXRBcmVhU3RhdGUgPT09IFwiY29tcGFjdFwiID8gXCJleHBhbmRlZFwiIDogXCJjb21wYWN0XCIpO1xuICB9LCBbY2hhdEFyZWFTdGF0ZSwgc2V0Q2hhdEFyZWFTdGF0ZV0pO1xuICBjb25zdCBoYW5kbGVDbG9zZUNoYXRBcmVhID0gcSQzKCgpID0+IHtcbiAgICBzdG9wUHJvbXB0Q3JlYXRpb24oKTtcbiAgICBzZXRDaGF0QXJlYVN0YXRlKFwiaGlkZGVuXCIpO1xuICB9LCBbc2V0Q2hhdEFyZWFTdGF0ZSwgc3RvcFByb21wdENyZWF0aW9uXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggdy1mdWxsIGZsZXgtcm93IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLXQtM3hsIHB4LTMgcHktMVwiLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICBIJDMsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJzaXplLTUgYmctdHJhbnNwYXJlbnQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kLzMwIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTEwMCBob3Zlcjp0ZXh0LW11dGVkLWZvcmVncm91bmRcIixcbiAgICAgICAgb25DbGljazogaGFuZGxlUmVzaXplQmFyQ2xpY2ssXG4gICAgICAgIGNoaWxkcmVuOiBjaGF0QXJlYVN0YXRlID09PSBcImNvbXBhY3RcIiA/IC8qIEBfX1BVUkVfXyAqLyB1JDkoQ2hldnJvblVwLCB7IGNsYXNzTmFtZTogXCJzaXplLTVcIiB9KSA6IC8qIEBfX1BVUkVfXyAqLyB1JDkoQ2hldnJvbkRvd24sIHsgY2xhc3NOYW1lOiBcInNpemUtNVwiIH0pXG4gICAgICB9XG4gICAgKSxcbiAgICAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgSCQzLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IFwiYWJzb2x1dGUgcmlnaHQtMiBmbGV4IGgtZml0IHctZml0IGZsZXgtcm93IGl0ZW1zLWNlbnRlciBnYXAtMSBiZy10cmFuc3BhcmVudCBwLTEgdGV4dC14cyB0ZXh0LXppbmMtOTUwIG9wYWNpdHktNTAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTAwIGhvdmVyOm9wYWNpdHktMTAwXCIsXG4gICAgICAgIG9uQ2xpY2s6IGhhbmRsZUNsb3NlQ2hhdEFyZWEsXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgXCJDbG9zZSBtZW51XCIsXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJyb3VuZGVkLW1kIGJnLXppbmMtNjAwIHB4LTAuNSBweS0wIHRleHQteHMgdGV4dC16aW5jLTUwXCIsIGNoaWxkcmVuOiBcImVzY1wiIH0pXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICApXG4gIF0gfSk7XG59KTtcbmNvbnN0IENoYXRBcmVhQ29tcGFjdCA9IE0kMygoKSA9PiAvKiBAX19QVVJFX18gKi8gdSQ5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggdy1mdWxsIGZsZXgtY29sIGdhcC0xIHAtM1wiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwidGV4dC1zbSB0ZXh0LXppbmMtOTUwLzUwXCIsIGNoaWxkcmVuOiBcIlRoaXMgaXMgdGhlIGNvbXBhY3QgY2hhdCBhcmVhLi4uIFNob3dpbmcganVzdCB0aGUgbGFzdCByZXNwb25zZSBmcm9tIHRoZSBhc3Npc3RhbnQuXCIgfSkgfSkpO1xuY29uc3QgQ2hhdEFyZWFFeHBhbmRlZCA9IE0kMygoKSA9PiB7XG4gIGNvbnN0IHsgY2hhdHMsIGN1cnJlbnRDaGF0SWQsIHNldEN1cnJlbnRDaGF0LCBjcmVhdGVDaGF0IH0gPSB1c2VDaGF0U3RhdGUoKTtcbiAgY29uc3QgY3VycmVudENoYXQgPSBjaGF0cy5maW5kKChjaGF0KSA9PiBjaGF0LmlkID09PSBjdXJyZW50Q2hhdElkKTtcbiAgY29uc3QgaGFzTmV3Q2hhdCA9IGNoYXRzLnNvbWUoKGNoYXQpID0+IGNoYXQuaWQgPT09IFwibmV3X2NoYXRcIik7XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZUNoYXQgPSBxJDMoKCkgPT4ge1xuICAgIGNyZWF0ZUNoYXQoKTtcbiAgfSwgW2NyZWF0ZUNoYXRdKTtcbiAgY29uc3QgaGFuZGxlU2V0Q3VycmVudENoYXQgPSBxJDMoXG4gICAgKGNoYXRJZCkgPT4ge1xuICAgICAgc2V0Q3VycmVudENoYXQoY2hhdElkKTtcbiAgICB9LFxuICAgIFtzZXRDdXJyZW50Q2hhdF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBtYXgtaC1bNTB2aF0gdy1mdWxsIGZsZXgtY29sIGdhcC0zIHAtMyBwYi0wXCIsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtMSBmbGV4LWNvbCBnYXAtMiBvdmVyZmxvdy15LWF1dG8gcC0xXCIsIGNoaWxkcmVuOiBjdXJyZW50Q2hhdCA9PSBudWxsID8gdm9pZCAwIDogY3VycmVudENoYXQubWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgXCJkaXZcIixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBgZmxleCAke21lc3NhZ2Uuc2VuZGVyID09PSBcImFzc2lzdGFudFwiID8gXCJqdXN0aWZ5LXN0YXJ0XCIgOiBcImp1c3RpZnktZW5kXCJ9YCxcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IGBtYXgtdy1bODAlXSByb3VuZGVkLXhsIHB4LTIgcHktMSB0ZXh0LXNtICR7bWVzc2FnZS5zZW5kZXIgPT09IFwiYXNzaXN0YW50XCIgPyBcImJnLXppbmMtOTUwLzUgdGV4dC16aW5jLTk1MFwiIDogXCJiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlXCJ9YCxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBtZXNzYWdlLmNvbnRlbnRcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH0sXG4gICAgICBtZXNzYWdlLmlkXG4gICAgKSkgfSksXG4gICAgLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtcm93IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LXN0YXJ0IGdhcC0yIG92ZXJmbG93LXgtYXV0byBvdmVyZmxvdy15LXZpc2libGUgYm9yZGVyLWJvcmRlci8xMCBib3JkZXItdCBwdC0yIHBiLTJcIiwgY2hpbGRyZW46IFtcbiAgICAgICFoYXNOZXdDaGF0ICYmIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICAgIEgkMyxcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJoLTYgZmxleC1zaHJpbmstMCByb3VuZGVkLWZ1bGwgYmctemluYy05NTAvNSBweC0yIGZvbnQtc2VtaWJvbGQgdGV4dC1mb3JlZ3JvdW5kIHRleHQteHNcIixcbiAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVDcmVhdGVDaGF0LFxuICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gdSQ5KFBsdXMsIHsgY2xhc3NOYW1lOiBcInNpemUtM1wiIH0pXG4gICAgICAgIH1cbiAgICAgICksXG4gICAgICBjaGF0cy5tYXAoKGNoYXQpID0+IC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICAgIEgkMyxcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogY24oXG4gICAgICAgICAgICBcImgtNSBtYXgtdy00OCBmbGV4LXNocmluay0wIG92ZXJmbG93LWhpZGRlbiB0cnVuY2F0ZSByb3VuZGVkLWZ1bGwgYmctemluYy05NTAvNSBweC0yIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCB0ZXh0LXhzXCIsXG4gICAgICAgICAgICBjaGF0LmlkID09PSBjdXJyZW50Q2hhdElkICYmIFwiYmctd2hpdGUvNjAgdGV4dC16aW5jLTk1MCBzaGFkb3ctYmx1ZS02MDAvNTAgc2hhZG93LXNtXCJcbiAgICAgICAgICApLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IGhhbmRsZVNldEN1cnJlbnRDaGF0KGNoYXQuaWQpLFxuICAgICAgICAgIGNoaWxkcmVuOiBjaGF0LnRpdGxlIHx8IFwiTmV3IGNoYXRcIlxuICAgICAgICB9LFxuICAgICAgICBjaGF0LmlkXG4gICAgICApKVxuICAgIF0gfSlcbiAgXSB9KTtcbn0pO1xudmFyIExJQlZFUlNJT04gPSBcIjIuMC4zXCIsIFVBX01BWF9MRU5HVEggPSA1MDAsIFVTRVJfQUdFTlQgPSBcInVzZXItYWdlbnRcIiwgRU1QVFkgPSBcIlwiLCBVTktOT1dOID0gXCI/XCIsIEZVTkNfVFlQRSA9IFwiZnVuY3Rpb25cIiwgVU5ERUZfVFlQRSA9IFwidW5kZWZpbmVkXCIsIE9CSl9UWVBFID0gXCJvYmplY3RcIiwgU1RSX1RZUEUgPSBcInN0cmluZ1wiLCBVQV9CUk9XU0VSID0gXCJicm93c2VyXCIsIFVBX0NQVSA9IFwiY3B1XCIsIFVBX0RFVklDRSA9IFwiZGV2aWNlXCIsIFVBX0VOR0lORSA9IFwiZW5naW5lXCIsIFVBX09TID0gXCJvc1wiLCBVQV9SRVNVTFQgPSBcInJlc3VsdFwiLCBOQU1FID0gXCJuYW1lXCIsIFRZUEUgPSBcInR5cGVcIiwgVkVORE9SID0gXCJ2ZW5kb3JcIiwgVkVSU0lPTiA9IFwidmVyc2lvblwiLCBBUkNISVRFQ1RVUkUgPSBcImFyY2hpdGVjdHVyZVwiLCBNQUpPUiA9IFwibWFqb3JcIiwgTU9ERUwgPSBcIm1vZGVsXCIsIENPTlNPTEUgPSBcImNvbnNvbGVcIiwgTU9CSUxFID0gXCJtb2JpbGVcIiwgVEFCTEVUID0gXCJ0YWJsZXRcIiwgU01BUlRUViA9IFwic21hcnR0dlwiLCBXRUFSQUJMRSA9IFwid2VhcmFibGVcIiwgWFIgPSBcInhyXCIsIEVNQkVEREVEID0gXCJlbWJlZGRlZFwiLCBJTkFQUCA9IFwiaW5hcHBcIiwgQlJBTkRTID0gXCJicmFuZHNcIiwgRk9STUZBQ1RPUlMgPSBcImZvcm1GYWN0b3JzXCIsIEZVTExWRVJMSVNUID0gXCJmdWxsVmVyc2lvbkxpc3RcIiwgUExBVEZPUk0gPSBcInBsYXRmb3JtXCIsIFBMQVRGT1JNVkVSID0gXCJwbGF0Zm9ybVZlcnNpb25cIiwgQklUTkVTUyA9IFwiYml0bmVzc1wiLCBDSF9IRUFERVIgPSBcInNlYy1jaC11YVwiLCBDSF9IRUFERVJfRlVMTF9WRVJfTElTVCA9IENIX0hFQURFUiArIFwiLWZ1bGwtdmVyc2lvbi1saXN0XCIsIENIX0hFQURFUl9BUkNIID0gQ0hfSEVBREVSICsgXCItYXJjaFwiLCBDSF9IRUFERVJfQklUTkVTUyA9IENIX0hFQURFUiArIFwiLVwiICsgQklUTkVTUywgQ0hfSEVBREVSX0ZPUk1fRkFDVE9SUyA9IENIX0hFQURFUiArIFwiLWZvcm0tZmFjdG9yc1wiLCBDSF9IRUFERVJfTU9CSUxFID0gQ0hfSEVBREVSICsgXCItXCIgKyBNT0JJTEUsIENIX0hFQURFUl9NT0RFTCA9IENIX0hFQURFUiArIFwiLVwiICsgTU9ERUwsIENIX0hFQURFUl9QTEFURk9STSA9IENIX0hFQURFUiArIFwiLVwiICsgUExBVEZPUk0sIENIX0hFQURFUl9QTEFURk9STV9WRVIgPSBDSF9IRUFERVJfUExBVEZPUk0gKyBcIi12ZXJzaW9uXCIsIENIX0FMTF9WQUxVRVMgPSBbQlJBTkRTLCBGVUxMVkVSTElTVCwgTU9CSUxFLCBNT0RFTCwgUExBVEZPUk0sIFBMQVRGT1JNVkVSLCBBUkNISVRFQ1RVUkUsIEZPUk1GQUNUT1JTLCBCSVRORVNTXSwgQU1BWk9OID0gXCJBbWF6b25cIiwgQVBQTEUgPSBcIkFwcGxlXCIsIEFTVVMgPSBcIkFTVVNcIiwgQkxBQ0tCRVJSWSA9IFwiQmxhY2tCZXJyeVwiLCBHT09HTEUgPSBcIkdvb2dsZVwiLCBIVUFXRUkgPSBcIkh1YXdlaVwiLCBMRU5PVk8gPSBcIkxlbm92b1wiLCBIT05PUiA9IFwiSG9ub3JcIiwgTEcgPSBcIkxHXCIsIE1JQ1JPU09GVCA9IFwiTWljcm9zb2Z0XCIsIE1PVE9ST0xBID0gXCJNb3Rvcm9sYVwiLCBOVklESUEgPSBcIk52aWRpYVwiLCBPTkVQTFVTID0gXCJPbmVQbHVzXCIsIE9QUE8gPSBcIk9QUE9cIiwgU0FNU1VORyA9IFwiU2Ftc3VuZ1wiLCBTSEFSUCA9IFwiU2hhcnBcIiwgU09OWSA9IFwiU29ueVwiLCBYSUFPTUkgPSBcIlhpYW9taVwiLCBaRUJSQSA9IFwiWmVicmFcIiwgQ0hST01FID0gXCJDaHJvbWVcIiwgQ0hST01JVU0gPSBcIkNocm9taXVtXCIsIENIUk9NRUNBU1QgPSBcIkNocm9tZWNhc3RcIiwgRURHRSA9IFwiRWRnZVwiLCBGSVJFRk9YID0gXCJGaXJlZm94XCIsIE9QRVJBID0gXCJPcGVyYVwiLCBGQUNFQk9PSyA9IFwiRmFjZWJvb2tcIiwgU09HT1UgPSBcIlNvZ291XCIsIFBSRUZJWF9NT0JJTEUgPSBcIk1vYmlsZSBcIiwgU1VGRklYX0JST1dTRVIgPSBcIiBCcm93c2VyXCIsIFdJTkRPV1MgPSBcIldpbmRvd3NcIjtcbnZhciBpc1dpbmRvdyA9IHR5cGVvZiB3aW5kb3cgIT09IFVOREVGX1RZUEUsIE5BVklHQVRPUiA9IGlzV2luZG93ICYmIHdpbmRvdy5uYXZpZ2F0b3IgPyB3aW5kb3cubmF2aWdhdG9yIDogdm9pZCAwLCBOQVZJR0FUT1JfVUFEQVRBID0gTkFWSUdBVE9SICYmIE5BVklHQVRPUi51c2VyQWdlbnREYXRhID8gTkFWSUdBVE9SLnVzZXJBZ2VudERhdGEgOiB2b2lkIDA7XG52YXIgZXh0ZW5kID0gZnVuY3Rpb24oZGVmYXVsdFJneCwgZXh0ZW5zaW9ucykge1xuICB2YXIgbWVyZ2VkUmd4ID0ge307XG4gIHZhciBleHRyYVJneCA9IGV4dGVuc2lvbnM7XG4gIGlmICghaXNFeHRlbnNpb25zKGV4dGVuc2lvbnMpKSB7XG4gICAgZXh0cmFSZ3ggPSB7fTtcbiAgICBmb3IgKHZhciBpMiBpbiBleHRlbnNpb25zKSB7XG4gICAgICBmb3IgKHZhciBqMiBpbiBleHRlbnNpb25zW2kyXSkge1xuICAgICAgICBleHRyYVJneFtqMl0gPSBleHRlbnNpb25zW2kyXVtqMl0uY29uY2F0KGV4dHJhUmd4W2oyXSA/IGV4dHJhUmd4W2oyXSA6IFtdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yICh2YXIgazIgaW4gZGVmYXVsdFJneCkge1xuICAgIG1lcmdlZFJneFtrMl0gPSBleHRyYVJneFtrMl0gJiYgZXh0cmFSZ3hbazJdLmxlbmd0aCAlIDIgPT09IDAgPyBleHRyYVJneFtrMl0uY29uY2F0KGRlZmF1bHRSZ3hbazJdKSA6IGRlZmF1bHRSZ3hbazJdO1xuICB9XG4gIHJldHVybiBtZXJnZWRSZ3g7XG59LCBlbnVtZXJpemUgPSBmdW5jdGlvbihhcnIpIHtcbiAgdmFyIGVudW1zID0ge307XG4gIGZvciAodmFyIGkyID0gMDsgaTIgPCBhcnIubGVuZ3RoOyBpMisrKSB7XG4gICAgZW51bXNbYXJyW2kyXS50b1VwcGVyQ2FzZSgpXSA9IGFycltpMl07XG4gIH1cbiAgcmV0dXJuIGVudW1zO1xufSwgaGFzID0gZnVuY3Rpb24oc3RyMSwgc3RyMikge1xuICBpZiAodHlwZW9mIHN0cjEgPT09IE9CSl9UWVBFICYmIHN0cjEubGVuZ3RoID4gMCkge1xuICAgIGZvciAodmFyIGkyIGluIHN0cjEpIHtcbiAgICAgIGlmIChsb3dlcml6ZShzdHIxW2kyXSkgPT0gbG93ZXJpemUoc3RyMikpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGlzU3RyaW5nKHN0cjEpID8gbG93ZXJpemUoc3RyMikuaW5kZXhPZihsb3dlcml6ZShzdHIxKSkgIT09IC0xIDogZmFsc2U7XG59LCBpc0V4dGVuc2lvbnMgPSBmdW5jdGlvbihvYmosIGRlZXApIHtcbiAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICByZXR1cm4gL14oYnJvd3NlcnxjcHV8ZGV2aWNlfGVuZ2luZXxvcykkLy50ZXN0KHByb3ApIHx8IChkZWVwID8gaXNFeHRlbnNpb25zKG9ialtwcm9wXSkgOiBmYWxzZSk7XG4gIH1cbn0sIGlzU3RyaW5nID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSBTVFJfVFlQRTtcbn0sIGl0ZW1MaXN0VG9BcnJheSA9IGZ1bmN0aW9uKGhlYWRlcikge1xuICBpZiAoIWhlYWRlcikgcmV0dXJuIHZvaWQgMDtcbiAgdmFyIGFyciA9IFtdO1xuICB2YXIgdG9rZW5zID0gc3RyaXAoL1xcXFw/XFxcIi9nLCBoZWFkZXIpLnNwbGl0KFwiLFwiKTtcbiAgZm9yICh2YXIgaTIgPSAwOyBpMiA8IHRva2Vucy5sZW5ndGg7IGkyKyspIHtcbiAgICBpZiAodG9rZW5zW2kyXS5pbmRleE9mKFwiO1wiKSA+IC0xKSB7XG4gICAgICB2YXIgdG9rZW4gPSB0cmltKHRva2Vuc1tpMl0pLnNwbGl0KFwiO3Y9XCIpO1xuICAgICAgYXJyW2kyXSA9IHsgYnJhbmQ6IHRva2VuWzBdLCB2ZXJzaW9uOiB0b2tlblsxXSB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBhcnJbaTJdID0gdHJpbSh0b2tlbnNbaTJdKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycjtcbn0sIGxvd2VyaXplID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBpc1N0cmluZyhzdHIpID8gc3RyLnRvTG93ZXJDYXNlKCkgOiBzdHI7XG59LCBtYWpvcml6ZSA9IGZ1bmN0aW9uKHZlcnNpb24pIHtcbiAgcmV0dXJuIGlzU3RyaW5nKHZlcnNpb24pID8gc3RyaXAoL1teXFxkXFwuXS9nLCB2ZXJzaW9uKS5zcGxpdChcIi5cIilbMF0gOiB2b2lkIDA7XG59LCBzZXRQcm9wcyA9IGZ1bmN0aW9uKGFycikge1xuICBmb3IgKHZhciBpMiBpbiBhcnIpIHtcbiAgICB2YXIgcHJvcE5hbWUgPSBhcnJbaTJdO1xuICAgIGlmICh0eXBlb2YgcHJvcE5hbWUgPT0gT0JKX1RZUEUgJiYgcHJvcE5hbWUubGVuZ3RoID09IDIpIHtcbiAgICAgIHRoaXNbcHJvcE5hbWVbMF1dID0gcHJvcE5hbWVbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXNbcHJvcE5hbWVdID0gdm9pZCAwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGhpcztcbn0sIHN0cmlwID0gZnVuY3Rpb24ocGF0dGVybiwgc3RyKSB7XG4gIHJldHVybiBpc1N0cmluZyhzdHIpID8gc3RyLnJlcGxhY2UocGF0dGVybiwgRU1QVFkpIDogc3RyO1xufSwgc3RyaXBRdW90ZXMgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIHN0cmlwKC9cXFxcP1xcXCIvZywgc3RyKTtcbn0sIHRyaW0gPSBmdW5jdGlvbihzdHIsIGxlbikge1xuICBpZiAoaXNTdHJpbmcoc3RyKSkge1xuICAgIHN0ciA9IHN0cmlwKC9eXFxzXFxzKi8sIHN0cik7XG4gICAgcmV0dXJuIHR5cGVvZiBsZW4gPT09IFVOREVGX1RZUEUgPyBzdHIgOiBzdHIuc3Vic3RyaW5nKDAsIFVBX01BWF9MRU5HVEgpO1xuICB9XG59O1xudmFyIHJneE1hcHBlciA9IGZ1bmN0aW9uKHVhLCBhcnJheXMpIHtcbiAgaWYgKCF1YSB8fCAhYXJyYXlzKSByZXR1cm47XG4gIHZhciBpMiA9IDAsIGoyLCBrMiwgcDIsIHEyLCBtYXRjaGVzLCBtYXRjaDtcbiAgd2hpbGUgKGkyIDwgYXJyYXlzLmxlbmd0aCAmJiAhbWF0Y2hlcykge1xuICAgIHZhciByZWdleCA9IGFycmF5c1tpMl0sIHByb3BzID0gYXJyYXlzW2kyICsgMV07XG4gICAgajIgPSBrMiA9IDA7XG4gICAgd2hpbGUgKGoyIDwgcmVnZXgubGVuZ3RoICYmICFtYXRjaGVzKSB7XG4gICAgICBpZiAoIXJlZ2V4W2oyXSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG1hdGNoZXMgPSByZWdleFtqMisrXS5leGVjKHVhKTtcbiAgICAgIGlmICghIW1hdGNoZXMpIHtcbiAgICAgICAgZm9yIChwMiA9IDA7IHAyIDwgcHJvcHMubGVuZ3RoOyBwMisrKSB7XG4gICAgICAgICAgbWF0Y2ggPSBtYXRjaGVzWysrazJdO1xuICAgICAgICAgIHEyID0gcHJvcHNbcDJdO1xuICAgICAgICAgIGlmICh0eXBlb2YgcTIgPT09IE9CSl9UWVBFICYmIHEyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChxMi5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBxMlsxXSA9PSBGVU5DX1RZUEUpIHtcbiAgICAgICAgICAgICAgICB0aGlzW3EyWzBdXSA9IHEyWzFdLmNhbGwodGhpcywgbWF0Y2gpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXNbcTJbMF1dID0gcTJbMV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocTIubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgcTJbMV0gPT09IEZVTkNfVFlQRSAmJiAhKHEyWzFdLmV4ZWMgJiYgcTJbMV0udGVzdCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzW3EyWzBdXSA9IG1hdGNoID8gcTJbMV0uY2FsbCh0aGlzLCBtYXRjaCwgcTJbMl0pIDogdm9pZCAwO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXNbcTJbMF1dID0gbWF0Y2ggPyBtYXRjaC5yZXBsYWNlKHEyWzFdLCBxMlsyXSkgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocTIubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgIHRoaXNbcTJbMF1dID0gbWF0Y2ggPyBxMlszXS5jYWxsKHRoaXMsIG1hdGNoLnJlcGxhY2UocTJbMV0sIHEyWzJdKSkgOiB2b2lkIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXNbcTJdID0gbWF0Y2ggPyBtYXRjaCA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaTIgKz0gMjtcbiAgfVxufSwgc3RyTWFwcGVyID0gZnVuY3Rpb24oc3RyLCBtYXApIHtcbiAgZm9yICh2YXIgaTIgaW4gbWFwKSB7XG4gICAgaWYgKHR5cGVvZiBtYXBbaTJdID09PSBPQkpfVFlQRSAmJiBtYXBbaTJdLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAodmFyIGoyID0gMDsgajIgPCBtYXBbaTJdLmxlbmd0aDsgajIrKykge1xuICAgICAgICBpZiAoaGFzKG1hcFtpMl1bajJdLCBzdHIpKSB7XG4gICAgICAgICAgcmV0dXJuIGkyID09PSBVTktOT1dOID8gdm9pZCAwIDogaTI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGhhcyhtYXBbaTJdLCBzdHIpKSB7XG4gICAgICByZXR1cm4gaTIgPT09IFVOS05PV04gPyB2b2lkIDAgOiBpMjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1hcC5oYXNPd25Qcm9wZXJ0eShcIipcIikgPyBtYXBbXCIqXCJdIDogc3RyO1xufTtcbnZhciB3aW5kb3dzVmVyc2lvbk1hcCA9IHtcbiAgXCJNRVwiOiBcIjQuOTBcIixcbiAgXCJOVCAzLjExXCI6IFwiTlQzLjUxXCIsXG4gIFwiTlQgNC4wXCI6IFwiTlQ0LjBcIixcbiAgXCIyMDAwXCI6IFwiTlQgNS4wXCIsXG4gIFwiWFBcIjogW1wiTlQgNS4xXCIsIFwiTlQgNS4yXCJdLFxuICBcIlZpc3RhXCI6IFwiTlQgNi4wXCIsXG4gIFwiN1wiOiBcIk5UIDYuMVwiLFxuICBcIjhcIjogXCJOVCA2LjJcIixcbiAgXCI4LjFcIjogXCJOVCA2LjNcIixcbiAgXCIxMFwiOiBbXCJOVCA2LjRcIiwgXCJOVCAxMC4wXCJdLFxuICBcIlJUXCI6IFwiQVJNXCJcbn0sIGZvcm1GYWN0b3JzTWFwID0ge1xuICBcImVtYmVkZGVkXCI6IFwiQXV0b21vdGl2ZVwiLFxuICBcIm1vYmlsZVwiOiBcIk1vYmlsZVwiLFxuICBcInRhYmxldFwiOiBbXCJUYWJsZXRcIiwgXCJFSW5rXCJdLFxuICBcInNtYXJ0dHZcIjogXCJUVlwiLFxuICBcIndlYXJhYmxlXCI6IFwiV2F0Y2hcIixcbiAgXCJ4clwiOiBbXCJWUlwiLCBcIlhSXCJdLFxuICBcIj9cIjogW1wiRGVza3RvcFwiLCBcIlVua25vd25cIl0sXG4gIFwiKlwiOiB2b2lkIDBcbn07XG52YXIgZGVmYXVsdFJlZ2V4ZXMgPSB7XG4gIGJyb3dzZXI6IFtcbiAgICBbXG4gICAgICAvLyBNb3N0IGNvbW1vbiByZWdhcmRsZXNzIGVuZ2luZVxuICAgICAgL1xcYig/OmNybW98Y3Jpb3MpXFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gQ2hyb21lIGZvciBBbmRyb2lkL2lPU1xuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBQUkVGSVhfTU9CSUxFICsgXCJDaHJvbWVcIl1dLFxuICAgIFtcbiAgICAgIC9lZGcoPzplfGlvc3xhKT9cXC8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBNaWNyb3NvZnQgRWRnZVxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBcIkVkZ2VcIl1dLFxuICAgIFtcbiAgICAgIC8vIFByZXN0byBiYXNlZFxuICAgICAgLyhvcGVyYSBtaW5pKVxcLyhbLVxcd1xcLl0rKS9pLFxuICAgICAgLy8gT3BlcmEgTWluaVxuICAgICAgLyhvcGVyYSBbbW9iaWxldGFiXXszLDZ9KVxcYi4rdmVyc2lvblxcLyhbLVxcd1xcLl0rKS9pLFxuICAgICAgLy8gT3BlcmEgTW9iaS9UYWJsZXRcbiAgICAgIC8ob3BlcmEpKD86Lit2ZXJzaW9uXFwvfFtcXC8gXSspKFtcXHdcXC5dKykvaVxuICAgICAgLy8gT3BlcmFcbiAgICBdLFxuICAgIFtOQU1FLCBWRVJTSU9OXSxcbiAgICBbXG4gICAgICAvb3Bpb3NbXFwvIF0rKFtcXHdcXC5dKykvaVxuICAgICAgLy8gT3BlcmEgbWluaSBvbiBpcGhvbmUgPj0gOC4wXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIE9QRVJBICsgXCIgTWluaVwiXV0sXG4gICAgW1xuICAgICAgL1xcYm9wKD86cmcpP3hcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBPcGVyYSBHWFxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBPUEVSQSArIFwiIEdYXCJdXSxcbiAgICBbXG4gICAgICAvXFxib3ByXFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gT3BlcmEgV2Via2l0XG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIE9QRVJBXV0sXG4gICAgW1xuICAgICAgLy8gTWl4ZWRcbiAgICAgIC9cXGJiW2FpXSpkKD86dWhkfFt1Yl0qW2Fla29wcnN3eF17NSw2fSlbXFwvIF0/KFtcXHdcXC5dKykvaVxuICAgICAgLy8gQmFpZHVcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJCYWlkdVwiXV0sXG4gICAgW1xuICAgICAgL1xcYig/Om14YnJvd3NlcnxteGlvc3xteWllMilcXC8/KFstXFx3XFwuXSopXFxiL2lcbiAgICAgIC8vIE1heHRob25cbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJNYXh0aG9uXCJdXSxcbiAgICBbXG4gICAgICAvKGtpbmRsZSlcXC8oW1xcd1xcLl0rKS9pLFxuICAgICAgLy8gS2luZGxlXG4gICAgICAvKGx1bmFzY2FwZXxtYXh0aG9ufG5ldGZyb250fGphc21pbmV8YmxhemVyfHNsZWlwbmlyKVtcXC8gXT8oW1xcd1xcLl0qKS9pLFxuICAgICAgLy8gTHVuYXNjYXBlL01heHRob24vTmV0ZnJvbnQvSmFzbWluZS9CbGF6ZXIvU2xlaXBuaXJcbiAgICAgIC8vIFRyaWRlbnQgYmFzZWRcbiAgICAgIC8oYXZhbnR8aWVtb2JpbGV8c2xpbSg/OmJyb3dzZXJ8Ym9hdHxqZXQpKVtcXC8gXT8oW1xcZFxcLl0qKS9pLFxuICAgICAgLy8gQXZhbnQvSUVNb2JpbGUvU2xpbUJyb3dzZXIvU2xpbUJvYXQvU2xpbWpldFxuICAgICAgLyg/Om1zfFxcKCkoaWUpIChbXFx3XFwuXSspL2ksXG4gICAgICAvLyBJbnRlcm5ldCBFeHBsb3JlclxuICAgICAgLy8gQmxpbmsvV2Via2l0L0tIVE1MIGJhc2VkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGbG9jay9Sb2NrTWVsdC9NaWRvcmkvRXBpcGhhbnkvU2lsay9Ta3lmaXJlL0JvbHQvSXJvbi9JcmlkaXVtL1BoYW50b21KUy9Cb3dzZXIvUXVwWmlsbGEvRmFsa29uL0xHIEJyb3dzZXIvT3R0ZXIvcXV0ZWJyb3dzZXIvRG9vYmxlXG4gICAgICAvKGZsb2NrfHJvY2ttZWx0fG1pZG9yaXxlcGlwaGFueXxzaWxrfHNreWZpcmV8b3ZpYnJvd3Nlcnxib2x0fGlyb258dml2YWxkaXxpcmlkaXVtfHBoYW50b21qc3xib3dzZXJ8cXVwemlsbGF8ZmFsa29ufHJla29ucXxwdWZmaW58YnJhdmV8d2hhbGUoPyEuK25hdmVyKXxxcWJyb3dzZXJsaXRlfGR1Y2tkdWNrZ298a2xhcnxoZWxpb3woPz1jb21vZG9fKT9kcmFnb258b3R0ZXJ8ZG9vYmxlfCg/OmxnIHxxdXRlKWJyb3dzZXIpXFwvKFstXFx3XFwuXSspL2ksXG4gICAgICAvLyBSZWtvbnEvUHVmZmluL0JyYXZlL1doYWxlL1FRQnJvd3NlckxpdGUvUVEvL1ZpdmFsZGkvRHVja0R1Y2tHby9LbGFyL0hlbGlvL0RyYWdvblxuICAgICAgLyhoZXl0YXB8b3ZpfDExNXxzdXJmKWJyb3dzZXJcXC8oW1xcZFxcLl0rKS9pLFxuICAgICAgLy8gSGV5VGFwL092aS8xMTUvU3VyZlxuICAgICAgLyhlY29zaWF8d2VpYm8pKD86X198IFxcdytAKShbXFxkXFwuXSspL2lcbiAgICAgIC8vIEVjb3NpYS9XZWlib1xuICAgIF0sXG4gICAgW05BTUUsIFZFUlNJT05dLFxuICAgIFtcbiAgICAgIC9xdWFyayg/OnBjKT9cXC8oWy1cXHdcXC5dKykvaVxuICAgICAgLy8gUXVhcmtcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJRdWFya1wiXV0sXG4gICAgW1xuICAgICAgL1xcYmRkZ1xcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIER1Y2tEdWNrR29cbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJEdWNrRHVja0dvXCJdXSxcbiAgICBbXG4gICAgICAvKD86XFxidWM/ID9icm93c2VyfCg/Omp1Yy4rKXVjd2ViKVtcXC8gXT8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBVQ0Jyb3dzZXJcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJVQ0Jyb3dzZXJcIl1dLFxuICAgIFtcbiAgICAgIC9taWNyb20uK1xcYnFiY29yZVxcLyhbXFx3XFwuXSspL2ksXG4gICAgICAvLyBXZUNoYXQgRGVza3RvcCBmb3IgV2luZG93cyBCdWlsdC1pbiBCcm93c2VyXG4gICAgICAvXFxicWJjb3JlXFwvKFtcXHdcXC5dKykuK21pY3JvbS9pLFxuICAgICAgL21pY3JvbWVzc2VuZ2VyXFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gV2VDaGF0XG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFwiV2VDaGF0XCJdXSxcbiAgICBbXG4gICAgICAva29ucXVlcm9yXFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gS29ucXVlcm9yXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFwiS29ucXVlcm9yXCJdXSxcbiAgICBbXG4gICAgICAvdHJpZGVudC4rcnZbOiBdKFtcXHdcXC5dezEsOX0pXFxiLitsaWtlIGdlY2tvL2lcbiAgICAgIC8vIElFMTFcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJJRVwiXV0sXG4gICAgW1xuICAgICAgL3lhKD86c2VhcmNoKT9icm93c2VyXFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gWWFuZGV4XG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFwiWWFuZGV4XCJdXSxcbiAgICBbXG4gICAgICAvc2xicm93c2VyXFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gU21hcnQgTGVub3ZvIEJyb3dzZXJcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJTbWFydCBcIiArIExFTk9WTyArIFNVRkZJWF9CUk9XU0VSXV0sXG4gICAgW1xuICAgICAgLyhhdmFzdHxhdmcpXFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gQXZhc3QvQVZHIFNlY3VyZSBCcm93c2VyXG4gICAgXSxcbiAgICBbW05BTUUsIC8oLispLywgXCIkMSBTZWN1cmVcIiArIFNVRkZJWF9CUk9XU0VSXSwgVkVSU0lPTl0sXG4gICAgW1xuICAgICAgL1xcYmZvY3VzXFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gRmlyZWZveCBGb2N1c1xuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBGSVJFRk9YICsgXCIgRm9jdXNcIl1dLFxuICAgIFtcbiAgICAgIC9cXGJvcHRcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBPcGVyYSBUb3VjaFxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBPUEVSQSArIFwiIFRvdWNoXCJdXSxcbiAgICBbXG4gICAgICAvY29jX2NvY1xcdytcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBDb2MgQ29jIEJyb3dzZXJcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJDb2MgQ29jXCJdXSxcbiAgICBbXG4gICAgICAvZG9sZmluXFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gRG9scGhpblxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBcIkRvbHBoaW5cIl1dLFxuICAgIFtcbiAgICAgIC9jb2FzdFxcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIE9wZXJhIENvYXN0XG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIE9QRVJBICsgXCIgQ29hc3RcIl1dLFxuICAgIFtcbiAgICAgIC9taXVpYnJvd3NlclxcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIE1JVUkgQnJvd3NlclxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBcIk1JVUlcIiArIFNVRkZJWF9CUk9XU0VSXV0sXG4gICAgW1xuICAgICAgL2Z4aW9zXFwvKFtcXHdcXC4tXSspL2lcbiAgICAgIC8vIEZpcmVmb3ggZm9yIGlPU1xuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBQUkVGSVhfTU9CSUxFICsgRklSRUZPWF1dLFxuICAgIFtcbiAgICAgIC9cXGJxaWhvb2Jyb3dzZXJcXC8/KFtcXHdcXC5dKikvaVxuICAgICAgLy8gMzYwXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFwiMzYwXCJdXSxcbiAgICBbXG4gICAgICAvXFxiKHFxKVxcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIFFRXG4gICAgXSxcbiAgICBbW05BTUUsIC8oLispLywgXCIkMUJyb3dzZXJcIl0sIFZFUlNJT05dLFxuICAgIFtcbiAgICAgIC8ob2N1bHVzfHNhaWxmaXNofGh1YXdlaXx2aXZvfHBpY28pYnJvd3NlclxcLyhbXFx3XFwuXSspL2lcbiAgICBdLFxuICAgIFtbTkFNRSwgLyguKykvLCBcIiQxXCIgKyBTVUZGSVhfQlJPV1NFUl0sIFZFUlNJT05dLFxuICAgIFtcbiAgICAgIC8vIE9jdWx1cy9TYWlsZmlzaC9IdWF3ZWlCcm93c2VyL1Zpdm9Ccm93c2VyL1BpY29Ccm93c2VyXG4gICAgICAvc2Ftc3VuZ2Jyb3dzZXJcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBTYW1zdW5nIEludGVybmV0XG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFNBTVNVTkcgKyBcIiBJbnRlcm5ldFwiXV0sXG4gICAgW1xuICAgICAgL21ldGFzcltcXC8gXT8oW1xcZFxcLl0rKS9pXG4gICAgICAvLyBTb2dvdSBFeHBsb3JlclxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBTT0dPVSArIFwiIEV4cGxvcmVyXCJdXSxcbiAgICBbXG4gICAgICAvKHNvZ291KW1vXFx3K1xcLyhbXFxkXFwuXSspL2lcbiAgICAgIC8vIFNvZ291IE1vYmlsZVxuICAgIF0sXG4gICAgW1tOQU1FLCBTT0dPVSArIFwiIE1vYmlsZVwiXSwgVkVSU0lPTl0sXG4gICAgW1xuICAgICAgLyhlbGVjdHJvbilcXC8oW1xcd1xcLl0rKSBzYWZhcmkvaSxcbiAgICAgIC8vIEVsZWN0cm9uLWJhc2VkIEFwcFxuICAgICAgLyh0ZXNsYSkoPzogcXRjYXJicm93c2VyfFxcLygyMFxcZFxcZFxcLlstXFx3XFwuXSspKS9pLFxuICAgICAgLy8gVGVzbGFcbiAgICAgIC9tPyhxcWJyb3dzZXJ8MjM0NSg/PWJyb3dzZXJ8Y2hyb21lfGV4cGxvcmVyKSlcXHcqW1xcLyBdP3Y/KFtcXHdcXC5dKykvaVxuICAgICAgLy8gUVEvMjM0NVxuICAgIF0sXG4gICAgW05BTUUsIFZFUlNJT05dLFxuICAgIFtcbiAgICAgIC8obGJicm93c2VyfHJla29ucSkvaVxuICAgICAgLy8gTGllQmFvIEJyb3dzZXIvUmVrb25xXG4gICAgXSxcbiAgICBbTkFNRV0sXG4gICAgW1xuICAgICAgL29tZVxcLyhbXFx3XFwuXSspIFxcdyogPyhpcm9uKSBzYWYvaSxcbiAgICAgIC8vIElyb25cbiAgICAgIC9vbWVcXC8oW1xcd1xcLl0rKS4rcWlodSAoMzYwKVtlc11lL2lcbiAgICAgIC8vIDM2MFxuICAgIF0sXG4gICAgW1ZFUlNJT04sIE5BTUVdLFxuICAgIFtcbiAgICAgIC8vIFdlYlZpZXdcbiAgICAgIC8oKD86ZmJhblxcL2ZiaW9zfGZiX2lhYlxcL2ZiNGEpKD8hLitmYmF2KXw7ZmJhdlxcLyhbXFx3XFwuXSspOykvaVxuICAgICAgLy8gRmFjZWJvb2sgQXBwIGZvciBpT1MgJiBBbmRyb2lkXG4gICAgXSxcbiAgICBbW05BTUUsIEZBQ0VCT09LXSwgVkVSU0lPTiwgW1RZUEUsIElOQVBQXV0sXG4gICAgW1xuICAgICAgLyhLbGFybmEpXFwvKFtcXHdcXC5dKykvaSxcbiAgICAgIC8vIEtsYXJuYSBTaG9wcGluZyBCcm93c2VyIGZvciBpT1MgJiBBbmRyb2lkXG4gICAgICAvKGtha2FvKD86dGFsa3xzdG9yeSkpW1xcLyBdKFtcXHdcXC5dKykvaSxcbiAgICAgIC8vIEtha2FvIEFwcFxuICAgICAgLyhuYXZlcilcXCguKj8oXFxkK1xcLltcXHdcXC5dKykuKlxcKS9pLFxuICAgICAgLy8gTmF2ZXIgSW5BcHBcbiAgICAgIC8oZGF1bSlhcHBzW1xcLyBdKFtcXHdcXC5dKykvaSxcbiAgICAgIC8vIERhdW0gQXBwXG4gICAgICAvc2FmYXJpIChsaW5lKVxcLyhbXFx3XFwuXSspL2ksXG4gICAgICAvLyBMaW5lIEFwcCBmb3IgaU9TXG4gICAgICAvXFxiKGxpbmUpXFwvKFtcXHdcXC5dKylcXC9pYWIvaSxcbiAgICAgIC8vIExpbmUgQXBwIGZvciBBbmRyb2lkXG4gICAgICAvKGFsaXBheSljbGllbnRcXC8oW1xcd1xcLl0rKS9pLFxuICAgICAgLy8gQWxpcGF5XG4gICAgICAvKHR3aXR0ZXIpKD86YW5kfCBmLitlXFwvKFtcXHdcXC5dKykpL2ksXG4gICAgICAvLyBUd2l0dGVyXG4gICAgICAvKGluc3RhZ3JhbXxzbmFwY2hhdClbXFwvIF0oWy1cXHdcXC5dKykvaVxuICAgICAgLy8gSW5zdGFncmFtL1NuYXBjaGF0XG4gICAgXSxcbiAgICBbTkFNRSwgVkVSU0lPTiwgW1RZUEUsIElOQVBQXV0sXG4gICAgW1xuICAgICAgL1xcYmdzYVxcLyhbXFx3XFwuXSspIC4qc2FmYXJpXFwvL2lcbiAgICAgIC8vIEdvb2dsZSBTZWFyY2ggQXBwbGlhbmNlIG9uIGlPU1xuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBcIkdTQVwiXSwgW1RZUEUsIElOQVBQXV0sXG4gICAgW1xuICAgICAgL211c2ljYWxfbHkoPzouK2FwcF8/dmVyc2lvblxcL3xfKShbXFx3XFwuXSspL2lcbiAgICAgIC8vIFRpa1Rva1xuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBcIlRpa1Rva1wiXSwgW1RZUEUsIElOQVBQXV0sXG4gICAgW1xuICAgICAgL1xcWyhsaW5rZWRpbilhcHBcXF0vaVxuICAgICAgLy8gTGlua2VkSW4gQXBwIGZvciBpT1MgJiBBbmRyb2lkXG4gICAgXSxcbiAgICBbTkFNRSwgW1RZUEUsIElOQVBQXV0sXG4gICAgW1xuICAgICAgLyhjaHJvbWl1bSlbXFwvIF0oWy1cXHdcXC5dKykvaVxuICAgICAgLy8gQ2hyb21pdW1cbiAgICBdLFxuICAgIFtOQU1FLCBWRVJTSU9OXSxcbiAgICBbXG4gICAgICAvaGVhZGxlc3NjaHJvbWUoPzpcXC8oW1xcd1xcLl0rKXwgKS9pXG4gICAgICAvLyBDaHJvbWUgSGVhZGxlc3NcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgQ0hST01FICsgXCIgSGVhZGxlc3NcIl1dLFxuICAgIFtcbiAgICAgIC8gd3ZcXCkuKyhjaHJvbWUpXFwvKFtcXHdcXC5dKykvaVxuICAgICAgLy8gQ2hyb21lIFdlYlZpZXdcbiAgICBdLFxuICAgIFtbTkFNRSwgQ0hST01FICsgXCIgV2ViVmlld1wiXSwgVkVSU0lPTl0sXG4gICAgW1xuICAgICAgL2Ryb2lkLisgdmVyc2lvblxcLyhbXFx3XFwuXSspXFxiLisoPzptb2JpbGUgc2FmYXJpfHNhZmFyaSkvaVxuICAgICAgLy8gQW5kcm9pZCBCcm93c2VyXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFwiQW5kcm9pZFwiICsgU1VGRklYX0JST1dTRVJdXSxcbiAgICBbXG4gICAgICAvY2hyb21lXFwvKFtcXHdcXC5dKykgbW9iaWxlL2lcbiAgICAgIC8vIENocm9tZSBNb2JpbGVcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgUFJFRklYX01PQklMRSArIFwiQ2hyb21lXCJdXSxcbiAgICBbXG4gICAgICAvKGNocm9tZXxvbW5pd2VifGFyb3JhfFt0aXplbm9rYV17NX0gP2Jyb3dzZXIpXFwvdj8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBDaHJvbWUvT21uaVdlYi9Bcm9yYS9UaXplbi9Ob2tpYVxuICAgIF0sXG4gICAgW05BTUUsIFZFUlNJT05dLFxuICAgIFtcbiAgICAgIC92ZXJzaW9uXFwvKFtcXHdcXC5cXCxdKykgLiptb2JpbGUoPzpcXC9cXHcrIHwgPylzYWZhcmkvaVxuICAgICAgLy8gU2FmYXJpIE1vYmlsZVxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBQUkVGSVhfTU9CSUxFICsgXCJTYWZhcmlcIl1dLFxuICAgIFtcbiAgICAgIC9pcGhvbmUgLiptb2JpbGUoPzpcXC9cXHcrIHwgPylzYWZhcmkvaVxuICAgIF0sXG4gICAgW1tOQU1FLCBQUkVGSVhfTU9CSUxFICsgXCJTYWZhcmlcIl1dLFxuICAgIFtcbiAgICAgIC92ZXJzaW9uXFwvKFtcXHdcXC5cXCxdKykgLiooc2FmYXJpKS9pXG4gICAgICAvLyBTYWZhcmlcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBOQU1FXSxcbiAgICBbXG4gICAgICAvd2Via2l0Lis/KG1vYmlsZSA/c2FmYXJpfHNhZmFyaSkoXFwvW1xcd1xcLl0rKS9pXG4gICAgICAvLyBTYWZhcmkgPCAzLjBcbiAgICBdLFxuICAgIFtOQU1FLCBbVkVSU0lPTiwgXCIxXCJdXSxcbiAgICBbXG4gICAgICAvKHdlYmtpdHxraHRtbClcXC8oW1xcd1xcLl0rKS9pXG4gICAgXSxcbiAgICBbTkFNRSwgVkVSU0lPTl0sXG4gICAgW1xuICAgICAgLy8gR2Vja28gYmFzZWRcbiAgICAgIC8oPzptb2JpbGV8dGFibGV0KTsuKihmaXJlZm94KVxcLyhbXFx3XFwuLV0rKS9pXG4gICAgICAvLyBGaXJlZm94IE1vYmlsZVxuICAgIF0sXG4gICAgW1tOQU1FLCBQUkVGSVhfTU9CSUxFICsgRklSRUZPWF0sIFZFUlNJT05dLFxuICAgIFtcbiAgICAgIC8obmF2aWdhdG9yfG5ldHNjYXBlXFxkPylcXC8oWy1cXHdcXC5dKykvaVxuICAgICAgLy8gTmV0c2NhcGVcbiAgICBdLFxuICAgIFtbTkFNRSwgXCJOZXRzY2FwZVwiXSwgVkVSU0lPTl0sXG4gICAgW1xuICAgICAgLyh3b2x2aWN8bGlicmV3b2xmKVxcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIFdvbHZpYy9MaWJyZVdvbGZcbiAgICBdLFxuICAgIFtOQU1FLCBWRVJTSU9OXSxcbiAgICBbXG4gICAgICAvbW9iaWxlIHZyOyBydjooW1xcd1xcLl0rKVxcKS4rZmlyZWZveC9pXG4gICAgICAvLyBGaXJlZm94IFJlYWxpdHlcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgRklSRUZPWCArIFwiIFJlYWxpdHlcIl1dLFxuICAgIFtcbiAgICAgIC9la2lvaGYuKyhmbG93KVxcLyhbXFx3XFwuXSspL2ksXG4gICAgICAvLyBGbG93XG4gICAgICAvKHN3aWZ0Zm94KS9pLFxuICAgICAgLy8gU3dpZnRmb3hcbiAgICAgIC8oaWNlZHJhZ29ufGljZXdlYXNlbHxjYW1pbm98Y2hpbWVyYXxmZW5uZWN8bWFlbW8gYnJvd3NlcnxtaW5pbW98Y29ua2Vyb3IpW1xcLyBdPyhbXFx3XFwuXFwrXSspL2ksXG4gICAgICAvLyBJY2VEcmFnb24vSWNld2Vhc2VsL0NhbWluby9DaGltZXJhL0Zlbm5lYy9NYWVtby9NaW5pbW8vQ29ua2Vyb3JcbiAgICAgIC8oc2VhbW9ua2V5fGstbWVsZW9ufGljZWNhdHxpY2VhcGV8ZmlyZWJpcmR8cGhvZW5peHxwYWxlbW9vbnxiYXNpbGlza3x3YXRlcmZveClcXC8oWy1cXHdcXC5dKykkL2ksXG4gICAgICAvLyBGaXJlZm94L1NlYU1vbmtleS9LLU1lbGVvbi9JY2VDYXQvSWNlQXBlL0ZpcmViaXJkL1Bob2VuaXhcbiAgICAgIC8oZmlyZWZveClcXC8oW1xcd1xcLl0rKS9pLFxuICAgICAgLy8gT3RoZXIgRmlyZWZveC1iYXNlZFxuICAgICAgLyhtb3ppbGxhKVxcLyhbXFx3XFwuXSspIC4rcnZcXDouK2dlY2tvXFwvXFxkKy9pLFxuICAgICAgLy8gTW96aWxsYVxuICAgICAgLy8gT3RoZXJcbiAgICAgIC8oYW1heWF8ZGlsbG98ZG9yaXN8aWNhYnxsYWR5YmlyZHxseW54fG1vc2FpY3xuZXRzdXJmfG9iaWdvfHBvbGFyaXN8dzNtfCg/OmdvfGljZXx1cClbXFwuIF0/YnJvd3NlcilbLVxcLyBdP3Y/KFtcXHdcXC5dKykvaSxcbiAgICAgIC8vIFBvbGFyaXMvTHlueC9EaWxsby9pQ2FiL0RvcmlzL0FtYXlhL3czbS9OZXRTdXJmL09iaWdvL01vc2FpYy9Hby9JQ0UvVVAuQnJvd3Nlci9MYWR5YmlyZFxuICAgICAgL1xcYihsaW5rcykgXFwoKFtcXHdcXC5dKykvaVxuICAgICAgLy8gTGlua3NcbiAgICBdLFxuICAgIFtOQU1FLCBbVkVSU0lPTiwgL18vZywgXCIuXCJdXSxcbiAgICBbXG4gICAgICAvKGNvYmFsdClcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBDb2JhbHRcbiAgICBdLFxuICAgIFtOQU1FLCBbVkVSU0lPTiwgL1teXFxkXFwuXSsuLywgRU1QVFldXVxuICBdLFxuICBjcHU6IFtcbiAgICBbXG4gICAgICAvXFxiKChhbWR8eHx4ODZbLV9dP3x3b3d8d2luKTY0KVxcYi9pXG4gICAgICAvLyBBTUQ2NCAoeDY0KVxuICAgIF0sXG4gICAgW1tBUkNISVRFQ1RVUkUsIFwiYW1kNjRcIl1dLFxuICAgIFtcbiAgICAgIC8oaWEzMig/PTspKS9pLFxuICAgICAgLy8gSUEzMiAocXVpY2t0aW1lKVxuICAgICAgL1xcYigoaVszNDZdfHgpODYpKHBjKT9cXGIvaVxuICAgICAgLy8gSUEzMiAoeDg2KVxuICAgIF0sXG4gICAgW1tBUkNISVRFQ1RVUkUsIFwiaWEzMlwiXV0sXG4gICAgW1xuICAgICAgL1xcYihhYXJjaDY0fGFybSh2P1s4OV1lP2w/fF8/NjQpKVxcYi9pXG4gICAgICAvLyBBUk02NFxuICAgIF0sXG4gICAgW1tBUkNISVRFQ1RVUkUsIFwiYXJtNjRcIl1dLFxuICAgIFtcbiAgICAgIC9cXGIoYXJtKHZbNjddKT9odD9uP1tmbF1wPylcXGIvaVxuICAgICAgLy8gQVJNSEZcbiAgICBdLFxuICAgIFtbQVJDSElURUNUVVJFLCBcImFybWhmXCJdXSxcbiAgICBbXG4gICAgICAvLyBQb2NrZXRQQyBtaXN0YWtlbmx5IGlkZW50aWZpZWQgYXMgUG93ZXJQQ1xuICAgICAgLyggKGNlfG1vYmlsZSk7IHBwYzt8XFwvW1xcd1xcLl0rYXJtXFxiKS9pXG4gICAgXSxcbiAgICBbW0FSQ0hJVEVDVFVSRSwgXCJhcm1cIl1dLFxuICAgIFtcbiAgICAgIC8oKHBwY3xwb3dlcnBjKSg2NCk/KSggbWFjfDt8XFwpKS9pXG4gICAgICAvLyBQb3dlclBDXG4gICAgXSxcbiAgICBbW0FSQ0hJVEVDVFVSRSwgL293ZXIvLCBFTVBUWSwgbG93ZXJpemVdXSxcbiAgICBbXG4gICAgICAvIHN1bjRcXHdbO1xcKV0vaVxuICAgICAgLy8gU1BBUkNcbiAgICBdLFxuICAgIFtbQVJDSElURUNUVVJFLCBcInNwYXJjXCJdXSxcbiAgICBbXG4gICAgICAvXFxiKGF2cjMyfGlhNjQoPz07KXw2OGsoPz1cXCkpfFxcYmFybSg/PXYoWzEtN118WzUtN10xKWw/fDt8ZWFiaSl8KGlyaXh8bWlwc3xzcGFyYykoNjQpP1xcYnxwYS1yaXNjKS9pXG4gICAgICAvLyBJQTY0LCA2OEssIEFSTS82NCwgQVZSLzMyLCBJUklYLzY0LCBNSVBTLzY0LCBTUEFSQy82NCwgUEEtUklTQ1xuICAgIF0sXG4gICAgW1tBUkNISVRFQ1RVUkUsIGxvd2VyaXplXV1cbiAgXSxcbiAgZGV2aWNlOiBbXG4gICAgW1xuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgIC8vIE1PQklMRVMgJiBUQUJMRVRTXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAvLyBTYW1zdW5nXG4gICAgICAvXFxiKHNjaC1pWzg5XTBcXGR8c2h3LW0zODBzfHNtLVtwdHhdXFx3ezIsNH18Z3QtW3BuXVxcZHsyLDR9fHNnaC10OFs1Nl05fG5leHVzIDEwKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFNBTVNVTkddLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgL1xcYigoPzpzW2NncF1ofGd0fHNtKS0oPyFbbHJdKVxcdyt8c2NbZy1dP1tcXGRdK2E/fGdhbGF4eSBuZXh1cykvaSxcbiAgICAgIC9zYW1zdW5nWy0gXSgoPyFzbS1bbHJdKVstXFx3XSspL2ksXG4gICAgICAvc2VjLShzZ2hcXHcrKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFNBTVNVTkddLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8gQXBwbGVcbiAgICAgIC8oPzpcXC98XFwoKShpcCg/OmhvbmV8b2QpW1xcdywgXSopKD86XFwvfDspL2lcbiAgICAgIC8vIGlQb2QvaVBob25lXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIEFQUExFXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC9cXCgoaXBhZCk7Wy1cXHdcXCksOyBdK2FwcGxlL2ksXG4gICAgICAvLyBpUGFkXG4gICAgICAvYXBwbGVjb3JlbWVkaWFcXC9bXFx3XFwuXSsgXFwoKGlwYWQpL2ksXG4gICAgICAvXFxiKGlwYWQpXFxkXFxkPyxcXGRcXGQ/WztcXF1dLitpb3MvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBBUFBMRV0sIFtUWVBFLCBUQUJMRVRdXSxcbiAgICBbXG4gICAgICAvKG1hY2ludG9zaCk7L2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgQVBQTEVdXSxcbiAgICBbXG4gICAgICAvLyBTaGFycFxuICAgICAgL1xcYihzaC0/W2FsdHZ6XT9cXGRcXGRbYS1la21dPykvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBTSEFSUF0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICBbXG4gICAgICAvLyBIb25vclxuICAgICAgL1xcYigoPzpicnR8ZWxufGhleTI/fGdkaXxqZG4pLWE/W2xud10wOXwoPzphZ1tybV0zP3xqZG4yfGtvYjIpLWE/W2x3XTBbMDldaG4pKD86IGJ1aXxcXCl8OykvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBIT05PUl0sIFtUWVBFLCBUQUJMRVRdXSxcbiAgICBbXG4gICAgICAvaG9ub3IoWy1cXHcgXSspWztcXCldL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgSE9OT1JdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8gSHVhd2VpXG4gICAgICAvXFxiKCg/OmFnW3JzXVsyMzU2XT9rP3xiYWhbMjM0XT98YmdbMm9dfGJ0W2t2XXxjbXJ8Y3BufGRiW3J5XTI/fGpkbjJ8Z290fGtvYjI/az98bW9ufHBjZXxzY218c2h0P3xbdHddZ3J8dnJkKS1bYWRdP1tsd11bMDEyNV1bMDldYj98NjA1aHd8YmcyLXUwM3woPzpnZW18ZmRyfG0yfHBsZXx0MSktWzdhXTBbMS00XVtsdV18dDEtYTJbMTNdW2x3XXxtZWRpYXBhZFtcXHdcXC4gXSooPz0gYnVpfFxcKSkpXFxiKD8hLitkXFwvcykvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBIVUFXRUldLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgLyg/Omh1YXdlaSkoWy1cXHcgXSspWztcXCldL2ksXG4gICAgICAvXFxiKG5leHVzIDZwfFxcd3syLDR9ZT8tW2F0dV0/W2xuXVtcXGR4XVswMTIzNTljXVthZG5dPylcXGIoPyEuK2RcXC9zKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIEhVQVdFSV0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICBbXG4gICAgICAvLyBYaWFvbWlcbiAgICAgIC9vaWRbXlxcKV0rOyAoMltcXGRiY117NH0oMTgyfDI4M3xycFxcd3syfSlbY2dsXXxtMjEwNWs4MWE/YykoPzogYnVpfFxcKSkvaSxcbiAgICAgIC9cXGIoKD86cmVkKT9taVstXyBdP3BhZFtcXHctIF0qKSg/OiBidWl8XFwpKS9pXG4gICAgICAvLyBNaSBQYWQgdGFibGV0c1xuICAgIF0sXG4gICAgW1tNT0RFTCwgL18vZywgXCIgXCJdLCBbVkVORE9SLCBYSUFPTUldLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgL1xcYihwb2NvW1xcdyBdK3xtMlxcZHszfWpcXGRcXGRbYS16XXsyfSkoPzogYnVpfFxcKSkvaSxcbiAgICAgIC8vIFhpYW9taSBQT0NPXG4gICAgICAvXFxiOyAoXFx3KykgYnVpbGRcXC9obVxcMS9pLFxuICAgICAgLy8gWGlhb21pIEhvbmdtaSAnbnVtZXJpYycgbW9kZWxzXG4gICAgICAvXFxiKGhtWy1fIF0/bm90ZT9bXyBdPyg/OlxcZFxcdyk/KSBidWkvaSxcbiAgICAgIC8vIFhpYW9taSBIb25nbWlcbiAgICAgIC9cXGIocmVkbWlbXFwtXyBdPyg/Om5vdGV8ayk/W1xcd18gXSspKD86IGJ1aXxcXCkpL2ksXG4gICAgICAvLyBYaWFvbWkgUmVkbWlcbiAgICAgIC9vaWRbXlxcKV0rOyAobT9bMTJdWzAtMzg5XVswMV1cXHd7Myw2fVtjLXldKSggYnVpfDsgd3Z8XFwpKS9pLFxuICAgICAgLy8gWGlhb21pIFJlZG1pICdudW1lcmljJyBtb2RlbHNcbiAgICAgIC9cXGIobWlbLV8gXT8oPzphXFxkfG9uZXxvbmVbXyBdcGx1c3xub3RlIGx0ZXxtYXh8Y2MpP1tfIF0/KD86XFxkP1xcdz8pW18gXT8oPzpwbHVzfHNlfGxpdGV8cHJvKT8pKD86IGJ1aXxcXCkpL2ksXG4gICAgICAvLyBYaWFvbWkgTWlcbiAgICAgIC8gKFtcXHcgXSspIG1pdWlcXC92P1xcZC9pXG4gICAgXSxcbiAgICBbW01PREVMLCAvXy9nLCBcIiBcIl0sIFtWRU5ET1IsIFhJQU9NSV0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICBbXG4gICAgICAvLyBPUFBPXG4gICAgICAvOyAoXFx3KykgYnVpLisgb3Bwby9pLFxuICAgICAgL1xcYihjcGhbMTJdXFxkezN9fHAoPzphZnxjW2FsXXxkXFx3fGVbYXJdKVttdF1cXGQwfHg5MDA3fGExMDFvcClcXGIvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBPUFBPXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC9cXGIob3BkMihcXGR7M31hPykpKD86IGJ1aXxcXCkpL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgc3RyTWFwcGVyLCB7IFwiT25lUGx1c1wiOiBbXCIzMDRcIiwgXCI0MDNcIiwgXCIyMDNcIl0sIFwiKlwiOiBPUFBPIH1dLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgLy8gQkxVIFZpdm8gU2VyaWVzXG4gICAgICAvKHZpdm8gKDVyP3w2fDhsP3xnb3xvbmV8c3x4W2lsXT9bMi00XT8pW1xcd1xcKyBdKikoPzogYnVpfFxcKSkvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBcIkJMVVwiXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8vIFZpdm9cbiAgICAgIC87IHZpdm8gKFxcdyspKD86IGJ1aXxcXCkpL2ksXG4gICAgICAvXFxiKHZbMTJdXFxkezN9XFx3P1thdF0pKD86IGJ1aXw7KS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFwiVml2b1wiXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8vIFJlYWxtZVxuICAgICAgL1xcYihybXhbMS0zXVxcZHszfSkoPzogYnVpfDt8XFwpKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFwiUmVhbG1lXCJdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8gTW90b3JvbGFcbiAgICAgIC9cXGIobWlsZXN0b25lfGRyb2lkKD86WzItNHhdfCAoPzpiaW9uaWN8eDJ8cHJvfHJhenIpKT86PyggNGcpPylcXGJbXFx3IF0rYnVpbGRcXC8vaSxcbiAgICAgIC9cXGJtb3QoPzpvcm9sYSk/Wy0gXShcXHcqKS9pLFxuICAgICAgLygoPzptb3RvKD8hIDM2MClbXFx3XFwoXFwpIF0rfHh0XFxkezMsNH18bmV4dXMgNikoPz0gYnVpfFxcKSkpL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgTU9UT1JPTEFdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgL1xcYihtejYwXFxkfHhvb21bMiBdezAsMn0pIGJ1aWxkXFwvL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgTU9UT1JPTEFdLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgLy8gTEdcbiAgICAgIC8oKD89bGcpP1t2bF1rXFwtP1xcZHszfSkgYnVpfCAzXFwuWy1cXHc7IF17MTB9bGc/LShbMDZjdjldezMsNH0pL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgTEddLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgLyhsbSg/Oi0/ZjEwMFtudl0/fC1bXFx3XFwuXSspKD89IGJ1aXxcXCkpfG5leHVzIFs0NV0pL2ksXG4gICAgICAvXFxibGdbLWU7XFwvIF0rKD8hLiooPzpicm93c2VyfG5ldGNhc3R8YW5kcm9pZCB0dnx3YXRjaCkpKFxcdyspL2ksXG4gICAgICAvXFxibGctPyhbXFxkXFx3XSspIGJ1aS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIExHXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8vIExlbm92b1xuICAgICAgLyhpZGVhdGFiWy1cXHcgXSt8NjAybHZ8ZC00MmF8YTEwMWx2fGEyMTA5YXxhMzUwMC1odnxzWzU2XTAwMHxwYi02NTA1W215XXx0Yi0/eD9cXGR7Myw0fSg/OmZbY3VdfHh1fFthdl0pfHl0XFxkPy1banhdP1xcZCtbbGZteF0pKCBidWl8O3xcXCl8XFwvKS9pLFxuICAgICAgL2xlbm92byA/KGJbNjhdMFswOF0wLT9baGZdP3x0YWIoPzpbXFx3LSBdKz8pfHRiW1xcdy1dezYsN30pKCBidWl8O3xcXCl8XFwvKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIExFTk9WT10sIFtUWVBFLCBUQUJMRVRdXSxcbiAgICBbXG4gICAgICAvLyBOb2tpYVxuICAgICAgLyhub2tpYSkgKHRbMTJdWzAxXSkvaVxuICAgIF0sXG4gICAgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBUQUJMRVRdXSxcbiAgICBbXG4gICAgICAvKD86bWFlbW98bm9raWEpLioobjkwMHxsdW1pYSBcXGQrfHJtLVxcZCspL2ksXG4gICAgICAvbm9raWFbLV8gXT8oKFstXFx3XFwuIF0qKSkvaVxuICAgIF0sXG4gICAgW1tNT0RFTCwgL18vZywgXCIgXCJdLCBbVFlQRSwgTU9CSUxFXSwgW1ZFTkRPUiwgXCJOb2tpYVwiXV0sXG4gICAgW1xuICAgICAgLy8gR29vZ2xlXG4gICAgICAvKHBpeGVsIChjfHRhYmxldCkpXFxiL2lcbiAgICAgIC8vIEdvb2dsZSBQaXhlbCBDL1RhYmxldFxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBHT09HTEVdLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgL2Ryb2lkLis7IChwaXhlbFtcXGRheGwgXXswLDZ9KSg/OiBidWl8XFwpKS9pXG4gICAgICAvLyBHb29nbGUgUGl4ZWxcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgR09PR0xFXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8vIFNvbnlcbiAgICAgIC9kcm9pZC4rOyAoYT9cXGRbMC0yXXsyfXNvfFtjLWddXFxkezR9fHNvWy1nbF1cXHcrfHhxLWFcXHdbNC03XVsxMl0pKD89IGJ1aXxcXCkuK2Nocm9tZVxcLyg/IVsxLTZdezAsMX1cXGRcXC4pKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFNPTlldLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgL3NvbnkgdGFibGV0IFtwc10vaSxcbiAgICAgIC9cXGIoPzpzb255KT9zZ3BcXHcrKD86IGJ1aXxcXCkpL2lcbiAgICBdLFxuICAgIFtbTU9ERUwsIFwiWHBlcmlhIFRhYmxldFwiXSwgW1ZFTkRPUiwgU09OWV0sIFtUWVBFLCBUQUJMRVRdXSxcbiAgICBbXG4gICAgICAvLyBPbmVQbHVzXG4gICAgICAvIChrYjIwMDV8aW4yMFsxMl01fGJlMjBbMTJdWzU5XSlcXGIvaSxcbiAgICAgIC8oPzpvbmUpPyg/OnBsdXMpPyAoYVxcZDBcXGRcXGQpKD86IGJ8XFwpKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIE9ORVBMVVNdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8gQW1hem9uXG4gICAgICAvKGFsZXhhKXdlYm0vaSxcbiAgICAgIC8oa2ZbYS16XXsyfXdpfGFlbyg/IWJjKVxcd1xcdykoIGJ1aXxcXCkpL2ksXG4gICAgICAvLyBLaW5kbGUgRmlyZSB3aXRob3V0IFNpbGsgLyBFY2hvIFNob3dcbiAgICAgIC8oa2ZbYS16XSspKCBidWl8XFwpKS4rc2lsa1xcLy9pXG4gICAgICAvLyBLaW5kbGUgRmlyZSBIRFxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBBTUFaT05dLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgLygoPzpzZHxrZilbMDM0OWhpam9yc3R1d10rKSggYnVpfFxcKSkuK3NpbGtcXC8vaVxuICAgICAgLy8gRmlyZSBQaG9uZVxuICAgIF0sXG4gICAgW1tNT0RFTCwgLyguKykvZywgXCJGaXJlIFBob25lICQxXCJdLCBbVkVORE9SLCBBTUFaT05dLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8gQmxhY2tCZXJyeVxuICAgICAgLyhwbGF5Ym9vayk7Wy1cXHdcXCksOyBdKyhyaW0pL2lcbiAgICAgIC8vIEJsYWNrQmVycnkgUGxheUJvb2tcbiAgICBdLFxuICAgIFtNT0RFTCwgVkVORE9SLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgL1xcYigoPzpiYlthLWZdfHN0W2h2XSkxMDAtXFxkKS9pLFxuICAgICAgL1xcKGJiMTA7IChcXHcrKS9pXG4gICAgICAvLyBCbGFja0JlcnJ5IDEwXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIEJMQUNLQkVSUlldLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8gQXN1c1xuICAgICAgLyg/OlxcYnxhc3VzXykodHJhbnNmb1twcmltZSBdezQsMTB9IFxcdyt8ZWVlcGN8c2xpZGVyIFxcdyt8bmV4dXMgN3xwYWRmb25lfHAwMFtjal0pL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgQVNVU10sIFtUWVBFLCBUQUJMRVRdXSxcbiAgICBbXG4gICAgICAvICh6W2Jlc102WzAyN11bMDEyXVtrbV1bbHNdfHplbmZvbmUgXFxkXFx3PylcXGIvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBBU1VTXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8vIEhUQ1xuICAgICAgLyhuZXh1cyA5KS9pXG4gICAgICAvLyBIVEMgTmV4dXMgOVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBcIkhUQ1wiXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgIFtcbiAgICAgIC8oaHRjKVstO18gXXsxLDJ9KFtcXHcgXSsoPz1cXCl8IGJ1aSl8XFx3KykvaSxcbiAgICAgIC8vIEhUQ1xuICAgICAgLy8gWlRFXG4gICAgICAvKHp0ZSlbLSBdKFtcXHcgXSs/KSg/OiBidWl8XFwvfFxcKSkvaSxcbiAgICAgIC8oYWxjYXRlbHxnZWVrc3Bob25lfG5leGlhbnxwYW5hc29uaWMoPyEoPzo7fFxcLikpfHNvbnkoPyEtYnJhKSlbLV8gXT8oWy1cXHddKikvaVxuICAgICAgLy8gQWxjYXRlbC9HZWVrc1Bob25lL05leGlhbi9QYW5hc29uaWMvU29ueVxuICAgIF0sXG4gICAgW1ZFTkRPUiwgW01PREVMLCAvXy9nLCBcIiBcIl0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICBbXG4gICAgICAvLyBUQ0xcbiAgICAgIC90Y2wgKHhlc3MgcDE3YWEpL2ksXG4gICAgICAvZHJvaWQgW1xcd1xcLl0rOyAoKD86OFsxNF05WzE2XXw5KD86MCg/OjQ4fDYwfDhbMDFdKXwxKD86M1syN118NjYpfDIoPzo2WzY5XXw5WzU2XSl8NDY2KSlbZ3Fzd3hdKShfXFx3KFxcd3xcXHdcXHcpKT8oXFwpfCBidWkpL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgXCJUQ0xcIl0sIFtUWVBFLCBUQUJMRVRdXSxcbiAgICBbXG4gICAgICAvZHJvaWQgW1xcd1xcLl0rOyAoNDE4KD86N2R8OHYpfDUwODd6fDUxMDJsfDYxKD86MDJbZGhdfDI1W2FkZmhdfDI3W2FpXXw1NltkaF18NTlrfDY1W2FoXSl8YTUwOWRsfHQoPzo0Myg/OjB3fDFbYWRlcHF1XSl8NTAoPzo2ZHw3W2FkanVdKXw2KD86MDlkbHwxMGt8MTJifDcxW2VmaG9dfDc2W2hqa10pfDcoPzo2NlthaGp1XXw2N1tod118N1swNDVdW2JoXXw3MVtoa118NzNvfDc2W2hvXXw3OXd8ODFbaGtzXT98ODJofDkwW2Joc3ldfDk5Yil8ODEwW2hzXSkpKF9cXHcoXFx3fFxcd1xcdykpPyhcXCl8IGJ1aSkvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBcIlRDTFwiXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC8vIGl0ZWxcbiAgICAgIC8oaXRlbCkgKChcXHcrKSkvaVxuICAgIF0sXG4gICAgW1tWRU5ET1IsIGxvd2VyaXplXSwgTU9ERUwsIFtUWVBFLCBzdHJNYXBwZXIsIHsgXCJ0YWJsZXRcIjogW1wicDEwMDAxbFwiLCBcInc3MDAxXCJdLCBcIipcIjogXCJtb2JpbGVcIiB9XV0sXG4gICAgW1xuICAgICAgLy8gQWNlclxuICAgICAgL2Ryb2lkLis7IChbYWJdWzEtN10tP1swMTc4YV1cXGRcXGQ/KS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFwiQWNlclwiXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgIFtcbiAgICAgIC8vIE1laXp1XG4gICAgICAvZHJvaWQuKzsgKG1bMS01XSBub3RlKSBidWkvaSxcbiAgICAgIC9cXGJtei0oWy1cXHddezIsfSkvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBcIk1laXp1XCJdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8gVWxlZm9uZVxuICAgICAgLzsgKCg/OnBvd2VyICk/YXJtb3IoPzpbXFx3IF17MCw4fSkpKD86IGJ1aXxcXCkpL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgXCJVbGVmb25lXCJdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8gRW5lcmdpemVyXG4gICAgICAvOyAoZW5lcmd5ID9cXHcrKSg/OiBidWl8XFwpKS9pLFxuICAgICAgLzsgZW5lcmdpemVyIChbXFx3IF0rKSg/OiBidWl8XFwpKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFwiRW5lcmdpemVyXCJdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8gQ2F0XG4gICAgICAvOyBjYXQgKGIzNSk7L2ksXG4gICAgICAvOyAoYjE1cT98czIyIGZsaXB8czQ4Y3xzNjIgcHJvKSg/OiBidWl8XFwpKS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFwiQ2F0XCJdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8gU21hcnRmcmVuXG4gICAgICAvKCg/Om5ldyApP2FuZHJvbWF4W1xcdy0gXSspKD86IGJ1aXxcXCkpL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgXCJTbWFydGZyZW5cIl0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICBbXG4gICAgICAvLyBOb3RoaW5nXG4gICAgICAvZHJvaWQuKzsgKGEoPzowMTV8MDZbMzVdfDE0MnA/KSkvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBcIk5vdGhpbmdcIl0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICBbXG4gICAgICAvLyBBcmNob3NcbiAgICAgIC87ICh4NjcgNWd8dGlrZWFzeSBcXHcrfGFjWzE3ODldXFxkXFx3KykoIGJ8XFwpKS9pLFxuICAgICAgL2FyY2hvcyA/KDV8Z2FtZXBhZDI/fChbXFx3IF0qW3QxNzg5XXxoZWxsbykgP1xcZCtbXFx3IF0qKSggYnxcXCkpL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgXCJBcmNob3NcIl0sIFtUWVBFLCBUQUJMRVRdXSxcbiAgICBbXG4gICAgICAvYXJjaG9zIChbXFx3IF0rKSggYnxcXCkpL2ksXG4gICAgICAvOyAoYWNbMy02XVxcZFxcd3syLDh9KSggYnxcXCkpL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgXCJBcmNob3NcIl0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICBbXG4gICAgICAvLyBNSVhFRFxuICAgICAgLyhpbW8pICh0YWIgXFx3KykvaSxcbiAgICAgIC8vIElNT1xuICAgICAgLyhpbmZpbml4KSAoeDExMDFiPykvaVxuICAgICAgLy8gSW5maW5peCBYUGFkXG4gICAgXSxcbiAgICBbVkVORE9SLCBNT0RFTCwgW1RZUEUsIFRBQkxFVF1dLFxuICAgIFtcbiAgICAgIC8oYmxhY2tiZXJyeXxiZW5xfHBhbG0oPz1cXC0pfHNvbnllcmljc3NvbnxhY2VyfGFzdXMoPyEgemVudyl8ZGVsbHxqb2xsYXxtZWl6dXxtb3Rvcm9sYXxwb2x5dHJvbnxpbmZpbml4fHRlY25vfG1pY3JvbWF4fGFkdmFuKVstXyBdPyhbLVxcd10qKS9pLFxuICAgICAgLy8gQmxhY2tCZXJyeS9CZW5RL1BhbG0vU29ueS1Fcmljc3Nvbi9BY2VyL0FzdXMvRGVsbC9NZWl6dS9Nb3Rvcm9sYS9Qb2x5dHJvbi9JbmZpbml4L1RlY25vL01pY3JvbWF4L0FkdmFuXG4gICAgICAvOyAoYmx1fGhtZHxpbW98dGNsKVtfIF0oW1xcd1xcKyBdKz8pKD86IGJ1aXxcXCl8OyByKS9pLFxuICAgICAgLy8gQkxVL0hNRC9JTU8vVENMXG4gICAgICAvKGhwKSAoW1xcdyBdK1xcdykvaSxcbiAgICAgIC8vIEhQIGlQQVFcbiAgICAgIC8obWljcm9zb2Z0KTsgKGx1bWlhW1xcdyBdKykvaSxcbiAgICAgIC8vIE1pY3Jvc29mdCBMdW1pYVxuICAgICAgLyhsZW5vdm8pWy1fIF0/KFstXFx3IF0rPykoPzogYnVpfFxcKXxcXC8pL2ksXG4gICAgICAvLyBMZW5vdm9cbiAgICAgIC8ob3BwbykgPyhbXFx3IF0rKSBidWkvaVxuICAgICAgLy8gT1BQT1xuICAgIF0sXG4gICAgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBNT0JJTEVdXSxcbiAgICBbXG4gICAgICAvKGtvYm8pXFxzKGVyZWFkZXJ8dG91Y2gpL2ksXG4gICAgICAvLyBLb2JvXG4gICAgICAvKGhwKS4rKHRvdWNocGFkKD8hLit0YWJsZXQpfHRhYmxldCkvaSxcbiAgICAgIC8vIEhQIFRvdWNoUGFkXG4gICAgICAvKGtpbmRsZSlcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBLaW5kbGVcbiAgICBdLFxuICAgIFtWRU5ET1IsIE1PREVMLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgLyhzdXJmYWNlIGR1bykvaVxuICAgICAgLy8gU3VyZmFjZSBEdW9cbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgTUlDUk9TT0ZUXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgIFtcbiAgICAgIC9kcm9pZCBbXFxkXFwuXSs7IChmcFxcZHU/KSg/OiBifFxcKSkvaVxuICAgICAgLy8gRmFpcnBob25lXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFwiRmFpcnBob25lXCJdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLygoPzp0ZWdyYW5vdGV8c2hpZWxkIHQoPyEuK2QgdHYpKVtcXHctIF0qPykoPzogYnxcXCkpL2lcbiAgICAgIC8vIE52aWRpYSBUYWJsZXRzXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIE5WSURJQV0sIFtUWVBFLCBUQUJMRVRdXSxcbiAgICBbXG4gICAgICAvKHNwcmludCkgKFxcdyspL2lcbiAgICAgIC8vIFNwcmludCBQaG9uZXNcbiAgICBdLFxuICAgIFtWRU5ET1IsIE1PREVMLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLyhraW5cXC5bb25ldHddezN9KS9pXG4gICAgICAvLyBNaWNyb3NvZnQgS2luXG4gICAgXSxcbiAgICBbW01PREVMLCAvXFwuL2csIFwiIFwiXSwgW1ZFTkRPUiwgTUlDUk9TT0ZUXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgIFtcbiAgICAgIC9kcm9pZC4rOyAoW2M2XSt8ZXQ1WzE2XXxtY1syMzldWzIzXXg/fHZjOFswM114PylcXCkvaVxuICAgICAgLy8gWmVicmFcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgWkVCUkFdLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgW1xuICAgICAgL2Ryb2lkLis7IChlYzMwfHBzMjB8dGNbMi04XVxcZFtreF0pXFwpL2lcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgWkVCUkFdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgLy8gU01BUlRUVlNcbiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgIC9zbWFydC10di4rKHNhbXN1bmcpL2lcbiAgICAgIC8vIFNhbXN1bmdcbiAgICBdLFxuICAgIFtWRU5ET1IsIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgW1xuICAgICAgL2hiYnR2LittYXBsZTsoXFxkKykvaVxuICAgIF0sXG4gICAgW1tNT0RFTCwgL14vLCBcIlNtYXJ0VFZcIl0sIFtWRU5ET1IsIFNBTVNVTkddLCBbVFlQRSwgU01BUlRUVl1dLFxuICAgIFtcbiAgICAgIC90Y2FzdC4rKGxnKWU/LiAoWy1cXHddKykvaVxuICAgICAgLy8gTEcgU21hcnRUVlxuICAgIF0sXG4gICAgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgW1xuICAgICAgLyhudXg7IG5ldGNhc3QuK3NtYXJ0dHZ8bGcgKG5ldGNhc3RcXC50di0yMDFcXGR8YW5kcm9pZCB0dikpL2lcbiAgICBdLFxuICAgIFtbVkVORE9SLCBMR10sIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgW1xuICAgICAgLyhhcHBsZSkgP3R2L2lcbiAgICAgIC8vIEFwcGxlIFRWXG4gICAgXSxcbiAgICBbVkVORE9SLCBbTU9ERUwsIEFQUExFICsgXCIgVFZcIl0sIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgW1xuICAgICAgL2Nya2V5LipkZXZpY2V0eXBlXFwvY2hyb21lY2FzdC9pXG4gICAgICAvLyBHb29nbGUgQ2hyb21lY2FzdCBUaGlyZCBHZW5lcmF0aW9uXG4gICAgXSxcbiAgICBbW01PREVMLCBDSFJPTUVDQVNUICsgXCIgVGhpcmQgR2VuZXJhdGlvblwiXSwgW1ZFTkRPUiwgR09PR0xFXSwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICBbXG4gICAgICAvY3JrZXkuKmRldmljZXR5cGVcXC8oW14vXSopL2lcbiAgICAgIC8vIEdvb2dsZSBDaHJvbWVjYXN0IHdpdGggc3BlY2lmaWMgZGV2aWNlIHR5cGVcbiAgICBdLFxuICAgIFtbTU9ERUwsIC9eLywgXCJDaHJvbWVjYXN0IFwiXSwgW1ZFTkRPUiwgR09PR0xFXSwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICBbXG4gICAgICAvZnVjaHNpYS4qY3JrZXkvaVxuICAgICAgLy8gR29vZ2xlIENocm9tZWNhc3QgTmVzdCBIdWJcbiAgICBdLFxuICAgIFtbTU9ERUwsIENIUk9NRUNBU1QgKyBcIiBOZXN0IEh1YlwiXSwgW1ZFTkRPUiwgR09PR0xFXSwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICBbXG4gICAgICAvY3JrZXkvaVxuICAgICAgLy8gR29vZ2xlIENocm9tZWNhc3QsIExpbnV4LWJhc2VkIG9yIHVua25vd25cbiAgICBdLFxuICAgIFtbTU9ERUwsIENIUk9NRUNBU1RdLCBbVkVORE9SLCBHT09HTEVdLCBbVFlQRSwgU01BUlRUVl1dLFxuICAgIFtcbiAgICAgIC8ocG9ydGFsdHYpL2lcbiAgICAgIC8vIEZhY2Vib29rIFBvcnRhbCBUVlxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBGQUNFQk9PS10sIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgW1xuICAgICAgL2Ryb2lkLithZnQoXFx3KykoIGJ1aXxcXCkpL2lcbiAgICAgIC8vIEZpcmUgVFZcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgQU1BWk9OXSwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICBbXG4gICAgICAvKHNoaWVsZCBcXHcrIHR2KS9pXG4gICAgICAvLyBOdmlkaWEgU2hpZWxkIFRWXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIE5WSURJQV0sIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgW1xuICAgICAgL1xcKGR0dltcXCk7XS4rKGFxdW9zKS9pLFxuICAgICAgLyhhcXVvcy10dltcXHcgXSspXFwpL2lcbiAgICAgIC8vIFNoYXJwXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFNIQVJQXSwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICBbXG4gICAgICAvKGJyYXZpYVtcXHcgXSspKCBidWl8XFwpKS9pXG4gICAgICAvLyBTb255XG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFNPTlldLCBbVFlQRSwgU01BUlRUVl1dLFxuICAgIFtcbiAgICAgIC8obWkodHZ8Ym94KS0/XFx3KykgYnVpL2lcbiAgICAgIC8vIFhpYW9taVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBYSUFPTUldLCBbVFlQRSwgU01BUlRUVl1dLFxuICAgIFtcbiAgICAgIC9IYmJ0di4qKHRlY2huaXNhdCkgKC4qKTsvaVxuICAgICAgLy8gVGVjaG5pU0FUXG4gICAgXSxcbiAgICBbVkVORE9SLCBNT0RFTCwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICBbXG4gICAgICAvXFxiKHJva3UpW1xcZHhdKltcXClcXC9dKCg/OmR2cC0pP1tcXGRcXC5dKikvaSxcbiAgICAgIC8vIFJva3VcbiAgICAgIC9oYmJ0dlxcL1xcZCtcXC5cXGQrXFwuXFxkKyArXFwoW1xcd1xcKyBdKjsgKihbXFx3XFxkXVteO10qKTsoW147XSopL2lcbiAgICAgIC8vIEhiYlRWIGRldmljZXNcbiAgICBdLFxuICAgIFtbVkVORE9SLCB0cmltXSwgW01PREVMLCB0cmltXSwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICBbXG4gICAgICAvLyBTbWFydFRWIGZyb20gVW5pZGVudGlmaWVkIFZlbmRvcnNcbiAgICAgIC9kcm9pZC4rOyAoW1xcdy0gXSspICg/OmFuZHJvaWQgdHZ8c21hcnRbLSBdP3R2KS9pXG4gICAgXSxcbiAgICBbTU9ERUwsIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgW1xuICAgICAgL1xcYihhbmRyb2lkIHR2fHNtYXJ0Wy0gXT90dnxvcGVyYSB0dnx0djsgcnY6KVxcYi9pXG4gICAgXSxcbiAgICBbW1RZUEUsIFNNQVJUVFZdXSxcbiAgICBbXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAvLyBDT05TT0xFU1xuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgLyhvdXlhKS9pLFxuICAgICAgLy8gT3V5YVxuICAgICAgLyhuaW50ZW5kbykgKFxcdyspL2lcbiAgICAgIC8vIE5pbnRlbmRvXG4gICAgXSxcbiAgICBbVkVORE9SLCBNT0RFTCwgW1RZUEUsIENPTlNPTEVdXSxcbiAgICBbXG4gICAgICAvZHJvaWQuKzsgKHNoaWVsZCkoIGJ1aXxcXCkpL2lcbiAgICAgIC8vIE52aWRpYSBQb3J0YWJsZVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBOVklESUFdLCBbVFlQRSwgQ09OU09MRV1dLFxuICAgIFtcbiAgICAgIC8ocGxheXN0YXRpb24gXFx3KykvaVxuICAgICAgLy8gUGxheXN0YXRpb25cbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgU09OWV0sIFtUWVBFLCBDT05TT0xFXV0sXG4gICAgW1xuICAgICAgL1xcYih4Ym94KD86IG9uZSk/KD8hOyB4Ym94KSlbXFwpOyBdL2lcbiAgICAgIC8vIE1pY3Jvc29mdCBYYm94XG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIE1JQ1JPU09GVF0sIFtUWVBFLCBDT05TT0xFXV0sXG4gICAgW1xuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgLy8gV0VBUkFCTEVTXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAvXFxiKHNtLVtscl1cXGRcXGRbMDE1Nl1bZm51d10/cz98Z2VhciBsaXZlKVxcYi9pXG4gICAgICAvLyBTYW1zdW5nIEdhbGF4eSBXYXRjaFxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBTQU1TVU5HXSwgW1RZUEUsIFdFQVJBQkxFXV0sXG4gICAgW1xuICAgICAgLygocGViYmxlKSlhcHAvaSxcbiAgICAgIC8vIFBlYmJsZVxuICAgICAgLyhhc3VzfGdvb2dsZXxsZ3xvcHBvKSAoKHBpeGVsIHx6ZW4pP3dhdGNoW1xcdyBdKikoIGJ1aXxcXCkpL2lcbiAgICAgIC8vIEFzdXMgWmVuV2F0Y2ggLyBMRyBXYXRjaCAvIFBpeGVsIFdhdGNoXG4gICAgXSxcbiAgICBbVkVORE9SLCBNT0RFTCwgW1RZUEUsIFdFQVJBQkxFXV0sXG4gICAgW1xuICAgICAgLyhvdyg/OjE5fDIwKT93ZT9bMS0zXXsxLDN9KS9pXG4gICAgICAvLyBPcHBvIFdhdGNoXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIE9QUE9dLCBbVFlQRSwgV0VBUkFCTEVdXSxcbiAgICBbXG4gICAgICAvKHdhdGNoKSg/OiA/b3NbLFxcL118XFxkLFxcZFxcLylbXFxkXFwuXSsvaVxuICAgICAgLy8gQXBwbGUgV2F0Y2hcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgQVBQTEVdLCBbVFlQRSwgV0VBUkFCTEVdXSxcbiAgICBbXG4gICAgICAvKG9wd3dlXFxkezN9KS9pXG4gICAgICAvLyBPbmVQbHVzIFdhdGNoXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIE9ORVBMVVNdLCBbVFlQRSwgV0VBUkFCTEVdXSxcbiAgICBbXG4gICAgICAvKG1vdG8gMzYwKS9pXG4gICAgICAvLyBNb3Rvcm9sYSAzNjBcbiAgICBdLFxuICAgIFtNT0RFTCwgW1ZFTkRPUiwgTU9UT1JPTEFdLCBbVFlQRSwgV0VBUkFCTEVdXSxcbiAgICBbXG4gICAgICAvKHNtYXJ0d2F0Y2ggMykvaVxuICAgICAgLy8gU29ueSBTbWFydFdhdGNoXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIFNPTlldLCBbVFlQRSwgV0VBUkFCTEVdXSxcbiAgICBbXG4gICAgICAvKGcgd2F0Y2ggcikvaVxuICAgICAgLy8gTEcgRyBXYXRjaCBSXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIExHXSwgW1RZUEUsIFdFQVJBQkxFXV0sXG4gICAgW1xuICAgICAgL2Ryb2lkLis7ICh3dDYzPzB7MiwzfSlcXCkvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBaRUJSQV0sIFtUWVBFLCBXRUFSQUJMRV1dLFxuICAgIFtcbiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgIC8vIFhSXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAvZHJvaWQuKzsgKGdsYXNzKSBcXGQvaVxuICAgICAgLy8gR29vZ2xlIEdsYXNzXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIEdPT0dMRV0sIFtUWVBFLCBYUl1dLFxuICAgIFtcbiAgICAgIC8ocGljbykgKDR8bmVvMyg/OiBsaW5rfHBybyk/KS9pXG4gICAgICAvLyBQaWNvXG4gICAgXSxcbiAgICBbVkVORE9SLCBNT0RFTCwgW1RZUEUsIFhSXV0sXG4gICAgW1xuICAgICAgLyhxdWVzdCggXFxkfCBwcm8pP3M/KS4rdnIvaVxuICAgICAgLy8gTWV0YSBRdWVzdFxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBGQUNFQk9PS10sIFtUWVBFLCBYUl1dLFxuICAgIFtcbiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgIC8vIEVNQkVEREVEXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAvKHRlc2xhKSg/OiBxdGNhcmJyb3dzZXJ8XFwvWy1cXHdcXC5dKykvaVxuICAgICAgLy8gVGVzbGFcbiAgICBdLFxuICAgIFtWRU5ET1IsIFtUWVBFLCBFTUJFRERFRF1dLFxuICAgIFtcbiAgICAgIC8oYWVvYmMpXFxiL2lcbiAgICAgIC8vIEVjaG8gRG90XG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIEFNQVpPTl0sIFtUWVBFLCBFTUJFRERFRF1dLFxuICAgIFtcbiAgICAgIC8oaG9tZXBvZCkuK21hYyBvcy9pXG4gICAgICAvLyBBcHBsZSBIb21lUG9kXG4gICAgXSxcbiAgICBbTU9ERUwsIFtWRU5ET1IsIEFQUExFXSwgW1RZUEUsIEVNQkVEREVEXV0sXG4gICAgW1xuICAgICAgL3dpbmRvd3MgaW90L2lcbiAgICBdLFxuICAgIFtbVFlQRSwgRU1CRURERURdXSxcbiAgICBbXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgLy8gTUlYRUQgKEdFTkVSSUMpXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAvZHJvaWQgLis/OyAoW147XSs/KSg/OiBidWl8OyB3dlxcKXxcXCkgYXBwbGV3KS4rPyhtb2JpbGV8dnJ8XFxkKSBzYWZhcmkvaVxuICAgIF0sXG4gICAgW01PREVMLCBbVFlQRSwgc3RyTWFwcGVyLCB7IFwibW9iaWxlXCI6IFwiTW9iaWxlXCIsIFwieHJcIjogXCJWUlwiLCBcIipcIjogVEFCTEVUIH1dXSxcbiAgICBbXG4gICAgICAvXFxiKCh0YWJsZXR8dGFiKVs7XFwvXXxmb2N1c1xcL1xcZCg/IS4rbW9iaWxlKSkvaVxuICAgICAgLy8gVW5pZGVudGlmaWFibGUgVGFibGV0XG4gICAgXSxcbiAgICBbW1RZUEUsIFRBQkxFVF1dLFxuICAgIFtcbiAgICAgIC8ocGhvbmV8bW9iaWxlKD86WztcXC9dfCBbIFxcd1xcL1xcLl0qc2FmYXJpKXxwZGEoPz0uK3dpbmRvd3MgY2UpKS9pXG4gICAgICAvLyBVbmlkZW50aWZpYWJsZSBNb2JpbGVcbiAgICBdLFxuICAgIFtbVFlQRSwgTU9CSUxFXV0sXG4gICAgW1xuICAgICAgL2Ryb2lkIC4rPzsgKFtcXHdcXC4gLV0rKSggYnVpfFxcKSkvaVxuICAgICAgLy8gR2VuZXJpYyBBbmRyb2lkIERldmljZVxuICAgIF0sXG4gICAgW01PREVMLCBbVkVORE9SLCBcIkdlbmVyaWNcIl1dXG4gIF0sXG4gIGVuZ2luZTogW1xuICAgIFtcbiAgICAgIC93aW5kb3dzLisgZWRnZVxcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIEVkZ2VIVE1MXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIEVER0UgKyBcIkhUTUxcIl1dLFxuICAgIFtcbiAgICAgIC8oYXJrd2ViKVxcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIEFya1dlYlxuICAgIF0sXG4gICAgW05BTUUsIFZFUlNJT05dLFxuICAgIFtcbiAgICAgIC93ZWJraXRcXC81MzdcXC4zNi4rY2hyb21lXFwvKD8hMjcpKFtcXHdcXC5dKykvaVxuICAgICAgLy8gQmxpbmtcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJCbGlua1wiXV0sXG4gICAgW1xuICAgICAgLyhwcmVzdG8pXFwvKFtcXHdcXC5dKykvaSxcbiAgICAgIC8vIFByZXN0b1xuICAgICAgLyh3ZWJraXR8dHJpZGVudHxuZXRmcm9udHxuZXRzdXJmfGFtYXlhfGx5bnh8dzNtfGdvYW5uYXxzZXJ2bylcXC8oW1xcd1xcLl0rKS9pLFxuICAgICAgLy8gV2ViS2l0L1RyaWRlbnQvTmV0RnJvbnQvTmV0U3VyZi9BbWF5YS9MeW54L3czbS9Hb2FubmEvU2Vydm9cbiAgICAgIC9la2lvaChmbG93KVxcLyhbXFx3XFwuXSspL2ksXG4gICAgICAvLyBGbG93XG4gICAgICAvKGtodG1sfHRhc21hbnxsaW5rcylbXFwvIF1cXCg/KFtcXHdcXC5dKykvaSxcbiAgICAgIC8vIEtIVE1ML1Rhc21hbi9MaW5rc1xuICAgICAgLyhpY2FiKVtcXC8gXShbMjNdXFwuW1xcZFxcLl0rKS9pLFxuICAgICAgLy8gaUNhYlxuICAgICAgL1xcYihsaWJ3ZWIpL2lcbiAgICAgIC8vIExpYldlYlxuICAgIF0sXG4gICAgW05BTUUsIFZFUlNJT05dLFxuICAgIFtcbiAgICAgIC9sYWR5YmlyZFxcLy9pXG4gICAgXSxcbiAgICBbW05BTUUsIFwiTGliV2ViXCJdXSxcbiAgICBbXG4gICAgICAvcnZcXDooW1xcd1xcLl17MSw5fSlcXGIuKyhnZWNrbykvaVxuICAgICAgLy8gR2Vja29cbiAgICBdLFxuICAgIFtWRVJTSU9OLCBOQU1FXVxuICBdLFxuICBvczogW1xuICAgIFtcbiAgICAgIC8vIFdpbmRvd3NcbiAgICAgIC9taWNyb3NvZnQgKHdpbmRvd3MpICh2aXN0YXx4cCkvaVxuICAgICAgLy8gV2luZG93cyAoaVR1bmVzKVxuICAgIF0sXG4gICAgW05BTUUsIFZFUlNJT05dLFxuICAgIFtcbiAgICAgIC8od2luZG93cyAoPzpwaG9uZSg/OiBvcyk/fG1vYmlsZXxpb3QpKVtcXC8gXT8oW1xcZFxcLlxcdyBdKikvaVxuICAgICAgLy8gV2luZG93cyBQaG9uZVxuICAgIF0sXG4gICAgW05BTUUsIFtWRVJTSU9OLCBzdHJNYXBwZXIsIHdpbmRvd3NWZXJzaW9uTWFwXV0sXG4gICAgW1xuICAgICAgL3dpbmRvd3MgbnQgNlxcLjI7IChhcm0pL2ksXG4gICAgICAvLyBXaW5kb3dzIFJUXG4gICAgICAvd2luZG93c1tcXC8gXShbbnRjZVxcZFxcLiBdK1xcdykoPyEuK3hib3gpL2ksXG4gICAgICAvKD86d2luKD89M3w5fG4pfHdpbiA5eCApKFtudFxcZFxcLl0rKS9pXG4gICAgXSxcbiAgICBbW1ZFUlNJT04sIHN0ck1hcHBlciwgd2luZG93c1ZlcnNpb25NYXBdLCBbTkFNRSwgV0lORE9XU11dLFxuICAgIFtcbiAgICAgIC8vIGlPUy9tYWNPU1xuICAgICAgL1thZGVoaW1ub3BdezQsN31cXGIoPzouKm9zIChbXFx3XSspIGxpa2UgbWFjfDsgb3BlcmEpL2ksXG4gICAgICAvLyBpT1NcbiAgICAgIC8oPzppb3M7ZmJzdlxcL3xpcGhvbmUuK2lvc1tcXC8gXSkoW1xcZFxcLl0rKS9pLFxuICAgICAgL2NmbmV0d29ya1xcLy4rZGFyd2luL2lcbiAgICBdLFxuICAgIFtbVkVSU0lPTiwgL18vZywgXCIuXCJdLCBbTkFNRSwgXCJpT1NcIl1dLFxuICAgIFtcbiAgICAgIC8obWFjIG9zIHgpID8oW1xcd1xcLiBdKikvaSxcbiAgICAgIC8obWFjaW50b3NofG1hY19wb3dlcnBjXFxiKSg/IS4raGFpa3UpL2lcbiAgICAgIC8vIE1hYyBPU1xuICAgIF0sXG4gICAgW1tOQU1FLCBcIm1hY09TXCJdLCBbVkVSU0lPTiwgL18vZywgXCIuXCJdXSxcbiAgICBbXG4gICAgICAvLyBHb29nbGUgQ2hyb21lY2FzdFxuICAgICAgL2FuZHJvaWQgKFtcXGRcXC5dKykuKmNya2V5L2lcbiAgICAgIC8vIEdvb2dsZSBDaHJvbWVjYXN0LCBBbmRyb2lkLWJhc2VkXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIENIUk9NRUNBU1QgKyBcIiBBbmRyb2lkXCJdXSxcbiAgICBbXG4gICAgICAvZnVjaHNpYS4qY3JrZXlcXC8oW1xcZFxcLl0rKS9pXG4gICAgICAvLyBHb29nbGUgQ2hyb21lY2FzdCwgRnVjaHNpYS1iYXNlZFxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBDSFJPTUVDQVNUICsgXCIgRnVjaHNpYVwiXV0sXG4gICAgW1xuICAgICAgL2Nya2V5XFwvKFtcXGRcXC5dKykuKmRldmljZXR5cGVcXC9zbWFydHNwZWFrZXIvaVxuICAgICAgLy8gR29vZ2xlIENocm9tZWNhc3QsIExpbnV4LWJhc2VkIFNtYXJ0IFNwZWFrZXJcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgQ0hST01FQ0FTVCArIFwiIFNtYXJ0U3BlYWtlclwiXV0sXG4gICAgW1xuICAgICAgL2xpbnV4LipjcmtleVxcLyhbXFxkXFwuXSspL2lcbiAgICAgIC8vIEdvb2dsZSBDaHJvbWVjYXN0LCBMZWdhY3kgTGludXgtYmFzZWRcbiAgICBdLFxuICAgIFtWRVJTSU9OLCBbTkFNRSwgQ0hST01FQ0FTVCArIFwiIExpbnV4XCJdXSxcbiAgICBbXG4gICAgICAvY3JrZXlcXC8oW1xcZFxcLl0rKS9pXG4gICAgICAvLyBHb29nbGUgQ2hyb21lY2FzdCwgdW5rbm93blxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBDSFJPTUVDQVNUXV0sXG4gICAgW1xuICAgICAgLy8gTW9iaWxlIE9TZXNcbiAgICAgIC9kcm9pZCAoW1xcd1xcLl0rKVxcYi4rKGFuZHJvaWRbLSBdeDg2fGhhcm1vbnlvcykvaVxuICAgICAgLy8gQW5kcm9pZC14ODYvSGFybW9ueU9TXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgTkFNRV0sXG4gICAgW1xuICAgICAgLyh1YnVudHUpIChbXFx3XFwuXSspIGxpa2UgYW5kcm9pZC9pXG4gICAgICAvLyBVYnVudHUgVG91Y2hcbiAgICBdLFxuICAgIFtbTkFNRSwgLyguKykvLCBcIiQxIFRvdWNoXCJdLCBWRVJTSU9OXSxcbiAgICBbXG4gICAgICAvLyBBbmRyb2lkL0JsYWNrYmVycnkvV2ViT1MvUU5YL0JhZGEvUklNL0thaU9TL01hZW1vL01lZUdvL1M0MC9TYWlsZmlzaCBPUy9PcGVuSGFybW9ueS9UaXplblxuICAgICAgLyhhbmRyb2lkfGJhZGF8YmxhY2tiZXJyeXxrYWlvc3xtYWVtb3xtZWVnb3xvcGVuaGFybW9ueXxxbnh8cmltIHRhYmxldCBvc3xzYWlsZmlzaHxzZXJpZXM0MHxzeW1iaWFufHRpemVufHdlYm9zKVxcdypbLVxcL1xcLjsgXT8oW1xcZFxcLl0qKS9pXG4gICAgXSxcbiAgICBbTkFNRSwgVkVSU0lPTl0sXG4gICAgW1xuICAgICAgL1xcKGJiKDEwKTsvaVxuICAgICAgLy8gQmxhY2tCZXJyeSAxMFxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBCTEFDS0JFUlJZXV0sXG4gICAgW1xuICAgICAgLyg/OnN5bWJpYW4gP29zfHN5bWJvc3xzNjAoPz07KXxzZXJpZXMgPzYwKVstXFwvIF0/KFtcXHdcXC5dKikvaVxuICAgICAgLy8gU3ltYmlhblxuICAgIF0sXG4gICAgW1ZFUlNJT04sIFtOQU1FLCBcIlN5bWJpYW5cIl1dLFxuICAgIFtcbiAgICAgIC9tb3ppbGxhXFwvW1xcZFxcLl0rIFxcKCg/Om1vYmlsZXx0YWJsZXR8dHZ8bW9iaWxlOyBbXFx3IF0rKTsgcnY6LisgZ2Vja29cXC8oW1xcd1xcLl0rKS9pXG4gICAgICAvLyBGaXJlZm94IE9TXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIEZJUkVGT1ggKyBcIiBPU1wiXV0sXG4gICAgW1xuICAgICAgL3dlYjBzOy4rcnQodHYpL2ksXG4gICAgICAvXFxiKD86aHApP3dvcyg/OmJyb3dzZXIpP1xcLyhbXFx3XFwuXSspL2lcbiAgICAgIC8vIFdlYk9TXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFwid2ViT1NcIl1dLFxuICAgIFtcbiAgICAgIC93YXRjaCg/OiA/b3NbLFxcL118XFxkLFxcZFxcLykoW1xcZFxcLl0rKS9pXG4gICAgICAvLyB3YXRjaE9TXG4gICAgXSxcbiAgICBbVkVSU0lPTiwgW05BTUUsIFwid2F0Y2hPU1wiXV0sXG4gICAgW1xuICAgICAgLy8gR29vZ2xlIENocm9tZU9TXG4gICAgICAvKGNyb3MpIFtcXHddKyg/OlxcKXwgKFtcXHdcXC5dKylcXGIpL2lcbiAgICAgIC8vIENocm9taXVtIE9TXG4gICAgXSxcbiAgICBbW05BTUUsIFwiQ2hyb21lIE9TXCJdLCBWRVJTSU9OXSxcbiAgICBbXG4gICAgICAvLyBTbWFydCBUVnNcbiAgICAgIC9wYW5hc29uaWM7KHZpZXJhKS9pLFxuICAgICAgLy8gUGFuYXNvbmljIFZpZXJhXG4gICAgICAvKG5ldHJhbmdlKW1taC9pLFxuICAgICAgLy8gTmV0cmFuZ2VcbiAgICAgIC8obmV0dHYpXFwvKFxcZCtcXC5bXFx3XFwuXSspL2ksXG4gICAgICAvLyBOZXRUVlxuICAgICAgLy8gQ29uc29sZVxuICAgICAgLyhuaW50ZW5kb3xwbGF5c3RhdGlvbikgKFxcdyspL2ksXG4gICAgICAvLyBOaW50ZW5kby9QbGF5c3RhdGlvblxuICAgICAgLyh4Ym94KTsgK3hib3ggKFteXFwpO10rKS9pLFxuICAgICAgLy8gTWljcm9zb2Z0IFhib3ggKDM2MCwgT25lLCBYLCBTLCBTZXJpZXMgWCwgU2VyaWVzIFMpXG4gICAgICAvKHBpY28pIC4rb3MoW1xcd1xcLl0rKS9pLFxuICAgICAgLy8gUGljb1xuICAgICAgLy8gT3RoZXJcbiAgICAgIC9cXGIoam9saXxwYWxtKVxcYiA/KD86b3MpP1xcLz8oW1xcd1xcLl0qKS9pLFxuICAgICAgLy8gSm9saS9QYWxtXG4gICAgICAvKG1pbnQpW1xcL1xcKFxcKSBdPyhcXHcqKS9pLFxuICAgICAgLy8gTWludFxuICAgICAgLyhtYWdlaWF8dmVjdG9ybGludXgpWzsgXS9pLFxuICAgICAgLy8gTWFnZWlhL1ZlY3RvckxpbnV4XG4gICAgICAvKFtreGxuXT91YnVudHV8ZGViaWFufHN1c2V8b3BlbnN1c2V8Z2VudG9vfGFyY2goPz0gbGludXgpfHNsYWNrd2FyZXxmZWRvcmF8bWFuZHJpdmF8Y2VudG9zfHBjbGludXhvc3xyZWQgP2hhdHx6ZW53YWxrfGxpbnB1c3xyYXNwYmlhbnxwbGFuIDl8bWluaXh8cmlzYyBvc3xjb250aWtpfGRlZXBpbnxtYW5qYXJvfGVsZW1lbnRhcnkgb3N8c2FiYXlvbnxsaW5zcGlyZSkoPzogZ251XFwvbGludXgpPyg/OiBlbnRlcnByaXNlKT8oPzpbLSBdbGludXgpPyg/Oi1nbnUpP1stXFwvIF0/KD8hY2hyb218cGFja2FnZSkoWy1cXHdcXC5dKikvaSxcbiAgICAgIC8vIFVidW50dS9EZWJpYW4vU1VTRS9HZW50b28vQXJjaC9TbGFja3dhcmUvRmVkb3JhL01hbmRyaXZhL0NlbnRPUy9QQ0xpbnV4T1MvUmVkSGF0L1plbndhbGsvTGlucHVzL1Jhc3BiaWFuL1BsYW45L01pbml4L1JJU0NPUy9Db250aWtpL0RlZXBpbi9NYW5qYXJvL2VsZW1lbnRhcnkvU2FiYXlvbi9MaW5zcGlyZVxuICAgICAgLyhodXJkfGxpbnV4KSg/OiBhcm1cXHcqfCB4ODZcXHcqfCA/KShbXFx3XFwuXSopL2ksXG4gICAgICAvLyBIdXJkL0xpbnV4XG4gICAgICAvKGdudSkgPyhbXFx3XFwuXSopL2ksXG4gICAgICAvLyBHTlVcbiAgICAgIC9cXGIoWy1mcmVudG9wY2doc117MCw1fWJzZHxkcmFnb25mbHkpW1xcLyBdPyg/IWFtZHxbaXgzNDZdezEsMn04NikoW1xcd1xcLl0qKS9pLFxuICAgICAgLy8gRnJlZUJTRC9OZXRCU0QvT3BlbkJTRC9QQy1CU0QvR2hvc3RCU0QvRHJhZ29uRmx5XG4gICAgICAvKGhhaWt1KSAoXFx3KykvaVxuICAgICAgLy8gSGFpa3VcbiAgICBdLFxuICAgIFtOQU1FLCBWRVJTSU9OXSxcbiAgICBbXG4gICAgICAvKHN1bm9zKSA/KFtcXHdcXC5cXGRdKikvaVxuICAgICAgLy8gU29sYXJpc1xuICAgIF0sXG4gICAgW1tOQU1FLCBcIlNvbGFyaXNcIl0sIFZFUlNJT05dLFxuICAgIFtcbiAgICAgIC8oKD86b3Blbik/c29sYXJpcylbLVxcLyBdPyhbXFx3XFwuXSopL2ksXG4gICAgICAvLyBTb2xhcmlzXG4gICAgICAvKGFpeCkgKChcXGQpKD89XFwufFxcKXwgKVtcXHdcXC5dKSovaSxcbiAgICAgIC8vIEFJWFxuICAgICAgL1xcYihiZW9zfG9zXFwvMnxhbWlnYW9zfG1vcnBob3N8b3BlbnZtc3xmdWNoc2lhfGhwLXV4fHNlcmVuaXR5b3MpL2ksXG4gICAgICAvLyBCZU9TL09TMi9BbWlnYU9TL01vcnBoT1MvT3BlblZNUy9GdWNoc2lhL0hQLVVYL1NlcmVuaXR5T1NcbiAgICAgIC8odW5peCkgPyhbXFx3XFwuXSopL2lcbiAgICAgIC8vIFVOSVhcbiAgICBdLFxuICAgIFtOQU1FLCBWRVJTSU9OXVxuICBdXG59O1xudmFyIGRlZmF1bHRQcm9wcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcHJvcHMgPSB7IGluaXQ6IHt9LCBpc0lnbm9yZToge30sIGlzSWdub3JlUmd4OiB7fSwgdG9TdHJpbmc6IHt9IH07XG4gIHNldFByb3BzLmNhbGwocHJvcHMuaW5pdCwgW1xuICAgIFtVQV9CUk9XU0VSLCBbTkFNRSwgVkVSU0lPTiwgTUFKT1IsIFRZUEVdXSxcbiAgICBbVUFfQ1BVLCBbQVJDSElURUNUVVJFXV0sXG4gICAgW1VBX0RFVklDRSwgW1RZUEUsIE1PREVMLCBWRU5ET1JdXSxcbiAgICBbVUFfRU5HSU5FLCBbTkFNRSwgVkVSU0lPTl1dLFxuICAgIFtVQV9PUywgW05BTUUsIFZFUlNJT05dXVxuICBdKTtcbiAgc2V0UHJvcHMuY2FsbChwcm9wcy5pc0lnbm9yZSwgW1xuICAgIFtVQV9CUk9XU0VSLCBbVkVSU0lPTiwgTUFKT1JdXSxcbiAgICBbVUFfRU5HSU5FLCBbVkVSU0lPTl1dLFxuICAgIFtVQV9PUywgW1ZFUlNJT05dXVxuICBdKTtcbiAgc2V0UHJvcHMuY2FsbChwcm9wcy5pc0lnbm9yZVJneCwgW1xuICAgIFtVQV9CUk9XU0VSLCAvID9icm93c2VyJC9pXSxcbiAgICBbVUFfT1MsIC8gP29zJC9pXVxuICBdKTtcbiAgc2V0UHJvcHMuY2FsbChwcm9wcy50b1N0cmluZywgW1xuICAgIFtVQV9CUk9XU0VSLCBbTkFNRSwgVkVSU0lPTl1dLFxuICAgIFtVQV9DUFUsIFtBUkNISVRFQ1RVUkVdXSxcbiAgICBbVUFfREVWSUNFLCBbVkVORE9SLCBNT0RFTF1dLFxuICAgIFtVQV9FTkdJTkUsIFtOQU1FLCBWRVJTSU9OXV0sXG4gICAgW1VBX09TLCBbTkFNRSwgVkVSU0lPTl1dXG4gIF0pO1xuICByZXR1cm4gcHJvcHM7XG59KCk7XG52YXIgY3JlYXRlSURhdGEgPSBmdW5jdGlvbihpdGVtLCBpdGVtVHlwZSkge1xuICB2YXIgaW5pdF9wcm9wcyA9IGRlZmF1bHRQcm9wcy5pbml0W2l0ZW1UeXBlXSwgaXNfaWdub3JlUHJvcHMgPSBkZWZhdWx0UHJvcHMuaXNJZ25vcmVbaXRlbVR5cGVdIHx8IDAsIGlzX2lnbm9yZVJneCA9IGRlZmF1bHRQcm9wcy5pc0lnbm9yZVJneFtpdGVtVHlwZV0gfHwgMCwgdG9TdHJpbmdfcHJvcHMgPSBkZWZhdWx0UHJvcHMudG9TdHJpbmdbaXRlbVR5cGVdIHx8IDA7XG4gIGZ1bmN0aW9uIElEYXRhKCkge1xuICAgIHNldFByb3BzLmNhbGwodGhpcywgaW5pdF9wcm9wcyk7XG4gIH1cbiAgSURhdGEucHJvdG90eXBlLmdldEl0ZW0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaXRlbTtcbiAgfTtcbiAgSURhdGEucHJvdG90eXBlLndpdGhDbGllbnRIaW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghTkFWSUdBVE9SX1VBREFUQSkge1xuICAgICAgcmV0dXJuIGl0ZW0ucGFyc2VDSCgpLmdldCgpO1xuICAgIH1cbiAgICByZXR1cm4gTkFWSUdBVE9SX1VBREFUQS5nZXRIaWdoRW50cm9weVZhbHVlcyhDSF9BTExfVkFMVUVTKS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgcmV0dXJuIGl0ZW0uc2V0Q0gobmV3IFVBQ0hEYXRhKHJlcywgZmFsc2UpKS5wYXJzZUNIKCkuZ2V0KCk7XG4gICAgfSk7XG4gIH07XG4gIElEYXRhLnByb3RvdHlwZS53aXRoRmVhdHVyZUNoZWNrID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGl0ZW0uZGV0ZWN0RmVhdHVyZSgpLmdldCgpO1xuICB9O1xuICBpZiAoaXRlbVR5cGUgIT0gVUFfUkVTVUxUKSB7XG4gICAgSURhdGEucHJvdG90eXBlLmlzID0gZnVuY3Rpb24oc3RyVG9DaGVjaykge1xuICAgICAgdmFyIGlzID0gZmFsc2U7XG4gICAgICBmb3IgKHZhciBpMiBpbiB0aGlzKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KGkyKSAmJiAhaGFzKGlzX2lnbm9yZVByb3BzLCBpMikgJiYgbG93ZXJpemUoaXNfaWdub3JlUmd4ID8gc3RyaXAoaXNfaWdub3JlUmd4LCB0aGlzW2kyXSkgOiB0aGlzW2kyXSkgPT0gbG93ZXJpemUoaXNfaWdub3JlUmd4ID8gc3RyaXAoaXNfaWdub3JlUmd4LCBzdHJUb0NoZWNrKSA6IHN0clRvQ2hlY2spKSB7XG4gICAgICAgICAgaXMgPSB0cnVlO1xuICAgICAgICAgIGlmIChzdHJUb0NoZWNrICE9IFVOREVGX1RZUEUpIGJyZWFrO1xuICAgICAgICB9IGVsc2UgaWYgKHN0clRvQ2hlY2sgPT0gVU5ERUZfVFlQRSAmJiBpcykge1xuICAgICAgICAgIGlzID0gIWlzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaXM7XG4gICAgfTtcbiAgICBJRGF0YS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzdHIgPSBFTVBUWTtcbiAgICAgIGZvciAodmFyIGkyIGluIHRvU3RyaW5nX3Byb3BzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpc1t0b1N0cmluZ19wcm9wc1tpMl1dICE9PSBVTkRFRl9UWVBFKSB7XG4gICAgICAgICAgc3RyICs9IChzdHIgPyBcIiBcIiA6IEVNUFRZKSArIHRoaXNbdG9TdHJpbmdfcHJvcHNbaTJdXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0ciB8fCBVTkRFRl9UWVBFO1xuICAgIH07XG4gIH1cbiAgaWYgKCFOQVZJR0FUT1JfVUFEQVRBKSB7XG4gICAgSURhdGEucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihjYikge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgdmFyIElEYXRhUmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciBwcm9wIGluIHRoYXQpIHtcbiAgICAgICAgICBpZiAodGhhdC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgdGhpc1twcm9wXSA9IHRoYXRbcHJvcF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgSURhdGFSZXNvbHZlLnByb3RvdHlwZSA9IHtcbiAgICAgICAgaXM6IElEYXRhLnByb3RvdHlwZS5pcyxcbiAgICAgICAgdG9TdHJpbmc6IElEYXRhLnByb3RvdHlwZS50b1N0cmluZ1xuICAgICAgfTtcbiAgICAgIHZhciByZXNvbHZlRGF0YSA9IG5ldyBJRGF0YVJlc29sdmUoKTtcbiAgICAgIGNiKHJlc29sdmVEYXRhKTtcbiAgICAgIHJldHVybiByZXNvbHZlRGF0YTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBuZXcgSURhdGEoKTtcbn07XG5mdW5jdGlvbiBVQUNIRGF0YSh1YWNoLCBpc0h0dHBVQUNIKSB7XG4gIHVhY2ggPSB1YWNoIHx8IHt9O1xuICBzZXRQcm9wcy5jYWxsKHRoaXMsIENIX0FMTF9WQUxVRVMpO1xuICBpZiAoaXNIdHRwVUFDSCkge1xuICAgIHNldFByb3BzLmNhbGwodGhpcywgW1xuICAgICAgW0JSQU5EUywgaXRlbUxpc3RUb0FycmF5KHVhY2hbQ0hfSEVBREVSXSldLFxuICAgICAgW0ZVTExWRVJMSVNULCBpdGVtTGlzdFRvQXJyYXkodWFjaFtDSF9IRUFERVJfRlVMTF9WRVJfTElTVF0pXSxcbiAgICAgIFtNT0JJTEUsIC9cXD8xLy50ZXN0KHVhY2hbQ0hfSEVBREVSX01PQklMRV0pXSxcbiAgICAgIFtNT0RFTCwgc3RyaXBRdW90ZXModWFjaFtDSF9IRUFERVJfTU9ERUxdKV0sXG4gICAgICBbUExBVEZPUk0sIHN0cmlwUXVvdGVzKHVhY2hbQ0hfSEVBREVSX1BMQVRGT1JNXSldLFxuICAgICAgW1BMQVRGT1JNVkVSLCBzdHJpcFF1b3Rlcyh1YWNoW0NIX0hFQURFUl9QTEFURk9STV9WRVJdKV0sXG4gICAgICBbQVJDSElURUNUVVJFLCBzdHJpcFF1b3Rlcyh1YWNoW0NIX0hFQURFUl9BUkNIXSldLFxuICAgICAgW0ZPUk1GQUNUT1JTLCBpdGVtTGlzdFRvQXJyYXkodWFjaFtDSF9IRUFERVJfRk9STV9GQUNUT1JTXSldLFxuICAgICAgW0JJVE5FU1MsIHN0cmlwUXVvdGVzKHVhY2hbQ0hfSEVBREVSX0JJVE5FU1NdKV1cbiAgICBdKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIHVhY2gpIHtcbiAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KHByb3ApICYmIHR5cGVvZiB1YWNoW3Byb3BdICE9PSBVTkRFRl9UWVBFKSB0aGlzW3Byb3BdID0gdWFjaFtwcm9wXTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIFVBSXRlbShpdGVtVHlwZSwgdWEsIHJneE1hcCwgdWFDSCkge1xuICB0aGlzLmdldCA9IGZ1bmN0aW9uKHByb3ApIHtcbiAgICBpZiAoIXByb3ApIHJldHVybiB0aGlzLmRhdGE7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eShwcm9wKSA/IHRoaXMuZGF0YVtwcm9wXSA6IHZvaWQgMDtcbiAgfTtcbiAgdGhpcy5zZXQgPSBmdW5jdGlvbihwcm9wLCB2YWwpIHtcbiAgICB0aGlzLmRhdGFbcHJvcF0gPSB2YWw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHRoaXMuc2V0Q0ggPSBmdW5jdGlvbihjaCkge1xuICAgIHRoaXMudWFDSCA9IGNoO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICB0aGlzLmRldGVjdEZlYXR1cmUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoTkFWSUdBVE9SICYmIE5BVklHQVRPUi51c2VyQWdlbnQgPT0gdGhpcy51YSkge1xuICAgICAgc3dpdGNoICh0aGlzLml0ZW1UeXBlKSB7XG4gICAgICAgIGNhc2UgVUFfQlJPV1NFUjpcbiAgICAgICAgICBpZiAoTkFWSUdBVE9SLmJyYXZlICYmIHR5cGVvZiBOQVZJR0FUT1IuYnJhdmUuaXNCcmF2ZSA9PSBGVU5DX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KE5BTUUsIFwiQnJhdmVcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFVBX0RFVklDRTpcbiAgICAgICAgICBpZiAoIXRoaXMuZ2V0KFRZUEUpICYmIE5BVklHQVRPUl9VQURBVEEgJiYgTkFWSUdBVE9SX1VBREFUQVtNT0JJTEVdKSB7XG4gICAgICAgICAgICB0aGlzLnNldChUWVBFLCBNT0JJTEUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5nZXQoTU9ERUwpID09IFwiTWFjaW50b3NoXCIgJiYgTkFWSUdBVE9SICYmIHR5cGVvZiBOQVZJR0FUT1Iuc3RhbmRhbG9uZSAhPT0gVU5ERUZfVFlQRSAmJiBOQVZJR0FUT1IubWF4VG91Y2hQb2ludHMgJiYgTkFWSUdBVE9SLm1heFRvdWNoUG9pbnRzID4gMikge1xuICAgICAgICAgICAgdGhpcy5zZXQoTU9ERUwsIFwiaVBhZFwiKS5zZXQoVFlQRSwgVEFCTEVUKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVUFfT1M6XG4gICAgICAgICAgaWYgKCF0aGlzLmdldChOQU1FKSAmJiBOQVZJR0FUT1JfVUFEQVRBICYmIE5BVklHQVRPUl9VQURBVEFbUExBVEZPUk1dKSB7XG4gICAgICAgICAgICB0aGlzLnNldChOQU1FLCBOQVZJR0FUT1JfVUFEQVRBW1BMQVRGT1JNXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFVBX1JFU1VMVDpcbiAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgICB2YXIgZGV0ZWN0ID0gZnVuY3Rpb24oaXRlbVR5cGUyKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YVtpdGVtVHlwZTJdLmdldEl0ZW0oKS5kZXRlY3RGZWF0dXJlKCkuZ2V0KCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLnNldChVQV9CUk9XU0VSLCBkZXRlY3QoVUFfQlJPV1NFUikpLnNldChVQV9DUFUsIGRldGVjdChVQV9DUFUpKS5zZXQoVUFfREVWSUNFLCBkZXRlY3QoVUFfREVWSUNFKSkuc2V0KFVBX0VOR0lORSwgZGV0ZWN0KFVBX0VOR0lORSkpLnNldChVQV9PUywgZGV0ZWN0KFVBX09TKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICB0aGlzLnBhcnNlVUEgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5pdGVtVHlwZSAhPSBVQV9SRVNVTFQpIHtcbiAgICAgIHJneE1hcHBlci5jYWxsKHRoaXMuZGF0YSwgdGhpcy51YSwgdGhpcy5yZ3hNYXApO1xuICAgIH1cbiAgICBpZiAodGhpcy5pdGVtVHlwZSA9PSBVQV9CUk9XU0VSKSB7XG4gICAgICB0aGlzLnNldChNQUpPUiwgbWFqb3JpemUodGhpcy5nZXQoVkVSU0lPTikpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHRoaXMucGFyc2VDSCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB1YUNIMiA9IHRoaXMudWFDSCwgcmd4TWFwMiA9IHRoaXMucmd4TWFwO1xuICAgIHN3aXRjaCAodGhpcy5pdGVtVHlwZSkge1xuICAgICAgY2FzZSBVQV9CUk9XU0VSOlxuICAgICAgY2FzZSBVQV9FTkdJTkU6XG4gICAgICAgIHZhciBicmFuZHMgPSB1YUNIMltGVUxMVkVSTElTVF0gfHwgdWFDSDJbQlJBTkRTXSwgcHJldk5hbWU7XG4gICAgICAgIGlmIChicmFuZHMpIHtcbiAgICAgICAgICBmb3IgKHZhciBpMiBpbiBicmFuZHMpIHtcbiAgICAgICAgICAgIHZhciBicmFuZE5hbWUgPSBicmFuZHNbaTJdLmJyYW5kIHx8IGJyYW5kc1tpMl0sIGJyYW5kVmVyc2lvbiA9IGJyYW5kc1tpMl0udmVyc2lvbjtcbiAgICAgICAgICAgIGlmICh0aGlzLml0ZW1UeXBlID09IFVBX0JST1dTRVIgJiYgIS9ub3QuYS5icmFuZC9pLnRlc3QoYnJhbmROYW1lKSAmJiAoIXByZXZOYW1lIHx8IC9jaHJvbS9pLnRlc3QocHJldk5hbWUpICYmIGJyYW5kTmFtZSAhPSBDSFJPTUlVTSkpIHtcbiAgICAgICAgICAgICAgYnJhbmROYW1lID0gc3RyTWFwcGVyKGJyYW5kTmFtZSwge1xuICAgICAgICAgICAgICAgIFwiQ2hyb21lXCI6IFwiR29vZ2xlIENocm9tZVwiLFxuICAgICAgICAgICAgICAgIFwiRWRnZVwiOiBcIk1pY3Jvc29mdCBFZGdlXCIsXG4gICAgICAgICAgICAgICAgXCJDaHJvbWUgV2ViVmlld1wiOiBcIkFuZHJvaWQgV2ViVmlld1wiLFxuICAgICAgICAgICAgICAgIFwiQ2hyb21lIEhlYWRsZXNzXCI6IFwiSGVhZGxlc3NDaHJvbWVcIixcbiAgICAgICAgICAgICAgICBcIkh1YXdlaSBCcm93c2VyXCI6IFwiSHVhd2VpQnJvd3NlclwiLFxuICAgICAgICAgICAgICAgIFwiTUlVSSBCcm93c2VyXCI6IFwiTWl1aSBCcm93c2VyXCIsXG4gICAgICAgICAgICAgICAgXCJPcGVyYSBNb2JpXCI6IFwiT3BlcmFNb2JpbGVcIixcbiAgICAgICAgICAgICAgICBcIllhbmRleFwiOiBcIllhQnJvd3NlclwiXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB0aGlzLnNldChOQU1FLCBicmFuZE5hbWUpLnNldChWRVJTSU9OLCBicmFuZFZlcnNpb24pLnNldChNQUpPUiwgbWFqb3JpemUoYnJhbmRWZXJzaW9uKSk7XG4gICAgICAgICAgICAgIHByZXZOYW1lID0gYnJhbmROYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXRlbVR5cGUgPT0gVUFfRU5HSU5FICYmIGJyYW5kTmFtZSA9PSBDSFJPTUlVTSkge1xuICAgICAgICAgICAgICB0aGlzLnNldChWRVJTSU9OLCBicmFuZFZlcnNpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVUFfQ1BVOlxuICAgICAgICB2YXIgYXJjaE5hbWUgPSB1YUNIMltBUkNISVRFQ1RVUkVdO1xuICAgICAgICBpZiAoYXJjaE5hbWUpIHtcbiAgICAgICAgICBpZiAoYXJjaE5hbWUgJiYgdWFDSDJbQklUTkVTU10gPT0gXCI2NFwiKSBhcmNoTmFtZSArPSBcIjY0XCI7XG4gICAgICAgICAgcmd4TWFwcGVyLmNhbGwodGhpcy5kYXRhLCBhcmNoTmFtZSArIFwiO1wiLCByZ3hNYXAyKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVUFfREVWSUNFOlxuICAgICAgICBpZiAodWFDSDJbTU9CSUxFXSkge1xuICAgICAgICAgIHRoaXMuc2V0KFRZUEUsIE1PQklMRSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVhQ0gyW01PREVMXSkge1xuICAgICAgICAgIHRoaXMuc2V0KE1PREVMLCB1YUNIMltNT0RFTF0pO1xuICAgICAgICAgIGlmICghdGhpcy5nZXQoVFlQRSkgfHwgIXRoaXMuZ2V0KFZFTkRPUikpIHtcbiAgICAgICAgICAgIHZhciByZVBhcnNlID0ge307XG4gICAgICAgICAgICByZ3hNYXBwZXIuY2FsbChyZVBhcnNlLCBcImRyb2lkIDk7IFwiICsgdWFDSDJbTU9ERUxdICsgXCIpXCIsIHJneE1hcDIpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmdldChUWVBFKSAmJiAhIXJlUGFyc2UudHlwZSkge1xuICAgICAgICAgICAgICB0aGlzLnNldChUWVBFLCByZVBhcnNlLnR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmdldChWRU5ET1IpICYmICEhcmVQYXJzZS52ZW5kb3IpIHtcbiAgICAgICAgICAgICAgdGhpcy5zZXQoVkVORE9SLCByZVBhcnNlLnZlbmRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh1YUNIMltGT1JNRkFDVE9SU10pIHtcbiAgICAgICAgICB2YXIgZmY7XG4gICAgICAgICAgaWYgKHR5cGVvZiB1YUNIMltGT1JNRkFDVE9SU10gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHZhciBpZHggPSAwO1xuICAgICAgICAgICAgd2hpbGUgKCFmZiAmJiBpZHggPCB1YUNIMltGT1JNRkFDVE9SU10ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGZmID0gc3RyTWFwcGVyKHVhQ0gyW0ZPUk1GQUNUT1JTXVtpZHgrK10sIGZvcm1GYWN0b3JzTWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmYgPSBzdHJNYXBwZXIodWFDSDJbRk9STUZBQ1RPUlNdLCBmb3JtRmFjdG9yc01hcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuc2V0KFRZUEUsIGZmKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVUFfT1M6XG4gICAgICAgIHZhciBvc05hbWUgPSB1YUNIMltQTEFURk9STV07XG4gICAgICAgIGlmIChvc05hbWUpIHtcbiAgICAgICAgICB2YXIgb3NWZXJzaW9uID0gdWFDSDJbUExBVEZPUk1WRVJdO1xuICAgICAgICAgIGlmIChvc05hbWUgPT0gV0lORE9XUykgb3NWZXJzaW9uID0gcGFyc2VJbnQobWFqb3JpemUob3NWZXJzaW9uKSwgMTApID49IDEzID8gXCIxMVwiIDogXCIxMFwiO1xuICAgICAgICAgIHRoaXMuc2V0KE5BTUUsIG9zTmFtZSkuc2V0KFZFUlNJT04sIG9zVmVyc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ2V0KE5BTUUpID09IFdJTkRPV1MgJiYgdWFDSDJbTU9ERUxdID09IFwiWGJveFwiKSB7XG4gICAgICAgICAgdGhpcy5zZXQoTkFNRSwgXCJYYm94XCIpLnNldChWRVJTSU9OLCB2b2lkIDApO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBVQV9SRVNVTFQ6XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgICAgICB2YXIgcGFyc2UgPSBmdW5jdGlvbihpdGVtVHlwZTIpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YVtpdGVtVHlwZTJdLmdldEl0ZW0oKS5zZXRDSCh1YUNIMikucGFyc2VDSCgpLmdldCgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldChVQV9CUk9XU0VSLCBwYXJzZShVQV9CUk9XU0VSKSkuc2V0KFVBX0NQVSwgcGFyc2UoVUFfQ1BVKSkuc2V0KFVBX0RFVklDRSwgcGFyc2UoVUFfREVWSUNFKSkuc2V0KFVBX0VOR0lORSwgcGFyc2UoVUFfRU5HSU5FKSkuc2V0KFVBX09TLCBwYXJzZShVQV9PUykpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgc2V0UHJvcHMuY2FsbCh0aGlzLCBbXG4gICAgW1wiaXRlbVR5cGVcIiwgaXRlbVR5cGVdLFxuICAgIFtcInVhXCIsIHVhXSxcbiAgICBbXCJ1YUNIXCIsIHVhQ0hdLFxuICAgIFtcInJneE1hcFwiLCByZ3hNYXBdLFxuICAgIFtcImRhdGFcIiwgY3JlYXRlSURhdGEodGhpcywgaXRlbVR5cGUpXVxuICBdKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5mdW5jdGlvbiBVQVBhcnNlcih1YSwgZXh0ZW5zaW9ucywgaGVhZGVycykge1xuICBpZiAodHlwZW9mIHVhID09PSBPQkpfVFlQRSkge1xuICAgIGlmIChpc0V4dGVuc2lvbnModWEsIHRydWUpKSB7XG4gICAgICBpZiAodHlwZW9mIGV4dGVuc2lvbnMgPT09IE9CSl9UWVBFKSB7XG4gICAgICAgIGhlYWRlcnMgPSBleHRlbnNpb25zO1xuICAgICAgfVxuICAgICAgZXh0ZW5zaW9ucyA9IHVhO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkZXJzID0gdWE7XG4gICAgICBleHRlbnNpb25zID0gdm9pZCAwO1xuICAgIH1cbiAgICB1YSA9IHZvaWQgMDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdWEgPT09IFNUUl9UWVBFICYmICFpc0V4dGVuc2lvbnMoZXh0ZW5zaW9ucywgdHJ1ZSkpIHtcbiAgICBoZWFkZXJzID0gZXh0ZW5zaW9ucztcbiAgICBleHRlbnNpb25zID0gdm9pZCAwO1xuICB9XG4gIGlmIChoZWFkZXJzICYmIHR5cGVvZiBoZWFkZXJzLmFwcGVuZCA9PT0gRlVOQ19UWVBFKSB7XG4gICAgdmFyIGt2ID0ge307XG4gICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHYyLCBrMikge1xuICAgICAga3ZbazJdID0gdjI7XG4gICAgfSk7XG4gICAgaGVhZGVycyA9IGt2O1xuICB9XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBVQVBhcnNlcikpIHtcbiAgICByZXR1cm4gbmV3IFVBUGFyc2VyKHVhLCBleHRlbnNpb25zLCBoZWFkZXJzKS5nZXRSZXN1bHQoKTtcbiAgfVxuICB2YXIgdXNlckFnZW50ID0gdHlwZW9mIHVhID09PSBTVFJfVFlQRSA/IHVhIDogKFxuICAgIC8vIFBhc3NlZCB1c2VyLWFnZW50IHN0cmluZ1xuICAgIGhlYWRlcnMgJiYgaGVhZGVyc1tVU0VSX0FHRU5UXSA/IGhlYWRlcnNbVVNFUl9BR0VOVF0gOiAoXG4gICAgICAvLyBVc2VyLUFnZW50IGZyb20gcGFzc2VkIGhlYWRlcnNcbiAgICAgIE5BVklHQVRPUiAmJiBOQVZJR0FUT1IudXNlckFnZW50ID8gTkFWSUdBVE9SLnVzZXJBZ2VudCA6IChcbiAgICAgICAgLy8gbmF2aWdhdG9yLnVzZXJBZ2VudFxuICAgICAgICBFTVBUWVxuICAgICAgKVxuICAgIClcbiAgKSwgaHR0cFVBQ0ggPSBuZXcgVUFDSERhdGEoaGVhZGVycywgdHJ1ZSksIHJlZ2V4TWFwID0gZXh0ZW5zaW9ucyA/IGV4dGVuZChkZWZhdWx0UmVnZXhlcywgZXh0ZW5zaW9ucykgOiBkZWZhdWx0UmVnZXhlcywgY3JlYXRlSXRlbUZ1bmMgPSBmdW5jdGlvbihpdGVtVHlwZSkge1xuICAgIGlmIChpdGVtVHlwZSA9PSBVQV9SRVNVTFQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVQUl0ZW0oaXRlbVR5cGUsIHVzZXJBZ2VudCwgcmVnZXhNYXAsIGh0dHBVQUNIKS5zZXQoXCJ1YVwiLCB1c2VyQWdlbnQpLnNldChVQV9CUk9XU0VSLCB0aGlzLmdldEJyb3dzZXIoKSkuc2V0KFVBX0NQVSwgdGhpcy5nZXRDUFUoKSkuc2V0KFVBX0RFVklDRSwgdGhpcy5nZXREZXZpY2UoKSkuc2V0KFVBX0VOR0lORSwgdGhpcy5nZXRFbmdpbmUoKSkuc2V0KFVBX09TLCB0aGlzLmdldE9TKCkpLmdldCgpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IFVBSXRlbShpdGVtVHlwZSwgdXNlckFnZW50LCByZWdleE1hcFtpdGVtVHlwZV0sIGh0dHBVQUNIKS5wYXJzZVVBKCkuZ2V0KCk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgc2V0UHJvcHMuY2FsbCh0aGlzLCBbXG4gICAgW1wiZ2V0QnJvd3NlclwiLCBjcmVhdGVJdGVtRnVuYyhVQV9CUk9XU0VSKV0sXG4gICAgW1wiZ2V0Q1BVXCIsIGNyZWF0ZUl0ZW1GdW5jKFVBX0NQVSldLFxuICAgIFtcImdldERldmljZVwiLCBjcmVhdGVJdGVtRnVuYyhVQV9ERVZJQ0UpXSxcbiAgICBbXCJnZXRFbmdpbmVcIiwgY3JlYXRlSXRlbUZ1bmMoVUFfRU5HSU5FKV0sXG4gICAgW1wiZ2V0T1NcIiwgY3JlYXRlSXRlbUZ1bmMoVUFfT1MpXSxcbiAgICBbXCJnZXRSZXN1bHRcIiwgY3JlYXRlSXRlbUZ1bmMoVUFfUkVTVUxUKV0sXG4gICAgW1wiZ2V0VUFcIiwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdXNlckFnZW50O1xuICAgIH1dLFxuICAgIFtcInNldFVBXCIsIGZ1bmN0aW9uKHVhMikge1xuICAgICAgaWYgKGlzU3RyaW5nKHVhMikpXG4gICAgICAgIHVzZXJBZ2VudCA9IHVhMi5sZW5ndGggPiBVQV9NQVhfTEVOR1RIID8gdHJpbSh1YTIsIFVBX01BWF9MRU5HVEgpIDogdWEyO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfV1cbiAgXSkuc2V0VUEodXNlckFnZW50KTtcbiAgcmV0dXJuIHRoaXM7XG59XG5VQVBhcnNlci5WRVJTSU9OID0gTElCVkVSU0lPTjtcblVBUGFyc2VyLkJST1dTRVIgPSBlbnVtZXJpemUoW05BTUUsIFZFUlNJT04sIE1BSk9SLCBUWVBFXSk7XG5VQVBhcnNlci5DUFUgPSBlbnVtZXJpemUoW0FSQ0hJVEVDVFVSRV0pO1xuVUFQYXJzZXIuREVWSUNFID0gZW51bWVyaXplKFtNT0RFTCwgVkVORE9SLCBUWVBFLCBDT05TT0xFLCBNT0JJTEUsIFNNQVJUVFYsIFRBQkxFVCwgV0VBUkFCTEUsIEVNQkVEREVEXSk7XG5VQVBhcnNlci5FTkdJTkUgPSBVQVBhcnNlci5PUyA9IGVudW1lcml6ZShbTkFNRSwgVkVSU0lPTl0pO1xuY29uc3QgdXNlQnJvd3NlckluZm8gPSAoKSA9PiB7XG4gIGNvbnN0IGJyb3dzZXJJbmZvID0gVCQ1KCgpID0+IHtcbiAgICB7XG4gICAgICBjb25zdCBwYXJzZXIgPSBuZXcgVUFQYXJzZXIoKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci5nZXRSZXN1bHQoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJyb3dzZXI6IHJlc3VsdC5icm93c2VyLFxuICAgICAgICBlbmdpbmU6IHJlc3VsdC5lbmdpbmUsXG4gICAgICAgIG9zOiByZXN1bHQub3MsXG4gICAgICAgIGRldmljZTogcmVzdWx0LmRldmljZSxcbiAgICAgICAgY3B1OiByZXN1bHQuY3B1XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW10pO1xuICByZXR1cm4gYnJvd3NlckluZm87XG59O1xuZnVuY3Rpb24gdXNlSG90a2V5TGlzdGVuZXJDb21ib1RleHQoYWN0aW9uKSB7XG4gIGNvbnN0IHVzZXJBZ2VudCA9IHVzZUJyb3dzZXJJbmZvKCk7XG4gIHJldHVybiB1c2VyQWdlbnQub3MubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwibWFjXCIpID8gaG90a2V5QWN0aW9uRGVmaW5pdGlvbnNbYWN0aW9uXS5rZXlDb21ib01hYyA6IGhvdGtleUFjdGlvbkRlZmluaXRpb25zW2FjdGlvbl0ua2V5Q29tYm9EZWZhdWx0O1xufVxuZnVuY3Rpb24gQ2hhdEJveCgpIHtcbiAgY29uc3QgY2hhdFN0YXRlID0gdXNlQ2hhdFN0YXRlKCk7XG4gIGNvbnN0IGN1cnJlbnRDaGF0ID0gVCQ1KFxuICAgICgpID0+IGNoYXRTdGF0ZS5jaGF0cy5maW5kKChjMikgPT4gYzIuaWQgPT09IGNoYXRTdGF0ZS5jdXJyZW50Q2hhdElkKSxcbiAgICBbY2hhdFN0YXRlLmNoYXRzLCBjaGF0U3RhdGUuY3VycmVudENoYXRJZF1cbiAgKTtcbiAgY29uc3QgY3VycmVudElucHV0ID0gVCQ1KFxuICAgICgpID0+IChjdXJyZW50Q2hhdCA9PSBudWxsID8gdm9pZCAwIDogY3VycmVudENoYXQuaW5wdXRWYWx1ZSkgfHwgXCJcIixcbiAgICBbY3VycmVudENoYXQgPT0gbnVsbCA/IHZvaWQgMCA6IGN1cnJlbnRDaGF0LmlucHV0VmFsdWVdXG4gICk7XG4gIGNvbnN0IHNob3dCaWdCb3ggPSBUJDUoKCkgPT4ge1xuICAgIHJldHVybiBjdXJyZW50SW5wdXQuc3BsaXQoXCJcXG5cIikubGVuZ3RoID4gMSB8fCBjdXJyZW50SW5wdXQubGVuZ3RoID4gMzA7XG4gIH0sIFtjdXJyZW50SW5wdXRdKTtcbiAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSBxJDMoXG4gICAgKHZhbHVlKSA9PiB7XG4gICAgICBjaGF0U3RhdGUuc2V0Q2hhdElucHV0KGNoYXRTdGF0ZS5jdXJyZW50Q2hhdElkLCB2YWx1ZSk7XG4gICAgfSxcbiAgICBbY2hhdFN0YXRlLnNldENoYXRJbnB1dCwgY2hhdFN0YXRlLmN1cnJlbnRDaGF0SWRdXG4gICk7XG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IHEkMygoKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50Q2hhdCB8fCAhY3VycmVudElucHV0LnRyaW0oKSkgcmV0dXJuO1xuICAgIGNoYXRTdGF0ZS5hZGRNZXNzYWdlKGN1cnJlbnRDaGF0LmlkLCBjdXJyZW50SW5wdXQpO1xuICB9LCBbY3VycmVudENoYXQsIGN1cnJlbnRJbnB1dCwgY2hhdFN0YXRlLmFkZE1lc3NhZ2VdKTtcbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IHEkMyhcbiAgICAoZTIpID0+IHtcbiAgICAgIGlmIChlMi5rZXkgPT09IFwiRW50ZXJcIiAmJiAhZTIuc2hpZnRLZXkpIHtcbiAgICAgICAgZTIucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaGFuZGxlU3VibWl0KCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbaGFuZGxlU3VibWl0XVxuICApO1xuICBjb25zdCBpbnB1dFJlZiA9IEEkMyhudWxsKTtcbiAgeSQ2KCgpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBjb25zdCBibHVySGFuZGxlciA9ICgpID0+IHtcbiAgICAgIHZhciBfYTI7XG4gICAgICByZXR1cm4gKF9hMiA9IGlucHV0UmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuZm9jdXMoKTtcbiAgICB9O1xuICAgIGlmIChjaGF0U3RhdGUuaXNQcm9tcHRDcmVhdGlvbkFjdGl2ZSkge1xuICAgICAgKF9hID0gaW5wdXRSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7XG4gICAgICAoX2IgPSBpbnB1dFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2IuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgYmx1ckhhbmRsZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAoX2MgPSBpbnB1dFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2MuYmx1cigpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIChfYTIgPSBpbnB1dFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIGJsdXJIYW5kbGVyKTtcbiAgICB9O1xuICB9LCBbY2hhdFN0YXRlLmlzUHJvbXB0Q3JlYXRpb25BY3RpdmVdKTtcbiAgY29uc3QgYnV0dG9uQ2xhc3NOYW1lID0gVCQ1KFxuICAgICgpID0+IGNuKFxuICAgICAgXCJmbGV4IHNpemUtNiBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1mdWxsIGJnLXRyYW5zcGFyZW50IHAtMSB0ZXh0LXppbmMtOTUwIG9wYWNpdHktMjBcIixcbiAgICAgIGN1cnJlbnRJbnB1dC5sZW5ndGggPiAwICYmIFwiYmctYmx1ZS02MDAgdGV4dC13aGl0ZSBvcGFjaXR5LTEwMFwiXG4gICAgKSxcbiAgICBbY3VycmVudElucHV0Lmxlbmd0aF1cbiAgKTtcbiAgY29uc3QgdGV4dGFyZWFDbGFzc05hbWUgPSBUJDUoXG4gICAgKCkgPT4gY24oXG4gICAgICBcInctZnVsbCBmbGV4LTEgcmVzaXplLW5vbmUgYmctdHJhbnNwYXJlbnQgdGV4dC16aW5jLTk1MCBwbGFjZWhvbGRlcjp0ZXh0LXppbmMtOTUwLzUwIGZvY3VzOm91dGxpbmUtbm9uZVwiLFxuICAgICAgc2hvd0JpZ0JveCA/IFwiaC1bNC41ZW1dXCIgOiBcImgtNlwiXG4gICAgKSxcbiAgICBbc2hvd0JpZ0JveF1cbiAgKTtcbiAgY29uc3QgY3RybEFsdENUZXh0ID0gdXNlSG90a2V5TGlzdGVuZXJDb21ib1RleHQoSG90a2V5QWN0aW9ucy5DVFJMX0FMVF9DKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IGNuKFxuICAgICAgICBcImZsZXggaC1maXQgdy04MCBmbGV4LTEgZmxleC1yb3cgaXRlbXMtZW5kIGdhcC0xIHJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItYm9yZGVyLzEwIGJnLXppbmMtOTUwLzUgcC0xLjUgcGwtMiB0ZXh0LXNtIHRleHQtemluYy05NTAgc2hhZG93LWlubmVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MCBwbGFjZWhvbGRlcjp0ZXh0LXppbmMtOTUwLzcwXCIsXG4gICAgICAgIGNoYXRTdGF0ZS5pc1Byb21wdENyZWF0aW9uQWN0aXZlICYmIFwicmluZy0yIHJpbmctYmx1ZS02MDBcIlxuICAgICAgKSxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IGNoYXRTdGF0ZS5zdGFydFByb21wdENyZWF0aW9uKCksXG4gICAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgICAgdGFiSW5kZXg6IDAsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgICAgIEosXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVmOiBpbnB1dFJlZixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogdGV4dGFyZWFDbGFzc05hbWUsXG4gICAgICAgICAgICByb3dzOiBzaG93QmlnQm94ID8gNCA6IDEsXG4gICAgICAgICAgICB2YWx1ZTogY3VycmVudElucHV0LFxuICAgICAgICAgICAgb25DaGFuZ2U6IChlMikgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoZTIuY3VycmVudFRhcmdldC52YWx1ZSksXG4gICAgICAgICAgICBvbktleURvd246IGhhbmRsZUtleURvd24sXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogY2hhdFN0YXRlLmlzUHJvbXB0Q3JlYXRpb25BY3RpdmUgPyBcIkVudGVyIHByb21wdC4uLlwiIDogYFdoYXQgZG8geW91IHdhbnQgdG8gY2hhbmdlPyAoJHtjdHJsQWx0Q1RleHR9KWBcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICAgICAgSCQzLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogYnV0dG9uQ2xhc3NOYW1lLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IGN1cnJlbnRJbnB1dC5sZW5ndGggPT09IDAsXG4gICAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVTdWJtaXQsXG4gICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShTZW5kLCB7IGNsYXNzTmFtZTogXCJzaXplLTNcIiB9KVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn1cbmNvbnN0IERyb3Bkb3duTWVudSA9IHRvO1xuY29uc3QgRHJvcGRvd25NZW51QnV0dG9uID0gRCQxKFxuICAocHJvcHMsIHJlZikgPT4ge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KG10LCB7IGFzOiBrJDMsIHJlZiwgLi4ucHJvcHMgfSk7XG4gIH1cbik7XG5jb25zdCBEcm9wZG93bk1lbnVDb250ZW50ID0gRCQxKFxuICAocHJvcHMsIHJlZikgPT4ge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgVHQsXG4gICAgICB7XG4gICAgICAgIHJlZixcbiAgICAgICAgYW5jaG9yOiBcImJvdHRvbVwiLFxuICAgICAgICB0cmFuc2l0aW9uOiB0cnVlLFxuICAgICAgICBwb3J0YWw6IHRydWUsXG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICBjbGFzc05hbWU6IGNuKFxuICAgICAgICAgIFwiei01MCBmbGV4IHctZml0IG1pbi13LTI0IG1heC13LTkwIGZsZXgtY29sIGl0ZW1zLXN0cmV0Y2gganVzdGlmeS1zdGFydCBnYXAtMSByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYm9yZGVyLzMwIGJvcmRlci1zb2xpZCBiZy1iYWNrZ3JvdW5kLzYwIHAtMSBzaGFkb3ctYmxhY2svNTAgc2hhZG93LWxnIG91dGxpbmUtbm9uZSBiYWNrZHJvcC1ibHVyLW1kIGRhdGEtZm9jdXM6b3V0bGluZS1ub25lXCIsXG4gICAgICAgICAgcHJvcHMuY2xhc3NOYW1lXG4gICAgICAgIClcbiAgICAgIH1cbiAgICApO1xuICB9XG4pO1xuY29uc3QgRHJvcGRvd25NZW51SXRlbVN0eWxlcyA9IFwidy1mdWxsIGZsZXggZmxleC1yb3cgc2VsZWN0LW5vbmUgaXRlbXMtY2VudGVyIGp1c3RpZnktc3RhcnQgZ2FwLTIgcC0yIHByLTYgdHJ1bmNhdGUgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbWQgaG92ZXI6YmctemluYy05NTAvMTAgZm9jdXM6dGV4dC16aW5jLTkwMCBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9yIGR1cmF0aW9uLTE1MCB0ZXh0LXNtIGZvbnQtbm9ybWFsIHRleHQtZm9yZWdyb3VuZFwiO1xuY29uc3QgRHJvcGRvd25NZW51QnV0dHRvbkl0ZW0gPSBEJDEoXG4gIChwcm9wcywgcmVmKSA9PiB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoZnQsIHsgcmVmLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgIEgkMyxcbiAgICAgIHtcbiAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgIGNsYXNzTmFtZTogY24oRHJvcGRvd25NZW51SXRlbVN0eWxlcywgcHJvcHMuY2xhc3NOYW1lKVxuICAgICAgfVxuICAgICkgfSk7XG4gIH1cbik7XG5EJDEoXG4gIChwcm9wcywgcmVmKSA9PiB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoZnQsIHsgcmVmLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShcImFcIiwgeyAuLi5wcm9wcywgY2xhc3NOYW1lOiBjbihEcm9wZG93bk1lbnVJdGVtU3R5bGVzLCBwcm9wcy5jbGFzc05hbWUpIH0pIH0pO1xuICB9XG4pO1xuZnVuY3Rpb24gVG9vbGJhckl0ZW0ocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBoLWZ1bGwgc2hyaW5rLTAgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCIsIGNoaWxkcmVuOiBbXG4gICAgcHJvcHMuY2hpbGRyZW4sXG4gICAgcHJvcHMuYmFkZ2VDb250ZW50ICYmIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICBcImRpdlwiLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IGNuKFxuICAgICAgICAgIFwiYmctYmx1ZS02MDAgdGV4dC13aGl0ZVwiLFxuICAgICAgICAgIHByb3BzLmJhZGdlQ2xhc3NOYW1lLFxuICAgICAgICAgIFwiLWJvdHRvbS0wLjUgLXJpZ2h0LTEgcG9pbnRlci1ldmVudHMtbm9uZSBhYnNvbHV0ZSBmbGV4IGgtNCB3LW1heCBtaW4tdy00IG1heC13LTggc2VsZWN0LW5vbmUgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRydW5jYXRlIHJvdW5kZWQtZnVsbCBweC0xIGZvbnQtc2VtaWJvbGQgdGV4dC14c1wiXG4gICAgICAgICksXG4gICAgICAgIGNoaWxkcmVuOiBwcm9wcy5iYWRnZUNvbnRlbnRcbiAgICAgIH1cbiAgICApLFxuICAgIHByb3BzLnN0YXR1c0RvdCAmJiAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgXCJkaXZcIixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbihcbiAgICAgICAgICBcImJnLXJvc2UtNjAwXCIsXG4gICAgICAgICAgcHJvcHMuc3RhdHVzRG90Q2xhc3NOYW1lLFxuICAgICAgICAgIFwicG9pbnRlci1ldmVudHMtbm9uZSBhYnNvbHV0ZSB0b3AtMCByaWdodC0wIHNpemUtMS41IHJvdW5kZWQtZnVsbFwiXG4gICAgICAgIClcbiAgICAgIH1cbiAgICApXG4gIF0gfSk7XG59XG5jb25zdCBUb29sYmFyQnV0dG9uID0gRCQxKFxuICAoe1xuICAgIGJhZGdlQ29udGVudCxcbiAgICBiYWRnZUNsYXNzTmFtZSxcbiAgICBzdGF0dXNEb3QsXG4gICAgc3RhdHVzRG90Q2xhc3NOYW1lLFxuICAgIHRvb2x0aXBIaW50LFxuICAgIHZhcmlhbnQgPSBcImRlZmF1bHRcIixcbiAgICAuLi5wcm9wc1xuICB9LCByZWYpID0+IHtcbiAgICBjb25zdCBidXR0b24gPSAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgSCQzLFxuICAgICAge1xuICAgICAgICByZWYsXG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICBjbGFzc05hbWU6IGNuKFxuICAgICAgICAgIFwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1mdWxsIHAtMSB0ZXh0LXppbmMtOTUwIGhvdmVyOmJnLXppbmMtOTUwLzVcIixcbiAgICAgICAgICB2YXJpYW50ID09PSBcImRlZmF1bHRcIiA/IFwic2l6ZS04XCIgOiBcImgtOCByb3VuZGVkLWZ1bGxcIlxuICAgICAgICApXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgIFRvb2xiYXJJdGVtLFxuICAgICAge1xuICAgICAgICBiYWRnZUNvbnRlbnQsXG4gICAgICAgIGJhZGdlQ2xhc3NOYW1lLFxuICAgICAgICBzdGF0dXNEb3QsXG4gICAgICAgIHN0YXR1c0RvdENsYXNzTmFtZSxcbiAgICAgICAgY2hpbGRyZW46IGJ1dHRvblxuICAgICAgfVxuICAgICk7XG4gIH1cbik7XG5Ub29sYmFyQnV0dG9uLmRpc3BsYXlOYW1lID0gXCJUb29sYmFyQnV0dG9uXCI7XG5mdW5jdGlvbiBUb29sYmFyU2VjdGlvbih7IGNoaWxkcmVuIH0pIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmFkZS1pbiBzbGlkZS1pbi1mcm9tLWJvdHRvbS0yIGZsZXggbWF4LWgtZnVsbCBtYXgtdy1zbSBhbmltYXRlLWluIHNuYXAtc3RhcnQgZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMiBib3JkZXIteCBib3JkZXItci1ib3JkZXIvMzAgYm9yZGVyLWwtdHJhbnNwYXJlbnQgcHgtMyBmaXJzdDpwbC0wIGxhc3Q6Ym9yZGVyLXItdHJhbnNwYXJlbnQgbGFzdDpwci0wXCIsIGNoaWxkcmVuIH0pO1xufVxuZnVuY3Rpb24gTW9yZUFjdGlvbnNCdXR0b24oKSB7XG4gIGNvbnN0IG1pbmltaXplQ29tcGFuaW9uID0gdXNlQXBwU3RhdGUoKHN0YXRlKSA9PiBzdGF0ZS5taW5pbWl6ZSk7XG4gIGNvbnN0IHBsdWdpbnMgPSB1c2VQbHVnaW5zKCk7XG4gIGNvbnN0IHBsdWdpblRvb2xzID0gVCQ1KCgpID0+IHtcbiAgICByZXR1cm4gcGx1Z2lucy5mbGF0TWFwKChwbHVnaW4pID0+IHBsdWdpbi5hY3Rpb25zKTtcbiAgfSwgW3BsdWdpbnNdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoVG9vbGJhclNlY3Rpb24sIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoRHJvcGRvd25NZW51LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIHUkOShEcm9wZG93bk1lbnVCdXR0b24sIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoVG9vbGJhckJ1dHRvbiwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShFbGxpcHNpcywgeyBjbGFzc05hbWU6IFwic2l6ZS00XCIgfSkgfSkgfSksXG4gICAgLyogQF9fUFVSRV9fICovIHUkOShEcm9wZG93bk1lbnVDb250ZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgICBwbHVnaW5Ub29scy5tYXAoKHRvb2wpID0+IC8qIEBfX1BVUkVfXyAqLyB1JDkoRHJvcGRvd25NZW51QnV0dHRvbkl0ZW0sIHsgb25DbGljazogdG9vbC5leGVjdXRlLCBjaGlsZHJlbjogdG9vbC5uYW1lIH0pKSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoRHJvcGRvd25NZW51QnV0dHRvbkl0ZW0sIHsgb25DbGljazogbWluaW1pemVDb21wYW5pb24sIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoTWluaW1pemUyLCB7IGNsYXNzTmFtZTogXCJzaXplLTRcIiB9KSxcbiAgICAgICAgXCJNaW5pbWl6ZSBjb21wYW5pb25cIlxuICAgICAgXSB9KVxuICAgIF0gfSlcbiAgXSB9KSB9KTtcbn1cbmNvbnN0IERyYWdnYWJsZUNvbnRleHQgPSBLJDMoXG4gIG51bGxcbik7XG5jb25zdCBEcmFnZ2FibGVQcm92aWRlciA9ICh7XG4gIGNvbnRhaW5lclJlZixcbiAgY2hpbGRyZW4sXG4gIHNuYXBBcmVhcyxcbiAgb25EcmFnU3RhcnQsXG4gIG9uRHJhZ0VuZFxufSkgPT4ge1xuICBjb25zdCBbYm9yZGVyTG9jYXRpb24sIHNldEJvcmRlckxvY2F0aW9uXSA9IGQkNCh7XG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgYm90dG9tOiAwXG4gIH0pO1xuICBjb25zdCBkcmFnU3RhcnRMaXN0ZW5lcnMgPSBBJDMoLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gIGNvbnN0IGRyYWdFbmRMaXN0ZW5lcnMgPSBBJDMoLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gIGNvbnN0IHJlZ2lzdGVyRHJhZ1N0YXJ0ID0gcSQzKChjYikgPT4ge1xuICAgIGRyYWdTdGFydExpc3RlbmVycy5jdXJyZW50LmFkZChjYik7XG4gICAgcmV0dXJuICgpID0+IGRyYWdTdGFydExpc3RlbmVycy5jdXJyZW50LmRlbGV0ZShjYik7XG4gIH0sIFtdKTtcbiAgY29uc3QgcmVnaXN0ZXJEcmFnRW5kID0gcSQzKChjYikgPT4ge1xuICAgIGRyYWdFbmRMaXN0ZW5lcnMuY3VycmVudC5hZGQoY2IpO1xuICAgIHJldHVybiAoKSA9PiBkcmFnRW5kTGlzdGVuZXJzLmN1cnJlbnQuZGVsZXRlKGNiKTtcbiAgfSwgW10pO1xuICBjb25zdCBlbWl0RHJhZ1N0YXJ0ID0gcSQzKCgpID0+IHtcbiAgICBpZiAob25EcmFnU3RhcnQpIG9uRHJhZ1N0YXJ0KCk7XG4gICAgZHJhZ1N0YXJ0TGlzdGVuZXJzLmN1cnJlbnQuZm9yRWFjaCgoY2IpID0+IGNiKCkpO1xuICB9LCBbb25EcmFnU3RhcnRdKTtcbiAgY29uc3QgZW1pdERyYWdFbmQgPSBxJDMoKCkgPT4ge1xuICAgIGlmIChvbkRyYWdFbmQpIG9uRHJhZ0VuZCgpO1xuICAgIGRyYWdFbmRMaXN0ZW5lcnMuY3VycmVudC5mb3JFYWNoKChjYikgPT4gY2IoKSk7XG4gIH0sIFtvbkRyYWdFbmRdKTtcbiAgY29uc3QgY29udGV4dFZhbHVlID0ge1xuICAgIGJvcmRlckxvY2F0aW9uLFxuICAgIHNuYXBBcmVhcyxcbiAgICByZWdpc3RlckRyYWdTdGFydCxcbiAgICByZWdpc3RlckRyYWdFbmQsXG4gICAgZW1pdERyYWdTdGFydCxcbiAgICBlbWl0RHJhZ0VuZFxuICB9O1xuICB5JDYoKCkgPT4ge1xuICAgIGlmICghY29udGFpbmVyUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBjb25zdCB1cGRhdGVCb3JkZXJMb2NhdGlvbiA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHJlY3QgPSBjb250YWluZXJSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHNldEJvcmRlckxvY2F0aW9uKHtcbiAgICAgICAgdG9wOiByZWN0LnRvcCxcbiAgICAgICAgbGVmdDogcmVjdC5sZWZ0LFxuICAgICAgICByaWdodDogcmVjdC5yaWdodCxcbiAgICAgICAgYm90dG9tOiByZWN0LmJvdHRvbVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB1cGRhdGVCb3JkZXJMb2NhdGlvbigpO1xuICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHVwZGF0ZUJvcmRlckxvY2F0aW9uKTtcbiAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGNvbnRhaW5lclJlZi5jdXJyZW50KTtcbiAgICBjb25zdCBoYW5kbGVTY3JvbGwgPSAoKSA9PiB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlQm9yZGVyTG9jYXRpb24pO1xuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2Nyb2xsLCB0cnVlKTtcbiAgICBsZXQgcGFyZW50ID0gY29udGFpbmVyUmVmLmN1cnJlbnQucGFyZW50RWxlbWVudDtcbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwpO1xuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwsIHRydWUpO1xuICAgICAgcGFyZW50ID0gKF9hID0gY29udGFpbmVyUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5wYXJlbnRFbGVtZW50O1xuICAgICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICBwYXJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwpO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudDtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbY29udGFpbmVyUmVmXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KERyYWdnYWJsZUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHRWYWx1ZSwgY2hpbGRyZW4gfSk7XG59O1xuZnVuY3Rpb24gdXNlRHJhZ2dhYmxlKGNvbmZpZykge1xuICBjb25zdCBwcm92aWRlckRhdGEgPSB4JDQoRHJhZ2dhYmxlQ29udGV4dCk7XG4gIGNvbnN0IGxhdGVzdFByb3ZpZGVyRGF0YVJlZiA9IEEkMyhwcm92aWRlckRhdGEpO1xuICB5JDYoKCkgPT4ge1xuICAgIGxhdGVzdFByb3ZpZGVyRGF0YVJlZi5jdXJyZW50ID0gcHJvdmlkZXJEYXRhO1xuICB9LCBbcHJvdmlkZXJEYXRhXSk7XG4gIGNvbnN0IG1vdmluZ0VsZW1lbnRSZWYgPSBBJDMobnVsbCk7XG4gIGNvbnN0IGRyYWdJbml0aWF0b3JSZWYgPSBBJDMobnVsbCk7XG4gIGNvbnN0IFttb3ZpbmdFbGVtZW50Tm9kZSwgc2V0TW92aW5nRWxlbWVudE5vZGVdID0gZCQ0KG51bGwpO1xuICBjb25zdCBbZHJhZ0luaXRpYXRvck5vZGUsIHNldERyYWdJbml0aWF0b3JOb2RlXSA9IGQkNChudWxsKTtcbiAgY29uc3QgbW91c2VUb0RyYWdnYWJsZUNlbnRlck9mZnNldFJlZiA9IEEkMyhudWxsKTtcbiAgY29uc3QgbW91c2VEb3duUG9zUmVmID0gQSQzKG51bGwpO1xuICBjb25zdCBjdXJyZW50TW91c2VQb3NSZWYgPSBBJDMobnVsbCk7XG4gIGNvbnN0IGlzRHJhZ2dpbmdSZWYgPSBBJDMoZmFsc2UpO1xuICBjb25zdCBwZXJzaXN0ZWRSZWxhdGl2ZUNlbnRlclJlZiA9IEEkMyhjb25maWcuaW5pdGlhbFJlbGF0aXZlQ2VudGVyKTtcbiAgY29uc3QgW2N1cnJlbnRTbmFwQXJlYSwgc2V0Q3VycmVudFNuYXBBcmVhXSA9IGQkNChudWxsKTtcbiAgY29uc3Qge1xuICAgIHN0YXJ0VGhyZXNob2xkID0gMyxcbiAgICBhcmVhU25hcFRocmVzaG9sZCA9IDYwLFxuICAgIC8vIHB4LCBkZWZhdWx0IHRocmVzaG9sZCBmb3Igc25hcHBpbmdcbiAgICBvbkRyYWdTdGFydCxcbiAgICBvbkRyYWdFbmQsXG4gICAgaW5pdGlhbFNuYXBBcmVhLFxuICAgIHNwcmluZ1N0aWZmbmVzcyA9IDAuMyxcbiAgICAvLyBEZWZhdWx0IHNwcmluZyBzdGlmZm5lc3NcbiAgICBzcHJpbmdEYW1wbmVzcyA9IDAuNVxuICAgIC8vIERlZmF1bHQgc3ByaW5nIGRhbXBuZXNzXG4gICAgLy8gaW5pdGlhbFJlbGF0aXZlQ2VudGVyIGlzIHVzZWQgdG8gaW5pdGlhbGl6ZSBwZXJzaXN0ZWRSZWxhdGl2ZUNlbnRlclJlZlxuICB9ID0gY29uZmlnO1xuICBjb25zdCBhbmltYXRlZFBvc2l0aW9uUmVmID0gQSQzKG51bGwpO1xuICBjb25zdCB2ZWxvY2l0eVJlZiA9IEEkMyh7IHg6IDAsIHk6IDAgfSk7XG4gIGNvbnN0IGhhc0FuaW1hdGVkT25jZVJlZiA9IEEkMyhmYWxzZSk7XG4gIHkkNigoKSA9PiB7XG4gICAgaWYgKGluaXRpYWxTbmFwQXJlYSAmJiBwcm92aWRlckRhdGEgJiYgcHJvdmlkZXJEYXRhLmJvcmRlckxvY2F0aW9uICYmIHByb3ZpZGVyRGF0YS5zbmFwQXJlYXMgJiYgcHJvdmlkZXJEYXRhLnNuYXBBcmVhc1tpbml0aWFsU25hcEFyZWFdICYmICFpc0RyYWdnaW5nUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnN0IHsgdG9wLCBsZWZ0LCByaWdodCwgYm90dG9tIH0gPSBwcm92aWRlckRhdGEuYm9yZGVyTG9jYXRpb247XG4gICAgICBjb25zdCB3aWR0aCA9IHJpZ2h0IC0gbGVmdDtcbiAgICAgIGNvbnN0IGhlaWdodCA9IGJvdHRvbSAtIHRvcDtcbiAgICAgIGNvbnN0IGFyZWFDZW50ZXJzID0ge1xuICAgICAgICB0b3BMZWZ0OiB7IHg6IGxlZnQsIHk6IHRvcCB9LFxuICAgICAgICB0b3BDZW50ZXI6IHsgeDogbGVmdCArIHdpZHRoIC8gMiwgeTogdG9wIH0sXG4gICAgICAgIHRvcFJpZ2h0OiB7IHg6IHJpZ2h0LCB5OiB0b3AgfSxcbiAgICAgICAgY2VudGVyTGVmdDogeyB4OiBsZWZ0LCB5OiB0b3AgKyBoZWlnaHQgLyAyIH0sXG4gICAgICAgIGNlbnRlcjogeyB4OiBsZWZ0ICsgd2lkdGggLyAyLCB5OiB0b3AgKyBoZWlnaHQgLyAyIH0sXG4gICAgICAgIGNlbnRlclJpZ2h0OiB7IHg6IHJpZ2h0LCB5OiB0b3AgKyBoZWlnaHQgLyAyIH0sXG4gICAgICAgIGJvdHRvbUxlZnQ6IHsgeDogbGVmdCwgeTogYm90dG9tIH0sXG4gICAgICAgIGJvdHRvbUNlbnRlcjogeyB4OiBsZWZ0ICsgd2lkdGggLyAyLCB5OiBib3R0b20gfSxcbiAgICAgICAgYm90dG9tUmlnaHQ6IHsgeDogcmlnaHQsIHk6IGJvdHRvbSB9XG4gICAgICB9O1xuICAgICAgY29uc3QgY2VudGVyID0gYXJlYUNlbnRlcnNbaW5pdGlhbFNuYXBBcmVhXTtcbiAgICAgIGlmIChjZW50ZXIgJiYgd2luZG93LmlubmVyV2lkdGggPiAwICYmIHdpbmRvdy5pbm5lckhlaWdodCA+IDApIHtcbiAgICAgICAgY29uc3QgcmVsWCA9IChjZW50ZXIueCAtIGxlZnQpIC8gKHJpZ2h0IC0gbGVmdCk7XG4gICAgICAgIGNvbnN0IHJlbFkgPSAoY2VudGVyLnkgLSB0b3ApIC8gKGJvdHRvbSAtIHRvcCk7XG4gICAgICAgIHBlcnNpc3RlZFJlbGF0aXZlQ2VudGVyUmVmLmN1cnJlbnQgPSB7IHg6IHJlbFgsIHk6IHJlbFkgfTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtpbml0aWFsU25hcEFyZWEsIHByb3ZpZGVyRGF0YV0pO1xuICBmdW5jdGlvbiBnZXRTbmFwQXJlYUNlbnRlcnMoYm9yZGVyTG9jYXRpb24pIHtcbiAgICBjb25zdCB7IHRvcCwgbGVmdCwgcmlnaHQsIGJvdHRvbSB9ID0gYm9yZGVyTG9jYXRpb247XG4gICAgY29uc3Qgd2lkdGggPSByaWdodCAtIGxlZnQ7XG4gICAgY29uc3QgaGVpZ2h0ID0gYm90dG9tIC0gdG9wO1xuICAgIHJldHVybiB7XG4gICAgICB0b3BMZWZ0OiB7IHg6IGxlZnQsIHk6IHRvcCB9LFxuICAgICAgdG9wQ2VudGVyOiB7IHg6IGxlZnQgKyB3aWR0aCAvIDIsIHk6IHRvcCB9LFxuICAgICAgdG9wUmlnaHQ6IHsgeDogcmlnaHQsIHk6IHRvcCB9LFxuICAgICAgY2VudGVyTGVmdDogeyB4OiBsZWZ0LCB5OiB0b3AgKyBoZWlnaHQgLyAyIH0sXG4gICAgICBjZW50ZXI6IHsgeDogbGVmdCArIHdpZHRoIC8gMiwgeTogdG9wICsgaGVpZ2h0IC8gMiB9LFxuICAgICAgY2VudGVyUmlnaHQ6IHsgeDogcmlnaHQsIHk6IHRvcCArIGhlaWdodCAvIDIgfSxcbiAgICAgIGJvdHRvbUxlZnQ6IHsgeDogbGVmdCwgeTogYm90dG9tIH0sXG4gICAgICBib3R0b21DZW50ZXI6IHsgeDogbGVmdCArIHdpZHRoIC8gMiwgeTogYm90dG9tIH0sXG4gICAgICBib3R0b21SaWdodDogeyB4OiByaWdodCwgeTogYm90dG9tIH1cbiAgICB9O1xuICB9XG4gIGNvbnN0IHVwZGF0ZURyYWdnYWJsZVBvc2l0aW9uID0gcSQzKCgpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IGRyYWdnYWJsZUVsID0gbW92aW5nRWxlbWVudFJlZi5jdXJyZW50O1xuICAgIGlmICghZHJhZ2dhYmxlRWwpIHJldHVybjtcbiAgICBjb25zdCBkcmFnZ2FibGVXaWR0aCA9IGRyYWdnYWJsZUVsLm9mZnNldFdpZHRoO1xuICAgIGNvbnN0IGRyYWdnYWJsZUhlaWdodCA9IGRyYWdnYWJsZUVsLm9mZnNldEhlaWdodDtcbiAgICBjb25zdCBvZmZzZXRQYXJlbnQgPSBkcmFnZ2FibGVFbC5vZmZzZXRQYXJlbnQ7XG4gICAgbGV0IHBhcmVudFZpZXdwb3J0TGVmdCA9IDA7XG4gICAgbGV0IHBhcmVudFZpZXdwb3J0VG9wID0gMDtcbiAgICBsZXQgcGFyZW50V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBsZXQgcGFyZW50SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGlmIChvZmZzZXRQYXJlbnQpIHtcbiAgICAgIGNvbnN0IG9wUmVjdCA9IG9mZnNldFBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHBhcmVudFZpZXdwb3J0TGVmdCA9IG9wUmVjdC5sZWZ0O1xuICAgICAgcGFyZW50Vmlld3BvcnRUb3AgPSBvcFJlY3QudG9wO1xuICAgICAgcGFyZW50V2lkdGggPSBvZmZzZXRQYXJlbnQub2Zmc2V0V2lkdGggfHwgd2luZG93LmlubmVyV2lkdGg7XG4gICAgICBwYXJlbnRIZWlnaHQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0SGVpZ2h0IHx8IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gICAgbGV0IHRhcmdldFZpZXdwb3J0Q2VudGVyWCA9IG51bGw7XG4gICAgbGV0IHRhcmdldFZpZXdwb3J0Q2VudGVyWSA9IG51bGw7XG4gICAgY29uc3QgY3VycmVudERlc2lyZWRSZWxhdGl2ZUNlbnRlciA9IHBlcnNpc3RlZFJlbGF0aXZlQ2VudGVyUmVmLmN1cnJlbnQ7XG4gICAgbGV0IHNuYXBBcmVhID0gbnVsbDtcbiAgICBsZXQgc25hcFRhcmdldCA9IG51bGw7XG4gICAgY29uc3QgcHJvdmlkZXIgPSBsYXRlc3RQcm92aWRlckRhdGFSZWYuY3VycmVudDtcbiAgICBpZiAoaXNEcmFnZ2luZ1JlZi5jdXJyZW50ICYmIG1vdXNlVG9EcmFnZ2FibGVDZW50ZXJPZmZzZXRSZWYuY3VycmVudCAmJiBjdXJyZW50TW91c2VQb3NSZWYuY3VycmVudCAmJiBwcm92aWRlciAmJiBwcm92aWRlci5ib3JkZXJMb2NhdGlvbiAmJiBwcm92aWRlci5zbmFwQXJlYXMpIHtcbiAgICAgIGNvbnN0IGRyYWdDZW50ZXIgPSB7XG4gICAgICAgIHg6IGN1cnJlbnRNb3VzZVBvc1JlZi5jdXJyZW50LnggLSBtb3VzZVRvRHJhZ2dhYmxlQ2VudGVyT2Zmc2V0UmVmLmN1cnJlbnQueCxcbiAgICAgICAgeTogY3VycmVudE1vdXNlUG9zUmVmLmN1cnJlbnQueSAtIG1vdXNlVG9EcmFnZ2FibGVDZW50ZXJPZmZzZXRSZWYuY3VycmVudC55XG4gICAgICB9O1xuICAgICAgY29uc3QgYXJlYUNlbnRlcnMgPSBnZXRTbmFwQXJlYUNlbnRlcnMocHJvdmlkZXIuYm9yZGVyTG9jYXRpb24pO1xuICAgICAgbGV0IG1pbkRpc3QgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICBsZXQgY2xvc2VzdEFyZWEgPSBudWxsO1xuICAgICAgbGV0IGNsb3Nlc3RDZW50ZXIgPSBudWxsO1xuICAgICAgZm9yIChjb25zdCBhcmVhIGluIHByb3ZpZGVyLnNuYXBBcmVhcykge1xuICAgICAgICBpZiAocHJvdmlkZXIuc25hcEFyZWFzW2FyZWFdKSB7XG4gICAgICAgICAgY29uc3QgY2VudGVyID0gYXJlYUNlbnRlcnNbYXJlYV07XG4gICAgICAgICAgaWYgKCFjZW50ZXIpIGNvbnRpbnVlO1xuICAgICAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLmh5cG90KFxuICAgICAgICAgICAgY2VudGVyLnggLSBkcmFnQ2VudGVyLngsXG4gICAgICAgICAgICBjZW50ZXIueSAtIGRyYWdDZW50ZXIueVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGRpc3QgPCBtaW5EaXN0KSB7XG4gICAgICAgICAgICBtaW5EaXN0ID0gZGlzdDtcbiAgICAgICAgICAgIGNsb3Nlc3RBcmVhID0gYXJlYTtcbiAgICAgICAgICAgIGNsb3Nlc3RDZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY2xvc2VzdEFyZWEgJiYgY2xvc2VzdENlbnRlciAmJiBtaW5EaXN0IDw9IGFyZWFTbmFwVGhyZXNob2xkKSB7XG4gICAgICAgIHNuYXBBcmVhID0gY2xvc2VzdEFyZWE7XG4gICAgICAgIHNuYXBUYXJnZXQgPSBjbG9zZXN0Q2VudGVyO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNEcmFnZ2luZ1JlZi5jdXJyZW50ICYmIHNuYXBUYXJnZXQpIHtcbiAgICAgIHRhcmdldFZpZXdwb3J0Q2VudGVyWCA9IHNuYXBUYXJnZXQueDtcbiAgICAgIHRhcmdldFZpZXdwb3J0Q2VudGVyWSA9IHNuYXBUYXJnZXQueTtcbiAgICAgIHNldEN1cnJlbnRTbmFwQXJlYShzbmFwQXJlYSk7XG4gICAgfSBlbHNlIGlmIChpc0RyYWdnaW5nUmVmLmN1cnJlbnQgJiYgbW91c2VUb0RyYWdnYWJsZUNlbnRlck9mZnNldFJlZi5jdXJyZW50ICYmIGN1cnJlbnRNb3VzZVBvc1JlZi5jdXJyZW50KSB7XG4gICAgICB0YXJnZXRWaWV3cG9ydENlbnRlclggPSBjdXJyZW50TW91c2VQb3NSZWYuY3VycmVudC54IC0gbW91c2VUb0RyYWdnYWJsZUNlbnRlck9mZnNldFJlZi5jdXJyZW50Lng7XG4gICAgICB0YXJnZXRWaWV3cG9ydENlbnRlclkgPSBjdXJyZW50TW91c2VQb3NSZWYuY3VycmVudC55IC0gbW91c2VUb0RyYWdnYWJsZUNlbnRlck9mZnNldFJlZi5jdXJyZW50Lnk7XG4gICAgICBzZXRDdXJyZW50U25hcEFyZWEobnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyICYmIHBhcmVudFdpZHRoID4gMCAmJiBwYXJlbnRIZWlnaHQgPiAwKSB7XG4gICAgICAgIGNvbnN0IGlzVG9wSGFsZjIgPSBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyLnkgPD0gMC41O1xuICAgICAgICBjb25zdCBpc0xlZnRIYWxmMiA9IGN1cnJlbnREZXNpcmVkUmVsYXRpdmVDZW50ZXIueCA8PSAwLjU7XG4gICAgICAgIGlmIChpc0xlZnRIYWxmMikge1xuICAgICAgICAgIGNvbnN0IHRhcmdldENlbnRlclhJblBhcmVudCA9IHBhcmVudFdpZHRoICogY3VycmVudERlc2lyZWRSZWxhdGl2ZUNlbnRlci54O1xuICAgICAgICAgIHRhcmdldFZpZXdwb3J0Q2VudGVyWCA9IHBhcmVudFZpZXdwb3J0TGVmdCArIHRhcmdldENlbnRlclhJblBhcmVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXRDZW50ZXJYSW5QYXJlbnQgPSBwYXJlbnRXaWR0aCAqICgxIC0gY3VycmVudERlc2lyZWRSZWxhdGl2ZUNlbnRlci54KTtcbiAgICAgICAgICB0YXJnZXRWaWV3cG9ydENlbnRlclggPSBwYXJlbnRWaWV3cG9ydExlZnQgKyBwYXJlbnRXaWR0aCAtIHRhcmdldENlbnRlclhJblBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNUb3BIYWxmMikge1xuICAgICAgICAgIGNvbnN0IHRhcmdldENlbnRlcllJblBhcmVudCA9IHBhcmVudEhlaWdodCAqIGN1cnJlbnREZXNpcmVkUmVsYXRpdmVDZW50ZXIueTtcbiAgICAgICAgICB0YXJnZXRWaWV3cG9ydENlbnRlclkgPSBwYXJlbnRWaWV3cG9ydFRvcCArIHRhcmdldENlbnRlcllJblBhcmVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXRDZW50ZXJZSW5QYXJlbnQgPSBwYXJlbnRIZWlnaHQgKiAoMSAtIGN1cnJlbnREZXNpcmVkUmVsYXRpdmVDZW50ZXIueSk7XG4gICAgICAgICAgdGFyZ2V0Vmlld3BvcnRDZW50ZXJZID0gcGFyZW50Vmlld3BvcnRUb3AgKyBwYXJlbnRIZWlnaHQgLSB0YXJnZXRDZW50ZXJZSW5QYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghKChfYSA9IG1vdmluZ0VsZW1lbnRSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnN0eWxlLmxlZnQpICYmICEoKF9iID0gbW92aW5nRWxlbWVudFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2Iuc3R5bGUudG9wKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwidXNlRHJhZ2dhYmxlOiBDYW5ub3QgZGV0ZXJtaW5lIHBvc2l0aW9uLiBQYXJlbnQgaGFzIG5vIGRpbWVuc2lvbnMgb3IgaW5pdGlhbFJlbGF0aXZlQ2VudGVyIHdhcyBub3QgZWZmZWN0aXZlbHkgc2V0LlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRDdXJyZW50U25hcEFyZWEobnVsbCk7XG4gICAgfVxuICAgIGlmICh0YXJnZXRWaWV3cG9ydENlbnRlclggPT09IG51bGwgfHwgdGFyZ2V0Vmlld3BvcnRDZW50ZXJZID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgYm9yZGVyTG9jYXRpb24gfSA9IGxhdGVzdFByb3ZpZGVyRGF0YVJlZi5jdXJyZW50IHx8IHtcbiAgICAgIGJvcmRlckxvY2F0aW9uOiB2b2lkIDBcbiAgICB9O1xuICAgIGlmIChib3JkZXJMb2NhdGlvbiAmJiBkcmFnZ2FibGVXaWR0aCA+IDAgJiYgZHJhZ2dhYmxlSGVpZ2h0ID4gMCkge1xuICAgICAgY29uc3QgcHJvdmlkZXJSZWN0V2lkdGggPSBib3JkZXJMb2NhdGlvbi5yaWdodCAtIGJvcmRlckxvY2F0aW9uLmxlZnQ7XG4gICAgICBjb25zdCBwcm92aWRlclJlY3RIZWlnaHQgPSBib3JkZXJMb2NhdGlvbi5ib3R0b20gLSBib3JkZXJMb2NhdGlvbi50b3A7XG4gICAgICBsZXQgY2xhbXBlZENlbnRlclggPSB0YXJnZXRWaWV3cG9ydENlbnRlclg7XG4gICAgICBsZXQgY2xhbXBlZENlbnRlclkgPSB0YXJnZXRWaWV3cG9ydENlbnRlclk7XG4gICAgICBpZiAoZHJhZ2dhYmxlV2lkdGggPj0gcHJvdmlkZXJSZWN0V2lkdGgpIHtcbiAgICAgICAgY2xhbXBlZENlbnRlclggPSBib3JkZXJMb2NhdGlvbi5sZWZ0ICsgcHJvdmlkZXJSZWN0V2lkdGggLyAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbWluWCA9IGJvcmRlckxvY2F0aW9uLmxlZnQgKyBkcmFnZ2FibGVXaWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IG1heFggPSBib3JkZXJMb2NhdGlvbi5yaWdodCAtIGRyYWdnYWJsZVdpZHRoIC8gMjtcbiAgICAgICAgY2xhbXBlZENlbnRlclggPSBNYXRoLm1heChtaW5YLCBNYXRoLm1pbihjbGFtcGVkQ2VudGVyWCwgbWF4WCkpO1xuICAgICAgfVxuICAgICAgaWYgKGRyYWdnYWJsZUhlaWdodCA+PSBwcm92aWRlclJlY3RIZWlnaHQpIHtcbiAgICAgICAgY2xhbXBlZENlbnRlclkgPSBib3JkZXJMb2NhdGlvbi50b3AgKyBwcm92aWRlclJlY3RIZWlnaHQgLyAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbWluWSA9IGJvcmRlckxvY2F0aW9uLnRvcCArIGRyYWdnYWJsZUhlaWdodCAvIDI7XG4gICAgICAgIGNvbnN0IG1heFkgPSBib3JkZXJMb2NhdGlvbi5ib3R0b20gLSBkcmFnZ2FibGVIZWlnaHQgLyAyO1xuICAgICAgICBjbGFtcGVkQ2VudGVyWSA9IE1hdGgubWF4KG1pblksIE1hdGgubWluKGNsYW1wZWRDZW50ZXJZLCBtYXhZKSk7XG4gICAgICB9XG4gICAgICB0YXJnZXRWaWV3cG9ydENlbnRlclggPSBjbGFtcGVkQ2VudGVyWDtcbiAgICAgIHRhcmdldFZpZXdwb3J0Q2VudGVyWSA9IGNsYW1wZWRDZW50ZXJZO1xuICAgIH1cbiAgICBpZiAoIWFuaW1hdGVkUG9zaXRpb25SZWYuY3VycmVudCkge1xuICAgICAgYW5pbWF0ZWRQb3NpdGlvblJlZi5jdXJyZW50ID0ge1xuICAgICAgICB4OiB0YXJnZXRWaWV3cG9ydENlbnRlclgsXG4gICAgICAgIHk6IHRhcmdldFZpZXdwb3J0Q2VudGVyWVxuICAgICAgfTtcbiAgICAgIHZlbG9jaXR5UmVmLmN1cnJlbnQgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnRTdHlsZVgyID0gdGFyZ2V0Vmlld3BvcnRDZW50ZXJYIC0gZHJhZ2dhYmxlV2lkdGggLyAyO1xuICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudFN0eWxlWTIgPSB0YXJnZXRWaWV3cG9ydENlbnRlclkgLSBkcmFnZ2FibGVIZWlnaHQgLyAyO1xuICAgICAgY29uc3QgaXNUb3BIYWxmMiA9IGN1cnJlbnREZXNpcmVkUmVsYXRpdmVDZW50ZXIgPyBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyLnkgPD0gMC41IDogdHJ1ZTtcbiAgICAgIGNvbnN0IGlzTGVmdEhhbGYyID0gY3VycmVudERlc2lyZWRSZWxhdGl2ZUNlbnRlciA/IGN1cnJlbnREZXNpcmVkUmVsYXRpdmVDZW50ZXIueCA8PSAwLjUgOiB0cnVlO1xuICAgICAgY29uc3QgZWxTdHlsZTIgPSBkcmFnZ2FibGVFbC5zdHlsZTtcbiAgICAgIGVsU3R5bGUyLnJpZ2h0ID0gXCJcIjtcbiAgICAgIGVsU3R5bGUyLmJvdHRvbSA9IFwiXCI7XG4gICAgICBlbFN0eWxlMi5sZWZ0ID0gXCJcIjtcbiAgICAgIGVsU3R5bGUyLnRvcCA9IFwiXCI7XG4gICAgICBpZiAoaXNMZWZ0SGFsZjIpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVMZWZ0UHggPSB0YXJnZXRFbGVtZW50U3R5bGVYMiAtIHBhcmVudFZpZXdwb3J0TGVmdDtcbiAgICAgICAgZWxTdHlsZTIubGVmdCA9IHBhcmVudFdpZHRoID4gMCA/IGAkeyhzdHlsZUxlZnRQeCAvIHBhcmVudFdpZHRoICogMTAwKS50b0ZpeGVkKDIpfSVgIDogXCIwcHhcIjtcbiAgICAgICAgZWxTdHlsZTIucmlnaHQgPSBcIlwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc3R5bGVSaWdodFB4ID0gcGFyZW50Vmlld3BvcnRMZWZ0ICsgcGFyZW50V2lkdGggLSAodGFyZ2V0RWxlbWVudFN0eWxlWDIgKyBkcmFnZ2FibGVXaWR0aCk7XG4gICAgICAgIGVsU3R5bGUyLnJpZ2h0ID0gcGFyZW50V2lkdGggPiAwID8gYCR7KHN0eWxlUmlnaHRQeCAvIHBhcmVudFdpZHRoICogMTAwKS50b0ZpeGVkKDIpfSVgIDogXCIwcHhcIjtcbiAgICAgICAgZWxTdHlsZTIubGVmdCA9IFwiXCI7XG4gICAgICB9XG4gICAgICBpZiAoaXNUb3BIYWxmMikge1xuICAgICAgICBjb25zdCBzdHlsZVRvcFB4ID0gdGFyZ2V0RWxlbWVudFN0eWxlWTIgLSBwYXJlbnRWaWV3cG9ydFRvcDtcbiAgICAgICAgZWxTdHlsZTIudG9wID0gcGFyZW50SGVpZ2h0ID4gMCA/IGAkeyhzdHlsZVRvcFB4IC8gcGFyZW50SGVpZ2h0ICogMTAwKS50b0ZpeGVkKDIpfSVgIDogXCIwcHhcIjtcbiAgICAgICAgZWxTdHlsZTIuYm90dG9tID0gXCJcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHN0eWxlQm90dG9tUHggPSBwYXJlbnRWaWV3cG9ydFRvcCArIHBhcmVudEhlaWdodCAtICh0YXJnZXRFbGVtZW50U3R5bGVZMiArIGRyYWdnYWJsZUhlaWdodCk7XG4gICAgICAgIGVsU3R5bGUyLmJvdHRvbSA9IHBhcmVudEhlaWdodCA+IDAgPyBgJHsoc3R5bGVCb3R0b21QeCAvIHBhcmVudEhlaWdodCAqIDEwMCkudG9GaXhlZCgyKX0lYCA6IFwiMHB4XCI7XG4gICAgICAgIGVsU3R5bGUyLnRvcCA9IFwiXCI7XG4gICAgICB9XG4gICAgICBoYXNBbmltYXRlZE9uY2VSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaGFzQW5pbWF0ZWRPbmNlUmVmLmN1cnJlbnQpIHtcbiAgICAgIGhhc0FuaW1hdGVkT25jZVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcG9zID0gYW5pbWF0ZWRQb3NpdGlvblJlZi5jdXJyZW50O1xuICAgIGNvbnN0IHZlbCA9IHZlbG9jaXR5UmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgZHggPSB0YXJnZXRWaWV3cG9ydENlbnRlclggLSBwb3MueDtcbiAgICBjb25zdCBkeSA9IHRhcmdldFZpZXdwb3J0Q2VudGVyWSAtIHBvcy55O1xuICAgIGNvbnN0IGF4ID0gc3ByaW5nU3RpZmZuZXNzICogZHggLSBzcHJpbmdEYW1wbmVzcyAqIHZlbC54O1xuICAgIGNvbnN0IGF5ID0gc3ByaW5nU3RpZmZuZXNzICogZHkgLSBzcHJpbmdEYW1wbmVzcyAqIHZlbC55O1xuICAgIHZlbC54ICs9IGF4O1xuICAgIHZlbC55ICs9IGF5O1xuICAgIHBvcy54ICs9IHZlbC54O1xuICAgIHBvcy55ICs9IHZlbC55O1xuICAgIGNvbnN0IHRocmVzaG9sZCA9IDAuNTtcbiAgICBpZiAoTWF0aC5hYnMoZHgpIDwgdGhyZXNob2xkICYmIE1hdGguYWJzKGR5KSA8IHRocmVzaG9sZCAmJiBNYXRoLmFicyh2ZWwueCkgPCB0aHJlc2hvbGQgJiYgTWF0aC5hYnModmVsLnkpIDwgdGhyZXNob2xkKSB7XG4gICAgICBwb3MueCA9IHRhcmdldFZpZXdwb3J0Q2VudGVyWDtcbiAgICAgIHBvcy55ID0gdGFyZ2V0Vmlld3BvcnRDZW50ZXJZO1xuICAgICAgdmVsLnggPSAwO1xuICAgICAgdmVsLnkgPSAwO1xuICAgIH1cbiAgICBhbmltYXRlZFBvc2l0aW9uUmVmLmN1cnJlbnQgPSB7IC4uLnBvcyB9O1xuICAgIHZlbG9jaXR5UmVmLmN1cnJlbnQgPSB7IC4uLnZlbCB9O1xuICAgIGNvbnN0IHRhcmdldEVsZW1lbnRTdHlsZVggPSBwb3MueCAtIGRyYWdnYWJsZVdpZHRoIC8gMjtcbiAgICBjb25zdCB0YXJnZXRFbGVtZW50U3R5bGVZID0gcG9zLnkgLSBkcmFnZ2FibGVIZWlnaHQgLyAyO1xuICAgIGNvbnN0IGlzVG9wSGFsZiA9IGN1cnJlbnREZXNpcmVkUmVsYXRpdmVDZW50ZXIgPyBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyLnkgPD0gMC41IDogdHJ1ZTtcbiAgICBjb25zdCBpc0xlZnRIYWxmID0gY3VycmVudERlc2lyZWRSZWxhdGl2ZUNlbnRlciA/IGN1cnJlbnREZXNpcmVkUmVsYXRpdmVDZW50ZXIueCA8PSAwLjUgOiB0cnVlO1xuICAgIGNvbnN0IGVsU3R5bGUgPSBkcmFnZ2FibGVFbC5zdHlsZTtcbiAgICBlbFN0eWxlLnJpZ2h0ID0gXCJcIjtcbiAgICBlbFN0eWxlLmJvdHRvbSA9IFwiXCI7XG4gICAgZWxTdHlsZS5sZWZ0ID0gXCJcIjtcbiAgICBlbFN0eWxlLnRvcCA9IFwiXCI7XG4gICAgaWYgKGlzTGVmdEhhbGYpIHtcbiAgICAgIGNvbnN0IHN0eWxlTGVmdFB4ID0gdGFyZ2V0RWxlbWVudFN0eWxlWCAtIHBhcmVudFZpZXdwb3J0TGVmdDtcbiAgICAgIGVsU3R5bGUubGVmdCA9IHBhcmVudFdpZHRoID4gMCA/IGAkeyhzdHlsZUxlZnRQeCAvIHBhcmVudFdpZHRoICogMTAwKS50b0ZpeGVkKDIpfSVgIDogXCIwcHhcIjtcbiAgICAgIGVsU3R5bGUucmlnaHQgPSBcIlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzdHlsZVJpZ2h0UHggPSBwYXJlbnRWaWV3cG9ydExlZnQgKyBwYXJlbnRXaWR0aCAtICh0YXJnZXRFbGVtZW50U3R5bGVYICsgZHJhZ2dhYmxlV2lkdGgpO1xuICAgICAgZWxTdHlsZS5yaWdodCA9IHBhcmVudFdpZHRoID4gMCA/IGAkeyhzdHlsZVJpZ2h0UHggLyBwYXJlbnRXaWR0aCAqIDEwMCkudG9GaXhlZCgyKX0lYCA6IFwiMHB4XCI7XG4gICAgICBlbFN0eWxlLmxlZnQgPSBcIlwiO1xuICAgIH1cbiAgICBpZiAoaXNUb3BIYWxmKSB7XG4gICAgICBjb25zdCBzdHlsZVRvcFB4ID0gdGFyZ2V0RWxlbWVudFN0eWxlWSAtIHBhcmVudFZpZXdwb3J0VG9wO1xuICAgICAgZWxTdHlsZS50b3AgPSBwYXJlbnRIZWlnaHQgPiAwID8gYCR7KHN0eWxlVG9wUHggLyBwYXJlbnRIZWlnaHQgKiAxMDApLnRvRml4ZWQoMil9JWAgOiBcIjBweFwiO1xuICAgICAgZWxTdHlsZS5ib3R0b20gPSBcIlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzdHlsZUJvdHRvbVB4ID0gcGFyZW50Vmlld3BvcnRUb3AgKyBwYXJlbnRIZWlnaHQgLSAodGFyZ2V0RWxlbWVudFN0eWxlWSArIGRyYWdnYWJsZUhlaWdodCk7XG4gICAgICBlbFN0eWxlLmJvdHRvbSA9IHBhcmVudEhlaWdodCA+IDAgPyBgJHsoc3R5bGVCb3R0b21QeCAvIHBhcmVudEhlaWdodCAqIDEwMCkudG9GaXhlZCgyKX0lYCA6IFwiMHB4XCI7XG4gICAgICBlbFN0eWxlLnRvcCA9IFwiXCI7XG4gICAgfVxuICAgIGlmIChNYXRoLmFicyhwb3MueCAtIHRhcmdldFZpZXdwb3J0Q2VudGVyWCkgPiB0aHJlc2hvbGQgfHwgTWF0aC5hYnMocG9zLnkgLSB0YXJnZXRWaWV3cG9ydENlbnRlclkpID4gdGhyZXNob2xkIHx8IE1hdGguYWJzKHZlbC54KSA+IHRocmVzaG9sZCB8fCBNYXRoLmFicyh2ZWwueSkgPiB0aHJlc2hvbGQgfHwgaXNEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlRHJhZ2dhYmxlUG9zaXRpb24pO1xuICAgIH1cbiAgfSwgW2FyZWFTbmFwVGhyZXNob2xkLCBzcHJpbmdTdGlmZm5lc3MsIHNwcmluZ0RhbXBuZXNzXSk7XG4gIGNvbnN0IG1vdXNlVXBIYW5kbGVyID0gcSQzKFxuICAgIChlMikgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgaWYgKGlzRHJhZ2dpbmdSZWYuY3VycmVudCkge1xuICAgICAgICBpZiAob25EcmFnRW5kKSBvbkRyYWdFbmQoKTtcbiAgICAgICAgaWYgKChfYSA9IGxhdGVzdFByb3ZpZGVyRGF0YVJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EuZW1pdERyYWdFbmQpIHtcbiAgICAgICAgICBsYXRlc3RQcm92aWRlckRhdGFSZWYuY3VycmVudC5lbWl0RHJhZ0VuZCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRyYWdnYWJsZUVsID0gbW92aW5nRWxlbWVudFJlZi5jdXJyZW50O1xuICAgICAgICBjb25zdCBwcm92aWRlciA9IGxhdGVzdFByb3ZpZGVyRGF0YVJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoZHJhZ2dhYmxlRWwgJiYgcHJvdmlkZXIgJiYgcHJvdmlkZXIuYm9yZGVyTG9jYXRpb24pIHtcbiAgICAgICAgICBjb25zdCBkcmFnZ2FibGVXaWR0aCA9IGRyYWdnYWJsZUVsLm9mZnNldFdpZHRoO1xuICAgICAgICAgIGNvbnN0IGRyYWdnYWJsZUhlaWdodCA9IGRyYWdnYWJsZUVsLm9mZnNldEhlaWdodDtcbiAgICAgICAgICBjb25zdCBvZmZzZXRQYXJlbnQgPSBkcmFnZ2FibGVFbC5vZmZzZXRQYXJlbnQ7XG4gICAgICAgICAgbGV0IHBhcmVudFZpZXdwb3J0TGVmdCA9IDA7XG4gICAgICAgICAgbGV0IHBhcmVudFZpZXdwb3J0VG9wID0gMDtcbiAgICAgICAgICBsZXQgcGFyZW50V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgICBsZXQgcGFyZW50SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICAgIGlmIChvZmZzZXRQYXJlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wUmVjdCA9IG9mZnNldFBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHBhcmVudFZpZXdwb3J0TGVmdCA9IG9wUmVjdC5sZWZ0O1xuICAgICAgICAgICAgcGFyZW50Vmlld3BvcnRUb3AgPSBvcFJlY3QudG9wO1xuICAgICAgICAgICAgcGFyZW50V2lkdGggPSBvZmZzZXRQYXJlbnQub2Zmc2V0V2lkdGggfHwgd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgICBwYXJlbnRIZWlnaHQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0SGVpZ2h0IHx8IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHJlbGVhc2VkQ2VudGVyWCA9IDA7XG4gICAgICAgICAgbGV0IHJlbGVhc2VkQ2VudGVyWSA9IDA7XG4gICAgICAgICAgaWYgKGN1cnJlbnRNb3VzZVBvc1JlZi5jdXJyZW50ICYmIG1vdXNlVG9EcmFnZ2FibGVDZW50ZXJPZmZzZXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgcmVsZWFzZWRDZW50ZXJYID0gY3VycmVudE1vdXNlUG9zUmVmLmN1cnJlbnQueCAtIG1vdXNlVG9EcmFnZ2FibGVDZW50ZXJPZmZzZXRSZWYuY3VycmVudC54O1xuICAgICAgICAgICAgcmVsZWFzZWRDZW50ZXJZID0gY3VycmVudE1vdXNlUG9zUmVmLmN1cnJlbnQueSAtIG1vdXNlVG9EcmFnZ2FibGVDZW50ZXJPZmZzZXRSZWYuY3VycmVudC55O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYW5pbWF0ZWRQb3NpdGlvblJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgIHJlbGVhc2VkQ2VudGVyWCA9IGFuaW1hdGVkUG9zaXRpb25SZWYuY3VycmVudC54O1xuICAgICAgICAgICAgICByZWxlYXNlZENlbnRlclkgPSBhbmltYXRlZFBvc2l0aW9uUmVmLmN1cnJlbnQueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgYm9yZGVyTG9jYXRpb24gPSBwcm92aWRlci5ib3JkZXJMb2NhdGlvbjtcbiAgICAgICAgICBjb25zdCBtaW5YID0gYm9yZGVyTG9jYXRpb24ubGVmdCArIGRyYWdnYWJsZVdpZHRoIC8gMjtcbiAgICAgICAgICBjb25zdCBtYXhYID0gYm9yZGVyTG9jYXRpb24ucmlnaHQgLSBkcmFnZ2FibGVXaWR0aCAvIDI7XG4gICAgICAgICAgY29uc3QgbWluWSA9IGJvcmRlckxvY2F0aW9uLnRvcCArIGRyYWdnYWJsZUhlaWdodCAvIDI7XG4gICAgICAgICAgY29uc3QgbWF4WSA9IGJvcmRlckxvY2F0aW9uLmJvdHRvbSAtIGRyYWdnYWJsZUhlaWdodCAvIDI7XG4gICAgICAgICAgcmVsZWFzZWRDZW50ZXJYID0gTWF0aC5tYXgobWluWCwgTWF0aC5taW4ocmVsZWFzZWRDZW50ZXJYLCBtYXhYKSk7XG4gICAgICAgICAgcmVsZWFzZWRDZW50ZXJZID0gTWF0aC5tYXgobWluWSwgTWF0aC5taW4ocmVsZWFzZWRDZW50ZXJZLCBtYXhZKSk7XG4gICAgICAgICAgY29uc3QgYXJlYUNlbnRlcnMgPSBnZXRTbmFwQXJlYUNlbnRlcnMoYm9yZGVyTG9jYXRpb24pO1xuICAgICAgICAgIGxldCBtaW5EaXN0ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICAgIGxldCBjbG9zZXN0QXJlYSA9IG51bGw7XG4gICAgICAgICAgbGV0IGNsb3Nlc3RDZW50ZXIgPSBudWxsO1xuICAgICAgICAgIGZvciAoY29uc3QgYXJlYSBpbiBwcm92aWRlci5zbmFwQXJlYXMpIHtcbiAgICAgICAgICAgIGlmIChwcm92aWRlci5zbmFwQXJlYXNbYXJlYV0pIHtcbiAgICAgICAgICAgICAgY29uc3QgY2VudGVyID0gYXJlYUNlbnRlcnNbYXJlYV07XG4gICAgICAgICAgICAgIGlmICghY2VudGVyKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgY29uc3QgZGlzdCA9IE1hdGguaHlwb3QoXG4gICAgICAgICAgICAgICAgY2VudGVyLnggLSByZWxlYXNlZENlbnRlclgsXG4gICAgICAgICAgICAgICAgY2VudGVyLnkgLSByZWxlYXNlZENlbnRlcllcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgaWYgKGRpc3QgPCBtaW5EaXN0KSB7XG4gICAgICAgICAgICAgICAgbWluRGlzdCA9IGRpc3Q7XG4gICAgICAgICAgICAgICAgY2xvc2VzdEFyZWEgPSBhcmVhO1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RDZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNsb3Nlc3RBcmVhICYmIGNsb3Nlc3RDZW50ZXIgJiYgbWluRGlzdCA8PSBhcmVhU25hcFRocmVzaG9sZCkge1xuICAgICAgICAgICAgc2V0Q3VycmVudFNuYXBBcmVhKGNsb3Nlc3RBcmVhKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbFggPSAoY2xvc2VzdENlbnRlci54IC0gcGFyZW50Vmlld3BvcnRMZWZ0KSAvIHBhcmVudFdpZHRoO1xuICAgICAgICAgICAgY29uc3QgcmVsWSA9IChjbG9zZXN0Q2VudGVyLnkgLSBwYXJlbnRWaWV3cG9ydFRvcCkgLyBwYXJlbnRIZWlnaHQ7XG4gICAgICAgICAgICBwZXJzaXN0ZWRSZWxhdGl2ZUNlbnRlclJlZi5jdXJyZW50ID0geyB4OiByZWxYLCB5OiByZWxZIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldEN1cnJlbnRTbmFwQXJlYShudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbFggPSAocmVsZWFzZWRDZW50ZXJYIC0gcGFyZW50Vmlld3BvcnRMZWZ0KSAvIHBhcmVudFdpZHRoO1xuICAgICAgICAgICAgY29uc3QgcmVsWSA9IChyZWxlYXNlZENlbnRlclkgLSBwYXJlbnRWaWV3cG9ydFRvcCkgLyBwYXJlbnRIZWlnaHQ7XG4gICAgICAgICAgICBwZXJzaXN0ZWRSZWxhdGl2ZUNlbnRlclJlZi5jdXJyZW50ID0geyB4OiByZWxYLCB5OiByZWxZIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBtb3VzZURvd25Qb3NSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICBpc0RyYWdnaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIGNvbnNvbGUubG9nKFwiU3RvcCBtb3ZpbmdcIik7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBtb3VzZU1vdmVIYW5kbGVyLCB7XG4gICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgIH0pO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG1vdXNlVXBIYW5kbGVyLCB7XG4gICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgIH0pO1xuICAgICAgaWYgKG1vdmluZ0VsZW1lbnRSZWYuY3VycmVudCkge1xuICAgICAgICBtb3ZpbmdFbGVtZW50UmVmLmN1cnJlbnQuc3R5bGUudXNlclNlbGVjdCA9IFwiXCI7XG4gICAgICB9XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnVzZXJTZWxlY3QgPSBcIlwiO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcIlwiO1xuICAgIH0sXG4gICAgW29uRHJhZ0VuZCwgYXJlYVNuYXBUaHJlc2hvbGRdXG4gICk7XG4gIGNvbnN0IG1vdXNlTW92ZUhhbmRsZXIgPSBxJDMoXG4gICAgKGUyKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBpZiAoIW1vdXNlRG93blBvc1JlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguaHlwb3QoXG4gICAgICAgIGUyLmNsaWVudFggLSBtb3VzZURvd25Qb3NSZWYuY3VycmVudC54LFxuICAgICAgICBlMi5jbGllbnRZIC0gbW91c2VEb3duUG9zUmVmLmN1cnJlbnQueVxuICAgICAgKTtcbiAgICAgIGlmIChkaXN0YW5jZSA+IHN0YXJ0VGhyZXNob2xkICYmICFpc0RyYWdnaW5nUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgaXNEcmFnZ2luZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgaWYgKG1vdmluZ0VsZW1lbnRSZWYuY3VycmVudCkge1xuICAgICAgICAgIG1vdmluZ0VsZW1lbnRSZWYuY3VycmVudC5zdHlsZS51c2VyU2VsZWN0ID0gXCJub25lXCI7XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS51c2VyU2VsZWN0ID0gXCJub25lXCI7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJncmFiYmluZ1wiO1xuICAgICAgICBpZiAob25EcmFnU3RhcnQpIG9uRHJhZ1N0YXJ0KCk7XG4gICAgICAgIGlmICgoX2EgPSBsYXRlc3RQcm92aWRlckRhdGFSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmVtaXREcmFnU3RhcnQpIHtcbiAgICAgICAgICBsYXRlc3RQcm92aWRlckRhdGFSZWYuY3VycmVudC5lbWl0RHJhZ1N0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZURyYWdnYWJsZVBvc2l0aW9uKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJTdGFydCBkcmFnZ2luZ1wiKTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRNb3VzZVBvc1JlZi5jdXJyZW50ID0geyB4OiBlMi5jbGllbnRYLCB5OiBlMi5jbGllbnRZIH07XG4gICAgfSxcbiAgICBbc3RhcnRUaHJlc2hvbGQsIG9uRHJhZ1N0YXJ0LCB1cGRhdGVEcmFnZ2FibGVQb3NpdGlvbl1cbiAgKTtcbiAgY29uc3QgbW91c2VEb3duSGFuZGxlciA9IHEkMyhcbiAgICAoZTIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiTW91c2UgZG93biBvbiBkcmFnZ2FibGUvaGFuZGxlIGFyZWFcIik7XG4gICAgICBpZiAoZTIuYnV0dG9uICE9PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGhhbmRsZU5vZGUgPSBkcmFnSW5pdGlhdG9yUmVmLmN1cnJlbnQ7XG4gICAgICBjb25zdCBkcmFnZ2FibGVJdGVtTm9kZSA9IG1vdmluZ0VsZW1lbnRSZWYuY3VycmVudDtcbiAgICAgIGlmIChoYW5kbGVOb2RlKSB7XG4gICAgICAgIGlmICghaGFuZGxlTm9kZS5jb250YWlucyhlMi50YXJnZXQpICYmIGUyLnRhcmdldCAhPT0gaGFuZGxlTm9kZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgXCJNb3VzZWRvd24gd2FzIG5vdCBvbiB0aGUgaGFuZGxlIGVsZW1lbnQgb3IgaXRzIGNoaWxkcmVuLiBDdXJyZW50IHRhcmdldDpcIixcbiAgICAgICAgICAgIGUyLnRhcmdldCxcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgaGFuZGxlOlwiLFxuICAgICAgICAgICAgaGFuZGxlTm9kZSxcbiAgICAgICAgICAgIFwiSWdub3JpbmcgZHJhZyBzdGFydC5cIlxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGRyYWdnYWJsZUl0ZW1Ob2RlKSB7XG4gICAgICAgIGlmICghZHJhZ2dhYmxlSXRlbU5vZGUuY29udGFpbnMoZTIudGFyZ2V0KSAmJiBlMi50YXJnZXQgIT09IGRyYWdnYWJsZUl0ZW1Ob2RlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBcIk1vdXNlZG93biB3YXMgbm90IG9uIHRoZSBkcmFnZ2FibGUgaXRlbSBvciBpdHMgY2hpbGRyZW4gKG5vIGhhbmRsZSBzcGVjaWZpZWQpLiBDdXJyZW50IHRhcmdldDpcIixcbiAgICAgICAgICAgIGUyLnRhcmdldCxcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgZHJhZ2dhYmxlIGl0ZW06XCIsXG4gICAgICAgICAgICBkcmFnZ2FibGVJdGVtTm9kZSxcbiAgICAgICAgICAgIFwiSWdub3JpbmcgZHJhZyBzdGFydC5cIlxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiRHJhZ2dhYmxlIGVsZW1lbnQgb3IgaGFuZGxlIHJlZiBub3Qgc2V0IGluIG1vdXNlRG93bkhhbmRsZXJcIlxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhcIlZhbGlkIGRyYWcgdGFyZ2V0LiBQcm9jZWVkaW5nIHdpdGggZHJhZyBzZXR1cC5cIik7XG4gICAgICBtb3VzZURvd25Qb3NSZWYuY3VycmVudCA9IHsgeDogZTIuY2xpZW50WCwgeTogZTIuY2xpZW50WSB9O1xuICAgICAgaWYgKCFtb3ZpbmdFbGVtZW50UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkRyYWdnYWJsZSBlbGVtZW50IHJlZiBub3Qgc2V0IGluIG1vdXNlRG93bkhhbmRsZXJcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlY3QgPSBtb3ZpbmdFbGVtZW50UmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBjdXJyZW50RHJhZ2dhYmxlQ2VudGVyWCA9IHJlY3QubGVmdCArIHJlY3Qud2lkdGggLyAyO1xuICAgICAgY29uc3QgY3VycmVudERyYWdnYWJsZUNlbnRlclkgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgIG1vdXNlVG9EcmFnZ2FibGVDZW50ZXJPZmZzZXRSZWYuY3VycmVudCA9IHtcbiAgICAgICAgeDogZTIuY2xpZW50WCAtIGN1cnJlbnREcmFnZ2FibGVDZW50ZXJYLFxuICAgICAgICB5OiBlMi5jbGllbnRZIC0gY3VycmVudERyYWdnYWJsZUNlbnRlcllcbiAgICAgIH07XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBtb3VzZU1vdmVIYW5kbGVyLCB7XG4gICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgIH0pO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG1vdXNlVXBIYW5kbGVyLCB7XG4gICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW21vdXNlTW92ZUhhbmRsZXIsIG1vdXNlVXBIYW5kbGVyXVxuICApO1xuICB5JDYoKCkgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnRUb0xpc3Rlbk9uID0gZHJhZ0luaXRpYXRvck5vZGUgfHwgbW92aW5nRWxlbWVudE5vZGU7XG4gICAgaWYgKGVsZW1lbnRUb0xpc3Rlbk9uKSB7XG4gICAgICBlbGVtZW50VG9MaXN0ZW5Pbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIG1vdXNlRG93bkhhbmRsZXIpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGVsZW1lbnRUb0xpc3Rlbk9uKSB7XG4gICAgICAgIGVsZW1lbnRUb0xpc3Rlbk9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgbW91c2VEb3duSGFuZGxlcik7XG4gICAgICB9XG4gICAgICBpZiAoaXNEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgIGlmIChvbkRyYWdFbmQpIHtcbiAgICAgICAgICBvbkRyYWdFbmQoKTtcbiAgICAgICAgfVxuICAgICAgICBpc0RyYWdnaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKG1vdmluZ0VsZW1lbnROb2RlKSB7XG4gICAgICAgICAgbW92aW5nRWxlbWVudE5vZGUuc3R5bGUudXNlclNlbGVjdCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS51c2VyU2VsZWN0ID0gXCJcIjtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcIlwiO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBtb3VzZU1vdmVIYW5kbGVyLCB7XG4gICAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG1vdXNlVXBIYW5kbGVyLCB7XG4gICAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXG4gICAgbW92aW5nRWxlbWVudE5vZGUsXG4gICAgZHJhZ0luaXRpYXRvck5vZGUsXG4gICAgbW91c2VEb3duSGFuZGxlcixcbiAgICBvbkRyYWdFbmQsXG4gICAgbW91c2VNb3ZlSGFuZGxlcixcbiAgICBtb3VzZVVwSGFuZGxlclxuICBdKTtcbiAgeSQ2KCgpID0+IHtcbiAgICBpZiAobW92aW5nRWxlbWVudE5vZGUgJiYgcGVyc2lzdGVkUmVsYXRpdmVDZW50ZXJSZWYuY3VycmVudCAmJiAhaXNEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlRHJhZ2dhYmxlUG9zaXRpb24pO1xuICAgIH1cbiAgfSwgW1xuICAgIG1vdmluZ0VsZW1lbnROb2RlLFxuICAgIHByb3ZpZGVyRGF0YSxcbiAgICAvLyBUcmlnZ2VycyBvbiBjb250YWluZXIgcmVzaXplL3Njcm9sbCB2aWEgRHJhZ2dhYmxlUHJvdmlkZXJcbiAgICBwZXJzaXN0ZWRSZWxhdGl2ZUNlbnRlclJlZixcbiAgICAvLyBUcmlnZ2VycyBpZiB0aGUgcGVyc2lzdGVkUmVsYXRpdmVDZW50ZXJSZWYgY2hhbmdlc1xuICAgIHVwZGF0ZURyYWdnYWJsZVBvc2l0aW9uXG4gICAgLy8gU3RhYmxlIGNhbGxiYWNrXG4gIF0pO1xuICBjb25zdCBkcmFnZ2FibGVSZWZDYWxsYmFjayA9IHEkMygobm9kZSkgPT4ge1xuICAgIHNldE1vdmluZ0VsZW1lbnROb2RlKG5vZGUpO1xuICAgIG1vdmluZ0VsZW1lbnRSZWYuY3VycmVudCA9IG5vZGU7XG4gIH0sIFtdKTtcbiAgY29uc3QgaGFuZGxlUmVmQ2FsbGJhY2sgPSBxJDMoKG5vZGUpID0+IHtcbiAgICBzZXREcmFnSW5pdGlhdG9yTm9kZShub2RlKTtcbiAgICBkcmFnSW5pdGlhdG9yUmVmLmN1cnJlbnQgPSBub2RlO1xuICB9LCBbXSk7XG4gIHJldHVybiB7XG4gICAgZHJhZ2dhYmxlUmVmOiBkcmFnZ2FibGVSZWZDYWxsYmFjayxcbiAgICBoYW5kbGVSZWY6IGhhbmRsZVJlZkNhbGxiYWNrLFxuICAgIHBvc2l0aW9uOiB7XG4gICAgICBzbmFwQXJlYTogY3VycmVudFNuYXBBcmVhLFxuICAgICAgaXNUb3BIYWxmOiBwZXJzaXN0ZWRSZWxhdGl2ZUNlbnRlclJlZi5jdXJyZW50ID8gcGVyc2lzdGVkUmVsYXRpdmVDZW50ZXJSZWYuY3VycmVudC55IDw9IDAuNSA6IHRydWUsXG4gICAgICBpc0xlZnRIYWxmOiBwZXJzaXN0ZWRSZWxhdGl2ZUNlbnRlclJlZi5jdXJyZW50ID8gcGVyc2lzdGVkUmVsYXRpdmVDZW50ZXJSZWYuY3VycmVudC54IDw9IDAuNSA6IHRydWVcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBUb29sYmFyRHJhZ2dhYmxlQm94KCkge1xuICBjb25zdCBwcm92aWRlciA9IHgkNChEcmFnZ2FibGVDb250ZXh0KTtcbiAgY29uc3QgYm9yZGVyTG9jYXRpb24gPSBwcm92aWRlciA9PSBudWxsID8gdm9pZCAwIDogcHJvdmlkZXIuYm9yZGVyTG9jYXRpb247XG4gIGNvbnN0IGlzUmVhZHkgPSAhIWJvcmRlckxvY2F0aW9uICYmIGJvcmRlckxvY2F0aW9uLnJpZ2h0IC0gYm9yZGVyTG9jYXRpb24ubGVmdCA+IDAgJiYgYm9yZGVyTG9jYXRpb24uYm90dG9tIC0gYm9yZGVyTG9jYXRpb24udG9wID4gMDtcbiAgY29uc3QgZHJhZ2dhYmxlID0gdXNlRHJhZ2dhYmxlKHtcbiAgICBzdGFydFRocmVzaG9sZDogMTAsXG4gICAgaW5pdGlhbFNuYXBBcmVhOiBcImJvdHRvbUNlbnRlclwiXG4gIH0pO1xuICBpZiAoIWlzUmVhZHkpIHJldHVybiBudWxsO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIHJlZjogZHJhZ2dhYmxlLmRyYWdnYWJsZVJlZixcbiAgICAgIGNsYXNzTmFtZTogXCJwb2ludGVyLWV2ZW50cy1hdXRvIGFic29sdXRlIHAtMC41XCIsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJwb2ludGVyLWV2ZW50cy1hdXRvIGZsZXggdy05NiBtYXgtdy1bODB2d10gZmxleC1jb2wgaXRlbXMtc3RhcnQganVzdGlmeS1jZW50ZXIgcm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci1ib3JkZXIvMzAgYm9yZGVyLXNvbGlkIGJnLXppbmMtNTAvODAgcC0wIHNoYWRvdy1sZyBiYWNrZHJvcC1ibHVyLWxnIHRyYW5zaXRpb24tY29sb3JzXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoQ2hhdEFyZWEsIHt9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlZjogZHJhZ2dhYmxlLmhhbmRsZVJlZixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJmbGV4IHctZnVsbCBmbGV4LXJvdyBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC0zeGwgYm9yZGVyLWJvcmRlci8zMCBib3JkZXItdCBiZy1iYWNrZ3JvdW5kLzQwIHAtMS41IHNoYWRvdy1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmaXJzdDpib3JkZXItbm9uZVwiLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIHUkOShDaGF0Qm94LCB7fSksXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoTW9yZUFjdGlvbnNCdXR0b24sIHt9KVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXSB9KVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIFRvb2xiYXJBcmVhKCkge1xuICBjb25zdCBjb250YWluZXJSZWYgPSBBJDMobnVsbCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImFic29sdXRlIHNpemUtZnVsbFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJhYnNvbHV0ZSBpbnNldC00XCIsIHJlZjogY29udGFpbmVyUmVmLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShcbiAgICBEcmFnZ2FibGVQcm92aWRlcixcbiAgICB7XG4gICAgICBjb250YWluZXJSZWYsXG4gICAgICBzbmFwQXJlYXM6IHtcbiAgICAgICAgdG9wTGVmdDogdHJ1ZSxcbiAgICAgICAgdG9wQ2VudGVyOiB0cnVlLFxuICAgICAgICB0b3BSaWdodDogdHJ1ZSxcbiAgICAgICAgY2VudGVyTGVmdDogdHJ1ZSxcbiAgICAgICAgY2VudGVyOiB0cnVlLFxuICAgICAgICBjZW50ZXJSaWdodDogdHJ1ZSxcbiAgICAgICAgYm90dG9tTGVmdDogdHJ1ZSxcbiAgICAgICAgYm90dG9tQ2VudGVyOiB0cnVlLFxuICAgICAgICBib3R0b21SaWdodDogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gdSQ5KFRvb2xiYXJEcmFnZ2FibGVCb3gsIHt9KVxuICAgIH1cbiAgKSB9KSB9KTtcbn1cbmNvbnN0IExvZ28gPSAoe1xuICBjb2xvciA9IFwiZGVmYXVsdFwiLFxuICBsb2FkaW5nID0gZmFsc2UsXG4gIGxvYWRpbmdTcGVlZCA9IFwic2xvd1wiLFxuICAuLi5wcm9wc1xufSkgPT4ge1xuICBjb25zdCBjb2xvclN0eWxlID0ge1xuICAgIGRlZmF1bHQ6IFwiZmlsbC1zdGFnZXdpc2UtNzAwIHN0cm9rZS1ub25lXCIsXG4gICAgYmxhY2s6IFwiZmlsbC16aW5jLTk1MCBzdHJva2Utbm9uZVwiLFxuICAgIHdoaXRlOiBcImZpbGwtd2hpdGUgc3Ryb2tlLW5vbmVcIixcbiAgICBncmF5OiBcImZpbGwtemluYy01MDAvNTAgc3Ryb2tlLW5vbmVcIixcbiAgICBjdXJyZW50OiBcImZpbGwtY3VycmVudCBzdHJva2Utbm9uZVwiLFxuICAgIGdyYWRpZW50OiBcImZpbGwtd2hpdGUgc3Ryb2tlLWJsYWNrLzMwIHN0cm9rZS0xXCJcbiAgfTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IGByZWxhdGl2ZSAke2NvbG9yID09PSBcImdyYWRpZW50XCIgPyBcIm92ZXJmbG93LWhpZGRlbiByb3VuZGVkLWZ1bGxcIiA6IFwib3ZlcmZsb3ctdmlzaWJsZVwifSAke3Byb3BzLmNsYXNzTmFtZSB8fCBcIlwifSAke2xvYWRpbmcgPyBcImRyb3Atc2hhZG93LXhsXCIgOiBcIlwifSBhc3BlY3Qtc3F1YXJlYCxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIGNvbG9yID09PSBcImdyYWRpZW50XCIgJiYgLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJhYnNvbHV0ZSBpbnNldC0wXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJhYnNvbHV0ZSBpbnNldC0wIHNpemUtZnVsbCBiZy1ncmFkaWVudC10by10ciBmcm9tLWluZGlnby03MDAgdmlhLWJsdWUtNTAwIHRvLXRlYWwtNTAwXCIgfSksXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJhYnNvbHV0ZSB0b3AtMS8yIGxlZnQtMS8yIHNpemUtOS8xMiBiZy1bcmFkaWFsLWdyYWRpZW50KGNpcmNsZSxyZ2JhKDIxOSwzOSwxMTksMC4yKV8wJSxyZ2JhKDIxOSwzOSwxMTksMClfMTAwJSldXCIgfSksXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJhYnNvbHV0ZSByaWdodC0xLzIgYm90dG9tLTEvMiBzaXplLWZ1bGwgYmctW3JhZGlhbC1ncmFkaWVudChjaXJjbGUscmdiYSgyMTksMzksMTE5LDAuMilfMCUscmdiYSgyMTksMzksMTE5LDApXzEwMCUpXVwiIH0pLFxuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYWJzb2x1dGUgdG9wLTAgbGVmdC1bLTEwJV0gc2l6ZS1bMTIwJV0gYmctW3JhZGlhbC1ncmFkaWVudChjaXJjbGUscmdiYSgyNTUsMjU1LDI1NSwwKV82MCUscmdiYSgyNTUsMjU1LDI1NSwwLjIpXzcwJSldXCIgfSksXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJhYnNvbHV0ZSB0b3AtWy0yMCVdIGxlZnQtMCBoLVsxMjAlXSB3LWZ1bGwgYmctW3JhZGlhbC1ncmFkaWVudChjaXJjbGUscmdiYSg1NSw0OCwxNjMsMClfNTUlLHJnYmEoNTUsNDgsMTYzLDAuMzUpXzczJSldXCIgfSlcbiAgICAgICAgXSB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgICAgICBcInN2Z1wiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogYGFic29sdXRlIG92ZXJmbG93LXZpc2libGUgJHtjb2xvciA9PT0gXCJncmFkaWVudFwiID8gXCJ0b3AtWzI1JV0gbGVmdC1bMjUlXSBoLVs1MCVdIHctWzUwJV0gZHJvcC1zaGFkb3ctaW5kaWdvLTk1MCBkcm9wLXNoYWRvdy14c1wiIDogXCJ0b3AtMCBsZWZ0LTAgaC1mdWxsIHctZnVsbFwifWAsXG4gICAgICAgICAgICB2aWV3Qm94OiBcIjAgMCAyMDQ4IDIwNDhcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJ0aXRsZVwiLCB7IGNoaWxkcmVuOiBcInN0YWdld2lzZVwiIH0pLFxuICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgICAgICAgICAgIFwiZWxsaXBzZVwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY29sb3JTdHlsZVtjb2xvcl0gKyAobG9hZGluZyA/IFwiIGFuaW1hdGUtcHVsc2VcIiA6IFwiXCIpLFxuICAgICAgICAgICAgICAgICAgaWQ6IFwicGF0aDNcIixcbiAgICAgICAgICAgICAgICAgIHJ5OiBcIjYyNFwiLFxuICAgICAgICAgICAgICAgICAgcng6IFwiNjI0XCIsXG4gICAgICAgICAgICAgICAgICBjeTogXCIxMDI0XCIsXG4gICAgICAgICAgICAgICAgICBjeDogXCIxMDI0XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICAgICAgXCJzdmdcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IGBhYnNvbHV0ZSBvdmVyZmxvdy12aXNpYmxlICR7Y29sb3IgPT09IFwiZ3JhZGllbnRcIiA/IFwidG9wLVsyNSVdIGxlZnQtWzI1JV0gaC1bNTAlXSB3LVs1MCVdXCIgOiBcInRvcC0wIGxlZnQtMCBoLWZ1bGwgdy1mdWxsXCJ9YCxcbiAgICAgICAgICAgIHZpZXdCb3g6IFwiMCAwIDIwNDggMjA0OFwiLFxuICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6IFwicGF0aDRcIixcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGBvcmlnaW4tY2VudGVyICR7Y29sb3JTdHlsZVtjb2xvcl19JHtsb2FkaW5nID8gbG9hZGluZ1NwZWVkID09PSBcImZhc3RcIiA/IFwiIGFuaW1hdGUtc3Bpbi1mYXN0XCIgOiBcIiBhbmltYXRlLXNwaW4tc2xvd1wiIDogXCJcIn1gLFxuICAgICAgICAgICAgICAgIGQ6IFwiTSAxMDI0IDAgQSAxMDI0IDEwMjQgMCAwIDAgMCAxMDI0IEEgMTAyNCAxMDI0IDAgMCAwIDEwMjQgMjA0OCBMIDE3MzYgMjA0OCBMIDE4NDggMjA0OCBDIDE5NTguNzk5OCAyMDQ4IDIwNDggMTk1OC43OTk4IDIwNDggMTg0OCBMIDIwNDggMTczNiBMIDIwNDggMTAyNCBBIDEwMjQgMTAyNCAwIDAgMCAxMDI0IDAgeiBNIDEwMjQuOTQxNCAyMDAgQSA4MjQgODI0IDAgMCAxIDE4NDguOTQxNCAxMDI0IEEgODI0IDgyNCAwIDAgMSAxMDI0Ljk0MTQgMTg0OCBBIDgyNCA4MjQgMCAwIDEgMjAwLjk0MTQxIDEwMjQgQSA4MjQgODI0IDAgMCAxIDEwMjQuOTQxNCAyMDAgeiBcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufTtcbmZ1bmN0aW9uIEV4cGFuZEJ1dHRvbigpIHtcbiAgY29uc3QgZXhwYW5kID0gdXNlQXBwU3RhdGUoKHN0YXRlKSA9PiBzdGF0ZS5leHBhbmQpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShcbiAgICBcImJ1dHRvblwiLFxuICAgIHtcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICBvbkNsaWNrOiAoKSA9PiBleHBhbmQoKSxcbiAgICAgIGNsYXNzTmFtZTogXCJwb2ludGVyLWV2ZW50cy1hdXRvIGFic29sdXRlIGJvdHRvbS0zIGxlZnQtMyBzaXplLTEyIHJvdW5kZWQtZnVsbCBiZy10cmFuc3BhcmVudCBvcGFjaXR5LTgwIHNoYWRvdy1zbSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi01MDAgaG92ZXI6b3BhY2l0eS0xMDAgaG92ZXI6c2hhZG93LWxnXCIsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShMb2dvLCB7IGNvbG9yOiBcImdyYWRpZW50XCIgfSlcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBFbGVtZW50U2VsZWN0b3IocHJvcHMpIHtcbiAgY29uc3QgbGFzdEhvdmVyZWRFbGVtZW50ID0gQSQzKG51bGwpO1xuICBjb25zdCBoYW5kbGVNb3VzZU1vdmUgPSBxJDMoXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoXCIuY29tcGFuaW9uXCIpKSByZXR1cm47XG4gICAgICBjb25zdCByZWZFbGVtZW50ID0gZ2V0RWxlbWVudEF0UG9pbnQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4gICAgICBpZiAocHJvcHMuaWdub3JlTGlzdC5pbmNsdWRlcyhyZWZFbGVtZW50KSkgcmV0dXJuO1xuICAgICAgaWYgKGxhc3RIb3ZlcmVkRWxlbWVudC5jdXJyZW50ICE9PSByZWZFbGVtZW50KSB7XG4gICAgICAgIGxhc3RIb3ZlcmVkRWxlbWVudC5jdXJyZW50ID0gcmVmRWxlbWVudDtcbiAgICAgICAgcHJvcHMub25FbGVtZW50SG92ZXJlZChyZWZFbGVtZW50KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtwcm9wc11cbiAgKTtcbiAgY29uc3QgaGFuZGxlTW91c2VMZWF2ZSA9IHEkMygoKSA9PiB7XG4gICAgbGFzdEhvdmVyZWRFbGVtZW50LmN1cnJlbnQgPSBudWxsO1xuICAgIHByb3BzLm9uRWxlbWVudFVuaG92ZXJlZCgpO1xuICB9LCBbcHJvcHNdKTtcbiAgY29uc3QgaGFuZGxlTW91c2VDbGljayA9IHEkMygoKSA9PiB7XG4gICAgaWYgKCFsYXN0SG92ZXJlZEVsZW1lbnQuY3VycmVudCkgcmV0dXJuO1xuICAgIGlmIChwcm9wcy5pZ25vcmVMaXN0LmluY2x1ZGVzKGxhc3RIb3ZlcmVkRWxlbWVudC5jdXJyZW50KSkgcmV0dXJuO1xuICAgIHByb3BzLm9uRWxlbWVudFNlbGVjdGVkKGxhc3RIb3ZlcmVkRWxlbWVudC5jdXJyZW50KTtcbiAgfSwgW3Byb3BzXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcInBvaW50ZXItZXZlbnRzLWF1dG8gZml4ZWQgaW5zZXQtMCBoLXNjcmVlbiB3LXNjcmVlblwiLFxuICAgICAgb25Nb3VzZU1vdmU6IGhhbmRsZU1vdXNlTW92ZSxcbiAgICAgIG9uTW91c2VMZWF2ZTogaGFuZGxlTW91c2VMZWF2ZSxcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZU1vdXNlQ2xpY2ssXG4gICAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgICAgdGFiSW5kZXg6IDBcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiB1c2VXaW5kb3dTaXplKCkge1xuICBjb25zdCBbc2l6ZTIsIHNldFNpemVdID0gZCQ0KHtcbiAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgfSk7XG4gIGNvbnN0IGhhbmRsZVJlc2l6ZSA9IHEkMyhcbiAgICAoKSA9PiBzZXRTaXplKHtcbiAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0XG4gICAgfSksXG4gICAgW11cbiAgKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBoYW5kbGVSZXNpemUpO1xuICByZXR1cm4gc2l6ZTI7XG59XG5mdW5jdGlvbiBDb250ZXh0SXRlbVByb3Bvc2FsKHtcbiAgcmVmRWxlbWVudCxcbiAgLi4ucHJvcHNcbn0pIHtcbiAgY29uc3QgYm94UmVmID0gQSQzKG51bGwpO1xuICBjb25zdCB3aW5kb3dTaXplID0gdXNlV2luZG93U2l6ZSgpO1xuICBjb25zdCB1cGRhdGVCb3hQb3NpdGlvbiA9IHEkMygoKSA9PiB7XG4gICAgaWYgKGJveFJlZi5jdXJyZW50KSB7XG4gICAgICBpZiAocmVmRWxlbWVudCkge1xuICAgICAgICBjb25zdCByZWZlcmVuY2VSZWN0ID0gcmVmRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUudG9wID0gYCR7cmVmZXJlbmNlUmVjdC50b3B9cHhgO1xuICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS5sZWZ0ID0gYCR7cmVmZXJlbmNlUmVjdC5sZWZ0fXB4YDtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUud2lkdGggPSBgJHtyZWZlcmVuY2VSZWN0LndpZHRofXB4YDtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUuaGVpZ2h0ID0gYCR7cmVmZXJlbmNlUmVjdC5oZWlnaHR9cHhgO1xuICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUuaGVpZ2h0ID0gXCIwcHhcIjtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUud2lkdGggPSBcIjBweFwiO1xuICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS50b3AgPSBgJHt3aW5kb3dTaXplLmhlaWdodCAvIDJ9cHhgO1xuICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS5sZWZ0ID0gYCR7d2luZG93U2l6ZS53aWR0aCAvIDJ9cHhgO1xuICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB9XG4gICAgfVxuICB9LCBbcmVmRWxlbWVudCwgd2luZG93U2l6ZS5oZWlnaHQsIHdpbmRvd1NpemUud2lkdGhdKTtcbiAgdXNlQ3ljbGljVXBkYXRlKHVwZGF0ZUJveFBvc2l0aW9uLCAzMCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgLi4ucHJvcHMsXG4gICAgICBjbGFzc05hbWU6IFwiZml4ZWQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbGcgYm9yZGVyLTIgYm9yZGVyLWJsdWUtNjAwLzgwIGJnLWJsdWUtNjAwLzIwIHRleHQtd2hpdGUgYmFja2Ryb3AtYmx1ci14cyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xMDBcIixcbiAgICAgIHJlZjogYm94UmVmLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoUGx1cywgeyBjbGFzc05hbWU6IFwic2l6ZS02IGRyb3Atc2hhZG93LWJsYWNrIGRyb3Atc2hhZG93LW1kXCIgfSlcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBDb250ZXh0SXRlbSh7IHJlZkVsZW1lbnQsIC4uLnByb3BzIH0pIHtcbiAgY29uc3QgYm94UmVmID0gQSQzKG51bGwpO1xuICBjb25zdCB3aW5kb3dTaXplID0gdXNlV2luZG93U2l6ZSgpO1xuICBjb25zdCB1cGRhdGVCb3hQb3NpdGlvbiA9IHEkMygoKSA9PiB7XG4gICAgaWYgKGJveFJlZi5jdXJyZW50KSB7XG4gICAgICBpZiAocmVmRWxlbWVudCkge1xuICAgICAgICBjb25zdCByZWZlcmVuY2VSZWN0ID0gcmVmRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUudG9wID0gYCR7cmVmZXJlbmNlUmVjdC50b3B9cHhgO1xuICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS5sZWZ0ID0gYCR7cmVmZXJlbmNlUmVjdC5sZWZ0fXB4YDtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUud2lkdGggPSBgJHtyZWZlcmVuY2VSZWN0LndpZHRofXB4YDtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUuaGVpZ2h0ID0gYCR7cmVmZXJlbmNlUmVjdC5oZWlnaHR9cHhgO1xuICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUuaGVpZ2h0ID0gXCIwcHhcIjtcbiAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUud2lkdGggPSBcIjBweFwiO1xuICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS50b3AgPSBgJHt3aW5kb3dTaXplLmhlaWdodCAvIDJ9cHhgO1xuICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS5sZWZ0ID0gYCR7d2luZG93U2l6ZS53aWR0aCAvIDJ9cHhgO1xuICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB9XG4gICAgfVxuICB9LCBbcmVmRWxlbWVudCwgd2luZG93U2l6ZS5oZWlnaHQsIHdpbmRvd1NpemUud2lkdGhdKTtcbiAgdXNlQ3ljbGljVXBkYXRlKHVwZGF0ZUJveFBvc2l0aW9uLCAzMCk7XG4gIGNvbnN0IGNoYXRTdGF0ZSA9IHVzZUNoYXRTdGF0ZSgpO1xuICBjb25zdCBoYW5kbGVEZWxldGVDbGljayA9IHEkMygoKSA9PiB7XG4gICAgY2hhdFN0YXRlLnJlbW92ZUNoYXREb21Db250ZXh0KGNoYXRTdGF0ZS5jdXJyZW50Q2hhdElkLCByZWZFbGVtZW50KTtcbiAgfSwgW2NoYXRTdGF0ZSwgcmVmRWxlbWVudF0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2xhc3NOYW1lOiBcInBvaW50ZXItZXZlbnRzLWF1dG8gZml4ZWQgZmxleCBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbGcgYm9yZGVyLTIgYm9yZGVyLWdyZWVuLTYwMC84MCBiZy1ncmVlbi02MDAvNSB0ZXh0LXRyYW5zcGFyZW50IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTAgaG92ZXI6Ym9yZGVyLXJlZC02MDAvODAgaG92ZXI6YmctcmVkLTYwMC8yMCBob3Zlcjp0ZXh0LXdoaXRlIGhvdmVyOmJhY2tkcm9wLWJsdXItc21cIixcbiAgICAgIHJlZjogYm94UmVmLFxuICAgICAgb25DbGljazogaGFuZGxlRGVsZXRlQ2xpY2ssXG4gICAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgICAgdGFiSW5kZXg6IDAsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShUcmFzaDIsIHsgY2xhc3NOYW1lOiBcInNpemUtNiBkcm9wLXNoYWRvdy1ibGFjayBkcm9wLXNoYWRvdy1tZFwiIH0pXG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gU2VsZWN0b3JDYW52YXMoKSB7XG4gIGNvbnN0IHsgY2hhdHMsIGN1cnJlbnRDaGF0SWQsIGFkZENoYXREb21Db250ZXh0LCBpc1Byb21wdENyZWF0aW9uQWN0aXZlIH0gPSB1c2VDaGF0U3RhdGUoKTtcbiAgY29uc3QgY3VycmVudENoYXQgPSBUJDUoXG4gICAgKCkgPT4gY2hhdHMuZmluZCgoY2hhdCkgPT4gY2hhdC5pZCA9PT0gY3VycmVudENoYXRJZCksXG4gICAgW2N1cnJlbnRDaGF0SWQsIGNoYXRzXVxuICApO1xuICBjb25zdCBzaG91bGRTaG93ID0gaXNQcm9tcHRDcmVhdGlvbkFjdGl2ZTtcbiAgY29uc3QgY29udGV4dEVsZW1lbnRzID0gVCQ1KCgpID0+IHtcbiAgICByZXR1cm4gKGN1cnJlbnRDaGF0ID09IG51bGwgPyB2b2lkIDAgOiBjdXJyZW50Q2hhdC5kb21Db250ZXh0RWxlbWVudHMpIHx8IFtdO1xuICB9LCBbY3VycmVudENoYXRdKTtcbiAgY29uc3QgW2hvdmVyZWRFbGVtZW50LCBzZXRIb3ZlcmVkRWxlbWVudF0gPSBkJDQoXG4gICAgbnVsbFxuICApO1xuICBjb25zdCBhZGRFbGVtZW50VG9Db250ZXh0ID0gcSQzKFxuICAgIChlbCkgPT4ge1xuICAgICAgYWRkQ2hhdERvbUNvbnRleHQoY3VycmVudENoYXRJZCwgZWwpO1xuICAgIH0sXG4gICAgW2FkZENoYXREb21Db250ZXh0LCBjdXJyZW50Q2hhdElkXVxuICApO1xuICBpZiAoIXNob3VsZFNob3cpIHJldHVybiBudWxsO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShrJDMsIHsgY2hpbGRyZW46IFtcbiAgICBob3ZlcmVkRWxlbWVudCAmJiAvKiBAX19QVVJFX18gKi8gdSQ5KENvbnRleHRJdGVtUHJvcG9zYWwsIHsgcmVmRWxlbWVudDogaG92ZXJlZEVsZW1lbnQgfSksXG4gICAgLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgIEVsZW1lbnRTZWxlY3RvcixcbiAgICAgIHtcbiAgICAgICAgaWdub3JlTGlzdDogY29udGV4dEVsZW1lbnRzLFxuICAgICAgICBvbkVsZW1lbnRIb3ZlcmVkOiBzZXRIb3ZlcmVkRWxlbWVudCxcbiAgICAgICAgb25FbGVtZW50U2VsZWN0ZWQ6IGFkZEVsZW1lbnRUb0NvbnRleHQsXG4gICAgICAgIG9uRWxlbWVudFVuaG92ZXJlZDogKCkgPT4gc2V0SG92ZXJlZEVsZW1lbnQobnVsbClcbiAgICAgIH1cbiAgICApLFxuICAgIGNvbnRleHRFbGVtZW50cy5tYXAoKGVsKSA9PiAvKiBAX19QVVJFX18gKi8gdSQ5KENvbnRleHRJdGVtLCB7IHJlZkVsZW1lbnQ6IGVsIH0pKVxuICBdIH0pO1xufVxuZnVuY3Rpb24gRGVza3RvcExheW91dCgpIHtcbiAgY29uc3QgbWluaW1pemVkID0gdXNlQXBwU3RhdGUoKHN0YXRlKSA9PiBzdGF0ZS5taW5pbWl6ZWQpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogY24oXCJmaXhlZCBpbnNldC0wIGgtc2NyZWVuIHctc2NyZWVuXCIpLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoU2VsZWN0b3JDYW52YXMsIHt9KSxcbiAgICAhbWluaW1pemVkICYmIC8qIEBfX1BVUkVfXyAqLyB1JDkoVG9vbGJhckFyZWEsIHt9KSxcbiAgICBtaW5pbWl6ZWQgJiYgLyogQF9fUFVSRV9fICovIHUkOShFeHBhbmRCdXR0b24sIHt9KVxuICBdIH0pO1xufVxuZnVuY3Rpb24gQ2xpY2tCbG9ja2VyKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBjbihcbiAgICAgICAgdHlwZW9mIHByb3BzLmVuYWJsZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBwcm9wcy5lbmFibGUgPyBcInBvaW50ZXItZXZlbnRzLWF1dG9cIiA6IFwicG9pbnRlci1ldmVudHMtbm9uZVwiLFxuICAgICAgICBwcm9wcy5jbGFzc05hbWVcbiAgICAgICksXG4gICAgICBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrLFxuICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgIHRhYkluZGV4OiAwXG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gRm9jdXNMb2NrKCkge1xuICBjb25zdCBmb2N1c0luQ29tcGFuaW9uID0gQSQzKGZhbHNlKTtcbiAgeSQ2KCgpID0+IHtcbiAgICBjb25zdCBvcmlnaW5hbEZvY3VzID0gSFRNTEVsZW1lbnQucHJvdG90eXBlLmZvY3VzO1xuICAgIEhUTUxFbGVtZW50LnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgIGNvbnN0IHNoYWRvd1Jvb3QgPSB0aGlzLmdldFJvb3ROb2RlKCk7XG4gICAgICBjb25zdCBpc0luQ29tcGFuaW9uID0gc2hhZG93Um9vdCBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QgJiYgc2hhZG93Um9vdC5ob3N0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgc2hhZG93Um9vdC5ob3N0Lm5vZGVOYW1lID09PSBcIlNUQUdFV0lTRS1DT01QQU5JT04tQU5DSE9SXCI7XG4gICAgICBpZiAoIWlzSW5Db21wYW5pb24gJiYgZm9jdXNJbkNvbXBhbmlvbi5jdXJyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9yaWdpbmFsRm9jdXMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgSFRNTEVsZW1lbnQucHJvdG90eXBlLmZvY3VzID0gb3JpZ2luYWxGb2N1cztcbiAgICB9O1xuICB9LCBbXSk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgXCJmb2N1c2luXCIsXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LmxvY2FsTmFtZSA9PT0gY29tcGFuaW9uQW5jaG9yVGFnTmFtZSkge1xuICAgICAgICBmb2N1c0luQ29tcGFuaW9uLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0sXG4gICAgeyBjYXB0dXJlOiB0cnVlIH1cbiAgKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcbiAgICBcImZvY3Vzb3V0XCIsXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LmxvY2FsTmFtZSA9PT0gY29tcGFuaW9uQW5jaG9yVGFnTmFtZSkge1xuICAgICAgICBmb2N1c0luQ29tcGFuaW9uLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHsgY2FwdHVyZTogdHJ1ZSB9XG4gICk7XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gVmlzaWJpbGl0eU1hbmFnZXIoeyBjaGlsZHJlbiB9KSB7XG4gIHJldHVybiBjaGlsZHJlbjtcbn1cbmZ1bmN0aW9uIEFwcChjb25maWcpIHtcbiAgY29uc3QgaXNNYWluQXBwQmxvY2tlZCA9IHVzZUFwcFN0YXRlKChzdGF0ZSkgPT4gc3RhdGUuaXNNYWluQXBwQmxvY2tlZCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KGskMywgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoRm9jdXNMb2NrLCB7fSksXG4gICAgLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgIENsaWNrQmxvY2tlcixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImZpeGVkIGluc2V0LTAgaC1zY3JlZW4gdy1zY3JlZW5cIixcbiAgICAgICAgZW5hYmxlOiBpc01haW5BcHBCbG9ja2VkXG4gICAgICB9XG4gICAgKSxcbiAgICAvKiBAX19QVVJFX18gKi8gdSQ5KENvbnRleHRQcm92aWRlcnMsIHsgY29uZmlnLCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIHUkOShIb3RrZXlMaXN0ZW5lciwge30pLFxuICAgICAgLyogQF9fUFVSRV9fICovIHUkOShWaXNpYmlsaXR5TWFuYWdlciwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShEZXNrdG9wTGF5b3V0LCB7fSkgfSlcbiAgICBdIH0pXG4gIF0gfSk7XG59XG5mdW5jdGlvbiBpbml0VG9vbGJhcihjb25maWcpIHtcbiAgaWYgKCFkb2N1bWVudC5ib2R5KVxuICAgIHRocm93IG5ldyBFcnJvcihcInN0YWdld2lzZSBjb21wYW5pb24gY2Fubm90IGZpbmQgZG9jdW1lbnQuYm9keVwiKTtcbiAgaWYgKGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3Rvcihjb21wYW5pb25BbmNob3JUYWdOYW1lKSkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIFwiQSBzdGFnZXdpc2UgY29tcGFuaW9uIGFuY2hvciBhbHJlYWR5IGV4aXN0cy4gQWJvcnRpbmcgdGhpcyBpbnN0YW5jZS5cIlxuICAgICk7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQSBzdGFnZXdpc2UgY29tcGFuaW9uIGFuY2hvciBhbHJlYWR5IGV4aXN0cy5cIik7XG4gIH1cbiAgY29uc3Qgc2hhZG93RG9tQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChjb21wYW5pb25BbmNob3JUYWdOYW1lKTtcbiAgc2hhZG93RG9tQW5jaG9yLnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xuICBzaGFkb3dEb21BbmNob3Iuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgc2hhZG93RG9tQW5jaG9yLnN0eWxlLmxlZnQgPSBcIjBweFwiO1xuICBzaGFkb3dEb21BbmNob3Iuc3R5bGUucmlnaHQgPSBcIjBweFwiO1xuICBzaGFkb3dEb21BbmNob3Iuc3R5bGUuYm90dG9tID0gXCIwcHhcIjtcbiAgc2hhZG93RG9tQW5jaG9yLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgc2hhZG93RG9tQW5jaG9yLnN0eWxlLnpJbmRleCA9IFwiMjE0NzQ4MzY0N1wiO1xuICBjb25zdCBldmVudEJsb2NrZXIgPSAoZXYpID0+IHtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfTtcbiAgc2hhZG93RG9tQW5jaG9yLm9uY2xpY2sgPSBldmVudEJsb2NrZXI7XG4gIHNoYWRvd0RvbUFuY2hvci5vbm1vdXNlZG93biA9IGV2ZW50QmxvY2tlcjtcbiAgc2hhZG93RG9tQW5jaG9yLm9ubW91c2V1cCA9IGV2ZW50QmxvY2tlcjtcbiAgc2hhZG93RG9tQW5jaG9yLm9ubW91c2Vtb3ZlID0gZXZlbnRCbG9ja2VyO1xuICBzaGFkb3dEb21BbmNob3Iub25kYmxjbGljayA9IGV2ZW50QmxvY2tlcjtcbiAgc2hhZG93RG9tQW5jaG9yLm9uY29udGV4dG1lbnUgPSBldmVudEJsb2NrZXI7XG4gIHNoYWRvd0RvbUFuY2hvci5vbndoZWVsID0gZXZlbnRCbG9ja2VyO1xuICBzaGFkb3dEb21BbmNob3Iub25mb2N1cyA9IGV2ZW50QmxvY2tlcjtcbiAgc2hhZG93RG9tQW5jaG9yLm9uYmx1ciA9IGV2ZW50QmxvY2tlcjtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzaGFkb3dEb21BbmNob3IpO1xuICBjb25zdCBmb250TGlua05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgZm9udExpbmtOb2RlLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuICBmb250TGlua05vZGUuaHJlZiA9IGBodHRwczovL3JzbXMubWUvaW50ZXIvaW50ZXIuY3NzYDtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChmb250TGlua05vZGUpO1xuICBjb25zdCBzdHlsZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIHN0eWxlTm9kZS5hcHBlbmQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYXBwU3R5bGUpKTtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZU5vZGUpO1xuICBFJDMoXyQ0KEFwcCwgY29uZmlnKSwgc2hhZG93RG9tQW5jaG9yKTtcbn1cbmV4cG9ydCB7XG4gIGluaXRUb29sYmFyXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@stagewise/toolbar/dist/index.js\n"));

/***/ })

}]);