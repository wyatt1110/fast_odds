/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@stagewise";
exports.ids = ["vendor-chunks/@stagewise"];
exports.modules = {

/***/ "(ssr)/./node_modules/@stagewise/toolbar-react/dist/index.umd.cjs":
/*!******************************************************************!*\
  !*** ./node_modules/@stagewise/toolbar-react/dist/index.umd.cjs ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("(function(global, factory) {\n   true ? factory(exports, __webpack_require__(/*! @stagewise/toolbar */ \"(ssr)/./node_modules/@stagewise/toolbar/dist/index.umd.cjs\"), __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\")) : 0;\n})(this, function(exports2, toolbar, react) {\n  \"use strict\";\n  function StagewiseToolbar({ config }) {\n    const isLoaded = react.useRef(false);\n    react.useEffect(() => {\n      if (isLoaded.current) return;\n      isLoaded.current = true;\n      toolbar.initToolbar(config);\n    }, [config]);\n    return null;\n  }\n  exports2.StagewiseToolbar = StagewiseToolbar;\n  Object.defineProperty(exports2, Symbol.toStringTag, { value: \"Module\" });\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWdld2lzZS90b29sYmFyLXJlYWN0L2Rpc3QvaW5kZXgudW1kLmNqcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLEVBQUUsS0FBNEQsb0JBQW9CLG1CQUFPLENBQUMsc0ZBQW9CLEdBQUcsbUJBQU8sQ0FBQyx3R0FBTyxLQUFLLENBQTZRO0FBQ2xaLENBQUM7QUFDRDtBQUNBLDhCQUE4QixRQUFRO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELGlCQUFpQjtBQUN6RSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BvcnRzLWJldHRpbmctc29sdXRpb25zLy4vbm9kZV9tb2R1bGVzL0BzdGFnZXdpc2UvdG9vbGJhci1yZWFjdC9kaXN0L2luZGV4LnVtZC5janM/NWYyOCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgPyBmYWN0b3J5KGV4cG9ydHMsIHJlcXVpcmUoXCJAc3RhZ2V3aXNlL3Rvb2xiYXJcIiksIHJlcXVpcmUoXCJyZWFjdFwiKSkgOiB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbXCJleHBvcnRzXCIsIFwiQHN0YWdld2lzZS90b29sYmFyXCIsIFwicmVhY3RcIl0sIGZhY3RvcnkpIDogKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsVGhpcyA6IGdsb2JhbCB8fCBzZWxmLCBmYWN0b3J5KGdsb2JhbC5TdGFnZXdpc2VUb29sYmFyUmVhY3QgPSB7fSwgZ2xvYmFsW1wiQHN0YWdld2lzZS90b29sYmFyXCJdLCBnbG9iYWwucmVhY3QpKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKGV4cG9ydHMyLCB0b29sYmFyLCByZWFjdCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgZnVuY3Rpb24gU3RhZ2V3aXNlVG9vbGJhcih7IGNvbmZpZyB9KSB7XG4gICAgY29uc3QgaXNMb2FkZWQgPSByZWFjdC51c2VSZWYoZmFsc2UpO1xuICAgIHJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAoaXNMb2FkZWQuY3VycmVudCkgcmV0dXJuO1xuICAgICAgaXNMb2FkZWQuY3VycmVudCA9IHRydWU7XG4gICAgICB0b29sYmFyLmluaXRUb29sYmFyKGNvbmZpZyk7XG4gICAgfSwgW2NvbmZpZ10pO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGV4cG9ydHMyLlN0YWdld2lzZVRvb2xiYXIgPSBTdGFnZXdpc2VUb29sYmFyO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0czIsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stagewise/toolbar-react/dist/index.umd.cjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stagewise/toolbar/dist/index.umd.cjs":
/*!************************************************************!*\
  !*** ./node_modules/@stagewise/toolbar/dist/index.umd.cjs ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("(function(global, factory) {\n   true ? factory(exports) : 0;\n})(this, function(exports2) {\n  \"use strict\";\n  var n$4, l$4, u$a, i$8, r$5, o$9, e$5, f$9, c$7, s$9, a$b, h$6, p$4 = {}, y$7 = [], v$3 = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i, w$5 = Array.isArray;\n  function d$5(n2, l2) {\n    for (var u2 in l2) n2[u2] = l2[u2];\n    return n2;\n  }\n  function g$4(n2) {\n    n2 && n2.parentNode && n2.parentNode.removeChild(n2);\n  }\n  function _$4(l2, u2, t2) {\n    var i2, r2, o2, e2 = {};\n    for (o2 in u2) \"key\" == o2 ? i2 = u2[o2] : \"ref\" == o2 ? r2 = u2[o2] : e2[o2] = u2[o2];\n    if (arguments.length > 2 && (e2.children = arguments.length > 3 ? n$4.call(arguments, 2) : t2), \"function\" == typeof l2 && null != l2.defaultProps) for (o2 in l2.defaultProps) null == e2[o2] && (e2[o2] = l2.defaultProps[o2]);\n    return m$6(l2, e2, i2, r2, null);\n  }\n  function m$6(n2, t2, i2, r2, o2) {\n    var e2 = { type: n2, props: t2, key: i2, ref: r2, __k: null, __: null, __b: 0, __e: null, __c: null, constructor: void 0, __v: null == o2 ? ++u$a : o2, __i: -1, __u: 0 };\n    return null == o2 && null != l$4.vnode && l$4.vnode(e2), e2;\n  }\n  function b$5() {\n    return { current: null };\n  }\n  function k$3(n2) {\n    return n2.children;\n  }\n  function x$5(n2, l2) {\n    this.props = n2, this.context = l2;\n  }\n  function S$5(n2, l2) {\n    if (null == l2) return n2.__ ? S$5(n2.__, n2.__i + 1) : null;\n    for (var u2; l2 < n2.__k.length; l2++) if (null != (u2 = n2.__k[l2]) && null != u2.__e) return u2.__e;\n    return \"function\" == typeof n2.type ? S$5(n2) : null;\n  }\n  function C$5(n2) {\n    var l2, u2;\n    if (null != (n2 = n2.__) && null != n2.__c) {\n      for (n2.__e = n2.__c.base = null, l2 = 0; l2 < n2.__k.length; l2++) if (null != (u2 = n2.__k[l2]) && null != u2.__e) {\n        n2.__e = n2.__c.base = u2.__e;\n        break;\n      }\n      return C$5(n2);\n    }\n  }\n  function M$4(n2) {\n    (!n2.__d && (n2.__d = true) && i$8.push(n2) && !$$2.__r++ || r$5 != l$4.debounceRendering) && ((r$5 = l$4.debounceRendering) || o$9)($$2);\n  }\n  function $$2() {\n    for (var n2, u2, t2, r2, o2, f2, c2, s2 = 1; i$8.length; ) i$8.length > s2 && i$8.sort(e$5), n2 = i$8.shift(), s2 = i$8.length, n2.__d && (t2 = void 0, o2 = (r2 = (u2 = n2).__v).__e, f2 = [], c2 = [], u2.__P && ((t2 = d$5({}, r2)).__v = r2.__v + 1, l$4.vnode && l$4.vnode(t2), O$3(u2.__P, t2, r2, u2.__n, u2.__P.namespaceURI, 32 & r2.__u ? [o2] : null, f2, null == o2 ? S$5(r2) : o2, !!(32 & r2.__u), c2), t2.__v = r2.__v, t2.__.__k[t2.__i] = t2, z$3(f2, t2, c2), t2.__e != o2 && C$5(t2)));\n    $$2.__r = 0;\n  }\n  function I$4(n2, l2, u2, t2, i2, r2, o2, e2, f2, c2, s2) {\n    var a2, h2, v2, w2, d2, g2, _2 = t2 && t2.__k || y$7, m2 = l2.length;\n    for (f2 = P$6(u2, l2, _2, f2, m2), a2 = 0; a2 < m2; a2++) null != (v2 = u2.__k[a2]) && (h2 = -1 == v2.__i ? p$4 : _2[v2.__i] || p$4, v2.__i = a2, g2 = O$3(n2, v2, h2, i2, r2, o2, e2, f2, c2, s2), w2 = v2.__e, v2.ref && h2.ref != v2.ref && (h2.ref && q$4(h2.ref, null, v2), s2.push(v2.ref, v2.__c || w2, v2)), null == d2 && null != w2 && (d2 = w2), 4 & v2.__u || h2.__k === v2.__k ? f2 = A$4(v2, f2, n2) : \"function\" == typeof v2.type && void 0 !== g2 ? f2 = g2 : w2 && (f2 = w2.nextSibling), v2.__u &= -7);\n    return u2.__e = d2, f2;\n  }\n  function P$6(n2, l2, u2, t2, i2) {\n    var r2, o2, e2, f2, c2, s2 = u2.length, a2 = s2, h2 = 0;\n    for (n2.__k = new Array(i2), r2 = 0; r2 < i2; r2++) null != (o2 = l2[r2]) && \"boolean\" != typeof o2 && \"function\" != typeof o2 ? (f2 = r2 + h2, (o2 = n2.__k[r2] = \"string\" == typeof o2 || \"number\" == typeof o2 || \"bigint\" == typeof o2 || o2.constructor == String ? m$6(null, o2, null, null, null) : w$5(o2) ? m$6(k$3, { children: o2 }, null, null, null) : null == o2.constructor && o2.__b > 0 ? m$6(o2.type, o2.props, o2.key, o2.ref ? o2.ref : null, o2.__v) : o2).__ = n2, o2.__b = n2.__b + 1, e2 = null, -1 != (c2 = o2.__i = L$4(o2, u2, f2, a2)) && (a2--, (e2 = u2[c2]) && (e2.__u |= 2)), null == e2 || null == e2.__v ? (-1 == c2 && (i2 > s2 ? h2-- : i2 < s2 && h2++), \"function\" != typeof o2.type && (o2.__u |= 4)) : c2 != f2 && (c2 == f2 - 1 ? h2-- : c2 == f2 + 1 ? h2++ : (c2 > f2 ? h2-- : h2++, o2.__u |= 4))) : n2.__k[r2] = null;\n    if (a2) for (r2 = 0; r2 < s2; r2++) null != (e2 = u2[r2]) && 0 == (2 & e2.__u) && (e2.__e == t2 && (t2 = S$5(e2)), B$3(e2, e2));\n    return t2;\n  }\n  function A$4(n2, l2, u2) {\n    var t2, i2;\n    if (\"function\" == typeof n2.type) {\n      for (t2 = n2.__k, i2 = 0; t2 && i2 < t2.length; i2++) t2[i2] && (t2[i2].__ = n2, l2 = A$4(t2[i2], l2, u2));\n      return l2;\n    }\n    n2.__e != l2 && (l2 && n2.type && !u2.contains(l2) && (l2 = S$5(n2)), u2.insertBefore(n2.__e, l2 || null), l2 = n2.__e);\n    do {\n      l2 = l2 && l2.nextSibling;\n    } while (null != l2 && 8 == l2.nodeType);\n    return l2;\n  }\n  function H$6(n2, l2) {\n    return l2 = l2 || [], null == n2 || \"boolean\" == typeof n2 || (w$5(n2) ? n2.some(function(n3) {\n      H$6(n3, l2);\n    }) : l2.push(n2)), l2;\n  }\n  function L$4(n2, l2, u2, t2) {\n    var i2, r2, o2 = n2.key, e2 = n2.type, f2 = l2[u2];\n    if (null === f2 && null == n2.key || f2 && o2 == f2.key && e2 == f2.type && 0 == (2 & f2.__u)) return u2;\n    if (t2 > (null != f2 && 0 == (2 & f2.__u) ? 1 : 0)) for (i2 = u2 - 1, r2 = u2 + 1; i2 >= 0 || r2 < l2.length; ) {\n      if (i2 >= 0) {\n        if ((f2 = l2[i2]) && 0 == (2 & f2.__u) && o2 == f2.key && e2 == f2.type) return i2;\n        i2--;\n      }\n      if (r2 < l2.length) {\n        if ((f2 = l2[r2]) && 0 == (2 & f2.__u) && o2 == f2.key && e2 == f2.type) return r2;\n        r2++;\n      }\n    }\n    return -1;\n  }\n  function T$6(n2, l2, u2) {\n    \"-\" == l2[0] ? n2.setProperty(l2, null == u2 ? \"\" : u2) : n2[l2] = null == u2 ? \"\" : \"number\" != typeof u2 || v$3.test(l2) ? u2 : u2 + \"px\";\n  }\n  function j$5(n2, l2, u2, t2, i2) {\n    var r2;\n    n: if (\"style\" == l2) if (\"string\" == typeof u2) n2.style.cssText = u2;\n    else {\n      if (\"string\" == typeof t2 && (n2.style.cssText = t2 = \"\"), t2) for (l2 in t2) u2 && l2 in u2 || T$6(n2.style, l2, \"\");\n      if (u2) for (l2 in u2) t2 && u2[l2] == t2[l2] || T$6(n2.style, l2, u2[l2]);\n    }\n    else if (\"o\" == l2[0] && \"n\" == l2[1]) r2 = l2 != (l2 = l2.replace(f$9, \"$1\")), l2 = l2.toLowerCase() in n2 || \"onFocusOut\" == l2 || \"onFocusIn\" == l2 ? l2.toLowerCase().slice(2) : l2.slice(2), n2.l || (n2.l = {}), n2.l[l2 + r2] = u2, u2 ? t2 ? u2.u = t2.u : (u2.u = c$7, n2.addEventListener(l2, r2 ? a$b : s$9, r2)) : n2.removeEventListener(l2, r2 ? a$b : s$9, r2);\n    else {\n      if (\"http://www.w3.org/2000/svg\" == i2) l2 = l2.replace(/xlink(H|:h)/, \"h\").replace(/sName$/, \"s\");\n      else if (\"width\" != l2 && \"height\" != l2 && \"href\" != l2 && \"list\" != l2 && \"form\" != l2 && \"tabIndex\" != l2 && \"download\" != l2 && \"rowSpan\" != l2 && \"colSpan\" != l2 && \"role\" != l2 && \"popover\" != l2 && l2 in n2) try {\n        n2[l2] = null == u2 ? \"\" : u2;\n        break n;\n      } catch (n3) {\n      }\n      \"function\" == typeof u2 || (null == u2 || false === u2 && \"-\" != l2[4] ? n2.removeAttribute(l2) : n2.setAttribute(l2, \"popover\" == l2 && 1 == u2 ? \"\" : u2));\n    }\n  }\n  function F$6(n2) {\n    return function(u2) {\n      if (this.l) {\n        var t2 = this.l[u2.type + n2];\n        if (null == u2.t) u2.t = c$7++;\n        else if (u2.t < t2.u) return;\n        return t2(l$4.event ? l$4.event(u2) : u2);\n      }\n    };\n  }\n  function O$3(n2, u2, t2, i2, r2, o2, e2, f2, c2, s2) {\n    var a2, h2, p2, y2, v2, _2, m2, b2, S2, C2, M2, $2, P2, A2, H2, L2, T2, j2 = u2.type;\n    if (null != u2.constructor) return null;\n    128 & t2.__u && (c2 = !!(32 & t2.__u), o2 = [f2 = u2.__e = t2.__e]), (a2 = l$4.__b) && a2(u2);\n    n: if (\"function\" == typeof j2) try {\n      if (b2 = u2.props, S2 = \"prototype\" in j2 && j2.prototype.render, C2 = (a2 = j2.contextType) && i2[a2.__c], M2 = a2 ? C2 ? C2.props.value : a2.__ : i2, t2.__c ? m2 = (h2 = u2.__c = t2.__c).__ = h2.__E : (S2 ? u2.__c = h2 = new j2(b2, M2) : (u2.__c = h2 = new x$5(b2, M2), h2.constructor = j2, h2.render = D$3), C2 && C2.sub(h2), h2.props = b2, h2.state || (h2.state = {}), h2.context = M2, h2.__n = i2, p2 = h2.__d = true, h2.__h = [], h2._sb = []), S2 && null == h2.__s && (h2.__s = h2.state), S2 && null != j2.getDerivedStateFromProps && (h2.__s == h2.state && (h2.__s = d$5({}, h2.__s)), d$5(h2.__s, j2.getDerivedStateFromProps(b2, h2.__s))), y2 = h2.props, v2 = h2.state, h2.__v = u2, p2) S2 && null == j2.getDerivedStateFromProps && null != h2.componentWillMount && h2.componentWillMount(), S2 && null != h2.componentDidMount && h2.__h.push(h2.componentDidMount);\n      else {\n        if (S2 && null == j2.getDerivedStateFromProps && b2 !== y2 && null != h2.componentWillReceiveProps && h2.componentWillReceiveProps(b2, M2), !h2.__e && null != h2.shouldComponentUpdate && false === h2.shouldComponentUpdate(b2, h2.__s, M2) || u2.__v == t2.__v) {\n          for (u2.__v != t2.__v && (h2.props = b2, h2.state = h2.__s, h2.__d = false), u2.__e = t2.__e, u2.__k = t2.__k, u2.__k.some(function(n3) {\n            n3 && (n3.__ = u2);\n          }), $2 = 0; $2 < h2._sb.length; $2++) h2.__h.push(h2._sb[$2]);\n          h2._sb = [], h2.__h.length && e2.push(h2);\n          break n;\n        }\n        null != h2.componentWillUpdate && h2.componentWillUpdate(b2, h2.__s, M2), S2 && null != h2.componentDidUpdate && h2.__h.push(function() {\n          h2.componentDidUpdate(y2, v2, _2);\n        });\n      }\n      if (h2.context = M2, h2.props = b2, h2.__P = n2, h2.__e = false, P2 = l$4.__r, A2 = 0, S2) {\n        for (h2.state = h2.__s, h2.__d = false, P2 && P2(u2), a2 = h2.render(h2.props, h2.state, h2.context), H2 = 0; H2 < h2._sb.length; H2++) h2.__h.push(h2._sb[H2]);\n        h2._sb = [];\n      } else do {\n        h2.__d = false, P2 && P2(u2), a2 = h2.render(h2.props, h2.state, h2.context), h2.state = h2.__s;\n      } while (h2.__d && ++A2 < 25);\n      h2.state = h2.__s, null != h2.getChildContext && (i2 = d$5(d$5({}, i2), h2.getChildContext())), S2 && !p2 && null != h2.getSnapshotBeforeUpdate && (_2 = h2.getSnapshotBeforeUpdate(y2, v2)), L2 = a2, null != a2 && a2.type === k$3 && null == a2.key && (L2 = N$2(a2.props.children)), f2 = I$4(n2, w$5(L2) ? L2 : [L2], u2, t2, i2, r2, o2, e2, f2, c2, s2), h2.base = u2.__e, u2.__u &= -161, h2.__h.length && e2.push(h2), m2 && (h2.__E = h2.__ = null);\n    } catch (n3) {\n      if (u2.__v = null, c2 || null != o2) if (n3.then) {\n        for (u2.__u |= c2 ? 160 : 128; f2 && 8 == f2.nodeType && f2.nextSibling; ) f2 = f2.nextSibling;\n        o2[o2.indexOf(f2)] = null, u2.__e = f2;\n      } else for (T2 = o2.length; T2--; ) g$4(o2[T2]);\n      else u2.__e = t2.__e, u2.__k = t2.__k;\n      l$4.__e(n3, u2, t2);\n    }\n    else null == o2 && u2.__v == t2.__v ? (u2.__k = t2.__k, u2.__e = t2.__e) : f2 = u2.__e = V$2(t2.__e, u2, t2, i2, r2, o2, e2, c2, s2);\n    return (a2 = l$4.diffed) && a2(u2), 128 & u2.__u ? void 0 : f2;\n  }\n  function z$3(n2, u2, t2) {\n    for (var i2 = 0; i2 < t2.length; i2++) q$4(t2[i2], t2[++i2], t2[++i2]);\n    l$4.__c && l$4.__c(u2, n2), n2.some(function(u3) {\n      try {\n        n2 = u3.__h, u3.__h = [], n2.some(function(n3) {\n          n3.call(u3);\n        });\n      } catch (n3) {\n        l$4.__e(n3, u3.__v);\n      }\n    });\n  }\n  function N$2(n2) {\n    return \"object\" != typeof n2 || null == n2 || n2.__b && n2.__b > 0 ? n2 : w$5(n2) ? n2.map(N$2) : d$5({}, n2);\n  }\n  function V$2(u2, t2, i2, r2, o2, e2, f2, c2, s2) {\n    var a2, h2, y2, v2, d2, _2, m2, b2 = i2.props, k2 = t2.props, x2 = t2.type;\n    if (\"svg\" == x2 ? o2 = \"http://www.w3.org/2000/svg\" : \"math\" == x2 ? o2 = \"http://www.w3.org/1998/Math/MathML\" : o2 || (o2 = \"http://www.w3.org/1999/xhtml\"), null != e2) {\n      for (a2 = 0; a2 < e2.length; a2++) if ((d2 = e2[a2]) && \"setAttribute\" in d2 == !!x2 && (x2 ? d2.localName == x2 : 3 == d2.nodeType)) {\n        u2 = d2, e2[a2] = null;\n        break;\n      }\n    }\n    if (null == u2) {\n      if (null == x2) return document.createTextNode(k2);\n      u2 = document.createElementNS(o2, x2, k2.is && k2), c2 && (l$4.__m && l$4.__m(t2, e2), c2 = false), e2 = null;\n    }\n    if (null == x2) b2 === k2 || c2 && u2.data == k2 || (u2.data = k2);\n    else {\n      if (e2 = e2 && n$4.call(u2.childNodes), b2 = i2.props || p$4, !c2 && null != e2) for (b2 = {}, a2 = 0; a2 < u2.attributes.length; a2++) b2[(d2 = u2.attributes[a2]).name] = d2.value;\n      for (a2 in b2) if (d2 = b2[a2], \"children\" == a2) ;\n      else if (\"dangerouslySetInnerHTML\" == a2) y2 = d2;\n      else if (!(a2 in k2)) {\n        if (\"value\" == a2 && \"defaultValue\" in k2 || \"checked\" == a2 && \"defaultChecked\" in k2) continue;\n        j$5(u2, a2, null, d2, o2);\n      }\n      for (a2 in k2) d2 = k2[a2], \"children\" == a2 ? v2 = d2 : \"dangerouslySetInnerHTML\" == a2 ? h2 = d2 : \"value\" == a2 ? _2 = d2 : \"checked\" == a2 ? m2 = d2 : c2 && \"function\" != typeof d2 || b2[a2] === d2 || j$5(u2, a2, d2, b2[a2], o2);\n      if (h2) c2 || y2 && (h2.__html == y2.__html || h2.__html == u2.innerHTML) || (u2.innerHTML = h2.__html), t2.__k = [];\n      else if (y2 && (u2.innerHTML = \"\"), I$4(\"template\" == t2.type ? u2.content : u2, w$5(v2) ? v2 : [v2], t2, i2, r2, \"foreignObject\" == x2 ? \"http://www.w3.org/1999/xhtml\" : o2, e2, f2, e2 ? e2[0] : i2.__k && S$5(i2, 0), c2, s2), null != e2) for (a2 = e2.length; a2--; ) g$4(e2[a2]);\n      c2 || (a2 = \"value\", \"progress\" == x2 && null == _2 ? u2.removeAttribute(\"value\") : null != _2 && (_2 !== u2[a2] || \"progress\" == x2 && !_2 || \"option\" == x2 && _2 != b2[a2]) && j$5(u2, a2, _2, b2[a2], o2), a2 = \"checked\", null != m2 && m2 != u2[a2] && j$5(u2, a2, m2, b2[a2], o2));\n    }\n    return u2;\n  }\n  function q$4(n2, u2, t2) {\n    try {\n      if (\"function\" == typeof n2) {\n        var i2 = \"function\" == typeof n2.__u;\n        i2 && n2.__u(), i2 && null == u2 || (n2.__u = n2(u2));\n      } else n2.current = u2;\n    } catch (n3) {\n      l$4.__e(n3, t2);\n    }\n  }\n  function B$3(n2, u2, t2) {\n    var i2, r2;\n    if (l$4.unmount && l$4.unmount(n2), (i2 = n2.ref) && (i2.current && i2.current != n2.__e || q$4(i2, null, u2)), null != (i2 = n2.__c)) {\n      if (i2.componentWillUnmount) try {\n        i2.componentWillUnmount();\n      } catch (n3) {\n        l$4.__e(n3, u2);\n      }\n      i2.base = i2.__P = null;\n    }\n    if (i2 = n2.__k) for (r2 = 0; r2 < i2.length; r2++) i2[r2] && B$3(i2[r2], u2, t2 || \"function\" != typeof n2.type);\n    t2 || g$4(n2.__e), n2.__c = n2.__ = n2.__e = void 0;\n  }\n  function D$3(n2, l2, u2) {\n    return this.constructor(n2, u2);\n  }\n  function E$3(u2, t2, i2) {\n    var r2, o2, e2, f2;\n    t2 == document && (t2 = document.documentElement), l$4.__ && l$4.__(u2, t2), o2 = (r2 = \"function\" == typeof i2) ? null : i2 && i2.__k || t2.__k, e2 = [], f2 = [], O$3(t2, u2 = (!r2 && i2 || t2).__k = _$4(k$3, null, [u2]), o2 || p$4, p$4, t2.namespaceURI, !r2 && i2 ? [i2] : o2 ? null : t2.firstChild ? n$4.call(t2.childNodes) : null, e2, !r2 && i2 ? i2 : o2 ? o2.__e : t2.firstChild, r2, f2), z$3(e2, u2, f2);\n  }\n  function G$3(n2, l2) {\n    E$3(n2, l2, G$3);\n  }\n  function J$4(l2, u2, t2) {\n    var i2, r2, o2, e2, f2 = d$5({}, l2.props);\n    for (o2 in l2.type && l2.type.defaultProps && (e2 = l2.type.defaultProps), u2) \"key\" == o2 ? i2 = u2[o2] : \"ref\" == o2 ? r2 = u2[o2] : f2[o2] = null == u2[o2] && null != e2 ? e2[o2] : u2[o2];\n    return arguments.length > 2 && (f2.children = arguments.length > 3 ? n$4.call(arguments, 2) : t2), m$6(l2.type, f2, i2 || l2.key, r2 || l2.ref, null);\n  }\n  function K$3(n2) {\n    function l2(n3) {\n      var u2, t2;\n      return this.getChildContext || (u2 = /* @__PURE__ */ new Set(), (t2 = {})[l2.__c] = this, this.getChildContext = function() {\n        return t2;\n      }, this.componentWillUnmount = function() {\n        u2 = null;\n      }, this.shouldComponentUpdate = function(n4) {\n        this.props.value != n4.value && u2.forEach(function(n5) {\n          n5.__e = true, M$4(n5);\n        });\n      }, this.sub = function(n4) {\n        u2.add(n4);\n        var l3 = n4.componentWillUnmount;\n        n4.componentWillUnmount = function() {\n          u2 && u2.delete(n4), l3 && l3.call(n4);\n        };\n      }), n3.children;\n    }\n    return l2.__c = \"__cC\" + h$6++, l2.__ = n2, l2.Provider = l2.__l = (l2.Consumer = function(n3, l3) {\n      return n3.children(l3);\n    }).contextType = l2, l2;\n  }\n  n$4 = y$7.slice, l$4 = { __e: function(n2, l2, u2, t2) {\n    for (var i2, r2, o2; l2 = l2.__; ) if ((i2 = l2.__c) && !i2.__) try {\n      if ((r2 = i2.constructor) && null != r2.getDerivedStateFromError && (i2.setState(r2.getDerivedStateFromError(n2)), o2 = i2.__d), null != i2.componentDidCatch && (i2.componentDidCatch(n2, t2 || {}), o2 = i2.__d), o2) return i2.__E = i2;\n    } catch (l3) {\n      n2 = l3;\n    }\n    throw n2;\n  } }, u$a = 0, x$5.prototype.setState = function(n2, l2) {\n    var u2;\n    u2 = null != this.__s && this.__s != this.state ? this.__s : this.__s = d$5({}, this.state), \"function\" == typeof n2 && (n2 = n2(d$5({}, u2), this.props)), n2 && d$5(u2, n2), null != n2 && this.__v && (l2 && this._sb.push(l2), M$4(this));\n  }, x$5.prototype.forceUpdate = function(n2) {\n    this.__v && (this.__e = true, n2 && this.__h.push(n2), M$4(this));\n  }, x$5.prototype.render = k$3, i$8 = [], o$9 = \"function\" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, e$5 = function(n2, l2) {\n    return n2.__v.__b - l2.__v.__b;\n  }, $$2.__r = 0, f$9 = /(PointerCapture)$|Capture$/i, c$7 = 0, s$9 = F$6(false), a$b = F$6(true), h$6 = 0;\n  const appStyle = '/*! tailwindcss v4.1.5 | MIT License | https://tailwindcss.com */\\n@layer properties{@supports ((-webkit-hyphens:none) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){stagewise-companion-anchor *,stagewise-companion-anchor :before,stagewise-companion-anchor :after,stagewise-companion-anchor ::backdrop{--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial}}}@layer theme{stagewise-companion-anchor,stagewise-companion-anchor{--font-sans:ui-sans-serif,system-ui,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace;--color-red-600:oklch(57.7% .245 27.325);--color-green-600:oklch(62.7% .194 149.214);--color-teal-500:oklch(70.4% .14 182.503);--color-blue-500:oklch(62.3% .214 259.815);--color-blue-600:oklch(54.6% .245 262.881);--color-indigo-700:oklch(45.7% .24 277.023);--color-indigo-950:oklch(25.7% .09 281.288);--color-rose-600:oklch(58.6% .253 17.585);--color-zinc-50:oklch(98.5% 0 0);--color-zinc-100:oklch(96.7% .001 286.375);--color-zinc-500:oklch(55.2% .016 285.938);--color-zinc-600:oklch(44.2% .017 285.786);--color-zinc-700:oklch(37% .013 285.805);--color-zinc-900:oklch(21% .006 285.885);--color-zinc-950:oklch(14.1% .005 285.823);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-sm:24rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height:calc(1.5/1);--font-weight-normal:400;--font-weight-semibold:600;--font-weight-bold:700;--radius-md:.375rem;--radius-lg:.5rem;--radius-xl:.75rem;--radius-2xl:1rem;--radius-3xl:1.5rem;--drop-shadow-xs:0 1px 1px #0000000d;--drop-shadow-md:0 3px 3px #0000001f;--drop-shadow-xl:0 9px 7px #0000001a;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--blur-xs:4px;--blur-sm:8px;--blur-md:12px;--blur-lg:16px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono);--color-background:var(--color-white);--color-foreground:var(--color-zinc-950);--color-muted-foreground:var(--color-zinc-700);--color-border:var(--color-zinc-500)}}@layer base{stagewise-companion-anchor *,stagewise-companion-anchor :after,stagewise-companion-anchor :before,stagewise-companion-anchor ::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}stagewise-companion-anchor ::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}:where(stagewise-companion-anchor),stagewise-companion-anchor{-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}stagewise-companion-anchor hr{height:0;color:inherit;border-top-width:1px}stagewise-companion-anchor abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}stagewise-companion-anchor h1,stagewise-companion-anchor h2,stagewise-companion-anchor h3,stagewise-companion-anchor h4,stagewise-companion-anchor h5,stagewise-companion-anchor h6{font-size:inherit;font-weight:inherit}stagewise-companion-anchor a{color:inherit;-webkit-text-decoration:inherit;-webkit-text-decoration:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}stagewise-companion-anchor b,stagewise-companion-anchor strong{font-weight:bolder}stagewise-companion-anchor code,stagewise-companion-anchor kbd,stagewise-companion-anchor samp,stagewise-companion-anchor pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}stagewise-companion-anchor small{font-size:80%}stagewise-companion-anchor sub,stagewise-companion-anchor sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}stagewise-companion-anchor sub{bottom:-.25em}stagewise-companion-anchor sup{top:-.5em}stagewise-companion-anchor table{text-indent:0;border-color:inherit;border-collapse:collapse}stagewise-companion-anchor :-moz-focusring{outline:auto}stagewise-companion-anchor progress{vertical-align:baseline}stagewise-companion-anchor summary{display:list-item}stagewise-companion-anchor ol,stagewise-companion-anchor ul,stagewise-companion-anchor menu{list-style:none}stagewise-companion-anchor img,stagewise-companion-anchor svg,stagewise-companion-anchor video,stagewise-companion-anchor canvas,stagewise-companion-anchor audio,stagewise-companion-anchor iframe,stagewise-companion-anchor embed,stagewise-companion-anchor object{vertical-align:middle;display:block}stagewise-companion-anchor img,stagewise-companion-anchor video{max-width:100%;height:auto}stagewise-companion-anchor button,stagewise-companion-anchor input,stagewise-companion-anchor select,stagewise-companion-anchor optgroup,stagewise-companion-anchor textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}stagewise-companion-anchor ::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}stagewise-companion-anchor :where(select:is([multiple],[size])) optgroup{font-weight:bolder}stagewise-companion-anchor :where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}stagewise-companion-anchor ::file-selector-button{margin-inline-end:4px}stagewise-companion-anchor ::-moz-placeholder{opacity:1}stagewise-companion-anchor ::placeholder{opacity:1}@supports (not (-webkit-appearance:-apple-pay-button)) or (contain-intrinsic-size:1px){stagewise-companion-anchor ::-moz-placeholder{color:currentColor}stagewise-companion-anchor ::placeholder{color:currentColor}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor ::-moz-placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}stagewise-companion-anchor ::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}stagewise-companion-anchor textarea{resize:vertical}stagewise-companion-anchor ::-webkit-search-decoration{-webkit-appearance:none}stagewise-companion-anchor ::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}stagewise-companion-anchor ::-webkit-datetime-edit{display:inline-flex}stagewise-companion-anchor ::-webkit-datetime-edit-fields-wrapper{padding:0}stagewise-companion-anchor ::-webkit-datetime-edit{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-year-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-month-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-day-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-hour-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-minute-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-second-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-millisecond-field{padding-block:0}stagewise-companion-anchor ::-webkit-datetime-edit-meridiem-field{padding-block:0}stagewise-companion-anchor :-moz-ui-invalid{box-shadow:none}stagewise-companion-anchor button,stagewise-companion-anchor input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}stagewise-companion-anchor ::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}stagewise-companion-anchor ::-webkit-inner-spin-button{height:auto}stagewise-companion-anchor ::-webkit-outer-spin-button{height:auto}stagewise-companion-anchor [hidden]:where(:not([hidden=until-found])){display:none!important}stagewise-companion-anchor stagewise-companion-anchor *{min-width:0;min-height:0;position:relative}}@layer components;@layer utilities{stagewise-companion-anchor .pointer-events-auto{pointer-events:auto!important}stagewise-companion-anchor .pointer-events-none{pointer-events:none!important}stagewise-companion-anchor .visible{visibility:visible!important}stagewise-companion-anchor .absolute{position:absolute!important}stagewise-companion-anchor .fixed{position:fixed!important}stagewise-companion-anchor .relative{position:relative!important}stagewise-companion-anchor .inset-0{inset:calc(var(--spacing)*0)!important}stagewise-companion-anchor .inset-4{inset:calc(var(--spacing)*4)!important}stagewise-companion-anchor .top-0{top:calc(var(--spacing)*0)!important}stagewise-companion-anchor .top-1\\\\/2{top:50%!important}stagewise-companion-anchor .top-\\\\[-20\\\\%\\\\]{top:-20%!important}stagewise-companion-anchor .top-\\\\[25\\\\%\\\\]{top:25%!important}stagewise-companion-anchor .-right-1{right:calc(var(--spacing)*-1)!important}stagewise-companion-anchor .right-0{right:calc(var(--spacing)*0)!important}stagewise-companion-anchor .right-1\\\\/2{right:50%!important}stagewise-companion-anchor .right-2{right:calc(var(--spacing)*2)!important}stagewise-companion-anchor .-bottom-0\\\\.5{bottom:calc(var(--spacing)*-.5)!important}stagewise-companion-anchor .bottom-1\\\\/2{bottom:50%!important}stagewise-companion-anchor .bottom-3{bottom:calc(var(--spacing)*3)!important}stagewise-companion-anchor .left-0{left:calc(var(--spacing)*0)!important}stagewise-companion-anchor .left-1\\\\/2{left:50%!important}stagewise-companion-anchor .left-3{left:calc(var(--spacing)*3)!important}stagewise-companion-anchor .left-\\\\[-10\\\\%\\\\]{left:-10%!important}stagewise-companion-anchor .left-\\\\[25\\\\%\\\\]{left:25%!important}stagewise-companion-anchor .z-50{z-index:50!important}stagewise-companion-anchor .container{width:100%!important}@media (min-width:40rem){stagewise-companion-anchor .container{max-width:40rem!important}}@media (min-width:48rem){stagewise-companion-anchor .container{max-width:48rem!important}}@media (min-width:64rem){stagewise-companion-anchor .container{max-width:64rem!important}}@media (min-width:80rem){stagewise-companion-anchor .container{max-width:80rem!important}}@media (min-width:96rem){stagewise-companion-anchor .container{max-width:96rem!important}}stagewise-companion-anchor .block{display:block!important}stagewise-companion-anchor .contents{display:contents!important}stagewise-companion-anchor .flex{display:flex!important}stagewise-companion-anchor .hidden{display:none!important}stagewise-companion-anchor .inline{display:inline!important}stagewise-companion-anchor .aspect-square{aspect-ratio:1!important}stagewise-companion-anchor .size-0{width:calc(var(--spacing)*0)!important;height:calc(var(--spacing)*0)!important}stagewise-companion-anchor .size-1\\\\.5{width:calc(var(--spacing)*1.5)!important;height:calc(var(--spacing)*1.5)!important}stagewise-companion-anchor .size-2\\\\/3{width:66.6667%!important;height:66.6667%!important}stagewise-companion-anchor .size-3{width:calc(var(--spacing)*3)!important;height:calc(var(--spacing)*3)!important}stagewise-companion-anchor .size-4{width:calc(var(--spacing)*4)!important;height:calc(var(--spacing)*4)!important}stagewise-companion-anchor .size-5{width:calc(var(--spacing)*5)!important;height:calc(var(--spacing)*5)!important}stagewise-companion-anchor .size-6{width:calc(var(--spacing)*6)!important;height:calc(var(--spacing)*6)!important}stagewise-companion-anchor .size-8{width:calc(var(--spacing)*8)!important;height:calc(var(--spacing)*8)!important}stagewise-companion-anchor .size-9\\\\/12{width:75%!important;height:75%!important}stagewise-companion-anchor .size-12{width:calc(var(--spacing)*12)!important;height:calc(var(--spacing)*12)!important}stagewise-companion-anchor .size-\\\\[120\\\\%\\\\]{width:120%!important;height:120%!important}stagewise-companion-anchor .size-full{width:100%!important;height:100%!important}stagewise-companion-anchor .h-4{height:calc(var(--spacing)*4)!important}stagewise-companion-anchor .h-5{height:calc(var(--spacing)*5)!important}stagewise-companion-anchor .h-6{height:calc(var(--spacing)*6)!important}stagewise-companion-anchor .h-8{height:calc(var(--spacing)*8)!important}stagewise-companion-anchor .h-\\\\[4\\\\.5em\\\\]{height:4.5em!important}stagewise-companion-anchor .h-\\\\[50\\\\%\\\\]{height:50%!important}stagewise-companion-anchor .h-\\\\[120\\\\%\\\\]{height:120%!important}stagewise-companion-anchor .h-auto{height:auto!important}stagewise-companion-anchor .h-fit{height:-moz-fit-content!important;height:fit-content!important}stagewise-companion-anchor .h-full{height:100%!important}stagewise-companion-anchor .h-screen{height:100vh!important}stagewise-companion-anchor .max-h-\\\\[50vh\\\\]{max-height:50vh!important}stagewise-companion-anchor .max-h-full{max-height:100%!important}stagewise-companion-anchor .w-0{width:calc(var(--spacing)*0)!important}stagewise-companion-anchor .w-6{width:calc(var(--spacing)*6)!important}stagewise-companion-anchor .w-80{width:calc(var(--spacing)*80)!important}stagewise-companion-anchor .w-96{width:calc(var(--spacing)*96)!important}stagewise-companion-anchor .w-\\\\[50\\\\%\\\\]{width:50%!important}stagewise-companion-anchor .w-fit{width:-moz-fit-content!important;width:fit-content!important}stagewise-companion-anchor .w-full{width:100%!important}stagewise-companion-anchor .w-max{width:-moz-max-content!important;width:max-content!important}stagewise-companion-anchor .w-screen{width:100vw!important}stagewise-companion-anchor .max-w-8{max-width:calc(var(--spacing)*8)!important}stagewise-companion-anchor .max-w-48{max-width:calc(var(--spacing)*48)!important}stagewise-companion-anchor .max-w-90{max-width:calc(var(--spacing)*90)!important}stagewise-companion-anchor .max-w-\\\\[80\\\\%\\\\]{max-width:80%!important}stagewise-companion-anchor .max-w-\\\\[80vw\\\\]{max-width:80vw!important}stagewise-companion-anchor .max-w-sm{max-width:var(--container-sm)!important}stagewise-companion-anchor .min-w-4{min-width:calc(var(--spacing)*4)!important}stagewise-companion-anchor .min-w-24{min-width:calc(var(--spacing)*24)!important}stagewise-companion-anchor .flex-1{flex:1!important}stagewise-companion-anchor .flex-shrink-0,stagewise-companion-anchor .shrink-0{flex-shrink:0!important}stagewise-companion-anchor .origin-center{transform-origin:50%!important}stagewise-companion-anchor .transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)!important}stagewise-companion-anchor .animate-pulse{animation:var(--animate-pulse)!important}stagewise-companion-anchor .cursor-grab{cursor:grab!important}stagewise-companion-anchor .cursor-pointer{cursor:pointer!important}stagewise-companion-anchor .resize{resize:both!important}stagewise-companion-anchor .resize-none{resize:none!important}stagewise-companion-anchor .snap-start{scroll-snap-align:start!important}stagewise-companion-anchor .flex-col{flex-direction:column!important}stagewise-companion-anchor .flex-row{flex-direction:row!important}stagewise-companion-anchor .items-center{align-items:center!important}stagewise-companion-anchor .items-end{align-items:flex-end!important}stagewise-companion-anchor .items-start{align-items:flex-start!important}stagewise-companion-anchor .items-stretch{align-items:stretch!important}stagewise-companion-anchor .justify-between{justify-content:space-between!important}stagewise-companion-anchor .justify-center{justify-content:center!important}stagewise-companion-anchor .justify-end{justify-content:flex-end!important}stagewise-companion-anchor .justify-start{justify-content:flex-start!important}stagewise-companion-anchor .gap-1{gap:calc(var(--spacing)*1)!important}stagewise-companion-anchor .gap-2{gap:calc(var(--spacing)*2)!important}stagewise-companion-anchor .gap-3{gap:calc(var(--spacing)*3)!important}stagewise-companion-anchor .truncate{text-overflow:ellipsis!important;white-space:nowrap!important;overflow:hidden!important}stagewise-companion-anchor .overflow-hidden{overflow:hidden!important}stagewise-companion-anchor .overflow-visible{overflow:visible!important}stagewise-companion-anchor .overflow-x-auto{overflow-x:auto!important}stagewise-companion-anchor .overflow-x-hidden{overflow-x:hidden!important}stagewise-companion-anchor .overflow-y-auto{overflow-y:auto!important}stagewise-companion-anchor .overflow-y-visible{overflow-y:visible!important}stagewise-companion-anchor .rounded{border-radius:.25rem!important}stagewise-companion-anchor .rounded-2xl{border-radius:var(--radius-2xl)!important}stagewise-companion-anchor .rounded-3xl{border-radius:var(--radius-3xl)!important}stagewise-companion-anchor .rounded-full{border-radius:3.40282e38px!important}stagewise-companion-anchor .rounded-lg{border-radius:var(--radius-lg)!important}stagewise-companion-anchor .rounded-md{border-radius:var(--radius-md)!important}stagewise-companion-anchor .rounded-xl{border-radius:var(--radius-xl)!important}stagewise-companion-anchor .rounded-t-3xl{border-top-left-radius:var(--radius-3xl)!important;border-top-right-radius:var(--radius-3xl)!important}stagewise-companion-anchor .border{border-style:var(--tw-border-style)!important;border-width:1px!important}stagewise-companion-anchor .border-2{border-style:var(--tw-border-style)!important;border-width:2px!important}stagewise-companion-anchor .border-x{border-inline-style:var(--tw-border-style)!important;border-inline-width:1px!important}stagewise-companion-anchor .border-t{border-top-style:var(--tw-border-style)!important;border-top-width:1px!important}stagewise-companion-anchor .border-r{border-right-style:var(--tw-border-style)!important;border-right-width:1px!important}stagewise-companion-anchor .border-solid{--tw-border-style:solid!important;border-style:solid!important}stagewise-companion-anchor .border-blue-600\\\\/80{border-color:#155dfccc!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-blue-600\\\\/80{border-color:color-mix(in oklab,var(--color-blue-600)80%,transparent)!important}}stagewise-companion-anchor .border-border\\\\/10{border-color:#71717b1a!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-border\\\\/10{border-color:color-mix(in oklab,var(--color-border)10%,transparent)!important}}stagewise-companion-anchor .border-border\\\\/20{border-color:#71717b33!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-border\\\\/20{border-color:color-mix(in oklab,var(--color-border)20%,transparent)!important}}stagewise-companion-anchor .border-border\\\\/30{border-color:#71717b4d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-border\\\\/30{border-color:color-mix(in oklab,var(--color-border)30%,transparent)!important}}stagewise-companion-anchor .border-green-600\\\\/80{border-color:#00a544cc!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-green-600\\\\/80{border-color:color-mix(in oklab,var(--color-green-600)80%,transparent)!important}}stagewise-companion-anchor .border-r-border\\\\/30{border-right-color:#71717b4d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .border-r-border\\\\/30{border-right-color:color-mix(in oklab,var(--color-border)30%,transparent)!important}}stagewise-companion-anchor .border-l-transparent{border-left-color:#0000!important}stagewise-companion-anchor .bg-background\\\\/40{background-color:#fff6!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-background\\\\/40{background-color:color-mix(in oklab,var(--color-background)40%,transparent)!important}}stagewise-companion-anchor .bg-background\\\\/60{background-color:#fff9!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-background\\\\/60{background-color:color-mix(in oklab,var(--color-background)60%,transparent)!important}}stagewise-companion-anchor .bg-blue-600{background-color:var(--color-blue-600)!important}stagewise-companion-anchor .bg-blue-600\\\\/20{background-color:#155dfc33!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-blue-600\\\\/20{background-color:color-mix(in oklab,var(--color-blue-600)20%,transparent)!important}}stagewise-companion-anchor .bg-green-600\\\\/5{background-color:#00a5440d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-green-600\\\\/5{background-color:color-mix(in oklab,var(--color-green-600)5%,transparent)!important}}stagewise-companion-anchor .bg-rose-600{background-color:var(--color-rose-600)!important}stagewise-companion-anchor .bg-transparent{background-color:#0000!important}stagewise-companion-anchor .bg-white\\\\/60{background-color:#fff9!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-white\\\\/60{background-color:color-mix(in oklab,var(--color-white)60%,transparent)!important}}stagewise-companion-anchor .bg-zinc-50\\\\/80{background-color:#fafafacc!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-zinc-50\\\\/80{background-color:color-mix(in oklab,var(--color-zinc-50)80%,transparent)!important}}stagewise-companion-anchor .bg-zinc-500{background-color:var(--color-zinc-500)!important}stagewise-companion-anchor .bg-zinc-500\\\\/10{background-color:#71717b1a!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-zinc-500\\\\/10{background-color:color-mix(in oklab,var(--color-zinc-500)10%,transparent)!important}}stagewise-companion-anchor .bg-zinc-600{background-color:var(--color-zinc-600)!important}stagewise-companion-anchor .bg-zinc-950\\\\/5{background-color:#09090b0d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .bg-zinc-950\\\\/5{background-color:color-mix(in oklab,var(--color-zinc-950)5%,transparent)!important}}stagewise-companion-anchor .bg-gradient-to-tr{--tw-gradient-position:to top right in oklab!important;background-image:linear-gradient(var(--tw-gradient-stops))!important}stagewise-companion-anchor .bg-\\\\[radial-gradient\\\\(circle\\\\,rgba\\\\(55\\\\,48\\\\,163\\\\,0\\\\)_55\\\\%\\\\,rgba\\\\(55\\\\,48\\\\,163\\\\,0\\\\.35\\\\)_73\\\\%\\\\)\\\\]{background-image:radial-gradient(circle,#3730a300 55%,#3730a359 73%)!important}stagewise-companion-anchor .bg-\\\\[radial-gradient\\\\(circle\\\\,rgba\\\\(219\\\\,39\\\\,119\\\\,0\\\\.2\\\\)_0\\\\%\\\\,rgba\\\\(219\\\\,39\\\\,119\\\\,0\\\\)_100\\\\%\\\\)\\\\]{background-image:radial-gradient(circle,#db277733 0%,#db277700 100%)!important}stagewise-companion-anchor .bg-\\\\[radial-gradient\\\\(circle\\\\,rgba\\\\(255\\\\,255\\\\,255\\\\,0\\\\)_60\\\\%\\\\,rgba\\\\(255\\\\,255\\\\,255\\\\,0\\\\.2\\\\)_70\\\\%\\\\)\\\\]{background-image:radial-gradient(circle,#fff0 60%,#fff3 70%)!important}stagewise-companion-anchor .from-indigo-700{--tw-gradient-from:var(--color-indigo-700)!important;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))!important}stagewise-companion-anchor .via-blue-500{--tw-gradient-via:var(--color-blue-500)!important;--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position)!important;--tw-gradient-stops:var(--tw-gradient-via-stops)!important}stagewise-companion-anchor .to-teal-500{--tw-gradient-to:var(--color-teal-500)!important;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))!important}stagewise-companion-anchor .fill-current{fill:currentColor!important}stagewise-companion-anchor .fill-white{fill:var(--color-white)!important}stagewise-companion-anchor .fill-zinc-500\\\\/50{fill:#71717b80!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .fill-zinc-500\\\\/50{fill:color-mix(in oklab,var(--color-zinc-500)50%,transparent)!important}}stagewise-companion-anchor .fill-zinc-950{fill:var(--color-zinc-950)!important}stagewise-companion-anchor .stroke-black\\\\/30{stroke:#0000004d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .stroke-black\\\\/30{stroke:color-mix(in oklab,var(--color-black)30%,transparent)!important}}stagewise-companion-anchor .stroke-none{stroke:none!important}stagewise-companion-anchor .stroke-1{stroke-width:1px!important}stagewise-companion-anchor .p-0{padding:calc(var(--spacing)*0)!important}stagewise-companion-anchor .p-0\\\\.5{padding:calc(var(--spacing)*.5)!important}stagewise-companion-anchor .p-1{padding:calc(var(--spacing)*1)!important}stagewise-companion-anchor .p-1\\\\.5{padding:calc(var(--spacing)*1.5)!important}stagewise-companion-anchor .p-2{padding:calc(var(--spacing)*2)!important}stagewise-companion-anchor .p-3{padding:calc(var(--spacing)*3)!important}stagewise-companion-anchor .px-0\\\\.5{padding-inline:calc(var(--spacing)*.5)!important}stagewise-companion-anchor .px-1{padding-inline:calc(var(--spacing)*1)!important}stagewise-companion-anchor .px-2{padding-inline:calc(var(--spacing)*2)!important}stagewise-companion-anchor .px-3{padding-inline:calc(var(--spacing)*3)!important}stagewise-companion-anchor .py-0{padding-block:calc(var(--spacing)*0)!important}stagewise-companion-anchor .py-1{padding-block:calc(var(--spacing)*1)!important}stagewise-companion-anchor .pt-2{padding-top:calc(var(--spacing)*2)!important}stagewise-companion-anchor .pr-6{padding-right:calc(var(--spacing)*6)!important}stagewise-companion-anchor .pb-0{padding-bottom:calc(var(--spacing)*0)!important}stagewise-companion-anchor .pb-2{padding-bottom:calc(var(--spacing)*2)!important}stagewise-companion-anchor .pl-2{padding-left:calc(var(--spacing)*2)!important}stagewise-companion-anchor .text-base{font-size:var(--text-base)!important;line-height:var(--tw-leading,var(--text-base--line-height))!important}stagewise-companion-anchor .text-sm{font-size:var(--text-sm)!important;line-height:var(--tw-leading,var(--text-sm--line-height))!important}stagewise-companion-anchor .text-xs{font-size:var(--text-xs)!important;line-height:var(--tw-leading,var(--text-xs--line-height))!important}stagewise-companion-anchor .font-bold{--tw-font-weight:var(--font-weight-bold)!important;font-weight:var(--font-weight-bold)!important}stagewise-companion-anchor .font-normal{--tw-font-weight:var(--font-weight-normal)!important;font-weight:var(--font-weight-normal)!important}stagewise-companion-anchor .font-semibold{--tw-font-weight:var(--font-weight-semibold)!important;font-weight:var(--font-weight-semibold)!important}stagewise-companion-anchor .text-border\\\\/60{color:#71717b99!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .text-border\\\\/60{color:color-mix(in oklab,var(--color-border)60%,transparent)!important}}stagewise-companion-anchor .text-foreground{color:var(--color-foreground)!important}stagewise-companion-anchor .text-muted-foreground{color:var(--color-muted-foreground)!important}stagewise-companion-anchor .text-muted-foreground\\\\/30{color:#3f3f464d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .text-muted-foreground\\\\/30{color:color-mix(in oklab,var(--color-muted-foreground)30%,transparent)!important}}stagewise-companion-anchor .text-transparent{color:#0000!important}stagewise-companion-anchor .text-white{color:var(--color-white)!important}stagewise-companion-anchor .text-zinc-50{color:var(--color-zinc-50)!important}stagewise-companion-anchor .text-zinc-950{color:var(--color-zinc-950)!important}stagewise-companion-anchor .text-zinc-950\\\\/50{color:#09090b80!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .text-zinc-950\\\\/50{color:color-mix(in oklab,var(--color-zinc-950)50%,transparent)!important}}stagewise-companion-anchor .opacity-20{opacity:.2!important}stagewise-companion-anchor .opacity-50{opacity:.5!important}stagewise-companion-anchor .opacity-80{opacity:.8!important}stagewise-companion-anchor .opacity-100{opacity:1!important}stagewise-companion-anchor .shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .shadow-inner{--tw-shadow:inset 0 2px 4px 0 var(--tw-shadow-color,#0000000d)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .shadow-black\\\\/50{--tw-shadow-color:#00000080!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .shadow-black\\\\/50{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-black)50%,transparent)var(--tw-shadow-alpha),transparent)!important}}stagewise-companion-anchor .shadow-blue-600\\\\/50{--tw-shadow-color:#155dfc80!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .shadow-blue-600\\\\/50{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-blue-600)50%,transparent)var(--tw-shadow-alpha),transparent)!important}}stagewise-companion-anchor .ring-blue-600{--tw-ring-color:var(--color-blue-600)!important}stagewise-companion-anchor .blur{--tw-blur:blur(8px)!important;filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .drop-shadow-md{--tw-drop-shadow-size:drop-shadow(0 3px 3px var(--tw-drop-shadow-color,#0000001f))!important;--tw-drop-shadow:drop-shadow(var(--drop-shadow-md))!important;filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .drop-shadow-xl{--tw-drop-shadow-size:drop-shadow(0 9px 7px var(--tw-drop-shadow-color,#0000001a))!important;--tw-drop-shadow:drop-shadow(var(--drop-shadow-xl))!important;filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .drop-shadow-xs{--tw-drop-shadow-size:drop-shadow(0 1px 1px var(--tw-drop-shadow-color,#0000000d))!important;--tw-drop-shadow:drop-shadow(var(--drop-shadow-xs))!important;filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .drop-shadow-black{--tw-drop-shadow-color:#000!important;--tw-drop-shadow:var(--tw-drop-shadow-size)!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .drop-shadow-black{--tw-drop-shadow-color:color-mix(in oklab,var(--color-black)var(--tw-drop-shadow-alpha),transparent)!important}}stagewise-companion-anchor .drop-shadow-indigo-950{--tw-drop-shadow-color:oklch(25.7% .09 281.288)!important;--tw-drop-shadow:var(--tw-drop-shadow-size)!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .drop-shadow-indigo-950{--tw-drop-shadow-color:color-mix(in oklab,var(--color-indigo-950)var(--tw-drop-shadow-alpha),transparent)!important}}stagewise-companion-anchor .filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}stagewise-companion-anchor .backdrop-blur-lg{--tw-backdrop-blur:blur(var(--blur-lg))!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}stagewise-companion-anchor .backdrop-blur-md{--tw-backdrop-blur:blur(var(--blur-md))!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}stagewise-companion-anchor .backdrop-blur-xs{--tw-backdrop-blur:blur(var(--blur-xs))!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}stagewise-companion-anchor .backdrop-saturate-150{--tw-backdrop-saturate:saturate(150%)!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}stagewise-companion-anchor .transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,visibility,content-visibility,overlay,pointer-events!important;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))!important;transition-duration:var(--tw-duration,var(--default-transition-duration))!important}stagewise-companion-anchor .transition-all{transition-property:all!important;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))!important;transition-duration:var(--tw-duration,var(--default-transition-duration))!important}stagewise-companion-anchor .transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to!important;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))!important;transition-duration:var(--tw-duration,var(--default-transition-duration))!important}stagewise-companion-anchor .duration-0{--tw-duration:0s!important;transition-duration:0s!important}stagewise-companion-anchor .duration-100{--tw-duration:.1s!important;transition-duration:.1s!important}stagewise-companion-anchor .duration-150{--tw-duration:.15s!important;transition-duration:.15s!important}stagewise-companion-anchor .duration-500{--tw-duration:.5s!important;transition-duration:.5s!important}stagewise-companion-anchor .outline-none{--tw-outline-style:none!important;outline-style:none!important}stagewise-companion-anchor .select-none{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/50::-moz-placeholder{color:#09090b80!important}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/50::placeholder{color:#09090b80!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/50::-moz-placeholder{color:color-mix(in oklab,var(--color-zinc-950)50%,transparent)!important}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/50::placeholder{color:color-mix(in oklab,var(--color-zinc-950)50%,transparent)!important}}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/70::-moz-placeholder{color:#09090bb3!important}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/70::placeholder{color:#09090bb3!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/70::-moz-placeholder{color:color-mix(in oklab,var(--color-zinc-950)70%,transparent)!important}stagewise-companion-anchor .placeholder\\\\:text-zinc-950\\\\/70::placeholder{color:color-mix(in oklab,var(--color-zinc-950)70%,transparent)!important}}stagewise-companion-anchor .first\\\\:border-none:first-child{--tw-border-style:none!important;border-style:none!important}stagewise-companion-anchor .first\\\\:pl-0:first-child{padding-left:calc(var(--spacing)*0)!important}stagewise-companion-anchor .last\\\\:border-r-transparent:last-child{border-right-color:#0000!important}stagewise-companion-anchor .last\\\\:pr-0:last-child{padding-right:calc(var(--spacing)*0)!important}@media (hover:hover){stagewise-companion-anchor .hover\\\\:border-red-600\\\\/80:hover{border-color:#e40014cc!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .hover\\\\:border-red-600\\\\/80:hover{border-color:color-mix(in oklab,var(--color-red-600)80%,transparent)!important}}stagewise-companion-anchor .hover\\\\:bg-red-600\\\\/20:hover{background-color:#e4001433!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .hover\\\\:bg-red-600\\\\/20:hover{background-color:color-mix(in oklab,var(--color-red-600)20%,transparent)!important}}stagewise-companion-anchor .hover\\\\:bg-zinc-950\\\\/5:hover{background-color:#09090b0d!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .hover\\\\:bg-zinc-950\\\\/5:hover{background-color:color-mix(in oklab,var(--color-zinc-950)5%,transparent)!important}}stagewise-companion-anchor .hover\\\\:bg-zinc-950\\\\/10:hover{background-color:#09090b1a!important}@supports (color:color-mix(in lab, red, red)){stagewise-companion-anchor .hover\\\\:bg-zinc-950\\\\/10:hover{background-color:color-mix(in oklab,var(--color-zinc-950)10%,transparent)!important}}stagewise-companion-anchor .hover\\\\:text-muted-foreground:hover{color:var(--color-muted-foreground)!important}stagewise-companion-anchor .hover\\\\:text-white:hover{color:var(--color-white)!important}stagewise-companion-anchor .hover\\\\:opacity-100:hover{opacity:1!important}stagewise-companion-anchor .hover\\\\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a)!important;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)!important}stagewise-companion-anchor .hover\\\\:backdrop-blur-sm:hover{--tw-backdrop-blur:blur(var(--blur-sm))!important;-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important;backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)!important}}stagewise-companion-anchor .focus\\\\:cursor-grabbing:focus{cursor:grabbing!important}stagewise-companion-anchor .focus\\\\:text-zinc-900:focus{color:var(--color-zinc-900)!important}stagewise-companion-anchor .focus\\\\:outline-none:focus,stagewise-companion-anchor .data-focus\\\\:outline-none[data-focus]{--tw-outline-style:none!important;outline-style:none!important}}stagewise-companion-anchor stagewise-companion-anchor{all:initial;interpolate-size:allow-keywords;transform:translate(0);color:var(--color-zinc-950)!important;letter-spacing:normal!important;text-rendering:auto!important;font-family:Inter,Noto Color Emoji,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,SF Compact,SF Pro,Helvetica Neue,sans-serif!important;font-weight:400!important;line-height:normal!important}@supports (font-variation-settings:normal){stagewise-companion-anchor stagewise-companion-anchor{font-optical-sizing:auto!important;font-family:InterVariable,Noto Color Emoji,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,SF Compact,SF Pro,Helvetica Neue,sans-serif!important}}stagewise-companion-anchor #headlessui-portal-root{z-index:50!important;width:100vw!important;height:100vh!important;position:fixed!important}stagewise-companion-anchor #headlessui-portal-root>*{pointer-events:auto!important}@property --tw-rotate-x{syntax:\"*\";inherits:false}@property --tw-rotate-y{syntax:\"*\";inherits:false}@property --tw-rotate-z{syntax:\"*\";inherits:false}@property --tw-skew-x{syntax:\"*\";inherits:false}@property --tw-skew-y{syntax:\"*\";inherits:false}@property --tw-border-style{syntax:\"*\";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:\"*\";inherits:false}@property --tw-gradient-from{syntax:\"<color>\";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:\"<color>\";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:\"<color>\";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:\"*\";inherits:false}@property --tw-gradient-via-stops{syntax:\"*\";inherits:false}@property --tw-gradient-from-position{syntax:\"<length-percentage>\";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:\"<length-percentage>\";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:\"<length-percentage>\";inherits:false;initial-value:100%}@property --tw-font-weight{syntax:\"*\";inherits:false}@property --tw-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:\"*\";inherits:false}@property --tw-shadow-alpha{syntax:\"<percentage>\";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:\"*\";inherits:false}@property --tw-inset-shadow-alpha{syntax:\"<percentage>\";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:\"*\";inherits:false}@property --tw-ring-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:\"*\";inherits:false}@property --tw-inset-ring-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:\"*\";inherits:false}@property --tw-ring-offset-width{syntax:\"<length>\";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:\"*\";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:\"*\";inherits:false}@property --tw-brightness{syntax:\"*\";inherits:false}@property --tw-contrast{syntax:\"*\";inherits:false}@property --tw-grayscale{syntax:\"*\";inherits:false}@property --tw-hue-rotate{syntax:\"*\";inherits:false}@property --tw-invert{syntax:\"*\";inherits:false}@property --tw-opacity{syntax:\"*\";inherits:false}@property --tw-saturate{syntax:\"*\";inherits:false}@property --tw-sepia{syntax:\"*\";inherits:false}@property --tw-drop-shadow{syntax:\"*\";inherits:false}@property --tw-drop-shadow-color{syntax:\"*\";inherits:false}@property --tw-drop-shadow-alpha{syntax:\"<percentage>\";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:\"*\";inherits:false}@property --tw-backdrop-blur{syntax:\"*\";inherits:false}@property --tw-backdrop-brightness{syntax:\"*\";inherits:false}@property --tw-backdrop-contrast{syntax:\"*\";inherits:false}@property --tw-backdrop-grayscale{syntax:\"*\";inherits:false}@property --tw-backdrop-hue-rotate{syntax:\"*\";inherits:false}@property --tw-backdrop-invert{syntax:\"*\";inherits:false}@property --tw-backdrop-opacity{syntax:\"*\";inherits:false}@property --tw-backdrop-saturate{syntax:\"*\";inherits:false}@property --tw-backdrop-sepia{syntax:\"*\";inherits:false}@property --tw-duration{syntax:\"*\";inherits:false}@keyframes pulse{50%{opacity:.5}}\\n';\n  var f$8 = 0;\n  function u$9(e2, t2, n2, o2, i2, u2) {\n    t2 || (t2 = {});\n    var a2, c2, p2 = t2;\n    if (\"ref\" in p2) for (c2 in p2 = {}, t2) \"ref\" == c2 ? a2 = t2[c2] : p2[c2] = t2[c2];\n    var l2 = { type: e2, props: p2, key: n2, ref: a2, __k: null, __: null, __b: 0, __e: null, __c: null, constructor: void 0, __v: --f$8, __i: -1, __u: 0, __source: i2, __self: u2 };\n    if (\"function\" == typeof e2 && (a2 = e2.defaultProps)) for (c2 in a2) void 0 === p2[c2] && (p2[c2] = a2[c2]);\n    return l$4.vnode && l$4.vnode(l2), l2;\n  }\n  var t$5, r$4, u$8, i$7, o$8 = 0, f$7 = [], c$6 = l$4, e$4 = c$6.__b, a$a = c$6.__r, v$2 = c$6.diffed, l$3 = c$6.__c, m$5 = c$6.unmount, s$8 = c$6.__;\n  function p$3(n2, t2) {\n    c$6.__h && c$6.__h(r$4, n2, o$8 || t2), o$8 = 0;\n    var u2 = r$4.__H || (r$4.__H = { __: [], __h: [] });\n    return n2 >= u2.__.length && u2.__.push({}), u2.__[n2];\n  }\n  function d$4(n2) {\n    return o$8 = 1, h$5(D$2, n2);\n  }\n  function h$5(n2, u2, i2) {\n    var o2 = p$3(t$5++, 2);\n    if (o2.t = n2, !o2.__c && (o2.__ = [i2 ? i2(u2) : D$2(void 0, u2), function(n3) {\n      var t2 = o2.__N ? o2.__N[0] : o2.__[0], r2 = o2.t(t2, n3);\n      t2 !== r2 && (o2.__N = [r2, o2.__[1]], o2.__c.setState({}));\n    }], o2.__c = r$4, !r$4.__f)) {\n      var f2 = function(n3, t2, r2) {\n        if (!o2.__c.__H) return true;\n        var u3 = o2.__c.__H.__.filter(function(n4) {\n          return !!n4.__c;\n        });\n        if (u3.every(function(n4) {\n          return !n4.__N;\n        })) return !c2 || c2.call(this, n3, t2, r2);\n        var i3 = o2.__c.props !== n3;\n        return u3.forEach(function(n4) {\n          if (n4.__N) {\n            var t3 = n4.__[0];\n            n4.__ = n4.__N, n4.__N = void 0, t3 !== n4.__[0] && (i3 = true);\n          }\n        }), c2 && c2.call(this, n3, t2, r2) || i3;\n      };\n      r$4.__f = true;\n      var c2 = r$4.shouldComponentUpdate, e2 = r$4.componentWillUpdate;\n      r$4.componentWillUpdate = function(n3, t2, r2) {\n        if (this.__e) {\n          var u3 = c2;\n          c2 = void 0, f2(n3, t2, r2), c2 = u3;\n        }\n        e2 && e2.call(this, n3, t2, r2);\n      }, r$4.shouldComponentUpdate = f2;\n    }\n    return o2.__N || o2.__;\n  }\n  function y$6(n2, u2) {\n    var i2 = p$3(t$5++, 3);\n    !c$6.__s && C$4(i2.__H, u2) && (i2.__ = n2, i2.u = u2, r$4.__H.__h.push(i2));\n  }\n  function _$3(n2, u2) {\n    var i2 = p$3(t$5++, 4);\n    !c$6.__s && C$4(i2.__H, u2) && (i2.__ = n2, i2.u = u2, r$4.__h.push(i2));\n  }\n  function A$3(n2) {\n    return o$8 = 5, T$5(function() {\n      return { current: n2 };\n    }, []);\n  }\n  function F$5(n2, t2, r2) {\n    o$8 = 6, _$3(function() {\n      if (\"function\" == typeof n2) {\n        var r3 = n2(t2());\n        return function() {\n          n2(null), r3 && \"function\" == typeof r3 && r3();\n        };\n      }\n      if (n2) return n2.current = t2(), function() {\n        return n2.current = null;\n      };\n    }, null == r2 ? r2 : r2.concat(n2));\n  }\n  function T$5(n2, r2) {\n    var u2 = p$3(t$5++, 7);\n    return C$4(u2.__H, r2) && (u2.__ = n2(), u2.__H = r2, u2.__h = n2), u2.__;\n  }\n  function q$3(n2, t2) {\n    return o$8 = 8, T$5(function() {\n      return n2;\n    }, t2);\n  }\n  function x$4(n2) {\n    var u2 = r$4.context[n2.__c], i2 = p$3(t$5++, 9);\n    return i2.c = n2, u2 ? (null == i2.__ && (i2.__ = true, u2.sub(r$4)), u2.props.value) : n2.__;\n  }\n  function P$5(n2, t2) {\n    c$6.useDebugValue && c$6.useDebugValue(t2 ? t2(n2) : n2);\n  }\n  function b$4(n2) {\n    var u2 = p$3(t$5++, 10), i2 = d$4();\n    return u2.__ = n2, r$4.componentDidCatch || (r$4.componentDidCatch = function(n3, t2) {\n      u2.__ && u2.__(n3, t2), i2[1](n3);\n    }), [i2[0], function() {\n      i2[1](void 0);\n    }];\n  }\n  function g$3() {\n    var n2 = p$3(t$5++, 11);\n    if (!n2.__) {\n      for (var u2 = r$4.__v; null !== u2 && !u2.__m && null !== u2.__; ) u2 = u2.__;\n      var i2 = u2.__m || (u2.__m = [0, 0]);\n      n2.__ = \"P\" + i2[0] + \"-\" + i2[1]++;\n    }\n    return n2.__;\n  }\n  function j$4() {\n    for (var n2; n2 = f$7.shift(); ) if (n2.__P && n2.__H) try {\n      n2.__H.__h.forEach(z$2), n2.__H.__h.forEach(B$2), n2.__H.__h = [];\n    } catch (t2) {\n      n2.__H.__h = [], c$6.__e(t2, n2.__v);\n    }\n  }\n  c$6.__b = function(n2) {\n    r$4 = null, e$4 && e$4(n2);\n  }, c$6.__ = function(n2, t2) {\n    n2 && t2.__k && t2.__k.__m && (n2.__m = t2.__k.__m), s$8 && s$8(n2, t2);\n  }, c$6.__r = function(n2) {\n    a$a && a$a(n2), t$5 = 0;\n    var i2 = (r$4 = n2.__c).__H;\n    i2 && (u$8 === r$4 ? (i2.__h = [], r$4.__h = [], i2.__.forEach(function(n3) {\n      n3.__N && (n3.__ = n3.__N), n3.u = n3.__N = void 0;\n    })) : (i2.__h.forEach(z$2), i2.__h.forEach(B$2), i2.__h = [], t$5 = 0)), u$8 = r$4;\n  }, c$6.diffed = function(n2) {\n    v$2 && v$2(n2);\n    var t2 = n2.__c;\n    t2 && t2.__H && (t2.__H.__h.length && (1 !== f$7.push(t2) && i$7 === c$6.requestAnimationFrame || ((i$7 = c$6.requestAnimationFrame) || w$4)(j$4)), t2.__H.__.forEach(function(n3) {\n      n3.u && (n3.__H = n3.u), n3.u = void 0;\n    })), u$8 = r$4 = null;\n  }, c$6.__c = function(n2, t2) {\n    t2.some(function(n3) {\n      try {\n        n3.__h.forEach(z$2), n3.__h = n3.__h.filter(function(n4) {\n          return !n4.__ || B$2(n4);\n        });\n      } catch (r2) {\n        t2.some(function(n4) {\n          n4.__h && (n4.__h = []);\n        }), t2 = [], c$6.__e(r2, n3.__v);\n      }\n    }), l$3 && l$3(n2, t2);\n  }, c$6.unmount = function(n2) {\n    m$5 && m$5(n2);\n    var t2, r2 = n2.__c;\n    r2 && r2.__H && (r2.__H.__.forEach(function(n3) {\n      try {\n        z$2(n3);\n      } catch (n4) {\n        t2 = n4;\n      }\n    }), r2.__H = void 0, t2 && c$6.__e(t2, r2.__v));\n  };\n  var k$2 = \"function\" == typeof requestAnimationFrame;\n  function w$4(n2) {\n    var t2, r2 = function() {\n      clearTimeout(u2), k$2 && cancelAnimationFrame(t2), setTimeout(n2);\n    }, u2 = setTimeout(r2, 100);\n    k$2 && (t2 = requestAnimationFrame(r2));\n  }\n  function z$2(n2) {\n    var t2 = r$4, u2 = n2.__c;\n    \"function\" == typeof u2 && (n2.__c = void 0, u2()), r$4 = t2;\n  }\n  function B$2(n2) {\n    var t2 = r$4;\n    n2.__c = n2.__(), r$4 = t2;\n  }\n  function C$4(n2, t2) {\n    return !n2 || n2.length !== t2.length || t2.some(function(t3, r2) {\n      return t3 !== n2[r2];\n    });\n  }\n  function D$2(n2, t2) {\n    return \"function\" == typeof t2 ? t2(n2) : t2;\n  }\n  const PluginContext = K$3([]);\n  function PluginProvider({\n    children,\n    plugins\n  }) {\n    return /* @__PURE__ */ u$9(PluginContext.Provider, { value: plugins, children });\n  }\n  function usePlugins() {\n    const plugin = x$4(PluginContext);\n    if (!plugin) return [];\n    return plugin;\n  }\n  function g$2(n2, t2) {\n    for (var e2 in t2) n2[e2] = t2[e2];\n    return n2;\n  }\n  function E$2(n2, t2) {\n    for (var e2 in n2) if (\"__source\" !== e2 && !(e2 in t2)) return true;\n    for (var r2 in t2) if (\"__source\" !== r2 && n2[r2] !== t2[r2]) return true;\n    return false;\n  }\n  function C$3(n2, t2) {\n    var e2 = t2(), r2 = d$4({ t: { __: e2, u: t2 } }), u2 = r2[0].t, o2 = r2[1];\n    return _$3(function() {\n      u2.__ = e2, u2.u = t2, x$3(u2) && o2({ t: u2 });\n    }, [n2, e2, t2]), y$6(function() {\n      return x$3(u2) && o2({ t: u2 }), n2(function() {\n        x$3(u2) && o2({ t: u2 });\n      });\n    }, [n2]), e2;\n  }\n  function x$3(n2) {\n    var t2, e2, r2 = n2.u, u2 = n2.__;\n    try {\n      var o2 = r2();\n      return !((t2 = u2) === (e2 = o2) && (0 !== t2 || 1 / t2 == 1 / e2) || t2 != t2 && e2 != e2);\n    } catch (n3) {\n      return true;\n    }\n  }\n  function R$3(n2) {\n    n2();\n  }\n  function w$3(n2) {\n    return n2;\n  }\n  function k$1() {\n    return [false, R$3];\n  }\n  var I$3 = _$3;\n  function N$1(n2, t2) {\n    this.props = n2, this.context = t2;\n  }\n  function M$3(n2, e2) {\n    function r2(n3) {\n      var t2 = this.props.ref, r3 = t2 == n3.ref;\n      return !r3 && t2 && (t2.call ? t2(null) : t2.current = null), e2 ? !e2(this.props, n3) || !r3 : E$2(this.props, n3);\n    }\n    function u2(e3) {\n      return this.shouldComponentUpdate = r2, _$4(n2, e3);\n    }\n    return u2.displayName = \"Memo(\" + (n2.displayName || n2.name) + \")\", u2.prototype.isReactComponent = true, u2.__f = true, u2;\n  }\n  (N$1.prototype = new x$5()).isPureReactComponent = true, N$1.prototype.shouldComponentUpdate = function(n2, t2) {\n    return E$2(this.props, n2) || E$2(this.state, t2);\n  };\n  var T$4 = l$4.__b;\n  l$4.__b = function(n2) {\n    n2.type && n2.type.__f && n2.ref && (n2.props.ref = n2.ref, n2.ref = null), T$4 && T$4(n2);\n  };\n  var A$2 = \"undefined\" != typeof Symbol && Symbol.for && Symbol.for(\"react.forward_ref\") || 3911;\n  function D$1(n2) {\n    function t2(t3) {\n      var e2 = g$2({}, t3);\n      return delete e2.ref, n2(e2, t3.ref || null);\n    }\n    return t2.$$typeof = A$2, t2.render = t2, t2.prototype.isReactComponent = t2.__f = true, t2.displayName = \"ForwardRef(\" + (n2.displayName || n2.name) + \")\", t2;\n  }\n  var L$3 = function(n2, t2) {\n    return null == n2 ? null : H$6(H$6(n2).map(t2));\n  }, O$2 = { map: L$3, forEach: L$3, count: function(n2) {\n    return n2 ? H$6(n2).length : 0;\n  }, only: function(n2) {\n    var t2 = H$6(n2);\n    if (1 !== t2.length) throw \"Children.only\";\n    return t2[0];\n  }, toArray: H$6 }, F$4 = l$4.__e;\n  l$4.__e = function(n2, t2, e2, r2) {\n    if (n2.then) {\n      for (var u2, o2 = t2; o2 = o2.__; ) if ((u2 = o2.__c) && u2.__c) return null == t2.__e && (t2.__e = e2.__e, t2.__k = e2.__k), u2.__c(n2, t2);\n    }\n    F$4(n2, t2, e2, r2);\n  };\n  var U$3 = l$4.unmount;\n  function V$1(n2, t2, e2) {\n    return n2 && (n2.__c && n2.__c.__H && (n2.__c.__H.__.forEach(function(n3) {\n      \"function\" == typeof n3.__c && n3.__c();\n    }), n2.__c.__H = null), null != (n2 = g$2({}, n2)).__c && (n2.__c.__P === e2 && (n2.__c.__P = t2), n2.__c.__e = true, n2.__c = null), n2.__k = n2.__k && n2.__k.map(function(n3) {\n      return V$1(n3, t2, e2);\n    })), n2;\n  }\n  function W(n2, t2, e2) {\n    return n2 && e2 && (n2.__v = null, n2.__k = n2.__k && n2.__k.map(function(n3) {\n      return W(n3, t2, e2);\n    }), n2.__c && n2.__c.__P === t2 && (n2.__e && e2.appendChild(n2.__e), n2.__c.__e = true, n2.__c.__P = e2)), n2;\n  }\n  function P$4() {\n    this.__u = 0, this.o = null, this.__b = null;\n  }\n  function j$3(n2) {\n    var t2 = n2.__.__c;\n    return t2 && t2.__a && t2.__a(n2);\n  }\n  function z$1(n2) {\n    var e2, r2, u2;\n    function o2(o3) {\n      if (e2 || (e2 = n2()).then(function(n3) {\n        r2 = n3.default || n3;\n      }, function(n3) {\n        u2 = n3;\n      }), u2) throw u2;\n      if (!r2) throw e2;\n      return _$4(r2, o3);\n    }\n    return o2.displayName = \"Lazy\", o2.__f = true, o2;\n  }\n  function B$1() {\n    this.i = null, this.l = null;\n  }\n  l$4.unmount = function(n2) {\n    var t2 = n2.__c;\n    t2 && t2.__R && t2.__R(), t2 && 32 & n2.__u && (n2.type = null), U$3 && U$3(n2);\n  }, (P$4.prototype = new x$5()).__c = function(n2, t2) {\n    var e2 = t2.__c, r2 = this;\n    null == r2.o && (r2.o = []), r2.o.push(e2);\n    var u2 = j$3(r2.__v), o2 = false, i2 = function() {\n      o2 || (o2 = true, e2.__R = null, u2 ? u2(l2) : l2());\n    };\n    e2.__R = i2;\n    var l2 = function() {\n      if (!--r2.__u) {\n        if (r2.state.__a) {\n          var n3 = r2.state.__a;\n          r2.__v.__k[0] = W(n3, n3.__c.__P, n3.__c.__O);\n        }\n        var t3;\n        for (r2.setState({ __a: r2.__b = null }); t3 = r2.o.pop(); ) t3.forceUpdate();\n      }\n    };\n    r2.__u++ || 32 & t2.__u || r2.setState({ __a: r2.__b = r2.__v.__k[0] }), n2.then(i2, i2);\n  }, P$4.prototype.componentWillUnmount = function() {\n    this.o = [];\n  }, P$4.prototype.render = function(n2, e2) {\n    if (this.__b) {\n      if (this.__v.__k) {\n        var r2 = document.createElement(\"div\"), o2 = this.__v.__k[0].__c;\n        this.__v.__k[0] = V$1(this.__b, r2, o2.__O = o2.__P);\n      }\n      this.__b = null;\n    }\n    var i2 = e2.__a && _$4(k$3, null, n2.fallback);\n    return i2 && (i2.__u &= -33), [_$4(k$3, null, e2.__a ? null : n2.children), i2];\n  };\n  var H$5 = function(n2, t2, e2) {\n    if (++e2[1] === e2[0] && n2.l.delete(t2), n2.props.revealOrder && (\"t\" !== n2.props.revealOrder[0] || !n2.l.size)) for (e2 = n2.i; e2; ) {\n      for (; e2.length > 3; ) e2.pop()();\n      if (e2[1] < e2[0]) break;\n      n2.i = e2 = e2[2];\n    }\n  };\n  function Z(n2) {\n    return this.getChildContext = function() {\n      return n2.context;\n    }, n2.children;\n  }\n  function Y(n2) {\n    var e2 = this, r2 = n2.h;\n    if (e2.componentWillUnmount = function() {\n      E$3(null, e2.v), e2.v = null, e2.h = null;\n    }, e2.h && e2.h !== r2 && e2.componentWillUnmount(), !e2.v) {\n      for (var u2 = e2.__v; null !== u2 && !u2.__m && null !== u2.__; ) u2 = u2.__;\n      e2.h = r2, e2.v = { nodeType: 1, parentNode: r2, childNodes: [], __k: { __m: u2.__m }, contains: function() {\n        return true;\n      }, appendChild: function(n3) {\n        this.childNodes.push(n3), e2.h.appendChild(n3);\n      }, insertBefore: function(n3, t2) {\n        this.childNodes.push(n3), e2.h.insertBefore(n3, t2);\n      }, removeChild: function(n3) {\n        this.childNodes.splice(this.childNodes.indexOf(n3) >>> 1, 1), e2.h.removeChild(n3);\n      } };\n    }\n    E$3(_$4(Z, { context: e2.context }, n2.__v), e2.v);\n  }\n  function $$1(n2, e2) {\n    var r2 = _$4(Y, { __v: n2, h: e2 });\n    return r2.containerInfo = e2, r2;\n  }\n  (B$1.prototype = new x$5()).__a = function(n2) {\n    var t2 = this, e2 = j$3(t2.__v), r2 = t2.l.get(n2);\n    return r2[0]++, function(u2) {\n      var o2 = function() {\n        t2.props.revealOrder ? (r2.push(u2), H$5(t2, n2, r2)) : u2();\n      };\n      e2 ? e2(o2) : o2();\n    };\n  }, B$1.prototype.render = function(n2) {\n    this.i = null, this.l = /* @__PURE__ */ new Map();\n    var t2 = H$6(n2.children);\n    n2.revealOrder && \"b\" === n2.revealOrder[0] && t2.reverse();\n    for (var e2 = t2.length; e2--; ) this.l.set(t2[e2], this.i = [1, 0, this.i]);\n    return n2.children;\n  }, B$1.prototype.componentDidUpdate = B$1.prototype.componentDidMount = function() {\n    var n2 = this;\n    this.l.forEach(function(t2, e2) {\n      H$5(n2, e2, t2);\n    });\n  };\n  var q$2 = \"undefined\" != typeof Symbol && Symbol.for && Symbol.for(\"react.element\") || 60103, G$2 = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/, J$3 = /^on(Ani|Tra|Tou|BeforeInp|Compo)/, K$2 = /[A-Z0-9]/g, Q = \"undefined\" != typeof document, X$1 = function(n2) {\n    return (\"undefined\" != typeof Symbol && \"symbol\" == typeof Symbol() ? /fil|che|rad/ : /fil|che|ra/).test(n2);\n  };\n  function nn(n2, t2, e2) {\n    return null == t2.__k && (t2.textContent = \"\"), E$3(n2, t2), \"function\" == typeof e2 && e2(), n2 ? n2.__c : null;\n  }\n  function tn(n2, t2, e2) {\n    return G$3(n2, t2), \"function\" == typeof e2 && e2(), n2 ? n2.__c : null;\n  }\n  x$5.prototype.isReactComponent = {}, [\"componentWillMount\", \"componentWillReceiveProps\", \"componentWillUpdate\"].forEach(function(t2) {\n    Object.defineProperty(x$5.prototype, t2, { configurable: true, get: function() {\n      return this[\"UNSAFE_\" + t2];\n    }, set: function(n2) {\n      Object.defineProperty(this, t2, { configurable: true, writable: true, value: n2 });\n    } });\n  });\n  var en = l$4.event;\n  function rn() {\n  }\n  function un() {\n    return this.cancelBubble;\n  }\n  function on() {\n    return this.defaultPrevented;\n  }\n  l$4.event = function(n2) {\n    return en && (n2 = en(n2)), n2.persist = rn, n2.isPropagationStopped = un, n2.isDefaultPrevented = on, n2.nativeEvent = n2;\n  };\n  var ln, cn$1 = { enumerable: false, configurable: true, get: function() {\n    return this.class;\n  } }, fn = l$4.vnode;\n  l$4.vnode = function(n2) {\n    \"string\" == typeof n2.type && function(n3) {\n      var t2 = n3.props, e2 = n3.type, u2 = {}, o2 = -1 === e2.indexOf(\"-\");\n      for (var i2 in t2) {\n        var l2 = t2[i2];\n        if (!(\"value\" === i2 && \"defaultValue\" in t2 && null == l2 || Q && \"children\" === i2 && \"noscript\" === e2 || \"class\" === i2 || \"className\" === i2)) {\n          var c2 = i2.toLowerCase();\n          \"defaultValue\" === i2 && \"value\" in t2 && null == t2.value ? i2 = \"value\" : \"download\" === i2 && true === l2 ? l2 = \"\" : \"translate\" === c2 && \"no\" === l2 ? l2 = false : \"o\" === c2[0] && \"n\" === c2[1] ? \"ondoubleclick\" === c2 ? i2 = \"ondblclick\" : \"onchange\" !== c2 || \"input\" !== e2 && \"textarea\" !== e2 || X$1(t2.type) ? \"onfocus\" === c2 ? i2 = \"onfocusin\" : \"onblur\" === c2 ? i2 = \"onfocusout\" : J$3.test(i2) && (i2 = c2) : c2 = i2 = \"oninput\" : o2 && G$2.test(i2) ? i2 = i2.replace(K$2, \"-$&\").toLowerCase() : null === l2 && (l2 = void 0), \"oninput\" === c2 && u2[i2 = c2] && (i2 = \"oninputCapture\"), u2[i2] = l2;\n        }\n      }\n      \"select\" == e2 && u2.multiple && Array.isArray(u2.value) && (u2.value = H$6(t2.children).forEach(function(n4) {\n        n4.props.selected = -1 != u2.value.indexOf(n4.props.value);\n      })), \"select\" == e2 && null != u2.defaultValue && (u2.value = H$6(t2.children).forEach(function(n4) {\n        n4.props.selected = u2.multiple ? -1 != u2.defaultValue.indexOf(n4.props.value) : u2.defaultValue == n4.props.value;\n      })), t2.class && !t2.className ? (u2.class = t2.class, Object.defineProperty(u2, \"className\", cn$1)) : (t2.className && !t2.class || t2.class && t2.className) && (u2.class = u2.className = t2.className), n3.props = u2;\n    }(n2), n2.$$typeof = q$2, fn && fn(n2);\n  };\n  var an = l$4.__r;\n  l$4.__r = function(n2) {\n    an && an(n2), ln = n2.__c;\n  };\n  var sn = l$4.diffed;\n  l$4.diffed = function(n2) {\n    sn && sn(n2);\n    var t2 = n2.props, e2 = n2.__e;\n    null != e2 && \"textarea\" === n2.type && \"value\" in t2 && t2.value !== e2.value && (e2.value = null == t2.value ? \"\" : t2.value), ln = null;\n  };\n  var hn = { ReactCurrentDispatcher: { current: { readContext: function(n2) {\n    return ln.__n[n2.__c].props.value;\n  }, useCallback: q$3, useContext: x$4, useDebugValue: P$5, useDeferredValue: w$3, useEffect: y$6, useId: g$3, useImperativeHandle: F$5, useInsertionEffect: I$3, useLayoutEffect: _$3, useMemo: T$5, useReducer: h$5, useRef: A$3, useState: d$4, useSyncExternalStore: C$3, useTransition: k$1 } } }, vn = \"18.3.1\";\n  function dn(n2) {\n    return _$4.bind(null, n2);\n  }\n  function mn(n2) {\n    return !!n2 && n2.$$typeof === q$2;\n  }\n  function pn(n2) {\n    return mn(n2) && n2.type === k$3;\n  }\n  function yn(n2) {\n    return !!n2 && !!n2.displayName && (\"string\" == typeof n2.displayName || n2.displayName instanceof String) && n2.displayName.startsWith(\"Memo(\");\n  }\n  function _n(n2) {\n    return mn(n2) ? J$4.apply(null, arguments) : n2;\n  }\n  function bn(n2) {\n    return !!n2.__k && (E$3(null, n2), true);\n  }\n  function Sn(n2) {\n    return n2 && (n2.base || 1 === n2.nodeType && n2) || null;\n  }\n  var gn = function(n2, t2) {\n    return n2(t2);\n  }, En = function(n2, t2) {\n    return n2(t2);\n  }, Cn = k$3, xn = mn, Rn = { useState: d$4, useId: g$3, useReducer: h$5, useEffect: y$6, useLayoutEffect: _$3, useInsertionEffect: I$3, useTransition: k$1, useDeferredValue: w$3, useSyncExternalStore: C$3, startTransition: R$3, useRef: A$3, useImperativeHandle: F$5, useMemo: T$5, useCallback: q$3, useContext: x$4, useDebugValue: P$5, version: \"18.3.1\", Children: O$2, render: nn, hydrate: tn, unmountComponentAtNode: bn, createPortal: $$1, createElement: _$4, createContext: K$3, createFactory: dn, cloneElement: _n, createRef: b$5, Fragment: k$3, isValidElement: mn, isElement: xn, isFragment: pn, isMemo: yn, findDOMNode: Sn, Component: x$5, PureComponent: N$1, memo: M$3, forwardRef: D$1, flushSync: En, unstable_batchedUpdates: gn, StrictMode: Cn, Suspense: P$4, SuspenseList: B$1, lazy: z$1, __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: hn };\n  const t$4 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n    __proto__: null,\n    Children: O$2,\n    Component: x$5,\n    Fragment: k$3,\n    PureComponent: N$1,\n    StrictMode: Cn,\n    Suspense: P$4,\n    SuspenseList: B$1,\n    __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: hn,\n    cloneElement: _n,\n    createContext: K$3,\n    createElement: _$4,\n    createFactory: dn,\n    createPortal: $$1,\n    createRef: b$5,\n    default: Rn,\n    findDOMNode: Sn,\n    flushSync: En,\n    forwardRef: D$1,\n    hydrate: tn,\n    isElement: xn,\n    isFragment: pn,\n    isMemo: yn,\n    isValidElement: mn,\n    lazy: z$1,\n    memo: M$3,\n    render: nn,\n    startTransition: R$3,\n    unmountComponentAtNode: bn,\n    unstable_batchedUpdates: gn,\n    useCallback: q$3,\n    useContext: x$4,\n    useDebugValue: P$5,\n    useDeferredValue: w$3,\n    useEffect: y$6,\n    useErrorBoundary: b$4,\n    useId: g$3,\n    useImperativeHandle: F$5,\n    useInsertionEffect: I$3,\n    useLayoutEffect: _$3,\n    useMemo: T$5,\n    useReducer: h$5,\n    useRef: A$3,\n    useState: d$4,\n    useSyncExternalStore: C$3,\n    useTransition: k$1,\n    version: vn\n  }, Symbol.toStringTag, { value: \"Module\" }));\n  var __require = /* @__PURE__ */ ((x2) =>  true ? __webpack_require__(\"(ssr)/./node_modules/@stagewise/toolbar/dist sync recursive\") : 0)(function(x2) {\n    if (true) return __webpack_require__(\"(ssr)/./node_modules/@stagewise/toolbar/dist sync recursive\").apply(this, arguments);\n    throw Error('Dynamic require of \"' + x2 + '\" is not supported');\n  });\n  var DEFAULT_OPTIONS = {\n    maxReconnectAttempts: 5,\n    reconnectDelay: 1e3,\n    requestTimeout: 3e4\n    // Extended timeout for longer operations\n  };\n  var WebSocketRpcBridge = class {\n    constructor(options = {}) {\n      this.ws = null;\n      this.pendingRequests = /* @__PURE__ */ new Map();\n      this.reconnectAttempts = 0;\n      this.methods = {};\n      this.isIntentionalClose = false;\n      this.options = { ...DEFAULT_OPTIONS, ...options };\n    }\n    /**\n     * Register RPC method handlers\n     * @param methodHandlers Object containing method handlers\n     */\n    register(methodHandlers) {\n      Object.entries(methodHandlers).forEach(([methodName, handler]) => {\n        this.methods[methodName] = { handler };\n      });\n    }\n    /**\n     * Generic method to call a remote procedure with support for streaming updates\n     * @param method Method name to call\n     * @param payload Request payload\n     * @param onUpdate Optional callback for progress updates\n     * @returns Promise resolving with the response\n     */\n    callMethod(method, payload, onUpdate) {\n      if (!this.ws) {\n        throw new Error(\"WebSocket is not connected\");\n      }\n      const id = crypto.randomUUID();\n      const requestMessage = {\n        id,\n        messageType: \"request\",\n        method,\n        payload\n      };\n      return new Promise((resolve, reject) => {\n        var _a;\n        const timeout = setTimeout(() => {\n          this.pendingRequests.delete(id);\n          reject(new Error(`Request timed out: ${method}`));\n        }, this.options.requestTimeout);\n        this.pendingRequests.set(id, { resolve, reject, timeout, onUpdate });\n        (_a = this.ws) == null ? void 0 : _a.send(JSON.stringify(requestMessage));\n      });\n    }\n    /**\n     * Sets up WebSocket event handlers\n     * @param ws WebSocket instance\n     */\n    setupWebSocketHandlers(ws) {\n      ws.onmessage = (event) => {\n        try {\n          const message = JSON.parse(event.data);\n          this.handleMessage(message);\n        } catch (error2) {\n          console.error(\"Error handling WebSocket message:\", error2);\n        }\n      };\n      ws.onclose = () => {\n        console.log(\"WebSocket disconnected\");\n        this.handleDisconnect();\n      };\n      ws.onerror = (event) => {\n        console.error(\"WebSocket error:\", event);\n      };\n    }\n    /**\n     * Handles incoming WebSocket messages\n     * @param message The message to handle\n     */\n    handleMessage(message) {\n      const { messageType, id } = message;\n      switch (messageType) {\n        case \"request\":\n          this.handleRequest(message);\n          break;\n        case \"response\":\n          this.handleResponse(id, message.payload);\n          break;\n        case \"update\":\n          this.handleUpdate(id, message.payload);\n          break;\n        case \"error\":\n          this.handleError(id, message.error.message);\n          break;\n        default:\n          console.warn(`Unknown message type: ${messageType}`);\n      }\n    }\n    /**\n     * Handle incoming requests by invoking the registered method\n     * @param message Request message\n     */\n    async handleRequest(message) {\n      const { id, method, payload } = message;\n      if (!method) {\n        this.sendError(id, \"Method name is required\");\n        return;\n      }\n      const methodDef = this.methods[method];\n      if (!methodDef) {\n        this.sendError(id, `Method not found: ${method}`);\n        return;\n      }\n      try {\n        const sendUpdate = (update) => {\n          this.sendUpdate(id, method, update);\n        };\n        const result = await methodDef.handler(payload, sendUpdate);\n        this.sendResponse(id, method, result);\n      } catch (error2) {\n        this.sendError(\n          id,\n          error2 instanceof Error ? error2.message : String(error2)\n        );\n      }\n    }\n    /**\n     * Handle response messages by resolving the pending request\n     * @param id Request ID\n     * @param payload Response payload\n     */\n    handleResponse(id, payload) {\n      const pendingRequest = this.pendingRequests.get(id);\n      if (!pendingRequest) {\n        console.warn(`Received response for unknown request ID: ${id}`);\n        return;\n      }\n      clearTimeout(pendingRequest.timeout);\n      this.pendingRequests.delete(id);\n      pendingRequest.resolve(payload);\n    }\n    /**\n     * Handle update messages by calling the update callback\n     * @param id Request ID\n     * @param payload Update payload\n     */\n    handleUpdate(id, payload) {\n      const pendingRequest = this.pendingRequests.get(id);\n      if (!pendingRequest || !pendingRequest.onUpdate) {\n        console.warn(`Received update for unknown request ID: ${id}`);\n        return;\n      }\n      pendingRequest.onUpdate(payload);\n    }\n    /**\n     * Handle error messages by rejecting the pending request\n     * @param id Request ID\n     * @param error Error message\n     */\n    handleError(id, error2) {\n      const pendingRequest = this.pendingRequests.get(id);\n      if (!pendingRequest) {\n        console.warn(`Received error for unknown request ID: ${id}`);\n        return;\n      }\n      clearTimeout(pendingRequest.timeout);\n      this.pendingRequests.delete(id);\n      pendingRequest.reject(new Error(error2));\n    }\n    /**\n     * Send a response message\n     * @param id Request ID\n     * @param method Method name\n     * @param payload Response payload\n     */\n    sendResponse(id, method, payload) {\n      if (!this.ws) {\n        throw new Error(\"WebSocket is not connected\");\n      }\n      const responseMessage = {\n        id,\n        messageType: \"response\",\n        method,\n        payload\n      };\n      this.ws.send(JSON.stringify(responseMessage));\n    }\n    /**\n     * Send an update message for streaming\n     * @param id Request ID\n     * @param method Method name\n     * @param payload Update payload\n     */\n    sendUpdate(id, method, payload) {\n      if (!this.ws) {\n        throw new Error(\"WebSocket is not connected\");\n      }\n      const updateMessage = {\n        id,\n        messageType: \"update\",\n        method,\n        payload\n      };\n      this.ws.send(JSON.stringify(updateMessage));\n    }\n    /**\n     * Send an error message\n     * @param id Request ID\n     * @param errorMessage Error message\n     */\n    sendError(id, errorMessage) {\n      if (!this.ws) {\n        throw new Error(\"WebSocket is not connected\");\n      }\n      const errorResponse = {\n        id,\n        messageType: \"error\",\n        error: {\n          message: errorMessage\n        }\n      };\n      this.ws.send(JSON.stringify(errorResponse));\n    }\n    /**\n     * Handle disconnection by attempting to reconnect\n     */\n    handleDisconnect() {\n      if (this.isIntentionalClose) {\n        console.log(\n          \"WebSocket closed intentionally, not attempting to reconnect\"\n        );\n        this.clearPendingRequests(new Error(\"Connection closed by user\"));\n        return;\n      }\n      if (this.reconnectAttempts < this.options.maxReconnectAttempts) {\n        this.reconnectAttempts++;\n        console.log(\n          `Attempting to reconnect (${this.reconnectAttempts}/${this.options.maxReconnectAttempts})...`\n        );\n        setTimeout(\n          () => this.reconnect(),\n          this.options.reconnectDelay * this.reconnectAttempts\n        );\n      } else {\n        console.error(\"Max reconnection attempts reached\");\n        this.clearPendingRequests(new Error(\"Connection closed\"));\n      }\n    }\n    /**\n     * Clear all pending requests with an error\n     * @param error Error to reject with\n     */\n    clearPendingRequests(error2) {\n      this.pendingRequests.forEach(({ reject }) => {\n        reject(error2);\n      });\n      this.pendingRequests.clear();\n    }\n    /**\n     * Close the WebSocket connection\n     * @returns Promise that resolves when the connection is closed\n     */\n    async close() {\n      this.isIntentionalClose = true;\n      if (this.ws) {\n        this.ws.close();\n        this.ws = null;\n      }\n      this.clearPendingRequests(new Error(\"Connection closed by user\"));\n    }\n  };\n  typeof window !== \"undefined\" ? window.WebSocket : __require(\"ws\").WebSocket;\n  function createBridgeContract(contract2) {\n    return contract2;\n  }\n  function validateWithZod(schema, data, context, silent = false) {\n    const result = schema.safeParse(data);\n    if (!result.success) {\n      const error2 = new Error(\n        `Validation failed for ${context}: ${result.error.message}`\n      );\n      if (silent) {\n        console.error(error2);\n        return data;\n      }\n      throw error2;\n    }\n    return result.data;\n  }\n  var WebSocketImpl2 = typeof window !== \"undefined\" ? window.WebSocket : __require(\"ws\").WebSocket;\n  var ZodTypedBridge = class {\n    constructor(bridge, contract2) {\n      this.bridge = bridge;\n      this.contract = contract2;\n      this.call = new Proxy({}, {\n        get: (target, prop) => {\n          return (request, options) => {\n            return this.callMethod(prop, request, options);\n          };\n        }\n      });\n    }\n    async callMethod(method, request, options) {\n      const methodContract = this.contract.consumes[method];\n      if (!methodContract) {\n        throw new Error(`Method ${String(method)} not found in contract`);\n      }\n      const validatedRequest = validateWithZod(\n        methodContract.request,\n        request,\n        `request for method ${String(method)}`\n      );\n      const onUpdate = (options == null ? void 0 : options.onUpdate) && methodContract.update ? (update) => {\n        var _a;\n        if (!methodContract.update) return;\n        try {\n          const validatedUpdate = validateWithZod(\n            methodContract.update,\n            update,\n            `update for method ${String(method)}`,\n            true\n            // silently log validation errors\n          );\n          (_a = options.onUpdate) == null ? void 0 : _a.call(options, validatedUpdate);\n        } catch (error2) {\n          console.error(\"Update validation failed:\", error2);\n        }\n      } : void 0;\n      const response = await this.bridge.callMethod(\n        method,\n        validatedRequest,\n        onUpdate\n      );\n      return validateWithZod(\n        methodContract.response,\n        response,\n        `response for method ${String(method)}`\n      );\n    }\n    register(implementations) {\n      const wrappedImplementations = {};\n      for (const [method, implementation] of Object.entries(implementations)) {\n        const methodContract = this.contract.serves[method];\n        if (!methodContract) {\n          throw new Error(`Method ${method} not found in contract`);\n        }\n        wrappedImplementations[method] = async (request, sendUpdate) => {\n          const validatedRequest = validateWithZod(\n            methodContract.request,\n            request,\n            `request for method ${method}`\n          );\n          const wrappedSendUpdate = methodContract.update && sendUpdate ? (update) => {\n            if (!methodContract.update) return;\n            try {\n              const validatedUpdate = validateWithZod(\n                methodContract.update,\n                update,\n                `update for method ${method}`,\n                true\n                // silently log validation errors\n              );\n              sendUpdate(validatedUpdate);\n            } catch (error2) {\n              console.error(\"Update validation failed:\", error2);\n            }\n          } : void 0;\n          const response = await implementation(validatedRequest, {\n            sendUpdate: wrappedSendUpdate\n          });\n          return validateWithZod(\n            methodContract.response,\n            response,\n            `response for method ${method}`\n          );\n        };\n      }\n      this.bridge.register(wrappedImplementations);\n    }\n    async close() {\n      await this.bridge.close();\n    }\n  };\n  var ClientBridge = class extends WebSocketRpcBridge {\n    constructor(url, options) {\n      super(options);\n      this.reconnectTimer = null;\n      this.url = url;\n    }\n    call(method, payload, onUpdate) {\n      return this.callMethod(method, payload, onUpdate);\n    }\n    reconnect() {\n      if (this.reconnectTimer) {\n        clearTimeout(this.reconnectTimer);\n      }\n      this.reconnectTimer = setTimeout(async () => {\n        try {\n          await this.connect();\n        } catch (error2) {\n          this.reconnect();\n        }\n      }, this.options.reconnectDelay);\n    }\n    connect() {\n      return new Promise((resolve, reject) => {\n        try {\n          const ws = new WebSocketImpl2(this.url);\n          ws.onopen = () => {\n            this.ws = ws;\n            this.setupWebSocketHandlers(ws);\n            resolve();\n          };\n          ws.onerror = () => {\n            reject(new Error(\"Failed to connect to WebSocket server\"));\n          };\n        } catch (error2) {\n          reject(error2);\n        }\n      });\n    }\n  };\n  var ZodClient = class extends ZodTypedBridge {\n    constructor(url, contract2, options) {\n      super(new ClientBridge(url, options), {\n        serves: contract2.client || {},\n        consumes: contract2.server || {}\n      });\n    }\n    connect() {\n      return this.bridge.connect();\n    }\n  };\n  function createSRPCClientBridge(url, contract2, options) {\n    return new ZodClient(url, contract2, options);\n  }\n  var util;\n  (function(util2) {\n    util2.assertEqual = (val) => val;\n    function assertIs(_arg) {\n    }\n    util2.assertIs = assertIs;\n    function assertNever(_x) {\n      throw new Error();\n    }\n    util2.assertNever = assertNever;\n    util2.arrayToEnum = (items) => {\n      const obj = {};\n      for (const item of items) {\n        obj[item] = item;\n      }\n      return obj;\n    };\n    util2.getValidEnumValues = (obj) => {\n      const validKeys = util2.objectKeys(obj).filter((k2) => typeof obj[obj[k2]] !== \"number\");\n      const filtered = {};\n      for (const k2 of validKeys) {\n        filtered[k2] = obj[k2];\n      }\n      return util2.objectValues(filtered);\n    };\n    util2.objectValues = (obj) => {\n      return util2.objectKeys(obj).map(function(e2) {\n        return obj[e2];\n      });\n    };\n    util2.objectKeys = typeof Object.keys === \"function\" ? (obj) => Object.keys(obj) : (object) => {\n      const keys = [];\n      for (const key in object) {\n        if (Object.prototype.hasOwnProperty.call(object, key)) {\n          keys.push(key);\n        }\n      }\n      return keys;\n    };\n    util2.find = (arr, checker) => {\n      for (const item of arr) {\n        if (checker(item))\n          return item;\n      }\n      return void 0;\n    };\n    util2.isInteger = typeof Number.isInteger === \"function\" ? (val) => Number.isInteger(val) : (val) => typeof val === \"number\" && isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n      return array.map((val) => typeof val === \"string\" ? `'${val}'` : val).join(separator);\n    }\n    util2.joinValues = joinValues;\n    util2.jsonStringifyReplacer = (_2, value) => {\n      if (typeof value === \"bigint\") {\n        return value.toString();\n      }\n      return value;\n    };\n  })(util || (util = {}));\n  var objectUtil;\n  (function(objectUtil2) {\n    objectUtil2.mergeShapes = (first, second) => {\n      return {\n        ...first,\n        ...second\n        // second overwrites first\n      };\n    };\n  })(objectUtil || (objectUtil = {}));\n  const ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\"\n  ]);\n  const getParsedType = (data) => {\n    const t2 = typeof data;\n    switch (t2) {\n      case \"undefined\":\n        return ZodParsedType.undefined;\n      case \"string\":\n        return ZodParsedType.string;\n      case \"number\":\n        return isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n      case \"boolean\":\n        return ZodParsedType.boolean;\n      case \"function\":\n        return ZodParsedType.function;\n      case \"bigint\":\n        return ZodParsedType.bigint;\n      case \"symbol\":\n        return ZodParsedType.symbol;\n      case \"object\":\n        if (Array.isArray(data)) {\n          return ZodParsedType.array;\n        }\n        if (data === null) {\n          return ZodParsedType.null;\n        }\n        if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n          return ZodParsedType.promise;\n        }\n        if (typeof Map !== \"undefined\" && data instanceof Map) {\n          return ZodParsedType.map;\n        }\n        if (typeof Set !== \"undefined\" && data instanceof Set) {\n          return ZodParsedType.set;\n        }\n        if (typeof Date !== \"undefined\" && data instanceof Date) {\n          return ZodParsedType.date;\n        }\n        return ZodParsedType.object;\n      default:\n        return ZodParsedType.unknown;\n    }\n  };\n  const ZodIssueCode = util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\"\n  ]);\n  const quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n  };\n  class ZodError extends Error {\n    get errors() {\n      return this.issues;\n    }\n    constructor(issues) {\n      super();\n      this.issues = [];\n      this.addIssue = (sub) => {\n        this.issues = [...this.issues, sub];\n      };\n      this.addIssues = (subs = []) => {\n        this.issues = [...this.issues, ...subs];\n      };\n      const actualProto = new.target.prototype;\n      if (Object.setPrototypeOf) {\n        Object.setPrototypeOf(this, actualProto);\n      } else {\n        this.__proto__ = actualProto;\n      }\n      this.name = \"ZodError\";\n      this.issues = issues;\n    }\n    format(_mapper) {\n      const mapper = _mapper || function(issue) {\n        return issue.message;\n      };\n      const fieldErrors = { _errors: [] };\n      const processError = (error2) => {\n        for (const issue of error2.issues) {\n          if (issue.code === \"invalid_union\") {\n            issue.unionErrors.map(processError);\n          } else if (issue.code === \"invalid_return_type\") {\n            processError(issue.returnTypeError);\n          } else if (issue.code === \"invalid_arguments\") {\n            processError(issue.argumentsError);\n          } else if (issue.path.length === 0) {\n            fieldErrors._errors.push(mapper(issue));\n          } else {\n            let curr = fieldErrors;\n            let i2 = 0;\n            while (i2 < issue.path.length) {\n              const el = issue.path[i2];\n              const terminal = i2 === issue.path.length - 1;\n              if (!terminal) {\n                curr[el] = curr[el] || { _errors: [] };\n              } else {\n                curr[el] = curr[el] || { _errors: [] };\n                curr[el]._errors.push(mapper(issue));\n              }\n              curr = curr[el];\n              i2++;\n            }\n          }\n        }\n      };\n      processError(this);\n      return fieldErrors;\n    }\n    static assert(value) {\n      if (!(value instanceof ZodError)) {\n        throw new Error(`Not a ZodError: ${value}`);\n      }\n    }\n    toString() {\n      return this.message;\n    }\n    get message() {\n      return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n      return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n      const fieldErrors = {};\n      const formErrors = [];\n      for (const sub of this.issues) {\n        if (sub.path.length > 0) {\n          fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n          fieldErrors[sub.path[0]].push(mapper(sub));\n        } else {\n          formErrors.push(mapper(sub));\n        }\n      }\n      return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n      return this.flatten();\n    }\n  }\n  ZodError.create = (issues) => {\n    const error2 = new ZodError(issues);\n    return error2;\n  };\n  const errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n      case ZodIssueCode.invalid_type:\n        if (issue.received === ZodParsedType.undefined) {\n          message = \"Required\";\n        } else {\n          message = `Expected ${issue.expected}, received ${issue.received}`;\n        }\n        break;\n      case ZodIssueCode.invalid_literal:\n        message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n        break;\n      case ZodIssueCode.unrecognized_keys:\n        message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n        break;\n      case ZodIssueCode.invalid_union:\n        message = `Invalid input`;\n        break;\n      case ZodIssueCode.invalid_union_discriminator:\n        message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n        break;\n      case ZodIssueCode.invalid_enum_value:\n        message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n        break;\n      case ZodIssueCode.invalid_arguments:\n        message = `Invalid function arguments`;\n        break;\n      case ZodIssueCode.invalid_return_type:\n        message = `Invalid function return type`;\n        break;\n      case ZodIssueCode.invalid_date:\n        message = `Invalid date`;\n        break;\n      case ZodIssueCode.invalid_string:\n        if (typeof issue.validation === \"object\") {\n          if (\"includes\" in issue.validation) {\n            message = `Invalid input: must include \"${issue.validation.includes}\"`;\n            if (typeof issue.validation.position === \"number\") {\n              message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n            }\n          } else if (\"startsWith\" in issue.validation) {\n            message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n          } else if (\"endsWith\" in issue.validation) {\n            message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n          } else {\n            util.assertNever(issue.validation);\n          }\n        } else if (issue.validation !== \"regex\") {\n          message = `Invalid ${issue.validation}`;\n        } else {\n          message = \"Invalid\";\n        }\n        break;\n      case ZodIssueCode.too_small:\n        if (issue.type === \"array\")\n          message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n        else if (issue.type === \"string\")\n          message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n        else if (issue.type === \"number\")\n          message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;\n        else if (issue.type === \"date\")\n          message = `Date must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue.minimum))}`;\n        else\n          message = \"Invalid input\";\n        break;\n      case ZodIssueCode.too_big:\n        if (issue.type === \"array\")\n          message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n        else if (issue.type === \"string\")\n          message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n        else if (issue.type === \"number\")\n          message = `Number must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n        else if (issue.type === \"bigint\")\n          message = `BigInt must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n        else if (issue.type === \"date\")\n          message = `Date must be ${issue.exact ? `exactly` : issue.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue.maximum))}`;\n        else\n          message = \"Invalid input\";\n        break;\n      case ZodIssueCode.custom:\n        message = `Invalid input`;\n        break;\n      case ZodIssueCode.invalid_intersection_types:\n        message = `Intersection results could not be merged`;\n        break;\n      case ZodIssueCode.not_multiple_of:\n        message = `Number must be a multiple of ${issue.multipleOf}`;\n        break;\n      case ZodIssueCode.not_finite:\n        message = \"Number must be finite\";\n        break;\n      default:\n        message = _ctx.defaultError;\n        util.assertNever(issue);\n    }\n    return { message };\n  };\n  let overrideErrorMap = errorMap;\n  function setErrorMap(map) {\n    overrideErrorMap = map;\n  }\n  function getErrorMap() {\n    return overrideErrorMap;\n  }\n  const makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...issueData.path || []];\n    const fullIssue = {\n      ...issueData,\n      path: fullPath\n    };\n    if (issueData.message !== void 0) {\n      return {\n        ...issueData,\n        path: fullPath,\n        message: issueData.message\n      };\n    }\n    let errorMessage = \"\";\n    const maps = errorMaps.filter((m2) => !!m2).slice().reverse();\n    for (const map of maps) {\n      errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n      ...issueData,\n      path: fullPath,\n      message: errorMessage\n    };\n  };\n  const EMPTY_PATH = [];\n  function addIssueToContext(ctx, issueData) {\n    const overrideMap = getErrorMap();\n    const issue = makeIssue({\n      issueData,\n      data: ctx.data,\n      path: ctx.path,\n      errorMaps: [\n        ctx.common.contextualErrorMap,\n        // contextual error map is first priority\n        ctx.schemaErrorMap,\n        // then schema-bound map if available\n        overrideMap,\n        // then global override map\n        overrideMap === errorMap ? void 0 : errorMap\n        // then global default map\n      ].filter((x2) => !!x2)\n    });\n    ctx.common.issues.push(issue);\n  }\n  class ParseStatus {\n    constructor() {\n      this.value = \"valid\";\n    }\n    dirty() {\n      if (this.value === \"valid\")\n        this.value = \"dirty\";\n    }\n    abort() {\n      if (this.value !== \"aborted\")\n        this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n      const arrayValue = [];\n      for (const s2 of results) {\n        if (s2.status === \"aborted\")\n          return INVALID;\n        if (s2.status === \"dirty\")\n          status.dirty();\n        arrayValue.push(s2.value);\n      }\n      return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n      const syncPairs = [];\n      for (const pair of pairs) {\n        const key = await pair.key;\n        const value = await pair.value;\n        syncPairs.push({\n          key,\n          value\n        });\n      }\n      return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n      const finalObject = {};\n      for (const pair of pairs) {\n        const { key, value } = pair;\n        if (key.status === \"aborted\")\n          return INVALID;\n        if (value.status === \"aborted\")\n          return INVALID;\n        if (key.status === \"dirty\")\n          status.dirty();\n        if (value.status === \"dirty\")\n          status.dirty();\n        if (key.value !== \"__proto__\" && (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n          finalObject[key.value] = value.value;\n        }\n      }\n      return { status: status.value, value: finalObject };\n    }\n  }\n  const INVALID = Object.freeze({\n    status: \"aborted\"\n  });\n  const DIRTY = (value) => ({ status: \"dirty\", value });\n  const OK = (value) => ({ status: \"valid\", value });\n  const isAborted = (x2) => x2.status === \"aborted\";\n  const isDirty = (x2) => x2.status === \"dirty\";\n  const isValid = (x2) => x2.status === \"valid\";\n  const isAsync = (x2) => typeof Promise !== \"undefined\" && x2 instanceof Promise;\n  function __classPrivateFieldGet(receiver, state, kind, f2) {\n    if (typeof state === \"function\" ? receiver !== state || true : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return state.get(receiver);\n  }\n  function __classPrivateFieldSet(receiver, state, value, kind, f2) {\n    if (typeof state === \"function\" ? receiver !== state || true : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return state.set(receiver, value), value;\n  }\n  typeof SuppressedError === \"function\" ? SuppressedError : function(error2, suppressed, message) {\n    var e2 = new Error(message);\n    return e2.name = \"SuppressedError\", e2.error = error2, e2.suppressed = suppressed, e2;\n  };\n  var errorUtil;\n  (function(errorUtil2) {\n    errorUtil2.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    errorUtil2.toString = (message) => typeof message === \"string\" ? message : message === null || message === void 0 ? void 0 : message.message;\n  })(errorUtil || (errorUtil = {}));\n  var _ZodEnum_cache, _ZodNativeEnum_cache;\n  class ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n      this._cachedPath = [];\n      this.parent = parent;\n      this.data = value;\n      this._path = path;\n      this._key = key;\n    }\n    get path() {\n      if (!this._cachedPath.length) {\n        if (this._key instanceof Array) {\n          this._cachedPath.push(...this._path, ...this._key);\n        } else {\n          this._cachedPath.push(...this._path, this._key);\n        }\n      }\n      return this._cachedPath;\n    }\n  }\n  const handleResult = (ctx, result) => {\n    if (isValid(result)) {\n      return { success: true, data: result.value };\n    } else {\n      if (!ctx.common.issues.length) {\n        throw new Error(\"Validation failed but no issues detected.\");\n      }\n      return {\n        success: false,\n        get error() {\n          if (this._error)\n            return this._error;\n          const error2 = new ZodError(ctx.common.issues);\n          this._error = error2;\n          return this._error;\n        }\n      };\n    }\n  };\n  function processCreateParams(params) {\n    if (!params)\n      return {};\n    const { errorMap: errorMap2, invalid_type_error, required_error, description } = params;\n    if (errorMap2 && (invalid_type_error || required_error)) {\n      throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap2)\n      return { errorMap: errorMap2, description };\n    const customMap = (iss, ctx) => {\n      var _a, _b;\n      const { message } = params;\n      if (iss.code === \"invalid_enum_value\") {\n        return { message: message !== null && message !== void 0 ? message : ctx.defaultError };\n      }\n      if (typeof ctx.data === \"undefined\") {\n        return { message: (_a = message !== null && message !== void 0 ? message : required_error) !== null && _a !== void 0 ? _a : ctx.defaultError };\n      }\n      if (iss.code !== \"invalid_type\")\n        return { message: ctx.defaultError };\n      return { message: (_b = message !== null && message !== void 0 ? message : invalid_type_error) !== null && _b !== void 0 ? _b : ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n  }\n  class ZodType {\n    get description() {\n      return this._def.description;\n    }\n    _getType(input) {\n      return getParsedType(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n      return ctx || {\n        common: input.parent.common,\n        data: input.data,\n        parsedType: getParsedType(input.data),\n        schemaErrorMap: this._def.errorMap,\n        path: input.path,\n        parent: input.parent\n      };\n    }\n    _processInputParams(input) {\n      return {\n        status: new ParseStatus(),\n        ctx: {\n          common: input.parent.common,\n          data: input.data,\n          parsedType: getParsedType(input.data),\n          schemaErrorMap: this._def.errorMap,\n          path: input.path,\n          parent: input.parent\n        }\n      };\n    }\n    _parseSync(input) {\n      const result = this._parse(input);\n      if (isAsync(result)) {\n        throw new Error(\"Synchronous parse encountered promise.\");\n      }\n      return result;\n    }\n    _parseAsync(input) {\n      const result = this._parse(input);\n      return Promise.resolve(result);\n    }\n    parse(data, params) {\n      const result = this.safeParse(data, params);\n      if (result.success)\n        return result.data;\n      throw result.error;\n    }\n    safeParse(data, params) {\n      var _a;\n      const ctx = {\n        common: {\n          issues: [],\n          async: (_a = params === null || params === void 0 ? void 0 : params.async) !== null && _a !== void 0 ? _a : false,\n          contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap\n        },\n        path: (params === null || params === void 0 ? void 0 : params.path) || [],\n        schemaErrorMap: this._def.errorMap,\n        parent: null,\n        data,\n        parsedType: getParsedType(data)\n      };\n      const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n      return handleResult(ctx, result);\n    }\n    \"~validate\"(data) {\n      var _a, _b;\n      const ctx = {\n        common: {\n          issues: [],\n          async: !!this[\"~standard\"].async\n        },\n        path: [],\n        schemaErrorMap: this._def.errorMap,\n        parent: null,\n        data,\n        parsedType: getParsedType(data)\n      };\n      if (!this[\"~standard\"].async) {\n        try {\n          const result = this._parseSync({ data, path: [], parent: ctx });\n          return isValid(result) ? {\n            value: result.value\n          } : {\n            issues: ctx.common.issues\n          };\n        } catch (err) {\n          if ((_b = (_a = err === null || err === void 0 ? void 0 : err.message) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === null || _b === void 0 ? void 0 : _b.includes(\"encountered\")) {\n            this[\"~standard\"].async = true;\n          }\n          ctx.common = {\n            issues: [],\n            async: true\n          };\n        }\n      }\n      return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result) ? {\n        value: result.value\n      } : {\n        issues: ctx.common.issues\n      });\n    }\n    async parseAsync(data, params) {\n      const result = await this.safeParseAsync(data, params);\n      if (result.success)\n        return result.data;\n      throw result.error;\n    }\n    async safeParseAsync(data, params) {\n      const ctx = {\n        common: {\n          issues: [],\n          contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n          async: true\n        },\n        path: (params === null || params === void 0 ? void 0 : params.path) || [],\n        schemaErrorMap: this._def.errorMap,\n        parent: null,\n        data,\n        parsedType: getParsedType(data)\n      };\n      const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n      const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));\n      return handleResult(ctx, result);\n    }\n    refine(check, message) {\n      const getIssueProperties = (val) => {\n        if (typeof message === \"string\" || typeof message === \"undefined\") {\n          return { message };\n        } else if (typeof message === \"function\") {\n          return message(val);\n        } else {\n          return message;\n        }\n      };\n      return this._refinement((val, ctx) => {\n        const result = check(val);\n        const setError = () => ctx.addIssue({\n          code: ZodIssueCode.custom,\n          ...getIssueProperties(val)\n        });\n        if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n          return result.then((data) => {\n            if (!data) {\n              setError();\n              return false;\n            } else {\n              return true;\n            }\n          });\n        }\n        if (!result) {\n          setError();\n          return false;\n        } else {\n          return true;\n        }\n      });\n    }\n    refinement(check, refinementData) {\n      return this._refinement((val, ctx) => {\n        if (!check(val)) {\n          ctx.addIssue(typeof refinementData === \"function\" ? refinementData(val, ctx) : refinementData);\n          return false;\n        } else {\n          return true;\n        }\n      });\n    }\n    _refinement(refinement) {\n      return new ZodEffects({\n        schema: this,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect: { type: \"refinement\", refinement }\n      });\n    }\n    superRefine(refinement) {\n      return this._refinement(refinement);\n    }\n    constructor(def) {\n      this.spa = this.safeParseAsync;\n      this._def = def;\n      this.parse = this.parse.bind(this);\n      this.safeParse = this.safeParse.bind(this);\n      this.parseAsync = this.parseAsync.bind(this);\n      this.safeParseAsync = this.safeParseAsync.bind(this);\n      this.spa = this.spa.bind(this);\n      this.refine = this.refine.bind(this);\n      this.refinement = this.refinement.bind(this);\n      this.superRefine = this.superRefine.bind(this);\n      this.optional = this.optional.bind(this);\n      this.nullable = this.nullable.bind(this);\n      this.nullish = this.nullish.bind(this);\n      this.array = this.array.bind(this);\n      this.promise = this.promise.bind(this);\n      this.or = this.or.bind(this);\n      this.and = this.and.bind(this);\n      this.transform = this.transform.bind(this);\n      this.brand = this.brand.bind(this);\n      this.default = this.default.bind(this);\n      this.catch = this.catch.bind(this);\n      this.describe = this.describe.bind(this);\n      this.pipe = this.pipe.bind(this);\n      this.readonly = this.readonly.bind(this);\n      this.isNullable = this.isNullable.bind(this);\n      this.isOptional = this.isOptional.bind(this);\n      this[\"~standard\"] = {\n        version: 1,\n        vendor: \"zod\",\n        validate: (data) => this[\"~validate\"](data)\n      };\n    }\n    optional() {\n      return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n      return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n      return this.nullable().optional();\n    }\n    array() {\n      return ZodArray.create(this);\n    }\n    promise() {\n      return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n      return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n      return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n      return new ZodEffects({\n        ...processCreateParams(this._def),\n        schema: this,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect: { type: \"transform\", transform }\n      });\n    }\n    default(def) {\n      const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n      return new ZodDefault({\n        ...processCreateParams(this._def),\n        innerType: this,\n        defaultValue: defaultValueFunc,\n        typeName: ZodFirstPartyTypeKind.ZodDefault\n      });\n    }\n    brand() {\n      return new ZodBranded({\n        typeName: ZodFirstPartyTypeKind.ZodBranded,\n        type: this,\n        ...processCreateParams(this._def)\n      });\n    }\n    catch(def) {\n      const catchValueFunc = typeof def === \"function\" ? def : () => def;\n      return new ZodCatch({\n        ...processCreateParams(this._def),\n        innerType: this,\n        catchValue: catchValueFunc,\n        typeName: ZodFirstPartyTypeKind.ZodCatch\n      });\n    }\n    describe(description) {\n      const This = this.constructor;\n      return new This({\n        ...this._def,\n        description\n      });\n    }\n    pipe(target) {\n      return ZodPipeline.create(this, target);\n    }\n    readonly() {\n      return ZodReadonly.create(this);\n    }\n    isOptional() {\n      return this.safeParse(void 0).success;\n    }\n    isNullable() {\n      return this.safeParse(null).success;\n    }\n  }\n  const cuidRegex = /^c[^\\s-]{8,}$/i;\n  const cuid2Regex = /^[0-9a-z]+$/;\n  const ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\n  const uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\n  const nanoidRegex = /^[a-z0-9_-]{21}$/i;\n  const jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\n  const durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n  const emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n  const _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\n  let emojiRegex;\n  const ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\n  const ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\n  const ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\n  const ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n  const base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n  const base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\n  const dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\n  const dateRegex = new RegExp(`^${dateRegexSource}$`);\n  function timeRegexSource(args) {\n    let secondsRegexSource = `[0-5]\\\\d`;\n    if (args.precision) {\n      secondsRegexSource = `${secondsRegexSource}\\\\.\\\\d{${args.precision}}`;\n    } else if (args.precision == null) {\n      secondsRegexSource = `${secondsRegexSource}(\\\\.\\\\d+)?`;\n    }\n    const secondsQuantifier = args.precision ? \"+\" : \"?\";\n    return `([01]\\\\d|2[0-3]):[0-5]\\\\d(:${secondsRegexSource})${secondsQuantifier}`;\n  }\n  function timeRegex(args) {\n    return new RegExp(`^${timeRegexSource(args)}$`);\n  }\n  function datetimeRegex(args) {\n    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n    const opts = [];\n    opts.push(args.local ? `Z?` : `Z`);\n    if (args.offset)\n      opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n    regex = `${regex}(${opts.join(\"|\")})`;\n    return new RegExp(`^${regex}$`);\n  }\n  function isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n      return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n      return true;\n    }\n    return false;\n  }\n  function isValidJWT(jwt, alg) {\n    if (!jwtRegex.test(jwt))\n      return false;\n    try {\n      const [header] = jwt.split(\".\");\n      const base64 = header.replace(/-/g, \"+\").replace(/_/g, \"/\").padEnd(header.length + (4 - header.length % 4) % 4, \"=\");\n      const decoded = JSON.parse(atob(base64));\n      if (typeof decoded !== \"object\" || decoded === null)\n        return false;\n      if (!decoded.typ || !decoded.alg)\n        return false;\n      if (alg && decoded.alg !== alg)\n        return false;\n      return true;\n    } catch (_a) {\n      return false;\n    }\n  }\n  function isValidCidr(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n      return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n      return true;\n    }\n    return false;\n  }\n  class ZodString extends ZodType {\n    _parse(input) {\n      if (this._def.coerce) {\n        input.data = String(input.data);\n      }\n      const parsedType = this._getType(input);\n      if (parsedType !== ZodParsedType.string) {\n        const ctx2 = this._getOrReturnCtx(input);\n        addIssueToContext(ctx2, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.string,\n          received: ctx2.parsedType\n        });\n        return INVALID;\n      }\n      const status = new ParseStatus();\n      let ctx = void 0;\n      for (const check of this._def.checks) {\n        if (check.kind === \"min\") {\n          if (input.data.length < check.value) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.too_small,\n              minimum: check.value,\n              type: \"string\",\n              inclusive: true,\n              exact: false,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"max\") {\n          if (input.data.length > check.value) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.too_big,\n              maximum: check.value,\n              type: \"string\",\n              inclusive: true,\n              exact: false,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"length\") {\n          const tooBig = input.data.length > check.value;\n          const tooSmall = input.data.length < check.value;\n          if (tooBig || tooSmall) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            if (tooBig) {\n              addIssueToContext(ctx, {\n                code: ZodIssueCode.too_big,\n                maximum: check.value,\n                type: \"string\",\n                inclusive: true,\n                exact: true,\n                message: check.message\n              });\n            } else if (tooSmall) {\n              addIssueToContext(ctx, {\n                code: ZodIssueCode.too_small,\n                minimum: check.value,\n                type: \"string\",\n                inclusive: true,\n                exact: true,\n                message: check.message\n              });\n            }\n            status.dirty();\n          }\n        } else if (check.kind === \"email\") {\n          if (!emailRegex.test(input.data)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              validation: \"email\",\n              code: ZodIssueCode.invalid_string,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"emoji\") {\n          if (!emojiRegex) {\n            emojiRegex = new RegExp(_emojiRegex, \"u\");\n          }\n          if (!emojiRegex.test(input.data)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              validation: \"emoji\",\n              code: ZodIssueCode.invalid_string,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"uuid\") {\n          if (!uuidRegex.test(input.data)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              validation: \"uuid\",\n              code: ZodIssueCode.invalid_string,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"nanoid\") {\n          if (!nanoidRegex.test(input.data)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              validation: \"nanoid\",\n              code: ZodIssueCode.invalid_string,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"cuid\") {\n          if (!cuidRegex.test(input.data)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              validation: \"cuid\",\n              code: ZodIssueCode.invalid_string,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"cuid2\") {\n          if (!cuid2Regex.test(input.data)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              validation: \"cuid2\",\n              code: ZodIssueCode.invalid_string,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"ulid\") {\n          if (!ulidRegex.test(input.data)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              validation: \"ulid\",\n              code: ZodIssueCode.invalid_string,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"url\") {\n          try {\n            new URL(input.data);\n          } catch (_a) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              validation: \"url\",\n              code: ZodIssueCode.invalid_string,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"regex\") {\n          check.regex.lastIndex = 0;\n          const testResult = check.regex.test(input.data);\n          if (!testResult) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              validation: \"regex\",\n              code: ZodIssueCode.invalid_string,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"trim\") {\n          input.data = input.data.trim();\n        } else if (check.kind === \"includes\") {\n          if (!input.data.includes(check.value, check.position)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.invalid_string,\n              validation: { includes: check.value, position: check.position },\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"toLowerCase\") {\n          input.data = input.data.toLowerCase();\n        } else if (check.kind === \"toUpperCase\") {\n          input.data = input.data.toUpperCase();\n        } else if (check.kind === \"startsWith\") {\n          if (!input.data.startsWith(check.value)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.invalid_string,\n              validation: { startsWith: check.value },\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"endsWith\") {\n          if (!input.data.endsWith(check.value)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.invalid_string,\n              validation: { endsWith: check.value },\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"datetime\") {\n          const regex = datetimeRegex(check);\n          if (!regex.test(input.data)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.invalid_string,\n              validation: \"datetime\",\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"date\") {\n          const regex = dateRegex;\n          if (!regex.test(input.data)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.invalid_string,\n              validation: \"date\",\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"time\") {\n          const regex = timeRegex(check);\n          if (!regex.test(input.data)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.invalid_string,\n              validation: \"time\",\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"duration\") {\n          if (!durationRegex.test(input.data)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              validation: \"duration\",\n              code: ZodIssueCode.invalid_string,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"ip\") {\n          if (!isValidIP(input.data, check.version)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              validation: \"ip\",\n              code: ZodIssueCode.invalid_string,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"jwt\") {\n          if (!isValidJWT(input.data, check.alg)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              validation: \"jwt\",\n              code: ZodIssueCode.invalid_string,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"cidr\") {\n          if (!isValidCidr(input.data, check.version)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              validation: \"cidr\",\n              code: ZodIssueCode.invalid_string,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"base64\") {\n          if (!base64Regex.test(input.data)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              validation: \"base64\",\n              code: ZodIssueCode.invalid_string,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"base64url\") {\n          if (!base64urlRegex.test(input.data)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              validation: \"base64url\",\n              code: ZodIssueCode.invalid_string,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else {\n          util.assertNever(check);\n        }\n      }\n      return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n      return this.refinement((data) => regex.test(data), {\n        validation,\n        code: ZodIssueCode.invalid_string,\n        ...errorUtil.errToObj(message)\n      });\n    }\n    _addCheck(check) {\n      return new ZodString({\n        ...this._def,\n        checks: [...this._def.checks, check]\n      });\n    }\n    email(message) {\n      return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n    }\n    url(message) {\n      return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n      return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n      return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n    }\n    nanoid(message) {\n      return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n      return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n      return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n      return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n    }\n    base64(message) {\n      return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n    }\n    base64url(message) {\n      return this._addCheck({\n        kind: \"base64url\",\n        ...errorUtil.errToObj(message)\n      });\n    }\n    jwt(options) {\n      return this._addCheck({ kind: \"jwt\", ...errorUtil.errToObj(options) });\n    }\n    ip(options) {\n      return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n    }\n    cidr(options) {\n      return this._addCheck({ kind: \"cidr\", ...errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n      var _a, _b;\n      if (typeof options === \"string\") {\n        return this._addCheck({\n          kind: \"datetime\",\n          precision: null,\n          offset: false,\n          local: false,\n          message: options\n        });\n      }\n      return this._addCheck({\n        kind: \"datetime\",\n        precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n        offset: (_a = options === null || options === void 0 ? void 0 : options.offset) !== null && _a !== void 0 ? _a : false,\n        local: (_b = options === null || options === void 0 ? void 0 : options.local) !== null && _b !== void 0 ? _b : false,\n        ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message)\n      });\n    }\n    date(message) {\n      return this._addCheck({ kind: \"date\", message });\n    }\n    time(options) {\n      if (typeof options === \"string\") {\n        return this._addCheck({\n          kind: \"time\",\n          precision: null,\n          message: options\n        });\n      }\n      return this._addCheck({\n        kind: \"time\",\n        precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n        ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message)\n      });\n    }\n    duration(message) {\n      return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n    }\n    regex(regex, message) {\n      return this._addCheck({\n        kind: \"regex\",\n        regex,\n        ...errorUtil.errToObj(message)\n      });\n    }\n    includes(value, options) {\n      return this._addCheck({\n        kind: \"includes\",\n        value,\n        position: options === null || options === void 0 ? void 0 : options.position,\n        ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message)\n      });\n    }\n    startsWith(value, message) {\n      return this._addCheck({\n        kind: \"startsWith\",\n        value,\n        ...errorUtil.errToObj(message)\n      });\n    }\n    endsWith(value, message) {\n      return this._addCheck({\n        kind: \"endsWith\",\n        value,\n        ...errorUtil.errToObj(message)\n      });\n    }\n    min(minLength, message) {\n      return this._addCheck({\n        kind: \"min\",\n        value: minLength,\n        ...errorUtil.errToObj(message)\n      });\n    }\n    max(maxLength, message) {\n      return this._addCheck({\n        kind: \"max\",\n        value: maxLength,\n        ...errorUtil.errToObj(message)\n      });\n    }\n    length(len, message) {\n      return this._addCheck({\n        kind: \"length\",\n        value: len,\n        ...errorUtil.errToObj(message)\n      });\n    }\n    /**\n     * Equivalent to `.min(1)`\n     */\n    nonempty(message) {\n      return this.min(1, errorUtil.errToObj(message));\n    }\n    trim() {\n      return new ZodString({\n        ...this._def,\n        checks: [...this._def.checks, { kind: \"trim\" }]\n      });\n    }\n    toLowerCase() {\n      return new ZodString({\n        ...this._def,\n        checks: [...this._def.checks, { kind: \"toLowerCase\" }]\n      });\n    }\n    toUpperCase() {\n      return new ZodString({\n        ...this._def,\n        checks: [...this._def.checks, { kind: \"toUpperCase\" }]\n      });\n    }\n    get isDatetime() {\n      return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isDate() {\n      return !!this._def.checks.find((ch) => ch.kind === \"date\");\n    }\n    get isTime() {\n      return !!this._def.checks.find((ch) => ch.kind === \"time\");\n    }\n    get isDuration() {\n      return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n    }\n    get isEmail() {\n      return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n      return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n      return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n      return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isNANOID() {\n      return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n    }\n    get isCUID() {\n      return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n      return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n      return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n      return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get isCIDR() {\n      return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n    }\n    get isBase64() {\n      return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n    }\n    get isBase64url() {\n      return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n    }\n    get minLength() {\n      let min2 = null;\n      for (const ch of this._def.checks) {\n        if (ch.kind === \"min\") {\n          if (min2 === null || ch.value > min2)\n            min2 = ch.value;\n        }\n      }\n      return min2;\n    }\n    get maxLength() {\n      let max2 = null;\n      for (const ch of this._def.checks) {\n        if (ch.kind === \"max\") {\n          if (max2 === null || ch.value < max2)\n            max2 = ch.value;\n        }\n      }\n      return max2;\n    }\n  }\n  ZodString.create = (params) => {\n    var _a;\n    return new ZodString({\n      checks: [],\n      typeName: ZodFirstPartyTypeKind.ZodString,\n      coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n      ...processCreateParams(params)\n    });\n  };\n  function floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return valInt % stepInt / Math.pow(10, decCount);\n  }\n  class ZodNumber extends ZodType {\n    constructor() {\n      super(...arguments);\n      this.min = this.gte;\n      this.max = this.lte;\n      this.step = this.multipleOf;\n    }\n    _parse(input) {\n      if (this._def.coerce) {\n        input.data = Number(input.data);\n      }\n      const parsedType = this._getType(input);\n      if (parsedType !== ZodParsedType.number) {\n        const ctx2 = this._getOrReturnCtx(input);\n        addIssueToContext(ctx2, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.number,\n          received: ctx2.parsedType\n        });\n        return INVALID;\n      }\n      let ctx = void 0;\n      const status = new ParseStatus();\n      for (const check of this._def.checks) {\n        if (check.kind === \"int\") {\n          if (!util.isInteger(input.data)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.invalid_type,\n              expected: \"integer\",\n              received: \"float\",\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"min\") {\n          const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n          if (tooSmall) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.too_small,\n              minimum: check.value,\n              type: \"number\",\n              inclusive: check.inclusive,\n              exact: false,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"max\") {\n          const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n          if (tooBig) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.too_big,\n              maximum: check.value,\n              type: \"number\",\n              inclusive: check.inclusive,\n              exact: false,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"multipleOf\") {\n          if (floatSafeRemainder(input.data, check.value) !== 0) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.not_multiple_of,\n              multipleOf: check.value,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"finite\") {\n          if (!Number.isFinite(input.data)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.not_finite,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else {\n          util.assertNever(check);\n        }\n      }\n      return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n      return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n      return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n      return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n      return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n      return new ZodNumber({\n        ...this._def,\n        checks: [\n          ...this._def.checks,\n          {\n            kind,\n            value,\n            inclusive,\n            message: errorUtil.toString(message)\n          }\n        ]\n      });\n    }\n    _addCheck(check) {\n      return new ZodNumber({\n        ...this._def,\n        checks: [...this._def.checks, check]\n      });\n    }\n    int(message) {\n      return this._addCheck({\n        kind: \"int\",\n        message: errorUtil.toString(message)\n      });\n    }\n    positive(message) {\n      return this._addCheck({\n        kind: \"min\",\n        value: 0,\n        inclusive: false,\n        message: errorUtil.toString(message)\n      });\n    }\n    negative(message) {\n      return this._addCheck({\n        kind: \"max\",\n        value: 0,\n        inclusive: false,\n        message: errorUtil.toString(message)\n      });\n    }\n    nonpositive(message) {\n      return this._addCheck({\n        kind: \"max\",\n        value: 0,\n        inclusive: true,\n        message: errorUtil.toString(message)\n      });\n    }\n    nonnegative(message) {\n      return this._addCheck({\n        kind: \"min\",\n        value: 0,\n        inclusive: true,\n        message: errorUtil.toString(message)\n      });\n    }\n    multipleOf(value, message) {\n      return this._addCheck({\n        kind: \"multipleOf\",\n        value,\n        message: errorUtil.toString(message)\n      });\n    }\n    finite(message) {\n      return this._addCheck({\n        kind: \"finite\",\n        message: errorUtil.toString(message)\n      });\n    }\n    safe(message) {\n      return this._addCheck({\n        kind: \"min\",\n        inclusive: true,\n        value: Number.MIN_SAFE_INTEGER,\n        message: errorUtil.toString(message)\n      })._addCheck({\n        kind: \"max\",\n        inclusive: true,\n        value: Number.MAX_SAFE_INTEGER,\n        message: errorUtil.toString(message)\n      });\n    }\n    get minValue() {\n      let min2 = null;\n      for (const ch of this._def.checks) {\n        if (ch.kind === \"min\") {\n          if (min2 === null || ch.value > min2)\n            min2 = ch.value;\n        }\n      }\n      return min2;\n    }\n    get maxValue() {\n      let max2 = null;\n      for (const ch of this._def.checks) {\n        if (ch.kind === \"max\") {\n          if (max2 === null || ch.value < max2)\n            max2 = ch.value;\n        }\n      }\n      return max2;\n    }\n    get isInt() {\n      return !!this._def.checks.find((ch) => ch.kind === \"int\" || ch.kind === \"multipleOf\" && util.isInteger(ch.value));\n    }\n    get isFinite() {\n      let max2 = null, min2 = null;\n      for (const ch of this._def.checks) {\n        if (ch.kind === \"finite\" || ch.kind === \"int\" || ch.kind === \"multipleOf\") {\n          return true;\n        } else if (ch.kind === \"min\") {\n          if (min2 === null || ch.value > min2)\n            min2 = ch.value;\n        } else if (ch.kind === \"max\") {\n          if (max2 === null || ch.value < max2)\n            max2 = ch.value;\n        }\n      }\n      return Number.isFinite(min2) && Number.isFinite(max2);\n    }\n  }\n  ZodNumber.create = (params) => {\n    return new ZodNumber({\n      checks: [],\n      typeName: ZodFirstPartyTypeKind.ZodNumber,\n      coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodBigInt extends ZodType {\n    constructor() {\n      super(...arguments);\n      this.min = this.gte;\n      this.max = this.lte;\n    }\n    _parse(input) {\n      if (this._def.coerce) {\n        try {\n          input.data = BigInt(input.data);\n        } catch (_a) {\n          return this._getInvalidInput(input);\n        }\n      }\n      const parsedType = this._getType(input);\n      if (parsedType !== ZodParsedType.bigint) {\n        return this._getInvalidInput(input);\n      }\n      let ctx = void 0;\n      const status = new ParseStatus();\n      for (const check of this._def.checks) {\n        if (check.kind === \"min\") {\n          const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n          if (tooSmall) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.too_small,\n              type: \"bigint\",\n              minimum: check.value,\n              inclusive: check.inclusive,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"max\") {\n          const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n          if (tooBig) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.too_big,\n              type: \"bigint\",\n              maximum: check.value,\n              inclusive: check.inclusive,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"multipleOf\") {\n          if (input.data % check.value !== BigInt(0)) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.not_multiple_of,\n              multipleOf: check.value,\n              message: check.message\n            });\n            status.dirty();\n          }\n        } else {\n          util.assertNever(check);\n        }\n      }\n      return { status: status.value, value: input.data };\n    }\n    _getInvalidInput(input) {\n      const ctx = this._getOrReturnCtx(input);\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.bigint,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n    gte(value, message) {\n      return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n      return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n      return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n      return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n      return new ZodBigInt({\n        ...this._def,\n        checks: [\n          ...this._def.checks,\n          {\n            kind,\n            value,\n            inclusive,\n            message: errorUtil.toString(message)\n          }\n        ]\n      });\n    }\n    _addCheck(check) {\n      return new ZodBigInt({\n        ...this._def,\n        checks: [...this._def.checks, check]\n      });\n    }\n    positive(message) {\n      return this._addCheck({\n        kind: \"min\",\n        value: BigInt(0),\n        inclusive: false,\n        message: errorUtil.toString(message)\n      });\n    }\n    negative(message) {\n      return this._addCheck({\n        kind: \"max\",\n        value: BigInt(0),\n        inclusive: false,\n        message: errorUtil.toString(message)\n      });\n    }\n    nonpositive(message) {\n      return this._addCheck({\n        kind: \"max\",\n        value: BigInt(0),\n        inclusive: true,\n        message: errorUtil.toString(message)\n      });\n    }\n    nonnegative(message) {\n      return this._addCheck({\n        kind: \"min\",\n        value: BigInt(0),\n        inclusive: true,\n        message: errorUtil.toString(message)\n      });\n    }\n    multipleOf(value, message) {\n      return this._addCheck({\n        kind: \"multipleOf\",\n        value,\n        message: errorUtil.toString(message)\n      });\n    }\n    get minValue() {\n      let min2 = null;\n      for (const ch of this._def.checks) {\n        if (ch.kind === \"min\") {\n          if (min2 === null || ch.value > min2)\n            min2 = ch.value;\n        }\n      }\n      return min2;\n    }\n    get maxValue() {\n      let max2 = null;\n      for (const ch of this._def.checks) {\n        if (ch.kind === \"max\") {\n          if (max2 === null || ch.value < max2)\n            max2 = ch.value;\n        }\n      }\n      return max2;\n    }\n  }\n  ZodBigInt.create = (params) => {\n    var _a;\n    return new ZodBigInt({\n      checks: [],\n      typeName: ZodFirstPartyTypeKind.ZodBigInt,\n      coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodBoolean extends ZodType {\n    _parse(input) {\n      if (this._def.coerce) {\n        input.data = Boolean(input.data);\n      }\n      const parsedType = this._getType(input);\n      if (parsedType !== ZodParsedType.boolean) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.boolean,\n          received: ctx.parsedType\n        });\n        return INVALID;\n      }\n      return OK(input.data);\n    }\n  }\n  ZodBoolean.create = (params) => {\n    return new ZodBoolean({\n      typeName: ZodFirstPartyTypeKind.ZodBoolean,\n      coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodDate extends ZodType {\n    _parse(input) {\n      if (this._def.coerce) {\n        input.data = new Date(input.data);\n      }\n      const parsedType = this._getType(input);\n      if (parsedType !== ZodParsedType.date) {\n        const ctx2 = this._getOrReturnCtx(input);\n        addIssueToContext(ctx2, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.date,\n          received: ctx2.parsedType\n        });\n        return INVALID;\n      }\n      if (isNaN(input.data.getTime())) {\n        const ctx2 = this._getOrReturnCtx(input);\n        addIssueToContext(ctx2, {\n          code: ZodIssueCode.invalid_date\n        });\n        return INVALID;\n      }\n      const status = new ParseStatus();\n      let ctx = void 0;\n      for (const check of this._def.checks) {\n        if (check.kind === \"min\") {\n          if (input.data.getTime() < check.value) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.too_small,\n              message: check.message,\n              inclusive: true,\n              exact: false,\n              minimum: check.value,\n              type: \"date\"\n            });\n            status.dirty();\n          }\n        } else if (check.kind === \"max\") {\n          if (input.data.getTime() > check.value) {\n            ctx = this._getOrReturnCtx(input, ctx);\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.too_big,\n              message: check.message,\n              inclusive: true,\n              exact: false,\n              maximum: check.value,\n              type: \"date\"\n            });\n            status.dirty();\n          }\n        } else {\n          util.assertNever(check);\n        }\n      }\n      return {\n        status: status.value,\n        value: new Date(input.data.getTime())\n      };\n    }\n    _addCheck(check) {\n      return new ZodDate({\n        ...this._def,\n        checks: [...this._def.checks, check]\n      });\n    }\n    min(minDate, message) {\n      return this._addCheck({\n        kind: \"min\",\n        value: minDate.getTime(),\n        message: errorUtil.toString(message)\n      });\n    }\n    max(maxDate, message) {\n      return this._addCheck({\n        kind: \"max\",\n        value: maxDate.getTime(),\n        message: errorUtil.toString(message)\n      });\n    }\n    get minDate() {\n      let min2 = null;\n      for (const ch of this._def.checks) {\n        if (ch.kind === \"min\") {\n          if (min2 === null || ch.value > min2)\n            min2 = ch.value;\n        }\n      }\n      return min2 != null ? new Date(min2) : null;\n    }\n    get maxDate() {\n      let max2 = null;\n      for (const ch of this._def.checks) {\n        if (ch.kind === \"max\") {\n          if (max2 === null || ch.value < max2)\n            max2 = ch.value;\n        }\n      }\n      return max2 != null ? new Date(max2) : null;\n    }\n  }\n  ZodDate.create = (params) => {\n    return new ZodDate({\n      checks: [],\n      coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n      typeName: ZodFirstPartyTypeKind.ZodDate,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodSymbol extends ZodType {\n    _parse(input) {\n      const parsedType = this._getType(input);\n      if (parsedType !== ZodParsedType.symbol) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.symbol,\n          received: ctx.parsedType\n        });\n        return INVALID;\n      }\n      return OK(input.data);\n    }\n  }\n  ZodSymbol.create = (params) => {\n    return new ZodSymbol({\n      typeName: ZodFirstPartyTypeKind.ZodSymbol,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodUndefined extends ZodType {\n    _parse(input) {\n      const parsedType = this._getType(input);\n      if (parsedType !== ZodParsedType.undefined) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.undefined,\n          received: ctx.parsedType\n        });\n        return INVALID;\n      }\n      return OK(input.data);\n    }\n  }\n  ZodUndefined.create = (params) => {\n    return new ZodUndefined({\n      typeName: ZodFirstPartyTypeKind.ZodUndefined,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodNull extends ZodType {\n    _parse(input) {\n      const parsedType = this._getType(input);\n      if (parsedType !== ZodParsedType.null) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.null,\n          received: ctx.parsedType\n        });\n        return INVALID;\n      }\n      return OK(input.data);\n    }\n  }\n  ZodNull.create = (params) => {\n    return new ZodNull({\n      typeName: ZodFirstPartyTypeKind.ZodNull,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodAny extends ZodType {\n    constructor() {\n      super(...arguments);\n      this._any = true;\n    }\n    _parse(input) {\n      return OK(input.data);\n    }\n  }\n  ZodAny.create = (params) => {\n    return new ZodAny({\n      typeName: ZodFirstPartyTypeKind.ZodAny,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodUnknown extends ZodType {\n    constructor() {\n      super(...arguments);\n      this._unknown = true;\n    }\n    _parse(input) {\n      return OK(input.data);\n    }\n  }\n  ZodUnknown.create = (params) => {\n    return new ZodUnknown({\n      typeName: ZodFirstPartyTypeKind.ZodUnknown,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodNever extends ZodType {\n    _parse(input) {\n      const ctx = this._getOrReturnCtx(input);\n      addIssueToContext(ctx, {\n        code: ZodIssueCode.invalid_type,\n        expected: ZodParsedType.never,\n        received: ctx.parsedType\n      });\n      return INVALID;\n    }\n  }\n  ZodNever.create = (params) => {\n    return new ZodNever({\n      typeName: ZodFirstPartyTypeKind.ZodNever,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodVoid extends ZodType {\n    _parse(input) {\n      const parsedType = this._getType(input);\n      if (parsedType !== ZodParsedType.undefined) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.void,\n          received: ctx.parsedType\n        });\n        return INVALID;\n      }\n      return OK(input.data);\n    }\n  }\n  ZodVoid.create = (params) => {\n    return new ZodVoid({\n      typeName: ZodFirstPartyTypeKind.ZodVoid,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodArray extends ZodType {\n    _parse(input) {\n      const { ctx, status } = this._processInputParams(input);\n      const def = this._def;\n      if (ctx.parsedType !== ZodParsedType.array) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.array,\n          received: ctx.parsedType\n        });\n        return INVALID;\n      }\n      if (def.exactLength !== null) {\n        const tooBig = ctx.data.length > def.exactLength.value;\n        const tooSmall = ctx.data.length < def.exactLength.value;\n        if (tooBig || tooSmall) {\n          addIssueToContext(ctx, {\n            code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n            minimum: tooSmall ? def.exactLength.value : void 0,\n            maximum: tooBig ? def.exactLength.value : void 0,\n            type: \"array\",\n            inclusive: true,\n            exact: true,\n            message: def.exactLength.message\n          });\n          status.dirty();\n        }\n      }\n      if (def.minLength !== null) {\n        if (ctx.data.length < def.minLength.value) {\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_small,\n            minimum: def.minLength.value,\n            type: \"array\",\n            inclusive: true,\n            exact: false,\n            message: def.minLength.message\n          });\n          status.dirty();\n        }\n      }\n      if (def.maxLength !== null) {\n        if (ctx.data.length > def.maxLength.value) {\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_big,\n            maximum: def.maxLength.value,\n            type: \"array\",\n            inclusive: true,\n            exact: false,\n            message: def.maxLength.message\n          });\n          status.dirty();\n        }\n      }\n      if (ctx.common.async) {\n        return Promise.all([...ctx.data].map((item, i2) => {\n          return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i2));\n        })).then((result2) => {\n          return ParseStatus.mergeArray(status, result2);\n        });\n      }\n      const result = [...ctx.data].map((item, i2) => {\n        return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i2));\n      });\n      return ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n      return this._def.type;\n    }\n    min(minLength, message) {\n      return new ZodArray({\n        ...this._def,\n        minLength: { value: minLength, message: errorUtil.toString(message) }\n      });\n    }\n    max(maxLength, message) {\n      return new ZodArray({\n        ...this._def,\n        maxLength: { value: maxLength, message: errorUtil.toString(message) }\n      });\n    }\n    length(len, message) {\n      return new ZodArray({\n        ...this._def,\n        exactLength: { value: len, message: errorUtil.toString(message) }\n      });\n    }\n    nonempty(message) {\n      return this.min(1, message);\n    }\n  }\n  ZodArray.create = (schema, params) => {\n    return new ZodArray({\n      type: schema,\n      minLength: null,\n      maxLength: null,\n      exactLength: null,\n      typeName: ZodFirstPartyTypeKind.ZodArray,\n      ...processCreateParams(params)\n    });\n  };\n  function deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n      const newShape = {};\n      for (const key in schema.shape) {\n        const fieldSchema = schema.shape[key];\n        newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n      }\n      return new ZodObject({\n        ...schema._def,\n        shape: () => newShape\n      });\n    } else if (schema instanceof ZodArray) {\n      return new ZodArray({\n        ...schema._def,\n        type: deepPartialify(schema.element)\n      });\n    } else if (schema instanceof ZodOptional) {\n      return ZodOptional.create(deepPartialify(schema.unwrap()));\n    } else if (schema instanceof ZodNullable) {\n      return ZodNullable.create(deepPartialify(schema.unwrap()));\n    } else if (schema instanceof ZodTuple) {\n      return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    } else {\n      return schema;\n    }\n  }\n  class ZodObject extends ZodType {\n    constructor() {\n      super(...arguments);\n      this._cached = null;\n      this.nonstrict = this.passthrough;\n      this.augment = this.extend;\n    }\n    _getCached() {\n      if (this._cached !== null)\n        return this._cached;\n      const shape = this._def.shape();\n      const keys = util.objectKeys(shape);\n      return this._cached = { shape, keys };\n    }\n    _parse(input) {\n      const parsedType = this._getType(input);\n      if (parsedType !== ZodParsedType.object) {\n        const ctx2 = this._getOrReturnCtx(input);\n        addIssueToContext(ctx2, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.object,\n          received: ctx2.parsedType\n        });\n        return INVALID;\n      }\n      const { status, ctx } = this._processInputParams(input);\n      const { shape, keys: shapeKeys } = this._getCached();\n      const extraKeys = [];\n      if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === \"strip\")) {\n        for (const key in ctx.data) {\n          if (!shapeKeys.includes(key)) {\n            extraKeys.push(key);\n          }\n        }\n      }\n      const pairs = [];\n      for (const key of shapeKeys) {\n        const keyValidator = shape[key];\n        const value = ctx.data[key];\n        pairs.push({\n          key: { status: \"valid\", value: key },\n          value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n          alwaysSet: key in ctx.data\n        });\n      }\n      if (this._def.catchall instanceof ZodNever) {\n        const unknownKeys = this._def.unknownKeys;\n        if (unknownKeys === \"passthrough\") {\n          for (const key of extraKeys) {\n            pairs.push({\n              key: { status: \"valid\", value: key },\n              value: { status: \"valid\", value: ctx.data[key] }\n            });\n          }\n        } else if (unknownKeys === \"strict\") {\n          if (extraKeys.length > 0) {\n            addIssueToContext(ctx, {\n              code: ZodIssueCode.unrecognized_keys,\n              keys: extraKeys\n            });\n            status.dirty();\n          }\n        } else if (unknownKeys === \"strip\") ;\n        else {\n          throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n        }\n      } else {\n        const catchall = this._def.catchall;\n        for (const key of extraKeys) {\n          const value = ctx.data[key];\n          pairs.push({\n            key: { status: \"valid\", value: key },\n            value: catchall._parse(\n              new ParseInputLazyPath(ctx, value, ctx.path, key)\n              //, ctx.child(key), value, getParsedType(value)\n            ),\n            alwaysSet: key in ctx.data\n          });\n        }\n      }\n      if (ctx.common.async) {\n        return Promise.resolve().then(async () => {\n          const syncPairs = [];\n          for (const pair of pairs) {\n            const key = await pair.key;\n            const value = await pair.value;\n            syncPairs.push({\n              key,\n              value,\n              alwaysSet: pair.alwaysSet\n            });\n          }\n          return syncPairs;\n        }).then((syncPairs) => {\n          return ParseStatus.mergeObjectSync(status, syncPairs);\n        });\n      } else {\n        return ParseStatus.mergeObjectSync(status, pairs);\n      }\n    }\n    get shape() {\n      return this._def.shape();\n    }\n    strict(message) {\n      errorUtil.errToObj;\n      return new ZodObject({\n        ...this._def,\n        unknownKeys: \"strict\",\n        ...message !== void 0 ? {\n          errorMap: (issue, ctx) => {\n            var _a, _b, _c, _d;\n            const defaultError = (_c = (_b = (_a = this._def).errorMap) === null || _b === void 0 ? void 0 : _b.call(_a, issue, ctx).message) !== null && _c !== void 0 ? _c : ctx.defaultError;\n            if (issue.code === \"unrecognized_keys\")\n              return {\n                message: (_d = errorUtil.errToObj(message).message) !== null && _d !== void 0 ? _d : defaultError\n              };\n            return {\n              message: defaultError\n            };\n          }\n        } : {}\n      });\n    }\n    strip() {\n      return new ZodObject({\n        ...this._def,\n        unknownKeys: \"strip\"\n      });\n    }\n    passthrough() {\n      return new ZodObject({\n        ...this._def,\n        unknownKeys: \"passthrough\"\n      });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n      return new ZodObject({\n        ...this._def,\n        shape: () => ({\n          ...this._def.shape(),\n          ...augmentation\n        })\n      });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n      const merged = new ZodObject({\n        unknownKeys: merging._def.unknownKeys,\n        catchall: merging._def.catchall,\n        shape: () => ({\n          ...this._def.shape(),\n          ...merging._def.shape()\n        }),\n        typeName: ZodFirstPartyTypeKind.ZodObject\n      });\n      return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n      return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index2) {\n      return new ZodObject({\n        ...this._def,\n        catchall: index2\n      });\n    }\n    pick(mask) {\n      const shape = {};\n      util.objectKeys(mask).forEach((key) => {\n        if (mask[key] && this.shape[key]) {\n          shape[key] = this.shape[key];\n        }\n      });\n      return new ZodObject({\n        ...this._def,\n        shape: () => shape\n      });\n    }\n    omit(mask) {\n      const shape = {};\n      util.objectKeys(this.shape).forEach((key) => {\n        if (!mask[key]) {\n          shape[key] = this.shape[key];\n        }\n      });\n      return new ZodObject({\n        ...this._def,\n        shape: () => shape\n      });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n      return deepPartialify(this);\n    }\n    partial(mask) {\n      const newShape = {};\n      util.objectKeys(this.shape).forEach((key) => {\n        const fieldSchema = this.shape[key];\n        if (mask && !mask[key]) {\n          newShape[key] = fieldSchema;\n        } else {\n          newShape[key] = fieldSchema.optional();\n        }\n      });\n      return new ZodObject({\n        ...this._def,\n        shape: () => newShape\n      });\n    }\n    required(mask) {\n      const newShape = {};\n      util.objectKeys(this.shape).forEach((key) => {\n        if (mask && !mask[key]) {\n          newShape[key] = this.shape[key];\n        } else {\n          const fieldSchema = this.shape[key];\n          let newField = fieldSchema;\n          while (newField instanceof ZodOptional) {\n            newField = newField._def.innerType;\n          }\n          newShape[key] = newField;\n        }\n      });\n      return new ZodObject({\n        ...this._def,\n        shape: () => newShape\n      });\n    }\n    keyof() {\n      return createZodEnum(util.objectKeys(this.shape));\n    }\n  }\n  ZodObject.create = (shape, params) => {\n    return new ZodObject({\n      shape: () => shape,\n      unknownKeys: \"strip\",\n      catchall: ZodNever.create(),\n      typeName: ZodFirstPartyTypeKind.ZodObject,\n      ...processCreateParams(params)\n    });\n  };\n  ZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n      shape: () => shape,\n      unknownKeys: \"strict\",\n      catchall: ZodNever.create(),\n      typeName: ZodFirstPartyTypeKind.ZodObject,\n      ...processCreateParams(params)\n    });\n  };\n  ZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n      shape,\n      unknownKeys: \"strip\",\n      catchall: ZodNever.create(),\n      typeName: ZodFirstPartyTypeKind.ZodObject,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodUnion extends ZodType {\n    _parse(input) {\n      const { ctx } = this._processInputParams(input);\n      const options = this._def.options;\n      function handleResults(results) {\n        for (const result of results) {\n          if (result.result.status === \"valid\") {\n            return result.result;\n          }\n        }\n        for (const result of results) {\n          if (result.result.status === \"dirty\") {\n            ctx.common.issues.push(...result.ctx.common.issues);\n            return result.result;\n          }\n        }\n        const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_union,\n          unionErrors\n        });\n        return INVALID;\n      }\n      if (ctx.common.async) {\n        return Promise.all(options.map(async (option) => {\n          const childCtx = {\n            ...ctx,\n            common: {\n              ...ctx.common,\n              issues: []\n            },\n            parent: null\n          };\n          return {\n            result: await option._parseAsync({\n              data: ctx.data,\n              path: ctx.path,\n              parent: childCtx\n            }),\n            ctx: childCtx\n          };\n        })).then(handleResults);\n      } else {\n        let dirty = void 0;\n        const issues = [];\n        for (const option of options) {\n          const childCtx = {\n            ...ctx,\n            common: {\n              ...ctx.common,\n              issues: []\n            },\n            parent: null\n          };\n          const result = option._parseSync({\n            data: ctx.data,\n            path: ctx.path,\n            parent: childCtx\n          });\n          if (result.status === \"valid\") {\n            return result;\n          } else if (result.status === \"dirty\" && !dirty) {\n            dirty = { result, ctx: childCtx };\n          }\n          if (childCtx.common.issues.length) {\n            issues.push(childCtx.common.issues);\n          }\n        }\n        if (dirty) {\n          ctx.common.issues.push(...dirty.ctx.common.issues);\n          return dirty.result;\n        }\n        const unionErrors = issues.map((issues2) => new ZodError(issues2));\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_union,\n          unionErrors\n        });\n        return INVALID;\n      }\n    }\n    get options() {\n      return this._def.options;\n    }\n  }\n  ZodUnion.create = (types, params) => {\n    return new ZodUnion({\n      options: types,\n      typeName: ZodFirstPartyTypeKind.ZodUnion,\n      ...processCreateParams(params)\n    });\n  };\n  const getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n      return getDiscriminator(type.schema);\n    } else if (type instanceof ZodEffects) {\n      return getDiscriminator(type.innerType());\n    } else if (type instanceof ZodLiteral) {\n      return [type.value];\n    } else if (type instanceof ZodEnum) {\n      return type.options;\n    } else if (type instanceof ZodNativeEnum) {\n      return util.objectValues(type.enum);\n    } else if (type instanceof ZodDefault) {\n      return getDiscriminator(type._def.innerType);\n    } else if (type instanceof ZodUndefined) {\n      return [void 0];\n    } else if (type instanceof ZodNull) {\n      return [null];\n    } else if (type instanceof ZodOptional) {\n      return [void 0, ...getDiscriminator(type.unwrap())];\n    } else if (type instanceof ZodNullable) {\n      return [null, ...getDiscriminator(type.unwrap())];\n    } else if (type instanceof ZodBranded) {\n      return getDiscriminator(type.unwrap());\n    } else if (type instanceof ZodReadonly) {\n      return getDiscriminator(type.unwrap());\n    } else if (type instanceof ZodCatch) {\n      return getDiscriminator(type._def.innerType);\n    } else {\n      return [];\n    }\n  };\n  class ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n      const { ctx } = this._processInputParams(input);\n      if (ctx.parsedType !== ZodParsedType.object) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.object,\n          received: ctx.parsedType\n        });\n        return INVALID;\n      }\n      const discriminator = this.discriminator;\n      const discriminatorValue = ctx.data[discriminator];\n      const option = this.optionsMap.get(discriminatorValue);\n      if (!option) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_union_discriminator,\n          options: Array.from(this.optionsMap.keys()),\n          path: [discriminator]\n        });\n        return INVALID;\n      }\n      if (ctx.common.async) {\n        return option._parseAsync({\n          data: ctx.data,\n          path: ctx.path,\n          parent: ctx\n        });\n      } else {\n        return option._parseSync({\n          data: ctx.data,\n          path: ctx.path,\n          parent: ctx\n        });\n      }\n    }\n    get discriminator() {\n      return this._def.discriminator;\n    }\n    get options() {\n      return this._def.options;\n    }\n    get optionsMap() {\n      return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n      const optionsMap = /* @__PURE__ */ new Map();\n      for (const type of options) {\n        const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n        if (!discriminatorValues.length) {\n          throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n        }\n        for (const value of discriminatorValues) {\n          if (optionsMap.has(value)) {\n            throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n          }\n          optionsMap.set(value, type);\n        }\n      }\n      return new ZodDiscriminatedUnion({\n        typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n        discriminator,\n        options,\n        optionsMap,\n        ...processCreateParams(params)\n      });\n    }\n  }\n  function mergeValues(a2, b2) {\n    const aType = getParsedType(a2);\n    const bType = getParsedType(b2);\n    if (a2 === b2) {\n      return { valid: true, data: a2 };\n    } else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n      const bKeys = util.objectKeys(b2);\n      const sharedKeys = util.objectKeys(a2).filter((key) => bKeys.indexOf(key) !== -1);\n      const newObj = { ...a2, ...b2 };\n      for (const key of sharedKeys) {\n        const sharedValue = mergeValues(a2[key], b2[key]);\n        if (!sharedValue.valid) {\n          return { valid: false };\n        }\n        newObj[key] = sharedValue.data;\n      }\n      return { valid: true, data: newObj };\n    } else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n      if (a2.length !== b2.length) {\n        return { valid: false };\n      }\n      const newArray = [];\n      for (let index2 = 0; index2 < a2.length; index2++) {\n        const itemA = a2[index2];\n        const itemB = b2[index2];\n        const sharedValue = mergeValues(itemA, itemB);\n        if (!sharedValue.valid) {\n          return { valid: false };\n        }\n        newArray.push(sharedValue.data);\n      }\n      return { valid: true, data: newArray };\n    } else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a2 === +b2) {\n      return { valid: true, data: a2 };\n    } else {\n      return { valid: false };\n    }\n  }\n  class ZodIntersection extends ZodType {\n    _parse(input) {\n      const { status, ctx } = this._processInputParams(input);\n      const handleParsed = (parsedLeft, parsedRight) => {\n        if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n          return INVALID;\n        }\n        const merged = mergeValues(parsedLeft.value, parsedRight.value);\n        if (!merged.valid) {\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_intersection_types\n          });\n          return INVALID;\n        }\n        if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n          status.dirty();\n        }\n        return { status: status.value, value: merged.data };\n      };\n      if (ctx.common.async) {\n        return Promise.all([\n          this._def.left._parseAsync({\n            data: ctx.data,\n            path: ctx.path,\n            parent: ctx\n          }),\n          this._def.right._parseAsync({\n            data: ctx.data,\n            path: ctx.path,\n            parent: ctx\n          })\n        ]).then(([left, right]) => handleParsed(left, right));\n      } else {\n        return handleParsed(this._def.left._parseSync({\n          data: ctx.data,\n          path: ctx.path,\n          parent: ctx\n        }), this._def.right._parseSync({\n          data: ctx.data,\n          path: ctx.path,\n          parent: ctx\n        }));\n      }\n    }\n  }\n  ZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n      left,\n      right,\n      typeName: ZodFirstPartyTypeKind.ZodIntersection,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodTuple extends ZodType {\n    _parse(input) {\n      const { status, ctx } = this._processInputParams(input);\n      if (ctx.parsedType !== ZodParsedType.array) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.array,\n          received: ctx.parsedType\n        });\n        return INVALID;\n      }\n      if (ctx.data.length < this._def.items.length) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.too_small,\n          minimum: this._def.items.length,\n          inclusive: true,\n          exact: false,\n          type: \"array\"\n        });\n        return INVALID;\n      }\n      const rest = this._def.rest;\n      if (!rest && ctx.data.length > this._def.items.length) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.too_big,\n          maximum: this._def.items.length,\n          inclusive: true,\n          exact: false,\n          type: \"array\"\n        });\n        status.dirty();\n      }\n      const items = [...ctx.data].map((item, itemIndex) => {\n        const schema = this._def.items[itemIndex] || this._def.rest;\n        if (!schema)\n          return null;\n        return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n      }).filter((x2) => !!x2);\n      if (ctx.common.async) {\n        return Promise.all(items).then((results) => {\n          return ParseStatus.mergeArray(status, results);\n        });\n      } else {\n        return ParseStatus.mergeArray(status, items);\n      }\n    }\n    get items() {\n      return this._def.items;\n    }\n    rest(rest) {\n      return new ZodTuple({\n        ...this._def,\n        rest\n      });\n    }\n  }\n  ZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n      throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n      items: schemas,\n      typeName: ZodFirstPartyTypeKind.ZodTuple,\n      rest: null,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodRecord extends ZodType {\n    get keySchema() {\n      return this._def.keyType;\n    }\n    get valueSchema() {\n      return this._def.valueType;\n    }\n    _parse(input) {\n      const { status, ctx } = this._processInputParams(input);\n      if (ctx.parsedType !== ZodParsedType.object) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.object,\n          received: ctx.parsedType\n        });\n        return INVALID;\n      }\n      const pairs = [];\n      const keyType = this._def.keyType;\n      const valueType = this._def.valueType;\n      for (const key in ctx.data) {\n        pairs.push({\n          key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n          value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n          alwaysSet: key in ctx.data\n        });\n      }\n      if (ctx.common.async) {\n        return ParseStatus.mergeObjectAsync(status, pairs);\n      } else {\n        return ParseStatus.mergeObjectSync(status, pairs);\n      }\n    }\n    get element() {\n      return this._def.valueType;\n    }\n    static create(first, second, third) {\n      if (second instanceof ZodType) {\n        return new ZodRecord({\n          keyType: first,\n          valueType: second,\n          typeName: ZodFirstPartyTypeKind.ZodRecord,\n          ...processCreateParams(third)\n        });\n      }\n      return new ZodRecord({\n        keyType: ZodString.create(),\n        valueType: first,\n        typeName: ZodFirstPartyTypeKind.ZodRecord,\n        ...processCreateParams(second)\n      });\n    }\n  }\n  class ZodMap extends ZodType {\n    get keySchema() {\n      return this._def.keyType;\n    }\n    get valueSchema() {\n      return this._def.valueType;\n    }\n    _parse(input) {\n      const { status, ctx } = this._processInputParams(input);\n      if (ctx.parsedType !== ZodParsedType.map) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.map,\n          received: ctx.parsedType\n        });\n        return INVALID;\n      }\n      const keyType = this._def.keyType;\n      const valueType = this._def.valueType;\n      const pairs = [...ctx.data.entries()].map(([key, value], index2) => {\n        return {\n          key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index2, \"key\"])),\n          value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index2, \"value\"]))\n        };\n      });\n      if (ctx.common.async) {\n        const finalMap = /* @__PURE__ */ new Map();\n        return Promise.resolve().then(async () => {\n          for (const pair of pairs) {\n            const key = await pair.key;\n            const value = await pair.value;\n            if (key.status === \"aborted\" || value.status === \"aborted\") {\n              return INVALID;\n            }\n            if (key.status === \"dirty\" || value.status === \"dirty\") {\n              status.dirty();\n            }\n            finalMap.set(key.value, value.value);\n          }\n          return { status: status.value, value: finalMap };\n        });\n      } else {\n        const finalMap = /* @__PURE__ */ new Map();\n        for (const pair of pairs) {\n          const key = pair.key;\n          const value = pair.value;\n          if (key.status === \"aborted\" || value.status === \"aborted\") {\n            return INVALID;\n          }\n          if (key.status === \"dirty\" || value.status === \"dirty\") {\n            status.dirty();\n          }\n          finalMap.set(key.value, value.value);\n        }\n        return { status: status.value, value: finalMap };\n      }\n    }\n  }\n  ZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n      valueType,\n      keyType,\n      typeName: ZodFirstPartyTypeKind.ZodMap,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodSet extends ZodType {\n    _parse(input) {\n      const { status, ctx } = this._processInputParams(input);\n      if (ctx.parsedType !== ZodParsedType.set) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.set,\n          received: ctx.parsedType\n        });\n        return INVALID;\n      }\n      const def = this._def;\n      if (def.minSize !== null) {\n        if (ctx.data.size < def.minSize.value) {\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_small,\n            minimum: def.minSize.value,\n            type: \"set\",\n            inclusive: true,\n            exact: false,\n            message: def.minSize.message\n          });\n          status.dirty();\n        }\n      }\n      if (def.maxSize !== null) {\n        if (ctx.data.size > def.maxSize.value) {\n          addIssueToContext(ctx, {\n            code: ZodIssueCode.too_big,\n            maximum: def.maxSize.value,\n            type: \"set\",\n            inclusive: true,\n            exact: false,\n            message: def.maxSize.message\n          });\n          status.dirty();\n        }\n      }\n      const valueType = this._def.valueType;\n      function finalizeSet(elements2) {\n        const parsedSet = /* @__PURE__ */ new Set();\n        for (const element of elements2) {\n          if (element.status === \"aborted\")\n            return INVALID;\n          if (element.status === \"dirty\")\n            status.dirty();\n          parsedSet.add(element.value);\n        }\n        return { status: status.value, value: parsedSet };\n      }\n      const elements = [...ctx.data.values()].map((item, i2) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i2)));\n      if (ctx.common.async) {\n        return Promise.all(elements).then((elements2) => finalizeSet(elements2));\n      } else {\n        return finalizeSet(elements);\n      }\n    }\n    min(minSize, message) {\n      return new ZodSet({\n        ...this._def,\n        minSize: { value: minSize, message: errorUtil.toString(message) }\n      });\n    }\n    max(maxSize, message) {\n      return new ZodSet({\n        ...this._def,\n        maxSize: { value: maxSize, message: errorUtil.toString(message) }\n      });\n    }\n    size(size2, message) {\n      return this.min(size2, message).max(size2, message);\n    }\n    nonempty(message) {\n      return this.min(1, message);\n    }\n  }\n  ZodSet.create = (valueType, params) => {\n    return new ZodSet({\n      valueType,\n      minSize: null,\n      maxSize: null,\n      typeName: ZodFirstPartyTypeKind.ZodSet,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodFunction extends ZodType {\n    constructor() {\n      super(...arguments);\n      this.validate = this.implement;\n    }\n    _parse(input) {\n      const { ctx } = this._processInputParams(input);\n      if (ctx.parsedType !== ZodParsedType.function) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.function,\n          received: ctx.parsedType\n        });\n        return INVALID;\n      }\n      function makeArgsIssue(args, error2) {\n        return makeIssue({\n          data: args,\n          path: ctx.path,\n          errorMaps: [\n            ctx.common.contextualErrorMap,\n            ctx.schemaErrorMap,\n            getErrorMap(),\n            errorMap\n          ].filter((x2) => !!x2),\n          issueData: {\n            code: ZodIssueCode.invalid_arguments,\n            argumentsError: error2\n          }\n        });\n      }\n      function makeReturnsIssue(returns, error2) {\n        return makeIssue({\n          data: returns,\n          path: ctx.path,\n          errorMaps: [\n            ctx.common.contextualErrorMap,\n            ctx.schemaErrorMap,\n            getErrorMap(),\n            errorMap\n          ].filter((x2) => !!x2),\n          issueData: {\n            code: ZodIssueCode.invalid_return_type,\n            returnTypeError: error2\n          }\n        });\n      }\n      const params = { errorMap: ctx.common.contextualErrorMap };\n      const fn2 = ctx.data;\n      if (this._def.returns instanceof ZodPromise) {\n        const me = this;\n        return OK(async function(...args) {\n          const error2 = new ZodError([]);\n          const parsedArgs = await me._def.args.parseAsync(args, params).catch((e2) => {\n            error2.addIssue(makeArgsIssue(args, e2));\n            throw error2;\n          });\n          const result = await Reflect.apply(fn2, this, parsedArgs);\n          const parsedReturns = await me._def.returns._def.type.parseAsync(result, params).catch((e2) => {\n            error2.addIssue(makeReturnsIssue(result, e2));\n            throw error2;\n          });\n          return parsedReturns;\n        });\n      } else {\n        const me = this;\n        return OK(function(...args) {\n          const parsedArgs = me._def.args.safeParse(args, params);\n          if (!parsedArgs.success) {\n            throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n          }\n          const result = Reflect.apply(fn2, this, parsedArgs.data);\n          const parsedReturns = me._def.returns.safeParse(result, params);\n          if (!parsedReturns.success) {\n            throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n          }\n          return parsedReturns.data;\n        });\n      }\n    }\n    parameters() {\n      return this._def.args;\n    }\n    returnType() {\n      return this._def.returns;\n    }\n    args(...items) {\n      return new ZodFunction({\n        ...this._def,\n        args: ZodTuple.create(items).rest(ZodUnknown.create())\n      });\n    }\n    returns(returnType) {\n      return new ZodFunction({\n        ...this._def,\n        returns: returnType\n      });\n    }\n    implement(func) {\n      const validatedFunc = this.parse(func);\n      return validatedFunc;\n    }\n    strictImplement(func) {\n      const validatedFunc = this.parse(func);\n      return validatedFunc;\n    }\n    static create(args, returns, params) {\n      return new ZodFunction({\n        args: args ? args : ZodTuple.create([]).rest(ZodUnknown.create()),\n        returns: returns || ZodUnknown.create(),\n        typeName: ZodFirstPartyTypeKind.ZodFunction,\n        ...processCreateParams(params)\n      });\n    }\n  }\n  class ZodLazy extends ZodType {\n    get schema() {\n      return this._def.getter();\n    }\n    _parse(input) {\n      const { ctx } = this._processInputParams(input);\n      const lazySchema = this._def.getter();\n      return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n  }\n  ZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n      getter,\n      typeName: ZodFirstPartyTypeKind.ZodLazy,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodLiteral extends ZodType {\n    _parse(input) {\n      if (input.data !== this._def.value) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n          received: ctx.data,\n          code: ZodIssueCode.invalid_literal,\n          expected: this._def.value\n        });\n        return INVALID;\n      }\n      return { status: \"valid\", value: input.data };\n    }\n    get value() {\n      return this._def.value;\n    }\n  }\n  ZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n      value,\n      typeName: ZodFirstPartyTypeKind.ZodLiteral,\n      ...processCreateParams(params)\n    });\n  };\n  function createZodEnum(values, params) {\n    return new ZodEnum({\n      values,\n      typeName: ZodFirstPartyTypeKind.ZodEnum,\n      ...processCreateParams(params)\n    });\n  }\n  class ZodEnum extends ZodType {\n    constructor() {\n      super(...arguments);\n      _ZodEnum_cache.set(this, void 0);\n    }\n    _parse(input) {\n      if (typeof input.data !== \"string\") {\n        const ctx = this._getOrReturnCtx(input);\n        const expectedValues = this._def.values;\n        addIssueToContext(ctx, {\n          expected: util.joinValues(expectedValues),\n          received: ctx.parsedType,\n          code: ZodIssueCode.invalid_type\n        });\n        return INVALID;\n      }\n      if (!__classPrivateFieldGet(this, _ZodEnum_cache)) {\n        __classPrivateFieldSet(this, _ZodEnum_cache, new Set(this._def.values));\n      }\n      if (!__classPrivateFieldGet(this, _ZodEnum_cache).has(input.data)) {\n        const ctx = this._getOrReturnCtx(input);\n        const expectedValues = this._def.values;\n        addIssueToContext(ctx, {\n          received: ctx.data,\n          code: ZodIssueCode.invalid_enum_value,\n          options: expectedValues\n        });\n        return INVALID;\n      }\n      return OK(input.data);\n    }\n    get options() {\n      return this._def.values;\n    }\n    get enum() {\n      const enumValues = {};\n      for (const val of this._def.values) {\n        enumValues[val] = val;\n      }\n      return enumValues;\n    }\n    get Values() {\n      const enumValues = {};\n      for (const val of this._def.values) {\n        enumValues[val] = val;\n      }\n      return enumValues;\n    }\n    get Enum() {\n      const enumValues = {};\n      for (const val of this._def.values) {\n        enumValues[val] = val;\n      }\n      return enumValues;\n    }\n    extract(values, newDef = this._def) {\n      return ZodEnum.create(values, {\n        ...this._def,\n        ...newDef\n      });\n    }\n    exclude(values, newDef = this._def) {\n      return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n        ...this._def,\n        ...newDef\n      });\n    }\n  }\n  _ZodEnum_cache = /* @__PURE__ */ new WeakMap();\n  ZodEnum.create = createZodEnum;\n  class ZodNativeEnum extends ZodType {\n    constructor() {\n      super(...arguments);\n      _ZodNativeEnum_cache.set(this, void 0);\n    }\n    _parse(input) {\n      const nativeEnumValues = util.getValidEnumValues(this._def.values);\n      const ctx = this._getOrReturnCtx(input);\n      if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {\n        const expectedValues = util.objectValues(nativeEnumValues);\n        addIssueToContext(ctx, {\n          expected: util.joinValues(expectedValues),\n          received: ctx.parsedType,\n          code: ZodIssueCode.invalid_type\n        });\n        return INVALID;\n      }\n      if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache)) {\n        __classPrivateFieldSet(this, _ZodNativeEnum_cache, new Set(util.getValidEnumValues(this._def.values)));\n      }\n      if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache).has(input.data)) {\n        const expectedValues = util.objectValues(nativeEnumValues);\n        addIssueToContext(ctx, {\n          received: ctx.data,\n          code: ZodIssueCode.invalid_enum_value,\n          options: expectedValues\n        });\n        return INVALID;\n      }\n      return OK(input.data);\n    }\n    get enum() {\n      return this._def.values;\n    }\n  }\n  _ZodNativeEnum_cache = /* @__PURE__ */ new WeakMap();\n  ZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n      values,\n      typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodPromise extends ZodType {\n    unwrap() {\n      return this._def.type;\n    }\n    _parse(input) {\n      const { ctx } = this._processInputParams(input);\n      if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.promise,\n          received: ctx.parsedType\n        });\n        return INVALID;\n      }\n      const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);\n      return OK(promisified.then((data) => {\n        return this._def.type.parseAsync(data, {\n          path: ctx.path,\n          errorMap: ctx.common.contextualErrorMap\n        });\n      }));\n    }\n  }\n  ZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n      type: schema,\n      typeName: ZodFirstPartyTypeKind.ZodPromise,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodEffects extends ZodType {\n    innerType() {\n      return this._def.schema;\n    }\n    sourceType() {\n      return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects ? this._def.schema.sourceType() : this._def.schema;\n    }\n    _parse(input) {\n      const { status, ctx } = this._processInputParams(input);\n      const effect = this._def.effect || null;\n      const checkCtx = {\n        addIssue: (arg) => {\n          addIssueToContext(ctx, arg);\n          if (arg.fatal) {\n            status.abort();\n          } else {\n            status.dirty();\n          }\n        },\n        get path() {\n          return ctx.path;\n        }\n      };\n      checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n      if (effect.type === \"preprocess\") {\n        const processed = effect.transform(ctx.data, checkCtx);\n        if (ctx.common.async) {\n          return Promise.resolve(processed).then(async (processed2) => {\n            if (status.value === \"aborted\")\n              return INVALID;\n            const result = await this._def.schema._parseAsync({\n              data: processed2,\n              path: ctx.path,\n              parent: ctx\n            });\n            if (result.status === \"aborted\")\n              return INVALID;\n            if (result.status === \"dirty\")\n              return DIRTY(result.value);\n            if (status.value === \"dirty\")\n              return DIRTY(result.value);\n            return result;\n          });\n        } else {\n          if (status.value === \"aborted\")\n            return INVALID;\n          const result = this._def.schema._parseSync({\n            data: processed,\n            path: ctx.path,\n            parent: ctx\n          });\n          if (result.status === \"aborted\")\n            return INVALID;\n          if (result.status === \"dirty\")\n            return DIRTY(result.value);\n          if (status.value === \"dirty\")\n            return DIRTY(result.value);\n          return result;\n        }\n      }\n      if (effect.type === \"refinement\") {\n        const executeRefinement = (acc) => {\n          const result = effect.refinement(acc, checkCtx);\n          if (ctx.common.async) {\n            return Promise.resolve(result);\n          }\n          if (result instanceof Promise) {\n            throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n          }\n          return acc;\n        };\n        if (ctx.common.async === false) {\n          const inner2 = this._def.schema._parseSync({\n            data: ctx.data,\n            path: ctx.path,\n            parent: ctx\n          });\n          if (inner2.status === \"aborted\")\n            return INVALID;\n          if (inner2.status === \"dirty\")\n            status.dirty();\n          executeRefinement(inner2.value);\n          return { status: status.value, value: inner2.value };\n        } else {\n          return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner2) => {\n            if (inner2.status === \"aborted\")\n              return INVALID;\n            if (inner2.status === \"dirty\")\n              status.dirty();\n            return executeRefinement(inner2.value).then(() => {\n              return { status: status.value, value: inner2.value };\n            });\n          });\n        }\n      }\n      if (effect.type === \"transform\") {\n        if (ctx.common.async === false) {\n          const base = this._def.schema._parseSync({\n            data: ctx.data,\n            path: ctx.path,\n            parent: ctx\n          });\n          if (!isValid(base))\n            return base;\n          const result = effect.transform(base.value, checkCtx);\n          if (result instanceof Promise) {\n            throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n          }\n          return { status: status.value, value: result };\n        } else {\n          return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {\n            if (!isValid(base))\n              return base;\n            return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({ status: status.value, value: result }));\n          });\n        }\n      }\n      util.assertNever(effect);\n    }\n  }\n  ZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n      schema,\n      typeName: ZodFirstPartyTypeKind.ZodEffects,\n      effect,\n      ...processCreateParams(params)\n    });\n  };\n  ZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n      schema,\n      effect: { type: \"preprocess\", transform: preprocess },\n      typeName: ZodFirstPartyTypeKind.ZodEffects,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodOptional extends ZodType {\n    _parse(input) {\n      const parsedType = this._getType(input);\n      if (parsedType === ZodParsedType.undefined) {\n        return OK(void 0);\n      }\n      return this._def.innerType._parse(input);\n    }\n    unwrap() {\n      return this._def.innerType;\n    }\n  }\n  ZodOptional.create = (type, params) => {\n    return new ZodOptional({\n      innerType: type,\n      typeName: ZodFirstPartyTypeKind.ZodOptional,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodNullable extends ZodType {\n    _parse(input) {\n      const parsedType = this._getType(input);\n      if (parsedType === ZodParsedType.null) {\n        return OK(null);\n      }\n      return this._def.innerType._parse(input);\n    }\n    unwrap() {\n      return this._def.innerType;\n    }\n  }\n  ZodNullable.create = (type, params) => {\n    return new ZodNullable({\n      innerType: type,\n      typeName: ZodFirstPartyTypeKind.ZodNullable,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodDefault extends ZodType {\n    _parse(input) {\n      const { ctx } = this._processInputParams(input);\n      let data = ctx.data;\n      if (ctx.parsedType === ZodParsedType.undefined) {\n        data = this._def.defaultValue();\n      }\n      return this._def.innerType._parse({\n        data,\n        path: ctx.path,\n        parent: ctx\n      });\n    }\n    removeDefault() {\n      return this._def.innerType;\n    }\n  }\n  ZodDefault.create = (type, params) => {\n    return new ZodDefault({\n      innerType: type,\n      typeName: ZodFirstPartyTypeKind.ZodDefault,\n      defaultValue: typeof params.default === \"function\" ? params.default : () => params.default,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodCatch extends ZodType {\n    _parse(input) {\n      const { ctx } = this._processInputParams(input);\n      const newCtx = {\n        ...ctx,\n        common: {\n          ...ctx.common,\n          issues: []\n        }\n      };\n      const result = this._def.innerType._parse({\n        data: newCtx.data,\n        path: newCtx.path,\n        parent: {\n          ...newCtx\n        }\n      });\n      if (isAsync(result)) {\n        return result.then((result2) => {\n          return {\n            status: \"valid\",\n            value: result2.status === \"valid\" ? result2.value : this._def.catchValue({\n              get error() {\n                return new ZodError(newCtx.common.issues);\n              },\n              input: newCtx.data\n            })\n          };\n        });\n      } else {\n        return {\n          status: \"valid\",\n          value: result.status === \"valid\" ? result.value : this._def.catchValue({\n            get error() {\n              return new ZodError(newCtx.common.issues);\n            },\n            input: newCtx.data\n          })\n        };\n      }\n    }\n    removeCatch() {\n      return this._def.innerType;\n    }\n  }\n  ZodCatch.create = (type, params) => {\n    return new ZodCatch({\n      innerType: type,\n      typeName: ZodFirstPartyTypeKind.ZodCatch,\n      catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n      ...processCreateParams(params)\n    });\n  };\n  class ZodNaN extends ZodType {\n    _parse(input) {\n      const parsedType = this._getType(input);\n      if (parsedType !== ZodParsedType.nan) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n          code: ZodIssueCode.invalid_type,\n          expected: ZodParsedType.nan,\n          received: ctx.parsedType\n        });\n        return INVALID;\n      }\n      return { status: \"valid\", value: input.data };\n    }\n  }\n  ZodNaN.create = (params) => {\n    return new ZodNaN({\n      typeName: ZodFirstPartyTypeKind.ZodNaN,\n      ...processCreateParams(params)\n    });\n  };\n  const BRAND = Symbol(\"zod_brand\");\n  class ZodBranded extends ZodType {\n    _parse(input) {\n      const { ctx } = this._processInputParams(input);\n      const data = ctx.data;\n      return this._def.type._parse({\n        data,\n        path: ctx.path,\n        parent: ctx\n      });\n    }\n    unwrap() {\n      return this._def.type;\n    }\n  }\n  class ZodPipeline extends ZodType {\n    _parse(input) {\n      const { status, ctx } = this._processInputParams(input);\n      if (ctx.common.async) {\n        const handleAsync = async () => {\n          const inResult = await this._def.in._parseAsync({\n            data: ctx.data,\n            path: ctx.path,\n            parent: ctx\n          });\n          if (inResult.status === \"aborted\")\n            return INVALID;\n          if (inResult.status === \"dirty\") {\n            status.dirty();\n            return DIRTY(inResult.value);\n          } else {\n            return this._def.out._parseAsync({\n              data: inResult.value,\n              path: ctx.path,\n              parent: ctx\n            });\n          }\n        };\n        return handleAsync();\n      } else {\n        const inResult = this._def.in._parseSync({\n          data: ctx.data,\n          path: ctx.path,\n          parent: ctx\n        });\n        if (inResult.status === \"aborted\")\n          return INVALID;\n        if (inResult.status === \"dirty\") {\n          status.dirty();\n          return {\n            status: \"dirty\",\n            value: inResult.value\n          };\n        } else {\n          return this._def.out._parseSync({\n            data: inResult.value,\n            path: ctx.path,\n            parent: ctx\n          });\n        }\n      }\n    }\n    static create(a2, b2) {\n      return new ZodPipeline({\n        in: a2,\n        out: b2,\n        typeName: ZodFirstPartyTypeKind.ZodPipeline\n      });\n    }\n  }\n  class ZodReadonly extends ZodType {\n    _parse(input) {\n      const result = this._def.innerType._parse(input);\n      const freeze = (data) => {\n        if (isValid(data)) {\n          data.value = Object.freeze(data.value);\n        }\n        return data;\n      };\n      return isAsync(result) ? result.then((data) => freeze(data)) : freeze(result);\n    }\n    unwrap() {\n      return this._def.innerType;\n    }\n  }\n  ZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n      innerType: type,\n      typeName: ZodFirstPartyTypeKind.ZodReadonly,\n      ...processCreateParams(params)\n    });\n  };\n  function cleanParams(params, data) {\n    const p2 = typeof params === \"function\" ? params(data) : typeof params === \"string\" ? { message: params } : params;\n    const p22 = typeof p2 === \"string\" ? { message: p2 } : p2;\n    return p22;\n  }\n  function custom(check, _params = {}, fatal) {\n    if (check)\n      return ZodAny.create().superRefine((data, ctx) => {\n        var _a, _b;\n        const r2 = check(data);\n        if (r2 instanceof Promise) {\n          return r2.then((r3) => {\n            var _a2, _b2;\n            if (!r3) {\n              const params = cleanParams(_params, data);\n              const _fatal = (_b2 = (_a2 = params.fatal) !== null && _a2 !== void 0 ? _a2 : fatal) !== null && _b2 !== void 0 ? _b2 : true;\n              ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n            }\n          });\n        }\n        if (!r2) {\n          const params = cleanParams(_params, data);\n          const _fatal = (_b = (_a = params.fatal) !== null && _a !== void 0 ? _a : fatal) !== null && _b !== void 0 ? _b : true;\n          ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n        }\n        return;\n      });\n    return ZodAny.create();\n  }\n  const late = {\n    object: ZodObject.lazycreate\n  };\n  var ZodFirstPartyTypeKind;\n  (function(ZodFirstPartyTypeKind2) {\n    ZodFirstPartyTypeKind2[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind2[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind2[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind2[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind2[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind2[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind2[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind2[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind2[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind2[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind2[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind2[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind2[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind2[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind2[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind2[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind2[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind2[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind2[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind2[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind2[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind2[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind2[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind2[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind2[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind2[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind2[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind2[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind2[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind2[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind2[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind2[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind2[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind2[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind2[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind2[\"ZodReadonly\"] = \"ZodReadonly\";\n  })(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\n  const instanceOfType = (cls, params = {\n    message: `Input not instance of ${cls.name}`\n  }) => custom((data) => data instanceof cls, params);\n  const stringType = ZodString.create;\n  const numberType = ZodNumber.create;\n  const nanType = ZodNaN.create;\n  const bigIntType = ZodBigInt.create;\n  const booleanType = ZodBoolean.create;\n  const dateType = ZodDate.create;\n  const symbolType = ZodSymbol.create;\n  const undefinedType = ZodUndefined.create;\n  const nullType = ZodNull.create;\n  const anyType = ZodAny.create;\n  const unknownType = ZodUnknown.create;\n  const neverType = ZodNever.create;\n  const voidType = ZodVoid.create;\n  const arrayType = ZodArray.create;\n  const objectType = ZodObject.create;\n  const strictObjectType = ZodObject.strictCreate;\n  const unionType = ZodUnion.create;\n  const discriminatedUnionType = ZodDiscriminatedUnion.create;\n  const intersectionType = ZodIntersection.create;\n  const tupleType = ZodTuple.create;\n  const recordType = ZodRecord.create;\n  const mapType = ZodMap.create;\n  const setType = ZodSet.create;\n  const functionType = ZodFunction.create;\n  const lazyType = ZodLazy.create;\n  const literalType = ZodLiteral.create;\n  const enumType = ZodEnum.create;\n  const nativeEnumType = ZodNativeEnum.create;\n  const promiseType = ZodPromise.create;\n  const effectsType = ZodEffects.create;\n  const optionalType = ZodOptional.create;\n  const nullableType = ZodNullable.create;\n  const preprocessType = ZodEffects.createWithPreprocess;\n  const pipelineType = ZodPipeline.create;\n  const ostring = () => stringType().optional();\n  const onumber = () => numberType().optional();\n  const oboolean = () => booleanType().optional();\n  const coerce = {\n    string: (arg) => ZodString.create({ ...arg, coerce: true }),\n    number: (arg) => ZodNumber.create({ ...arg, coerce: true }),\n    boolean: (arg) => ZodBoolean.create({\n      ...arg,\n      coerce: true\n    }),\n    bigint: (arg) => ZodBigInt.create({ ...arg, coerce: true }),\n    date: (arg) => ZodDate.create({ ...arg, coerce: true })\n  };\n  const NEVER = INVALID;\n  var z = /* @__PURE__ */ Object.freeze({\n    __proto__: null,\n    defaultErrorMap: errorMap,\n    setErrorMap,\n    getErrorMap,\n    makeIssue,\n    EMPTY_PATH,\n    addIssueToContext,\n    ParseStatus,\n    INVALID,\n    DIRTY,\n    OK,\n    isAborted,\n    isDirty,\n    isValid,\n    isAsync,\n    get util() {\n      return util;\n    },\n    get objectUtil() {\n      return objectUtil;\n    },\n    ZodParsedType,\n    getParsedType,\n    ZodType,\n    datetimeRegex,\n    ZodString,\n    ZodNumber,\n    ZodBigInt,\n    ZodBoolean,\n    ZodDate,\n    ZodSymbol,\n    ZodUndefined,\n    ZodNull,\n    ZodAny,\n    ZodUnknown,\n    ZodNever,\n    ZodVoid,\n    ZodArray,\n    ZodObject,\n    ZodUnion,\n    ZodDiscriminatedUnion,\n    ZodIntersection,\n    ZodTuple,\n    ZodRecord,\n    ZodMap,\n    ZodSet,\n    ZodFunction,\n    ZodLazy,\n    ZodLiteral,\n    ZodEnum,\n    ZodNativeEnum,\n    ZodPromise,\n    ZodEffects,\n    ZodTransformer: ZodEffects,\n    ZodOptional,\n    ZodNullable,\n    ZodDefault,\n    ZodCatch,\n    ZodNaN,\n    BRAND,\n    ZodBranded,\n    ZodPipeline,\n    ZodReadonly,\n    custom,\n    Schema: ZodType,\n    ZodSchema: ZodType,\n    late,\n    get ZodFirstPartyTypeKind() {\n      return ZodFirstPartyTypeKind;\n    },\n    coerce,\n    any: anyType,\n    array: arrayType,\n    bigint: bigIntType,\n    boolean: booleanType,\n    date: dateType,\n    discriminatedUnion: discriminatedUnionType,\n    effect: effectsType,\n    \"enum\": enumType,\n    \"function\": functionType,\n    \"instanceof\": instanceOfType,\n    intersection: intersectionType,\n    lazy: lazyType,\n    literal: literalType,\n    map: mapType,\n    nan: nanType,\n    nativeEnum: nativeEnumType,\n    never: neverType,\n    \"null\": nullType,\n    nullable: nullableType,\n    number: numberType,\n    object: objectType,\n    oboolean,\n    onumber,\n    optional: optionalType,\n    ostring,\n    pipeline: pipelineType,\n    preprocess: preprocessType,\n    promise: promiseType,\n    record: recordType,\n    set: setType,\n    strictObject: strictObjectType,\n    string: stringType,\n    symbol: symbolType,\n    transformer: effectsType,\n    tuple: tupleType,\n    \"undefined\": undefinedType,\n    union: unionType,\n    unknown: unknownType,\n    \"void\": voidType,\n    NEVER,\n    ZodIssueCode,\n    quotelessJson,\n    ZodError\n  });\n  var DEFAULT_PORT = 5746;\n  var PING_ENDPOINT = \"/ping/stagewise\";\n  var PING_RESPONSE = \"stagewise\";\n  var contract = createBridgeContract({\n    server: {\n      triggerAgentPrompt: {\n        request: z.object({\n          prompt: z.string()\n        }),\n        response: z.object({\n          result: z.object({\n            success: z.boolean(),\n            error: z.string().optional(),\n            output: z.string().optional()\n          })\n        }),\n        update: z.object({\n          updateText: z.string()\n        })\n      }\n    }\n  });\n  async function findPort(maxAttempts = 10, timeout = 300) {\n    for (let attempt = 0; attempt < maxAttempts; attempt++) {\n      const port = DEFAULT_PORT + attempt;\n      try {\n        const controller = new AbortController();\n        const timeoutId = setTimeout(() => controller.abort(), timeout);\n        try {\n          const response = await fetch(\n            `http://localhost:${port}${PING_ENDPOINT}`,\n            {\n              signal: controller.signal\n            }\n          );\n          clearTimeout(timeoutId);\n          if (response.ok) {\n            const text = await response.text();\n            if (text === PING_RESPONSE) {\n              return port;\n            }\n          }\n        } catch (error2) {\n          clearTimeout(timeoutId);\n          continue;\n        }\n      } catch (error2) {\n        continue;\n      }\n    }\n    return null;\n  }\n  const SRPCBridgeContext = K$3({\n    bridge: null,\n    isConnecting: false,\n    error: null\n  });\n  function SRPCBridgeProvider({\n    children\n  }) {\n    const [state, setState] = d$4({\n      bridge: null,\n      isConnecting: true,\n      error: null\n    });\n    y$6(() => {\n      async function initializeBridge() {\n        try {\n          const port = await findPort();\n          const bridge = createSRPCClientBridge(\n            `ws://localhost:${port}`,\n            contract\n          );\n          await bridge.connect();\n          setState({\n            bridge,\n            isConnecting: false,\n            error: null\n          });\n        } catch (error2) {\n          setState({\n            bridge: null,\n            isConnecting: false,\n            error: error2 instanceof Error ? error2 : new Error(String(error2))\n          });\n        }\n      }\n      initializeBridge();\n    }, []);\n    return /* @__PURE__ */ u$9(SRPCBridgeContext.Provider, { value: state, children });\n  }\n  function useSRPCBridge() {\n    const context = x$4(SRPCBridgeContext);\n    if (!context) {\n      throw new Error(\"useSRPCBridge must be used within an SRPCBridgeProvider\");\n    }\n    return context;\n  }\n  function getElementAttributes(element) {\n    const attrs = {};\n    const priorityAttrs = [\n      \"id\",\n      \"class\",\n      \"name\",\n      \"type\",\n      \"href\",\n      \"src\",\n      \"alt\",\n      \"for\",\n      \"placeholder\"\n    ];\n    const dataAttrs = [];\n    for (let i2 = 0; i2 < element.attributes.length; i2++) {\n      const attr = element.attributes[i2];\n      if (attr.name.startsWith(\"data-\")) {\n        dataAttrs.push({ name: attr.name, value: attr.value });\n      } else if (priorityAttrs.includes(attr.name.toLowerCase()) || attr.name.toLowerCase() !== \"style\") {\n        attrs[attr.name] = attr.value;\n      }\n    }\n    dataAttrs.forEach((da) => {\n      attrs[da.name] = da.value;\n    });\n    return attrs;\n  }\n  function generateElementContext(element, index2) {\n    var _a;\n    let context = `<element index=\"${index2 + 1}\">\n`;\n    context += `  <tag>${element.tagName.toLowerCase()}</tag>\n`;\n    const id = element.id;\n    if (id) {\n      context += `  <id>${id}</id>\n`;\n    }\n    const classes = Array.from(element.classList).join(\", \");\n    if (classes) {\n      context += `  <classes>${classes}</classes>\n`;\n    }\n    const attributes = getElementAttributes(element);\n    if (Object.keys(attributes).length > 0) {\n      context += `  <attributes>\n`;\n      for (const [key, value] of Object.entries(attributes)) {\n        if (key.toLowerCase() !== \"class\" || !classes) {\n          context += `    <${key}>${value}</${key}>\n`;\n        }\n      }\n      context += `  </attributes>\n`;\n    }\n    const text = (_a = element.innerText) == null ? void 0 : _a.trim();\n    if (text) {\n      const maxLength = 100;\n      context += `  <text>${text.length > maxLength ? `${text.substring(0, maxLength)}...` : text}</text>\n`;\n    }\n    context += `  <structural_context>\n`;\n    if (element.parentElement) {\n      const parent = element.parentElement;\n      context += `    <parent>\n`;\n      context += `      <tag>${parent.tagName.toLowerCase()}</tag>\n`;\n      if (parent.id) {\n        context += `      <id>${parent.id}</id>\n`;\n      }\n      const parentClasses = Array.from(parent.classList).join(\", \");\n      if (parentClasses) {\n        context += `      <classes>${parentClasses}</classes>\n`;\n      }\n      context += `    </parent>\n`;\n    } else {\n      context += `    <parent>No parent element found (likely root or disconnected)</parent>\n`;\n    }\n    context += `  </structural_context>\n`;\n    try {\n      const styles = window.getComputedStyle(element);\n      const relevantStyles = {\n        color: styles.color,\n        backgroundColor: styles.backgroundColor,\n        fontSize: styles.fontSize,\n        fontWeight: styles.fontWeight,\n        display: styles.display\n      };\n      context += `  <styles>\n`;\n      for (const [key, value] of Object.entries(relevantStyles)) {\n        context += `    <${key}>${value}</${key}>\n`;\n      }\n      context += `  </styles>\n`;\n    } catch (e2) {\n      context += `  <styles>Could not retrieve computed styles</styles>\n`;\n    }\n    context += `</element>\n`;\n    return context;\n  }\n  function createPrompt(selectedElements, userPrompt, url) {\n    if (!selectedElements || selectedElements.length === 0) {\n      return `\n    <request>\n      <user_goal>${userPrompt}</user_goal>\n      <url>${url}</url>\n  <context>No specific element was selected on the page. Please analyze the page code in general or ask for clarification.</context>\n</request>`.trim();\n    }\n    let detailedContext = \"\";\n    selectedElements.forEach((element, index2) => {\n      detailedContext += generateElementContext(element, index2);\n    });\n    return `\n<request>\n  <user_goal>${userPrompt}</user_goal>\n  <url>${url}</url>\n  <selected_elements>\n    ${detailedContext.trim()}\n  </selected_elements>\n</request>`.trim();\n  }\n  const DropAreaZone = {\n    BOTTOM_CENTER: 4\n  };\n  const createStoreImpl = (createState) => {\n    let state;\n    const listeners = /* @__PURE__ */ new Set();\n    const setState = (partial, replace) => {\n      const nextState = typeof partial === \"function\" ? partial(state) : partial;\n      if (!Object.is(nextState, state)) {\n        const previousState = state;\n        state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n        listeners.forEach((listener) => listener(state, previousState));\n      }\n    };\n    const getState = () => state;\n    const getInitialState = () => initialState;\n    const subscribe = (listener) => {\n      listeners.add(listener);\n      return () => listeners.delete(listener);\n    };\n    const api = { setState, getState, getInitialState, subscribe };\n    const initialState = state = createState(setState, getState, api);\n    return api;\n  };\n  const createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\n  const identity = (arg) => arg;\n  function useStore(api, selector = identity) {\n    const slice = Rn.useSyncExternalStore(\n      api.subscribe,\n      () => selector(api.getState()),\n      () => selector(api.getInitialState())\n    );\n    Rn.useDebugValue(slice);\n    return slice;\n  }\n  const createImpl = (createState) => {\n    const api = createStore(createState);\n    const useBoundStore = (selector) => useStore(api, selector);\n    Object.assign(useBoundStore, api);\n    return useBoundStore;\n  };\n  const create = (createState) => createState ? createImpl(createState) : createImpl;\n  class DoubleIndexedKV {\n    constructor() {\n      this.keyToValue = /* @__PURE__ */ new Map();\n      this.valueToKey = /* @__PURE__ */ new Map();\n    }\n    set(key, value) {\n      this.keyToValue.set(key, value);\n      this.valueToKey.set(value, key);\n    }\n    getByKey(key) {\n      return this.keyToValue.get(key);\n    }\n    getByValue(value) {\n      return this.valueToKey.get(value);\n    }\n    clear() {\n      this.keyToValue.clear();\n      this.valueToKey.clear();\n    }\n  }\n  class Registry {\n    constructor(generateIdentifier) {\n      this.generateIdentifier = generateIdentifier;\n      this.kv = new DoubleIndexedKV();\n    }\n    register(value, identifier) {\n      if (this.kv.getByValue(value)) {\n        return;\n      }\n      if (!identifier) {\n        identifier = this.generateIdentifier(value);\n      }\n      this.kv.set(identifier, value);\n    }\n    clear() {\n      this.kv.clear();\n    }\n    getIdentifier(value) {\n      return this.kv.getByValue(value);\n    }\n    getValue(identifier) {\n      return this.kv.getByKey(identifier);\n    }\n  }\n  class ClassRegistry extends Registry {\n    constructor() {\n      super((c2) => c2.name);\n      this.classToAllowedProps = /* @__PURE__ */ new Map();\n    }\n    register(value, options) {\n      if (typeof options === \"object\") {\n        if (options.allowProps) {\n          this.classToAllowedProps.set(value, options.allowProps);\n        }\n        super.register(value, options.identifier);\n      } else {\n        super.register(value, options);\n      }\n    }\n    getAllowedProps(value) {\n      return this.classToAllowedProps.get(value);\n    }\n  }\n  function valuesOfObj(record) {\n    if (\"values\" in Object) {\n      return Object.values(record);\n    }\n    const values = [];\n    for (const key in record) {\n      if (record.hasOwnProperty(key)) {\n        values.push(record[key]);\n      }\n    }\n    return values;\n  }\n  function find(record, predicate) {\n    const values = valuesOfObj(record);\n    if (\"find\" in values) {\n      return values.find(predicate);\n    }\n    const valuesNotNever = values;\n    for (let i2 = 0; i2 < valuesNotNever.length; i2++) {\n      const value = valuesNotNever[i2];\n      if (predicate(value)) {\n        return value;\n      }\n    }\n    return void 0;\n  }\n  function forEach(record, run) {\n    Object.entries(record).forEach(([key, value]) => run(value, key));\n  }\n  function includes(arr, value) {\n    return arr.indexOf(value) !== -1;\n  }\n  function findArr(record, predicate) {\n    for (let i2 = 0; i2 < record.length; i2++) {\n      const value = record[i2];\n      if (predicate(value)) {\n        return value;\n      }\n    }\n    return void 0;\n  }\n  class CustomTransformerRegistry {\n    constructor() {\n      this.transfomers = {};\n    }\n    register(transformer) {\n      this.transfomers[transformer.name] = transformer;\n    }\n    findApplicable(v2) {\n      return find(this.transfomers, (transformer) => transformer.isApplicable(v2));\n    }\n    findByName(name) {\n      return this.transfomers[name];\n    }\n  }\n  const getType$1 = (payload) => Object.prototype.toString.call(payload).slice(8, -1);\n  const isUndefined = (payload) => typeof payload === \"undefined\";\n  const isNull = (payload) => payload === null;\n  const isPlainObject$1 = (payload) => {\n    if (typeof payload !== \"object\" || payload === null)\n      return false;\n    if (payload === Object.prototype)\n      return false;\n    if (Object.getPrototypeOf(payload) === null)\n      return true;\n    return Object.getPrototypeOf(payload) === Object.prototype;\n  };\n  const isEmptyObject = (payload) => isPlainObject$1(payload) && Object.keys(payload).length === 0;\n  const isArray$1 = (payload) => Array.isArray(payload);\n  const isString$1 = (payload) => typeof payload === \"string\";\n  const isNumber$1 = (payload) => typeof payload === \"number\" && !isNaN(payload);\n  const isBoolean = (payload) => typeof payload === \"boolean\";\n  const isRegExp = (payload) => payload instanceof RegExp;\n  const isMap = (payload) => payload instanceof Map;\n  const isSet = (payload) => payload instanceof Set;\n  const isSymbol = (payload) => getType$1(payload) === \"Symbol\";\n  const isDate = (payload) => payload instanceof Date && !isNaN(payload.valueOf());\n  const isError = (payload) => payload instanceof Error;\n  const isNaNValue = (payload) => typeof payload === \"number\" && isNaN(payload);\n  const isPrimitive = (payload) => isBoolean(payload) || isNull(payload) || isUndefined(payload) || isNumber$1(payload) || isString$1(payload) || isSymbol(payload);\n  const isBigint = (payload) => typeof payload === \"bigint\";\n  const isInfinite = (payload) => payload === Infinity || payload === -Infinity;\n  const isTypedArray = (payload) => ArrayBuffer.isView(payload) && !(payload instanceof DataView);\n  const isURL = (payload) => payload instanceof URL;\n  const escapeKey = (key) => key.replace(/\\./g, \"\\\\.\");\n  const stringifyPath = (path) => path.map(String).map(escapeKey).join(\".\");\n  const parsePath = (string) => {\n    const result = [];\n    let segment = \"\";\n    for (let i2 = 0; i2 < string.length; i2++) {\n      let char = string.charAt(i2);\n      const isEscapedDot = char === \"\\\\\" && string.charAt(i2 + 1) === \".\";\n      if (isEscapedDot) {\n        segment += \".\";\n        i2++;\n        continue;\n      }\n      const isEndOfSegment = char === \".\";\n      if (isEndOfSegment) {\n        result.push(segment);\n        segment = \"\";\n        continue;\n      }\n      segment += char;\n    }\n    const lastSegment = segment;\n    result.push(lastSegment);\n    return result;\n  };\n  function simpleTransformation(isApplicable, annotation, transform, untransform) {\n    return {\n      isApplicable,\n      annotation,\n      transform,\n      untransform\n    };\n  }\n  const simpleRules = [\n    simpleTransformation(isUndefined, \"undefined\", () => null, () => void 0),\n    simpleTransformation(isBigint, \"bigint\", (v2) => v2.toString(), (v2) => {\n      if (typeof BigInt !== \"undefined\") {\n        return BigInt(v2);\n      }\n      console.error(\"Please add a BigInt polyfill.\");\n      return v2;\n    }),\n    simpleTransformation(isDate, \"Date\", (v2) => v2.toISOString(), (v2) => new Date(v2)),\n    simpleTransformation(isError, \"Error\", (v2, superJson) => {\n      const baseError = {\n        name: v2.name,\n        message: v2.message\n      };\n      superJson.allowedErrorProps.forEach((prop) => {\n        baseError[prop] = v2[prop];\n      });\n      return baseError;\n    }, (v2, superJson) => {\n      const e2 = new Error(v2.message);\n      e2.name = v2.name;\n      e2.stack = v2.stack;\n      superJson.allowedErrorProps.forEach((prop) => {\n        e2[prop] = v2[prop];\n      });\n      return e2;\n    }),\n    simpleTransformation(isRegExp, \"regexp\", (v2) => \"\" + v2, (regex) => {\n      const body = regex.slice(1, regex.lastIndexOf(\"/\"));\n      const flags = regex.slice(regex.lastIndexOf(\"/\") + 1);\n      return new RegExp(body, flags);\n    }),\n    simpleTransformation(\n      isSet,\n      \"set\",\n      // (sets only exist in es6+)\n      // eslint-disable-next-line es5/no-es6-methods\n      (v2) => [...v2.values()],\n      (v2) => new Set(v2)\n    ),\n    simpleTransformation(isMap, \"map\", (v2) => [...v2.entries()], (v2) => new Map(v2)),\n    simpleTransformation((v2) => isNaNValue(v2) || isInfinite(v2), \"number\", (v2) => {\n      if (isNaNValue(v2)) {\n        return \"NaN\";\n      }\n      if (v2 > 0) {\n        return \"Infinity\";\n      } else {\n        return \"-Infinity\";\n      }\n    }, Number),\n    simpleTransformation((v2) => v2 === 0 && 1 / v2 === -Infinity, \"number\", () => {\n      return \"-0\";\n    }, Number),\n    simpleTransformation(isURL, \"URL\", (v2) => v2.toString(), (v2) => new URL(v2))\n  ];\n  function compositeTransformation(isApplicable, annotation, transform, untransform) {\n    return {\n      isApplicable,\n      annotation,\n      transform,\n      untransform\n    };\n  }\n  const symbolRule = compositeTransformation((s2, superJson) => {\n    if (isSymbol(s2)) {\n      const isRegistered = !!superJson.symbolRegistry.getIdentifier(s2);\n      return isRegistered;\n    }\n    return false;\n  }, (s2, superJson) => {\n    const identifier = superJson.symbolRegistry.getIdentifier(s2);\n    return [\"symbol\", identifier];\n  }, (v2) => v2.description, (_2, a2, superJson) => {\n    const value = superJson.symbolRegistry.getValue(a2[1]);\n    if (!value) {\n      throw new Error(\"Trying to deserialize unknown symbol\");\n    }\n    return value;\n  });\n  const constructorToName = [\n    Int8Array,\n    Uint8Array,\n    Int16Array,\n    Uint16Array,\n    Int32Array,\n    Uint32Array,\n    Float32Array,\n    Float64Array,\n    Uint8ClampedArray\n  ].reduce((obj, ctor) => {\n    obj[ctor.name] = ctor;\n    return obj;\n  }, {});\n  const typedArrayRule = compositeTransformation(isTypedArray, (v2) => [\"typed-array\", v2.constructor.name], (v2) => [...v2], (v2, a2) => {\n    const ctor = constructorToName[a2[1]];\n    if (!ctor) {\n      throw new Error(\"Trying to deserialize unknown typed array\");\n    }\n    return new ctor(v2);\n  });\n  function isInstanceOfRegisteredClass(potentialClass, superJson) {\n    if (potentialClass == null ? void 0 : potentialClass.constructor) {\n      const isRegistered = !!superJson.classRegistry.getIdentifier(potentialClass.constructor);\n      return isRegistered;\n    }\n    return false;\n  }\n  const classRule = compositeTransformation(isInstanceOfRegisteredClass, (clazz, superJson) => {\n    const identifier = superJson.classRegistry.getIdentifier(clazz.constructor);\n    return [\"class\", identifier];\n  }, (clazz, superJson) => {\n    const allowedProps = superJson.classRegistry.getAllowedProps(clazz.constructor);\n    if (!allowedProps) {\n      return { ...clazz };\n    }\n    const result = {};\n    allowedProps.forEach((prop) => {\n      result[prop] = clazz[prop];\n    });\n    return result;\n  }, (v2, a2, superJson) => {\n    const clazz = superJson.classRegistry.getValue(a2[1]);\n    if (!clazz) {\n      throw new Error(`Trying to deserialize unknown class '${a2[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);\n    }\n    return Object.assign(Object.create(clazz.prototype), v2);\n  });\n  const customRule = compositeTransformation((value, superJson) => {\n    return !!superJson.customTransformerRegistry.findApplicable(value);\n  }, (value, superJson) => {\n    const transformer = superJson.customTransformerRegistry.findApplicable(value);\n    return [\"custom\", transformer.name];\n  }, (value, superJson) => {\n    const transformer = superJson.customTransformerRegistry.findApplicable(value);\n    return transformer.serialize(value);\n  }, (v2, a2, superJson) => {\n    const transformer = superJson.customTransformerRegistry.findByName(a2[1]);\n    if (!transformer) {\n      throw new Error(\"Trying to deserialize unknown custom value\");\n    }\n    return transformer.deserialize(v2);\n  });\n  const compositeRules = [classRule, symbolRule, customRule, typedArrayRule];\n  const transformValue = (value, superJson) => {\n    const applicableCompositeRule = findArr(compositeRules, (rule) => rule.isApplicable(value, superJson));\n    if (applicableCompositeRule) {\n      return {\n        value: applicableCompositeRule.transform(value, superJson),\n        type: applicableCompositeRule.annotation(value, superJson)\n      };\n    }\n    const applicableSimpleRule = findArr(simpleRules, (rule) => rule.isApplicable(value, superJson));\n    if (applicableSimpleRule) {\n      return {\n        value: applicableSimpleRule.transform(value, superJson),\n        type: applicableSimpleRule.annotation\n      };\n    }\n    return void 0;\n  };\n  const simpleRulesByAnnotation = {};\n  simpleRules.forEach((rule) => {\n    simpleRulesByAnnotation[rule.annotation] = rule;\n  });\n  const untransformValue = (json, type, superJson) => {\n    if (isArray$1(type)) {\n      switch (type[0]) {\n        case \"symbol\":\n          return symbolRule.untransform(json, type, superJson);\n        case \"class\":\n          return classRule.untransform(json, type, superJson);\n        case \"custom\":\n          return customRule.untransform(json, type, superJson);\n        case \"typed-array\":\n          return typedArrayRule.untransform(json, type, superJson);\n        default:\n          throw new Error(\"Unknown transformation: \" + type);\n      }\n    } else {\n      const transformation = simpleRulesByAnnotation[type];\n      if (!transformation) {\n        throw new Error(\"Unknown transformation: \" + type);\n      }\n      return transformation.untransform(json, superJson);\n    }\n  };\n  const getNthKey = (value, n2) => {\n    if (n2 > value.size)\n      throw new Error(\"index out of bounds\");\n    const keys = value.keys();\n    while (n2 > 0) {\n      keys.next();\n      n2--;\n    }\n    return keys.next().value;\n  };\n  function validatePath(path) {\n    if (includes(path, \"__proto__\")) {\n      throw new Error(\"__proto__ is not allowed as a property\");\n    }\n    if (includes(path, \"prototype\")) {\n      throw new Error(\"prototype is not allowed as a property\");\n    }\n    if (includes(path, \"constructor\")) {\n      throw new Error(\"constructor is not allowed as a property\");\n    }\n  }\n  const getDeep = (object, path) => {\n    validatePath(path);\n    for (let i2 = 0; i2 < path.length; i2++) {\n      const key = path[i2];\n      if (isSet(object)) {\n        object = getNthKey(object, +key);\n      } else if (isMap(object)) {\n        const row = +key;\n        const type = +path[++i2] === 0 ? \"key\" : \"value\";\n        const keyOfRow = getNthKey(object, row);\n        switch (type) {\n          case \"key\":\n            object = keyOfRow;\n            break;\n          case \"value\":\n            object = object.get(keyOfRow);\n            break;\n        }\n      } else {\n        object = object[key];\n      }\n    }\n    return object;\n  };\n  const setDeep = (object, path, mapper) => {\n    validatePath(path);\n    if (path.length === 0) {\n      return mapper(object);\n    }\n    let parent = object;\n    for (let i2 = 0; i2 < path.length - 1; i2++) {\n      const key = path[i2];\n      if (isArray$1(parent)) {\n        const index2 = +key;\n        parent = parent[index2];\n      } else if (isPlainObject$1(parent)) {\n        parent = parent[key];\n      } else if (isSet(parent)) {\n        const row = +key;\n        parent = getNthKey(parent, row);\n      } else if (isMap(parent)) {\n        const isEnd = i2 === path.length - 2;\n        if (isEnd) {\n          break;\n        }\n        const row = +key;\n        const type = +path[++i2] === 0 ? \"key\" : \"value\";\n        const keyOfRow = getNthKey(parent, row);\n        switch (type) {\n          case \"key\":\n            parent = keyOfRow;\n            break;\n          case \"value\":\n            parent = parent.get(keyOfRow);\n            break;\n        }\n      }\n    }\n    const lastKey = path[path.length - 1];\n    if (isArray$1(parent)) {\n      parent[+lastKey] = mapper(parent[+lastKey]);\n    } else if (isPlainObject$1(parent)) {\n      parent[lastKey] = mapper(parent[lastKey]);\n    }\n    if (isSet(parent)) {\n      const oldValue = getNthKey(parent, +lastKey);\n      const newValue = mapper(oldValue);\n      if (oldValue !== newValue) {\n        parent.delete(oldValue);\n        parent.add(newValue);\n      }\n    }\n    if (isMap(parent)) {\n      const row = +path[path.length - 2];\n      const keyToRow = getNthKey(parent, row);\n      const type = +lastKey === 0 ? \"key\" : \"value\";\n      switch (type) {\n        case \"key\": {\n          const newKey = mapper(keyToRow);\n          parent.set(newKey, parent.get(keyToRow));\n          if (newKey !== keyToRow) {\n            parent.delete(keyToRow);\n          }\n          break;\n        }\n        case \"value\": {\n          parent.set(keyToRow, mapper(parent.get(keyToRow)));\n          break;\n        }\n      }\n    }\n    return object;\n  };\n  function traverse(tree, walker2, origin = []) {\n    if (!tree) {\n      return;\n    }\n    if (!isArray$1(tree)) {\n      forEach(tree, (subtree, key) => traverse(subtree, walker2, [...origin, ...parsePath(key)]));\n      return;\n    }\n    const [nodeValue, children] = tree;\n    if (children) {\n      forEach(children, (child, key) => {\n        traverse(child, walker2, [...origin, ...parsePath(key)]);\n      });\n    }\n    walker2(nodeValue, origin);\n  }\n  function applyValueAnnotations(plain, annotations, superJson) {\n    traverse(annotations, (type, path) => {\n      plain = setDeep(plain, path, (v2) => untransformValue(v2, type, superJson));\n    });\n    return plain;\n  }\n  function applyReferentialEqualityAnnotations(plain, annotations) {\n    function apply(identicalPaths, path) {\n      const object = getDeep(plain, parsePath(path));\n      identicalPaths.map(parsePath).forEach((identicalObjectPath) => {\n        plain = setDeep(plain, identicalObjectPath, () => object);\n      });\n    }\n    if (isArray$1(annotations)) {\n      const [root, other] = annotations;\n      root.forEach((identicalPath) => {\n        plain = setDeep(plain, parsePath(identicalPath), () => plain);\n      });\n      if (other) {\n        forEach(other, apply);\n      }\n    } else {\n      forEach(annotations, apply);\n    }\n    return plain;\n  }\n  const isDeep = (object, superJson) => isPlainObject$1(object) || isArray$1(object) || isMap(object) || isSet(object) || isInstanceOfRegisteredClass(object, superJson);\n  function addIdentity(object, path, identities) {\n    const existingSet = identities.get(object);\n    if (existingSet) {\n      existingSet.push(path);\n    } else {\n      identities.set(object, [path]);\n    }\n  }\n  function generateReferentialEqualityAnnotations(identitites, dedupe) {\n    const result = {};\n    let rootEqualityPaths = void 0;\n    identitites.forEach((paths) => {\n      if (paths.length <= 1) {\n        return;\n      }\n      if (!dedupe) {\n        paths = paths.map((path) => path.map(String)).sort((a2, b2) => a2.length - b2.length);\n      }\n      const [representativePath, ...identicalPaths] = paths;\n      if (representativePath.length === 0) {\n        rootEqualityPaths = identicalPaths.map(stringifyPath);\n      } else {\n        result[stringifyPath(representativePath)] = identicalPaths.map(stringifyPath);\n      }\n    });\n    if (rootEqualityPaths) {\n      if (isEmptyObject(result)) {\n        return [rootEqualityPaths];\n      } else {\n        return [rootEqualityPaths, result];\n      }\n    } else {\n      return isEmptyObject(result) ? void 0 : result;\n    }\n  }\n  const walker = (object, identities, superJson, dedupe, path = [], objectsInThisPath = [], seenObjects = /* @__PURE__ */ new Map()) => {\n    const primitive = isPrimitive(object);\n    if (!primitive) {\n      addIdentity(object, path, identities);\n      const seen = seenObjects.get(object);\n      if (seen) {\n        return dedupe ? {\n          transformedValue: null\n        } : seen;\n      }\n    }\n    if (!isDeep(object, superJson)) {\n      const transformed2 = transformValue(object, superJson);\n      const result2 = transformed2 ? {\n        transformedValue: transformed2.value,\n        annotations: [transformed2.type]\n      } : {\n        transformedValue: object\n      };\n      if (!primitive) {\n        seenObjects.set(object, result2);\n      }\n      return result2;\n    }\n    if (includes(objectsInThisPath, object)) {\n      return {\n        transformedValue: null\n      };\n    }\n    const transformationResult = transformValue(object, superJson);\n    const transformed = (transformationResult == null ? void 0 : transformationResult.value) ?? object;\n    const transformedValue = isArray$1(transformed) ? [] : {};\n    const innerAnnotations = {};\n    forEach(transformed, (value, index2) => {\n      if (index2 === \"__proto__\" || index2 === \"constructor\" || index2 === \"prototype\") {\n        throw new Error(`Detected property ${index2}. This is a prototype pollution risk, please remove it from your object.`);\n      }\n      const recursiveResult = walker(value, identities, superJson, dedupe, [...path, index2], [...objectsInThisPath, object], seenObjects);\n      transformedValue[index2] = recursiveResult.transformedValue;\n      if (isArray$1(recursiveResult.annotations)) {\n        innerAnnotations[index2] = recursiveResult.annotations;\n      } else if (isPlainObject$1(recursiveResult.annotations)) {\n        forEach(recursiveResult.annotations, (tree, key) => {\n          innerAnnotations[escapeKey(index2) + \".\" + key] = tree;\n        });\n      }\n    });\n    const result = isEmptyObject(innerAnnotations) ? {\n      transformedValue,\n      annotations: !!transformationResult ? [transformationResult.type] : void 0\n    } : {\n      transformedValue,\n      annotations: !!transformationResult ? [transformationResult.type, innerAnnotations] : innerAnnotations\n    };\n    if (!primitive) {\n      seenObjects.set(object, result);\n    }\n    return result;\n  };\n  function getType(payload) {\n    return Object.prototype.toString.call(payload).slice(8, -1);\n  }\n  function isArray(payload) {\n    return getType(payload) === \"Array\";\n  }\n  function isPlainObject(payload) {\n    if (getType(payload) !== \"Object\")\n      return false;\n    const prototype = Object.getPrototypeOf(payload);\n    return !!prototype && prototype.constructor === Object && prototype === Object.prototype;\n  }\n  function assignProp(carry, key, newVal, originalObject, includeNonenumerable) {\n    const propType = {}.propertyIsEnumerable.call(originalObject, key) ? \"enumerable\" : \"nonenumerable\";\n    if (propType === \"enumerable\")\n      carry[key] = newVal;\n    if (includeNonenumerable && propType === \"nonenumerable\") {\n      Object.defineProperty(carry, key, {\n        value: newVal,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      });\n    }\n  }\n  function copy(target, options = {}) {\n    if (isArray(target)) {\n      return target.map((item) => copy(item, options));\n    }\n    if (!isPlainObject(target)) {\n      return target;\n    }\n    const props = Object.getOwnPropertyNames(target);\n    const symbols = Object.getOwnPropertySymbols(target);\n    return [...props, ...symbols].reduce((carry, key) => {\n      if (isArray(options.props) && !options.props.includes(key)) {\n        return carry;\n      }\n      const val = target[key];\n      const newVal = copy(val, options);\n      assignProp(carry, key, newVal, target, options.nonenumerable);\n      return carry;\n    }, {});\n  }\n  class SuperJSON {\n    /**\n     * @param dedupeReferentialEqualities  If true, SuperJSON will make sure only one instance of referentially equal objects are serialized and the rest are replaced with `null`.\n     */\n    constructor({ dedupe = false } = {}) {\n      this.classRegistry = new ClassRegistry();\n      this.symbolRegistry = new Registry((s2) => s2.description ?? \"\");\n      this.customTransformerRegistry = new CustomTransformerRegistry();\n      this.allowedErrorProps = [];\n      this.dedupe = dedupe;\n    }\n    serialize(object) {\n      const identities = /* @__PURE__ */ new Map();\n      const output = walker(object, identities, this, this.dedupe);\n      const res = {\n        json: output.transformedValue\n      };\n      if (output.annotations) {\n        res.meta = {\n          ...res.meta,\n          values: output.annotations\n        };\n      }\n      const equalityAnnotations = generateReferentialEqualityAnnotations(identities, this.dedupe);\n      if (equalityAnnotations) {\n        res.meta = {\n          ...res.meta,\n          referentialEqualities: equalityAnnotations\n        };\n      }\n      return res;\n    }\n    deserialize(payload) {\n      const { json, meta } = payload;\n      let result = copy(json);\n      if (meta == null ? void 0 : meta.values) {\n        result = applyValueAnnotations(result, meta.values, this);\n      }\n      if (meta == null ? void 0 : meta.referentialEqualities) {\n        result = applyReferentialEqualityAnnotations(result, meta.referentialEqualities);\n      }\n      return result;\n    }\n    stringify(object) {\n      return JSON.stringify(this.serialize(object));\n    }\n    parse(string) {\n      return this.deserialize(JSON.parse(string));\n    }\n    registerClass(v2, options) {\n      this.classRegistry.register(v2, options);\n    }\n    registerSymbol(v2, identifier) {\n      this.symbolRegistry.register(v2, identifier);\n    }\n    registerCustom(transformer, name) {\n      this.customTransformerRegistry.register({\n        name,\n        ...transformer\n      });\n    }\n    allowErrorProps(...props) {\n      this.allowedErrorProps.push(...props);\n    }\n  }\n  SuperJSON.defaultInstance = new SuperJSON();\n  SuperJSON.serialize = SuperJSON.defaultInstance.serialize.bind(SuperJSON.defaultInstance);\n  SuperJSON.deserialize = SuperJSON.defaultInstance.deserialize.bind(SuperJSON.defaultInstance);\n  SuperJSON.stringify = SuperJSON.defaultInstance.stringify.bind(SuperJSON.defaultInstance);\n  SuperJSON.parse = SuperJSON.defaultInstance.parse.bind(SuperJSON.defaultInstance);\n  SuperJSON.registerClass = SuperJSON.defaultInstance.registerClass.bind(SuperJSON.defaultInstance);\n  SuperJSON.registerSymbol = SuperJSON.defaultInstance.registerSymbol.bind(SuperJSON.defaultInstance);\n  SuperJSON.registerCustom = SuperJSON.defaultInstance.registerCustom.bind(SuperJSON.defaultInstance);\n  SuperJSON.allowErrorProps = SuperJSON.defaultInstance.allowErrorProps.bind(SuperJSON.defaultInstance);\n  SuperJSON.serialize;\n  SuperJSON.deserialize;\n  SuperJSON.stringify;\n  SuperJSON.parse;\n  SuperJSON.registerClass;\n  SuperJSON.registerCustom;\n  SuperJSON.registerSymbol;\n  SuperJSON.allowErrorProps;\n  function createJSONStorage(getStorage, options) {\n    let storage;\n    try {\n      storage = getStorage();\n    } catch (e2) {\n      return;\n    }\n    const persistStorage = {\n      getItem: (name) => {\n        var _a;\n        const parse = (str2) => {\n          if (str2 === null) {\n            return null;\n          }\n          return JSON.parse(str2, void 0);\n        };\n        const str = (_a = storage.getItem(name)) != null ? _a : null;\n        if (str instanceof Promise) {\n          return str.then(parse);\n        }\n        return parse(str);\n      },\n      setItem: (name, newValue) => storage.setItem(\n        name,\n        JSON.stringify(newValue, void 0)\n      ),\n      removeItem: (name) => storage.removeItem(name)\n    };\n    return persistStorage;\n  }\n  const toThenable = (fn2) => (input) => {\n    try {\n      const result = fn2(input);\n      if (result instanceof Promise) {\n        return result;\n      }\n      return {\n        then(onFulfilled) {\n          return toThenable(onFulfilled)(result);\n        },\n        catch(_onRejected) {\n          return this;\n        }\n      };\n    } catch (e2) {\n      return {\n        then(_onFulfilled) {\n          return this;\n        },\n        catch(onRejected) {\n          return toThenable(onRejected)(e2);\n        }\n      };\n    }\n  };\n  const persistImpl = (config, baseOptions) => (set, get, api) => {\n    let options = {\n      storage: createJSONStorage(() => localStorage),\n      partialize: (state) => state,\n      version: 0,\n      merge: (persistedState, currentState) => ({\n        ...currentState,\n        ...persistedState\n      }),\n      ...baseOptions\n    };\n    let hasHydrated = false;\n    const hydrationListeners = /* @__PURE__ */ new Set();\n    const finishHydrationListeners = /* @__PURE__ */ new Set();\n    let storage = options.storage;\n    if (!storage) {\n      return config(\n        (...args) => {\n          console.warn(\n            `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n          );\n          set(...args);\n        },\n        get,\n        api\n      );\n    }\n    const setItem = () => {\n      const state = options.partialize({ ...get() });\n      return storage.setItem(options.name, {\n        state,\n        version: options.version\n      });\n    };\n    const savedSetState = api.setState;\n    api.setState = (state, replace) => {\n      savedSetState(state, replace);\n      void setItem();\n    };\n    const configResult = config(\n      (...args) => {\n        set(...args);\n        void setItem();\n      },\n      get,\n      api\n    );\n    api.getInitialState = () => configResult;\n    let stateFromStorage;\n    const hydrate = () => {\n      var _a, _b;\n      if (!storage) return;\n      hasHydrated = false;\n      hydrationListeners.forEach((cb) => {\n        var _a2;\n        return cb((_a2 = get()) != null ? _a2 : configResult);\n      });\n      const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n      return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n        if (deserializedStorageValue) {\n          if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n            if (options.migrate) {\n              const migration = options.migrate(\n                deserializedStorageValue.state,\n                deserializedStorageValue.version\n              );\n              if (migration instanceof Promise) {\n                return migration.then((result) => [true, result]);\n              }\n              return [true, migration];\n            }\n            console.error(\n              `State loaded from storage couldn't be migrated since no migrate function was provided`\n            );\n          } else {\n            return [false, deserializedStorageValue.state];\n          }\n        }\n        return [false, void 0];\n      }).then((migrationResult) => {\n        var _a2;\n        const [migrated, migratedState] = migrationResult;\n        stateFromStorage = options.merge(\n          migratedState,\n          (_a2 = get()) != null ? _a2 : configResult\n        );\n        set(stateFromStorage, true);\n        if (migrated) {\n          return setItem();\n        }\n      }).then(() => {\n        postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n        stateFromStorage = get();\n        hasHydrated = true;\n        finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n      }).catch((e2) => {\n        postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e2);\n      });\n    };\n    api.persist = {\n      setOptions: (newOptions) => {\n        options = {\n          ...options,\n          ...newOptions\n        };\n        if (newOptions.storage) {\n          storage = newOptions.storage;\n        }\n      },\n      clearStorage: () => {\n        storage == null ? void 0 : storage.removeItem(options.name);\n      },\n      getOptions: () => options,\n      rehydrate: () => hydrate(),\n      hasHydrated: () => hasHydrated,\n      onHydrate: (cb) => {\n        hydrationListeners.add(cb);\n        return () => {\n          hydrationListeners.delete(cb);\n        };\n      },\n      onFinishHydration: (cb) => {\n        finishHydrationListeners.add(cb);\n        return () => {\n          finishHydrationListeners.delete(cb);\n        };\n      }\n    };\n    if (!options.skipHydration) {\n      hydrate();\n    }\n    return stateFromStorage || configResult;\n  };\n  const persist = persistImpl;\n  const createAppStore = (s2) => {\n    const set = s2;\n    return {\n      appBlockRequestList: [],\n      appUnblockRequestList: [],\n      lastBlockRequestNumber: 0,\n      lastUnblockRequestNumber: 0,\n      isMainAppBlocked: false,\n      requestMainAppBlock: () => {\n        let newHandleValue = 0;\n        set((state) => {\n          newHandleValue = state.lastBlockRequestNumber + 1;\n          return {\n            appBlockRequestList: [...state.appBlockRequestList, newHandleValue],\n            lastBlockRequestNumber: newHandleValue,\n            isMainAppBlocked: state.appUnblockRequestList.length === 0\n            // Unblock requests override block requests\n          };\n        });\n        return newHandleValue;\n      },\n      requestMainAppUnblock: () => {\n        let newHandleValue = 0;\n        set((state) => {\n          newHandleValue = state.lastUnblockRequestNumber + 1;\n          return {\n            appUnblockRequestList: [\n              ...state.appUnblockRequestList,\n              newHandleValue\n            ],\n            lastUnblockRequestNumber: newHandleValue,\n            isMainAppBlocked: false\n          };\n        });\n        return newHandleValue;\n      },\n      discardMainAppBlock: (handle) => {\n        set((state) => {\n          const newBlockRequestList = state.appBlockRequestList.filter(\n            (h2) => h2 !== handle\n          );\n          return {\n            appBlockRequestList: newBlockRequestList,\n            isMainAppBlocked: newBlockRequestList.length > 0 && state.appUnblockRequestList.length === 0\n          };\n        });\n      },\n      discardMainAppUnblock: (handle) => {\n        set((state) => {\n          const newUnblockRequestList = state.appUnblockRequestList.filter(\n            (h2) => h2 !== handle\n          );\n          return {\n            appUnblockRequestList: newUnblockRequestList,\n            isMainAppBlocked: state.appBlockRequestList.length > 0 && newUnblockRequestList.length === 0\n          };\n        });\n      },\n      toolbarPosition: DropAreaZone.BOTTOM_CENTER,\n      setToolbarPosition: (position) => set(() => ({ toolbarPosition: position })),\n      toolbarBoxRef: b$5(),\n      setToolbarBoxRef: (ref) => set(() => ({ toolbarBoxRef: ref })),\n      unsetToolbarBoxRef: () => set(() => ({ toolbarBoxRef: b$5() })),\n      minimized: false,\n      minimize: () => set(() => ({ minimized: true })),\n      expand: () => set(() => ({ minimized: false })),\n      promotedOnStartup: false,\n      promotionFinished: () => set(() => ({ promotedOnStartup: true }))\n    };\n  };\n  function createSuperJSONStorage(storage) {\n    return {\n      getItem: (name) => {\n        const str = storage.getItem(name);\n        if (!str) return null;\n        return SuperJSON.parse(str);\n      },\n      setItem: (name, value) => {\n        storage.setItem(name, SuperJSON.stringify(value));\n      },\n      removeItem: (name) => storage.removeItem(name)\n    };\n  }\n  const useAppState = create(\n    persist(createAppStore, {\n      name: \"stgws:companion\",\n      storage: createSuperJSONStorage(sessionStorage),\n      partialize: (state) => {\n        return {\n          toolbarPosition: state.toolbarPosition\n        };\n      }\n    })\n  );\n  const ChatContext = K$3({\n    chats: [],\n    currentChatId: null,\n    createChat: () => \"\",\n    deleteChat: () => {\n    },\n    setCurrentChat: () => {\n    },\n    setChatInput: () => {\n    },\n    addChatDomContext: () => {\n    },\n    removeChatDomContext: () => {\n    },\n    addMessage: () => {\n    },\n    chatAreaState: \"hidden\",\n    setChatAreaState: () => {\n    },\n    isPromptCreationActive: false,\n    startPromptCreation: () => {\n    },\n    stopPromptCreation: () => {\n    }\n  });\n  const ChatStateProvider = ({ children }) => {\n    const [chats, setChats] = d$4([\n      {\n        id: \"new_chat\",\n        messages: [],\n        title: \"New chat\",\n        inputValue: \"\",\n        domContextElements: []\n      }\n    ]);\n    const [currentChatId, setCurrentChatId] = d$4(\"new_chat\");\n    const [chatAreaState, internalSetChatAreaState] = d$4(\"hidden\");\n    const [isPromptCreationMode, setIsPromptCreationMode] = d$4(false);\n    const isMinimized = useAppState((state) => state.minimized);\n    y$6(() => {\n      if (isMinimized) {\n        setIsPromptCreationMode(false);\n        internalSetChatAreaState(\"hidden\");\n      }\n    }, [isMinimized]);\n    const { bridge } = useSRPCBridge();\n    const createChat = q$3(() => {\n      const newChatId = crypto.randomUUID();\n      const newChat = {\n        id: newChatId,\n        title: null,\n        messages: [],\n        inputValue: \"\",\n        domContextElements: []\n      };\n      setChats((prev) => [...prev, newChat]);\n      setCurrentChatId(newChatId);\n      return newChatId;\n    }, []);\n    const deleteChat = q$3(\n      (chatId) => {\n        setChats((prev) => {\n          const filteredChats = prev.filter((chat) => chat.id !== chatId);\n          if (filteredChats.length === 0) {\n            return [\n              {\n                id: \"new_chat\",\n                messages: [],\n                title: \"New chat\",\n                inputValue: \"\",\n                domContextElements: []\n              }\n            ];\n          }\n          return filteredChats;\n        });\n        if (currentChatId === chatId) {\n          setChats((prev) => {\n            setCurrentChatId(prev[0].id);\n            return prev;\n          });\n        }\n      },\n      [currentChatId]\n    );\n    const setCurrentChat = q$3((chatId) => {\n      setCurrentChatId(chatId);\n    }, []);\n    const setChatInput = q$3((chatId, value2) => {\n      setChats(\n        (prev) => prev.map(\n          (chat) => chat.id === chatId ? { ...chat, inputValue: value2 } : chat\n        )\n      );\n    }, []);\n    const startPromptCreation = q$3(() => {\n      setIsPromptCreationMode(true);\n      if (chatAreaState === \"hidden\") {\n        internalSetChatAreaState(\"compact\");\n      }\n    }, [chatAreaState]);\n    const stopPromptCreation = q$3(() => {\n      setIsPromptCreationMode(false);\n      setChats(\n        (prev) => prev.map(\n          (chat) => chat.id === currentChatId ? { ...chat, domContextElements: [] } : chat\n        )\n      );\n      if (chatAreaState === \"compact\") {\n        internalSetChatAreaState(\"hidden\");\n      }\n    }, [currentChatId, chatAreaState]);\n    const setChatAreaState = q$3(\n      (state) => {\n        internalSetChatAreaState(state);\n        if (state === \"hidden\") {\n          stopPromptCreation();\n        }\n      },\n      [internalSetChatAreaState, stopPromptCreation]\n    );\n    const addChatDomContext = q$3(\n      (chatId, element) => {\n        setChats(\n          (prev) => prev.map(\n            (chat) => chat.id === chatId ? {\n              ...chat,\n              domContextElements: [...chat.domContextElements, element]\n            } : chat\n          )\n        );\n      },\n      []\n    );\n    const removeChatDomContext = q$3(\n      (chatId, element) => {\n        setChats(\n          (prev) => prev.map(\n            (chat) => chat.id === chatId ? {\n              ...chat,\n              domContextElements: chat.domContextElements.filter(\n                (e2) => e2 !== element\n              )\n            } : chat\n          )\n        );\n      },\n      []\n    );\n    const addMessage = q$3(\n      (chatId, content) => {\n        if (!content.trim()) return;\n        const chat = chats.find((chat2) => chat2.id === chatId);\n        const prompt = createPrompt(\n          chat == null ? void 0 : chat.domContextElements,\n          content,\n          window.location.href\n        );\n        const newMessage = {\n          id: crypto.randomUUID(),\n          content: content.trim(),\n          sender: \"user\",\n          type: \"regular\",\n          timestamp: /* @__PURE__ */ new Date()\n        };\n        async function triggerAgentPrompt() {\n          if (bridge) {\n            await bridge.call.triggerAgentPrompt(\n              { prompt },\n              {\n                onUpdate: (update) => {\n                }\n              }\n            );\n          }\n        }\n        triggerAgentPrompt();\n        setIsPromptCreationMode(false);\n        if (chatAreaState === \"hidden\") {\n          internalSetChatAreaState(\"compact\");\n        }\n        setChats(\n          (prev) => prev.map(\n            (chat2) => chat2.id === chatId ? {\n              ...chat2,\n              messages: [...chat2.messages, newMessage],\n              inputValue: \"\",\n              domContextElements: []\n            } : chat2\n          )\n        );\n      },\n      [\n        chatAreaState,\n        bridge,\n        chats,\n        setIsPromptCreationMode,\n        internalSetChatAreaState\n      ]\n    );\n    const value = {\n      chats,\n      currentChatId,\n      createChat,\n      deleteChat,\n      setCurrentChat,\n      setChatInput,\n      addMessage,\n      chatAreaState,\n      setChatAreaState,\n      isPromptCreationActive: isPromptCreationMode,\n      startPromptCreation,\n      stopPromptCreation,\n      addChatDomContext,\n      removeChatDomContext\n    };\n    return /* @__PURE__ */ u$9(ChatContext.Provider, { value, children });\n  };\n  function useChatState() {\n    const context = x$4(ChatContext);\n    if (!context) {\n      throw new Error(\"useChatState must be used within a ChatStateProvider\");\n    }\n    return context;\n  }\n  function useCyclicUpdate(func, frameRate) {\n    const animationFrameHandle = A$3(void 0);\n    const timeBetweenFrames = T$5(\n      () => frameRate && frameRate > 0 ? 1e3 / frameRate : 0,\n      [frameRate]\n    );\n    const lastCallFrameTime = A$3(0);\n    const update = q$3(\n      (frameTime) => {\n        if (frameTime - lastCallFrameTime.current >= timeBetweenFrames) {\n          func();\n          lastCallFrameTime.current = frameTime;\n        }\n        animationFrameHandle.current = requestAnimationFrame(update);\n      },\n      [func, timeBetweenFrames]\n    );\n    y$6(() => {\n      if (!frameRate || frameRate > 0) {\n        animationFrameHandle.current = requestAnimationFrame(update);\n      }\n      return () => {\n        if (animationFrameHandle.current) {\n          cancelAnimationFrame(animationFrameHandle.current);\n          animationFrameHandle.current = void 0;\n        }\n      };\n    }, [frameRate, update]);\n  }\n  const LocationContext = K$3(new URL(window.location.href));\n  function LocationProvider({\n    children\n  }) {\n    const [currentUrl, setCurrentUrl] = d$4(\n      new URL(window.location.href)\n    );\n    const update = q$3(() => {\n      setCurrentUrl(new URL(window.location.href));\n    }, []);\n    useCyclicUpdate(update, 15);\n    return /* @__PURE__ */ u$9(LocationContext.Provider, { value: currentUrl, children });\n  }\n  function ContextProviders({\n    children,\n    config\n  }) {\n    return /* @__PURE__ */ u$9(LocationProvider, { children: /* @__PURE__ */ u$9(SRPCBridgeProvider, { children: /* @__PURE__ */ u$9(PluginProvider, { plugins: (config == null ? void 0 : config.plugins) || [], children: /* @__PURE__ */ u$9(ChatStateProvider, { children }) }) }) });\n  }\n  function useEventListener(eventName, handler, options, element = window) {\n    y$6(() => {\n      if (typeof window === \"undefined\") return;\n      if (!element) return;\n      element.addEventListener(eventName, handler, options);\n      return () => element.removeEventListener(eventName, handler);\n    }, [eventName, handler, element, options]);\n  }\n  function r$3(e2) {\n    var t2, f2, n2 = \"\";\n    if (\"string\" == typeof e2 || \"number\" == typeof e2) n2 += e2;\n    else if (\"object\" == typeof e2) if (Array.isArray(e2)) {\n      var o2 = e2.length;\n      for (t2 = 0; t2 < o2; t2++) e2[t2] && (f2 = r$3(e2[t2])) && (n2 && (n2 += \" \"), n2 += f2);\n    } else for (f2 in e2) e2[f2] && (n2 && (n2 += \" \"), n2 += f2);\n    return n2;\n  }\n  function clsx() {\n    for (var e2, t2, f2 = 0, n2 = \"\", o2 = arguments.length; f2 < o2; f2++) (e2 = arguments[f2]) && (t2 = r$3(e2)) && (n2 && (n2 += \" \"), n2 += t2);\n    return n2;\n  }\n  const CLASS_PART_SEPARATOR = \"-\";\n  const createClassGroupUtils = (config) => {\n    const classMap = createClassMap(config);\n    const {\n      conflictingClassGroups,\n      conflictingClassGroupModifiers\n    } = config;\n    const getClassGroupId = (className) => {\n      const classParts = className.split(CLASS_PART_SEPARATOR);\n      if (classParts[0] === \"\" && classParts.length !== 1) {\n        classParts.shift();\n      }\n      return getGroupRecursive(classParts, classMap) || getGroupIdForArbitraryProperty(className);\n    };\n    const getConflictingClassGroupIds = (classGroupId, hasPostfixModifier) => {\n      const conflicts = conflictingClassGroups[classGroupId] || [];\n      if (hasPostfixModifier && conflictingClassGroupModifiers[classGroupId]) {\n        return [...conflicts, ...conflictingClassGroupModifiers[classGroupId]];\n      }\n      return conflicts;\n    };\n    return {\n      getClassGroupId,\n      getConflictingClassGroupIds\n    };\n  };\n  const getGroupRecursive = (classParts, classPartObject) => {\n    var _a;\n    if (classParts.length === 0) {\n      return classPartObject.classGroupId;\n    }\n    const currentClassPart = classParts[0];\n    const nextClassPartObject = classPartObject.nextPart.get(currentClassPart);\n    const classGroupFromNextClassPart = nextClassPartObject ? getGroupRecursive(classParts.slice(1), nextClassPartObject) : void 0;\n    if (classGroupFromNextClassPart) {\n      return classGroupFromNextClassPart;\n    }\n    if (classPartObject.validators.length === 0) {\n      return void 0;\n    }\n    const classRest = classParts.join(CLASS_PART_SEPARATOR);\n    return (_a = classPartObject.validators.find(({\n      validator\n    }) => validator(classRest))) == null ? void 0 : _a.classGroupId;\n  };\n  const arbitraryPropertyRegex = /^\\[(.+)\\]$/;\n  const getGroupIdForArbitraryProperty = (className) => {\n    if (arbitraryPropertyRegex.test(className)) {\n      const arbitraryPropertyClassName = arbitraryPropertyRegex.exec(className)[1];\n      const property = arbitraryPropertyClassName == null ? void 0 : arbitraryPropertyClassName.substring(0, arbitraryPropertyClassName.indexOf(\":\"));\n      if (property) {\n        return \"arbitrary..\" + property;\n      }\n    }\n  };\n  const createClassMap = (config) => {\n    const {\n      theme,\n      classGroups\n    } = config;\n    const classMap = {\n      nextPart: /* @__PURE__ */ new Map(),\n      validators: []\n    };\n    for (const classGroupId in classGroups) {\n      processClassesRecursively(classGroups[classGroupId], classMap, classGroupId, theme);\n    }\n    return classMap;\n  };\n  const processClassesRecursively = (classGroup, classPartObject, classGroupId, theme) => {\n    classGroup.forEach((classDefinition) => {\n      if (typeof classDefinition === \"string\") {\n        const classPartObjectToEdit = classDefinition === \"\" ? classPartObject : getPart(classPartObject, classDefinition);\n        classPartObjectToEdit.classGroupId = classGroupId;\n        return;\n      }\n      if (typeof classDefinition === \"function\") {\n        if (isThemeGetter(classDefinition)) {\n          processClassesRecursively(classDefinition(theme), classPartObject, classGroupId, theme);\n          return;\n        }\n        classPartObject.validators.push({\n          validator: classDefinition,\n          classGroupId\n        });\n        return;\n      }\n      Object.entries(classDefinition).forEach(([key, classGroup2]) => {\n        processClassesRecursively(classGroup2, getPart(classPartObject, key), classGroupId, theme);\n      });\n    });\n  };\n  const getPart = (classPartObject, path) => {\n    let currentClassPartObject = classPartObject;\n    path.split(CLASS_PART_SEPARATOR).forEach((pathPart) => {\n      if (!currentClassPartObject.nextPart.has(pathPart)) {\n        currentClassPartObject.nextPart.set(pathPart, {\n          nextPart: /* @__PURE__ */ new Map(),\n          validators: []\n        });\n      }\n      currentClassPartObject = currentClassPartObject.nextPart.get(pathPart);\n    });\n    return currentClassPartObject;\n  };\n  const isThemeGetter = (func) => func.isThemeGetter;\n  const createLruCache = (maxCacheSize) => {\n    if (maxCacheSize < 1) {\n      return {\n        get: () => void 0,\n        set: () => {\n        }\n      };\n    }\n    let cacheSize = 0;\n    let cache = /* @__PURE__ */ new Map();\n    let previousCache = /* @__PURE__ */ new Map();\n    const update = (key, value) => {\n      cache.set(key, value);\n      cacheSize++;\n      if (cacheSize > maxCacheSize) {\n        cacheSize = 0;\n        previousCache = cache;\n        cache = /* @__PURE__ */ new Map();\n      }\n    };\n    return {\n      get(key) {\n        let value = cache.get(key);\n        if (value !== void 0) {\n          return value;\n        }\n        if ((value = previousCache.get(key)) !== void 0) {\n          update(key, value);\n          return value;\n        }\n      },\n      set(key, value) {\n        if (cache.has(key)) {\n          cache.set(key, value);\n        } else {\n          update(key, value);\n        }\n      }\n    };\n  };\n  const IMPORTANT_MODIFIER = \"!\";\n  const MODIFIER_SEPARATOR = \":\";\n  const MODIFIER_SEPARATOR_LENGTH = MODIFIER_SEPARATOR.length;\n  const createParseClassName = (config) => {\n    const {\n      prefix,\n      experimentalParseClassName\n    } = config;\n    let parseClassName = (className) => {\n      const modifiers = [];\n      let bracketDepth = 0;\n      let parenDepth = 0;\n      let modifierStart = 0;\n      let postfixModifierPosition;\n      for (let index2 = 0; index2 < className.length; index2++) {\n        let currentCharacter = className[index2];\n        if (bracketDepth === 0 && parenDepth === 0) {\n          if (currentCharacter === MODIFIER_SEPARATOR) {\n            modifiers.push(className.slice(modifierStart, index2));\n            modifierStart = index2 + MODIFIER_SEPARATOR_LENGTH;\n            continue;\n          }\n          if (currentCharacter === \"/\") {\n            postfixModifierPosition = index2;\n            continue;\n          }\n        }\n        if (currentCharacter === \"[\") {\n          bracketDepth++;\n        } else if (currentCharacter === \"]\") {\n          bracketDepth--;\n        } else if (currentCharacter === \"(\") {\n          parenDepth++;\n        } else if (currentCharacter === \")\") {\n          parenDepth--;\n        }\n      }\n      const baseClassNameWithImportantModifier = modifiers.length === 0 ? className : className.substring(modifierStart);\n      const baseClassName = stripImportantModifier(baseClassNameWithImportantModifier);\n      const hasImportantModifier = baseClassName !== baseClassNameWithImportantModifier;\n      const maybePostfixModifierPosition = postfixModifierPosition && postfixModifierPosition > modifierStart ? postfixModifierPosition - modifierStart : void 0;\n      return {\n        modifiers,\n        hasImportantModifier,\n        baseClassName,\n        maybePostfixModifierPosition\n      };\n    };\n    if (prefix) {\n      const fullPrefix = prefix + MODIFIER_SEPARATOR;\n      const parseClassNameOriginal = parseClassName;\n      parseClassName = (className) => className.startsWith(fullPrefix) ? parseClassNameOriginal(className.substring(fullPrefix.length)) : {\n        isExternal: true,\n        modifiers: [],\n        hasImportantModifier: false,\n        baseClassName: className,\n        maybePostfixModifierPosition: void 0\n      };\n    }\n    if (experimentalParseClassName) {\n      const parseClassNameOriginal = parseClassName;\n      parseClassName = (className) => experimentalParseClassName({\n        className,\n        parseClassName: parseClassNameOriginal\n      });\n    }\n    return parseClassName;\n  };\n  const stripImportantModifier = (baseClassName) => {\n    if (baseClassName.endsWith(IMPORTANT_MODIFIER)) {\n      return baseClassName.substring(0, baseClassName.length - 1);\n    }\n    if (baseClassName.startsWith(IMPORTANT_MODIFIER)) {\n      return baseClassName.substring(1);\n    }\n    return baseClassName;\n  };\n  const createSortModifiers = (config) => {\n    const orderSensitiveModifiers = Object.fromEntries(config.orderSensitiveModifiers.map((modifier) => [modifier, true]));\n    const sortModifiers = (modifiers) => {\n      if (modifiers.length <= 1) {\n        return modifiers;\n      }\n      const sortedModifiers = [];\n      let unsortedModifiers = [];\n      modifiers.forEach((modifier) => {\n        const isPositionSensitive = modifier[0] === \"[\" || orderSensitiveModifiers[modifier];\n        if (isPositionSensitive) {\n          sortedModifiers.push(...unsortedModifiers.sort(), modifier);\n          unsortedModifiers = [];\n        } else {\n          unsortedModifiers.push(modifier);\n        }\n      });\n      sortedModifiers.push(...unsortedModifiers.sort());\n      return sortedModifiers;\n    };\n    return sortModifiers;\n  };\n  const createConfigUtils = (config) => ({\n    cache: createLruCache(config.cacheSize),\n    parseClassName: createParseClassName(config),\n    sortModifiers: createSortModifiers(config),\n    ...createClassGroupUtils(config)\n  });\n  const SPLIT_CLASSES_REGEX = /\\s+/;\n  const mergeClassList = (classList, configUtils) => {\n    const {\n      parseClassName,\n      getClassGroupId,\n      getConflictingClassGroupIds,\n      sortModifiers\n    } = configUtils;\n    const classGroupsInConflict = [];\n    const classNames = classList.trim().split(SPLIT_CLASSES_REGEX);\n    let result = \"\";\n    for (let index2 = classNames.length - 1; index2 >= 0; index2 -= 1) {\n      const originalClassName = classNames[index2];\n      const {\n        isExternal,\n        modifiers,\n        hasImportantModifier,\n        baseClassName,\n        maybePostfixModifierPosition\n      } = parseClassName(originalClassName);\n      if (isExternal) {\n        result = originalClassName + (result.length > 0 ? \" \" + result : result);\n        continue;\n      }\n      let hasPostfixModifier = !!maybePostfixModifierPosition;\n      let classGroupId = getClassGroupId(hasPostfixModifier ? baseClassName.substring(0, maybePostfixModifierPosition) : baseClassName);\n      if (!classGroupId) {\n        if (!hasPostfixModifier) {\n          result = originalClassName + (result.length > 0 ? \" \" + result : result);\n          continue;\n        }\n        classGroupId = getClassGroupId(baseClassName);\n        if (!classGroupId) {\n          result = originalClassName + (result.length > 0 ? \" \" + result : result);\n          continue;\n        }\n        hasPostfixModifier = false;\n      }\n      const variantModifier = sortModifiers(modifiers).join(\":\");\n      const modifierId = hasImportantModifier ? variantModifier + IMPORTANT_MODIFIER : variantModifier;\n      const classId = modifierId + classGroupId;\n      if (classGroupsInConflict.includes(classId)) {\n        continue;\n      }\n      classGroupsInConflict.push(classId);\n      const conflictGroups = getConflictingClassGroupIds(classGroupId, hasPostfixModifier);\n      for (let i2 = 0; i2 < conflictGroups.length; ++i2) {\n        const group = conflictGroups[i2];\n        classGroupsInConflict.push(modifierId + group);\n      }\n      result = originalClassName + (result.length > 0 ? \" \" + result : result);\n    }\n    return result;\n  };\n  function twJoin() {\n    let index2 = 0;\n    let argument;\n    let resolvedValue;\n    let string = \"\";\n    while (index2 < arguments.length) {\n      if (argument = arguments[index2++]) {\n        if (resolvedValue = toValue(argument)) {\n          string && (string += \" \");\n          string += resolvedValue;\n        }\n      }\n    }\n    return string;\n  }\n  const toValue = (mix) => {\n    if (typeof mix === \"string\") {\n      return mix;\n    }\n    let resolvedValue;\n    let string = \"\";\n    for (let k2 = 0; k2 < mix.length; k2++) {\n      if (mix[k2]) {\n        if (resolvedValue = toValue(mix[k2])) {\n          string && (string += \" \");\n          string += resolvedValue;\n        }\n      }\n    }\n    return string;\n  };\n  function createTailwindMerge(createConfigFirst, ...createConfigRest) {\n    let configUtils;\n    let cacheGet;\n    let cacheSet;\n    let functionToCall = initTailwindMerge;\n    function initTailwindMerge(classList) {\n      const config = createConfigRest.reduce((previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig), createConfigFirst());\n      configUtils = createConfigUtils(config);\n      cacheGet = configUtils.cache.get;\n      cacheSet = configUtils.cache.set;\n      functionToCall = tailwindMerge;\n      return tailwindMerge(classList);\n    }\n    function tailwindMerge(classList) {\n      const cachedResult = cacheGet(classList);\n      if (cachedResult) {\n        return cachedResult;\n      }\n      const result = mergeClassList(classList, configUtils);\n      cacheSet(classList, result);\n      return result;\n    }\n    return function callTailwindMerge() {\n      return functionToCall(twJoin.apply(null, arguments));\n    };\n  }\n  const fromTheme = (key) => {\n    const themeGetter = (theme) => theme[key] || [];\n    themeGetter.isThemeGetter = true;\n    return themeGetter;\n  };\n  const arbitraryValueRegex = /^\\[(?:(\\w[\\w-]*):)?(.+)\\]$/i;\n  const arbitraryVariableRegex = /^\\((?:(\\w[\\w-]*):)?(.+)\\)$/i;\n  const fractionRegex = /^\\d+\\/\\d+$/;\n  const tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/;\n  const lengthUnitRegex = /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/;\n  const colorFunctionRegex = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\\(.+\\)$/;\n  const shadowRegex = /^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/;\n  const imageRegex = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/;\n  const isFraction = (value) => fractionRegex.test(value);\n  const isNumber = (value) => !!value && !Number.isNaN(Number(value));\n  const isInteger = (value) => !!value && Number.isInteger(Number(value));\n  const isPercent = (value) => value.endsWith(\"%\") && isNumber(value.slice(0, -1));\n  const isTshirtSize = (value) => tshirtUnitRegex.test(value);\n  const isAny = () => true;\n  const isLengthOnly = (value) => (\n    // `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.\n    // For example, `hsl(0 0% 0%)` would be classified as a length without this check.\n    // I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.\n    lengthUnitRegex.test(value) && !colorFunctionRegex.test(value)\n  );\n  const isNever = () => false;\n  const isShadow = (value) => shadowRegex.test(value);\n  const isImage = (value) => imageRegex.test(value);\n  const isAnyNonArbitrary = (value) => !isArbitraryValue(value) && !isArbitraryVariable(value);\n  const isArbitrarySize = (value) => getIsArbitraryValue(value, isLabelSize, isNever);\n  const isArbitraryValue = (value) => arbitraryValueRegex.test(value);\n  const isArbitraryLength = (value) => getIsArbitraryValue(value, isLabelLength, isLengthOnly);\n  const isArbitraryNumber = (value) => getIsArbitraryValue(value, isLabelNumber, isNumber);\n  const isArbitraryPosition = (value) => getIsArbitraryValue(value, isLabelPosition, isNever);\n  const isArbitraryImage = (value) => getIsArbitraryValue(value, isLabelImage, isImage);\n  const isArbitraryShadow = (value) => getIsArbitraryValue(value, isLabelShadow, isShadow);\n  const isArbitraryVariable = (value) => arbitraryVariableRegex.test(value);\n  const isArbitraryVariableLength = (value) => getIsArbitraryVariable(value, isLabelLength);\n  const isArbitraryVariableFamilyName = (value) => getIsArbitraryVariable(value, isLabelFamilyName);\n  const isArbitraryVariablePosition = (value) => getIsArbitraryVariable(value, isLabelPosition);\n  const isArbitraryVariableSize = (value) => getIsArbitraryVariable(value, isLabelSize);\n  const isArbitraryVariableImage = (value) => getIsArbitraryVariable(value, isLabelImage);\n  const isArbitraryVariableShadow = (value) => getIsArbitraryVariable(value, isLabelShadow, true);\n  const getIsArbitraryValue = (value, testLabel, testValue) => {\n    const result = arbitraryValueRegex.exec(value);\n    if (result) {\n      if (result[1]) {\n        return testLabel(result[1]);\n      }\n      return testValue(result[2]);\n    }\n    return false;\n  };\n  const getIsArbitraryVariable = (value, testLabel, shouldMatchNoLabel = false) => {\n    const result = arbitraryVariableRegex.exec(value);\n    if (result) {\n      if (result[1]) {\n        return testLabel(result[1]);\n      }\n      return shouldMatchNoLabel;\n    }\n    return false;\n  };\n  const isLabelPosition = (label) => label === \"position\" || label === \"percentage\";\n  const isLabelImage = (label) => label === \"image\" || label === \"url\";\n  const isLabelSize = (label) => label === \"length\" || label === \"size\" || label === \"bg-size\";\n  const isLabelLength = (label) => label === \"length\";\n  const isLabelNumber = (label) => label === \"number\";\n  const isLabelFamilyName = (label) => label === \"family-name\";\n  const isLabelShadow = (label) => label === \"shadow\";\n  const getDefaultConfig = () => {\n    const themeColor = fromTheme(\"color\");\n    const themeFont = fromTheme(\"font\");\n    const themeText = fromTheme(\"text\");\n    const themeFontWeight = fromTheme(\"font-weight\");\n    const themeTracking = fromTheme(\"tracking\");\n    const themeLeading = fromTheme(\"leading\");\n    const themeBreakpoint = fromTheme(\"breakpoint\");\n    const themeContainer = fromTheme(\"container\");\n    const themeSpacing = fromTheme(\"spacing\");\n    const themeRadius = fromTheme(\"radius\");\n    const themeShadow = fromTheme(\"shadow\");\n    const themeInsetShadow = fromTheme(\"inset-shadow\");\n    const themeTextShadow = fromTheme(\"text-shadow\");\n    const themeDropShadow = fromTheme(\"drop-shadow\");\n    const themeBlur = fromTheme(\"blur\");\n    const themePerspective = fromTheme(\"perspective\");\n    const themeAspect = fromTheme(\"aspect\");\n    const themeEase = fromTheme(\"ease\");\n    const themeAnimate = fromTheme(\"animate\");\n    const scaleBreak = () => [\"auto\", \"avoid\", \"all\", \"avoid-page\", \"page\", \"left\", \"right\", \"column\"];\n    const scalePosition = () => [\n      \"center\",\n      \"top\",\n      \"bottom\",\n      \"left\",\n      \"right\",\n      \"top-left\",\n      // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n      \"left-top\",\n      \"top-right\",\n      // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n      \"right-top\",\n      \"bottom-right\",\n      // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n      \"right-bottom\",\n      \"bottom-left\",\n      // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n      \"left-bottom\"\n    ];\n    const scalePositionWithArbitrary = () => [...scalePosition(), isArbitraryVariable, isArbitraryValue];\n    const scaleOverflow = () => [\"auto\", \"hidden\", \"clip\", \"visible\", \"scroll\"];\n    const scaleOverscroll = () => [\"auto\", \"contain\", \"none\"];\n    const scaleUnambiguousSpacing = () => [isArbitraryVariable, isArbitraryValue, themeSpacing];\n    const scaleInset = () => [isFraction, \"full\", \"auto\", ...scaleUnambiguousSpacing()];\n    const scaleGridTemplateColsRows = () => [isInteger, \"none\", \"subgrid\", isArbitraryVariable, isArbitraryValue];\n    const scaleGridColRowStartAndEnd = () => [\"auto\", {\n      span: [\"full\", isInteger, isArbitraryVariable, isArbitraryValue]\n    }, isInteger, isArbitraryVariable, isArbitraryValue];\n    const scaleGridColRowStartOrEnd = () => [isInteger, \"auto\", isArbitraryVariable, isArbitraryValue];\n    const scaleGridAutoColsRows = () => [\"auto\", \"min\", \"max\", \"fr\", isArbitraryVariable, isArbitraryValue];\n    const scaleAlignPrimaryAxis = () => [\"start\", \"end\", \"center\", \"between\", \"around\", \"evenly\", \"stretch\", \"baseline\", \"center-safe\", \"end-safe\"];\n    const scaleAlignSecondaryAxis = () => [\"start\", \"end\", \"center\", \"stretch\", \"center-safe\", \"end-safe\"];\n    const scaleMargin = () => [\"auto\", ...scaleUnambiguousSpacing()];\n    const scaleSizing = () => [isFraction, \"auto\", \"full\", \"dvw\", \"dvh\", \"lvw\", \"lvh\", \"svw\", \"svh\", \"min\", \"max\", \"fit\", ...scaleUnambiguousSpacing()];\n    const scaleColor = () => [themeColor, isArbitraryVariable, isArbitraryValue];\n    const scaleBgPosition = () => [...scalePosition(), isArbitraryVariablePosition, isArbitraryPosition, {\n      position: [isArbitraryVariable, isArbitraryValue]\n    }];\n    const scaleBgRepeat = () => [\"no-repeat\", {\n      repeat: [\"\", \"x\", \"y\", \"space\", \"round\"]\n    }];\n    const scaleBgSize = () => [\"auto\", \"cover\", \"contain\", isArbitraryVariableSize, isArbitrarySize, {\n      size: [isArbitraryVariable, isArbitraryValue]\n    }];\n    const scaleGradientStopPosition = () => [isPercent, isArbitraryVariableLength, isArbitraryLength];\n    const scaleRadius = () => [\n      // Deprecated since Tailwind CSS v4.0.0\n      \"\",\n      \"none\",\n      \"full\",\n      themeRadius,\n      isArbitraryVariable,\n      isArbitraryValue\n    ];\n    const scaleBorderWidth = () => [\"\", isNumber, isArbitraryVariableLength, isArbitraryLength];\n    const scaleLineStyle = () => [\"solid\", \"dashed\", \"dotted\", \"double\"];\n    const scaleBlendMode = () => [\"normal\", \"multiply\", \"screen\", \"overlay\", \"darken\", \"lighten\", \"color-dodge\", \"color-burn\", \"hard-light\", \"soft-light\", \"difference\", \"exclusion\", \"hue\", \"saturation\", \"color\", \"luminosity\"];\n    const scaleMaskImagePosition = () => [isNumber, isPercent, isArbitraryVariablePosition, isArbitraryPosition];\n    const scaleBlur = () => [\n      // Deprecated since Tailwind CSS v4.0.0\n      \"\",\n      \"none\",\n      themeBlur,\n      isArbitraryVariable,\n      isArbitraryValue\n    ];\n    const scaleRotate = () => [\"none\", isNumber, isArbitraryVariable, isArbitraryValue];\n    const scaleScale = () => [\"none\", isNumber, isArbitraryVariable, isArbitraryValue];\n    const scaleSkew = () => [isNumber, isArbitraryVariable, isArbitraryValue];\n    const scaleTranslate = () => [isFraction, \"full\", ...scaleUnambiguousSpacing()];\n    return {\n      cacheSize: 500,\n      theme: {\n        animate: [\"spin\", \"ping\", \"pulse\", \"bounce\"],\n        aspect: [\"video\"],\n        blur: [isTshirtSize],\n        breakpoint: [isTshirtSize],\n        color: [isAny],\n        container: [isTshirtSize],\n        \"drop-shadow\": [isTshirtSize],\n        ease: [\"in\", \"out\", \"in-out\"],\n        font: [isAnyNonArbitrary],\n        \"font-weight\": [\"thin\", \"extralight\", \"light\", \"normal\", \"medium\", \"semibold\", \"bold\", \"extrabold\", \"black\"],\n        \"inset-shadow\": [isTshirtSize],\n        leading: [\"none\", \"tight\", \"snug\", \"normal\", \"relaxed\", \"loose\"],\n        perspective: [\"dramatic\", \"near\", \"normal\", \"midrange\", \"distant\", \"none\"],\n        radius: [isTshirtSize],\n        shadow: [isTshirtSize],\n        spacing: [\"px\", isNumber],\n        text: [isTshirtSize],\n        \"text-shadow\": [isTshirtSize],\n        tracking: [\"tighter\", \"tight\", \"normal\", \"wide\", \"wider\", \"widest\"]\n      },\n      classGroups: {\n        // --------------\n        // --- Layout ---\n        // --------------\n        /**\n         * Aspect Ratio\n         * @see https://tailwindcss.com/docs/aspect-ratio\n         */\n        aspect: [{\n          aspect: [\"auto\", \"square\", isFraction, isArbitraryValue, isArbitraryVariable, themeAspect]\n        }],\n        /**\n         * Container\n         * @see https://tailwindcss.com/docs/container\n         * @deprecated since Tailwind CSS v4.0.0\n         */\n        container: [\"container\"],\n        /**\n         * Columns\n         * @see https://tailwindcss.com/docs/columns\n         */\n        columns: [{\n          columns: [isNumber, isArbitraryValue, isArbitraryVariable, themeContainer]\n        }],\n        /**\n         * Break After\n         * @see https://tailwindcss.com/docs/break-after\n         */\n        \"break-after\": [{\n          \"break-after\": scaleBreak()\n        }],\n        /**\n         * Break Before\n         * @see https://tailwindcss.com/docs/break-before\n         */\n        \"break-before\": [{\n          \"break-before\": scaleBreak()\n        }],\n        /**\n         * Break Inside\n         * @see https://tailwindcss.com/docs/break-inside\n         */\n        \"break-inside\": [{\n          \"break-inside\": [\"auto\", \"avoid\", \"avoid-page\", \"avoid-column\"]\n        }],\n        /**\n         * Box Decoration Break\n         * @see https://tailwindcss.com/docs/box-decoration-break\n         */\n        \"box-decoration\": [{\n          \"box-decoration\": [\"slice\", \"clone\"]\n        }],\n        /**\n         * Box Sizing\n         * @see https://tailwindcss.com/docs/box-sizing\n         */\n        box: [{\n          box: [\"border\", \"content\"]\n        }],\n        /**\n         * Display\n         * @see https://tailwindcss.com/docs/display\n         */\n        display: [\"block\", \"inline-block\", \"inline\", \"flex\", \"inline-flex\", \"table\", \"inline-table\", \"table-caption\", \"table-cell\", \"table-column\", \"table-column-group\", \"table-footer-group\", \"table-header-group\", \"table-row-group\", \"table-row\", \"flow-root\", \"grid\", \"inline-grid\", \"contents\", \"list-item\", \"hidden\"],\n        /**\n         * Screen Reader Only\n         * @see https://tailwindcss.com/docs/display#screen-reader-only\n         */\n        sr: [\"sr-only\", \"not-sr-only\"],\n        /**\n         * Floats\n         * @see https://tailwindcss.com/docs/float\n         */\n        float: [{\n          float: [\"right\", \"left\", \"none\", \"start\", \"end\"]\n        }],\n        /**\n         * Clear\n         * @see https://tailwindcss.com/docs/clear\n         */\n        clear: [{\n          clear: [\"left\", \"right\", \"both\", \"none\", \"start\", \"end\"]\n        }],\n        /**\n         * Isolation\n         * @see https://tailwindcss.com/docs/isolation\n         */\n        isolation: [\"isolate\", \"isolation-auto\"],\n        /**\n         * Object Fit\n         * @see https://tailwindcss.com/docs/object-fit\n         */\n        \"object-fit\": [{\n          object: [\"contain\", \"cover\", \"fill\", \"none\", \"scale-down\"]\n        }],\n        /**\n         * Object Position\n         * @see https://tailwindcss.com/docs/object-position\n         */\n        \"object-position\": [{\n          object: scalePositionWithArbitrary()\n        }],\n        /**\n         * Overflow\n         * @see https://tailwindcss.com/docs/overflow\n         */\n        overflow: [{\n          overflow: scaleOverflow()\n        }],\n        /**\n         * Overflow X\n         * @see https://tailwindcss.com/docs/overflow\n         */\n        \"overflow-x\": [{\n          \"overflow-x\": scaleOverflow()\n        }],\n        /**\n         * Overflow Y\n         * @see https://tailwindcss.com/docs/overflow\n         */\n        \"overflow-y\": [{\n          \"overflow-y\": scaleOverflow()\n        }],\n        /**\n         * Overscroll Behavior\n         * @see https://tailwindcss.com/docs/overscroll-behavior\n         */\n        overscroll: [{\n          overscroll: scaleOverscroll()\n        }],\n        /**\n         * Overscroll Behavior X\n         * @see https://tailwindcss.com/docs/overscroll-behavior\n         */\n        \"overscroll-x\": [{\n          \"overscroll-x\": scaleOverscroll()\n        }],\n        /**\n         * Overscroll Behavior Y\n         * @see https://tailwindcss.com/docs/overscroll-behavior\n         */\n        \"overscroll-y\": [{\n          \"overscroll-y\": scaleOverscroll()\n        }],\n        /**\n         * Position\n         * @see https://tailwindcss.com/docs/position\n         */\n        position: [\"static\", \"fixed\", \"absolute\", \"relative\", \"sticky\"],\n        /**\n         * Top / Right / Bottom / Left\n         * @see https://tailwindcss.com/docs/top-right-bottom-left\n         */\n        inset: [{\n          inset: scaleInset()\n        }],\n        /**\n         * Right / Left\n         * @see https://tailwindcss.com/docs/top-right-bottom-left\n         */\n        \"inset-x\": [{\n          \"inset-x\": scaleInset()\n        }],\n        /**\n         * Top / Bottom\n         * @see https://tailwindcss.com/docs/top-right-bottom-left\n         */\n        \"inset-y\": [{\n          \"inset-y\": scaleInset()\n        }],\n        /**\n         * Start\n         * @see https://tailwindcss.com/docs/top-right-bottom-left\n         */\n        start: [{\n          start: scaleInset()\n        }],\n        /**\n         * End\n         * @see https://tailwindcss.com/docs/top-right-bottom-left\n         */\n        end: [{\n          end: scaleInset()\n        }],\n        /**\n         * Top\n         * @see https://tailwindcss.com/docs/top-right-bottom-left\n         */\n        top: [{\n          top: scaleInset()\n        }],\n        /**\n         * Right\n         * @see https://tailwindcss.com/docs/top-right-bottom-left\n         */\n        right: [{\n          right: scaleInset()\n        }],\n        /**\n         * Bottom\n         * @see https://tailwindcss.com/docs/top-right-bottom-left\n         */\n        bottom: [{\n          bottom: scaleInset()\n        }],\n        /**\n         * Left\n         * @see https://tailwindcss.com/docs/top-right-bottom-left\n         */\n        left: [{\n          left: scaleInset()\n        }],\n        /**\n         * Visibility\n         * @see https://tailwindcss.com/docs/visibility\n         */\n        visibility: [\"visible\", \"invisible\", \"collapse\"],\n        /**\n         * Z-Index\n         * @see https://tailwindcss.com/docs/z-index\n         */\n        z: [{\n          z: [isInteger, \"auto\", isArbitraryVariable, isArbitraryValue]\n        }],\n        // ------------------------\n        // --- Flexbox and Grid ---\n        // ------------------------\n        /**\n         * Flex Basis\n         * @see https://tailwindcss.com/docs/flex-basis\n         */\n        basis: [{\n          basis: [isFraction, \"full\", \"auto\", themeContainer, ...scaleUnambiguousSpacing()]\n        }],\n        /**\n         * Flex Direction\n         * @see https://tailwindcss.com/docs/flex-direction\n         */\n        \"flex-direction\": [{\n          flex: [\"row\", \"row-reverse\", \"col\", \"col-reverse\"]\n        }],\n        /**\n         * Flex Wrap\n         * @see https://tailwindcss.com/docs/flex-wrap\n         */\n        \"flex-wrap\": [{\n          flex: [\"nowrap\", \"wrap\", \"wrap-reverse\"]\n        }],\n        /**\n         * Flex\n         * @see https://tailwindcss.com/docs/flex\n         */\n        flex: [{\n          flex: [isNumber, isFraction, \"auto\", \"initial\", \"none\", isArbitraryValue]\n        }],\n        /**\n         * Flex Grow\n         * @see https://tailwindcss.com/docs/flex-grow\n         */\n        grow: [{\n          grow: [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Flex Shrink\n         * @see https://tailwindcss.com/docs/flex-shrink\n         */\n        shrink: [{\n          shrink: [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Order\n         * @see https://tailwindcss.com/docs/order\n         */\n        order: [{\n          order: [isInteger, \"first\", \"last\", \"none\", isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Grid Template Columns\n         * @see https://tailwindcss.com/docs/grid-template-columns\n         */\n        \"grid-cols\": [{\n          \"grid-cols\": scaleGridTemplateColsRows()\n        }],\n        /**\n         * Grid Column Start / End\n         * @see https://tailwindcss.com/docs/grid-column\n         */\n        \"col-start-end\": [{\n          col: scaleGridColRowStartAndEnd()\n        }],\n        /**\n         * Grid Column Start\n         * @see https://tailwindcss.com/docs/grid-column\n         */\n        \"col-start\": [{\n          \"col-start\": scaleGridColRowStartOrEnd()\n        }],\n        /**\n         * Grid Column End\n         * @see https://tailwindcss.com/docs/grid-column\n         */\n        \"col-end\": [{\n          \"col-end\": scaleGridColRowStartOrEnd()\n        }],\n        /**\n         * Grid Template Rows\n         * @see https://tailwindcss.com/docs/grid-template-rows\n         */\n        \"grid-rows\": [{\n          \"grid-rows\": scaleGridTemplateColsRows()\n        }],\n        /**\n         * Grid Row Start / End\n         * @see https://tailwindcss.com/docs/grid-row\n         */\n        \"row-start-end\": [{\n          row: scaleGridColRowStartAndEnd()\n        }],\n        /**\n         * Grid Row Start\n         * @see https://tailwindcss.com/docs/grid-row\n         */\n        \"row-start\": [{\n          \"row-start\": scaleGridColRowStartOrEnd()\n        }],\n        /**\n         * Grid Row End\n         * @see https://tailwindcss.com/docs/grid-row\n         */\n        \"row-end\": [{\n          \"row-end\": scaleGridColRowStartOrEnd()\n        }],\n        /**\n         * Grid Auto Flow\n         * @see https://tailwindcss.com/docs/grid-auto-flow\n         */\n        \"grid-flow\": [{\n          \"grid-flow\": [\"row\", \"col\", \"dense\", \"row-dense\", \"col-dense\"]\n        }],\n        /**\n         * Grid Auto Columns\n         * @see https://tailwindcss.com/docs/grid-auto-columns\n         */\n        \"auto-cols\": [{\n          \"auto-cols\": scaleGridAutoColsRows()\n        }],\n        /**\n         * Grid Auto Rows\n         * @see https://tailwindcss.com/docs/grid-auto-rows\n         */\n        \"auto-rows\": [{\n          \"auto-rows\": scaleGridAutoColsRows()\n        }],\n        /**\n         * Gap\n         * @see https://tailwindcss.com/docs/gap\n         */\n        gap: [{\n          gap: scaleUnambiguousSpacing()\n        }],\n        /**\n         * Gap X\n         * @see https://tailwindcss.com/docs/gap\n         */\n        \"gap-x\": [{\n          \"gap-x\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Gap Y\n         * @see https://tailwindcss.com/docs/gap\n         */\n        \"gap-y\": [{\n          \"gap-y\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Justify Content\n         * @see https://tailwindcss.com/docs/justify-content\n         */\n        \"justify-content\": [{\n          justify: [...scaleAlignPrimaryAxis(), \"normal\"]\n        }],\n        /**\n         * Justify Items\n         * @see https://tailwindcss.com/docs/justify-items\n         */\n        \"justify-items\": [{\n          \"justify-items\": [...scaleAlignSecondaryAxis(), \"normal\"]\n        }],\n        /**\n         * Justify Self\n         * @see https://tailwindcss.com/docs/justify-self\n         */\n        \"justify-self\": [{\n          \"justify-self\": [\"auto\", ...scaleAlignSecondaryAxis()]\n        }],\n        /**\n         * Align Content\n         * @see https://tailwindcss.com/docs/align-content\n         */\n        \"align-content\": [{\n          content: [\"normal\", ...scaleAlignPrimaryAxis()]\n        }],\n        /**\n         * Align Items\n         * @see https://tailwindcss.com/docs/align-items\n         */\n        \"align-items\": [{\n          items: [...scaleAlignSecondaryAxis(), {\n            baseline: [\"\", \"last\"]\n          }]\n        }],\n        /**\n         * Align Self\n         * @see https://tailwindcss.com/docs/align-self\n         */\n        \"align-self\": [{\n          self: [\"auto\", ...scaleAlignSecondaryAxis(), {\n            baseline: [\"\", \"last\"]\n          }]\n        }],\n        /**\n         * Place Content\n         * @see https://tailwindcss.com/docs/place-content\n         */\n        \"place-content\": [{\n          \"place-content\": scaleAlignPrimaryAxis()\n        }],\n        /**\n         * Place Items\n         * @see https://tailwindcss.com/docs/place-items\n         */\n        \"place-items\": [{\n          \"place-items\": [...scaleAlignSecondaryAxis(), \"baseline\"]\n        }],\n        /**\n         * Place Self\n         * @see https://tailwindcss.com/docs/place-self\n         */\n        \"place-self\": [{\n          \"place-self\": [\"auto\", ...scaleAlignSecondaryAxis()]\n        }],\n        // Spacing\n        /**\n         * Padding\n         * @see https://tailwindcss.com/docs/padding\n         */\n        p: [{\n          p: scaleUnambiguousSpacing()\n        }],\n        /**\n         * Padding X\n         * @see https://tailwindcss.com/docs/padding\n         */\n        px: [{\n          px: scaleUnambiguousSpacing()\n        }],\n        /**\n         * Padding Y\n         * @see https://tailwindcss.com/docs/padding\n         */\n        py: [{\n          py: scaleUnambiguousSpacing()\n        }],\n        /**\n         * Padding Start\n         * @see https://tailwindcss.com/docs/padding\n         */\n        ps: [{\n          ps: scaleUnambiguousSpacing()\n        }],\n        /**\n         * Padding End\n         * @see https://tailwindcss.com/docs/padding\n         */\n        pe: [{\n          pe: scaleUnambiguousSpacing()\n        }],\n        /**\n         * Padding Top\n         * @see https://tailwindcss.com/docs/padding\n         */\n        pt: [{\n          pt: scaleUnambiguousSpacing()\n        }],\n        /**\n         * Padding Right\n         * @see https://tailwindcss.com/docs/padding\n         */\n        pr: [{\n          pr: scaleUnambiguousSpacing()\n        }],\n        /**\n         * Padding Bottom\n         * @see https://tailwindcss.com/docs/padding\n         */\n        pb: [{\n          pb: scaleUnambiguousSpacing()\n        }],\n        /**\n         * Padding Left\n         * @see https://tailwindcss.com/docs/padding\n         */\n        pl: [{\n          pl: scaleUnambiguousSpacing()\n        }],\n        /**\n         * Margin\n         * @see https://tailwindcss.com/docs/margin\n         */\n        m: [{\n          m: scaleMargin()\n        }],\n        /**\n         * Margin X\n         * @see https://tailwindcss.com/docs/margin\n         */\n        mx: [{\n          mx: scaleMargin()\n        }],\n        /**\n         * Margin Y\n         * @see https://tailwindcss.com/docs/margin\n         */\n        my: [{\n          my: scaleMargin()\n        }],\n        /**\n         * Margin Start\n         * @see https://tailwindcss.com/docs/margin\n         */\n        ms: [{\n          ms: scaleMargin()\n        }],\n        /**\n         * Margin End\n         * @see https://tailwindcss.com/docs/margin\n         */\n        me: [{\n          me: scaleMargin()\n        }],\n        /**\n         * Margin Top\n         * @see https://tailwindcss.com/docs/margin\n         */\n        mt: [{\n          mt: scaleMargin()\n        }],\n        /**\n         * Margin Right\n         * @see https://tailwindcss.com/docs/margin\n         */\n        mr: [{\n          mr: scaleMargin()\n        }],\n        /**\n         * Margin Bottom\n         * @see https://tailwindcss.com/docs/margin\n         */\n        mb: [{\n          mb: scaleMargin()\n        }],\n        /**\n         * Margin Left\n         * @see https://tailwindcss.com/docs/margin\n         */\n        ml: [{\n          ml: scaleMargin()\n        }],\n        /**\n         * Space Between X\n         * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n         */\n        \"space-x\": [{\n          \"space-x\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Space Between X Reverse\n         * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n         */\n        \"space-x-reverse\": [\"space-x-reverse\"],\n        /**\n         * Space Between Y\n         * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n         */\n        \"space-y\": [{\n          \"space-y\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Space Between Y Reverse\n         * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n         */\n        \"space-y-reverse\": [\"space-y-reverse\"],\n        // --------------\n        // --- Sizing ---\n        // --------------\n        /**\n         * Size\n         * @see https://tailwindcss.com/docs/width#setting-both-width-and-height\n         */\n        size: [{\n          size: scaleSizing()\n        }],\n        /**\n         * Width\n         * @see https://tailwindcss.com/docs/width\n         */\n        w: [{\n          w: [themeContainer, \"screen\", ...scaleSizing()]\n        }],\n        /**\n         * Min-Width\n         * @see https://tailwindcss.com/docs/min-width\n         */\n        \"min-w\": [{\n          \"min-w\": [\n            themeContainer,\n            \"screen\",\n            /** Deprecated. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n            \"none\",\n            ...scaleSizing()\n          ]\n        }],\n        /**\n         * Max-Width\n         * @see https://tailwindcss.com/docs/max-width\n         */\n        \"max-w\": [{\n          \"max-w\": [\n            themeContainer,\n            \"screen\",\n            \"none\",\n            /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n            \"prose\",\n            /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n            {\n              screen: [themeBreakpoint]\n            },\n            ...scaleSizing()\n          ]\n        }],\n        /**\n         * Height\n         * @see https://tailwindcss.com/docs/height\n         */\n        h: [{\n          h: [\"screen\", ...scaleSizing()]\n        }],\n        /**\n         * Min-Height\n         * @see https://tailwindcss.com/docs/min-height\n         */\n        \"min-h\": [{\n          \"min-h\": [\"screen\", \"none\", ...scaleSizing()]\n        }],\n        /**\n         * Max-Height\n         * @see https://tailwindcss.com/docs/max-height\n         */\n        \"max-h\": [{\n          \"max-h\": [\"screen\", ...scaleSizing()]\n        }],\n        // ------------------\n        // --- Typography ---\n        // ------------------\n        /**\n         * Font Size\n         * @see https://tailwindcss.com/docs/font-size\n         */\n        \"font-size\": [{\n          text: [\"base\", themeText, isArbitraryVariableLength, isArbitraryLength]\n        }],\n        /**\n         * Font Smoothing\n         * @see https://tailwindcss.com/docs/font-smoothing\n         */\n        \"font-smoothing\": [\"antialiased\", \"subpixel-antialiased\"],\n        /**\n         * Font Style\n         * @see https://tailwindcss.com/docs/font-style\n         */\n        \"font-style\": [\"italic\", \"not-italic\"],\n        /**\n         * Font Weight\n         * @see https://tailwindcss.com/docs/font-weight\n         */\n        \"font-weight\": [{\n          font: [themeFontWeight, isArbitraryVariable, isArbitraryNumber]\n        }],\n        /**\n         * Font Stretch\n         * @see https://tailwindcss.com/docs/font-stretch\n         */\n        \"font-stretch\": [{\n          \"font-stretch\": [\"ultra-condensed\", \"extra-condensed\", \"condensed\", \"semi-condensed\", \"normal\", \"semi-expanded\", \"expanded\", \"extra-expanded\", \"ultra-expanded\", isPercent, isArbitraryValue]\n        }],\n        /**\n         * Font Family\n         * @see https://tailwindcss.com/docs/font-family\n         */\n        \"font-family\": [{\n          font: [isArbitraryVariableFamilyName, isArbitraryValue, themeFont]\n        }],\n        /**\n         * Font Variant Numeric\n         * @see https://tailwindcss.com/docs/font-variant-numeric\n         */\n        \"fvn-normal\": [\"normal-nums\"],\n        /**\n         * Font Variant Numeric\n         * @see https://tailwindcss.com/docs/font-variant-numeric\n         */\n        \"fvn-ordinal\": [\"ordinal\"],\n        /**\n         * Font Variant Numeric\n         * @see https://tailwindcss.com/docs/font-variant-numeric\n         */\n        \"fvn-slashed-zero\": [\"slashed-zero\"],\n        /**\n         * Font Variant Numeric\n         * @see https://tailwindcss.com/docs/font-variant-numeric\n         */\n        \"fvn-figure\": [\"lining-nums\", \"oldstyle-nums\"],\n        /**\n         * Font Variant Numeric\n         * @see https://tailwindcss.com/docs/font-variant-numeric\n         */\n        \"fvn-spacing\": [\"proportional-nums\", \"tabular-nums\"],\n        /**\n         * Font Variant Numeric\n         * @see https://tailwindcss.com/docs/font-variant-numeric\n         */\n        \"fvn-fraction\": [\"diagonal-fractions\", \"stacked-fractions\"],\n        /**\n         * Letter Spacing\n         * @see https://tailwindcss.com/docs/letter-spacing\n         */\n        tracking: [{\n          tracking: [themeTracking, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Line Clamp\n         * @see https://tailwindcss.com/docs/line-clamp\n         */\n        \"line-clamp\": [{\n          \"line-clamp\": [isNumber, \"none\", isArbitraryVariable, isArbitraryNumber]\n        }],\n        /**\n         * Line Height\n         * @see https://tailwindcss.com/docs/line-height\n         */\n        leading: [{\n          leading: [\n            /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n            themeLeading,\n            ...scaleUnambiguousSpacing()\n          ]\n        }],\n        /**\n         * List Style Image\n         * @see https://tailwindcss.com/docs/list-style-image\n         */\n        \"list-image\": [{\n          \"list-image\": [\"none\", isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * List Style Position\n         * @see https://tailwindcss.com/docs/list-style-position\n         */\n        \"list-style-position\": [{\n          list: [\"inside\", \"outside\"]\n        }],\n        /**\n         * List Style Type\n         * @see https://tailwindcss.com/docs/list-style-type\n         */\n        \"list-style-type\": [{\n          list: [\"disc\", \"decimal\", \"none\", isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Text Alignment\n         * @see https://tailwindcss.com/docs/text-align\n         */\n        \"text-alignment\": [{\n          text: [\"left\", \"center\", \"right\", \"justify\", \"start\", \"end\"]\n        }],\n        /**\n         * Placeholder Color\n         * @deprecated since Tailwind CSS v3.0.0\n         * @see https://v3.tailwindcss.com/docs/placeholder-color\n         */\n        \"placeholder-color\": [{\n          placeholder: scaleColor()\n        }],\n        /**\n         * Text Color\n         * @see https://tailwindcss.com/docs/text-color\n         */\n        \"text-color\": [{\n          text: scaleColor()\n        }],\n        /**\n         * Text Decoration\n         * @see https://tailwindcss.com/docs/text-decoration\n         */\n        \"text-decoration\": [\"underline\", \"overline\", \"line-through\", \"no-underline\"],\n        /**\n         * Text Decoration Style\n         * @see https://tailwindcss.com/docs/text-decoration-style\n         */\n        \"text-decoration-style\": [{\n          decoration: [...scaleLineStyle(), \"wavy\"]\n        }],\n        /**\n         * Text Decoration Thickness\n         * @see https://tailwindcss.com/docs/text-decoration-thickness\n         */\n        \"text-decoration-thickness\": [{\n          decoration: [isNumber, \"from-font\", \"auto\", isArbitraryVariable, isArbitraryLength]\n        }],\n        /**\n         * Text Decoration Color\n         * @see https://tailwindcss.com/docs/text-decoration-color\n         */\n        \"text-decoration-color\": [{\n          decoration: scaleColor()\n        }],\n        /**\n         * Text Underline Offset\n         * @see https://tailwindcss.com/docs/text-underline-offset\n         */\n        \"underline-offset\": [{\n          \"underline-offset\": [isNumber, \"auto\", isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Text Transform\n         * @see https://tailwindcss.com/docs/text-transform\n         */\n        \"text-transform\": [\"uppercase\", \"lowercase\", \"capitalize\", \"normal-case\"],\n        /**\n         * Text Overflow\n         * @see https://tailwindcss.com/docs/text-overflow\n         */\n        \"text-overflow\": [\"truncate\", \"text-ellipsis\", \"text-clip\"],\n        /**\n         * Text Wrap\n         * @see https://tailwindcss.com/docs/text-wrap\n         */\n        \"text-wrap\": [{\n          text: [\"wrap\", \"nowrap\", \"balance\", \"pretty\"]\n        }],\n        /**\n         * Text Indent\n         * @see https://tailwindcss.com/docs/text-indent\n         */\n        indent: [{\n          indent: scaleUnambiguousSpacing()\n        }],\n        /**\n         * Vertical Alignment\n         * @see https://tailwindcss.com/docs/vertical-align\n         */\n        \"vertical-align\": [{\n          align: [\"baseline\", \"top\", \"middle\", \"bottom\", \"text-top\", \"text-bottom\", \"sub\", \"super\", isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Whitespace\n         * @see https://tailwindcss.com/docs/whitespace\n         */\n        whitespace: [{\n          whitespace: [\"normal\", \"nowrap\", \"pre\", \"pre-line\", \"pre-wrap\", \"break-spaces\"]\n        }],\n        /**\n         * Word Break\n         * @see https://tailwindcss.com/docs/word-break\n         */\n        break: [{\n          break: [\"normal\", \"words\", \"all\", \"keep\"]\n        }],\n        /**\n         * Overflow Wrap\n         * @see https://tailwindcss.com/docs/overflow-wrap\n         */\n        wrap: [{\n          wrap: [\"break-word\", \"anywhere\", \"normal\"]\n        }],\n        /**\n         * Hyphens\n         * @see https://tailwindcss.com/docs/hyphens\n         */\n        hyphens: [{\n          hyphens: [\"none\", \"manual\", \"auto\"]\n        }],\n        /**\n         * Content\n         * @see https://tailwindcss.com/docs/content\n         */\n        content: [{\n          content: [\"none\", isArbitraryVariable, isArbitraryValue]\n        }],\n        // -------------------\n        // --- Backgrounds ---\n        // -------------------\n        /**\n         * Background Attachment\n         * @see https://tailwindcss.com/docs/background-attachment\n         */\n        \"bg-attachment\": [{\n          bg: [\"fixed\", \"local\", \"scroll\"]\n        }],\n        /**\n         * Background Clip\n         * @see https://tailwindcss.com/docs/background-clip\n         */\n        \"bg-clip\": [{\n          \"bg-clip\": [\"border\", \"padding\", \"content\", \"text\"]\n        }],\n        /**\n         * Background Origin\n         * @see https://tailwindcss.com/docs/background-origin\n         */\n        \"bg-origin\": [{\n          \"bg-origin\": [\"border\", \"padding\", \"content\"]\n        }],\n        /**\n         * Background Position\n         * @see https://tailwindcss.com/docs/background-position\n         */\n        \"bg-position\": [{\n          bg: scaleBgPosition()\n        }],\n        /**\n         * Background Repeat\n         * @see https://tailwindcss.com/docs/background-repeat\n         */\n        \"bg-repeat\": [{\n          bg: scaleBgRepeat()\n        }],\n        /**\n         * Background Size\n         * @see https://tailwindcss.com/docs/background-size\n         */\n        \"bg-size\": [{\n          bg: scaleBgSize()\n        }],\n        /**\n         * Background Image\n         * @see https://tailwindcss.com/docs/background-image\n         */\n        \"bg-image\": [{\n          bg: [\"none\", {\n            linear: [{\n              to: [\"t\", \"tr\", \"r\", \"br\", \"b\", \"bl\", \"l\", \"tl\"]\n            }, isInteger, isArbitraryVariable, isArbitraryValue],\n            radial: [\"\", isArbitraryVariable, isArbitraryValue],\n            conic: [isInteger, isArbitraryVariable, isArbitraryValue]\n          }, isArbitraryVariableImage, isArbitraryImage]\n        }],\n        /**\n         * Background Color\n         * @see https://tailwindcss.com/docs/background-color\n         */\n        \"bg-color\": [{\n          bg: scaleColor()\n        }],\n        /**\n         * Gradient Color Stops From Position\n         * @see https://tailwindcss.com/docs/gradient-color-stops\n         */\n        \"gradient-from-pos\": [{\n          from: scaleGradientStopPosition()\n        }],\n        /**\n         * Gradient Color Stops Via Position\n         * @see https://tailwindcss.com/docs/gradient-color-stops\n         */\n        \"gradient-via-pos\": [{\n          via: scaleGradientStopPosition()\n        }],\n        /**\n         * Gradient Color Stops To Position\n         * @see https://tailwindcss.com/docs/gradient-color-stops\n         */\n        \"gradient-to-pos\": [{\n          to: scaleGradientStopPosition()\n        }],\n        /**\n         * Gradient Color Stops From\n         * @see https://tailwindcss.com/docs/gradient-color-stops\n         */\n        \"gradient-from\": [{\n          from: scaleColor()\n        }],\n        /**\n         * Gradient Color Stops Via\n         * @see https://tailwindcss.com/docs/gradient-color-stops\n         */\n        \"gradient-via\": [{\n          via: scaleColor()\n        }],\n        /**\n         * Gradient Color Stops To\n         * @see https://tailwindcss.com/docs/gradient-color-stops\n         */\n        \"gradient-to\": [{\n          to: scaleColor()\n        }],\n        // ---------------\n        // --- Borders ---\n        // ---------------\n        /**\n         * Border Radius\n         * @see https://tailwindcss.com/docs/border-radius\n         */\n        rounded: [{\n          rounded: scaleRadius()\n        }],\n        /**\n         * Border Radius Start\n         * @see https://tailwindcss.com/docs/border-radius\n         */\n        \"rounded-s\": [{\n          \"rounded-s\": scaleRadius()\n        }],\n        /**\n         * Border Radius End\n         * @see https://tailwindcss.com/docs/border-radius\n         */\n        \"rounded-e\": [{\n          \"rounded-e\": scaleRadius()\n        }],\n        /**\n         * Border Radius Top\n         * @see https://tailwindcss.com/docs/border-radius\n         */\n        \"rounded-t\": [{\n          \"rounded-t\": scaleRadius()\n        }],\n        /**\n         * Border Radius Right\n         * @see https://tailwindcss.com/docs/border-radius\n         */\n        \"rounded-r\": [{\n          \"rounded-r\": scaleRadius()\n        }],\n        /**\n         * Border Radius Bottom\n         * @see https://tailwindcss.com/docs/border-radius\n         */\n        \"rounded-b\": [{\n          \"rounded-b\": scaleRadius()\n        }],\n        /**\n         * Border Radius Left\n         * @see https://tailwindcss.com/docs/border-radius\n         */\n        \"rounded-l\": [{\n          \"rounded-l\": scaleRadius()\n        }],\n        /**\n         * Border Radius Start Start\n         * @see https://tailwindcss.com/docs/border-radius\n         */\n        \"rounded-ss\": [{\n          \"rounded-ss\": scaleRadius()\n        }],\n        /**\n         * Border Radius Start End\n         * @see https://tailwindcss.com/docs/border-radius\n         */\n        \"rounded-se\": [{\n          \"rounded-se\": scaleRadius()\n        }],\n        /**\n         * Border Radius End End\n         * @see https://tailwindcss.com/docs/border-radius\n         */\n        \"rounded-ee\": [{\n          \"rounded-ee\": scaleRadius()\n        }],\n        /**\n         * Border Radius End Start\n         * @see https://tailwindcss.com/docs/border-radius\n         */\n        \"rounded-es\": [{\n          \"rounded-es\": scaleRadius()\n        }],\n        /**\n         * Border Radius Top Left\n         * @see https://tailwindcss.com/docs/border-radius\n         */\n        \"rounded-tl\": [{\n          \"rounded-tl\": scaleRadius()\n        }],\n        /**\n         * Border Radius Top Right\n         * @see https://tailwindcss.com/docs/border-radius\n         */\n        \"rounded-tr\": [{\n          \"rounded-tr\": scaleRadius()\n        }],\n        /**\n         * Border Radius Bottom Right\n         * @see https://tailwindcss.com/docs/border-radius\n         */\n        \"rounded-br\": [{\n          \"rounded-br\": scaleRadius()\n        }],\n        /**\n         * Border Radius Bottom Left\n         * @see https://tailwindcss.com/docs/border-radius\n         */\n        \"rounded-bl\": [{\n          \"rounded-bl\": scaleRadius()\n        }],\n        /**\n         * Border Width\n         * @see https://tailwindcss.com/docs/border-width\n         */\n        \"border-w\": [{\n          border: scaleBorderWidth()\n        }],\n        /**\n         * Border Width X\n         * @see https://tailwindcss.com/docs/border-width\n         */\n        \"border-w-x\": [{\n          \"border-x\": scaleBorderWidth()\n        }],\n        /**\n         * Border Width Y\n         * @see https://tailwindcss.com/docs/border-width\n         */\n        \"border-w-y\": [{\n          \"border-y\": scaleBorderWidth()\n        }],\n        /**\n         * Border Width Start\n         * @see https://tailwindcss.com/docs/border-width\n         */\n        \"border-w-s\": [{\n          \"border-s\": scaleBorderWidth()\n        }],\n        /**\n         * Border Width End\n         * @see https://tailwindcss.com/docs/border-width\n         */\n        \"border-w-e\": [{\n          \"border-e\": scaleBorderWidth()\n        }],\n        /**\n         * Border Width Top\n         * @see https://tailwindcss.com/docs/border-width\n         */\n        \"border-w-t\": [{\n          \"border-t\": scaleBorderWidth()\n        }],\n        /**\n         * Border Width Right\n         * @see https://tailwindcss.com/docs/border-width\n         */\n        \"border-w-r\": [{\n          \"border-r\": scaleBorderWidth()\n        }],\n        /**\n         * Border Width Bottom\n         * @see https://tailwindcss.com/docs/border-width\n         */\n        \"border-w-b\": [{\n          \"border-b\": scaleBorderWidth()\n        }],\n        /**\n         * Border Width Left\n         * @see https://tailwindcss.com/docs/border-width\n         */\n        \"border-w-l\": [{\n          \"border-l\": scaleBorderWidth()\n        }],\n        /**\n         * Divide Width X\n         * @see https://tailwindcss.com/docs/border-width#between-children\n         */\n        \"divide-x\": [{\n          \"divide-x\": scaleBorderWidth()\n        }],\n        /**\n         * Divide Width X Reverse\n         * @see https://tailwindcss.com/docs/border-width#between-children\n         */\n        \"divide-x-reverse\": [\"divide-x-reverse\"],\n        /**\n         * Divide Width Y\n         * @see https://tailwindcss.com/docs/border-width#between-children\n         */\n        \"divide-y\": [{\n          \"divide-y\": scaleBorderWidth()\n        }],\n        /**\n         * Divide Width Y Reverse\n         * @see https://tailwindcss.com/docs/border-width#between-children\n         */\n        \"divide-y-reverse\": [\"divide-y-reverse\"],\n        /**\n         * Border Style\n         * @see https://tailwindcss.com/docs/border-style\n         */\n        \"border-style\": [{\n          border: [...scaleLineStyle(), \"hidden\", \"none\"]\n        }],\n        /**\n         * Divide Style\n         * @see https://tailwindcss.com/docs/border-style#setting-the-divider-style\n         */\n        \"divide-style\": [{\n          divide: [...scaleLineStyle(), \"hidden\", \"none\"]\n        }],\n        /**\n         * Border Color\n         * @see https://tailwindcss.com/docs/border-color\n         */\n        \"border-color\": [{\n          border: scaleColor()\n        }],\n        /**\n         * Border Color X\n         * @see https://tailwindcss.com/docs/border-color\n         */\n        \"border-color-x\": [{\n          \"border-x\": scaleColor()\n        }],\n        /**\n         * Border Color Y\n         * @see https://tailwindcss.com/docs/border-color\n         */\n        \"border-color-y\": [{\n          \"border-y\": scaleColor()\n        }],\n        /**\n         * Border Color S\n         * @see https://tailwindcss.com/docs/border-color\n         */\n        \"border-color-s\": [{\n          \"border-s\": scaleColor()\n        }],\n        /**\n         * Border Color E\n         * @see https://tailwindcss.com/docs/border-color\n         */\n        \"border-color-e\": [{\n          \"border-e\": scaleColor()\n        }],\n        /**\n         * Border Color Top\n         * @see https://tailwindcss.com/docs/border-color\n         */\n        \"border-color-t\": [{\n          \"border-t\": scaleColor()\n        }],\n        /**\n         * Border Color Right\n         * @see https://tailwindcss.com/docs/border-color\n         */\n        \"border-color-r\": [{\n          \"border-r\": scaleColor()\n        }],\n        /**\n         * Border Color Bottom\n         * @see https://tailwindcss.com/docs/border-color\n         */\n        \"border-color-b\": [{\n          \"border-b\": scaleColor()\n        }],\n        /**\n         * Border Color Left\n         * @see https://tailwindcss.com/docs/border-color\n         */\n        \"border-color-l\": [{\n          \"border-l\": scaleColor()\n        }],\n        /**\n         * Divide Color\n         * @see https://tailwindcss.com/docs/divide-color\n         */\n        \"divide-color\": [{\n          divide: scaleColor()\n        }],\n        /**\n         * Outline Style\n         * @see https://tailwindcss.com/docs/outline-style\n         */\n        \"outline-style\": [{\n          outline: [...scaleLineStyle(), \"none\", \"hidden\"]\n        }],\n        /**\n         * Outline Offset\n         * @see https://tailwindcss.com/docs/outline-offset\n         */\n        \"outline-offset\": [{\n          \"outline-offset\": [isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Outline Width\n         * @see https://tailwindcss.com/docs/outline-width\n         */\n        \"outline-w\": [{\n          outline: [\"\", isNumber, isArbitraryVariableLength, isArbitraryLength]\n        }],\n        /**\n         * Outline Color\n         * @see https://tailwindcss.com/docs/outline-color\n         */\n        \"outline-color\": [{\n          outline: scaleColor()\n        }],\n        // ---------------\n        // --- Effects ---\n        // ---------------\n        /**\n         * Box Shadow\n         * @see https://tailwindcss.com/docs/box-shadow\n         */\n        shadow: [{\n          shadow: [\n            // Deprecated since Tailwind CSS v4.0.0\n            \"\",\n            \"none\",\n            themeShadow,\n            isArbitraryVariableShadow,\n            isArbitraryShadow\n          ]\n        }],\n        /**\n         * Box Shadow Color\n         * @see https://tailwindcss.com/docs/box-shadow#setting-the-shadow-color\n         */\n        \"shadow-color\": [{\n          shadow: scaleColor()\n        }],\n        /**\n         * Inset Box Shadow\n         * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-shadow\n         */\n        \"inset-shadow\": [{\n          \"inset-shadow\": [\"none\", themeInsetShadow, isArbitraryVariableShadow, isArbitraryShadow]\n        }],\n        /**\n         * Inset Box Shadow Color\n         * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-shadow-color\n         */\n        \"inset-shadow-color\": [{\n          \"inset-shadow\": scaleColor()\n        }],\n        /**\n         * Ring Width\n         * @see https://tailwindcss.com/docs/box-shadow#adding-a-ring\n         */\n        \"ring-w\": [{\n          ring: scaleBorderWidth()\n        }],\n        /**\n         * Ring Width Inset\n         * @see https://v3.tailwindcss.com/docs/ring-width#inset-rings\n         * @deprecated since Tailwind CSS v4.0.0\n         * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n         */\n        \"ring-w-inset\": [\"ring-inset\"],\n        /**\n         * Ring Color\n         * @see https://tailwindcss.com/docs/box-shadow#setting-the-ring-color\n         */\n        \"ring-color\": [{\n          ring: scaleColor()\n        }],\n        /**\n         * Ring Offset Width\n         * @see https://v3.tailwindcss.com/docs/ring-offset-width\n         * @deprecated since Tailwind CSS v4.0.0\n         * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n         */\n        \"ring-offset-w\": [{\n          \"ring-offset\": [isNumber, isArbitraryLength]\n        }],\n        /**\n         * Ring Offset Color\n         * @see https://v3.tailwindcss.com/docs/ring-offset-color\n         * @deprecated since Tailwind CSS v4.0.0\n         * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n         */\n        \"ring-offset-color\": [{\n          \"ring-offset\": scaleColor()\n        }],\n        /**\n         * Inset Ring Width\n         * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-ring\n         */\n        \"inset-ring-w\": [{\n          \"inset-ring\": scaleBorderWidth()\n        }],\n        /**\n         * Inset Ring Color\n         * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-ring-color\n         */\n        \"inset-ring-color\": [{\n          \"inset-ring\": scaleColor()\n        }],\n        /**\n         * Text Shadow\n         * @see https://tailwindcss.com/docs/text-shadow\n         */\n        \"text-shadow\": [{\n          \"text-shadow\": [\"none\", themeTextShadow, isArbitraryVariableShadow, isArbitraryShadow]\n        }],\n        /**\n         * Text Shadow Color\n         * @see https://tailwindcss.com/docs/text-shadow#setting-the-shadow-color\n         */\n        \"text-shadow-color\": [{\n          \"text-shadow\": scaleColor()\n        }],\n        /**\n         * Opacity\n         * @see https://tailwindcss.com/docs/opacity\n         */\n        opacity: [{\n          opacity: [isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Mix Blend Mode\n         * @see https://tailwindcss.com/docs/mix-blend-mode\n         */\n        \"mix-blend\": [{\n          \"mix-blend\": [...scaleBlendMode(), \"plus-darker\", \"plus-lighter\"]\n        }],\n        /**\n         * Background Blend Mode\n         * @see https://tailwindcss.com/docs/background-blend-mode\n         */\n        \"bg-blend\": [{\n          \"bg-blend\": scaleBlendMode()\n        }],\n        /**\n         * Mask Clip\n         * @see https://tailwindcss.com/docs/mask-clip\n         */\n        \"mask-clip\": [{\n          \"mask-clip\": [\"border\", \"padding\", \"content\", \"fill\", \"stroke\", \"view\"]\n        }, \"mask-no-clip\"],\n        /**\n         * Mask Composite\n         * @see https://tailwindcss.com/docs/mask-composite\n         */\n        \"mask-composite\": [{\n          mask: [\"add\", \"subtract\", \"intersect\", \"exclude\"]\n        }],\n        /**\n         * Mask Image\n         * @see https://tailwindcss.com/docs/mask-image\n         */\n        \"mask-image-linear-pos\": [{\n          \"mask-linear\": [isNumber]\n        }],\n        \"mask-image-linear-from-pos\": [{\n          \"mask-linear-from\": scaleMaskImagePosition()\n        }],\n        \"mask-image-linear-to-pos\": [{\n          \"mask-linear-to\": scaleMaskImagePosition()\n        }],\n        \"mask-image-linear-from-color\": [{\n          \"mask-linear-from\": scaleColor()\n        }],\n        \"mask-image-linear-to-color\": [{\n          \"mask-linear-to\": scaleColor()\n        }],\n        \"mask-image-t-from-pos\": [{\n          \"mask-t-from\": scaleMaskImagePosition()\n        }],\n        \"mask-image-t-to-pos\": [{\n          \"mask-t-to\": scaleMaskImagePosition()\n        }],\n        \"mask-image-t-from-color\": [{\n          \"mask-t-from\": scaleColor()\n        }],\n        \"mask-image-t-to-color\": [{\n          \"mask-t-to\": scaleColor()\n        }],\n        \"mask-image-r-from-pos\": [{\n          \"mask-r-from\": scaleMaskImagePosition()\n        }],\n        \"mask-image-r-to-pos\": [{\n          \"mask-r-to\": scaleMaskImagePosition()\n        }],\n        \"mask-image-r-from-color\": [{\n          \"mask-r-from\": scaleColor()\n        }],\n        \"mask-image-r-to-color\": [{\n          \"mask-r-to\": scaleColor()\n        }],\n        \"mask-image-b-from-pos\": [{\n          \"mask-b-from\": scaleMaskImagePosition()\n        }],\n        \"mask-image-b-to-pos\": [{\n          \"mask-b-to\": scaleMaskImagePosition()\n        }],\n        \"mask-image-b-from-color\": [{\n          \"mask-b-from\": scaleColor()\n        }],\n        \"mask-image-b-to-color\": [{\n          \"mask-b-to\": scaleColor()\n        }],\n        \"mask-image-l-from-pos\": [{\n          \"mask-l-from\": scaleMaskImagePosition()\n        }],\n        \"mask-image-l-to-pos\": [{\n          \"mask-l-to\": scaleMaskImagePosition()\n        }],\n        \"mask-image-l-from-color\": [{\n          \"mask-l-from\": scaleColor()\n        }],\n        \"mask-image-l-to-color\": [{\n          \"mask-l-to\": scaleColor()\n        }],\n        \"mask-image-x-from-pos\": [{\n          \"mask-x-from\": scaleMaskImagePosition()\n        }],\n        \"mask-image-x-to-pos\": [{\n          \"mask-x-to\": scaleMaskImagePosition()\n        }],\n        \"mask-image-x-from-color\": [{\n          \"mask-x-from\": scaleColor()\n        }],\n        \"mask-image-x-to-color\": [{\n          \"mask-x-to\": scaleColor()\n        }],\n        \"mask-image-y-from-pos\": [{\n          \"mask-y-from\": scaleMaskImagePosition()\n        }],\n        \"mask-image-y-to-pos\": [{\n          \"mask-y-to\": scaleMaskImagePosition()\n        }],\n        \"mask-image-y-from-color\": [{\n          \"mask-y-from\": scaleColor()\n        }],\n        \"mask-image-y-to-color\": [{\n          \"mask-y-to\": scaleColor()\n        }],\n        \"mask-image-radial\": [{\n          \"mask-radial\": [isArbitraryVariable, isArbitraryValue]\n        }],\n        \"mask-image-radial-from-pos\": [{\n          \"mask-radial-from\": scaleMaskImagePosition()\n        }],\n        \"mask-image-radial-to-pos\": [{\n          \"mask-radial-to\": scaleMaskImagePosition()\n        }],\n        \"mask-image-radial-from-color\": [{\n          \"mask-radial-from\": scaleColor()\n        }],\n        \"mask-image-radial-to-color\": [{\n          \"mask-radial-to\": scaleColor()\n        }],\n        \"mask-image-radial-shape\": [{\n          \"mask-radial\": [\"circle\", \"ellipse\"]\n        }],\n        \"mask-image-radial-size\": [{\n          \"mask-radial\": [{\n            closest: [\"side\", \"corner\"],\n            farthest: [\"side\", \"corner\"]\n          }]\n        }],\n        \"mask-image-radial-pos\": [{\n          \"mask-radial-at\": scalePosition()\n        }],\n        \"mask-image-conic-pos\": [{\n          \"mask-conic\": [isNumber]\n        }],\n        \"mask-image-conic-from-pos\": [{\n          \"mask-conic-from\": scaleMaskImagePosition()\n        }],\n        \"mask-image-conic-to-pos\": [{\n          \"mask-conic-to\": scaleMaskImagePosition()\n        }],\n        \"mask-image-conic-from-color\": [{\n          \"mask-conic-from\": scaleColor()\n        }],\n        \"mask-image-conic-to-color\": [{\n          \"mask-conic-to\": scaleColor()\n        }],\n        /**\n         * Mask Mode\n         * @see https://tailwindcss.com/docs/mask-mode\n         */\n        \"mask-mode\": [{\n          mask: [\"alpha\", \"luminance\", \"match\"]\n        }],\n        /**\n         * Mask Origin\n         * @see https://tailwindcss.com/docs/mask-origin\n         */\n        \"mask-origin\": [{\n          \"mask-origin\": [\"border\", \"padding\", \"content\", \"fill\", \"stroke\", \"view\"]\n        }],\n        /**\n         * Mask Position\n         * @see https://tailwindcss.com/docs/mask-position\n         */\n        \"mask-position\": [{\n          mask: scaleBgPosition()\n        }],\n        /**\n         * Mask Repeat\n         * @see https://tailwindcss.com/docs/mask-repeat\n         */\n        \"mask-repeat\": [{\n          mask: scaleBgRepeat()\n        }],\n        /**\n         * Mask Size\n         * @see https://tailwindcss.com/docs/mask-size\n         */\n        \"mask-size\": [{\n          mask: scaleBgSize()\n        }],\n        /**\n         * Mask Type\n         * @see https://tailwindcss.com/docs/mask-type\n         */\n        \"mask-type\": [{\n          \"mask-type\": [\"alpha\", \"luminance\"]\n        }],\n        /**\n         * Mask Image\n         * @see https://tailwindcss.com/docs/mask-image\n         */\n        \"mask-image\": [{\n          mask: [\"none\", isArbitraryVariable, isArbitraryValue]\n        }],\n        // ---------------\n        // --- Filters ---\n        // ---------------\n        /**\n         * Filter\n         * @see https://tailwindcss.com/docs/filter\n         */\n        filter: [{\n          filter: [\n            // Deprecated since Tailwind CSS v3.0.0\n            \"\",\n            \"none\",\n            isArbitraryVariable,\n            isArbitraryValue\n          ]\n        }],\n        /**\n         * Blur\n         * @see https://tailwindcss.com/docs/blur\n         */\n        blur: [{\n          blur: scaleBlur()\n        }],\n        /**\n         * Brightness\n         * @see https://tailwindcss.com/docs/brightness\n         */\n        brightness: [{\n          brightness: [isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Contrast\n         * @see https://tailwindcss.com/docs/contrast\n         */\n        contrast: [{\n          contrast: [isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Drop Shadow\n         * @see https://tailwindcss.com/docs/drop-shadow\n         */\n        \"drop-shadow\": [{\n          \"drop-shadow\": [\n            // Deprecated since Tailwind CSS v4.0.0\n            \"\",\n            \"none\",\n            themeDropShadow,\n            isArbitraryVariableShadow,\n            isArbitraryShadow\n          ]\n        }],\n        /**\n         * Drop Shadow Color\n         * @see https://tailwindcss.com/docs/filter-drop-shadow#setting-the-shadow-color\n         */\n        \"drop-shadow-color\": [{\n          \"drop-shadow\": scaleColor()\n        }],\n        /**\n         * Grayscale\n         * @see https://tailwindcss.com/docs/grayscale\n         */\n        grayscale: [{\n          grayscale: [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Hue Rotate\n         * @see https://tailwindcss.com/docs/hue-rotate\n         */\n        \"hue-rotate\": [{\n          \"hue-rotate\": [isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Invert\n         * @see https://tailwindcss.com/docs/invert\n         */\n        invert: [{\n          invert: [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Saturate\n         * @see https://tailwindcss.com/docs/saturate\n         */\n        saturate: [{\n          saturate: [isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Sepia\n         * @see https://tailwindcss.com/docs/sepia\n         */\n        sepia: [{\n          sepia: [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Backdrop Filter\n         * @see https://tailwindcss.com/docs/backdrop-filter\n         */\n        \"backdrop-filter\": [{\n          \"backdrop-filter\": [\n            // Deprecated since Tailwind CSS v3.0.0\n            \"\",\n            \"none\",\n            isArbitraryVariable,\n            isArbitraryValue\n          ]\n        }],\n        /**\n         * Backdrop Blur\n         * @see https://tailwindcss.com/docs/backdrop-blur\n         */\n        \"backdrop-blur\": [{\n          \"backdrop-blur\": scaleBlur()\n        }],\n        /**\n         * Backdrop Brightness\n         * @see https://tailwindcss.com/docs/backdrop-brightness\n         */\n        \"backdrop-brightness\": [{\n          \"backdrop-brightness\": [isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Backdrop Contrast\n         * @see https://tailwindcss.com/docs/backdrop-contrast\n         */\n        \"backdrop-contrast\": [{\n          \"backdrop-contrast\": [isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Backdrop Grayscale\n         * @see https://tailwindcss.com/docs/backdrop-grayscale\n         */\n        \"backdrop-grayscale\": [{\n          \"backdrop-grayscale\": [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Backdrop Hue Rotate\n         * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n         */\n        \"backdrop-hue-rotate\": [{\n          \"backdrop-hue-rotate\": [isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Backdrop Invert\n         * @see https://tailwindcss.com/docs/backdrop-invert\n         */\n        \"backdrop-invert\": [{\n          \"backdrop-invert\": [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Backdrop Opacity\n         * @see https://tailwindcss.com/docs/backdrop-opacity\n         */\n        \"backdrop-opacity\": [{\n          \"backdrop-opacity\": [isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Backdrop Saturate\n         * @see https://tailwindcss.com/docs/backdrop-saturate\n         */\n        \"backdrop-saturate\": [{\n          \"backdrop-saturate\": [isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Backdrop Sepia\n         * @see https://tailwindcss.com/docs/backdrop-sepia\n         */\n        \"backdrop-sepia\": [{\n          \"backdrop-sepia\": [\"\", isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        // --------------\n        // --- Tables ---\n        // --------------\n        /**\n         * Border Collapse\n         * @see https://tailwindcss.com/docs/border-collapse\n         */\n        \"border-collapse\": [{\n          border: [\"collapse\", \"separate\"]\n        }],\n        /**\n         * Border Spacing\n         * @see https://tailwindcss.com/docs/border-spacing\n         */\n        \"border-spacing\": [{\n          \"border-spacing\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Border Spacing X\n         * @see https://tailwindcss.com/docs/border-spacing\n         */\n        \"border-spacing-x\": [{\n          \"border-spacing-x\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Border Spacing Y\n         * @see https://tailwindcss.com/docs/border-spacing\n         */\n        \"border-spacing-y\": [{\n          \"border-spacing-y\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Table Layout\n         * @see https://tailwindcss.com/docs/table-layout\n         */\n        \"table-layout\": [{\n          table: [\"auto\", \"fixed\"]\n        }],\n        /**\n         * Caption Side\n         * @see https://tailwindcss.com/docs/caption-side\n         */\n        caption: [{\n          caption: [\"top\", \"bottom\"]\n        }],\n        // ---------------------------------\n        // --- Transitions and Animation ---\n        // ---------------------------------\n        /**\n         * Transition Property\n         * @see https://tailwindcss.com/docs/transition-property\n         */\n        transition: [{\n          transition: [\"\", \"all\", \"colors\", \"opacity\", \"shadow\", \"transform\", \"none\", isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Transition Behavior\n         * @see https://tailwindcss.com/docs/transition-behavior\n         */\n        \"transition-behavior\": [{\n          transition: [\"normal\", \"discrete\"]\n        }],\n        /**\n         * Transition Duration\n         * @see https://tailwindcss.com/docs/transition-duration\n         */\n        duration: [{\n          duration: [isNumber, \"initial\", isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Transition Timing Function\n         * @see https://tailwindcss.com/docs/transition-timing-function\n         */\n        ease: [{\n          ease: [\"linear\", \"initial\", themeEase, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Transition Delay\n         * @see https://tailwindcss.com/docs/transition-delay\n         */\n        delay: [{\n          delay: [isNumber, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Animation\n         * @see https://tailwindcss.com/docs/animation\n         */\n        animate: [{\n          animate: [\"none\", themeAnimate, isArbitraryVariable, isArbitraryValue]\n        }],\n        // ------------------\n        // --- Transforms ---\n        // ------------------\n        /**\n         * Backface Visibility\n         * @see https://tailwindcss.com/docs/backface-visibility\n         */\n        backface: [{\n          backface: [\"hidden\", \"visible\"]\n        }],\n        /**\n         * Perspective\n         * @see https://tailwindcss.com/docs/perspective\n         */\n        perspective: [{\n          perspective: [themePerspective, isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Perspective Origin\n         * @see https://tailwindcss.com/docs/perspective-origin\n         */\n        \"perspective-origin\": [{\n          \"perspective-origin\": scalePositionWithArbitrary()\n        }],\n        /**\n         * Rotate\n         * @see https://tailwindcss.com/docs/rotate\n         */\n        rotate: [{\n          rotate: scaleRotate()\n        }],\n        /**\n         * Rotate X\n         * @see https://tailwindcss.com/docs/rotate\n         */\n        \"rotate-x\": [{\n          \"rotate-x\": scaleRotate()\n        }],\n        /**\n         * Rotate Y\n         * @see https://tailwindcss.com/docs/rotate\n         */\n        \"rotate-y\": [{\n          \"rotate-y\": scaleRotate()\n        }],\n        /**\n         * Rotate Z\n         * @see https://tailwindcss.com/docs/rotate\n         */\n        \"rotate-z\": [{\n          \"rotate-z\": scaleRotate()\n        }],\n        /**\n         * Scale\n         * @see https://tailwindcss.com/docs/scale\n         */\n        scale: [{\n          scale: scaleScale()\n        }],\n        /**\n         * Scale X\n         * @see https://tailwindcss.com/docs/scale\n         */\n        \"scale-x\": [{\n          \"scale-x\": scaleScale()\n        }],\n        /**\n         * Scale Y\n         * @see https://tailwindcss.com/docs/scale\n         */\n        \"scale-y\": [{\n          \"scale-y\": scaleScale()\n        }],\n        /**\n         * Scale Z\n         * @see https://tailwindcss.com/docs/scale\n         */\n        \"scale-z\": [{\n          \"scale-z\": scaleScale()\n        }],\n        /**\n         * Scale 3D\n         * @see https://tailwindcss.com/docs/scale\n         */\n        \"scale-3d\": [\"scale-3d\"],\n        /**\n         * Skew\n         * @see https://tailwindcss.com/docs/skew\n         */\n        skew: [{\n          skew: scaleSkew()\n        }],\n        /**\n         * Skew X\n         * @see https://tailwindcss.com/docs/skew\n         */\n        \"skew-x\": [{\n          \"skew-x\": scaleSkew()\n        }],\n        /**\n         * Skew Y\n         * @see https://tailwindcss.com/docs/skew\n         */\n        \"skew-y\": [{\n          \"skew-y\": scaleSkew()\n        }],\n        /**\n         * Transform\n         * @see https://tailwindcss.com/docs/transform\n         */\n        transform: [{\n          transform: [isArbitraryVariable, isArbitraryValue, \"\", \"none\", \"gpu\", \"cpu\"]\n        }],\n        /**\n         * Transform Origin\n         * @see https://tailwindcss.com/docs/transform-origin\n         */\n        \"transform-origin\": [{\n          origin: scalePositionWithArbitrary()\n        }],\n        /**\n         * Transform Style\n         * @see https://tailwindcss.com/docs/transform-style\n         */\n        \"transform-style\": [{\n          transform: [\"3d\", \"flat\"]\n        }],\n        /**\n         * Translate\n         * @see https://tailwindcss.com/docs/translate\n         */\n        translate: [{\n          translate: scaleTranslate()\n        }],\n        /**\n         * Translate X\n         * @see https://tailwindcss.com/docs/translate\n         */\n        \"translate-x\": [{\n          \"translate-x\": scaleTranslate()\n        }],\n        /**\n         * Translate Y\n         * @see https://tailwindcss.com/docs/translate\n         */\n        \"translate-y\": [{\n          \"translate-y\": scaleTranslate()\n        }],\n        /**\n         * Translate Z\n         * @see https://tailwindcss.com/docs/translate\n         */\n        \"translate-z\": [{\n          \"translate-z\": scaleTranslate()\n        }],\n        /**\n         * Translate None\n         * @see https://tailwindcss.com/docs/translate\n         */\n        \"translate-none\": [\"translate-none\"],\n        // ---------------------\n        // --- Interactivity ---\n        // ---------------------\n        /**\n         * Accent Color\n         * @see https://tailwindcss.com/docs/accent-color\n         */\n        accent: [{\n          accent: scaleColor()\n        }],\n        /**\n         * Appearance\n         * @see https://tailwindcss.com/docs/appearance\n         */\n        appearance: [{\n          appearance: [\"none\", \"auto\"]\n        }],\n        /**\n         * Caret Color\n         * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n         */\n        \"caret-color\": [{\n          caret: scaleColor()\n        }],\n        /**\n         * Color Scheme\n         * @see https://tailwindcss.com/docs/color-scheme\n         */\n        \"color-scheme\": [{\n          scheme: [\"normal\", \"dark\", \"light\", \"light-dark\", \"only-dark\", \"only-light\"]\n        }],\n        /**\n         * Cursor\n         * @see https://tailwindcss.com/docs/cursor\n         */\n        cursor: [{\n          cursor: [\"auto\", \"default\", \"pointer\", \"wait\", \"text\", \"move\", \"help\", \"not-allowed\", \"none\", \"context-menu\", \"progress\", \"cell\", \"crosshair\", \"vertical-text\", \"alias\", \"copy\", \"no-drop\", \"grab\", \"grabbing\", \"all-scroll\", \"col-resize\", \"row-resize\", \"n-resize\", \"e-resize\", \"s-resize\", \"w-resize\", \"ne-resize\", \"nw-resize\", \"se-resize\", \"sw-resize\", \"ew-resize\", \"ns-resize\", \"nesw-resize\", \"nwse-resize\", \"zoom-in\", \"zoom-out\", isArbitraryVariable, isArbitraryValue]\n        }],\n        /**\n         * Field Sizing\n         * @see https://tailwindcss.com/docs/field-sizing\n         */\n        \"field-sizing\": [{\n          \"field-sizing\": [\"fixed\", \"content\"]\n        }],\n        /**\n         * Pointer Events\n         * @see https://tailwindcss.com/docs/pointer-events\n         */\n        \"pointer-events\": [{\n          \"pointer-events\": [\"auto\", \"none\"]\n        }],\n        /**\n         * Resize\n         * @see https://tailwindcss.com/docs/resize\n         */\n        resize: [{\n          resize: [\"none\", \"\", \"y\", \"x\"]\n        }],\n        /**\n         * Scroll Behavior\n         * @see https://tailwindcss.com/docs/scroll-behavior\n         */\n        \"scroll-behavior\": [{\n          scroll: [\"auto\", \"smooth\"]\n        }],\n        /**\n         * Scroll Margin\n         * @see https://tailwindcss.com/docs/scroll-margin\n         */\n        \"scroll-m\": [{\n          \"scroll-m\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Margin X\n         * @see https://tailwindcss.com/docs/scroll-margin\n         */\n        \"scroll-mx\": [{\n          \"scroll-mx\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Margin Y\n         * @see https://tailwindcss.com/docs/scroll-margin\n         */\n        \"scroll-my\": [{\n          \"scroll-my\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Margin Start\n         * @see https://tailwindcss.com/docs/scroll-margin\n         */\n        \"scroll-ms\": [{\n          \"scroll-ms\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Margin End\n         * @see https://tailwindcss.com/docs/scroll-margin\n         */\n        \"scroll-me\": [{\n          \"scroll-me\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Margin Top\n         * @see https://tailwindcss.com/docs/scroll-margin\n         */\n        \"scroll-mt\": [{\n          \"scroll-mt\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Margin Right\n         * @see https://tailwindcss.com/docs/scroll-margin\n         */\n        \"scroll-mr\": [{\n          \"scroll-mr\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Margin Bottom\n         * @see https://tailwindcss.com/docs/scroll-margin\n         */\n        \"scroll-mb\": [{\n          \"scroll-mb\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Margin Left\n         * @see https://tailwindcss.com/docs/scroll-margin\n         */\n        \"scroll-ml\": [{\n          \"scroll-ml\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Padding\n         * @see https://tailwindcss.com/docs/scroll-padding\n         */\n        \"scroll-p\": [{\n          \"scroll-p\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Padding X\n         * @see https://tailwindcss.com/docs/scroll-padding\n         */\n        \"scroll-px\": [{\n          \"scroll-px\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Padding Y\n         * @see https://tailwindcss.com/docs/scroll-padding\n         */\n        \"scroll-py\": [{\n          \"scroll-py\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Padding Start\n         * @see https://tailwindcss.com/docs/scroll-padding\n         */\n        \"scroll-ps\": [{\n          \"scroll-ps\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Padding End\n         * @see https://tailwindcss.com/docs/scroll-padding\n         */\n        \"scroll-pe\": [{\n          \"scroll-pe\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Padding Top\n         * @see https://tailwindcss.com/docs/scroll-padding\n         */\n        \"scroll-pt\": [{\n          \"scroll-pt\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Padding Right\n         * @see https://tailwindcss.com/docs/scroll-padding\n         */\n        \"scroll-pr\": [{\n          \"scroll-pr\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Padding Bottom\n         * @see https://tailwindcss.com/docs/scroll-padding\n         */\n        \"scroll-pb\": [{\n          \"scroll-pb\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Padding Left\n         * @see https://tailwindcss.com/docs/scroll-padding\n         */\n        \"scroll-pl\": [{\n          \"scroll-pl\": scaleUnambiguousSpacing()\n        }],\n        /**\n         * Scroll Snap Align\n         * @see https://tailwindcss.com/docs/scroll-snap-align\n         */\n        \"snap-align\": [{\n          snap: [\"start\", \"end\", \"center\", \"align-none\"]\n        }],\n        /**\n         * Scroll Snap Stop\n         * @see https://tailwindcss.com/docs/scroll-snap-stop\n         */\n        \"snap-stop\": [{\n          snap: [\"normal\", \"always\"]\n        }],\n        /**\n         * Scroll Snap Type\n         * @see https://tailwindcss.com/docs/scroll-snap-type\n         */\n        \"snap-type\": [{\n          snap: [\"none\", \"x\", \"y\", \"both\"]\n        }],\n        /**\n         * Scroll Snap Type Strictness\n         * @see https://tailwindcss.com/docs/scroll-snap-type\n         */\n        \"snap-strictness\": [{\n          snap: [\"mandatory\", \"proximity\"]\n        }],\n        /**\n         * Touch Action\n         * @see https://tailwindcss.com/docs/touch-action\n         */\n        touch: [{\n          touch: [\"auto\", \"none\", \"manipulation\"]\n        }],\n        /**\n         * Touch Action X\n         * @see https://tailwindcss.com/docs/touch-action\n         */\n        \"touch-x\": [{\n          \"touch-pan\": [\"x\", \"left\", \"right\"]\n        }],\n        /**\n         * Touch Action Y\n         * @see https://tailwindcss.com/docs/touch-action\n         */\n        \"touch-y\": [{\n          \"touch-pan\": [\"y\", \"up\", \"down\"]\n        }],\n        /**\n         * Touch Action Pinch Zoom\n         * @see https://tailwindcss.com/docs/touch-action\n         */\n        \"touch-pz\": [\"touch-pinch-zoom\"],\n        /**\n         * User Select\n         * @see https://tailwindcss.com/docs/user-select\n         */\n        select: [{\n          select: [\"none\", \"text\", \"all\", \"auto\"]\n        }],\n        /**\n         * Will Change\n         * @see https://tailwindcss.com/docs/will-change\n         */\n        \"will-change\": [{\n          \"will-change\": [\"auto\", \"scroll\", \"contents\", \"transform\", isArbitraryVariable, isArbitraryValue]\n        }],\n        // -----------\n        // --- SVG ---\n        // -----------\n        /**\n         * Fill\n         * @see https://tailwindcss.com/docs/fill\n         */\n        fill: [{\n          fill: [\"none\", ...scaleColor()]\n        }],\n        /**\n         * Stroke Width\n         * @see https://tailwindcss.com/docs/stroke-width\n         */\n        \"stroke-w\": [{\n          stroke: [isNumber, isArbitraryVariableLength, isArbitraryLength, isArbitraryNumber]\n        }],\n        /**\n         * Stroke\n         * @see https://tailwindcss.com/docs/stroke\n         */\n        stroke: [{\n          stroke: [\"none\", ...scaleColor()]\n        }],\n        // ---------------------\n        // --- Accessibility ---\n        // ---------------------\n        /**\n         * Forced Color Adjust\n         * @see https://tailwindcss.com/docs/forced-color-adjust\n         */\n        \"forced-color-adjust\": [{\n          \"forced-color-adjust\": [\"auto\", \"none\"]\n        }]\n      },\n      conflictingClassGroups: {\n        overflow: [\"overflow-x\", \"overflow-y\"],\n        overscroll: [\"overscroll-x\", \"overscroll-y\"],\n        inset: [\"inset-x\", \"inset-y\", \"start\", \"end\", \"top\", \"right\", \"bottom\", \"left\"],\n        \"inset-x\": [\"right\", \"left\"],\n        \"inset-y\": [\"top\", \"bottom\"],\n        flex: [\"basis\", \"grow\", \"shrink\"],\n        gap: [\"gap-x\", \"gap-y\"],\n        p: [\"px\", \"py\", \"ps\", \"pe\", \"pt\", \"pr\", \"pb\", \"pl\"],\n        px: [\"pr\", \"pl\"],\n        py: [\"pt\", \"pb\"],\n        m: [\"mx\", \"my\", \"ms\", \"me\", \"mt\", \"mr\", \"mb\", \"ml\"],\n        mx: [\"mr\", \"ml\"],\n        my: [\"mt\", \"mb\"],\n        size: [\"w\", \"h\"],\n        \"font-size\": [\"leading\"],\n        \"fvn-normal\": [\"fvn-ordinal\", \"fvn-slashed-zero\", \"fvn-figure\", \"fvn-spacing\", \"fvn-fraction\"],\n        \"fvn-ordinal\": [\"fvn-normal\"],\n        \"fvn-slashed-zero\": [\"fvn-normal\"],\n        \"fvn-figure\": [\"fvn-normal\"],\n        \"fvn-spacing\": [\"fvn-normal\"],\n        \"fvn-fraction\": [\"fvn-normal\"],\n        \"line-clamp\": [\"display\", \"overflow\"],\n        rounded: [\"rounded-s\", \"rounded-e\", \"rounded-t\", \"rounded-r\", \"rounded-b\", \"rounded-l\", \"rounded-ss\", \"rounded-se\", \"rounded-ee\", \"rounded-es\", \"rounded-tl\", \"rounded-tr\", \"rounded-br\", \"rounded-bl\"],\n        \"rounded-s\": [\"rounded-ss\", \"rounded-es\"],\n        \"rounded-e\": [\"rounded-se\", \"rounded-ee\"],\n        \"rounded-t\": [\"rounded-tl\", \"rounded-tr\"],\n        \"rounded-r\": [\"rounded-tr\", \"rounded-br\"],\n        \"rounded-b\": [\"rounded-br\", \"rounded-bl\"],\n        \"rounded-l\": [\"rounded-tl\", \"rounded-bl\"],\n        \"border-spacing\": [\"border-spacing-x\", \"border-spacing-y\"],\n        \"border-w\": [\"border-w-x\", \"border-w-y\", \"border-w-s\", \"border-w-e\", \"border-w-t\", \"border-w-r\", \"border-w-b\", \"border-w-l\"],\n        \"border-w-x\": [\"border-w-r\", \"border-w-l\"],\n        \"border-w-y\": [\"border-w-t\", \"border-w-b\"],\n        \"border-color\": [\"border-color-x\", \"border-color-y\", \"border-color-s\", \"border-color-e\", \"border-color-t\", \"border-color-r\", \"border-color-b\", \"border-color-l\"],\n        \"border-color-x\": [\"border-color-r\", \"border-color-l\"],\n        \"border-color-y\": [\"border-color-t\", \"border-color-b\"],\n        translate: [\"translate-x\", \"translate-y\", \"translate-none\"],\n        \"translate-none\": [\"translate\", \"translate-x\", \"translate-y\", \"translate-z\"],\n        \"scroll-m\": [\"scroll-mx\", \"scroll-my\", \"scroll-ms\", \"scroll-me\", \"scroll-mt\", \"scroll-mr\", \"scroll-mb\", \"scroll-ml\"],\n        \"scroll-mx\": [\"scroll-mr\", \"scroll-ml\"],\n        \"scroll-my\": [\"scroll-mt\", \"scroll-mb\"],\n        \"scroll-p\": [\"scroll-px\", \"scroll-py\", \"scroll-ps\", \"scroll-pe\", \"scroll-pt\", \"scroll-pr\", \"scroll-pb\", \"scroll-pl\"],\n        \"scroll-px\": [\"scroll-pr\", \"scroll-pl\"],\n        \"scroll-py\": [\"scroll-pt\", \"scroll-pb\"],\n        touch: [\"touch-x\", \"touch-y\", \"touch-pz\"],\n        \"touch-x\": [\"touch\"],\n        \"touch-y\": [\"touch\"],\n        \"touch-pz\": [\"touch\"]\n      },\n      conflictingClassGroupModifiers: {\n        \"font-size\": [\"leading\"]\n      },\n      orderSensitiveModifiers: [\"*\", \"**\", \"after\", \"backdrop\", \"before\", \"details-content\", \"file\", \"first-letter\", \"first-line\", \"marker\", \"placeholder\", \"selection\"]\n    };\n  };\n  const mergeConfigs = (baseConfig, {\n    cacheSize,\n    prefix,\n    experimentalParseClassName,\n    extend: extend2 = {},\n    override = {}\n  }) => {\n    overrideProperty(baseConfig, \"cacheSize\", cacheSize);\n    overrideProperty(baseConfig, \"prefix\", prefix);\n    overrideProperty(baseConfig, \"experimentalParseClassName\", experimentalParseClassName);\n    overrideConfigProperties(baseConfig.theme, override.theme);\n    overrideConfigProperties(baseConfig.classGroups, override.classGroups);\n    overrideConfigProperties(baseConfig.conflictingClassGroups, override.conflictingClassGroups);\n    overrideConfigProperties(baseConfig.conflictingClassGroupModifiers, override.conflictingClassGroupModifiers);\n    overrideProperty(baseConfig, \"orderSensitiveModifiers\", override.orderSensitiveModifiers);\n    mergeConfigProperties(baseConfig.theme, extend2.theme);\n    mergeConfigProperties(baseConfig.classGroups, extend2.classGroups);\n    mergeConfigProperties(baseConfig.conflictingClassGroups, extend2.conflictingClassGroups);\n    mergeConfigProperties(baseConfig.conflictingClassGroupModifiers, extend2.conflictingClassGroupModifiers);\n    mergeArrayProperties(baseConfig, extend2, \"orderSensitiveModifiers\");\n    return baseConfig;\n  };\n  const overrideProperty = (baseObject, overrideKey, overrideValue) => {\n    if (overrideValue !== void 0) {\n      baseObject[overrideKey] = overrideValue;\n    }\n  };\n  const overrideConfigProperties = (baseObject, overrideObject) => {\n    if (overrideObject) {\n      for (const key in overrideObject) {\n        overrideProperty(baseObject, key, overrideObject[key]);\n      }\n    }\n  };\n  const mergeConfigProperties = (baseObject, mergeObject) => {\n    if (mergeObject) {\n      for (const key in mergeObject) {\n        mergeArrayProperties(baseObject, mergeObject, key);\n      }\n    }\n  };\n  const mergeArrayProperties = (baseObject, mergeObject, key) => {\n    const mergeValue = mergeObject[key];\n    if (mergeValue !== void 0) {\n      baseObject[key] = baseObject[key] ? baseObject[key].concat(mergeValue) : mergeValue;\n    }\n  };\n  const extendTailwindMerge = (configExtension, ...createConfig) => typeof configExtension === \"function\" ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig) : createTailwindMerge(() => mergeConfigs(getDefaultConfig(), configExtension), ...createConfig);\n  const companionAnchorTagName = \"stagewise-companion-anchor\";\n  function getElementAtPoint(x2, y2) {\n    const elementsBelowAnnotation = document.elementsFromPoint(x2, y2);\n    const refElement = elementsBelowAnnotation.find(\n      (element) => element.nodeName !== \"STAGEWISE-COMPANION-ANCHOR\" && !element.closest(companionAnchorTagName) && !element.closest(\"svg\") && isElementAtPoint(element, x2, y2)\n    ) || document.body;\n    return refElement;\n  }\n  const isElementAtPoint = (element, clientX, clientY) => {\n    const boundingRect = element.getBoundingClientRect();\n    const isInHorizontalBounds = clientX > boundingRect.left && clientX < boundingRect.left + boundingRect.width;\n    const isInVerticalBounds = clientY > boundingRect.top && clientY < boundingRect.top + boundingRect.height;\n    return isInHorizontalBounds && isInVerticalBounds;\n  };\n  var HotkeyActions = /* @__PURE__ */ ((HotkeyActions2) => {\n    HotkeyActions2[HotkeyActions2[\"ESC\"] = 0] = \"ESC\";\n    HotkeyActions2[HotkeyActions2[\"CTRL_ALT_C\"] = 1] = \"CTRL_ALT_C\";\n    return HotkeyActions2;\n  })(HotkeyActions || {});\n  const hotkeyActionDefinitions = {\n    [\n      0\n      /* ESC */\n    ]: {\n      keyComboDefault: \"Esc\",\n      keyComboMac: \"esc\",\n      isEventMatching: (ev) => ev.code === \"Escape\"\n    },\n    [\n      1\n      /* CTRL_ALT_C */\n    ]: {\n      keyComboDefault: \"Ctrl+Alt+C\",\n      keyComboMac: \"⌘+⌥+C\",\n      isEventMatching: (ev) => ev.code === \"KeyC\" && (ev.ctrlKey || ev.metaKey) && ev.altKey\n    }\n  };\n  const customTwMerge = extendTailwindMerge({\n    extend: {\n      classGroups: {\n        \"bg-image\": [\n          \"bg-gradient\",\n          \"bg-gradient-light-1\",\n          \"bg-gradient-light-2\",\n          \"bg-gradient-light-3\"\n        ]\n      }\n    }\n  });\n  function cn(...inputs) {\n    return customTwMerge(clsx(inputs));\n  }\n  function HotkeyListener() {\n    const { startPromptCreation, stopPromptCreation } = useChatState();\n    const hotKeyHandlerMap = T$5(\n      () => ({\n        [HotkeyActions.CTRL_ALT_C]: () => {\n          startPromptCreation();\n        },\n        [HotkeyActions.ESC]: () => {\n          stopPromptCreation();\n        }\n      }),\n      [startPromptCreation, stopPromptCreation]\n    );\n    const hotKeyListener = q$3(\n      (ev) => {\n        for (const [action, definition] of Object.entries(\n          hotkeyActionDefinitions\n        )) {\n          if (definition.isEventMatching(ev)) {\n            ev.preventDefault();\n            ev.stopPropagation();\n            hotKeyHandlerMap[action]();\n            break;\n          }\n        }\n      },\n      [hotKeyHandlerMap]\n    );\n    useEventListener(\"keydown\", hotKeyListener, {\n      capture: true\n    });\n    return null;\n  }\n  const $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c = typeof document !== \"undefined\" ? Rn.useLayoutEffect : () => {\n  };\n  function $8ae05eaa5c114e9c$export$7f54fc3180508a52(fn2) {\n    const ref = A$3(null);\n    $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(() => {\n      ref.current = fn2;\n    }, [\n      fn2\n    ]);\n    return q$3((...args) => {\n      const f2 = ref.current;\n      return f2 === null || f2 === void 0 ? void 0 : f2(...args);\n    }, []);\n  }\n  const $431fbd86ca7dc216$export$b204af158042fbac = (el) => {\n    var _el_ownerDocument;\n    return (_el_ownerDocument = el === null || el === void 0 ? void 0 : el.ownerDocument) !== null && _el_ownerDocument !== void 0 ? _el_ownerDocument : document;\n  };\n  const $431fbd86ca7dc216$export$f21a1ffae260145a = (el) => {\n    if (el && \"window\" in el && el.window === el) return el;\n    const doc = $431fbd86ca7dc216$export$b204af158042fbac(el);\n    return doc.defaultView || window;\n  };\n  function $431fbd86ca7dc216$var$isNode(value) {\n    return value !== null && typeof value === \"object\" && \"nodeType\" in value && typeof value.nodeType === \"number\";\n  }\n  function $431fbd86ca7dc216$export$af51f0f06c0f328a(node) {\n    return $431fbd86ca7dc216$var$isNode(node) && node.nodeType === Node.DOCUMENT_FRAGMENT_NODE && \"host\" in node;\n  }\n  let $f4e2df6bd15f8569$var$_shadowDOM = false;\n  function $f4e2df6bd15f8569$export$98658e8c59125e6a() {\n    return $f4e2df6bd15f8569$var$_shadowDOM;\n  }\n  function $d4ee10de306f2510$export$4282f70798064fe0(node, otherNode) {\n    if (!$f4e2df6bd15f8569$export$98658e8c59125e6a()) return otherNode && node ? node.contains(otherNode) : false;\n    if (!node || !otherNode) return false;\n    let currentNode = otherNode;\n    while (currentNode !== null) {\n      if (currentNode === node) return true;\n      if (currentNode.tagName === \"SLOT\" && currentNode.assignedSlot)\n        currentNode = currentNode.assignedSlot.parentNode;\n      else if ($431fbd86ca7dc216$export$af51f0f06c0f328a(currentNode))\n        currentNode = currentNode.host;\n      else currentNode = currentNode.parentNode;\n    }\n    return false;\n  }\n  const $d4ee10de306f2510$export$cd4e5573fbe2b576 = (doc = document) => {\n    var _activeElement_shadowRoot;\n    if (!$f4e2df6bd15f8569$export$98658e8c59125e6a()) return doc.activeElement;\n    let activeElement = doc.activeElement;\n    while (activeElement && \"shadowRoot\" in activeElement && ((_activeElement_shadowRoot = activeElement.shadowRoot) === null || _activeElement_shadowRoot === void 0 ? void 0 : _activeElement_shadowRoot.activeElement)) activeElement = activeElement.shadowRoot.activeElement;\n    return activeElement;\n  };\n  function $d4ee10de306f2510$export$e58f029f0fbfdb29(event) {\n    if ($f4e2df6bd15f8569$export$98658e8c59125e6a() && event.target.shadowRoot) {\n      if (event.composedPath) return event.composedPath()[0];\n    }\n    return event.target;\n  }\n  function $c87311424ea30a05$var$testUserAgent(re) {\n    var _window_navigator_userAgentData;\n    if (typeof window === \"undefined\" || window.navigator == null) return false;\n    return ((_window_navigator_userAgentData = window.navigator[\"userAgentData\"]) === null || _window_navigator_userAgentData === void 0 ? void 0 : _window_navigator_userAgentData.brands.some((brand) => re.test(brand.brand))) || re.test(window.navigator.userAgent);\n  }\n  function $c87311424ea30a05$var$testPlatform(re) {\n    var _window_navigator_userAgentData;\n    return typeof window !== \"undefined\" && window.navigator != null ? re.test(((_window_navigator_userAgentData = window.navigator[\"userAgentData\"]) === null || _window_navigator_userAgentData === void 0 ? void 0 : _window_navigator_userAgentData.platform) || window.navigator.platform) : false;\n  }\n  function $c87311424ea30a05$var$cached(fn2) {\n    if (false) {}\n    let res = null;\n    return () => {\n      if (res == null) res = fn2();\n      return res;\n    };\n  }\n  const $c87311424ea30a05$export$9ac100e40613ea10 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testPlatform(/^Mac/i);\n  });\n  const $c87311424ea30a05$export$186c6964ca17d99 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testPlatform(/^iPhone/i);\n  });\n  const $c87311424ea30a05$export$7bef049ce92e4224 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testPlatform(/^iPad/i) || // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\n    $c87311424ea30a05$export$9ac100e40613ea10() && navigator.maxTouchPoints > 1;\n  });\n  const $c87311424ea30a05$export$fedb369cb70207f1 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$export$186c6964ca17d99() || $c87311424ea30a05$export$7bef049ce92e4224();\n  });\n  $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$export$9ac100e40613ea10() || $c87311424ea30a05$export$fedb369cb70207f1();\n  });\n  $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testUserAgent(/AppleWebKit/i) && !$c87311424ea30a05$export$6446a186d09e379e();\n  });\n  const $c87311424ea30a05$export$6446a186d09e379e = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testUserAgent(/Chrome/i);\n  });\n  const $c87311424ea30a05$export$a11b0059900ceec8 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testUserAgent(/Android/i);\n  });\n  $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testUserAgent(/Firefox/i);\n  });\n  function $03deb23ff14920c4$export$4eaf04e54aa8eed6() {\n    let globalListeners = A$3(/* @__PURE__ */ new Map());\n    let addGlobalListener = q$3((eventTarget, type, listener, options) => {\n      let fn2 = (options === null || options === void 0 ? void 0 : options.once) ? (...args) => {\n        globalListeners.current.delete(listener);\n        listener(...args);\n      } : listener;\n      globalListeners.current.set(listener, {\n        type,\n        eventTarget,\n        fn: fn2,\n        options\n      });\n      eventTarget.addEventListener(type, fn2, options);\n    }, []);\n    let removeGlobalListener = q$3((eventTarget, type, listener, options) => {\n      var _globalListeners_current_get;\n      let fn2 = ((_globalListeners_current_get = globalListeners.current.get(listener)) === null || _globalListeners_current_get === void 0 ? void 0 : _globalListeners_current_get.fn) || listener;\n      eventTarget.removeEventListener(type, fn2, options);\n      globalListeners.current.delete(listener);\n    }, []);\n    let removeAllGlobalListeners = q$3(() => {\n      globalListeners.current.forEach((value, key) => {\n        removeGlobalListener(value.eventTarget, value.type, key, value.options);\n      });\n    }, [\n      removeGlobalListener\n    ]);\n    y$6(() => {\n      return removeAllGlobalListeners;\n    }, [\n      removeAllGlobalListeners\n    ]);\n    return {\n      addGlobalListener,\n      removeGlobalListener,\n      removeAllGlobalListeners\n    };\n  }\n  function $6a7db85432448f7f$export$60278871457622de(event) {\n    if (event.mozInputSource === 0 && event.isTrusted) return true;\n    if ($c87311424ea30a05$export$a11b0059900ceec8() && event.pointerType) return event.type === \"click\" && event.buttons === 1;\n    return event.detail === 0 && !event.pointerType;\n  }\n  function $8a9cb279dc87e130$export$525bc4921d56d4a(nativeEvent) {\n    let event = nativeEvent;\n    event.nativeEvent = nativeEvent;\n    event.isDefaultPrevented = () => event.defaultPrevented;\n    event.isPropagationStopped = () => event.cancelBubble;\n    event.persist = () => {\n    };\n    return event;\n  }\n  function $8a9cb279dc87e130$export$c2b7abe5d61ec696(event, target) {\n    Object.defineProperty(event, \"target\", {\n      value: target\n    });\n    Object.defineProperty(event, \"currentTarget\", {\n      value: target\n    });\n  }\n  function $8a9cb279dc87e130$export$715c682d09d639cc(onBlur) {\n    let stateRef = A$3({\n      isFocused: false,\n      observer: null\n    });\n    $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(() => {\n      const state = stateRef.current;\n      return () => {\n        if (state.observer) {\n          state.observer.disconnect();\n          state.observer = null;\n        }\n      };\n    }, []);\n    let dispatchBlur = $8ae05eaa5c114e9c$export$7f54fc3180508a52((e2) => {\n      onBlur === null || onBlur === void 0 ? void 0 : onBlur(e2);\n    });\n    return q$3((e2) => {\n      if (e2.target instanceof HTMLButtonElement || e2.target instanceof HTMLInputElement || e2.target instanceof HTMLTextAreaElement || e2.target instanceof HTMLSelectElement) {\n        stateRef.current.isFocused = true;\n        let target = e2.target;\n        let onBlurHandler = (e3) => {\n          stateRef.current.isFocused = false;\n          if (target.disabled) {\n            let event = $8a9cb279dc87e130$export$525bc4921d56d4a(e3);\n            dispatchBlur(event);\n          }\n          if (stateRef.current.observer) {\n            stateRef.current.observer.disconnect();\n            stateRef.current.observer = null;\n          }\n        };\n        target.addEventListener(\"focusout\", onBlurHandler, {\n          once: true\n        });\n        stateRef.current.observer = new MutationObserver(() => {\n          if (stateRef.current.isFocused && target.disabled) {\n            var _stateRef_current_observer;\n            (_stateRef_current_observer = stateRef.current.observer) === null || _stateRef_current_observer === void 0 ? void 0 : _stateRef_current_observer.disconnect();\n            let relatedTargetEl = target === document.activeElement ? null : document.activeElement;\n            target.dispatchEvent(new FocusEvent(\"blur\", {\n              relatedTarget: relatedTargetEl\n            }));\n            target.dispatchEvent(new FocusEvent(\"focusout\", {\n              bubbles: true,\n              relatedTarget: relatedTargetEl\n            }));\n          }\n        });\n        stateRef.current.observer.observe(target, {\n          attributes: true,\n          attributeFilter: [\n            \"disabled\"\n          ]\n        });\n      }\n    }, [\n      dispatchBlur\n    ]);\n  }\n  let $8a9cb279dc87e130$export$fda7da73ab5d4c48 = false;\n  let $507fabe10e71c6fb$var$currentModality = null;\n  let $507fabe10e71c6fb$var$changeHandlers = /* @__PURE__ */ new Set();\n  let $507fabe10e71c6fb$export$d90243b58daecda7 = /* @__PURE__ */ new Map();\n  let $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\n  let $507fabe10e71c6fb$var$hasBlurredWindowRecently = false;\n  const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS = {\n    Tab: true,\n    Escape: true\n  };\n  function $507fabe10e71c6fb$var$triggerChangeHandlers(modality, e2) {\n    for (let handler of $507fabe10e71c6fb$var$changeHandlers) handler(modality, e2);\n  }\n  function $507fabe10e71c6fb$var$isValidKey(e2) {\n    return !(e2.metaKey || !$c87311424ea30a05$export$9ac100e40613ea10() && e2.altKey || e2.ctrlKey || e2.key === \"Control\" || e2.key === \"Shift\" || e2.key === \"Meta\");\n  }\n  function $507fabe10e71c6fb$var$handleKeyboardEvent(e2) {\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n    if ($507fabe10e71c6fb$var$isValidKey(e2)) {\n      $507fabe10e71c6fb$var$currentModality = \"keyboard\";\n      $507fabe10e71c6fb$var$triggerChangeHandlers(\"keyboard\", e2);\n    }\n  }\n  function $507fabe10e71c6fb$var$handlePointerEvent(e2) {\n    $507fabe10e71c6fb$var$currentModality = \"pointer\";\n    if (e2.type === \"mousedown\" || e2.type === \"pointerdown\") {\n      $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n      $507fabe10e71c6fb$var$triggerChangeHandlers(\"pointer\", e2);\n    }\n  }\n  function $507fabe10e71c6fb$var$handleClickEvent(e2) {\n    if ($6a7db85432448f7f$export$60278871457622de(e2)) {\n      $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n      $507fabe10e71c6fb$var$currentModality = \"virtual\";\n    }\n  }\n  function $507fabe10e71c6fb$var$handleFocusEvent(e2) {\n    if (e2.target === window || e2.target === document || $8a9cb279dc87e130$export$fda7da73ab5d4c48 || !e2.isTrusted) return;\n    if (!$507fabe10e71c6fb$var$hasEventBeforeFocus && !$507fabe10e71c6fb$var$hasBlurredWindowRecently) {\n      $507fabe10e71c6fb$var$currentModality = \"virtual\";\n      $507fabe10e71c6fb$var$triggerChangeHandlers(\"virtual\", e2);\n    }\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\n    $507fabe10e71c6fb$var$hasBlurredWindowRecently = false;\n  }\n  function $507fabe10e71c6fb$var$handleWindowBlur() {\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\n    $507fabe10e71c6fb$var$hasBlurredWindowRecently = true;\n  }\n  function $507fabe10e71c6fb$var$setupGlobalFocusEvents(element) {\n    if (typeof window === \"undefined\" || $507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(element))) return;\n    const windowObject = $431fbd86ca7dc216$export$f21a1ffae260145a(element);\n    const documentObject = $431fbd86ca7dc216$export$b204af158042fbac(element);\n    let focus = windowObject.HTMLElement.prototype.focus;\n    windowObject.HTMLElement.prototype.focus = function() {\n      $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n      focus.apply(this, arguments);\n    };\n    documentObject.addEventListener(\"keydown\", $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n    documentObject.addEventListener(\"keyup\", $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n    documentObject.addEventListener(\"click\", $507fabe10e71c6fb$var$handleClickEvent, true);\n    windowObject.addEventListener(\"focus\", $507fabe10e71c6fb$var$handleFocusEvent, true);\n    windowObject.addEventListener(\"blur\", $507fabe10e71c6fb$var$handleWindowBlur, false);\n    if (typeof PointerEvent !== \"undefined\") {\n      documentObject.addEventListener(\"pointerdown\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n      documentObject.addEventListener(\"pointermove\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n      documentObject.addEventListener(\"pointerup\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n    } else if (false) {}\n    windowObject.addEventListener(\"beforeunload\", () => {\n      $507fabe10e71c6fb$var$tearDownWindowFocusTracking(element);\n    }, {\n      once: true\n    });\n    $507fabe10e71c6fb$export$d90243b58daecda7.set(windowObject, {\n      focus\n    });\n  }\n  const $507fabe10e71c6fb$var$tearDownWindowFocusTracking = (element, loadListener) => {\n    const windowObject = $431fbd86ca7dc216$export$f21a1ffae260145a(element);\n    const documentObject = $431fbd86ca7dc216$export$b204af158042fbac(element);\n    if (loadListener) documentObject.removeEventListener(\"DOMContentLoaded\", loadListener);\n    if (!$507fabe10e71c6fb$export$d90243b58daecda7.has(windowObject)) return;\n    windowObject.HTMLElement.prototype.focus = $507fabe10e71c6fb$export$d90243b58daecda7.get(windowObject).focus;\n    documentObject.removeEventListener(\"keydown\", $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n    documentObject.removeEventListener(\"keyup\", $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n    documentObject.removeEventListener(\"click\", $507fabe10e71c6fb$var$handleClickEvent, true);\n    windowObject.removeEventListener(\"focus\", $507fabe10e71c6fb$var$handleFocusEvent, true);\n    windowObject.removeEventListener(\"blur\", $507fabe10e71c6fb$var$handleWindowBlur, false);\n    if (typeof PointerEvent !== \"undefined\") {\n      documentObject.removeEventListener(\"pointerdown\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n      documentObject.removeEventListener(\"pointermove\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n      documentObject.removeEventListener(\"pointerup\", $507fabe10e71c6fb$var$handlePointerEvent, true);\n    } else if (false) {}\n    $507fabe10e71c6fb$export$d90243b58daecda7.delete(windowObject);\n  };\n  function $507fabe10e71c6fb$export$2f1888112f558a7d(element) {\n    const documentObject = $431fbd86ca7dc216$export$b204af158042fbac(element);\n    let loadListener;\n    if (documentObject.readyState !== \"loading\") $507fabe10e71c6fb$var$setupGlobalFocusEvents(element);\n    else {\n      loadListener = () => {\n        $507fabe10e71c6fb$var$setupGlobalFocusEvents(element);\n      };\n      documentObject.addEventListener(\"DOMContentLoaded\", loadListener);\n    }\n    return () => $507fabe10e71c6fb$var$tearDownWindowFocusTracking(element, loadListener);\n  }\n  if (typeof document !== \"undefined\") $507fabe10e71c6fb$export$2f1888112f558a7d();\n  function $507fabe10e71c6fb$export$b9b3dfddab17db27() {\n    return $507fabe10e71c6fb$var$currentModality !== \"pointer\";\n  }\n  const $507fabe10e71c6fb$var$nonTextInputTypes = /* @__PURE__ */ new Set([\n    \"checkbox\",\n    \"radio\",\n    \"range\",\n    \"color\",\n    \"file\",\n    \"image\",\n    \"button\",\n    \"submit\",\n    \"reset\"\n  ]);\n  function $507fabe10e71c6fb$var$isKeyboardFocusEvent(isTextInput, modality, e2) {\n    let document1 = $431fbd86ca7dc216$export$b204af158042fbac(e2 === null || e2 === void 0 ? void 0 : e2.target);\n    const IHTMLInputElement = typeof window !== \"undefined\" ? $431fbd86ca7dc216$export$f21a1ffae260145a(e2 === null || e2 === void 0 ? void 0 : e2.target).HTMLInputElement : HTMLInputElement;\n    const IHTMLTextAreaElement = typeof window !== \"undefined\" ? $431fbd86ca7dc216$export$f21a1ffae260145a(e2 === null || e2 === void 0 ? void 0 : e2.target).HTMLTextAreaElement : HTMLTextAreaElement;\n    const IHTMLElement = typeof window !== \"undefined\" ? $431fbd86ca7dc216$export$f21a1ffae260145a(e2 === null || e2 === void 0 ? void 0 : e2.target).HTMLElement : HTMLElement;\n    const IKeyboardEvent = typeof window !== \"undefined\" ? $431fbd86ca7dc216$export$f21a1ffae260145a(e2 === null || e2 === void 0 ? void 0 : e2.target).KeyboardEvent : KeyboardEvent;\n    isTextInput = isTextInput || document1.activeElement instanceof IHTMLInputElement && !$507fabe10e71c6fb$var$nonTextInputTypes.has(document1.activeElement.type) || document1.activeElement instanceof IHTMLTextAreaElement || document1.activeElement instanceof IHTMLElement && document1.activeElement.isContentEditable;\n    return !(isTextInput && modality === \"keyboard\" && e2 instanceof IKeyboardEvent && !$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[e2.key]);\n  }\n  function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(fn2, deps, opts) {\n    $507fabe10e71c6fb$var$setupGlobalFocusEvents();\n    y$6(() => {\n      let handler = (modality, e2) => {\n        if (!$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(opts === null || opts === void 0 ? void 0 : opts.isTextInput), modality, e2)) return;\n        fn2($507fabe10e71c6fb$export$b9b3dfddab17db27());\n      };\n      $507fabe10e71c6fb$var$changeHandlers.add(handler);\n      return () => {\n        $507fabe10e71c6fb$var$changeHandlers.delete(handler);\n      };\n    }, deps);\n  }\n  function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(props) {\n    let { isDisabled, onFocus: onFocusProp, onBlur: onBlurProp, onFocusChange } = props;\n    const onBlur = q$3((e2) => {\n      if (e2.target === e2.currentTarget) {\n        if (onBlurProp) onBlurProp(e2);\n        if (onFocusChange) onFocusChange(false);\n        return true;\n      }\n    }, [\n      onBlurProp,\n      onFocusChange\n    ]);\n    const onSyntheticFocus = $8a9cb279dc87e130$export$715c682d09d639cc(onBlur);\n    const onFocus = q$3((e2) => {\n      const ownerDocument = $431fbd86ca7dc216$export$b204af158042fbac(e2.target);\n      const activeElement = ownerDocument ? $d4ee10de306f2510$export$cd4e5573fbe2b576(ownerDocument) : $d4ee10de306f2510$export$cd4e5573fbe2b576();\n      if (e2.target === e2.currentTarget && activeElement === $d4ee10de306f2510$export$e58f029f0fbfdb29(e2.nativeEvent)) {\n        if (onFocusProp) onFocusProp(e2);\n        if (onFocusChange) onFocusChange(true);\n        onSyntheticFocus(e2);\n      }\n    }, [\n      onFocusChange,\n      onFocusProp,\n      onSyntheticFocus\n    ]);\n    return {\n      focusProps: {\n        onFocus: !isDisabled && (onFocusProp || onFocusChange || onBlurProp) ? onFocus : void 0,\n        onBlur: !isDisabled && (onBlurProp || onFocusChange) ? onBlur : void 0\n      }\n    };\n  }\n  function $9ab94262bd0047c7$export$420e68273165f4ec(props) {\n    let { isDisabled, onBlurWithin, onFocusWithin, onFocusWithinChange } = props;\n    let state = A$3({\n      isFocusWithin: false\n    });\n    let { addGlobalListener, removeAllGlobalListeners } = $03deb23ff14920c4$export$4eaf04e54aa8eed6();\n    let onBlur = q$3((e2) => {\n      if (!e2.currentTarget.contains(e2.target)) return;\n      if (state.current.isFocusWithin && !e2.currentTarget.contains(e2.relatedTarget)) {\n        state.current.isFocusWithin = false;\n        removeAllGlobalListeners();\n        if (onBlurWithin) onBlurWithin(e2);\n        if (onFocusWithinChange) onFocusWithinChange(false);\n      }\n    }, [\n      onBlurWithin,\n      onFocusWithinChange,\n      state,\n      removeAllGlobalListeners\n    ]);\n    let onSyntheticFocus = $8a9cb279dc87e130$export$715c682d09d639cc(onBlur);\n    let onFocus = q$3((e2) => {\n      if (!e2.currentTarget.contains(e2.target)) return;\n      const ownerDocument = $431fbd86ca7dc216$export$b204af158042fbac(e2.target);\n      const activeElement = $d4ee10de306f2510$export$cd4e5573fbe2b576(ownerDocument);\n      if (!state.current.isFocusWithin && activeElement === $d4ee10de306f2510$export$e58f029f0fbfdb29(e2.nativeEvent)) {\n        if (onFocusWithin) onFocusWithin(e2);\n        if (onFocusWithinChange) onFocusWithinChange(true);\n        state.current.isFocusWithin = true;\n        onSyntheticFocus(e2);\n        let currentTarget = e2.currentTarget;\n        addGlobalListener(ownerDocument, \"focus\", (e3) => {\n          if (state.current.isFocusWithin && !$d4ee10de306f2510$export$4282f70798064fe0(currentTarget, e3.target)) {\n            let nativeEvent = new ownerDocument.defaultView.FocusEvent(\"blur\", {\n              relatedTarget: e3.target\n            });\n            $8a9cb279dc87e130$export$c2b7abe5d61ec696(nativeEvent, currentTarget);\n            let event = $8a9cb279dc87e130$export$525bc4921d56d4a(nativeEvent);\n            onBlur(event);\n          }\n        }, {\n          capture: true\n        });\n      }\n    }, [\n      onFocusWithin,\n      onFocusWithinChange,\n      onSyntheticFocus,\n      addGlobalListener,\n      onBlur\n    ]);\n    if (isDisabled) return {\n      focusWithinProps: {\n        // These cannot be null, that would conflict in mergeProps\n        onFocus: void 0,\n        onBlur: void 0\n      }\n    };\n    return {\n      focusWithinProps: {\n        onFocus,\n        onBlur\n      }\n    };\n  }\n  let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = false;\n  let $6179b936705e76d3$var$hoverCount = 0;\n  function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents() {\n    $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = true;\n    setTimeout(() => {\n      $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = false;\n    }, 50);\n  }\n  function $6179b936705e76d3$var$handleGlobalPointerEvent(e2) {\n    if (e2.pointerType === \"touch\") $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents();\n  }\n  function $6179b936705e76d3$var$setupGlobalTouchEvents() {\n    if (typeof document === \"undefined\") return;\n    if (typeof PointerEvent !== \"undefined\") document.addEventListener(\"pointerup\", $6179b936705e76d3$var$handleGlobalPointerEvent);\n    else if (false) {}\n    $6179b936705e76d3$var$hoverCount++;\n    return () => {\n      $6179b936705e76d3$var$hoverCount--;\n      if ($6179b936705e76d3$var$hoverCount > 0) return;\n      if (typeof PointerEvent !== \"undefined\") document.removeEventListener(\"pointerup\", $6179b936705e76d3$var$handleGlobalPointerEvent);\n      else if (false) {}\n    };\n  }\n  function $6179b936705e76d3$export$ae780daf29e6d456(props) {\n    let { onHoverStart, onHoverChange, onHoverEnd, isDisabled } = props;\n    let [isHovered, setHovered] = d$4(false);\n    let state = A$3({\n      isHovered: false,\n      ignoreEmulatedMouseEvents: false,\n      pointerType: \"\",\n      target: null\n    }).current;\n    y$6($6179b936705e76d3$var$setupGlobalTouchEvents, []);\n    let { addGlobalListener, removeAllGlobalListeners } = $03deb23ff14920c4$export$4eaf04e54aa8eed6();\n    let { hoverProps, triggerHoverEnd } = T$5(() => {\n      let triggerHoverStart = (event, pointerType) => {\n        state.pointerType = pointerType;\n        if (isDisabled || pointerType === \"touch\" || state.isHovered || !event.currentTarget.contains(event.target)) return;\n        state.isHovered = true;\n        let target = event.currentTarget;\n        state.target = target;\n        addGlobalListener($431fbd86ca7dc216$export$b204af158042fbac(event.target), \"pointerover\", (e2) => {\n          if (state.isHovered && state.target && !$d4ee10de306f2510$export$4282f70798064fe0(state.target, e2.target)) triggerHoverEnd2(e2, e2.pointerType);\n        }, {\n          capture: true\n        });\n        if (onHoverStart) onHoverStart({\n          type: \"hoverstart\",\n          target,\n          pointerType\n        });\n        if (onHoverChange) onHoverChange(true);\n        setHovered(true);\n      };\n      let triggerHoverEnd2 = (event, pointerType) => {\n        let target = state.target;\n        state.pointerType = \"\";\n        state.target = null;\n        if (pointerType === \"touch\" || !state.isHovered || !target) return;\n        state.isHovered = false;\n        removeAllGlobalListeners();\n        if (onHoverEnd) onHoverEnd({\n          type: \"hoverend\",\n          target,\n          pointerType\n        });\n        if (onHoverChange) onHoverChange(false);\n        setHovered(false);\n      };\n      let hoverProps2 = {};\n      if (typeof PointerEvent !== \"undefined\") {\n        hoverProps2.onPointerEnter = (e2) => {\n          if ($6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents && e2.pointerType === \"mouse\") return;\n          triggerHoverStart(e2, e2.pointerType);\n        };\n        hoverProps2.onPointerLeave = (e2) => {\n          if (!isDisabled && e2.currentTarget.contains(e2.target)) triggerHoverEnd2(e2, e2.pointerType);\n        };\n      } else if (false) {}\n      return {\n        hoverProps: hoverProps2,\n        triggerHoverEnd: triggerHoverEnd2\n      };\n    }, [\n      onHoverStart,\n      onHoverChange,\n      onHoverEnd,\n      isDisabled,\n      state,\n      addGlobalListener,\n      removeAllGlobalListeners\n    ]);\n    y$6(() => {\n      if (isDisabled) triggerHoverEnd({\n        currentTarget: state.target\n      }, state.pointerType);\n    }, [\n      isDisabled\n    ]);\n    return {\n      hoverProps,\n      isHovered\n    };\n  }\n  function $f7dceffc5ad7768b$export$4e328f61c538687f(props = {}) {\n    let { autoFocus = false, isTextInput, within } = props;\n    let state = A$3({\n      isFocused: false,\n      isFocusVisible: autoFocus || $507fabe10e71c6fb$export$b9b3dfddab17db27()\n    });\n    let [isFocused, setFocused] = d$4(false);\n    let [isFocusVisibleState, setFocusVisible] = d$4(() => state.current.isFocused && state.current.isFocusVisible);\n    let updateState = q$3(() => setFocusVisible(state.current.isFocused && state.current.isFocusVisible), []);\n    let onFocusChange = q$3((isFocused2) => {\n      state.current.isFocused = isFocused2;\n      setFocused(isFocused2);\n      updateState();\n    }, [\n      updateState\n    ]);\n    $507fabe10e71c6fb$export$ec71b4b83ac08ec3((isFocusVisible) => {\n      state.current.isFocusVisible = isFocusVisible;\n      updateState();\n    }, [], {\n      isTextInput\n    });\n    let { focusProps } = $a1ea59d68270f0dd$export$f8168d8dd8fd66e6({\n      isDisabled: within,\n      onFocusChange\n    });\n    let { focusWithinProps } = $9ab94262bd0047c7$export$420e68273165f4ec({\n      isDisabled: !within,\n      onFocusWithinChange: onFocusChange\n    });\n    return {\n      isFocused,\n      isFocusVisible: isFocusVisibleState,\n      focusProps: within ? focusWithinProps : focusProps\n    };\n  }\n  var i$6 = Object.defineProperty;\n  var d$3 = (t2, e2, n2) => e2 in t2 ? i$6(t2, e2, { enumerable: true, configurable: true, writable: true, value: n2 }) : t2[e2] = n2;\n  var r$2 = (t2, e2, n2) => (d$3(t2, typeof e2 != \"symbol\" ? e2 + \"\" : e2, n2), n2);\n  let o$7 = class o {\n    constructor() {\n      r$2(this, \"current\", this.detect());\n      r$2(this, \"handoffState\", \"pending\");\n      r$2(this, \"currentId\", 0);\n    }\n    set(e2) {\n      this.current !== e2 && (this.handoffState = \"pending\", this.currentId = 0, this.current = e2);\n    }\n    reset() {\n      this.set(this.detect());\n    }\n    nextId() {\n      return ++this.currentId;\n    }\n    get isServer() {\n      return this.current === \"server\";\n    }\n    get isClient() {\n      return this.current === \"client\";\n    }\n    detect() {\n      return typeof window == \"undefined\" || typeof document == \"undefined\" ? \"server\" : \"client\";\n    }\n    handoff() {\n      this.handoffState === \"pending\" && (this.handoffState = \"complete\");\n    }\n    get isHandoffComplete() {\n      return this.handoffState === \"complete\";\n    }\n  };\n  let s$7 = new o$7();\n  function o$6(n2) {\n    var e2, r2;\n    return s$7.isServer ? null : n2 ? \"ownerDocument\" in n2 ? n2.ownerDocument : \"current\" in n2 ? (r2 = (e2 = n2.current) == null ? void 0 : e2.ownerDocument) != null ? r2 : document : null : document;\n  }\n  function t$3(e2) {\n    typeof queueMicrotask == \"function\" ? queueMicrotask(e2) : Promise.resolve().then(e2).catch((o2) => setTimeout(() => {\n      throw o2;\n    }));\n  }\n  function o$5() {\n    let n2 = [], r2 = { addEventListener(e2, t2, s2, a2) {\n      return e2.addEventListener(t2, s2, a2), r2.add(() => e2.removeEventListener(t2, s2, a2));\n    }, requestAnimationFrame(...e2) {\n      let t2 = requestAnimationFrame(...e2);\n      return r2.add(() => cancelAnimationFrame(t2));\n    }, nextFrame(...e2) {\n      return r2.requestAnimationFrame(() => r2.requestAnimationFrame(...e2));\n    }, setTimeout(...e2) {\n      let t2 = setTimeout(...e2);\n      return r2.add(() => clearTimeout(t2));\n    }, microTask(...e2) {\n      let t2 = { current: true };\n      return t$3(() => {\n        t2.current && e2[0]();\n      }), r2.add(() => {\n        t2.current = false;\n      });\n    }, style(e2, t2, s2) {\n      let a2 = e2.style.getPropertyValue(t2);\n      return Object.assign(e2.style, { [t2]: s2 }), this.add(() => {\n        Object.assign(e2.style, { [t2]: a2 });\n      });\n    }, group(e2) {\n      let t2 = o$5();\n      return e2(t2), this.add(() => t2.dispose());\n    }, add(e2) {\n      return n2.includes(e2) || n2.push(e2), () => {\n        let t2 = n2.indexOf(e2);\n        if (t2 >= 0) for (let s2 of n2.splice(t2, 1)) s2();\n      };\n    }, dispose() {\n      for (let e2 of n2.splice(0)) e2();\n    } };\n    return r2;\n  }\n  function p$2() {\n    let [e2] = d$4(o$5);\n    return y$6(() => () => e2.dispose(), [e2]), e2;\n  }\n  let n$3 = (e2, t2) => {\n    s$7.isServer ? y$6(e2, t2) : _$3(e2, t2);\n  };\n  function s$6(e2) {\n    let r2 = A$3(e2);\n    return n$3(() => {\n      r2.current = e2;\n    }, [e2]), r2;\n  }\n  let o$4 = function(t2) {\n    let e2 = s$6(t2);\n    return Rn.useCallback((...r2) => e2.current(...r2), [e2]);\n  };\n  function E$1(e2) {\n    let t2 = e2.width / 2, n2 = e2.height / 2;\n    return { top: e2.clientY - n2, right: e2.clientX + t2, bottom: e2.clientY + n2, left: e2.clientX - t2 };\n  }\n  function P$3(e2, t2) {\n    return !(!e2 || !t2 || e2.right < t2.left || e2.left > t2.right || e2.bottom < t2.top || e2.top > t2.bottom);\n  }\n  function w$2({ disabled: e2 = false } = {}) {\n    let t2 = A$3(null), [n2, l2] = d$4(false), r2 = p$2(), o2 = o$4(() => {\n      t2.current = null, l2(false), r2.dispose();\n    }), f2 = o$4((s2) => {\n      if (r2.dispose(), t2.current === null) {\n        t2.current = s2.currentTarget, l2(true);\n        {\n          let i2 = o$6(s2.currentTarget);\n          r2.addEventListener(i2, \"pointerup\", o2, false), r2.addEventListener(i2, \"pointermove\", (c2) => {\n            if (t2.current) {\n              let p2 = E$1(c2);\n              l2(P$3(p2, t2.current.getBoundingClientRect()));\n            }\n          }, false), r2.addEventListener(i2, \"pointercancel\", o2, false);\n        }\n      }\n    });\n    return { pressed: n2, pressProps: e2 ? {} : { onPointerDown: f2, onPointerUp: o2, onClick: o2 } };\n  }\n  let e$3 = K$3(void 0);\n  function a$9() {\n    return x$4(e$3);\n  }\n  function t$2(...r2) {\n    return Array.from(new Set(r2.flatMap((n2) => typeof n2 == \"string\" ? n2.split(\" \") : []))).filter(Boolean).join(\" \");\n  }\n  function u$7(r2, n2, ...a2) {\n    if (r2 in n2) {\n      let e2 = n2[r2];\n      return typeof e2 == \"function\" ? e2(...a2) : e2;\n    }\n    let t2 = new Error(`Tried to handle \"${r2}\" but there is no handler defined. Only defined handlers are: ${Object.keys(n2).map((e2) => `\"${e2}\"`).join(\", \")}.`);\n    throw Error.captureStackTrace && Error.captureStackTrace(t2, u$7), t2;\n  }\n  var O$1 = ((a2) => (a2[a2.None = 0] = \"None\", a2[a2.RenderStrategy = 1] = \"RenderStrategy\", a2[a2.Static = 2] = \"Static\", a2))(O$1 || {}), A$1 = ((e2) => (e2[e2.Unmount = 0] = \"Unmount\", e2[e2.Hidden = 1] = \"Hidden\", e2))(A$1 || {});\n  function L$2() {\n    let n2 = U$2();\n    return q$3((r2) => C$2({ mergeRefs: n2, ...r2 }), [n2]);\n  }\n  function C$2({ ourProps: n2, theirProps: r2, slot: e2, defaultTag: a2, features: s2, visible: t2 = true, name: l2, mergeRefs: i2 }) {\n    i2 = i2 != null ? i2 : $;\n    let o2 = P$2(r2, n2);\n    if (t2) return F$3(o2, e2, a2, l2, i2);\n    let y2 = s2 != null ? s2 : 0;\n    if (y2 & 2) {\n      let { static: f2 = false, ...u2 } = o2;\n      if (f2) return F$3(u2, e2, a2, l2, i2);\n    }\n    if (y2 & 1) {\n      let { unmount: f2 = true, ...u2 } = o2;\n      return u$7(f2 ? 0 : 1, { [0]() {\n        return null;\n      }, [1]() {\n        return F$3({ ...u2, hidden: true, style: { display: \"none\" } }, e2, a2, l2, i2);\n      } });\n    }\n    return F$3(o2, e2, a2, l2, i2);\n  }\n  function F$3(n2, r2 = {}, e2, a2, s2) {\n    let { as: t2 = e2, children: l2, refName: i2 = \"ref\", ...o2 } = h$4(n2, [\"unmount\", \"static\"]), y2 = n2.ref !== void 0 ? { [i2]: n2.ref } : {}, f2 = typeof l2 == \"function\" ? l2(r2) : l2;\n    \"className\" in o2 && o2.className && typeof o2.className == \"function\" && (o2.className = o2.className(r2)), o2[\"aria-labelledby\"] && o2[\"aria-labelledby\"] === o2.id && (o2[\"aria-labelledby\"] = void 0);\n    let u2 = {};\n    if (r2) {\n      let d2 = false, p2 = [];\n      for (let [c2, T2] of Object.entries(r2)) typeof T2 == \"boolean\" && (d2 = true), T2 === true && p2.push(c2.replace(/([A-Z])/g, (g2) => `-${g2.toLowerCase()}`));\n      if (d2) {\n        u2[\"data-headlessui-state\"] = p2.join(\" \");\n        for (let c2 of p2) u2[`data-${c2}`] = \"\";\n      }\n    }\n    if (t2 === k$3 && (Object.keys(m$4(o2)).length > 0 || Object.keys(m$4(u2)).length > 0)) if (!mn(f2) || Array.isArray(f2) && f2.length > 1) {\n      if (Object.keys(m$4(o2)).length > 0) throw new Error(['Passing props on \"Fragment\"!', \"\", `The current component <${a2} /> is rendering a \"Fragment\".`, \"However we need to passthrough the following props:\", Object.keys(m$4(o2)).concat(Object.keys(m$4(u2))).map((d2) => `  - ${d2}`).join(`\n`), \"\", \"You can apply a few solutions:\", ['Add an `as=\"...\"` prop, to ensure that we render an actual element instead of a \"Fragment\".', \"Render a single element as the child so that we can forward the props onto that element.\"].map((d2) => `  - ${d2}`).join(`\n`)].join(`\n`));\n    } else {\n      let d2 = f2.props, p2 = d2 == null ? void 0 : d2.className, c2 = typeof p2 == \"function\" ? (...R2) => t$2(p2(...R2), o2.className) : t$2(p2, o2.className), T2 = c2 ? { className: c2 } : {}, g2 = P$2(f2.props, m$4(h$4(o2, [\"ref\"])));\n      for (let R2 in u2) R2 in g2 && delete u2[R2];\n      return _n(f2, Object.assign({}, g2, u2, y2, { ref: s2(H$4(f2), y2.ref) }, T2));\n    }\n    return _$4(t2, Object.assign({}, h$4(o2, [\"ref\"]), t2 !== k$3 && y2, t2 !== k$3 && u2), f2);\n  }\n  function U$2() {\n    let n2 = A$3([]), r2 = q$3((e2) => {\n      for (let a2 of n2.current) a2 != null && (typeof a2 == \"function\" ? a2(e2) : a2.current = e2);\n    }, []);\n    return (...e2) => {\n      if (!e2.every((a2) => a2 == null)) return n2.current = e2, r2;\n    };\n  }\n  function $(...n2) {\n    return n2.every((r2) => r2 == null) ? void 0 : (r2) => {\n      for (let e2 of n2) e2 != null && (typeof e2 == \"function\" ? e2(r2) : e2.current = r2);\n    };\n  }\n  function P$2(...n2) {\n    if (n2.length === 0) return {};\n    if (n2.length === 1) return n2[0];\n    let r2 = {}, e2 = {};\n    for (let s2 of n2) for (let t2 in s2) t2.startsWith(\"on\") && typeof s2[t2] == \"function\" ? (e2[t2] != null || (e2[t2] = []), e2[t2].push(s2[t2])) : r2[t2] = s2[t2];\n    if (r2.disabled || r2[\"aria-disabled\"]) for (let s2 in e2) /^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s2) && (e2[s2] = [(t2) => {\n      var l2;\n      return (l2 = t2 == null ? void 0 : t2.preventDefault) == null ? void 0 : l2.call(t2);\n    }]);\n    for (let s2 in e2) Object.assign(r2, { [s2](t2, ...l2) {\n      let i2 = e2[s2];\n      for (let o2 of i2) {\n        if ((t2 instanceof Event || (t2 == null ? void 0 : t2.nativeEvent) instanceof Event) && t2.defaultPrevented) return;\n        o2(t2, ...l2);\n      }\n    } });\n    return r2;\n  }\n  function _$2(...n2) {\n    if (n2.length === 0) return {};\n    if (n2.length === 1) return n2[0];\n    let r2 = {}, e2 = {};\n    for (let s2 of n2) for (let t2 in s2) t2.startsWith(\"on\") && typeof s2[t2] == \"function\" ? (e2[t2] != null || (e2[t2] = []), e2[t2].push(s2[t2])) : r2[t2] = s2[t2];\n    for (let s2 in e2) Object.assign(r2, { [s2](...t2) {\n      let l2 = e2[s2];\n      for (let i2 of l2) i2 == null || i2(...t2);\n    } });\n    return r2;\n  }\n  function K$1(n2) {\n    var r2;\n    return Object.assign(D$1(n2), { displayName: (r2 = n2.displayName) != null ? r2 : n2.name });\n  }\n  function m$4(n2) {\n    let r2 = Object.assign({}, n2);\n    for (let e2 in r2) r2[e2] === void 0 && delete r2[e2];\n    return r2;\n  }\n  function h$4(n2, r2 = []) {\n    let e2 = Object.assign({}, n2);\n    for (let a2 of r2) a2 in e2 && delete e2[a2];\n    return e2;\n  }\n  function H$4(n2) {\n    return Rn.version.split(\".\")[0] >= \"19\" ? n2.props.ref : n2.ref;\n  }\n  let R$2 = \"button\";\n  function v$1(a2, u2) {\n    var p2;\n    let l2 = a$9(), { disabled: e2 = l2 || false, autoFocus: t2 = false, ...o2 } = a2, { isFocusVisible: r2, focusProps: i2 } = $f7dceffc5ad7768b$export$4e328f61c538687f({ autoFocus: t2 }), { isHovered: s2, hoverProps: T2 } = $6179b936705e76d3$export$ae780daf29e6d456({ isDisabled: e2 }), { pressed: n2, pressProps: d2 } = w$2({ disabled: e2 }), f2 = _$2({ ref: u2, type: (p2 = o2.type) != null ? p2 : \"button\", disabled: e2 || void 0, autoFocus: t2 }, i2, T2, d2), m2 = T$5(() => ({ disabled: e2, hover: s2, focus: r2, active: n2, autofocus: t2 }), [e2, s2, r2, n2, t2]);\n    return L$2()({ ourProps: f2, theirProps: o2, slot: m2, defaultTag: R$2, name: \"Button\" });\n  }\n  let H$3 = K$1(v$1);\n  let e$2 = K$3(void 0);\n  function u$6() {\n    return x$4(e$2);\n  }\n  function r$1(n2) {\n    let e2 = n2.parentElement, l2 = null;\n    for (; e2 && !(e2 instanceof HTMLFieldSetElement); ) e2 instanceof HTMLLegendElement && (l2 = e2), e2 = e2.parentElement;\n    let t2 = (e2 == null ? void 0 : e2.getAttribute(\"disabled\")) === \"\";\n    return t2 && i$5(l2) ? false : t2;\n  }\n  function i$5(n2) {\n    if (!n2) return false;\n    let e2 = n2.previousElementSibling;\n    for (; e2 !== null; ) {\n      if (e2 instanceof HTMLLegendElement) return false;\n      e2 = e2.previousElementSibling;\n    }\n    return true;\n  }\n  let u$5 = Symbol();\n  function T$3(t2, n2 = true) {\n    return Object.assign(t2, { [u$5]: n2 });\n  }\n  function y$5(...t2) {\n    let n2 = A$3(t2);\n    y$6(() => {\n      n2.current = t2;\n    }, [t2]);\n    let c2 = o$4((e2) => {\n      for (let o2 of n2.current) o2 != null && (typeof o2 == \"function\" ? o2(e2) : o2.current = e2);\n    });\n    return t2.every((e2) => e2 == null || (e2 == null ? void 0 : e2[u$5])) ? void 0 : c2;\n  }\n  let a$8 = K$3(null);\n  a$8.displayName = \"DescriptionContext\";\n  function f$6() {\n    let r2 = x$4(a$8);\n    if (r2 === null) {\n      let e2 = new Error(\"You used a <Description /> component, but it is not inside a relevant parent.\");\n      throw Error.captureStackTrace && Error.captureStackTrace(e2, f$6), e2;\n    }\n    return r2;\n  }\n  function U$1() {\n    var r2, e2;\n    return (e2 = (r2 = x$4(a$8)) == null ? void 0 : r2.value) != null ? e2 : void 0;\n  }\n  function w$1() {\n    let [r2, e2] = d$4([]);\n    return [r2.length > 0 ? r2.join(\" \") : void 0, T$5(() => function(t2) {\n      let i2 = o$4((n2) => (e2((s2) => [...s2, n2]), () => e2((s2) => {\n        let o2 = s2.slice(), p2 = o2.indexOf(n2);\n        return p2 !== -1 && o2.splice(p2, 1), o2;\n      }))), l2 = T$5(() => ({ register: i2, slot: t2.slot, name: t2.name, props: t2.props, value: t2.value }), [i2, t2.slot, t2.name, t2.props, t2.value]);\n      return Rn.createElement(a$8.Provider, { value: l2 }, t2.children);\n    }, [e2])];\n  }\n  let S$4 = \"p\";\n  function C$1(r2, e2) {\n    let d2 = g$3(), t2 = a$9(), { id: i2 = `headlessui-description-${d2}`, ...l2 } = r2, n2 = f$6(), s2 = y$5(e2);\n    n$3(() => n2.register(i2), [i2, n2.register]);\n    let o2 = t2 || false, p2 = T$5(() => ({ ...n2.slot, disabled: o2 }), [n2.slot, o2]), D2 = { ref: s2, ...n2.props, id: i2 };\n    return L$2()({ ourProps: D2, theirProps: l2, slot: p2, defaultTag: S$4, name: n2.name || \"Description\" });\n  }\n  let _$1 = K$1(C$1);\n  Object.assign(_$1, {});\n  var o$3 = ((r2) => (r2.Space = \" \", r2.Enter = \"Enter\", r2.Escape = \"Escape\", r2.Backspace = \"Backspace\", r2.Delete = \"Delete\", r2.ArrowLeft = \"ArrowLeft\", r2.ArrowUp = \"ArrowUp\", r2.ArrowRight = \"ArrowRight\", r2.ArrowDown = \"ArrowDown\", r2.Home = \"Home\", r2.End = \"End\", r2.PageUp = \"PageUp\", r2.PageDown = \"PageDown\", r2.Tab = \"Tab\", r2))(o$3 || {});\n  let c$5 = K$3(null);\n  c$5.displayName = \"LabelContext\";\n  function P$1() {\n    let r2 = x$4(c$5);\n    if (r2 === null) {\n      let l2 = new Error(\"You used a <Label /> component, but it is not inside a relevant parent.\");\n      throw Error.captureStackTrace && Error.captureStackTrace(l2, P$1), l2;\n    }\n    return r2;\n  }\n  function I$2(r2) {\n    var a2, e2, o2;\n    let l2 = (e2 = (a2 = x$4(c$5)) == null ? void 0 : a2.value) != null ? e2 : void 0;\n    return ((o2 = void 0) != null ? o2 : 0) > 0 ? [l2, ...r2].filter(Boolean).join(\" \") : l2;\n  }\n  function K({ inherit: r2 = false } = {}) {\n    let l2 = I$2(), [a2, e2] = d$4([]), o2 = r2 ? [l2, ...a2].filter(Boolean) : a2;\n    return [o2.length > 0 ? o2.join(\" \") : void 0, T$5(() => function(t2) {\n      let s2 = o$4((i2) => (e2((p2) => [...p2, i2]), () => e2((p2) => {\n        let u2 = p2.slice(), d2 = u2.indexOf(i2);\n        return d2 !== -1 && u2.splice(d2, 1), u2;\n      }))), m2 = T$5(() => ({ register: s2, slot: t2.slot, name: t2.name, props: t2.props, value: t2.value }), [s2, t2.slot, t2.name, t2.props, t2.value]);\n      return Rn.createElement(c$5.Provider, { value: m2 }, t2.children);\n    }, [e2])];\n  }\n  let N = \"label\";\n  function G$1(r2, l2) {\n    var y2;\n    let a2 = g$3(), e2 = P$1(), o2 = u$6(), g2 = a$9(), { id: t2 = `headlessui-label-${a2}`, htmlFor: s2 = o2 != null ? o2 : (y2 = e2.props) == null ? void 0 : y2.htmlFor, passive: m2 = false, ...i2 } = r2, p2 = y$5(l2);\n    n$3(() => e2.register(t2), [t2, e2.register]);\n    let u2 = o$4((L2) => {\n      let b2 = L2.currentTarget;\n      if (b2 instanceof HTMLLabelElement && L2.preventDefault(), e2.props && \"onClick\" in e2.props && typeof e2.props.onClick == \"function\" && e2.props.onClick(L2), b2 instanceof HTMLLabelElement) {\n        let n2 = document.getElementById(b2.htmlFor);\n        if (n2) {\n          let E2 = n2.getAttribute(\"disabled\");\n          if (E2 === \"true\" || E2 === \"\") return;\n          let x2 = n2.getAttribute(\"aria-disabled\");\n          if (x2 === \"true\" || x2 === \"\") return;\n          (n2 instanceof HTMLInputElement && (n2.type === \"radio\" || n2.type === \"checkbox\") || n2.role === \"radio\" || n2.role === \"checkbox\" || n2.role === \"switch\") && n2.click(), n2.focus({ preventScroll: true });\n        }\n      }\n    }), d2 = g2 || false, C2 = T$5(() => ({ ...e2.slot, disabled: d2 }), [e2.slot, d2]), f2 = { ref: p2, ...e2.props, id: t2, htmlFor: s2, onClick: u2 };\n    return m2 && (\"onClick\" in f2 && (delete f2.htmlFor, delete f2.onClick), \"onClick\" in i2 && delete i2.onClick), L$2()({ ourProps: f2, theirProps: i2, slot: C2, defaultTag: s2 ? N : \"div\", name: e2.name || \"Label\" });\n  }\n  let U = K$1(G$1);\n  Object.assign(U, {});\n  function f$5(e2) {\n    if (e2 === null) return { width: 0, height: 0 };\n    let { width: t2, height: r2 } = e2.getBoundingClientRect();\n    return { width: t2, height: r2 };\n  }\n  function d$2(e2, t2 = false) {\n    let [r2, u2] = h$5(() => ({}), {}), i2 = T$5(() => f$5(e2), [e2, r2]);\n    return n$3(() => {\n      if (!e2) return;\n      let n2 = new ResizeObserver(u2);\n      return n2.observe(e2), () => {\n        n2.disconnect();\n      };\n    }, [e2]), t2 ? { width: `${i2.width}px`, height: `${i2.height}px` } : i2;\n  }\n  let a$7 = class a extends Map {\n    constructor(t2) {\n      super();\n      this.factory = t2;\n    }\n    get(t2) {\n      let e2 = super.get(t2);\n      return e2 === void 0 && (e2 = this.factory(t2), this.set(t2, e2)), e2;\n    }\n  };\n  function a$6(o2, r2) {\n    let t2 = o2(), n2 = /* @__PURE__ */ new Set();\n    return { getSnapshot() {\n      return t2;\n    }, subscribe(e2) {\n      return n2.add(e2), () => n2.delete(e2);\n    }, dispatch(e2, ...s2) {\n      let i2 = r2[e2].call(t2, ...s2);\n      i2 && (t2 = i2, n2.forEach((c2) => c2()));\n    } };\n  }\n  function o$2(t2) {\n    return C$3(t2.subscribe, t2.getSnapshot, t2.getSnapshot);\n  }\n  let p$1 = new a$7(() => a$6(() => [], { ADD(r2) {\n    return this.includes(r2) ? this : [...this, r2];\n  }, REMOVE(r2) {\n    let e2 = this.indexOf(r2);\n    if (e2 === -1) return this;\n    let t2 = this.slice();\n    return t2.splice(e2, 1), t2;\n  } }));\n  function x$2(r2, e2) {\n    let t2 = p$1.get(e2), i2 = g$3(), h2 = o$2(t2);\n    if (n$3(() => {\n      if (r2) return t2.dispatch(\"ADD\", i2), () => t2.dispatch(\"REMOVE\", i2);\n    }, [t2, r2]), !r2) return false;\n    let s2 = h2.indexOf(i2), o2 = h2.length;\n    return s2 === -1 && (s2 = o2, o2 += 1), s2 === o2 - 1;\n  }\n  let f$4 = /* @__PURE__ */ new Map(), u$4 = /* @__PURE__ */ new Map();\n  function h$3(t2) {\n    var e2;\n    let r2 = (e2 = u$4.get(t2)) != null ? e2 : 0;\n    return u$4.set(t2, r2 + 1), r2 !== 0 ? () => m$3(t2) : (f$4.set(t2, { \"aria-hidden\": t2.getAttribute(\"aria-hidden\"), inert: t2.inert }), t2.setAttribute(\"aria-hidden\", \"true\"), t2.inert = true, () => m$3(t2));\n  }\n  function m$3(t2) {\n    var i2;\n    let r2 = (i2 = u$4.get(t2)) != null ? i2 : 1;\n    if (r2 === 1 ? u$4.delete(t2) : u$4.set(t2, r2 - 1), r2 !== 1) return;\n    let e2 = f$4.get(t2);\n    e2 && (e2[\"aria-hidden\"] === null ? t2.removeAttribute(\"aria-hidden\") : t2.setAttribute(\"aria-hidden\", e2[\"aria-hidden\"]), t2.inert = e2.inert, f$4.delete(t2));\n  }\n  function y$4(t2, { allowed: r2, disallowed: e2 } = {}) {\n    let i2 = x$2(t2, \"inert-others\");\n    n$3(() => {\n      var d2, c2;\n      if (!i2) return;\n      let a2 = o$5();\n      for (let n2 of (d2 = e2 == null ? void 0 : e2()) != null ? d2 : []) n2 && a2.add(h$3(n2));\n      let s2 = (c2 = r2 == null ? void 0 : r2()) != null ? c2 : [];\n      for (let n2 of s2) {\n        if (!n2) continue;\n        let l2 = o$6(n2);\n        if (!l2) continue;\n        let o2 = n2.parentElement;\n        for (; o2 && o2 !== l2.body; ) {\n          for (let p2 of o2.children) s2.some((E2) => p2.contains(E2)) || a2.add(h$3(p2));\n          o2 = o2.parentElement;\n        }\n      }\n      return a2.dispose;\n    }, [i2, r2, e2]);\n  }\n  function m$2(s2, n2, l2) {\n    let i2 = s$6((t2) => {\n      let e2 = t2.getBoundingClientRect();\n      e2.x === 0 && e2.y === 0 && e2.width === 0 && e2.height === 0 && l2();\n    });\n    y$6(() => {\n      if (!s2) return;\n      let t2 = n2 === null ? null : n2 instanceof HTMLElement ? n2 : n2.current;\n      if (!t2) return;\n      let e2 = o$5();\n      if (typeof ResizeObserver != \"undefined\") {\n        let r2 = new ResizeObserver(() => i2.current(t2));\n        r2.observe(t2), e2.add(() => r2.disconnect());\n      }\n      if (typeof IntersectionObserver != \"undefined\") {\n        let r2 = new IntersectionObserver(() => i2.current(t2));\n        r2.observe(t2), e2.add(() => r2.disconnect());\n      }\n      return () => e2.dispose();\n    }, [n2, i2, s2]);\n  }\n  let f$3 = [\"[contentEditable=true]\", \"[tabindex]\", \"a[href]\", \"area[href]\", \"button:not([disabled])\", \"iframe\", \"input:not([disabled])\", \"select:not([disabled])\", \"textarea:not([disabled])\"].map((e2) => `${e2}:not([tabindex='-1'])`).join(\",\"), p = [\"[data-autofocus]\"].map((e2) => `${e2}:not([tabindex='-1'])`).join(\",\");\n  var F$2 = ((n2) => (n2[n2.First = 1] = \"First\", n2[n2.Previous = 2] = \"Previous\", n2[n2.Next = 4] = \"Next\", n2[n2.Last = 8] = \"Last\", n2[n2.WrapAround = 16] = \"WrapAround\", n2[n2.NoScroll = 32] = \"NoScroll\", n2[n2.AutoFocus = 64] = \"AutoFocus\", n2))(F$2 || {}), T$2 = ((o2) => (o2[o2.Error = 0] = \"Error\", o2[o2.Overflow = 1] = \"Overflow\", o2[o2.Success = 2] = \"Success\", o2[o2.Underflow = 3] = \"Underflow\", o2))(T$2 || {}), y$3 = ((t2) => (t2[t2.Previous = -1] = \"Previous\", t2[t2.Next = 1] = \"Next\", t2))(y$3 || {});\n  function b$3(e2 = document.body) {\n    return e2 == null ? [] : Array.from(e2.querySelectorAll(f$3)).sort((r2, t2) => Math.sign((r2.tabIndex || Number.MAX_SAFE_INTEGER) - (t2.tabIndex || Number.MAX_SAFE_INTEGER)));\n  }\n  function S$3(e2 = document.body) {\n    return e2 == null ? [] : Array.from(e2.querySelectorAll(p)).sort((r2, t2) => Math.sign((r2.tabIndex || Number.MAX_SAFE_INTEGER) - (t2.tabIndex || Number.MAX_SAFE_INTEGER)));\n  }\n  var h$2 = ((t2) => (t2[t2.Strict = 0] = \"Strict\", t2[t2.Loose = 1] = \"Loose\", t2))(h$2 || {});\n  function A(e2, r2 = 0) {\n    var t2;\n    return e2 === ((t2 = o$6(e2)) == null ? void 0 : t2.body) ? false : u$7(r2, { [0]() {\n      return e2.matches(f$3);\n    }, [1]() {\n      let u2 = e2;\n      for (; u2 !== null; ) {\n        if (u2.matches(f$3)) return true;\n        u2 = u2.parentElement;\n      }\n      return false;\n    } });\n  }\n  function G(e2) {\n    let r2 = o$6(e2);\n    o$5().nextFrame(() => {\n      r2 && !A(r2.activeElement, 0) && I$1(e2);\n    });\n  }\n  var H$2 = ((t2) => (t2[t2.Keyboard = 0] = \"Keyboard\", t2[t2.Mouse = 1] = \"Mouse\", t2))(H$2 || {});\n  typeof window != \"undefined\" && typeof document != \"undefined\" && (document.addEventListener(\"keydown\", (e2) => {\n    e2.metaKey || e2.altKey || e2.ctrlKey || (document.documentElement.dataset.headlessuiFocusVisible = \"\");\n  }, true), document.addEventListener(\"click\", (e2) => {\n    e2.detail === 1 ? delete document.documentElement.dataset.headlessuiFocusVisible : e2.detail === 0 && (document.documentElement.dataset.headlessuiFocusVisible = \"\");\n  }, true));\n  function I$1(e2) {\n    e2 == null || e2.focus({ preventScroll: true });\n  }\n  let w = [\"textarea\", \"input\"].join(\",\");\n  function O(e2) {\n    var r2, t2;\n    return (t2 = (r2 = e2 == null ? void 0 : e2.matches) == null ? void 0 : r2.call(e2, w)) != null ? t2 : false;\n  }\n  function _(e2, r2 = (t2) => t2) {\n    return e2.slice().sort((t2, u2) => {\n      let o2 = r2(t2), c2 = r2(u2);\n      if (o2 === null || c2 === null) return 0;\n      let l2 = o2.compareDocumentPosition(c2);\n      return l2 & Node.DOCUMENT_POSITION_FOLLOWING ? -1 : l2 & Node.DOCUMENT_POSITION_PRECEDING ? 1 : 0;\n    });\n  }\n  function j$2(e2, r2) {\n    return P(b$3(), r2, { relativeTo: e2 });\n  }\n  function P(e2, r2, { sorted: t2 = true, relativeTo: u2 = null, skipElements: o2 = [] } = {}) {\n    let c2 = Array.isArray(e2) ? e2.length > 0 ? e2[0].ownerDocument : document : e2.ownerDocument, l2 = Array.isArray(e2) ? t2 ? _(e2) : e2 : r2 & 64 ? S$3(e2) : b$3(e2);\n    o2.length > 0 && l2.length > 1 && (l2 = l2.filter((s2) => !o2.some((a2) => a2 != null && \"current\" in a2 ? (a2 == null ? void 0 : a2.current) === s2 : a2 === s2))), u2 = u2 != null ? u2 : c2.activeElement;\n    let n2 = (() => {\n      if (r2 & 5) return 1;\n      if (r2 & 10) return -1;\n      throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\");\n    })(), x2 = (() => {\n      if (r2 & 1) return 0;\n      if (r2 & 2) return Math.max(0, l2.indexOf(u2)) - 1;\n      if (r2 & 4) return Math.max(0, l2.indexOf(u2)) + 1;\n      if (r2 & 8) return l2.length - 1;\n      throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\");\n    })(), M2 = r2 & 32 ? { preventScroll: true } : {}, m2 = 0, d2 = l2.length, i2;\n    do {\n      if (m2 >= d2 || m2 + d2 <= 0) return 0;\n      let s2 = x2 + m2;\n      if (r2 & 16) s2 = (s2 + d2) % d2;\n      else {\n        if (s2 < 0) return 3;\n        if (s2 >= d2) return 1;\n      }\n      i2 = l2[s2], i2 == null || i2.focus(M2), m2 += n2;\n    } while (i2 !== c2.activeElement);\n    return r2 & 6 && O(i2) && i2.select(), 2;\n  }\n  function t$1() {\n    return /iPhone/gi.test(window.navigator.platform) || /Mac/gi.test(window.navigator.platform) && window.navigator.maxTouchPoints > 0;\n  }\n  function i$4() {\n    return /Android/gi.test(window.navigator.userAgent);\n  }\n  function n$2() {\n    return t$1() || i$4();\n  }\n  function i$3(t2, e2, o2, n2) {\n    let u2 = s$6(o2);\n    y$6(() => {\n      if (!t2) return;\n      function r2(m2) {\n        u2.current(m2);\n      }\n      return document.addEventListener(e2, r2, n2), () => document.removeEventListener(e2, r2, n2);\n    }, [t2, e2, n2]);\n  }\n  function s$5(t2, e2, o2, n2) {\n    let i2 = s$6(o2);\n    y$6(() => {\n      if (!t2) return;\n      function r2(d2) {\n        i2.current(d2);\n      }\n      return window.addEventListener(e2, r2, n2), () => window.removeEventListener(e2, r2, n2);\n    }, [t2, e2, n2]);\n  }\n  const E = 30;\n  function R$1(p2, f2, C2) {\n    let u2 = x$2(p2, \"outside-click\"), m2 = s$6(C2), s2 = q$3(function(e2, n2) {\n      if (e2.defaultPrevented) return;\n      let r2 = n2(e2);\n      if (r2 === null || !r2.getRootNode().contains(r2) || !r2.isConnected) return;\n      let h2 = function l2(o2) {\n        return typeof o2 == \"function\" ? l2(o2()) : Array.isArray(o2) || o2 instanceof Set ? o2 : [o2];\n      }(f2);\n      for (let l2 of h2) if (l2 !== null && (l2.contains(r2) || e2.composed && e2.composedPath().includes(l2))) return;\n      return !A(r2, h$2.Loose) && r2.tabIndex !== -1 && e2.preventDefault(), m2.current(e2, r2);\n    }, [m2, f2]), i2 = A$3(null);\n    i$3(u2, \"pointerdown\", (t2) => {\n      var e2, n2;\n      i2.current = ((n2 = (e2 = t2.composedPath) == null ? void 0 : e2.call(t2)) == null ? void 0 : n2[0]) || t2.target;\n    }, true), i$3(u2, \"mousedown\", (t2) => {\n      var e2, n2;\n      i2.current = ((n2 = (e2 = t2.composedPath) == null ? void 0 : e2.call(t2)) == null ? void 0 : n2[0]) || t2.target;\n    }, true), i$3(u2, \"click\", (t2) => {\n      n$2() || i2.current && (s2(t2, () => i2.current), i2.current = null);\n    }, true);\n    let a2 = A$3({ x: 0, y: 0 });\n    i$3(u2, \"touchstart\", (t2) => {\n      a2.current.x = t2.touches[0].clientX, a2.current.y = t2.touches[0].clientY;\n    }, true), i$3(u2, \"touchend\", (t2) => {\n      let e2 = { x: t2.changedTouches[0].clientX, y: t2.changedTouches[0].clientY };\n      if (!(Math.abs(e2.x - a2.current.x) >= E || Math.abs(e2.y - a2.current.y) >= E)) return s2(t2, () => t2.target instanceof HTMLElement ? t2.target : null);\n    }, true), s$5(u2, \"blur\", (t2) => s2(t2, () => window.document.activeElement instanceof HTMLIFrameElement ? window.document.activeElement : null), true);\n  }\n  function n$1(...e2) {\n    return T$5(() => o$6(...e2), [...e2]);\n  }\n  function e$1(t2, u2) {\n    return T$5(() => {\n      var n2;\n      if (t2.type) return t2.type;\n      let r2 = (n2 = t2.as) != null ? n2 : \"button\";\n      if (typeof r2 == \"string\" && r2.toLowerCase() === \"button\" || (u2 == null ? void 0 : u2.tagName) === \"BUTTON\" && !u2.hasAttribute(\"type\")) return \"button\";\n    }, [t2.type, t2.as, u2]);\n  }\n  function d$1() {\n    let r2;\n    return { before({ doc: e2 }) {\n      var l2;\n      let o2 = e2.documentElement, t2 = (l2 = e2.defaultView) != null ? l2 : window;\n      r2 = Math.max(0, t2.innerWidth - o2.clientWidth);\n    }, after({ doc: e2, d: o2 }) {\n      let t2 = e2.documentElement, l2 = Math.max(0, t2.clientWidth - t2.offsetWidth), n2 = Math.max(0, r2 - l2);\n      o2.style(t2, \"paddingRight\", `${n2}px`);\n    } };\n  }\n  function d() {\n    return t$1() ? { before({ doc: r2, d: n2, meta: c2 }) {\n      function o2(a2) {\n        return c2.containers.flatMap((l2) => l2()).some((l2) => l2.contains(a2));\n      }\n      n2.microTask(() => {\n        var s2;\n        if (window.getComputedStyle(r2.documentElement).scrollBehavior !== \"auto\") {\n          let t2 = o$5();\n          t2.style(r2.documentElement, \"scrollBehavior\", \"auto\"), n2.add(() => n2.microTask(() => t2.dispose()));\n        }\n        let a2 = (s2 = window.scrollY) != null ? s2 : window.pageYOffset, l2 = null;\n        n2.addEventListener(r2, \"click\", (t2) => {\n          if (t2.target instanceof HTMLElement) try {\n            let e2 = t2.target.closest(\"a\");\n            if (!e2) return;\n            let { hash: f2 } = new URL(e2.href), i2 = r2.querySelector(f2);\n            i2 && !o2(i2) && (l2 = i2);\n          } catch {\n          }\n        }, true), n2.addEventListener(r2, \"touchstart\", (t2) => {\n          if (t2.target instanceof HTMLElement) if (o2(t2.target)) {\n            let e2 = t2.target;\n            for (; e2.parentElement && o2(e2.parentElement); ) e2 = e2.parentElement;\n            n2.style(e2, \"overscrollBehavior\", \"contain\");\n          } else n2.style(t2.target, \"touchAction\", \"none\");\n        }), n2.addEventListener(r2, \"touchmove\", (t2) => {\n          if (t2.target instanceof HTMLElement) {\n            if (t2.target.tagName === \"INPUT\") return;\n            if (o2(t2.target)) {\n              let e2 = t2.target;\n              for (; e2.parentElement && e2.dataset.headlessuiPortal !== \"\" && !(e2.scrollHeight > e2.clientHeight || e2.scrollWidth > e2.clientWidth); ) e2 = e2.parentElement;\n              e2.dataset.headlessuiPortal === \"\" && t2.preventDefault();\n            } else t2.preventDefault();\n          }\n        }, { passive: false }), n2.add(() => {\n          var e2;\n          let t2 = (e2 = window.scrollY) != null ? e2 : window.pageYOffset;\n          a2 !== t2 && window.scrollTo(0, a2), l2 && l2.isConnected && (l2.scrollIntoView({ block: \"nearest\" }), l2 = null);\n        });\n      });\n    } } : {};\n  }\n  function r() {\n    return { before({ doc: e2, d: o2 }) {\n      o2.style(e2.documentElement, \"overflow\", \"hidden\");\n    } };\n  }\n  function m$1(e2) {\n    let n2 = {};\n    for (let t2 of e2) Object.assign(n2, t2(n2));\n    return n2;\n  }\n  let a$5 = a$6(() => /* @__PURE__ */ new Map(), { PUSH(e2, n2) {\n    var o2;\n    let t2 = (o2 = this.get(e2)) != null ? o2 : { doc: e2, count: 0, d: o$5(), meta: /* @__PURE__ */ new Set() };\n    return t2.count++, t2.meta.add(n2), this.set(e2, t2), this;\n  }, POP(e2, n2) {\n    let t2 = this.get(e2);\n    return t2 && (t2.count--, t2.meta.delete(n2)), this;\n  }, SCROLL_PREVENT({ doc: e2, d: n2, meta: t2 }) {\n    let o2 = { doc: e2, d: n2, meta: m$1(t2) }, c2 = [d(), d$1(), r()];\n    c2.forEach(({ before: r2 }) => r2 == null ? void 0 : r2(o2)), c2.forEach(({ after: r2 }) => r2 == null ? void 0 : r2(o2));\n  }, SCROLL_ALLOW({ d: e2 }) {\n    e2.dispose();\n  }, TEARDOWN({ doc: e2 }) {\n    this.delete(e2);\n  } });\n  a$5.subscribe(() => {\n    let e2 = a$5.getSnapshot(), n2 = /* @__PURE__ */ new Map();\n    for (let [t2] of e2) n2.set(t2, t2.documentElement.style.overflow);\n    for (let t2 of e2.values()) {\n      let o2 = n2.get(t2.doc) === \"hidden\", c2 = t2.count !== 0;\n      (c2 && !o2 || !c2 && o2) && a$5.dispatch(t2.count > 0 ? \"SCROLL_PREVENT\" : \"SCROLL_ALLOW\", t2), t2.count === 0 && a$5.dispatch(\"TEARDOWN\", t2);\n    }\n  });\n  function a$4(r2, e2, n2 = () => ({ containers: [] })) {\n    let f2 = o$2(a$5), o2 = e2 ? f2.get(e2) : void 0, i2 = o2 ? o2.count > 0 : false;\n    return n$3(() => {\n      if (!(!e2 || !r2)) return a$5.dispatch(\"PUSH\", e2, n2), () => a$5.dispatch(\"POP\", e2, n2);\n    }, [r2, e2]), i2;\n  }\n  function f$2(e2, c2, n2 = () => [document.body]) {\n    let r2 = x$2(e2, \"scroll-lock\");\n    a$4(r2, c2, (t2) => {\n      var o2;\n      return { containers: [...(o2 = t2.containers) != null ? o2 : [], n2] };\n    });\n  }\n  function t(e2) {\n    return [e2.screenX, e2.screenY];\n  }\n  function u$3() {\n    let e2 = A$3([-1, -1]);\n    return { wasMoved(r2) {\n      let n2 = t(r2);\n      return e2.current[0] === n2[0] && e2.current[1] === n2[1] ? false : (e2.current = n2, true);\n    }, update(r2) {\n      e2.current = t(r2);\n    } };\n  }\n  function c$4(u2 = 0) {\n    let [t2, l2] = d$4(u2), g2 = q$3((e2) => l2(e2), [t2]), s2 = q$3((e2) => l2((a2) => a2 | e2), [t2]), m2 = q$3((e2) => (t2 & e2) === e2, [t2]), n2 = q$3((e2) => l2((a2) => a2 & ~e2), [l2]), F2 = q$3((e2) => l2((a2) => a2 ^ e2), [l2]);\n    return { flags: t2, setFlag: g2, addFlag: s2, hasFlag: m2, removeFlag: n2, toggleFlag: F2 };\n  }\n  var T$1, b$2;\n  typeof process != \"undefined\" && typeof globalThis != \"undefined\" && typeof Element != \"undefined\" && ((T$1 = process == null ? void 0 : process.env) == null ? void 0 : T$1[\"NODE_ENV\"]) === \"test\" && typeof ((b$2 = Element == null ? void 0 : Element.prototype) == null ? void 0 : b$2.getAnimations) == \"undefined\" && (Element.prototype.getAnimations = function() {\n    return console.warn([\"Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.\", \"Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.\", \"\", \"Example usage:\", \"```js\", \"import { mockAnimationsApi } from 'jsdom-testing-mocks'\", \"mockAnimationsApi()\", \"```\"].join(`\n`)), [];\n  });\n  var L$1 = ((r2) => (r2[r2.None = 0] = \"None\", r2[r2.Closed = 1] = \"Closed\", r2[r2.Enter = 2] = \"Enter\", r2[r2.Leave = 4] = \"Leave\", r2))(L$1 || {});\n  function R(t2) {\n    let n2 = {};\n    for (let e2 in t2) t2[e2] === true && (n2[`data-${e2}`] = \"\");\n    return n2;\n  }\n  function x$1(t2, n2, e2, i2) {\n    let [r2, o2] = d$4(e2), { hasFlag: s2, addFlag: a2, removeFlag: l2 } = c$4(t2 && r2 ? 3 : 0), u2 = A$3(false), f2 = A$3(false), E2 = p$2();\n    return n$3(() => {\n      var d2;\n      if (t2) {\n        if (e2 && o2(true), !n2) {\n          e2 && a2(3);\n          return;\n        }\n        return (d2 = void 0) == null || d2.call(i2, e2), C(n2, { inFlight: u2, prepare() {\n          f2.current ? f2.current = false : f2.current = u2.current, u2.current = true, !f2.current && (e2 ? (a2(3), l2(4)) : (a2(4), l2(2)));\n        }, run() {\n          f2.current ? e2 ? (l2(3), a2(4)) : (l2(4), a2(3)) : e2 ? l2(1) : a2(1);\n        }, done() {\n          var p2;\n          f2.current && typeof n2.getAnimations == \"function\" && n2.getAnimations().length > 0 || (u2.current = false, l2(7), e2 || o2(false), (p2 = void 0) == null || p2.call(i2, e2));\n        } });\n      }\n    }, [t2, e2, n2, E2]), t2 ? [r2, { closed: s2(1), enter: s2(2), leave: s2(4), transition: s2(2) || s2(4) }] : [e2, { closed: void 0, enter: void 0, leave: void 0, transition: void 0 }];\n  }\n  function C(t2, { prepare: n2, run: e2, done: i2, inFlight: r2 }) {\n    let o2 = o$5();\n    return j$1(t2, { prepare: n2, inFlight: r2 }), o2.nextFrame(() => {\n      e2(), o2.requestAnimationFrame(() => {\n        o2.add(M$2(t2, i2));\n      });\n    }), o2.dispose;\n  }\n  function M$2(t2, n2) {\n    var o2, s2;\n    let e2 = o$5();\n    if (!t2) return e2.dispose;\n    let i2 = false;\n    e2.add(() => {\n      i2 = true;\n    });\n    let r2 = (s2 = (o2 = t2.getAnimations) == null ? void 0 : o2.call(t2).filter((a2) => a2 instanceof CSSTransition)) != null ? s2 : [];\n    return r2.length === 0 ? (n2(), e2.dispose) : (Promise.allSettled(r2.map((a2) => a2.finished)).then(() => {\n      i2 || n2();\n    }), e2.dispose);\n  }\n  function j$1(t2, { inFlight: n2, prepare: e2 }) {\n    if (n2 != null && n2.current) {\n      e2();\n      return;\n    }\n    let i2 = t2.style.transition;\n    t2.style.transition = \"none\", e2(), t2.offsetHeight, t2.style.transition = i2;\n  }\n  function F$1(c2, { container: e2, accept: t2, walk: r2 }) {\n    let o2 = A$3(t2), l2 = A$3(r2);\n    y$6(() => {\n      o2.current = t2, l2.current = r2;\n    }, [t2, r2]), n$3(() => {\n      if (!e2 || !c2) return;\n      let n2 = o$6(e2);\n      if (!n2) return;\n      let f2 = o2.current, p2 = l2.current, i2 = Object.assign((m2) => f2(m2), { acceptNode: f2 }), u2 = n2.createTreeWalker(e2, NodeFilter.SHOW_ELEMENT, i2, false);\n      for (; u2.nextNode(); ) p2(u2.currentNode);\n    }, [e2, c2, o2, l2]);\n  }\n  function hasWindow() {\n    return typeof window !== \"undefined\";\n  }\n  function getNodeName(node) {\n    if (isNode(node)) {\n      return (node.nodeName || \"\").toLowerCase();\n    }\n    return \"#document\";\n  }\n  function getWindow(node) {\n    var _node$ownerDocument;\n    return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n  }\n  function getDocumentElement(node) {\n    var _ref;\n    return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n  }\n  function isNode(value) {\n    if (!hasWindow()) {\n      return false;\n    }\n    return value instanceof Node || value instanceof getWindow(value).Node;\n  }\n  function isElement(value) {\n    if (!hasWindow()) {\n      return false;\n    }\n    return value instanceof Element || value instanceof getWindow(value).Element;\n  }\n  function isHTMLElement(value) {\n    if (!hasWindow()) {\n      return false;\n    }\n    return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n  }\n  function isShadowRoot(value) {\n    if (!hasWindow() || typeof ShadowRoot === \"undefined\") {\n      return false;\n    }\n    return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n  }\n  function isOverflowElement(element) {\n    const {\n      overflow,\n      overflowX,\n      overflowY,\n      display\n    } = getComputedStyle$1(element);\n    return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && ![\"inline\", \"contents\"].includes(display);\n  }\n  function isTableElement(element) {\n    return [\"table\", \"td\", \"th\"].includes(getNodeName(element));\n  }\n  function isTopLayer(element) {\n    return [\":popover-open\", \":modal\"].some((selector) => {\n      try {\n        return element.matches(selector);\n      } catch (e2) {\n        return false;\n      }\n    });\n  }\n  function isContainingBlock(elementOrCss) {\n    const webkit = isWebKit();\n    const css = isElement(elementOrCss) ? getComputedStyle$1(elementOrCss) : elementOrCss;\n    return [\"transform\", \"translate\", \"scale\", \"rotate\", \"perspective\"].some((value) => css[value] ? css[value] !== \"none\" : false) || (css.containerType ? css.containerType !== \"normal\" : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== \"none\" : false) || !webkit && (css.filter ? css.filter !== \"none\" : false) || [\"transform\", \"translate\", \"scale\", \"rotate\", \"perspective\", \"filter\"].some((value) => (css.willChange || \"\").includes(value)) || [\"paint\", \"layout\", \"strict\", \"content\"].some((value) => (css.contain || \"\").includes(value));\n  }\n  function getContainingBlock(element) {\n    let currentNode = getParentNode(element);\n    while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n      if (isContainingBlock(currentNode)) {\n        return currentNode;\n      } else if (isTopLayer(currentNode)) {\n        return null;\n      }\n      currentNode = getParentNode(currentNode);\n    }\n    return null;\n  }\n  function isWebKit() {\n    if (typeof CSS === \"undefined\" || !CSS.supports) return false;\n    return CSS.supports(\"-webkit-backdrop-filter\", \"none\");\n  }\n  function isLastTraversableNode(node) {\n    return [\"html\", \"body\", \"#document\"].includes(getNodeName(node));\n  }\n  function getComputedStyle$1(element) {\n    return getWindow(element).getComputedStyle(element);\n  }\n  function getNodeScroll(element) {\n    if (isElement(element)) {\n      return {\n        scrollLeft: element.scrollLeft,\n        scrollTop: element.scrollTop\n      };\n    }\n    return {\n      scrollLeft: element.scrollX,\n      scrollTop: element.scrollY\n    };\n  }\n  function getParentNode(node) {\n    if (getNodeName(node) === \"html\") {\n      return node;\n    }\n    const result = (\n      // Step into the shadow DOM of the parent of a slotted node.\n      node.assignedSlot || // DOM Element detected.\n      node.parentNode || // ShadowRoot detected.\n      isShadowRoot(node) && node.host || // Fallback.\n      getDocumentElement(node)\n    );\n    return isShadowRoot(result) ? result.host : result;\n  }\n  function getNearestOverflowAncestor(node) {\n    const parentNode = getParentNode(node);\n    if (isLastTraversableNode(parentNode)) {\n      return node.ownerDocument ? node.ownerDocument.body : node.body;\n    }\n    if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n      return parentNode;\n    }\n    return getNearestOverflowAncestor(parentNode);\n  }\n  function getOverflowAncestors(node, list, traverseIframes) {\n    var _node$ownerDocument2;\n    if (list === void 0) {\n      list = [];\n    }\n    if (traverseIframes === void 0) {\n      traverseIframes = true;\n    }\n    const scrollableAncestor = getNearestOverflowAncestor(node);\n    const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n    const win = getWindow(scrollableAncestor);\n    if (isBody) {\n      const frameElement = getFrameElement(win);\n      return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n    }\n    return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n  }\n  function getFrameElement(win) {\n    return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n  }\n  function getUserAgent() {\n    const uaData = navigator.userAgentData;\n    if (uaData && Array.isArray(uaData.brands)) {\n      return uaData.brands.map((_ref) => {\n        let {\n          brand,\n          version\n        } = _ref;\n        return brand + \"/\" + version;\n      }).join(\" \");\n    }\n    return navigator.userAgent;\n  }\n  const min = Math.min;\n  const max = Math.max;\n  const round = Math.round;\n  const floor = Math.floor;\n  const createCoords = (v2) => ({\n    x: v2,\n    y: v2\n  });\n  const oppositeSideMap = {\n    left: \"right\",\n    right: \"left\",\n    bottom: \"top\",\n    top: \"bottom\"\n  };\n  const oppositeAlignmentMap = {\n    start: \"end\",\n    end: \"start\"\n  };\n  function clamp(start, value, end) {\n    return max(start, min(value, end));\n  }\n  function evaluate(value, param) {\n    return typeof value === \"function\" ? value(param) : value;\n  }\n  function getSide(placement) {\n    return placement.split(\"-\")[0];\n  }\n  function getAlignment(placement) {\n    return placement.split(\"-\")[1];\n  }\n  function getOppositeAxis(axis) {\n    return axis === \"x\" ? \"y\" : \"x\";\n  }\n  function getAxisLength(axis) {\n    return axis === \"y\" ? \"height\" : \"width\";\n  }\n  function getSideAxis(placement) {\n    return [\"top\", \"bottom\"].includes(getSide(placement)) ? \"y\" : \"x\";\n  }\n  function getAlignmentAxis(placement) {\n    return getOppositeAxis(getSideAxis(placement));\n  }\n  function getAlignmentSides(placement, rects, rtl) {\n    if (rtl === void 0) {\n      rtl = false;\n    }\n    const alignment = getAlignment(placement);\n    const alignmentAxis = getAlignmentAxis(placement);\n    const length = getAxisLength(alignmentAxis);\n    let mainAlignmentSide = alignmentAxis === \"x\" ? alignment === (rtl ? \"end\" : \"start\") ? \"right\" : \"left\" : alignment === \"start\" ? \"bottom\" : \"top\";\n    if (rects.reference[length] > rects.floating[length]) {\n      mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n    }\n    return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n  }\n  function getExpandedPlacements(placement) {\n    const oppositePlacement = getOppositePlacement(placement);\n    return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n  }\n  function getOppositeAlignmentPlacement(placement) {\n    return placement.replace(/start|end/g, (alignment) => oppositeAlignmentMap[alignment]);\n  }\n  function getSideList(side, isStart, rtl) {\n    const lr = [\"left\", \"right\"];\n    const rl = [\"right\", \"left\"];\n    const tb = [\"top\", \"bottom\"];\n    const bt = [\"bottom\", \"top\"];\n    switch (side) {\n      case \"top\":\n      case \"bottom\":\n        if (rtl) return isStart ? rl : lr;\n        return isStart ? lr : rl;\n      case \"left\":\n      case \"right\":\n        return isStart ? tb : bt;\n      default:\n        return [];\n    }\n  }\n  function getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n    const alignment = getAlignment(placement);\n    let list = getSideList(getSide(placement), direction === \"start\", rtl);\n    if (alignment) {\n      list = list.map((side) => side + \"-\" + alignment);\n      if (flipAlignment) {\n        list = list.concat(list.map(getOppositeAlignmentPlacement));\n      }\n    }\n    return list;\n  }\n  function getOppositePlacement(placement) {\n    return placement.replace(/left|right|bottom|top/g, (side) => oppositeSideMap[side]);\n  }\n  function expandPaddingObject(padding) {\n    return {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      ...padding\n    };\n  }\n  function getPaddingObject(padding) {\n    return typeof padding !== \"number\" ? expandPaddingObject(padding) : {\n      top: padding,\n      right: padding,\n      bottom: padding,\n      left: padding\n    };\n  }\n  function rectToClientRect(rect) {\n    const {\n      x: x2,\n      y: y2,\n      width,\n      height\n    } = rect;\n    return {\n      width,\n      height,\n      top: y2,\n      left: x2,\n      right: x2 + width,\n      bottom: y2 + height,\n      x: x2,\n      y: y2\n    };\n  }\n  function computeCoordsFromPlacement(_ref, placement, rtl) {\n    let {\n      reference,\n      floating\n    } = _ref;\n    const sideAxis = getSideAxis(placement);\n    const alignmentAxis = getAlignmentAxis(placement);\n    const alignLength = getAxisLength(alignmentAxis);\n    const side = getSide(placement);\n    const isVertical = sideAxis === \"y\";\n    const commonX = reference.x + reference.width / 2 - floating.width / 2;\n    const commonY = reference.y + reference.height / 2 - floating.height / 2;\n    const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n    let coords;\n    switch (side) {\n      case \"top\":\n        coords = {\n          x: commonX,\n          y: reference.y - floating.height\n        };\n        break;\n      case \"bottom\":\n        coords = {\n          x: commonX,\n          y: reference.y + reference.height\n        };\n        break;\n      case \"right\":\n        coords = {\n          x: reference.x + reference.width,\n          y: commonY\n        };\n        break;\n      case \"left\":\n        coords = {\n          x: reference.x - floating.width,\n          y: commonY\n        };\n        break;\n      default:\n        coords = {\n          x: reference.x,\n          y: reference.y\n        };\n    }\n    switch (getAlignment(placement)) {\n      case \"start\":\n        coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n        break;\n      case \"end\":\n        coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n        break;\n    }\n    return coords;\n  }\n  const computePosition$1 = async (reference, floating, config) => {\n    const {\n      placement = \"bottom\",\n      strategy = \"absolute\",\n      middleware = [],\n      platform: platform2\n    } = config;\n    const validMiddleware = middleware.filter(Boolean);\n    const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(floating));\n    let rects = await platform2.getElementRects({\n      reference,\n      floating,\n      strategy\n    });\n    let {\n      x: x2,\n      y: y2\n    } = computeCoordsFromPlacement(rects, placement, rtl);\n    let statefulPlacement = placement;\n    let middlewareData = {};\n    let resetCount = 0;\n    for (let i2 = 0; i2 < validMiddleware.length; i2++) {\n      const {\n        name,\n        fn: fn2\n      } = validMiddleware[i2];\n      const {\n        x: nextX,\n        y: nextY,\n        data,\n        reset\n      } = await fn2({\n        x: x2,\n        y: y2,\n        initialPlacement: placement,\n        placement: statefulPlacement,\n        strategy,\n        middlewareData,\n        rects,\n        platform: platform2,\n        elements: {\n          reference,\n          floating\n        }\n      });\n      x2 = nextX != null ? nextX : x2;\n      y2 = nextY != null ? nextY : y2;\n      middlewareData = {\n        ...middlewareData,\n        [name]: {\n          ...middlewareData[name],\n          ...data\n        }\n      };\n      if (reset && resetCount <= 50) {\n        resetCount++;\n        if (typeof reset === \"object\") {\n          if (reset.placement) {\n            statefulPlacement = reset.placement;\n          }\n          if (reset.rects) {\n            rects = reset.rects === true ? await platform2.getElementRects({\n              reference,\n              floating,\n              strategy\n            }) : reset.rects;\n          }\n          ({\n            x: x2,\n            y: y2\n          } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n        }\n        i2 = -1;\n      }\n    }\n    return {\n      x: x2,\n      y: y2,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData\n    };\n  };\n  async function detectOverflow$1(state, options) {\n    var _await$platform$isEle;\n    if (options === void 0) {\n      options = {};\n    }\n    const {\n      x: x2,\n      y: y2,\n      platform: platform2,\n      rects,\n      elements,\n      strategy\n    } = state;\n    const {\n      boundary = \"clippingAncestors\",\n      rootBoundary = \"viewport\",\n      elementContext = \"floating\",\n      altBoundary = false,\n      padding = 0\n    } = evaluate(options, state);\n    const paddingObject = getPaddingObject(padding);\n    const altContext = elementContext === \"floating\" ? \"reference\" : \"floating\";\n    const element = elements[altBoundary ? altContext : elementContext];\n    const clippingClientRect = rectToClientRect(await platform2.getClippingRect({\n      element: ((_await$platform$isEle = await (platform2.isElement == null ? void 0 : platform2.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || await (platform2.getDocumentElement == null ? void 0 : platform2.getDocumentElement(elements.floating)),\n      boundary,\n      rootBoundary,\n      strategy\n    }));\n    const rect = elementContext === \"floating\" ? {\n      x: x2,\n      y: y2,\n      width: rects.floating.width,\n      height: rects.floating.height\n    } : rects.reference;\n    const offsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(elements.floating));\n    const offsetScale = await (platform2.isElement == null ? void 0 : platform2.isElement(offsetParent)) ? await (platform2.getScale == null ? void 0 : platform2.getScale(offsetParent)) || {\n      x: 1,\n      y: 1\n    } : {\n      x: 1,\n      y: 1\n    };\n    const elementClientRect = rectToClientRect(platform2.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform2.convertOffsetParentRelativeRectToViewportRelativeRect({\n      elements,\n      rect,\n      offsetParent,\n      strategy\n    }) : rect);\n    return {\n      top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n      bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n      left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n      right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n    };\n  }\n  const flip$2 = function(options) {\n    if (options === void 0) {\n      options = {};\n    }\n    return {\n      name: \"flip\",\n      options,\n      async fn(state) {\n        var _middlewareData$arrow, _middlewareData$flip;\n        const {\n          placement,\n          middlewareData,\n          rects,\n          initialPlacement,\n          platform: platform2,\n          elements\n        } = state;\n        const {\n          mainAxis: checkMainAxis = true,\n          crossAxis: checkCrossAxis = true,\n          fallbackPlacements: specifiedFallbackPlacements,\n          fallbackStrategy = \"bestFit\",\n          fallbackAxisSideDirection = \"none\",\n          flipAlignment = true,\n          ...detectOverflowOptions\n        } = evaluate(options, state);\n        if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n          return {};\n        }\n        const side = getSide(placement);\n        const initialSideAxis = getSideAxis(initialPlacement);\n        const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n        const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));\n        const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n        const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== \"none\";\n        if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n          fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n        }\n        const placements = [initialPlacement, ...fallbackPlacements];\n        const overflow = await detectOverflow$1(state, detectOverflowOptions);\n        const overflows = [];\n        let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n        if (checkMainAxis) {\n          overflows.push(overflow[side]);\n        }\n        if (checkCrossAxis) {\n          const sides = getAlignmentSides(placement, rects, rtl);\n          overflows.push(overflow[sides[0]], overflow[sides[1]]);\n        }\n        overflowsData = [...overflowsData, {\n          placement,\n          overflows\n        }];\n        if (!overflows.every((side2) => side2 <= 0)) {\n          var _middlewareData$flip2, _overflowsData$filter;\n          const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n          const nextPlacement = placements[nextIndex];\n          if (nextPlacement) {\n            var _overflowsData$;\n            const ignoreCrossAxisOverflow = checkCrossAxis === \"alignment\" ? initialSideAxis !== getSideAxis(nextPlacement) : false;\n            const hasInitialMainAxisOverflow = ((_overflowsData$ = overflowsData[0]) == null ? void 0 : _overflowsData$.overflows[0]) > 0;\n            if (!ignoreCrossAxisOverflow || hasInitialMainAxisOverflow) {\n              return {\n                data: {\n                  index: nextIndex,\n                  overflows: overflowsData\n                },\n                reset: {\n                  placement: nextPlacement\n                }\n              };\n            }\n          }\n          let resetPlacement = (_overflowsData$filter = overflowsData.filter((d2) => d2.overflows[0] <= 0).sort((a2, b2) => a2.overflows[1] - b2.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n          if (!resetPlacement) {\n            switch (fallbackStrategy) {\n              case \"bestFit\": {\n                var _overflowsData$filter2;\n                const placement2 = (_overflowsData$filter2 = overflowsData.filter((d2) => {\n                  if (hasFallbackAxisSideDirection) {\n                    const currentSideAxis = getSideAxis(d2.placement);\n                    return currentSideAxis === initialSideAxis || // Create a bias to the `y` side axis due to horizontal\n                    // reading directions favoring greater width.\n                    currentSideAxis === \"y\";\n                  }\n                  return true;\n                }).map((d2) => [d2.placement, d2.overflows.filter((overflow2) => overflow2 > 0).reduce((acc, overflow2) => acc + overflow2, 0)]).sort((a2, b2) => a2[1] - b2[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                if (placement2) {\n                  resetPlacement = placement2;\n                }\n                break;\n              }\n              case \"initialPlacement\":\n                resetPlacement = initialPlacement;\n                break;\n            }\n          }\n          if (placement !== resetPlacement) {\n            return {\n              reset: {\n                placement: resetPlacement\n              }\n            };\n          }\n        }\n        return {};\n      }\n    };\n  };\n  async function convertValueToCoords(state, options) {\n    const {\n      placement,\n      platform: platform2,\n      elements\n    } = state;\n    const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));\n    const side = getSide(placement);\n    const alignment = getAlignment(placement);\n    const isVertical = getSideAxis(placement) === \"y\";\n    const mainAxisMulti = [\"left\", \"top\"].includes(side) ? -1 : 1;\n    const crossAxisMulti = rtl && isVertical ? -1 : 1;\n    const rawValue = evaluate(options, state);\n    let {\n      mainAxis,\n      crossAxis,\n      alignmentAxis\n    } = typeof rawValue === \"number\" ? {\n      mainAxis: rawValue,\n      crossAxis: 0,\n      alignmentAxis: null\n    } : {\n      mainAxis: rawValue.mainAxis || 0,\n      crossAxis: rawValue.crossAxis || 0,\n      alignmentAxis: rawValue.alignmentAxis\n    };\n    if (alignment && typeof alignmentAxis === \"number\") {\n      crossAxis = alignment === \"end\" ? alignmentAxis * -1 : alignmentAxis;\n    }\n    return isVertical ? {\n      x: crossAxis * crossAxisMulti,\n      y: mainAxis * mainAxisMulti\n    } : {\n      x: mainAxis * mainAxisMulti,\n      y: crossAxis * crossAxisMulti\n    };\n  }\n  const offset$2 = function(options) {\n    if (options === void 0) {\n      options = 0;\n    }\n    return {\n      name: \"offset\",\n      options,\n      async fn(state) {\n        var _middlewareData$offse, _middlewareData$arrow;\n        const {\n          x: x2,\n          y: y2,\n          placement,\n          middlewareData\n        } = state;\n        const diffCoords = await convertValueToCoords(state, options);\n        if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n          return {};\n        }\n        return {\n          x: x2 + diffCoords.x,\n          y: y2 + diffCoords.y,\n          data: {\n            ...diffCoords,\n            placement\n          }\n        };\n      }\n    };\n  };\n  const shift$2 = function(options) {\n    if (options === void 0) {\n      options = {};\n    }\n    return {\n      name: \"shift\",\n      options,\n      async fn(state) {\n        const {\n          x: x2,\n          y: y2,\n          placement\n        } = state;\n        const {\n          mainAxis: checkMainAxis = true,\n          crossAxis: checkCrossAxis = false,\n          limiter = {\n            fn: (_ref) => {\n              let {\n                x: x3,\n                y: y3\n              } = _ref;\n              return {\n                x: x3,\n                y: y3\n              };\n            }\n          },\n          ...detectOverflowOptions\n        } = evaluate(options, state);\n        const coords = {\n          x: x2,\n          y: y2\n        };\n        const overflow = await detectOverflow$1(state, detectOverflowOptions);\n        const crossAxis = getSideAxis(getSide(placement));\n        const mainAxis = getOppositeAxis(crossAxis);\n        let mainAxisCoord = coords[mainAxis];\n        let crossAxisCoord = coords[crossAxis];\n        if (checkMainAxis) {\n          const minSide = mainAxis === \"y\" ? \"top\" : \"left\";\n          const maxSide = mainAxis === \"y\" ? \"bottom\" : \"right\";\n          const min2 = mainAxisCoord + overflow[minSide];\n          const max2 = mainAxisCoord - overflow[maxSide];\n          mainAxisCoord = clamp(min2, mainAxisCoord, max2);\n        }\n        if (checkCrossAxis) {\n          const minSide = crossAxis === \"y\" ? \"top\" : \"left\";\n          const maxSide = crossAxis === \"y\" ? \"bottom\" : \"right\";\n          const min2 = crossAxisCoord + overflow[minSide];\n          const max2 = crossAxisCoord - overflow[maxSide];\n          crossAxisCoord = clamp(min2, crossAxisCoord, max2);\n        }\n        const limitedCoords = limiter.fn({\n          ...state,\n          [mainAxis]: mainAxisCoord,\n          [crossAxis]: crossAxisCoord\n        });\n        return {\n          ...limitedCoords,\n          data: {\n            x: limitedCoords.x - x2,\n            y: limitedCoords.y - y2,\n            enabled: {\n              [mainAxis]: checkMainAxis,\n              [crossAxis]: checkCrossAxis\n            }\n          }\n        };\n      }\n    };\n  };\n  const size$2 = function(options) {\n    if (options === void 0) {\n      options = {};\n    }\n    return {\n      name: \"size\",\n      options,\n      async fn(state) {\n        var _state$middlewareData, _state$middlewareData2;\n        const {\n          placement,\n          rects,\n          platform: platform2,\n          elements\n        } = state;\n        const {\n          apply = () => {\n          },\n          ...detectOverflowOptions\n        } = evaluate(options, state);\n        const overflow = await detectOverflow$1(state, detectOverflowOptions);\n        const side = getSide(placement);\n        const alignment = getAlignment(placement);\n        const isYAxis = getSideAxis(placement) === \"y\";\n        const {\n          width,\n          height\n        } = rects.floating;\n        let heightSide;\n        let widthSide;\n        if (side === \"top\" || side === \"bottom\") {\n          heightSide = side;\n          widthSide = alignment === (await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating)) ? \"start\" : \"end\") ? \"left\" : \"right\";\n        } else {\n          widthSide = side;\n          heightSide = alignment === \"end\" ? \"top\" : \"bottom\";\n        }\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n        const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n        const noShift = !state.middlewareData.shift;\n        let availableHeight = overflowAvailableHeight;\n        let availableWidth = overflowAvailableWidth;\n        if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n          availableWidth = maximumClippingWidth;\n        }\n        if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n          availableHeight = maximumClippingHeight;\n        }\n        if (noShift && !alignment) {\n          const xMin = max(overflow.left, 0);\n          const xMax = max(overflow.right, 0);\n          const yMin = max(overflow.top, 0);\n          const yMax = max(overflow.bottom, 0);\n          if (isYAxis) {\n            availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n          } else {\n            availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n          }\n        }\n        await apply({\n          ...state,\n          availableWidth,\n          availableHeight\n        });\n        const nextDimensions = await platform2.getDimensions(elements.floating);\n        if (width !== nextDimensions.width || height !== nextDimensions.height) {\n          return {\n            reset: {\n              rects: true\n            }\n          };\n        }\n        return {};\n      }\n    };\n  };\n  function getCssDimensions(element) {\n    const css = getComputedStyle$1(element);\n    let width = parseFloat(css.width) || 0;\n    let height = parseFloat(css.height) || 0;\n    const hasOffset = isHTMLElement(element);\n    const offsetWidth = hasOffset ? element.offsetWidth : width;\n    const offsetHeight = hasOffset ? element.offsetHeight : height;\n    const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n    if (shouldFallback) {\n      width = offsetWidth;\n      height = offsetHeight;\n    }\n    return {\n      width,\n      height,\n      $: shouldFallback\n    };\n  }\n  function unwrapElement(element) {\n    return !isElement(element) ? element.contextElement : element;\n  }\n  function getScale(element) {\n    const domElement = unwrapElement(element);\n    if (!isHTMLElement(domElement)) {\n      return createCoords(1);\n    }\n    const rect = domElement.getBoundingClientRect();\n    const {\n      width,\n      height,\n      $: $2\n    } = getCssDimensions(domElement);\n    let x2 = ($2 ? round(rect.width) : rect.width) / width;\n    let y2 = ($2 ? round(rect.height) : rect.height) / height;\n    if (!x2 || !Number.isFinite(x2)) {\n      x2 = 1;\n    }\n    if (!y2 || !Number.isFinite(y2)) {\n      y2 = 1;\n    }\n    return {\n      x: x2,\n      y: y2\n    };\n  }\n  const noOffsets = /* @__PURE__ */ createCoords(0);\n  function getVisualOffsets(element) {\n    const win = getWindow(element);\n    if (!isWebKit() || !win.visualViewport) {\n      return noOffsets;\n    }\n    return {\n      x: win.visualViewport.offsetLeft,\n      y: win.visualViewport.offsetTop\n    };\n  }\n  function shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n    if (isFixed === void 0) {\n      isFixed = false;\n    }\n    if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n      return false;\n    }\n    return isFixed;\n  }\n  function getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n    if (includeScale === void 0) {\n      includeScale = false;\n    }\n    if (isFixedStrategy === void 0) {\n      isFixedStrategy = false;\n    }\n    const clientRect = element.getBoundingClientRect();\n    const domElement = unwrapElement(element);\n    let scale = createCoords(1);\n    if (includeScale) {\n      if (offsetParent) {\n        if (isElement(offsetParent)) {\n          scale = getScale(offsetParent);\n        }\n      } else {\n        scale = getScale(element);\n      }\n    }\n    const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n    let x2 = (clientRect.left + visualOffsets.x) / scale.x;\n    let y2 = (clientRect.top + visualOffsets.y) / scale.y;\n    let width = clientRect.width / scale.x;\n    let height = clientRect.height / scale.y;\n    if (domElement) {\n      const win = getWindow(domElement);\n      const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n      let currentWin = win;\n      let currentIFrame = getFrameElement(currentWin);\n      while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n        const iframeScale = getScale(currentIFrame);\n        const iframeRect = currentIFrame.getBoundingClientRect();\n        const css = getComputedStyle$1(currentIFrame);\n        const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n        const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n        x2 *= iframeScale.x;\n        y2 *= iframeScale.y;\n        width *= iframeScale.x;\n        height *= iframeScale.y;\n        x2 += left;\n        y2 += top;\n        currentWin = getWindow(currentIFrame);\n        currentIFrame = getFrameElement(currentWin);\n      }\n    }\n    return rectToClientRect({\n      width,\n      height,\n      x: x2,\n      y: y2\n    });\n  }\n  function getWindowScrollBarX(element, rect) {\n    const leftScroll = getNodeScroll(element).scrollLeft;\n    if (!rect) {\n      return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n    }\n    return rect.left + leftScroll;\n  }\n  function getHTMLOffset(documentElement, scroll, ignoreScrollbarX) {\n    if (ignoreScrollbarX === void 0) {\n      ignoreScrollbarX = false;\n    }\n    const htmlRect = documentElement.getBoundingClientRect();\n    const x2 = htmlRect.left + scroll.scrollLeft - (ignoreScrollbarX ? 0 : (\n      // RTL <body> scrollbar.\n      getWindowScrollBarX(documentElement, htmlRect)\n    ));\n    const y2 = htmlRect.top + scroll.scrollTop;\n    return {\n      x: x2,\n      y: y2\n    };\n  }\n  function convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n    let {\n      elements,\n      rect,\n      offsetParent,\n      strategy\n    } = _ref;\n    const isFixed = strategy === \"fixed\";\n    const documentElement = getDocumentElement(offsetParent);\n    const topLayer = elements ? isTopLayer(elements.floating) : false;\n    if (offsetParent === documentElement || topLayer && isFixed) {\n      return rect;\n    }\n    let scroll = {\n      scrollLeft: 0,\n      scrollTop: 0\n    };\n    let scale = createCoords(1);\n    const offsets = createCoords(0);\n    const isOffsetParentAnElement = isHTMLElement(offsetParent);\n    if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n      if (getNodeName(offsetParent) !== \"body\" || isOverflowElement(documentElement)) {\n        scroll = getNodeScroll(offsetParent);\n      }\n      if (isHTMLElement(offsetParent)) {\n        const offsetRect = getBoundingClientRect(offsetParent);\n        scale = getScale(offsetParent);\n        offsets.x = offsetRect.x + offsetParent.clientLeft;\n        offsets.y = offsetRect.y + offsetParent.clientTop;\n      }\n    }\n    const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll, true) : createCoords(0);\n    return {\n      width: rect.width * scale.x,\n      height: rect.height * scale.y,\n      x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\n      y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\n    };\n  }\n  function getClientRects(element) {\n    return Array.from(element.getClientRects());\n  }\n  function getDocumentRect(element) {\n    const html = getDocumentElement(element);\n    const scroll = getNodeScroll(element);\n    const body = element.ownerDocument.body;\n    const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n    const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n    let x2 = -scroll.scrollLeft + getWindowScrollBarX(element);\n    const y2 = -scroll.scrollTop;\n    if (getComputedStyle$1(body).direction === \"rtl\") {\n      x2 += max(html.clientWidth, body.clientWidth) - width;\n    }\n    return {\n      width,\n      height,\n      x: x2,\n      y: y2\n    };\n  }\n  function getViewportRect(element, strategy) {\n    const win = getWindow(element);\n    const html = getDocumentElement(element);\n    const visualViewport = win.visualViewport;\n    let width = html.clientWidth;\n    let height = html.clientHeight;\n    let x2 = 0;\n    let y2 = 0;\n    if (visualViewport) {\n      width = visualViewport.width;\n      height = visualViewport.height;\n      const visualViewportBased = isWebKit();\n      if (!visualViewportBased || visualViewportBased && strategy === \"fixed\") {\n        x2 = visualViewport.offsetLeft;\n        y2 = visualViewport.offsetTop;\n      }\n    }\n    return {\n      width,\n      height,\n      x: x2,\n      y: y2\n    };\n  }\n  function getInnerBoundingClientRect(element, strategy) {\n    const clientRect = getBoundingClientRect(element, true, strategy === \"fixed\");\n    const top = clientRect.top + element.clientTop;\n    const left = clientRect.left + element.clientLeft;\n    const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n    const width = element.clientWidth * scale.x;\n    const height = element.clientHeight * scale.y;\n    const x2 = left * scale.x;\n    const y2 = top * scale.y;\n    return {\n      width,\n      height,\n      x: x2,\n      y: y2\n    };\n  }\n  function getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n    let rect;\n    if (clippingAncestor === \"viewport\") {\n      rect = getViewportRect(element, strategy);\n    } else if (clippingAncestor === \"document\") {\n      rect = getDocumentRect(getDocumentElement(element));\n    } else if (isElement(clippingAncestor)) {\n      rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n    } else {\n      const visualOffsets = getVisualOffsets(element);\n      rect = {\n        x: clippingAncestor.x - visualOffsets.x,\n        y: clippingAncestor.y - visualOffsets.y,\n        width: clippingAncestor.width,\n        height: clippingAncestor.height\n      };\n    }\n    return rectToClientRect(rect);\n  }\n  function hasFixedPositionAncestor(element, stopNode) {\n    const parentNode = getParentNode(element);\n    if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n      return false;\n    }\n    return getComputedStyle$1(parentNode).position === \"fixed\" || hasFixedPositionAncestor(parentNode, stopNode);\n  }\n  function getClippingElementAncestors(element, cache) {\n    const cachedResult = cache.get(element);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    let result = getOverflowAncestors(element, [], false).filter((el) => isElement(el) && getNodeName(el) !== \"body\");\n    let currentContainingBlockComputedStyle = null;\n    const elementIsFixed = getComputedStyle$1(element).position === \"fixed\";\n    let currentNode = elementIsFixed ? getParentNode(element) : element;\n    while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n      const computedStyle = getComputedStyle$1(currentNode);\n      const currentNodeIsContaining = isContainingBlock(currentNode);\n      if (!currentNodeIsContaining && computedStyle.position === \"fixed\") {\n        currentContainingBlockComputedStyle = null;\n      }\n      const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === \"static\" && !!currentContainingBlockComputedStyle && [\"absolute\", \"fixed\"].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n      if (shouldDropCurrentNode) {\n        result = result.filter((ancestor) => ancestor !== currentNode);\n      } else {\n        currentContainingBlockComputedStyle = computedStyle;\n      }\n      currentNode = getParentNode(currentNode);\n    }\n    cache.set(element, result);\n    return result;\n  }\n  function getClippingRect(_ref) {\n    let {\n      element,\n      boundary,\n      rootBoundary,\n      strategy\n    } = _ref;\n    const elementClippingAncestors = boundary === \"clippingAncestors\" ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n    const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n    const firstClippingAncestor = clippingAncestors[0];\n    const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n      const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n      accRect.top = max(rect.top, accRect.top);\n      accRect.right = min(rect.right, accRect.right);\n      accRect.bottom = min(rect.bottom, accRect.bottom);\n      accRect.left = max(rect.left, accRect.left);\n      return accRect;\n    }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n    return {\n      width: clippingRect.right - clippingRect.left,\n      height: clippingRect.bottom - clippingRect.top,\n      x: clippingRect.left,\n      y: clippingRect.top\n    };\n  }\n  function getDimensions(element) {\n    const {\n      width,\n      height\n    } = getCssDimensions(element);\n    return {\n      width,\n      height\n    };\n  }\n  function getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n    const isOffsetParentAnElement = isHTMLElement(offsetParent);\n    const documentElement = getDocumentElement(offsetParent);\n    const isFixed = strategy === \"fixed\";\n    const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n    let scroll = {\n      scrollLeft: 0,\n      scrollTop: 0\n    };\n    const offsets = createCoords(0);\n    function setLeftRTLScrollbarOffset() {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n    if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n      if (getNodeName(offsetParent) !== \"body\" || isOverflowElement(documentElement)) {\n        scroll = getNodeScroll(offsetParent);\n      }\n      if (isOffsetParentAnElement) {\n        const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n        offsets.x = offsetRect.x + offsetParent.clientLeft;\n        offsets.y = offsetRect.y + offsetParent.clientTop;\n      } else if (documentElement) {\n        setLeftRTLScrollbarOffset();\n      }\n    }\n    if (isFixed && !isOffsetParentAnElement && documentElement) {\n      setLeftRTLScrollbarOffset();\n    }\n    const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n    const x2 = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\n    const y2 = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\n    return {\n      x: x2,\n      y: y2,\n      width: rect.width,\n      height: rect.height\n    };\n  }\n  function isStaticPositioned(element) {\n    return getComputedStyle$1(element).position === \"static\";\n  }\n  function getTrueOffsetParent(element, polyfill) {\n    if (!isHTMLElement(element) || getComputedStyle$1(element).position === \"fixed\") {\n      return null;\n    }\n    if (polyfill) {\n      return polyfill(element);\n    }\n    let rawOffsetParent = element.offsetParent;\n    if (getDocumentElement(element) === rawOffsetParent) {\n      rawOffsetParent = rawOffsetParent.ownerDocument.body;\n    }\n    return rawOffsetParent;\n  }\n  function getOffsetParent(element, polyfill) {\n    const win = getWindow(element);\n    if (isTopLayer(element)) {\n      return win;\n    }\n    if (!isHTMLElement(element)) {\n      let svgOffsetParent = getParentNode(element);\n      while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n        if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n          return svgOffsetParent;\n        }\n        svgOffsetParent = getParentNode(svgOffsetParent);\n      }\n      return win;\n    }\n    let offsetParent = getTrueOffsetParent(element, polyfill);\n    while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n      offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n    }\n    if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n      return win;\n    }\n    return offsetParent || getContainingBlock(element) || win;\n  }\n  const getElementRects = async function(data) {\n    const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n    const getDimensionsFn = this.getDimensions;\n    const floatingDimensions = await getDimensionsFn(data.floating);\n    return {\n      reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n      floating: {\n        x: 0,\n        y: 0,\n        width: floatingDimensions.width,\n        height: floatingDimensions.height\n      }\n    };\n  };\n  function isRTL(element) {\n    return getComputedStyle$1(element).direction === \"rtl\";\n  }\n  const platform = {\n    convertOffsetParentRelativeRectToViewportRelativeRect,\n    getDocumentElement,\n    getClippingRect,\n    getOffsetParent,\n    getElementRects,\n    getClientRects,\n    getDimensions,\n    getScale,\n    isElement,\n    isRTL\n  };\n  function rectsAreEqual(a2, b2) {\n    return a2.x === b2.x && a2.y === b2.y && a2.width === b2.width && a2.height === b2.height;\n  }\n  function observeMove(element, onMove) {\n    let io = null;\n    let timeoutId;\n    const root = getDocumentElement(element);\n    function cleanup() {\n      var _io;\n      clearTimeout(timeoutId);\n      (_io = io) == null || _io.disconnect();\n      io = null;\n    }\n    function refresh(skip, threshold) {\n      if (skip === void 0) {\n        skip = false;\n      }\n      if (threshold === void 0) {\n        threshold = 1;\n      }\n      cleanup();\n      const elementRectForRootMargin = element.getBoundingClientRect();\n      const {\n        left,\n        top,\n        width,\n        height\n      } = elementRectForRootMargin;\n      if (!skip) {\n        onMove();\n      }\n      if (!width || !height) {\n        return;\n      }\n      const insetTop = floor(top);\n      const insetRight = floor(root.clientWidth - (left + width));\n      const insetBottom = floor(root.clientHeight - (top + height));\n      const insetLeft = floor(left);\n      const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n      const options = {\n        rootMargin,\n        threshold: max(0, min(1, threshold)) || 1\n      };\n      let isFirstUpdate = true;\n      function handleObserve(entries) {\n        const ratio = entries[0].intersectionRatio;\n        if (ratio !== threshold) {\n          if (!isFirstUpdate) {\n            return refresh();\n          }\n          if (!ratio) {\n            timeoutId = setTimeout(() => {\n              refresh(false, 1e-7);\n            }, 1e3);\n          } else {\n            refresh(false, ratio);\n          }\n        }\n        if (ratio === 1 && !rectsAreEqual(elementRectForRootMargin, element.getBoundingClientRect())) {\n          refresh();\n        }\n        isFirstUpdate = false;\n      }\n      try {\n        io = new IntersectionObserver(handleObserve, {\n          ...options,\n          // Handle <iframe>s\n          root: root.ownerDocument\n        });\n      } catch (_e) {\n        io = new IntersectionObserver(handleObserve, options);\n      }\n      io.observe(element);\n    }\n    refresh(true);\n    return cleanup;\n  }\n  function autoUpdate(reference, floating, update, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    const {\n      ancestorScroll = true,\n      ancestorResize = true,\n      elementResize = typeof ResizeObserver === \"function\",\n      layoutShift = typeof IntersectionObserver === \"function\",\n      animationFrame = false\n    } = options;\n    const referenceEl = unwrapElement(reference);\n    const ancestors = ancestorScroll || ancestorResize ? [...referenceEl ? getOverflowAncestors(referenceEl) : [], ...getOverflowAncestors(floating)] : [];\n    ancestors.forEach((ancestor) => {\n      ancestorScroll && ancestor.addEventListener(\"scroll\", update, {\n        passive: true\n      });\n      ancestorResize && ancestor.addEventListener(\"resize\", update);\n    });\n    const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n    let reobserveFrame = -1;\n    let resizeObserver = null;\n    if (elementResize) {\n      resizeObserver = new ResizeObserver((_ref) => {\n        let [firstEntry] = _ref;\n        if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n          resizeObserver.unobserve(floating);\n          cancelAnimationFrame(reobserveFrame);\n          reobserveFrame = requestAnimationFrame(() => {\n            var _resizeObserver;\n            (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n          });\n        }\n        update();\n      });\n      if (referenceEl && !animationFrame) {\n        resizeObserver.observe(referenceEl);\n      }\n      resizeObserver.observe(floating);\n    }\n    let frameId;\n    let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n    if (animationFrame) {\n      frameLoop();\n    }\n    function frameLoop() {\n      const nextRefRect = getBoundingClientRect(reference);\n      if (prevRefRect && !rectsAreEqual(prevRefRect, nextRefRect)) {\n        update();\n      }\n      prevRefRect = nextRefRect;\n      frameId = requestAnimationFrame(frameLoop);\n    }\n    update();\n    return () => {\n      var _resizeObserver2;\n      ancestors.forEach((ancestor) => {\n        ancestorScroll && ancestor.removeEventListener(\"scroll\", update);\n        ancestorResize && ancestor.removeEventListener(\"resize\", update);\n      });\n      cleanupIo == null || cleanupIo();\n      (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n      resizeObserver = null;\n      if (animationFrame) {\n        cancelAnimationFrame(frameId);\n      }\n    };\n  }\n  const detectOverflow = detectOverflow$1;\n  const offset$1 = offset$2;\n  const shift$1 = shift$2;\n  const flip$1 = flip$2;\n  const size$1 = size$2;\n  const computePosition = (reference, floating, options) => {\n    const cache = /* @__PURE__ */ new Map();\n    const mergedOptions = {\n      platform,\n      ...options\n    };\n    const platformWithCache = {\n      ...mergedOptions.platform,\n      _c: cache\n    };\n    return computePosition$1(reference, floating, {\n      ...mergedOptions,\n      platform: platformWithCache\n    });\n  };\n  var index$1 = typeof document !== \"undefined\" ? _$3 : y$6;\n  function deepEqual(a2, b2) {\n    if (a2 === b2) {\n      return true;\n    }\n    if (typeof a2 !== typeof b2) {\n      return false;\n    }\n    if (typeof a2 === \"function\" && a2.toString() === b2.toString()) {\n      return true;\n    }\n    let length;\n    let i2;\n    let keys;\n    if (a2 && b2 && typeof a2 === \"object\") {\n      if (Array.isArray(a2)) {\n        length = a2.length;\n        if (length !== b2.length) return false;\n        for (i2 = length; i2-- !== 0; ) {\n          if (!deepEqual(a2[i2], b2[i2])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      keys = Object.keys(a2);\n      length = keys.length;\n      if (length !== Object.keys(b2).length) {\n        return false;\n      }\n      for (i2 = length; i2-- !== 0; ) {\n        if (!{}.hasOwnProperty.call(b2, keys[i2])) {\n          return false;\n        }\n      }\n      for (i2 = length; i2-- !== 0; ) {\n        const key = keys[i2];\n        if (key === \"_owner\" && a2.$$typeof) {\n          continue;\n        }\n        if (!deepEqual(a2[key], b2[key])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return a2 !== a2 && b2 !== b2;\n  }\n  function getDPR(element) {\n    if (typeof window === \"undefined\") {\n      return 1;\n    }\n    const win = element.ownerDocument.defaultView || window;\n    return win.devicePixelRatio || 1;\n  }\n  function roundByDPR(element, value) {\n    const dpr = getDPR(element);\n    return Math.round(value * dpr) / dpr;\n  }\n  function useLatestRef(value) {\n    const ref = A$3(value);\n    index$1(() => {\n      ref.current = value;\n    });\n    return ref;\n  }\n  function useFloating$1(options) {\n    if (options === void 0) {\n      options = {};\n    }\n    const {\n      placement = \"bottom\",\n      strategy = \"absolute\",\n      middleware = [],\n      platform: platform2,\n      elements: {\n        reference: externalReference,\n        floating: externalFloating\n      } = {},\n      transform = true,\n      whileElementsMounted,\n      open\n    } = options;\n    const [data, setData] = d$4({\n      x: 0,\n      y: 0,\n      strategy,\n      placement,\n      middlewareData: {},\n      isPositioned: false\n    });\n    const [latestMiddleware, setLatestMiddleware] = d$4(middleware);\n    if (!deepEqual(latestMiddleware, middleware)) {\n      setLatestMiddleware(middleware);\n    }\n    const [_reference, _setReference] = d$4(null);\n    const [_floating, _setFloating] = d$4(null);\n    const setReference = q$3((node) => {\n      if (node !== referenceRef.current) {\n        referenceRef.current = node;\n        _setReference(node);\n      }\n    }, []);\n    const setFloating = q$3((node) => {\n      if (node !== floatingRef.current) {\n        floatingRef.current = node;\n        _setFloating(node);\n      }\n    }, []);\n    const referenceEl = externalReference || _reference;\n    const floatingEl = externalFloating || _floating;\n    const referenceRef = A$3(null);\n    const floatingRef = A$3(null);\n    const dataRef = A$3(data);\n    const hasWhileElementsMounted = whileElementsMounted != null;\n    const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n    const platformRef = useLatestRef(platform2);\n    const openRef = useLatestRef(open);\n    const update = q$3(() => {\n      if (!referenceRef.current || !floatingRef.current) {\n        return;\n      }\n      const config = {\n        placement,\n        strategy,\n        middleware: latestMiddleware\n      };\n      if (platformRef.current) {\n        config.platform = platformRef.current;\n      }\n      computePosition(referenceRef.current, floatingRef.current, config).then((data2) => {\n        const fullData = {\n          ...data2,\n          // The floating element's position may be recomputed while it's closed\n          // but still mounted (such as when transitioning out). To ensure\n          // `isPositioned` will be `false` initially on the next open, avoid\n          // setting it to `true` when `open === false` (must be specified).\n          isPositioned: openRef.current !== false\n        };\n        if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n          dataRef.current = fullData;\n          En(() => {\n            setData(fullData);\n          });\n        }\n      });\n    }, [latestMiddleware, placement, strategy, platformRef, openRef]);\n    index$1(() => {\n      if (open === false && dataRef.current.isPositioned) {\n        dataRef.current.isPositioned = false;\n        setData((data2) => ({\n          ...data2,\n          isPositioned: false\n        }));\n      }\n    }, [open]);\n    const isMountedRef = A$3(false);\n    index$1(() => {\n      isMountedRef.current = true;\n      return () => {\n        isMountedRef.current = false;\n      };\n    }, []);\n    index$1(() => {\n      if (referenceEl) referenceRef.current = referenceEl;\n      if (floatingEl) floatingRef.current = floatingEl;\n      if (referenceEl && floatingEl) {\n        if (whileElementsMountedRef.current) {\n          return whileElementsMountedRef.current(referenceEl, floatingEl, update);\n        }\n        update();\n      }\n    }, [referenceEl, floatingEl, update, whileElementsMountedRef, hasWhileElementsMounted]);\n    const refs = T$5(() => ({\n      reference: referenceRef,\n      floating: floatingRef,\n      setReference,\n      setFloating\n    }), [setReference, setFloating]);\n    const elements = T$5(() => ({\n      reference: referenceEl,\n      floating: floatingEl\n    }), [referenceEl, floatingEl]);\n    const floatingStyles = T$5(() => {\n      const initialStyles = {\n        position: strategy,\n        left: 0,\n        top: 0\n      };\n      if (!elements.floating) {\n        return initialStyles;\n      }\n      const x2 = roundByDPR(elements.floating, data.x);\n      const y2 = roundByDPR(elements.floating, data.y);\n      if (transform) {\n        return {\n          ...initialStyles,\n          transform: \"translate(\" + x2 + \"px, \" + y2 + \"px)\",\n          ...getDPR(elements.floating) >= 1.5 && {\n            willChange: \"transform\"\n          }\n        };\n      }\n      return {\n        position: strategy,\n        left: x2,\n        top: y2\n      };\n    }, [strategy, transform, elements.floating, data.x, data.y]);\n    return T$5(() => ({\n      ...data,\n      update,\n      refs,\n      elements,\n      floatingStyles\n    }), [data, update, refs, elements, floatingStyles]);\n  }\n  const offset = (options, deps) => ({\n    ...offset$1(options),\n    options: [options, deps]\n  });\n  const shift = (options, deps) => ({\n    ...shift$1(options),\n    options: [options, deps]\n  });\n  const flip = (options, deps) => ({\n    ...flip$1(options),\n    options: [options, deps]\n  });\n  const size = (options, deps) => ({\n    ...size$1(options),\n    options: [options, deps]\n  });\n  const SafeReact = {\n    ...t$4\n  };\n  const useInsertionEffect = SafeReact.useInsertionEffect;\n  const useSafeInsertionEffect = useInsertionEffect || ((fn2) => fn2());\n  function useEffectEvent(callback) {\n    const ref = A$3(() => {\n      if (true) {\n        throw new Error(\"Cannot call an event handler while rendering.\");\n      }\n    });\n    useSafeInsertionEffect(() => {\n      ref.current = callback;\n    });\n    return q$3(function() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return ref.current == null ? void 0 : ref.current(...args);\n    }, []);\n  }\n  var index = typeof document !== \"undefined\" ? _$3 : y$6;\n  let serverHandoffComplete = false;\n  let count = 0;\n  const genId = () => (\n    // Ensure the id is unique with multiple independent versions of Floating UI\n    // on <React 18\n    \"floating-ui-\" + Math.random().toString(36).slice(2, 6) + count++\n  );\n  function useFloatingId() {\n    const [id, setId] = d$4(() => serverHandoffComplete ? genId() : void 0);\n    index(() => {\n      if (id == null) {\n        setId(genId());\n      }\n    }, []);\n    y$6(() => {\n      serverHandoffComplete = true;\n    }, []);\n    return id;\n  }\n  const useReactId = SafeReact.useId;\n  const useId = useReactId || useFloatingId;\n  let devMessageSet;\n  if (true) {\n    devMessageSet = /* @__PURE__ */ new Set();\n  }\n  function warn() {\n    var _devMessageSet;\n    for (var _len = arguments.length, messages = new Array(_len), _key = 0; _key < _len; _key++) {\n      messages[_key] = arguments[_key];\n    }\n    const message = \"Floating UI: \" + messages.join(\" \");\n    if (!((_devMessageSet = devMessageSet) != null && _devMessageSet.has(message))) {\n      var _devMessageSet2;\n      (_devMessageSet2 = devMessageSet) == null || _devMessageSet2.add(message);\n      console.warn(message);\n    }\n  }\n  function error() {\n    var _devMessageSet3;\n    for (var _len2 = arguments.length, messages = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      messages[_key2] = arguments[_key2];\n    }\n    const message = \"Floating UI: \" + messages.join(\" \");\n    if (!((_devMessageSet3 = devMessageSet) != null && _devMessageSet3.has(message))) {\n      var _devMessageSet4;\n      (_devMessageSet4 = devMessageSet) == null || _devMessageSet4.add(message);\n      console.error(message);\n    }\n  }\n  function createPubSub() {\n    const map = /* @__PURE__ */ new Map();\n    return {\n      emit(event, data) {\n        var _map$get;\n        (_map$get = map.get(event)) == null || _map$get.forEach((handler) => handler(data));\n      },\n      on(event, listener) {\n        map.set(event, [...map.get(event) || [], listener]);\n      },\n      off(event, listener) {\n        var _map$get2;\n        map.set(event, ((_map$get2 = map.get(event)) == null ? void 0 : _map$get2.filter((l2) => l2 !== listener)) || []);\n      }\n    };\n  }\n  const FloatingNodeContext = /* @__PURE__ */ K$3(null);\n  const FloatingTreeContext = /* @__PURE__ */ K$3(null);\n  const useFloatingParentNodeId = () => {\n    var _React$useContext;\n    return ((_React$useContext = x$4(FloatingNodeContext)) == null ? void 0 : _React$useContext.id) || null;\n  };\n  const useFloatingTree = () => x$4(FloatingTreeContext);\n  const FOCUSABLE_ATTRIBUTE = \"data-floating-ui-focusable\";\n  function useFloatingRootContext(options) {\n    const {\n      open = false,\n      onOpenChange: onOpenChangeProp,\n      elements: elementsProp\n    } = options;\n    const floatingId = useId();\n    const dataRef = A$3({});\n    const [events] = d$4(() => createPubSub());\n    const nested = useFloatingParentNodeId() != null;\n    if (true) {\n      const optionDomReference = elementsProp.reference;\n      if (optionDomReference && !isElement(optionDomReference)) {\n        error(\"Cannot pass a virtual element to the `elements.reference` option,\", \"as it must be a real DOM element. Use `refs.setPositionReference()`\", \"instead.\");\n      }\n    }\n    const [positionReference, setPositionReference] = d$4(elementsProp.reference);\n    const onOpenChange = useEffectEvent((open2, event, reason) => {\n      dataRef.current.openEvent = open2 ? event : void 0;\n      events.emit(\"openchange\", {\n        open: open2,\n        event,\n        reason,\n        nested\n      });\n      onOpenChangeProp == null || onOpenChangeProp(open2, event, reason);\n    });\n    const refs = T$5(() => ({\n      setPositionReference\n    }), []);\n    const elements = T$5(() => ({\n      reference: positionReference || elementsProp.reference || null,\n      floating: elementsProp.floating || null,\n      domReference: elementsProp.reference\n    }), [positionReference, elementsProp.reference, elementsProp.floating]);\n    return T$5(() => ({\n      dataRef,\n      open,\n      onOpenChange,\n      elements,\n      events,\n      floatingId,\n      refs\n    }), [open, onOpenChange, elements, events, floatingId, refs]);\n  }\n  function useFloating(options) {\n    if (options === void 0) {\n      options = {};\n    }\n    const {\n      nodeId\n    } = options;\n    const internalRootContext = useFloatingRootContext({\n      ...options,\n      elements: {\n        reference: null,\n        floating: null,\n        ...options.elements\n      }\n    });\n    const rootContext = options.rootContext || internalRootContext;\n    const computedElements = rootContext.elements;\n    const [_domReference, setDomReference] = d$4(null);\n    const [positionReference, _setPositionReference] = d$4(null);\n    const optionDomReference = computedElements == null ? void 0 : computedElements.domReference;\n    const domReference = optionDomReference || _domReference;\n    const domReferenceRef = A$3(null);\n    const tree = useFloatingTree();\n    index(() => {\n      if (domReference) {\n        domReferenceRef.current = domReference;\n      }\n    }, [domReference]);\n    const position = useFloating$1({\n      ...options,\n      elements: {\n        ...computedElements,\n        ...positionReference && {\n          reference: positionReference\n        }\n      }\n    });\n    const setPositionReference = q$3((node) => {\n      const computedPositionReference = isElement(node) ? {\n        getBoundingClientRect: () => node.getBoundingClientRect(),\n        contextElement: node\n      } : node;\n      _setPositionReference(computedPositionReference);\n      position.refs.setReference(computedPositionReference);\n    }, [position.refs]);\n    const setReference = q$3((node) => {\n      if (isElement(node) || node === null) {\n        domReferenceRef.current = node;\n        setDomReference(node);\n      }\n      if (isElement(position.refs.reference.current) || position.refs.reference.current === null || // Don't allow setting virtual elements using the old technique back to\n      // `null` to support `positionReference` + an unstable `reference`\n      // callback ref.\n      node !== null && !isElement(node)) {\n        position.refs.setReference(node);\n      }\n    }, [position.refs]);\n    const refs = T$5(() => ({\n      ...position.refs,\n      setReference,\n      setPositionReference,\n      domReference: domReferenceRef\n    }), [position.refs, setReference, setPositionReference]);\n    const elements = T$5(() => ({\n      ...position.elements,\n      domReference\n    }), [position.elements, domReference]);\n    const context = T$5(() => ({\n      ...position,\n      ...rootContext,\n      refs,\n      elements,\n      nodeId\n    }), [position, refs, elements, nodeId, rootContext]);\n    index(() => {\n      rootContext.dataRef.current.floatingContext = context;\n      const node = tree == null ? void 0 : tree.nodesRef.current.find((node2) => node2.id === nodeId);\n      if (node) {\n        node.context = context;\n      }\n    });\n    return T$5(() => ({\n      ...position,\n      context,\n      refs,\n      elements\n    }), [position, refs, elements, context]);\n  }\n  const ACTIVE_KEY = \"active\";\n  const SELECTED_KEY = \"selected\";\n  function mergeProps(userProps, propsList, elementKey) {\n    const map = /* @__PURE__ */ new Map();\n    const isItem = elementKey === \"item\";\n    let domUserProps = userProps;\n    if (isItem && userProps) {\n      const {\n        [ACTIVE_KEY]: _2,\n        [SELECTED_KEY]: __,\n        ...validProps\n      } = userProps;\n      domUserProps = validProps;\n    }\n    return {\n      ...elementKey === \"floating\" && {\n        tabIndex: -1,\n        [FOCUSABLE_ATTRIBUTE]: \"\"\n      },\n      ...domUserProps,\n      ...propsList.map((value) => {\n        const propsOrGetProps = value ? value[elementKey] : null;\n        if (typeof propsOrGetProps === \"function\") {\n          return userProps ? propsOrGetProps(userProps) : null;\n        }\n        return propsOrGetProps;\n      }).concat(userProps).reduce((acc, props) => {\n        if (!props) {\n          return acc;\n        }\n        Object.entries(props).forEach((_ref) => {\n          let [key, value] = _ref;\n          if (isItem && [ACTIVE_KEY, SELECTED_KEY].includes(key)) {\n            return;\n          }\n          if (key.indexOf(\"on\") === 0) {\n            if (!map.has(key)) {\n              map.set(key, []);\n            }\n            if (typeof value === \"function\") {\n              var _map$get;\n              (_map$get = map.get(key)) == null || _map$get.push(value);\n              acc[key] = function() {\n                var _map$get2;\n                for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                  args[_key] = arguments[_key];\n                }\n                return (_map$get2 = map.get(key)) == null ? void 0 : _map$get2.map((fn2) => fn2(...args)).find((val) => val !== void 0);\n              };\n            }\n          } else {\n            acc[key] = value;\n          }\n        });\n        return acc;\n      }, {})\n    };\n  }\n  function useInteractions(propsList) {\n    if (propsList === void 0) {\n      propsList = [];\n    }\n    const referenceDeps = propsList.map((key) => key == null ? void 0 : key.reference);\n    const floatingDeps = propsList.map((key) => key == null ? void 0 : key.floating);\n    const itemDeps = propsList.map((key) => key == null ? void 0 : key.item);\n    const getReferenceProps = q$3(\n      (userProps) => mergeProps(userProps, propsList, \"reference\"),\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      referenceDeps\n    );\n    const getFloatingProps = q$3(\n      (userProps) => mergeProps(userProps, propsList, \"floating\"),\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      floatingDeps\n    );\n    const getItemProps = q$3(\n      (userProps) => mergeProps(userProps, propsList, \"item\"),\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      itemDeps\n    );\n    return T$5(() => ({\n      getReferenceProps,\n      getFloatingProps,\n      getItemProps\n    }), [getReferenceProps, getFloatingProps, getItemProps]);\n  }\n  function getArgsWithCustomFloatingHeight(state, height) {\n    return {\n      ...state,\n      rects: {\n        ...state.rects,\n        floating: {\n          ...state.rects.floating,\n          height\n        }\n      }\n    };\n  }\n  const inner = (props) => ({\n    name: \"inner\",\n    options: props,\n    async fn(state) {\n      const {\n        listRef,\n        overflowRef,\n        onFallbackChange,\n        offset: innerOffset = 0,\n        index: index2 = 0,\n        minItemsVisible = 4,\n        referenceOverflowThreshold = 0,\n        scrollRef,\n        ...detectOverflowOptions\n      } = evaluate(props, state);\n      const {\n        rects,\n        elements: {\n          floating\n        }\n      } = state;\n      const item = listRef.current[index2];\n      const scrollEl = (scrollRef == null ? void 0 : scrollRef.current) || floating;\n      const clientTop = floating.clientTop || scrollEl.clientTop;\n      const floatingIsBordered = floating.clientTop !== 0;\n      const scrollElIsBordered = scrollEl.clientTop !== 0;\n      const floatingIsScrollEl = floating === scrollEl;\n      if (true) {\n        if (!state.placement.startsWith(\"bottom\")) {\n          warn('`placement` side must be \"bottom\" when using the `inner`', \"middleware.\");\n        }\n      }\n      if (!item) {\n        return {};\n      }\n      const nextArgs = {\n        ...state,\n        ...await offset(-item.offsetTop - floating.clientTop - rects.reference.height / 2 - item.offsetHeight / 2 - innerOffset).fn(state)\n      };\n      const overflow = await detectOverflow(getArgsWithCustomFloatingHeight(nextArgs, scrollEl.scrollHeight + clientTop + floating.clientTop), detectOverflowOptions);\n      const refOverflow = await detectOverflow(nextArgs, {\n        ...detectOverflowOptions,\n        elementContext: \"reference\"\n      });\n      const diffY = max(0, overflow.top);\n      const nextY = nextArgs.y + diffY;\n      const isScrollable = scrollEl.scrollHeight > scrollEl.clientHeight;\n      const rounder = isScrollable ? (v2) => v2 : round;\n      const maxHeight = rounder(max(0, scrollEl.scrollHeight + (floatingIsBordered && floatingIsScrollEl || scrollElIsBordered ? clientTop * 2 : 0) - diffY - max(0, overflow.bottom)));\n      scrollEl.style.maxHeight = maxHeight + \"px\";\n      scrollEl.scrollTop = diffY;\n      if (onFallbackChange) {\n        const shouldFallback = scrollEl.offsetHeight < item.offsetHeight * min(minItemsVisible, listRef.current.length) - 1 || refOverflow.top >= -referenceOverflowThreshold || refOverflow.bottom >= -referenceOverflowThreshold;\n        En(() => onFallbackChange(shouldFallback));\n      }\n      if (overflowRef) {\n        overflowRef.current = await detectOverflow(getArgsWithCustomFloatingHeight({\n          ...nextArgs,\n          y: nextY\n        }, scrollEl.offsetHeight + clientTop + floating.clientTop), detectOverflowOptions);\n      }\n      return {\n        y: nextY\n      };\n    }\n  });\n  function useInnerOffset(context, props) {\n    const {\n      open,\n      elements\n    } = context;\n    const {\n      enabled = true,\n      overflowRef,\n      scrollRef,\n      onChange: unstable_onChange\n    } = props;\n    const onChange = useEffectEvent(unstable_onChange);\n    const controlledScrollingRef = A$3(false);\n    const prevScrollTopRef = A$3(null);\n    const initialOverflowRef = A$3(null);\n    y$6(() => {\n      if (!enabled) return;\n      function onWheel(e2) {\n        if (e2.ctrlKey || !el || overflowRef.current == null) {\n          return;\n        }\n        const dY = e2.deltaY;\n        const isAtTop = overflowRef.current.top >= -0.5;\n        const isAtBottom = overflowRef.current.bottom >= -0.5;\n        const remainingScroll = el.scrollHeight - el.clientHeight;\n        const sign = dY < 0 ? -1 : 1;\n        const method = dY < 0 ? \"max\" : \"min\";\n        if (el.scrollHeight <= el.clientHeight) {\n          return;\n        }\n        if (!isAtTop && dY > 0 || !isAtBottom && dY < 0) {\n          e2.preventDefault();\n          En(() => {\n            onChange((d2) => d2 + Math[method](dY, remainingScroll * sign));\n          });\n        } else if (/firefox/i.test(getUserAgent())) {\n          el.scrollTop += dY;\n        }\n      }\n      const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n      if (open && el) {\n        el.addEventListener(\"wheel\", onWheel);\n        requestAnimationFrame(() => {\n          prevScrollTopRef.current = el.scrollTop;\n          if (overflowRef.current != null) {\n            initialOverflowRef.current = {\n              ...overflowRef.current\n            };\n          }\n        });\n        return () => {\n          prevScrollTopRef.current = null;\n          initialOverflowRef.current = null;\n          el.removeEventListener(\"wheel\", onWheel);\n        };\n      }\n    }, [enabled, open, elements.floating, overflowRef, scrollRef, onChange]);\n    const floating = T$5(() => ({\n      onKeyDown() {\n        controlledScrollingRef.current = true;\n      },\n      onWheel() {\n        controlledScrollingRef.current = false;\n      },\n      onPointerMove() {\n        controlledScrollingRef.current = false;\n      },\n      onScroll() {\n        const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n        if (!overflowRef.current || !el || !controlledScrollingRef.current) {\n          return;\n        }\n        if (prevScrollTopRef.current !== null) {\n          const scrollDiff = el.scrollTop - prevScrollTopRef.current;\n          if (overflowRef.current.bottom < -0.5 && scrollDiff < -1 || overflowRef.current.top < -0.5 && scrollDiff > 1) {\n            En(() => onChange((d2) => d2 + scrollDiff));\n          }\n        }\n        requestAnimationFrame(() => {\n          prevScrollTopRef.current = el.scrollTop;\n        });\n      }\n    }), [elements.floating, onChange, overflowRef, scrollRef]);\n    return T$5(() => enabled ? {\n      floating\n    } : {}, [enabled, floating]);\n  }\n  let y$2 = K$3({ styles: void 0, setReference: () => {\n  }, setFloating: () => {\n  }, getReferenceProps: () => ({}), getFloatingProps: () => ({}), slot: {} });\n  y$2.displayName = \"FloatingContext\";\n  let H$1 = K$3(null);\n  H$1.displayName = \"PlacementContext\";\n  function xe(e2) {\n    return T$5(() => e2 ? typeof e2 == \"string\" ? { to: e2 } : e2 : null, [e2]);\n  }\n  function ye() {\n    return x$4(y$2).setReference;\n  }\n  function Fe() {\n    return x$4(y$2).getReferenceProps;\n  }\n  function be() {\n    let { getFloatingProps: e2, slot: t2 } = x$4(y$2);\n    return q$3((...n2) => Object.assign({}, e2(...n2), { \"data-anchor\": t2.anchor }), [e2, t2]);\n  }\n  function Re(e2 = null) {\n    e2 === false && (e2 = null), typeof e2 == \"string\" && (e2 = { to: e2 });\n    let t2 = x$4(H$1), n2 = T$5(() => e2, [JSON.stringify(e2, (r2, o2) => {\n      var u2;\n      return (u2 = o2 == null ? void 0 : o2.outerHTML) != null ? u2 : o2;\n    })]);\n    n$3(() => {\n      t2 == null || t2(n2 != null ? n2 : null);\n    }, [t2, n2]);\n    let l2 = x$4(y$2);\n    return T$5(() => [l2.setFloating, e2 ? l2.styles : {}], [l2.setFloating, e2, l2.styles]);\n  }\n  let q$1 = 4;\n  function Me({ children: e2, enabled: t2 = true }) {\n    let [n2, l2] = d$4(null), [r2, o2] = d$4(0), u2 = A$3(null), [f2, s2] = d$4(null);\n    pe(f2);\n    let i2 = t2 && n2 !== null && f2 !== null, { to: F2 = \"bottom\", gap: E2 = 0, offset: v2 = 0, padding: c2 = 0, inner: P2 } = ce(n2, f2), [a2, p2 = \"center\"] = F2.split(\" \");\n    n$3(() => {\n      i2 && o2(0);\n    }, [i2]);\n    let { refs: b2, floatingStyles: w2, context: g2 } = useFloating({ open: i2, placement: a2 === \"selection\" ? p2 === \"center\" ? \"bottom\" : `bottom-${p2}` : p2 === \"center\" ? `${a2}` : `${a2}-${p2}`, strategy: \"absolute\", transform: false, middleware: [offset({ mainAxis: a2 === \"selection\" ? 0 : E2, crossAxis: v2 }), shift({ padding: c2 }), a2 !== \"selection\" && flip({ padding: c2 }), a2 === \"selection\" && P2 ? inner({ ...P2, padding: c2, overflowRef: u2, offset: r2, minItemsVisible: q$1, referenceOverflowThreshold: c2, onFallbackChange(h2) {\n      var O2, W2;\n      if (!h2) return;\n      let d2 = g2.elements.floating;\n      if (!d2) return;\n      let T2 = parseFloat(getComputedStyle(d2).scrollPaddingBottom) || 0, $2 = Math.min(q$1, d2.childElementCount), L2 = 0, N2 = 0;\n      for (let m2 of (W2 = (O2 = g2.elements.floating) == null ? void 0 : O2.childNodes) != null ? W2 : []) if (m2 instanceof HTMLElement) {\n        let x2 = m2.offsetTop, k2 = x2 + m2.clientHeight + T2, S2 = d2.scrollTop, U2 = S2 + d2.clientHeight;\n        if (x2 >= S2 && k2 <= U2) $2--;\n        else {\n          N2 = Math.max(0, Math.min(k2, U2) - Math.max(x2, S2)), L2 = m2.clientHeight;\n          break;\n        }\n      }\n      $2 >= 1 && o2((m2) => {\n        let x2 = L2 * $2 - N2 + T2;\n        return m2 >= x2 ? m2 : x2;\n      });\n    } }) : null, size({ padding: c2, apply({ availableWidth: h2, availableHeight: d2, elements: T2 }) {\n      Object.assign(T2.floating.style, { overflow: \"auto\", maxWidth: `${h2}px`, maxHeight: `min(var(--anchor-max-height, 100vh), ${d2}px)` });\n    } })].filter(Boolean), whileElementsMounted: autoUpdate }), [I2 = a2, B2 = p2] = g2.placement.split(\"-\");\n    a2 === \"selection\" && (I2 = \"selection\");\n    let G2 = T$5(() => ({ anchor: [I2, B2].filter(Boolean).join(\" \") }), [I2, B2]), K2 = useInnerOffset(g2, { overflowRef: u2, onChange: o2 }), { getReferenceProps: Q2, getFloatingProps: X2 } = useInteractions([K2]), Y2 = o$4((h2) => {\n      s2(h2), b2.setFloating(h2);\n    });\n    return _$4(H$1.Provider, { value: l2 }, _$4(y$2.Provider, { value: { setFloating: Y2, setReference: b2.setReference, styles: w2, getReferenceProps: Q2, getFloatingProps: X2, slot: G2 } }, e2));\n  }\n  function pe(e2) {\n    n$3(() => {\n      if (!e2) return;\n      let t2 = new MutationObserver(() => {\n        let n2 = window.getComputedStyle(e2).maxHeight, l2 = parseFloat(n2);\n        if (isNaN(l2)) return;\n        let r2 = parseInt(n2);\n        isNaN(r2) || l2 !== r2 && (e2.style.maxHeight = `${Math.ceil(l2)}px`);\n      });\n      return t2.observe(e2, { attributes: true, attributeFilter: [\"style\"] }), () => {\n        t2.disconnect();\n      };\n    }, [e2]);\n  }\n  function ce(e2, t2) {\n    var o2, u2, f2;\n    let n2 = V((o2 = e2 == null ? void 0 : e2.gap) != null ? o2 : \"var(--anchor-gap, 0)\", t2), l2 = V((u2 = e2 == null ? void 0 : e2.offset) != null ? u2 : \"var(--anchor-offset, 0)\", t2), r2 = V((f2 = e2 == null ? void 0 : e2.padding) != null ? f2 : \"var(--anchor-padding, 0)\", t2);\n    return { ...e2, gap: n2, offset: l2, padding: r2 };\n  }\n  function V(e2, t2, n2 = void 0) {\n    let l2 = p$2(), r2 = o$4((s2, i2) => {\n      if (s2 == null) return [n2, null];\n      if (typeof s2 == \"number\") return [s2, null];\n      if (typeof s2 == \"string\") {\n        if (!i2) return [n2, null];\n        let F2 = J$2(s2, i2);\n        return [F2, (E2) => {\n          let v2 = D(s2);\n          {\n            let c2 = v2.map((P2) => window.getComputedStyle(i2).getPropertyValue(P2));\n            l2.requestAnimationFrame(function P2() {\n              l2.nextFrame(P2);\n              let a2 = false;\n              for (let [b2, w2] of v2.entries()) {\n                let g2 = window.getComputedStyle(i2).getPropertyValue(w2);\n                if (c2[b2] !== g2) {\n                  c2[b2] = g2, a2 = true;\n                  break;\n                }\n              }\n              if (!a2) return;\n              let p2 = J$2(s2, i2);\n              F2 !== p2 && (E2(p2), F2 = p2);\n            });\n          }\n          return l2.dispose;\n        }];\n      }\n      return [n2, null];\n    }), o2 = T$5(() => r2(e2, t2)[0], [e2, t2]), [u2 = o2, f2] = d$4();\n    return n$3(() => {\n      let [s2, i2] = r2(e2, t2);\n      if (f2(s2), !!i2) return i2(f2);\n    }, [e2, t2]), u2;\n  }\n  function D(e2) {\n    let t2 = /var\\((.*)\\)/.exec(e2);\n    if (t2) {\n      let n2 = t2[1].indexOf(\",\");\n      if (n2 === -1) return [t2[1]];\n      let l2 = t2[1].slice(0, n2).trim(), r2 = t2[1].slice(n2 + 1).trim();\n      return r2 ? [l2, ...D(r2)] : [l2];\n    }\n    return [];\n  }\n  function J$2(e2, t2) {\n    let n2 = document.createElement(\"div\");\n    t2.appendChild(n2), n2.style.setProperty(\"margin-top\", \"0px\", \"important\"), n2.style.setProperty(\"margin-top\", e2, \"important\");\n    let l2 = parseFloat(window.getComputedStyle(n2).marginTop) || 0;\n    return t2.removeChild(n2), l2;\n  }\n  let n = K$3(null);\n  n.displayName = \"OpenClosedContext\";\n  var i$2 = ((e2) => (e2[e2.Open = 1] = \"Open\", e2[e2.Closed = 2] = \"Closed\", e2[e2.Closing = 4] = \"Closing\", e2[e2.Opening = 8] = \"Opening\", e2))(i$2 || {});\n  function u$2() {\n    return x$4(n);\n  }\n  function c$3({ value: o2, children: t2 }) {\n    return Rn.createElement(n.Provider, { value: o2 }, t2);\n  }\n  var withSelector = { exports: {} };\n  var useSyncExternalStoreWithSelector_production = {};\n  /**\n   * @license React\n   * use-sync-external-store-with-selector.production.js\n   *\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  var hasRequiredUseSyncExternalStoreWithSelector_production;\n  function requireUseSyncExternalStoreWithSelector_production() {\n    if (hasRequiredUseSyncExternalStoreWithSelector_production) return useSyncExternalStoreWithSelector_production;\n    hasRequiredUseSyncExternalStoreWithSelector_production = 1;\n    var React = t$4;\n    function is(x2, y2) {\n      return x2 === y2 && (0 !== x2 || 1 / x2 === 1 / y2) || x2 !== x2 && y2 !== y2;\n    }\n    var objectIs = \"function\" === typeof Object.is ? Object.is : is, useSyncExternalStore = React.useSyncExternalStore, useRef = React.useRef, useEffect = React.useEffect, useMemo = React.useMemo, useDebugValue = React.useDebugValue;\n    useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector = function(subscribe, getSnapshot, getServerSnapshot, selector, isEqual) {\n      var instRef = useRef(null);\n      if (null === instRef.current) {\n        var inst = { hasValue: false, value: null };\n        instRef.current = inst;\n      } else inst = instRef.current;\n      instRef = useMemo(\n        function() {\n          function memoizedSelector(nextSnapshot) {\n            if (!hasMemo) {\n              hasMemo = true;\n              memoizedSnapshot = nextSnapshot;\n              nextSnapshot = selector(nextSnapshot);\n              if (void 0 !== isEqual && inst.hasValue) {\n                var currentSelection = inst.value;\n                if (isEqual(currentSelection, nextSnapshot))\n                  return memoizedSelection = currentSelection;\n              }\n              return memoizedSelection = nextSnapshot;\n            }\n            currentSelection = memoizedSelection;\n            if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n            var nextSelection = selector(nextSnapshot);\n            if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n              return memoizedSnapshot = nextSnapshot, currentSelection;\n            memoizedSnapshot = nextSnapshot;\n            return memoizedSelection = nextSelection;\n          }\n          var hasMemo = false, memoizedSnapshot, memoizedSelection, maybeGetServerSnapshot = void 0 === getServerSnapshot ? null : getServerSnapshot;\n          return [\n            function() {\n              return memoizedSelector(getSnapshot());\n            },\n            null === maybeGetServerSnapshot ? void 0 : function() {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n          ];\n        },\n        [getSnapshot, getServerSnapshot, selector, isEqual]\n      );\n      var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n      useEffect(\n        function() {\n          inst.hasValue = true;\n          inst.value = value;\n        },\n        [value]\n      );\n      useDebugValue(value);\n      return value;\n    };\n    return useSyncExternalStoreWithSelector_production;\n  }\n  var useSyncExternalStoreWithSelector_development = {};\n  /**\n   * @license React\n   * use-sync-external-store-with-selector.development.js\n   *\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  var hasRequiredUseSyncExternalStoreWithSelector_development;\n  function requireUseSyncExternalStoreWithSelector_development() {\n    if (hasRequiredUseSyncExternalStoreWithSelector_development) return useSyncExternalStoreWithSelector_development;\n    hasRequiredUseSyncExternalStoreWithSelector_development = 1;\n     true && function() {\n      function is(x2, y2) {\n        return x2 === y2 && (0 !== x2 || 1 / x2 === 1 / y2) || x2 !== x2 && y2 !== y2;\n      }\n      \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && \"function\" === typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());\n      var React = t$4, objectIs = \"function\" === typeof Object.is ? Object.is : is, useSyncExternalStore = React.useSyncExternalStore, useRef = React.useRef, useEffect = React.useEffect, useMemo = React.useMemo, useDebugValue = React.useDebugValue;\n      useSyncExternalStoreWithSelector_development.useSyncExternalStoreWithSelector = function(subscribe, getSnapshot, getServerSnapshot, selector, isEqual) {\n        var instRef = useRef(null);\n        if (null === instRef.current) {\n          var inst = { hasValue: false, value: null };\n          instRef.current = inst;\n        } else inst = instRef.current;\n        instRef = useMemo(\n          function() {\n            function memoizedSelector(nextSnapshot) {\n              if (!hasMemo) {\n                hasMemo = true;\n                memoizedSnapshot = nextSnapshot;\n                nextSnapshot = selector(nextSnapshot);\n                if (void 0 !== isEqual && inst.hasValue) {\n                  var currentSelection = inst.value;\n                  if (isEqual(currentSelection, nextSnapshot))\n                    return memoizedSelection = currentSelection;\n                }\n                return memoizedSelection = nextSnapshot;\n              }\n              currentSelection = memoizedSelection;\n              if (objectIs(memoizedSnapshot, nextSnapshot))\n                return currentSelection;\n              var nextSelection = selector(nextSnapshot);\n              if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n                return memoizedSnapshot = nextSnapshot, currentSelection;\n              memoizedSnapshot = nextSnapshot;\n              return memoizedSelection = nextSelection;\n            }\n            var hasMemo = false, memoizedSnapshot, memoizedSelection, maybeGetServerSnapshot = void 0 === getServerSnapshot ? null : getServerSnapshot;\n            return [\n              function() {\n                return memoizedSelector(getSnapshot());\n              },\n              null === maybeGetServerSnapshot ? void 0 : function() {\n                return memoizedSelector(maybeGetServerSnapshot());\n              }\n            ];\n          },\n          [getSnapshot, getServerSnapshot, selector, isEqual]\n        );\n        var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n        useEffect(\n          function() {\n            inst.hasValue = true;\n            inst.value = value;\n          },\n          [value]\n        );\n        useDebugValue(value);\n        return value;\n      };\n      \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && \"function\" === typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());\n    }();\n    return useSyncExternalStoreWithSelector_development;\n  }\n  var hasRequiredWithSelector;\n  function requireWithSelector() {\n    if (hasRequiredWithSelector) return withSelector.exports;\n    hasRequiredWithSelector = 1;\n    if (false) {} else {\n      withSelector.exports = requireUseSyncExternalStoreWithSelector_development();\n    }\n    return withSelector.exports;\n  }\n  var withSelectorExports = requireWithSelector();\n  var f$1 = (t2, e2, r2) => {\n    if (!e2.has(t2)) throw TypeError(\"Cannot \" + r2);\n  };\n  var a$3 = (t2, e2, r2) => (f$1(t2, e2, \"read from private field\"), r2 ? r2.call(t2) : e2.get(t2)), l$2 = (t2, e2, r2) => {\n    if (e2.has(t2)) throw TypeError(\"Cannot add the same private member more than once\");\n    e2 instanceof WeakSet ? e2.add(t2) : e2.set(t2, r2);\n  }, c$2 = (t2, e2, r2, n2) => (f$1(t2, e2, \"write to private field\"), e2.set(t2, r2), r2);\n  var i$1, s$4, o$1;\n  class m {\n    constructor(e2) {\n      l$2(this, i$1, {});\n      l$2(this, s$4, new a$7(() => /* @__PURE__ */ new Set()));\n      l$2(this, o$1, /* @__PURE__ */ new Set());\n      c$2(this, i$1, e2);\n    }\n    get state() {\n      return a$3(this, i$1);\n    }\n    subscribe(e2, r2) {\n      let n2 = { selector: e2, callback: r2, current: e2(a$3(this, i$1)) };\n      return a$3(this, o$1).add(n2), () => {\n        a$3(this, o$1).delete(n2);\n      };\n    }\n    on(e2, r2) {\n      return a$3(this, s$4).get(e2).add(r2), () => {\n        a$3(this, s$4).get(e2).delete(r2);\n      };\n    }\n    send(e2) {\n      c$2(this, i$1, this.reduce(a$3(this, i$1), e2));\n      for (let r2 of a$3(this, o$1)) {\n        let n2 = r2.selector(a$3(this, i$1));\n        h$1(r2.current, n2) || (r2.current = n2, r2.callback(n2));\n      }\n      for (let r2 of a$3(this, s$4).get(e2.type)) r2(a$3(this, i$1), e2);\n    }\n  }\n  i$1 = /* @__PURE__ */ new WeakMap(), s$4 = /* @__PURE__ */ new WeakMap(), o$1 = /* @__PURE__ */ new WeakMap();\n  function h$1(t2, e2) {\n    return Object.is(t2, e2) ? true : typeof t2 != \"object\" || t2 === null || typeof e2 != \"object\" || e2 === null ? false : Array.isArray(t2) && Array.isArray(e2) ? t2.length !== e2.length ? false : u$1(t2[Symbol.iterator](), e2[Symbol.iterator]()) : t2 instanceof Map && e2 instanceof Map || t2 instanceof Set && e2 instanceof Set ? t2.size !== e2.size ? false : u$1(t2.entries(), e2.entries()) : S$2(t2) && S$2(e2) ? u$1(Object.entries(t2)[Symbol.iterator](), Object.entries(e2)[Symbol.iterator]()) : false;\n  }\n  function u$1(t2, e2) {\n    do {\n      let r2 = t2.next(), n2 = e2.next();\n      if (r2.done && n2.done) return true;\n      if (r2.done || n2.done || !Object.is(r2.value, n2.value)) return false;\n    } while (true);\n  }\n  function S$2(t2) {\n    if (Object.prototype.toString.call(t2) !== \"[object Object]\") return false;\n    let e2 = Object.getPrototypeOf(t2);\n    return e2 === null || Object.getPrototypeOf(e2) === null;\n  }\n  function g$1(t2) {\n    let [e2, r2] = t2(), n2 = o$5();\n    return (...b2) => {\n      e2(...b2), n2.dispose(), n2.microTask(r2);\n    };\n  }\n  function S$1(e2, n2, r2 = h$1) {\n    return withSelectorExports.useSyncExternalStoreWithSelector(o$4((i2) => e2.subscribe(s$3, i2)), o$4(() => e2.state), o$4(() => e2.state), o$4(n2), r2);\n  }\n  function s$3(e2) {\n    return e2;\n  }\n  function u(l2) {\n    throw new Error(\"Unexpected object: \" + l2);\n  }\n  var c$1 = ((i2) => (i2[i2.First = 0] = \"First\", i2[i2.Previous = 1] = \"Previous\", i2[i2.Next = 2] = \"Next\", i2[i2.Last = 3] = \"Last\", i2[i2.Specific = 4] = \"Specific\", i2[i2.Nothing = 5] = \"Nothing\", i2))(c$1 || {});\n  function f(l2, n2) {\n    let t2 = n2.resolveItems();\n    if (t2.length <= 0) return null;\n    let r2 = n2.resolveActiveIndex(), s2 = r2 != null ? r2 : -1;\n    switch (l2.focus) {\n      case 0: {\n        for (let e2 = 0; e2 < t2.length; ++e2) if (!n2.resolveDisabled(t2[e2], e2, t2)) return e2;\n        return r2;\n      }\n      case 1: {\n        s2 === -1 && (s2 = t2.length);\n        for (let e2 = s2 - 1; e2 >= 0; --e2) if (!n2.resolveDisabled(t2[e2], e2, t2)) return e2;\n        return r2;\n      }\n      case 2: {\n        for (let e2 = s2 + 1; e2 < t2.length; ++e2) if (!n2.resolveDisabled(t2[e2], e2, t2)) return e2;\n        return r2;\n      }\n      case 3: {\n        for (let e2 = t2.length - 1; e2 >= 0; --e2) if (!n2.resolveDisabled(t2[e2], e2, t2)) return e2;\n        return r2;\n      }\n      case 4: {\n        for (let e2 = 0; e2 < t2.length; ++e2) if (n2.resolveId(t2[e2], e2, t2) === l2.id) return e2;\n        return r2;\n      }\n      case 5:\n        return null;\n      default:\n        u(l2);\n    }\n  }\n  function c(t2) {\n    let r2 = o$4(t2), e2 = A$3(false);\n    y$6(() => (e2.current = false, () => {\n      e2.current = true, t$3(() => {\n        e2.current && r2();\n      });\n    }), [r2]);\n  }\n  function s$2() {\n    let r2 = typeof document == \"undefined\";\n    return \"useSyncExternalStore\" in t$4 ? ((o2) => o2.useSyncExternalStore)(t$4)(() => () => {\n    }, () => false, () => !r2) : false;\n  }\n  function l$1() {\n    let r2 = s$2(), [e2, n2] = d$4(s$7.isHandoffComplete);\n    return e2 && s$7.isHandoffComplete === false && n2(false), y$6(() => {\n      e2 !== true && n2(true);\n    }, [e2]), y$6(() => s$7.handoff(), []), r2 ? false : e2;\n  }\n  let e = K$3(false);\n  function a$2() {\n    return x$4(e);\n  }\n  function j(t2) {\n    let o2 = a$2(), n2 = x$4(b$1), [r2, u2] = d$4(() => {\n      var s2, a2;\n      if (!o2 && n2 !== null) return (s2 = n2.current) != null ? s2 : null;\n      if (s$7.isServer) return null;\n      let e2 = t2 == null ? void 0 : t2.getElementById(\"stagewise-toolbar-portal-root\");\n      if (e2) return e2;\n      if (t2 === null) return null;\n      let l2 = t2.createElement(\"div\");\n      return l2.setAttribute(\"id\", \"stagewise-toolbar-portal-root\"), l2.style.pointerEvents = \"auto\", ((a2 = t2.querySelector(\"stagewise-companion-anchor\")) != null ? a2 : t2.body).appendChild(l2);\n    });\n    return y$6(() => {\n      var l2;\n      if (r2 === null) return;\n      const e2 = (l2 = t2 == null ? void 0 : t2.querySelector(\"stagewise-companion-anchor\")) != null ? l2 : t2 == null ? void 0 : t2.body;\n      e2 != null && e2.contains(r2) || e2 == null || e2.appendChild(r2);\n    }, [r2, t2]), y$6(() => {\n      o2 || n2 !== null && u2(n2.current);\n    }, [n2, u2, o2]), r2;\n  }\n  let M$1 = k$3, I = K$1(function(o2, n2) {\n    let { ownerDocument: r2 = null, ...u2 } = o2, e2 = A$3(null), l2 = y$5(T$3((i2) => {\n      e2.current = i2;\n    }), n2), R2 = n$1(e2), s2 = r2 != null ? r2 : R2, a2 = j(s2), [p2] = d$4(() => {\n      var i2;\n      return s$7.isServer ? null : (i2 = s2 == null ? void 0 : s2.createElement(\"div\")) != null ? i2 : null;\n    }), f2 = x$4(y$1), H2 = l$1();\n    n$3(() => {\n      !a2 || !p2 || a2.contains(p2) || (p2.setAttribute(\"data-headlessui-portal\", \"\"), a2.appendChild(p2));\n    }, [a2, p2]), n$3(() => {\n      if (p2 && f2) return f2.register(p2);\n    }, [f2, p2]), c(() => {\n      var i2;\n      !a2 || !p2 || (p2 instanceof Node && a2.contains(p2) && a2.removeChild(p2), a2.childNodes.length <= 0 && ((i2 = a2.parentElement) == null || i2.removeChild(a2)));\n    });\n    let h2 = L$2();\n    return H2 ? !a2 || !p2 ? null : $$1(h2({ ourProps: { ref: l2 }, theirProps: u2, slot: {}, defaultTag: M$1, name: \"Portal\" }), p2) : null;\n  });\n  function q(t2, o2) {\n    let n2 = y$5(o2), { enabled: r2 = true, ownerDocument: u2, ...e2 } = t2, l2 = L$2();\n    return r2 ? Rn.createElement(I, { ...e2, ownerDocument: u2, ref: n2 }) : l2({ ourProps: { ref: n2 }, theirProps: e2, slot: {}, defaultTag: M$1, name: \"Portal\" });\n  }\n  let J$1 = k$3, b$1 = K$3(null);\n  function X(t2, o2) {\n    let { target: n2, ...r2 } = t2, e2 = { ref: y$5(o2) }, l2 = L$2();\n    return Rn.createElement(b$1.Provider, { value: n2 }, l2({ ourProps: e2, theirProps: r2, defaultTag: J$1, name: \"Popover.Group\" }));\n  }\n  let y$1 = K$3(null);\n  let k = K$1(q), B = K$1(X), oe = Object.assign(k, { Group: B });\n  function s$1(n2, t2) {\n    let e2 = A$3({ left: 0, top: 0 });\n    if (n$3(() => {\n      if (!t2) return;\n      let r2 = t2.getBoundingClientRect();\n      r2 && (e2.current = r2);\n    }, [n2, t2]), t2 == null || !n2 || t2 === document.activeElement) return false;\n    let o2 = t2.getBoundingClientRect();\n    return o2.top !== e2.current.top || o2.left !== e2.current.left;\n  }\n  let a$1 = /([\\u2700-\\u27BF]|[\\uE000-\\uF8FF]|\\uD83C[\\uDC00-\\uDFFF]|\\uD83D[\\uDC00-\\uDFFF]|[\\u2011-\\u26FF]|\\uD83E[\\uDD10-\\uDDFF])/g;\n  function o(e2) {\n    var r2, i2;\n    let n2 = (r2 = e2.innerText) != null ? r2 : \"\", t2 = e2.cloneNode(true);\n    if (!(t2 instanceof HTMLElement)) return n2;\n    let u2 = false;\n    for (let f2 of t2.querySelectorAll('[hidden],[aria-hidden],[role=\"img\"]')) f2.remove(), u2 = true;\n    let l2 = u2 ? (i2 = t2.innerText) != null ? i2 : \"\" : n2;\n    return a$1.test(l2) && (l2 = l2.replace(a$1, \"\")), l2;\n  }\n  function g(e2) {\n    let n2 = e2.getAttribute(\"aria-label\");\n    if (typeof n2 == \"string\") return n2.trim();\n    let t2 = e2.getAttribute(\"aria-labelledby\");\n    if (t2) {\n      let u2 = t2.split(\" \").map((l2) => {\n        let r2 = document.getElementById(l2);\n        if (r2) {\n          let i2 = r2.getAttribute(\"aria-label\");\n          return typeof i2 == \"string\" ? i2.trim() : o(r2).trim();\n        }\n        return null;\n      }).filter(Boolean);\n      if (u2.length > 0) return u2.join(\", \");\n    }\n    return o(e2).trim();\n  }\n  function s(c2) {\n    let t2 = A$3(\"\"), r2 = A$3(\"\");\n    return o$4(() => {\n      let e2 = c2.current;\n      if (!e2) return \"\";\n      let u2 = e2.innerText;\n      if (t2.current === u2) return r2.current;\n      let n2 = g(e2).trim().toLowerCase();\n      return t2.current = u2, r2.current = n2, n2;\n    });\n  }\n  var h = Object.defineProperty;\n  var y = (e2, n2, t2) => n2 in e2 ? h(e2, n2, { enumerable: true, configurable: true, writable: true, value: t2 }) : e2[n2] = t2;\n  var v = (e2, n2, t2) => (y(e2, typeof n2 != \"symbol\" ? n2 + \"\" : n2, t2), t2);\n  var M = ((t2) => (t2[t2.Open = 0] = \"Open\", t2[t2.Closed = 1] = \"Closed\", t2))(M || {}), T = ((t2) => (t2[t2.Pointer = 0] = \"Pointer\", t2[t2.Other = 1] = \"Other\", t2))(T || {}), b = ((i2) => (i2[i2.OpenMenu = 0] = \"OpenMenu\", i2[i2.CloseMenu = 1] = \"CloseMenu\", i2[i2.GoToItem = 2] = \"GoToItem\", i2[i2.Search = 3] = \"Search\", i2[i2.ClearSearch = 4] = \"ClearSearch\", i2[i2.RegisterItems = 5] = \"RegisterItems\", i2[i2.UnregisterItems = 6] = \"UnregisterItems\", i2[i2.SetButtonElement = 7] = \"SetButtonElement\", i2[i2.SetItemsElement = 8] = \"SetItemsElement\", i2[i2.SortItems = 9] = \"SortItems\", i2))(b || {});\n  function S(e2, n2 = (t2) => t2) {\n    let t2 = e2.activeItemIndex !== null ? e2.items[e2.activeItemIndex] : null, r2 = _(n2(e2.items.slice()), (u2) => u2.dataRef.current.domRef.current), l2 = t2 ? r2.indexOf(t2) : null;\n    return l2 === -1 && (l2 = null), { items: r2, activeItemIndex: l2 };\n  }\n  let F = { [1](e2) {\n    return e2.menuState === 1 ? e2 : { ...e2, activeItemIndex: null, pendingFocus: { focus: c$1.Nothing }, menuState: 1 };\n  }, [0](e2, n2) {\n    return e2.menuState === 0 ? e2 : { ...e2, __demoMode: false, pendingFocus: n2.focus, menuState: 0 };\n  }, [2]: (e2, n2) => {\n    var u2, m2, d2, a2, I2;\n    if (e2.menuState === 1) return e2;\n    let t2 = { ...e2, searchQuery: \"\", activationTrigger: (u2 = n2.trigger) != null ? u2 : 1, __demoMode: false };\n    if (n2.focus === c$1.Nothing) return { ...t2, activeItemIndex: null };\n    if (n2.focus === c$1.Specific) return { ...t2, activeItemIndex: e2.items.findIndex((i2) => i2.id === n2.id) };\n    if (n2.focus === c$1.Previous) {\n      let i2 = e2.activeItemIndex;\n      if (i2 !== null) {\n        let g2 = e2.items[i2].dataRef.current.domRef, o2 = f(n2, { resolveItems: () => e2.items, resolveActiveIndex: () => e2.activeItemIndex, resolveId: (s2) => s2.id, resolveDisabled: (s2) => s2.dataRef.current.disabled });\n        if (o2 !== null) {\n          let s2 = e2.items[o2].dataRef.current.domRef;\n          if (((m2 = g2.current) == null ? void 0 : m2.previousElementSibling) === s2.current || ((d2 = s2.current) == null ? void 0 : d2.previousElementSibling) === null) return { ...t2, activeItemIndex: o2 };\n        }\n      }\n    } else if (n2.focus === c$1.Next) {\n      let i2 = e2.activeItemIndex;\n      if (i2 !== null) {\n        let g2 = e2.items[i2].dataRef.current.domRef, o2 = f(n2, { resolveItems: () => e2.items, resolveActiveIndex: () => e2.activeItemIndex, resolveId: (s2) => s2.id, resolveDisabled: (s2) => s2.dataRef.current.disabled });\n        if (o2 !== null) {\n          let s2 = e2.items[o2].dataRef.current.domRef;\n          if (((a2 = g2.current) == null ? void 0 : a2.nextElementSibling) === s2.current || ((I2 = s2.current) == null ? void 0 : I2.nextElementSibling) === null) return { ...t2, activeItemIndex: o2 };\n        }\n      }\n    }\n    let r2 = S(e2), l2 = f(n2, { resolveItems: () => r2.items, resolveActiveIndex: () => r2.activeItemIndex, resolveId: (i2) => i2.id, resolveDisabled: (i2) => i2.dataRef.current.disabled });\n    return { ...t2, ...r2, activeItemIndex: l2 };\n  }, [3]: (e2, n2) => {\n    let r2 = e2.searchQuery !== \"\" ? 0 : 1, l2 = e2.searchQuery + n2.value.toLowerCase(), m2 = (e2.activeItemIndex !== null ? e2.items.slice(e2.activeItemIndex + r2).concat(e2.items.slice(0, e2.activeItemIndex + r2)) : e2.items).find((a2) => {\n      var I2;\n      return ((I2 = a2.dataRef.current.textValue) == null ? void 0 : I2.startsWith(l2)) && !a2.dataRef.current.disabled;\n    }), d2 = m2 ? e2.items.indexOf(m2) : -1;\n    return d2 === -1 || d2 === e2.activeItemIndex ? { ...e2, searchQuery: l2 } : { ...e2, searchQuery: l2, activeItemIndex: d2, activationTrigger: 1 };\n  }, [4](e2) {\n    return e2.searchQuery === \"\" ? e2 : { ...e2, searchQuery: \"\", searchActiveItemIndex: null };\n  }, [5]: (e2, n2) => {\n    let t2 = e2.items.concat(n2.items.map((l2) => l2)), r2 = e2.activeItemIndex;\n    return e2.pendingFocus.focus !== c$1.Nothing && (r2 = f(e2.pendingFocus, { resolveItems: () => t2, resolveActiveIndex: () => e2.activeItemIndex, resolveId: (l2) => l2.id, resolveDisabled: (l2) => l2.dataRef.current.disabled })), { ...e2, items: t2, activeItemIndex: r2, pendingFocus: { focus: c$1.Nothing }, pendingShouldSort: true };\n  }, [6]: (e2, n2) => {\n    let t2 = e2.items, r2 = [], l2 = new Set(n2.items);\n    for (let [u2, m2] of t2.entries()) if (l2.has(m2.id) && (r2.push(u2), l2.delete(m2.id), l2.size === 0)) break;\n    if (r2.length > 0) {\n      t2 = t2.slice();\n      for (let u2 of r2.reverse()) t2.splice(u2, 1);\n    }\n    return { ...e2, items: t2, activationTrigger: 1 };\n  }, [7]: (e2, n2) => e2.buttonElement === n2.element ? e2 : { ...e2, buttonElement: n2.element }, [8]: (e2, n2) => e2.itemsElement === n2.element ? e2 : { ...e2, itemsElement: n2.element }, [9]: (e2) => e2.pendingShouldSort ? { ...e2, ...S(e2), pendingShouldSort: false } : e2 };\n  class x extends m {\n    constructor(t2) {\n      super(t2);\n      v(this, \"actions\", { registerItem: g$1(() => {\n        let t3 = [], r2 = /* @__PURE__ */ new Set();\n        return [(l2, u2) => {\n          r2.has(u2) || (r2.add(u2), t3.push({ id: l2, dataRef: u2 }));\n        }, () => (r2.clear(), this.send({ type: 5, items: t3.splice(0) }))];\n      }), unregisterItem: g$1(() => {\n        let t3 = [];\n        return [(r2) => t3.push(r2), () => this.send({ type: 6, items: t3.splice(0) })];\n      }) });\n      v(this, \"selectors\", { activeDescendantId(t3) {\n        var u2;\n        let r2 = t3.activeItemIndex, l2 = t3.items;\n        return r2 === null || (u2 = l2[r2]) == null ? void 0 : u2.id;\n      }, isActive(t3, r2) {\n        var m2;\n        let l2 = t3.activeItemIndex, u2 = t3.items;\n        return l2 !== null ? ((m2 = u2[l2]) == null ? void 0 : m2.id) === r2 : false;\n      }, shouldScrollIntoView(t3, r2) {\n        return t3.__demoMode || t3.menuState !== 0 || t3.activationTrigger === 0 ? false : this.isActive(t3, r2);\n      } });\n      this.on(5, () => {\n        requestAnimationFrame(() => {\n          this.send({ type: 9 });\n        });\n      });\n    }\n    static new({ __demoMode: t2 = false } = {}) {\n      return new x({ __demoMode: t2, menuState: t2 ? 0 : 1, buttonElement: null, itemsElement: null, items: [], searchQuery: \"\", activeItemIndex: null, activationTrigger: 1, pendingShouldSort: false, pendingFocus: { focus: c$1.Nothing } });\n    }\n    reduce(t2, r2) {\n      return u$7(r2.type, F, t2, r2);\n    }\n  }\n  const a = K$3(null);\n  function l(e2) {\n    let n2 = x$4(a);\n    if (n2 === null) {\n      let t2 = new Error(`<${e2} /> is missing a parent <Menu /> component.`);\n      throw Error.captureStackTrace && Error.captureStackTrace(t2, i), t2;\n    }\n    return n2;\n  }\n  function i({ __demoMode: e2 = false } = {}) {\n    return T$5(() => x.new({ __demoMode: e2 }), []);\n  }\n  let ze = k$3;\n  function Qe(T2, E2) {\n    let { __demoMode: i$12 = false, ...a$12 } = T2, n2 = i({ __demoMode: i$12 }), [s2, o2, P2] = S$1(n2, (p2) => [p2.menuState, p2.itemsElement, p2.buttonElement]), c2 = y$5(E2), _2 = s2 === M.Open;\n    R$1(_2, [P2, o2], (p2, F2) => {\n      var A$12;\n      n2.send({ type: b.CloseMenu }), A(F2, h$2.Loose) || (p2.preventDefault(), (A$12 = n2.state.buttonElement) == null || A$12.focus());\n    });\n    let t2 = o$4(() => {\n      n2.send({ type: b.CloseMenu });\n    }), R2 = T$5(() => ({ open: s2 === M.Open, close: t2 }), [s2, t2]), I2 = { ref: c2 }, g2 = L$2();\n    return Rn.createElement(Me, null, Rn.createElement(a.Provider, { value: n2 }, Rn.createElement(c$3, { value: u$7(s2, { [M.Open]: i$2.Open, [M.Closed]: i$2.Closed }) }, g2({ ourProps: I2, theirProps: a$12, slot: R2, defaultTag: ze, name: \"Menu\" }))));\n  }\n  let Ye = \"button\";\n  function Ze(T$12, E2) {\n    let i2 = l(\"Menu.Button\"), a2 = g$3(), { id: n2 = `headlessui-menu-button-${a2}`, disabled: s2 = false, autoFocus: o2 = false, ...P2 } = T$12, c2 = A$3(null), _2 = Fe(), t2 = y$5(E2, c2, ye(), o$4((l2) => i2.send({ type: b.SetButtonElement, element: l2 }))), R2 = o$4((l2) => {\n      switch (l2.key) {\n        case o$3.Space:\n        case o$3.Enter:\n        case o$3.ArrowDown:\n          l2.preventDefault(), l2.stopPropagation(), i2.send({ type: b.OpenMenu, focus: { focus: c$1.First } });\n          break;\n        case o$3.ArrowUp:\n          l2.preventDefault(), l2.stopPropagation(), i2.send({ type: b.OpenMenu, focus: { focus: c$1.Last } });\n          break;\n      }\n    }), I2 = o$4((l2) => {\n      switch (l2.key) {\n        case o$3.Space:\n          l2.preventDefault();\n          break;\n      }\n    }), [g2, p2] = S$1(i2, (l2) => [l2.menuState, l2.itemsElement]), F2 = o$4((l2) => {\n      var H2;\n      if (l2.button === 0) {\n        if (r$1(l2.currentTarget)) return l2.preventDefault();\n        s2 || (g2 === M.Open ? (En(() => i2.send({ type: b.CloseMenu })), (H2 = c2.current) == null || H2.focus({ preventScroll: true })) : (l2.preventDefault(), i2.send({ type: b.OpenMenu, focus: { focus: c$1.Nothing }, trigger: T.Pointer })));\n      }\n    }), { isFocusVisible: A2, focusProps: f2 } = $f7dceffc5ad7768b$export$4e328f61c538687f({ autoFocus: o2 }), { isHovered: M$12, hoverProps: L2 } = $6179b936705e76d3$export$ae780daf29e6d456({ isDisabled: s2 }), { pressed: S2, pressProps: O2 } = w$2({ disabled: s2 }), x2 = T$5(() => ({ open: g2 === M.Open, active: S2 || g2 === M.Open, disabled: s2, hover: M$12, focus: A2, autofocus: o2 }), [g2, M$12, A2, S2, s2, o2]), U2 = _$2(_2(), { ref: t2, id: n2, type: e$1(T$12, c2.current), \"aria-haspopup\": \"menu\", \"aria-controls\": p2 == null ? void 0 : p2.id, \"aria-expanded\": g2 === M.Open, disabled: s2 || void 0, autoFocus: o2, onKeyDown: R2, onKeyUp: I2, onMouseDown: F2 }, f2, L2, O2);\n    return L$2()({ ourProps: U2, theirProps: P2, slot: x2, defaultTag: Ye, name: \"Menu.Button\" });\n  }\n  let et = \"div\", tt = O$1.RenderStrategy | O$1.Static;\n  function ot(T2, E2) {\n    let i2 = g$3(), { id: a2 = `headlessui-menu-items-${i2}`, anchor: n2, portal: s2 = false, modal: o2 = true, transition: P2 = false, ...c2 } = T2, _2 = xe(n2), t2 = l(\"Menu.Items\"), [R$12, I2] = Re(_2), g2 = be(), [p2, F2] = d$4(null), A2 = y$5(E2, _2 ? R$12 : null, o$4((e2) => t2.send({ type: b.SetItemsElement, element: e2 })), F2), [f2, M$12] = S$1(t2, (e2) => [e2.menuState, e2.buttonElement]), L2 = n$1(M$12), S2 = n$1(p2);\n    _2 && (s2 = true);\n    let O2 = u$2(), [x2, U2] = x$1(P2, p2, O2 !== null ? (O2 & i$2.Open) === i$2.Open : f2 === M.Open);\n    m$2(x2, M$12, () => {\n      t2.send({ type: b.CloseMenu });\n    });\n    let G$12 = S$1(t2, (e2) => e2.__demoMode), l$12 = G$12 ? false : o2 && f2 === M.Open;\n    f$2(l$12, S2);\n    let H2 = G$12 ? false : o2 && f2 === M.Open;\n    y$4(H2, { allowed: q$3(() => [M$12, p2], [M$12, p2]) });\n    let u2 = f2 !== M.Open, ae = s$1(u2, M$12) ? false : x2;\n    y$6(() => {\n      let e2 = p2;\n      e2 && f2 === M.Open && e2 !== (S2 == null ? void 0 : S2.activeElement) && e2.focus({ preventScroll: true });\n    }, [f2, p2, S2]), F$1(f2 === M.Open, { container: p2, accept(e2) {\n      return e2.getAttribute(\"role\") === \"menuitem\" ? NodeFilter.FILTER_REJECT : e2.hasAttribute(\"role\") ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;\n    }, walk(e2) {\n      e2.setAttribute(\"role\", \"none\");\n    } });\n    let q2 = p$2(), se = o$4((e2) => {\n      var N2, z2, Q2;\n      switch (q2.dispose(), e2.key) {\n        case o$3.Space:\n          if (t2.state.searchQuery !== \"\") return e2.preventDefault(), e2.stopPropagation(), t2.send({ type: b.Search, value: e2.key });\n        case o$3.Enter:\n          if (e2.preventDefault(), e2.stopPropagation(), t2.state.activeItemIndex !== null) {\n            let { dataRef: de } = t2.state.items[t2.state.activeItemIndex];\n            (z2 = (N2 = de.current) == null ? void 0 : N2.domRef.current) == null || z2.click();\n          }\n          t2.send({ type: b.CloseMenu }), G(t2.state.buttonElement);\n          break;\n        case o$3.ArrowDown:\n          return e2.preventDefault(), e2.stopPropagation(), t2.send({ type: b.GoToItem, focus: c$1.Next });\n        case o$3.ArrowUp:\n          return e2.preventDefault(), e2.stopPropagation(), t2.send({ type: b.GoToItem, focus: c$1.Previous });\n        case o$3.Home:\n        case o$3.PageUp:\n          return e2.preventDefault(), e2.stopPropagation(), t2.send({ type: b.GoToItem, focus: c$1.First });\n        case o$3.End:\n        case o$3.PageDown:\n          return e2.preventDefault(), e2.stopPropagation(), t2.send({ type: b.GoToItem, focus: c$1.Last });\n        case o$3.Escape:\n          e2.preventDefault(), e2.stopPropagation(), En(() => t2.send({ type: b.CloseMenu })), (Q2 = t2.state.buttonElement) == null || Q2.focus({ preventScroll: true });\n          break;\n        case o$3.Tab:\n          e2.preventDefault(), e2.stopPropagation(), En(() => t2.send({ type: b.CloseMenu })), j$2(t2.state.buttonElement, e2.shiftKey ? F$2.Previous : F$2.Next);\n          break;\n        default:\n          e2.key.length === 1 && (t2.send({ type: b.Search, value: e2.key }), q2.setTimeout(() => t2.send({ type: b.ClearSearch }), 350));\n          break;\n      }\n    }), le = o$4((e2) => {\n      switch (e2.key) {\n        case o$3.Space:\n          e2.preventDefault();\n          break;\n      }\n    }), pe2 = T$5(() => ({ open: f2 === M.Open }), [f2]), ie = _$2(_2 ? g2() : {}, { \"aria-activedescendant\": S$1(t2, t2.selectors.activeDescendantId), \"aria-labelledby\": S$1(t2, (e2) => {\n      var N2;\n      return (N2 = e2.buttonElement) == null ? void 0 : N2.id;\n    }), id: a2, onKeyDown: se, onKeyUp: le, role: \"menu\", tabIndex: f2 === M.Open ? 0 : void 0, ref: A2, style: { ...c2.style, ...I2, \"--button-width\": d$2(M$12, true).width }, ...R(U2) }), ue = L$2();\n    return Rn.createElement(oe, { enabled: s2 ? T2.static || x2 : false, ownerDocument: L2 }, ue({ ourProps: ie, theirProps: c2, slot: pe2, defaultTag: et, features: tt, visible: ae, name: \"Menu.Items\" }));\n  }\n  let nt = k$3;\n  function rt(T$12, E2) {\n    let i2 = g$3(), { id: a2 = `headlessui-menu-item-${i2}`, disabled: n2 = false, ...s$12 } = T$12, o2 = l(\"Menu.Item\"), P2 = S$1(o2, (u2) => o2.selectors.isActive(u2, a2)), c2 = A$3(null), _2 = y$5(E2, c2), t2 = S$1(o2, (u2) => o2.selectors.shouldScrollIntoView(u2, a2));\n    n$3(() => {\n      if (t2) return o$5().requestAnimationFrame(() => {\n        var u2, J2;\n        (J2 = (u2 = c2.current) == null ? void 0 : u2.scrollIntoView) == null || J2.call(u2, { block: \"nearest\" });\n      });\n    }, [t2, c2]);\n    let R2 = s(c2), I2 = A$3({ disabled: n2, domRef: c2, get textValue() {\n      return R2();\n    } });\n    n$3(() => {\n      I2.current.disabled = n2;\n    }, [I2, n2]), n$3(() => (o2.actions.registerItem(a2, I2), () => o2.actions.unregisterItem(a2)), [I2, a2]);\n    let g2 = o$4(() => {\n      o2.send({ type: b.CloseMenu });\n    }), p2 = o$4((u2) => {\n      if (n2) return u2.preventDefault();\n      o2.send({ type: b.CloseMenu }), G(o2.state.buttonElement);\n    }), F2 = o$4(() => {\n      if (n2) return o2.send({ type: b.GoToItem, focus: c$1.Nothing });\n      o2.send({ type: b.GoToItem, focus: c$1.Specific, id: a2 });\n    }), A2 = u$3(), f2 = o$4((u2) => {\n      A2.update(u2), !n2 && (P2 || o2.send({ type: b.GoToItem, focus: c$1.Specific, id: a2, trigger: T.Pointer }));\n    }), M2 = o$4((u2) => {\n      A2.wasMoved(u2) && (n2 || P2 || o2.send({ type: b.GoToItem, focus: c$1.Specific, id: a2, trigger: T.Pointer }));\n    }), L2 = o$4((u2) => {\n      A2.wasMoved(u2) && (n2 || P2 && o2.send({ type: b.GoToItem, focus: c$1.Nothing }));\n    }), [S2, O2] = K(), [x2, U2] = w$1(), G$12 = T$5(() => ({ active: P2, focus: P2, disabled: n2, close: g2 }), [P2, n2, g2]), l$12 = { id: a2, ref: _2, role: \"menuitem\", tabIndex: n2 === true ? void 0 : -1, \"aria-disabled\": n2 === true ? true : void 0, \"aria-labelledby\": S2, \"aria-describedby\": x2, disabled: void 0, onClick: p2, onFocus: F2, onPointerEnter: f2, onMouseEnter: f2, onPointerMove: M2, onMouseMove: M2, onPointerLeave: L2, onMouseLeave: L2 }, H2 = L$2();\n    return Rn.createElement(O2, null, Rn.createElement(U2, null, H2({ ourProps: l$12, theirProps: s$12, slot: G$12, defaultTag: nt, name: \"Menu.Item\" })));\n  }\n  let at = \"div\";\n  function st(T2, E2) {\n    let [i2, a2] = K(), n2 = T2, s2 = { ref: E2, \"aria-labelledby\": i2, role: \"group\" }, o2 = L$2();\n    return Rn.createElement(a2, null, o2({ ourProps: s2, theirProps: n2, slot: {}, defaultTag: at, name: \"Menu.Section\" }));\n  }\n  let lt = \"header\";\n  function pt(T2, E2) {\n    let i2 = g$3(), { id: a2 = `headlessui-menu-heading-${i2}`, ...n2 } = T2, s2 = P$1();\n    n$3(() => s2.register(a2), [a2, s2.register]);\n    let o2 = { id: a2, ref: E2, role: \"presentation\", ...s2.props };\n    return L$2()({ ourProps: o2, theirProps: n2, slot: {}, defaultTag: lt, name: \"Menu.Heading\" });\n  }\n  let it = \"div\";\n  function ut(T2, E2) {\n    let i2 = T2, a2 = { ref: E2, role: \"separator\" };\n    return L$2()({ ourProps: a2, theirProps: i2, slot: {}, defaultTag: it, name: \"Menu.Separator\" });\n  }\n  let dt = K$1(Qe), mt = K$1(Ze), Tt = K$1(ot), ft = K$1(rt), ct = K$1(st), yt = K$1(pt), Et = K$1(ut), to = Object.assign(dt, { Button: mt, Items: Tt, Item: ft, Section: ct, Heading: yt, Separator: Et });\n  let L = \"textarea\";\n  function H(s2, l2) {\n    let i2 = g$3(), d2 = u$6(), n2 = a$9(), { id: p2 = d2 || `headlessui-textarea-${i2}`, disabled: e2 = n2 || false, autoFocus: r2 = false, invalid: a2 = false, ...T2 } = s2, f2 = I$2(), m2 = U$1(), { isFocused: o2, focusProps: u2 } = $f7dceffc5ad7768b$export$4e328f61c538687f({ autoFocus: r2 }), { isHovered: t2, hoverProps: b2 } = $6179b936705e76d3$export$ae780daf29e6d456({ isDisabled: e2 }), y2 = _$2({ ref: l2, id: p2, \"aria-labelledby\": f2, \"aria-describedby\": m2, \"aria-invalid\": a2 ? \"true\" : void 0, disabled: e2 || void 0, autoFocus: r2 }, u2, b2), x2 = T$5(() => ({ disabled: e2, invalid: a2, hover: t2, focus: o2, autofocus: r2 }), [e2, a2, t2, o2, r2]);\n    return L$2()({ ourProps: y2, theirProps: T2, slot: x2, defaultTag: L, name: \"Textarea\" });\n  }\n  let J = K$1(H);\n  /**\n   * @license lucide-react v0.503.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   */\n  const toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\n  const toCamelCase = (string) => string.replace(\n    /^([A-Z])|[\\s-_]+(\\w)/g,\n    (match, p1, p2) => p2 ? p2.toUpperCase() : p1.toLowerCase()\n  );\n  const toPascalCase = (string) => {\n    const camelCase = toCamelCase(string);\n    return camelCase.charAt(0).toUpperCase() + camelCase.slice(1);\n  };\n  const mergeClasses = (...classes) => classes.filter((className, index2, array) => {\n    return Boolean(className) && className.trim() !== \"\" && array.indexOf(className) === index2;\n  }).join(\" \").trim();\n  const hasA11yProp = (props) => {\n    for (const prop in props) {\n      if (prop.startsWith(\"aria-\") || prop === \"role\" || prop === \"title\") {\n        return true;\n      }\n    }\n  };\n  /**\n   * @license lucide-react v0.503.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   */\n  var defaultAttributes = {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  };\n  /**\n   * @license lucide-react v0.503.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   */\n  const Icon = D$1(\n    ({\n      color = \"currentColor\",\n      size: size2 = 24,\n      strokeWidth = 2,\n      absoluteStrokeWidth,\n      className = \"\",\n      children,\n      iconNode,\n      ...rest\n    }, ref) => {\n      return _$4(\n        \"svg\",\n        {\n          ref,\n          ...defaultAttributes,\n          width: size2,\n          height: size2,\n          stroke: color,\n          strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size2) : strokeWidth,\n          className: mergeClasses(\"lucide\", className),\n          ...!children && !hasA11yProp(rest) && { \"aria-hidden\": \"true\" },\n          ...rest\n        },\n        [\n          ...iconNode.map(([tag, attrs]) => _$4(tag, attrs)),\n          ...Array.isArray(children) ? children : [children]\n        ]\n      );\n    }\n  );\n  /**\n   * @license lucide-react v0.503.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   */\n  const createLucideIcon = (iconName, iconNode) => {\n    const Component = D$1(\n      ({ className, ...props }, ref) => _$4(Icon, {\n        ref,\n        iconNode,\n        className: mergeClasses(\n          `lucide-${toKebabCase(toPascalCase(iconName))}`,\n          `lucide-${iconName}`,\n          className\n        ),\n        ...props\n      })\n    );\n    Component.displayName = toPascalCase(iconName);\n    return Component;\n  };\n  /**\n   * @license lucide-react v0.503.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   */\n  const __iconNode$6 = [[\"path\", { d: \"m6 9 6 6 6-6\", key: \"qrunsl\" }]];\n  const ChevronDown = createLucideIcon(\"chevron-down\", __iconNode$6);\n  /**\n   * @license lucide-react v0.503.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   */\n  const __iconNode$5 = [[\"path\", { d: \"m18 15-6-6-6 6\", key: \"153udz\" }]];\n  const ChevronUp = createLucideIcon(\"chevron-up\", __iconNode$5);\n  /**\n   * @license lucide-react v0.503.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   */\n  const __iconNode$4 = [\n    [\"circle\", { cx: \"12\", cy: \"12\", r: \"1\", key: \"41hilf\" }],\n    [\"circle\", { cx: \"19\", cy: \"12\", r: \"1\", key: \"1wjl8i\" }],\n    [\"circle\", { cx: \"5\", cy: \"12\", r: \"1\", key: \"1pcz8c\" }]\n  ];\n  const Ellipsis = createLucideIcon(\"ellipsis\", __iconNode$4);\n  /**\n   * @license lucide-react v0.503.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   */\n  const __iconNode$3 = [\n    [\"polyline\", { points: \"4 14 10 14 10 20\", key: \"11kfnr\" }],\n    [\"polyline\", { points: \"20 10 14 10 14 4\", key: \"rlmsce\" }],\n    [\"line\", { x1: \"14\", x2: \"21\", y1: \"10\", y2: \"3\", key: \"o5lafz\" }],\n    [\"line\", { x1: \"3\", x2: \"10\", y1: \"21\", y2: \"14\", key: \"1atl0r\" }]\n  ];\n  const Minimize2 = createLucideIcon(\"minimize-2\", __iconNode$3);\n  /**\n   * @license lucide-react v0.503.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   */\n  const __iconNode$2 = [\n    [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n    [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n  ];\n  const Plus = createLucideIcon(\"plus\", __iconNode$2);\n  /**\n   * @license lucide-react v0.503.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   */\n  const __iconNode$1 = [\n    [\n      \"path\",\n      {\n        d: \"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z\",\n        key: \"1ffxy3\"\n      }\n    ],\n    [\"path\", { d: \"m21.854 2.147-10.94 10.939\", key: \"12cjpa\" }]\n  ];\n  const Send = createLucideIcon(\"send\", __iconNode$1);\n  /**\n   * @license lucide-react v0.503.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   */\n  const __iconNode = [\n    [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n    [\"path\", { d: \"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\", key: \"4alrt4\" }],\n    [\"path\", { d: \"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\", key: \"v07s0e\" }],\n    [\"line\", { x1: \"10\", x2: \"10\", y1: \"11\", y2: \"17\", key: \"1uufr5\" }],\n    [\"line\", { x1: \"14\", x2: \"14\", y1: \"11\", y2: \"17\", key: \"xtxkd\" }]\n  ];\n  const Trash2 = createLucideIcon(\"trash-2\", __iconNode);\n  const ChatArea = M$3(() => {\n    const { chatAreaState } = useChatState();\n    if (chatAreaState === \"hidden\") return null;\n    return /* @__PURE__ */ u$9(ChatAreaBox, { children: [\n      /* @__PURE__ */ u$9(ChatAreaResizeBar, {}),\n      chatAreaState === \"compact\" && /* @__PURE__ */ u$9(ChatAreaCompact, {}),\n      chatAreaState === \"expanded\" && /* @__PURE__ */ u$9(ChatAreaExpanded, {})\n    ] });\n  });\n  const ChatAreaBox = M$3(({ children }) => /* @__PURE__ */ u$9(\"div\", { className: \"h-auto w-full overflow-x-hidden\", children }));\n  const ChatAreaResizeBar = M$3(() => {\n    const { chatAreaState, setChatAreaState, stopPromptCreation } = useChatState();\n    const handleResizeBarClick = q$3(() => {\n      setChatAreaState(chatAreaState === \"compact\" ? \"expanded\" : \"compact\");\n    }, [chatAreaState, setChatAreaState]);\n    const handleCloseChatArea = q$3(() => {\n      stopPromptCreation();\n      setChatAreaState(\"hidden\");\n    }, [setChatAreaState, stopPromptCreation]);\n    return /* @__PURE__ */ u$9(\"div\", { className: \"flex w-full flex-row items-center justify-center rounded-t-3xl px-3 py-1\", children: [\n      /* @__PURE__ */ u$9(\n        H$3,\n        {\n          className: \"size-5 bg-transparent text-muted-foreground/30 transition-colors duration-100 hover:text-muted-foreground\",\n          onClick: handleResizeBarClick,\n          children: chatAreaState === \"compact\" ? /* @__PURE__ */ u$9(ChevronUp, { className: \"size-5\" }) : /* @__PURE__ */ u$9(ChevronDown, { className: \"size-5\" })\n        }\n      ),\n      /* @__PURE__ */ u$9(\n        H$3,\n        {\n          className: \"absolute right-2 flex h-fit w-fit flex-row items-center gap-1 bg-transparent p-1 text-xs text-zinc-950 opacity-50 transition-all duration-100 hover:opacity-100\",\n          onClick: handleCloseChatArea,\n          children: [\n            \"Close menu\",\n            /* @__PURE__ */ u$9(\"div\", { className: \"rounded-md bg-zinc-600 px-0.5 py-0 text-xs text-zinc-50\", children: \"esc\" })\n          ]\n        }\n      )\n    ] });\n  });\n  const ChatAreaCompact = M$3(() => /* @__PURE__ */ u$9(\"div\", { className: \"flex w-full flex-col gap-1 p-3\", children: /* @__PURE__ */ u$9(\"span\", { className: \"text-sm text-zinc-950/50\", children: \"This is the compact chat area... Showing just the last response from the assistant.\" }) }));\n  const ChatAreaExpanded = M$3(() => {\n    const { chats, currentChatId, setCurrentChat, createChat } = useChatState();\n    const currentChat = chats.find((chat) => chat.id === currentChatId);\n    const hasNewChat = chats.some((chat) => chat.id === \"new_chat\");\n    const handleCreateChat = q$3(() => {\n      createChat();\n    }, [createChat]);\n    const handleSetCurrentChat = q$3(\n      (chatId) => {\n        setCurrentChat(chatId);\n      },\n      [setCurrentChat]\n    );\n    return /* @__PURE__ */ u$9(\"div\", { className: \"flex max-h-[50vh] w-full flex-col gap-3 p-3 pb-0\", children: [\n      /* @__PURE__ */ u$9(\"div\", { className: \"flex flex-1 flex-col gap-2 overflow-y-auto p-1\", children: currentChat == null ? void 0 : currentChat.messages.map((message) => /* @__PURE__ */ u$9(\n        \"div\",\n        {\n          className: `flex ${message.sender === \"assistant\" ? \"justify-start\" : \"justify-end\"}`,\n          children: /* @__PURE__ */ u$9(\n            \"div\",\n            {\n              className: `max-w-[80%] rounded-xl px-2 py-1 text-sm ${message.sender === \"assistant\" ? \"bg-zinc-950/5 text-zinc-950\" : \"bg-blue-600 text-white\"}`,\n              children: message.content\n            }\n          )\n        },\n        message.id\n      )) }),\n      /* @__PURE__ */ u$9(\"div\", { className: \"flex flex-row items-center justify-start gap-2 overflow-x-auto overflow-y-visible border-border/10 border-t pt-2 pb-2\", children: [\n        !hasNewChat && /* @__PURE__ */ u$9(\n          H$3,\n          {\n            className: \"h-6 flex-shrink-0 rounded-full bg-zinc-950/5 px-2 font-semibold text-foreground text-xs\",\n            onClick: handleCreateChat,\n            children: /* @__PURE__ */ u$9(Plus, { className: \"size-3\" })\n          }\n        ),\n        chats.map((chat) => /* @__PURE__ */ u$9(\n          H$3,\n          {\n            className: cn(\n              \"h-5 max-w-48 flex-shrink-0 overflow-hidden truncate rounded-full bg-zinc-950/5 px-2 text-muted-foreground text-xs\",\n              chat.id === currentChatId && \"bg-white/60 text-zinc-950 shadow-blue-600/50 shadow-sm\"\n            ),\n            onClick: () => handleSetCurrentChat(chat.id),\n            children: chat.title || \"New chat\"\n          },\n          chat.id\n        ))\n      ] })\n    ] });\n  });\n  var LIBVERSION = \"2.0.3\", UA_MAX_LENGTH = 500, USER_AGENT = \"user-agent\", EMPTY = \"\", UNKNOWN = \"?\", FUNC_TYPE = \"function\", UNDEF_TYPE = \"undefined\", OBJ_TYPE = \"object\", STR_TYPE = \"string\", UA_BROWSER = \"browser\", UA_CPU = \"cpu\", UA_DEVICE = \"device\", UA_ENGINE = \"engine\", UA_OS = \"os\", UA_RESULT = \"result\", NAME = \"name\", TYPE = \"type\", VENDOR = \"vendor\", VERSION = \"version\", ARCHITECTURE = \"architecture\", MAJOR = \"major\", MODEL = \"model\", CONSOLE = \"console\", MOBILE = \"mobile\", TABLET = \"tablet\", SMARTTV = \"smarttv\", WEARABLE = \"wearable\", XR = \"xr\", EMBEDDED = \"embedded\", INAPP = \"inapp\", BRANDS = \"brands\", FORMFACTORS = \"formFactors\", FULLVERLIST = \"fullVersionList\", PLATFORM = \"platform\", PLATFORMVER = \"platformVersion\", BITNESS = \"bitness\", CH_HEADER = \"sec-ch-ua\", CH_HEADER_FULL_VER_LIST = CH_HEADER + \"-full-version-list\", CH_HEADER_ARCH = CH_HEADER + \"-arch\", CH_HEADER_BITNESS = CH_HEADER + \"-\" + BITNESS, CH_HEADER_FORM_FACTORS = CH_HEADER + \"-form-factors\", CH_HEADER_MOBILE = CH_HEADER + \"-\" + MOBILE, CH_HEADER_MODEL = CH_HEADER + \"-\" + MODEL, CH_HEADER_PLATFORM = CH_HEADER + \"-\" + PLATFORM, CH_HEADER_PLATFORM_VER = CH_HEADER_PLATFORM + \"-version\", CH_ALL_VALUES = [BRANDS, FULLVERLIST, MOBILE, MODEL, PLATFORM, PLATFORMVER, ARCHITECTURE, FORMFACTORS, BITNESS], AMAZON = \"Amazon\", APPLE = \"Apple\", ASUS = \"ASUS\", BLACKBERRY = \"BlackBerry\", GOOGLE = \"Google\", HUAWEI = \"Huawei\", LENOVO = \"Lenovo\", HONOR = \"Honor\", LG = \"LG\", MICROSOFT = \"Microsoft\", MOTOROLA = \"Motorola\", NVIDIA = \"Nvidia\", ONEPLUS = \"OnePlus\", OPPO = \"OPPO\", SAMSUNG = \"Samsung\", SHARP = \"Sharp\", SONY = \"Sony\", XIAOMI = \"Xiaomi\", ZEBRA = \"Zebra\", CHROME = \"Chrome\", CHROMIUM = \"Chromium\", CHROMECAST = \"Chromecast\", EDGE = \"Edge\", FIREFOX = \"Firefox\", OPERA = \"Opera\", FACEBOOK = \"Facebook\", SOGOU = \"Sogou\", PREFIX_MOBILE = \"Mobile \", SUFFIX_BROWSER = \" Browser\", WINDOWS = \"Windows\";\n  var isWindow = typeof window !== UNDEF_TYPE, NAVIGATOR = isWindow && window.navigator ? window.navigator : void 0, NAVIGATOR_UADATA = NAVIGATOR && NAVIGATOR.userAgentData ? NAVIGATOR.userAgentData : void 0;\n  var extend = function(defaultRgx, extensions) {\n    var mergedRgx = {};\n    var extraRgx = extensions;\n    if (!isExtensions(extensions)) {\n      extraRgx = {};\n      for (var i2 in extensions) {\n        for (var j2 in extensions[i2]) {\n          extraRgx[j2] = extensions[i2][j2].concat(extraRgx[j2] ? extraRgx[j2] : []);\n        }\n      }\n    }\n    for (var k2 in defaultRgx) {\n      mergedRgx[k2] = extraRgx[k2] && extraRgx[k2].length % 2 === 0 ? extraRgx[k2].concat(defaultRgx[k2]) : defaultRgx[k2];\n    }\n    return mergedRgx;\n  }, enumerize = function(arr) {\n    var enums = {};\n    for (var i2 = 0; i2 < arr.length; i2++) {\n      enums[arr[i2].toUpperCase()] = arr[i2];\n    }\n    return enums;\n  }, has = function(str1, str2) {\n    if (typeof str1 === OBJ_TYPE && str1.length > 0) {\n      for (var i2 in str1) {\n        if (lowerize(str1[i2]) == lowerize(str2)) return true;\n      }\n      return false;\n    }\n    return isString(str1) ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n  }, isExtensions = function(obj, deep) {\n    for (var prop in obj) {\n      return /^(browser|cpu|device|engine|os)$/.test(prop) || (deep ? isExtensions(obj[prop]) : false);\n    }\n  }, isString = function(val) {\n    return typeof val === STR_TYPE;\n  }, itemListToArray = function(header) {\n    if (!header) return void 0;\n    var arr = [];\n    var tokens = strip(/\\\\?\\\"/g, header).split(\",\");\n    for (var i2 = 0; i2 < tokens.length; i2++) {\n      if (tokens[i2].indexOf(\";\") > -1) {\n        var token = trim(tokens[i2]).split(\";v=\");\n        arr[i2] = { brand: token[0], version: token[1] };\n      } else {\n        arr[i2] = trim(tokens[i2]);\n      }\n    }\n    return arr;\n  }, lowerize = function(str) {\n    return isString(str) ? str.toLowerCase() : str;\n  }, majorize = function(version) {\n    return isString(version) ? strip(/[^\\d\\.]/g, version).split(\".\")[0] : void 0;\n  }, setProps = function(arr) {\n    for (var i2 in arr) {\n      var propName = arr[i2];\n      if (typeof propName == OBJ_TYPE && propName.length == 2) {\n        this[propName[0]] = propName[1];\n      } else {\n        this[propName] = void 0;\n      }\n    }\n    return this;\n  }, strip = function(pattern, str) {\n    return isString(str) ? str.replace(pattern, EMPTY) : str;\n  }, stripQuotes = function(str) {\n    return strip(/\\\\?\\\"/g, str);\n  }, trim = function(str, len) {\n    if (isString(str)) {\n      str = strip(/^\\s\\s*/, str);\n      return typeof len === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n    }\n  };\n  var rgxMapper = function(ua, arrays) {\n    if (!ua || !arrays) return;\n    var i2 = 0, j2, k2, p2, q2, matches, match;\n    while (i2 < arrays.length && !matches) {\n      var regex = arrays[i2], props = arrays[i2 + 1];\n      j2 = k2 = 0;\n      while (j2 < regex.length && !matches) {\n        if (!regex[j2]) {\n          break;\n        }\n        matches = regex[j2++].exec(ua);\n        if (!!matches) {\n          for (p2 = 0; p2 < props.length; p2++) {\n            match = matches[++k2];\n            q2 = props[p2];\n            if (typeof q2 === OBJ_TYPE && q2.length > 0) {\n              if (q2.length === 2) {\n                if (typeof q2[1] == FUNC_TYPE) {\n                  this[q2[0]] = q2[1].call(this, match);\n                } else {\n                  this[q2[0]] = q2[1];\n                }\n              } else if (q2.length === 3) {\n                if (typeof q2[1] === FUNC_TYPE && !(q2[1].exec && q2[1].test)) {\n                  this[q2[0]] = match ? q2[1].call(this, match, q2[2]) : void 0;\n                } else {\n                  this[q2[0]] = match ? match.replace(q2[1], q2[2]) : void 0;\n                }\n              } else if (q2.length === 4) {\n                this[q2[0]] = match ? q2[3].call(this, match.replace(q2[1], q2[2])) : void 0;\n              }\n            } else {\n              this[q2] = match ? match : void 0;\n            }\n          }\n        }\n      }\n      i2 += 2;\n    }\n  }, strMapper = function(str, map) {\n    for (var i2 in map) {\n      if (typeof map[i2] === OBJ_TYPE && map[i2].length > 0) {\n        for (var j2 = 0; j2 < map[i2].length; j2++) {\n          if (has(map[i2][j2], str)) {\n            return i2 === UNKNOWN ? void 0 : i2;\n          }\n        }\n      } else if (has(map[i2], str)) {\n        return i2 === UNKNOWN ? void 0 : i2;\n      }\n    }\n    return map.hasOwnProperty(\"*\") ? map[\"*\"] : str;\n  };\n  var windowsVersionMap = {\n    \"ME\": \"4.90\",\n    \"NT 3.11\": \"NT3.51\",\n    \"NT 4.0\": \"NT4.0\",\n    \"2000\": \"NT 5.0\",\n    \"XP\": [\"NT 5.1\", \"NT 5.2\"],\n    \"Vista\": \"NT 6.0\",\n    \"7\": \"NT 6.1\",\n    \"8\": \"NT 6.2\",\n    \"8.1\": \"NT 6.3\",\n    \"10\": [\"NT 6.4\", \"NT 10.0\"],\n    \"RT\": \"ARM\"\n  }, formFactorsMap = {\n    \"embedded\": \"Automotive\",\n    \"mobile\": \"Mobile\",\n    \"tablet\": [\"Tablet\", \"EInk\"],\n    \"smarttv\": \"TV\",\n    \"wearable\": \"Watch\",\n    \"xr\": [\"VR\", \"XR\"],\n    \"?\": [\"Desktop\", \"Unknown\"],\n    \"*\": void 0\n  };\n  var defaultRegexes = {\n    browser: [\n      [\n        // Most common regardless engine\n        /\\b(?:crmo|crios)\\/([\\w\\.]+)/i\n        // Chrome for Android/iOS\n      ],\n      [VERSION, [NAME, PREFIX_MOBILE + \"Chrome\"]],\n      [\n        /edg(?:e|ios|a)?\\/([\\w\\.]+)/i\n        // Microsoft Edge\n      ],\n      [VERSION, [NAME, \"Edge\"]],\n      [\n        // Presto based\n        /(opera mini)\\/([-\\w\\.]+)/i,\n        // Opera Mini\n        /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,\n        // Opera Mobi/Tablet\n        /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i\n        // Opera\n      ],\n      [NAME, VERSION],\n      [\n        /opios[\\/ ]+([\\w\\.]+)/i\n        // Opera mini on iphone >= 8.0\n      ],\n      [VERSION, [NAME, OPERA + \" Mini\"]],\n      [\n        /\\bop(?:rg)?x\\/([\\w\\.]+)/i\n        // Opera GX\n      ],\n      [VERSION, [NAME, OPERA + \" GX\"]],\n      [\n        /\\bopr\\/([\\w\\.]+)/i\n        // Opera Webkit\n      ],\n      [VERSION, [NAME, OPERA]],\n      [\n        // Mixed\n        /\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\/ ]?([\\w\\.]+)/i\n        // Baidu\n      ],\n      [VERSION, [NAME, \"Baidu\"]],\n      [\n        /\\b(?:mxbrowser|mxios|myie2)\\/?([-\\w\\.]*)\\b/i\n        // Maxthon\n      ],\n      [VERSION, [NAME, \"Maxthon\"]],\n      [\n        /(kindle)\\/([\\w\\.]+)/i,\n        // Kindle\n        /(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\\/ ]?([\\w\\.]*)/i,\n        // Lunascape/Maxthon/Netfront/Jasmine/Blazer/Sleipnir\n        // Trident based\n        /(avant|iemobile|slim(?:browser|boat|jet))[\\/ ]?([\\d\\.]*)/i,\n        // Avant/IEMobile/SlimBrowser/SlimBoat/Slimjet\n        /(?:ms|\\()(ie) ([\\w\\.]+)/i,\n        // Internet Explorer\n        // Blink/Webkit/KHTML based                                         // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon/LG Browser/Otter/qutebrowser/Dooble\n        /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\\/([-\\w\\.]+)/i,\n        // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ//Vivaldi/DuckDuckGo/Klar/Helio/Dragon\n        /(heytap|ovi|115|surf)browser\\/([\\d\\.]+)/i,\n        // HeyTap/Ovi/115/Surf\n        /(ecosia|weibo)(?:__| \\w+@)([\\d\\.]+)/i\n        // Ecosia/Weibo\n      ],\n      [NAME, VERSION],\n      [\n        /quark(?:pc)?\\/([-\\w\\.]+)/i\n        // Quark\n      ],\n      [VERSION, [NAME, \"Quark\"]],\n      [\n        /\\bddg\\/([\\w\\.]+)/i\n        // DuckDuckGo\n      ],\n      [VERSION, [NAME, \"DuckDuckGo\"]],\n      [\n        /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i\n        // UCBrowser\n      ],\n      [VERSION, [NAME, \"UCBrowser\"]],\n      [\n        /microm.+\\bqbcore\\/([\\w\\.]+)/i,\n        // WeChat Desktop for Windows Built-in Browser\n        /\\bqbcore\\/([\\w\\.]+).+microm/i,\n        /micromessenger\\/([\\w\\.]+)/i\n        // WeChat\n      ],\n      [VERSION, [NAME, \"WeChat\"]],\n      [\n        /konqueror\\/([\\w\\.]+)/i\n        // Konqueror\n      ],\n      [VERSION, [NAME, \"Konqueror\"]],\n      [\n        /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i\n        // IE11\n      ],\n      [VERSION, [NAME, \"IE\"]],\n      [\n        /ya(?:search)?browser\\/([\\w\\.]+)/i\n        // Yandex\n      ],\n      [VERSION, [NAME, \"Yandex\"]],\n      [\n        /slbrowser\\/([\\w\\.]+)/i\n        // Smart Lenovo Browser\n      ],\n      [VERSION, [NAME, \"Smart \" + LENOVO + SUFFIX_BROWSER]],\n      [\n        /(avast|avg)\\/([\\w\\.]+)/i\n        // Avast/AVG Secure Browser\n      ],\n      [[NAME, /(.+)/, \"$1 Secure\" + SUFFIX_BROWSER], VERSION],\n      [\n        /\\bfocus\\/([\\w\\.]+)/i\n        // Firefox Focus\n      ],\n      [VERSION, [NAME, FIREFOX + \" Focus\"]],\n      [\n        /\\bopt\\/([\\w\\.]+)/i\n        // Opera Touch\n      ],\n      [VERSION, [NAME, OPERA + \" Touch\"]],\n      [\n        /coc_coc\\w+\\/([\\w\\.]+)/i\n        // Coc Coc Browser\n      ],\n      [VERSION, [NAME, \"Coc Coc\"]],\n      [\n        /dolfin\\/([\\w\\.]+)/i\n        // Dolphin\n      ],\n      [VERSION, [NAME, \"Dolphin\"]],\n      [\n        /coast\\/([\\w\\.]+)/i\n        // Opera Coast\n      ],\n      [VERSION, [NAME, OPERA + \" Coast\"]],\n      [\n        /miuibrowser\\/([\\w\\.]+)/i\n        // MIUI Browser\n      ],\n      [VERSION, [NAME, \"MIUI\" + SUFFIX_BROWSER]],\n      [\n        /fxios\\/([\\w\\.-]+)/i\n        // Firefox for iOS\n      ],\n      [VERSION, [NAME, PREFIX_MOBILE + FIREFOX]],\n      [\n        /\\bqihoobrowser\\/?([\\w\\.]*)/i\n        // 360\n      ],\n      [VERSION, [NAME, \"360\"]],\n      [\n        /\\b(qq)\\/([\\w\\.]+)/i\n        // QQ\n      ],\n      [[NAME, /(.+)/, \"$1Browser\"], VERSION],\n      [\n        /(oculus|sailfish|huawei|vivo|pico)browser\\/([\\w\\.]+)/i\n      ],\n      [[NAME, /(.+)/, \"$1\" + SUFFIX_BROWSER], VERSION],\n      [\n        // Oculus/Sailfish/HuaweiBrowser/VivoBrowser/PicoBrowser\n        /samsungbrowser\\/([\\w\\.]+)/i\n        // Samsung Internet\n      ],\n      [VERSION, [NAME, SAMSUNG + \" Internet\"]],\n      [\n        /metasr[\\/ ]?([\\d\\.]+)/i\n        // Sogou Explorer\n      ],\n      [VERSION, [NAME, SOGOU + \" Explorer\"]],\n      [\n        /(sogou)mo\\w+\\/([\\d\\.]+)/i\n        // Sogou Mobile\n      ],\n      [[NAME, SOGOU + \" Mobile\"], VERSION],\n      [\n        /(electron)\\/([\\w\\.]+) safari/i,\n        // Electron-based App\n        /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,\n        // Tesla\n        /m?(qqbrowser|2345(?=browser|chrome|explorer))\\w*[\\/ ]?v?([\\w\\.]+)/i\n        // QQ/2345\n      ],\n      [NAME, VERSION],\n      [\n        /(lbbrowser|rekonq)/i\n        // LieBao Browser/Rekonq\n      ],\n      [NAME],\n      [\n        /ome\\/([\\w\\.]+) \\w* ?(iron) saf/i,\n        // Iron\n        /ome\\/([\\w\\.]+).+qihu (360)[es]e/i\n        // 360\n      ],\n      [VERSION, NAME],\n      [\n        // WebView\n        /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i\n        // Facebook App for iOS & Android\n      ],\n      [[NAME, FACEBOOK], VERSION, [TYPE, INAPP]],\n      [\n        /(Klarna)\\/([\\w\\.]+)/i,\n        // Klarna Shopping Browser for iOS & Android\n        /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,\n        // Kakao App\n        /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,\n        // Naver InApp\n        /(daum)apps[\\/ ]([\\w\\.]+)/i,\n        // Daum App\n        /safari (line)\\/([\\w\\.]+)/i,\n        // Line App for iOS\n        /\\b(line)\\/([\\w\\.]+)\\/iab/i,\n        // Line App for Android\n        /(alipay)client\\/([\\w\\.]+)/i,\n        // Alipay\n        /(twitter)(?:and| f.+e\\/([\\w\\.]+))/i,\n        // Twitter\n        /(instagram|snapchat)[\\/ ]([-\\w\\.]+)/i\n        // Instagram/Snapchat\n      ],\n      [NAME, VERSION, [TYPE, INAPP]],\n      [\n        /\\bgsa\\/([\\w\\.]+) .*safari\\//i\n        // Google Search Appliance on iOS\n      ],\n      [VERSION, [NAME, \"GSA\"], [TYPE, INAPP]],\n      [\n        /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i\n        // TikTok\n      ],\n      [VERSION, [NAME, \"TikTok\"], [TYPE, INAPP]],\n      [\n        /\\[(linkedin)app\\]/i\n        // LinkedIn App for iOS & Android\n      ],\n      [NAME, [TYPE, INAPP]],\n      [\n        /(chromium)[\\/ ]([-\\w\\.]+)/i\n        // Chromium\n      ],\n      [NAME, VERSION],\n      [\n        /headlesschrome(?:\\/([\\w\\.]+)| )/i\n        // Chrome Headless\n      ],\n      [VERSION, [NAME, CHROME + \" Headless\"]],\n      [\n        / wv\\).+(chrome)\\/([\\w\\.]+)/i\n        // Chrome WebView\n      ],\n      [[NAME, CHROME + \" WebView\"], VERSION],\n      [\n        /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i\n        // Android Browser\n      ],\n      [VERSION, [NAME, \"Android\" + SUFFIX_BROWSER]],\n      [\n        /chrome\\/([\\w\\.]+) mobile/i\n        // Chrome Mobile\n      ],\n      [VERSION, [NAME, PREFIX_MOBILE + \"Chrome\"]],\n      [\n        /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i\n        // Chrome/OmniWeb/Arora/Tizen/Nokia\n      ],\n      [NAME, VERSION],\n      [\n        /version\\/([\\w\\.\\,]+) .*mobile(?:\\/\\w+ | ?)safari/i\n        // Safari Mobile\n      ],\n      [VERSION, [NAME, PREFIX_MOBILE + \"Safari\"]],\n      [\n        /iphone .*mobile(?:\\/\\w+ | ?)safari/i\n      ],\n      [[NAME, PREFIX_MOBILE + \"Safari\"]],\n      [\n        /version\\/([\\w\\.\\,]+) .*(safari)/i\n        // Safari\n      ],\n      [VERSION, NAME],\n      [\n        /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i\n        // Safari < 3.0\n      ],\n      [NAME, [VERSION, \"1\"]],\n      [\n        /(webkit|khtml)\\/([\\w\\.]+)/i\n      ],\n      [NAME, VERSION],\n      [\n        // Gecko based\n        /(?:mobile|tablet);.*(firefox)\\/([\\w\\.-]+)/i\n        // Firefox Mobile\n      ],\n      [[NAME, PREFIX_MOBILE + FIREFOX], VERSION],\n      [\n        /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i\n        // Netscape\n      ],\n      [[NAME, \"Netscape\"], VERSION],\n      [\n        /(wolvic|librewolf)\\/([\\w\\.]+)/i\n        // Wolvic/LibreWolf\n      ],\n      [NAME, VERSION],\n      [\n        /mobile vr; rv:([\\w\\.]+)\\).+firefox/i\n        // Firefox Reality\n      ],\n      [VERSION, [NAME, FIREFOX + \" Reality\"]],\n      [\n        /ekiohf.+(flow)\\/([\\w\\.]+)/i,\n        // Flow\n        /(swiftfox)/i,\n        // Swiftfox\n        /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\\/ ]?([\\w\\.\\+]+)/i,\n        // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n        /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n        // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n        /(firefox)\\/([\\w\\.]+)/i,\n        // Other Firefox-based\n        /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,\n        // Mozilla\n        // Other\n        /(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n        // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Obigo/Mosaic/Go/ICE/UP.Browser/Ladybird\n        /\\b(links) \\(([\\w\\.]+)/i\n        // Links\n      ],\n      [NAME, [VERSION, /_/g, \".\"]],\n      [\n        /(cobalt)\\/([\\w\\.]+)/i\n        // Cobalt\n      ],\n      [NAME, [VERSION, /[^\\d\\.]+./, EMPTY]]\n    ],\n    cpu: [\n      [\n        /\\b((amd|x|x86[-_]?|wow|win)64)\\b/i\n        // AMD64 (x64)\n      ],\n      [[ARCHITECTURE, \"amd64\"]],\n      [\n        /(ia32(?=;))/i,\n        // IA32 (quicktime)\n        /\\b((i[346]|x)86)(pc)?\\b/i\n        // IA32 (x86)\n      ],\n      [[ARCHITECTURE, \"ia32\"]],\n      [\n        /\\b(aarch64|arm(v?[89]e?l?|_?64))\\b/i\n        // ARM64\n      ],\n      [[ARCHITECTURE, \"arm64\"]],\n      [\n        /\\b(arm(v[67])?ht?n?[fl]p?)\\b/i\n        // ARMHF\n      ],\n      [[ARCHITECTURE, \"armhf\"]],\n      [\n        // PocketPC mistakenly identified as PowerPC\n        /( (ce|mobile); ppc;|\\/[\\w\\.]+arm\\b)/i\n      ],\n      [[ARCHITECTURE, \"arm\"]],\n      [\n        /((ppc|powerpc)(64)?)( mac|;|\\))/i\n        // PowerPC\n      ],\n      [[ARCHITECTURE, /ower/, EMPTY, lowerize]],\n      [\n        / sun4\\w[;\\)]/i\n        // SPARC\n      ],\n      [[ARCHITECTURE, \"sparc\"]],\n      [\n        /\\b(avr32|ia64(?=;)|68k(?=\\))|\\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\\b|pa-risc)/i\n        // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n      ],\n      [[ARCHITECTURE, lowerize]]\n    ],\n    device: [\n      [\n        //////////////////////////\n        // MOBILES & TABLETS\n        /////////////////////////\n        // Samsung\n        /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n      ],\n      [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]],\n      [\n        /\\b((?:s[cgp]h|gt|sm)-(?![lr])\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n        /samsung[- ]((?!sm-[lr])[-\\w]+)/i,\n        /sec-(sgh\\w+)/i\n      ],\n      [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]],\n      [\n        // Apple\n        /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i\n        // iPod/iPhone\n      ],\n      [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]],\n      [\n        /\\((ipad);[-\\w\\),; ]+apple/i,\n        // iPad\n        /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n        /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n      ],\n      [MODEL, [VENDOR, APPLE], [TYPE, TABLET]],\n      [\n        /(macintosh);/i\n      ],\n      [MODEL, [VENDOR, APPLE]],\n      [\n        // Sharp\n        /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n      ],\n      [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]],\n      [\n        // Honor\n        /\\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\\)|;)/i\n      ],\n      [MODEL, [VENDOR, HONOR], [TYPE, TABLET]],\n      [\n        /honor([-\\w ]+)[;\\)]/i\n      ],\n      [MODEL, [VENDOR, HONOR], [TYPE, MOBILE]],\n      [\n        // Huawei\n        /\\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\\w\\. ]*(?= bui|\\)))\\b(?!.+d\\/s)/i\n      ],\n      [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]],\n      [\n        /(?:huawei)([-\\w ]+)[;\\)]/i,\n        /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n      ],\n      [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]],\n      [\n        // Xiaomi\n        /oid[^\\)]+; (2[\\dbc]{4}(182|283|rp\\w{2})[cgl]|m2105k81a?c)(?: bui|\\))/i,\n        /\\b((?:red)?mi[-_ ]?pad[\\w- ]*)(?: bui|\\))/i\n        // Mi Pad tablets\n      ],\n      [[MODEL, /_/g, \" \"], [VENDOR, XIAOMI], [TYPE, TABLET]],\n      [\n        /\\b(poco[\\w ]+|m2\\d{3}j\\d\\d[a-z]{2})(?: bui|\\))/i,\n        // Xiaomi POCO\n        /\\b; (\\w+) build\\/hm\\1/i,\n        // Xiaomi Hongmi 'numeric' models\n        /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,\n        // Xiaomi Hongmi\n        /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,\n        // Xiaomi Redmi\n        /oid[^\\)]+; (m?[12][0-389][01]\\w{3,6}[c-y])( bui|; wv|\\))/i,\n        // Xiaomi Redmi 'numeric' models\n        /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\\))/i,\n        // Xiaomi Mi\n        / ([\\w ]+) miui\\/v?\\d/i\n      ],\n      [[MODEL, /_/g, \" \"], [VENDOR, XIAOMI], [TYPE, MOBILE]],\n      [\n        // OPPO\n        /; (\\w+) bui.+ oppo/i,\n        /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n      ],\n      [MODEL, [VENDOR, OPPO], [TYPE, MOBILE]],\n      [\n        /\\b(opd2(\\d{3}a?))(?: bui|\\))/i\n      ],\n      [MODEL, [VENDOR, strMapper, { \"OnePlus\": [\"304\", \"403\", \"203\"], \"*\": OPPO }], [TYPE, TABLET]],\n      [\n        // BLU Vivo Series\n        /(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\\w\\+ ]*)(?: bui|\\))/i\n      ],\n      [MODEL, [VENDOR, \"BLU\"], [TYPE, MOBILE]],\n      [\n        // Vivo\n        /; vivo (\\w+)(?: bui|\\))/i,\n        /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n      ],\n      [MODEL, [VENDOR, \"Vivo\"], [TYPE, MOBILE]],\n      [\n        // Realme\n        /\\b(rmx[1-3]\\d{3})(?: bui|;|\\))/i\n      ],\n      [MODEL, [VENDOR, \"Realme\"], [TYPE, MOBILE]],\n      [\n        // Motorola\n        /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n        /\\bmot(?:orola)?[- ](\\w*)/i,\n        /((?:moto(?! 360)[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n      ],\n      [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]],\n      [\n        /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n      ],\n      [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]],\n      [\n        // LG\n        /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n      ],\n      [MODEL, [VENDOR, LG], [TYPE, TABLET]],\n      [\n        /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n        /\\blg[-e;\\/ ]+(?!.*(?:browser|netcast|android tv|watch))(\\w+)/i,\n        /\\blg-?([\\d\\w]+) bui/i\n      ],\n      [MODEL, [VENDOR, LG], [TYPE, MOBILE]],\n      [\n        // Lenovo\n        /(ideatab[-\\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\\d{3,4}(?:f[cu]|xu|[av])|yt\\d?-[jx]?\\d+[lfmx])( bui|;|\\)|\\/)/i,\n        /lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\\w- ]+?)|tb[\\w-]{6,7})( bui|;|\\)|\\/)/i\n      ],\n      [MODEL, [VENDOR, LENOVO], [TYPE, TABLET]],\n      [\n        // Nokia\n        /(nokia) (t[12][01])/i\n      ],\n      [VENDOR, MODEL, [TYPE, TABLET]],\n      [\n        /(?:maemo|nokia).*(n900|lumia \\d+|rm-\\d+)/i,\n        /nokia[-_ ]?(([-\\w\\. ]*))/i\n      ],\n      [[MODEL, /_/g, \" \"], [TYPE, MOBILE], [VENDOR, \"Nokia\"]],\n      [\n        // Google\n        /(pixel (c|tablet))\\b/i\n        // Google Pixel C/Tablet\n      ],\n      [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]],\n      [\n        /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i\n        // Google Pixel\n      ],\n      [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]],\n      [\n        // Sony\n        /droid.+; (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n      ],\n      [MODEL, [VENDOR, SONY], [TYPE, MOBILE]],\n      [\n        /sony tablet [ps]/i,\n        /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n      ],\n      [[MODEL, \"Xperia Tablet\"], [VENDOR, SONY], [TYPE, TABLET]],\n      [\n        // OnePlus\n        / (kb2005|in20[12]5|be20[12][59])\\b/i,\n        /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n      ],\n      [MODEL, [VENDOR, ONEPLUS], [TYPE, MOBILE]],\n      [\n        // Amazon\n        /(alexa)webm/i,\n        /(kf[a-z]{2}wi|aeo(?!bc)\\w\\w)( bui|\\))/i,\n        // Kindle Fire without Silk / Echo Show\n        /(kf[a-z]+)( bui|\\)).+silk\\//i\n        // Kindle Fire HD\n      ],\n      [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]],\n      [\n        /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i\n        // Fire Phone\n      ],\n      [[MODEL, /(.+)/g, \"Fire Phone $1\"], [VENDOR, AMAZON], [TYPE, MOBILE]],\n      [\n        // BlackBerry\n        /(playbook);[-\\w\\),; ]+(rim)/i\n        // BlackBerry PlayBook\n      ],\n      [MODEL, VENDOR, [TYPE, TABLET]],\n      [\n        /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n        /\\(bb10; (\\w+)/i\n        // BlackBerry 10\n      ],\n      [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]],\n      [\n        // Asus\n        /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n      ],\n      [MODEL, [VENDOR, ASUS], [TYPE, TABLET]],\n      [\n        / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n      ],\n      [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]],\n      [\n        // HTC\n        /(nexus 9)/i\n        // HTC Nexus 9\n      ],\n      [MODEL, [VENDOR, \"HTC\"], [TYPE, TABLET]],\n      [\n        /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,\n        // HTC\n        // ZTE\n        /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n        /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i\n        // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n      ],\n      [VENDOR, [MODEL, /_/g, \" \"], [TYPE, MOBILE]],\n      [\n        // TCL\n        /tcl (xess p17aa)/i,\n        /droid [\\w\\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\\w(\\w|\\w\\w))?(\\)| bui)/i\n      ],\n      [MODEL, [VENDOR, \"TCL\"], [TYPE, TABLET]],\n      [\n        /droid [\\w\\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\\w(\\w|\\w\\w))?(\\)| bui)/i\n      ],\n      [MODEL, [VENDOR, \"TCL\"], [TYPE, MOBILE]],\n      [\n        // itel\n        /(itel) ((\\w+))/i\n      ],\n      [[VENDOR, lowerize], MODEL, [TYPE, strMapper, { \"tablet\": [\"p10001l\", \"w7001\"], \"*\": \"mobile\" }]],\n      [\n        // Acer\n        /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n      ],\n      [MODEL, [VENDOR, \"Acer\"], [TYPE, TABLET]],\n      [\n        // Meizu\n        /droid.+; (m[1-5] note) bui/i,\n        /\\bmz-([-\\w]{2,})/i\n      ],\n      [MODEL, [VENDOR, \"Meizu\"], [TYPE, MOBILE]],\n      [\n        // Ulefone\n        /; ((?:power )?armor(?:[\\w ]{0,8}))(?: bui|\\))/i\n      ],\n      [MODEL, [VENDOR, \"Ulefone\"], [TYPE, MOBILE]],\n      [\n        // Energizer\n        /; (energy ?\\w+)(?: bui|\\))/i,\n        /; energizer ([\\w ]+)(?: bui|\\))/i\n      ],\n      [MODEL, [VENDOR, \"Energizer\"], [TYPE, MOBILE]],\n      [\n        // Cat\n        /; cat (b35);/i,\n        /; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\\))/i\n      ],\n      [MODEL, [VENDOR, \"Cat\"], [TYPE, MOBILE]],\n      [\n        // Smartfren\n        /((?:new )?andromax[\\w- ]+)(?: bui|\\))/i\n      ],\n      [MODEL, [VENDOR, \"Smartfren\"], [TYPE, MOBILE]],\n      [\n        // Nothing\n        /droid.+; (a(?:015|06[35]|142p?))/i\n      ],\n      [MODEL, [VENDOR, \"Nothing\"], [TYPE, MOBILE]],\n      [\n        // Archos\n        /; (x67 5g|tikeasy \\w+|ac[1789]\\d\\w+)( b|\\))/i,\n        /archos ?(5|gamepad2?|([\\w ]*[t1789]|hello) ?\\d+[\\w ]*)( b|\\))/i\n      ],\n      [MODEL, [VENDOR, \"Archos\"], [TYPE, TABLET]],\n      [\n        /archos ([\\w ]+)( b|\\))/i,\n        /; (ac[3-6]\\d\\w{2,8})( b|\\))/i\n      ],\n      [MODEL, [VENDOR, \"Archos\"], [TYPE, MOBILE]],\n      [\n        // MIXED\n        /(imo) (tab \\w+)/i,\n        // IMO\n        /(infinix) (x1101b?)/i\n        // Infinix XPad\n      ],\n      [VENDOR, MODEL, [TYPE, TABLET]],\n      [\n        /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\\w]*)/i,\n        // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron/Infinix/Tecno/Micromax/Advan\n        /; (blu|hmd|imo|tcl)[_ ]([\\w\\+ ]+?)(?: bui|\\)|; r)/i,\n        // BLU/HMD/IMO/TCL\n        /(hp) ([\\w ]+\\w)/i,\n        // HP iPAQ\n        /(microsoft); (lumia[\\w ]+)/i,\n        // Microsoft Lumia\n        /(lenovo)[-_ ]?([-\\w ]+?)(?: bui|\\)|\\/)/i,\n        // Lenovo\n        /(oppo) ?([\\w ]+) bui/i\n        // OPPO\n      ],\n      [VENDOR, MODEL, [TYPE, MOBILE]],\n      [\n        /(kobo)\\s(ereader|touch)/i,\n        // Kobo\n        /(hp).+(touchpad(?!.+tablet)|tablet)/i,\n        // HP TouchPad\n        /(kindle)\\/([\\w\\.]+)/i\n        // Kindle\n      ],\n      [VENDOR, MODEL, [TYPE, TABLET]],\n      [\n        /(surface duo)/i\n        // Surface Duo\n      ],\n      [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]],\n      [\n        /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i\n        // Fairphone\n      ],\n      [MODEL, [VENDOR, \"Fairphone\"], [TYPE, MOBILE]],\n      [\n        /((?:tegranote|shield t(?!.+d tv))[\\w- ]*?)(?: b|\\))/i\n        // Nvidia Tablets\n      ],\n      [MODEL, [VENDOR, NVIDIA], [TYPE, TABLET]],\n      [\n        /(sprint) (\\w+)/i\n        // Sprint Phones\n      ],\n      [VENDOR, MODEL, [TYPE, MOBILE]],\n      [\n        /(kin\\.[onetw]{3})/i\n        // Microsoft Kin\n      ],\n      [[MODEL, /\\./g, \" \"], [VENDOR, MICROSOFT], [TYPE, MOBILE]],\n      [\n        /droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i\n        // Zebra\n      ],\n      [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]],\n      [\n        /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n      ],\n      [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]],\n      [\n        ///////////////////\n        // SMARTTVS\n        ///////////////////\n        /smart-tv.+(samsung)/i\n        // Samsung\n      ],\n      [VENDOR, [TYPE, SMARTTV]],\n      [\n        /hbbtv.+maple;(\\d+)/i\n      ],\n      [[MODEL, /^/, \"SmartTV\"], [VENDOR, SAMSUNG], [TYPE, SMARTTV]],\n      [\n        /tcast.+(lg)e?. ([-\\w]+)/i\n        // LG SmartTV\n      ],\n      [VENDOR, MODEL, [TYPE, SMARTTV]],\n      [\n        /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i\n      ],\n      [[VENDOR, LG], [TYPE, SMARTTV]],\n      [\n        /(apple) ?tv/i\n        // Apple TV\n      ],\n      [VENDOR, [MODEL, APPLE + \" TV\"], [TYPE, SMARTTV]],\n      [\n        /crkey.*devicetype\\/chromecast/i\n        // Google Chromecast Third Generation\n      ],\n      [[MODEL, CHROMECAST + \" Third Generation\"], [VENDOR, GOOGLE], [TYPE, SMARTTV]],\n      [\n        /crkey.*devicetype\\/([^/]*)/i\n        // Google Chromecast with specific device type\n      ],\n      [[MODEL, /^/, \"Chromecast \"], [VENDOR, GOOGLE], [TYPE, SMARTTV]],\n      [\n        /fuchsia.*crkey/i\n        // Google Chromecast Nest Hub\n      ],\n      [[MODEL, CHROMECAST + \" Nest Hub\"], [VENDOR, GOOGLE], [TYPE, SMARTTV]],\n      [\n        /crkey/i\n        // Google Chromecast, Linux-based or unknown\n      ],\n      [[MODEL, CHROMECAST], [VENDOR, GOOGLE], [TYPE, SMARTTV]],\n      [\n        /(portaltv)/i\n        // Facebook Portal TV\n      ],\n      [MODEL, [VENDOR, FACEBOOK], [TYPE, SMARTTV]],\n      [\n        /droid.+aft(\\w+)( bui|\\))/i\n        // Fire TV\n      ],\n      [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]],\n      [\n        /(shield \\w+ tv)/i\n        // Nvidia Shield TV\n      ],\n      [MODEL, [VENDOR, NVIDIA], [TYPE, SMARTTV]],\n      [\n        /\\(dtv[\\);].+(aquos)/i,\n        /(aquos-tv[\\w ]+)\\)/i\n        // Sharp\n      ],\n      [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],\n      [\n        /(bravia[\\w ]+)( bui|\\))/i\n        // Sony\n      ],\n      [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]],\n      [\n        /(mi(tv|box)-?\\w+) bui/i\n        // Xiaomi\n      ],\n      [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]],\n      [\n        /Hbbtv.*(technisat) (.*);/i\n        // TechniSAT\n      ],\n      [VENDOR, MODEL, [TYPE, SMARTTV]],\n      [\n        /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,\n        // Roku\n        /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i\n        // HbbTV devices\n      ],\n      [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]],\n      [\n        // SmartTV from Unidentified Vendors\n        /droid.+; ([\\w- ]+) (?:android tv|smart[- ]?tv)/i\n      ],\n      [MODEL, [TYPE, SMARTTV]],\n      [\n        /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i\n      ],\n      [[TYPE, SMARTTV]],\n      [\n        ///////////////////\n        // CONSOLES\n        ///////////////////\n        /(ouya)/i,\n        // Ouya\n        /(nintendo) (\\w+)/i\n        // Nintendo\n      ],\n      [VENDOR, MODEL, [TYPE, CONSOLE]],\n      [\n        /droid.+; (shield)( bui|\\))/i\n        // Nvidia Portable\n      ],\n      [MODEL, [VENDOR, NVIDIA], [TYPE, CONSOLE]],\n      [\n        /(playstation \\w+)/i\n        // Playstation\n      ],\n      [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]],\n      [\n        /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i\n        // Microsoft Xbox\n      ],\n      [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]],\n      [\n        ///////////////////\n        // WEARABLES\n        ///////////////////\n        /\\b(sm-[lr]\\d\\d[0156][fnuw]?s?|gear live)\\b/i\n        // Samsung Galaxy Watch\n      ],\n      [MODEL, [VENDOR, SAMSUNG], [TYPE, WEARABLE]],\n      [\n        /((pebble))app/i,\n        // Pebble\n        /(asus|google|lg|oppo) ((pixel |zen)?watch[\\w ]*)( bui|\\))/i\n        // Asus ZenWatch / LG Watch / Pixel Watch\n      ],\n      [VENDOR, MODEL, [TYPE, WEARABLE]],\n      [\n        /(ow(?:19|20)?we?[1-3]{1,3})/i\n        // Oppo Watch\n      ],\n      [MODEL, [VENDOR, OPPO], [TYPE, WEARABLE]],\n      [\n        /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i\n        // Apple Watch\n      ],\n      [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]],\n      [\n        /(opwwe\\d{3})/i\n        // OnePlus Watch\n      ],\n      [MODEL, [VENDOR, ONEPLUS], [TYPE, WEARABLE]],\n      [\n        /(moto 360)/i\n        // Motorola 360\n      ],\n      [MODEL, [VENDOR, MOTOROLA], [TYPE, WEARABLE]],\n      [\n        /(smartwatch 3)/i\n        // Sony SmartWatch\n      ],\n      [MODEL, [VENDOR, SONY], [TYPE, WEARABLE]],\n      [\n        /(g watch r)/i\n        // LG G Watch R\n      ],\n      [MODEL, [VENDOR, LG], [TYPE, WEARABLE]],\n      [\n        /droid.+; (wt63?0{2,3})\\)/i\n      ],\n      [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]],\n      [\n        ///////////////////\n        // XR\n        ///////////////////\n        /droid.+; (glass) \\d/i\n        // Google Glass\n      ],\n      [MODEL, [VENDOR, GOOGLE], [TYPE, XR]],\n      [\n        /(pico) (4|neo3(?: link|pro)?)/i\n        // Pico\n      ],\n      [VENDOR, MODEL, [TYPE, XR]],\n      [\n        /(quest( \\d| pro)?s?).+vr/i\n        // Meta Quest\n      ],\n      [MODEL, [VENDOR, FACEBOOK], [TYPE, XR]],\n      [\n        ///////////////////\n        // EMBEDDED\n        ///////////////////\n        /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i\n        // Tesla\n      ],\n      [VENDOR, [TYPE, EMBEDDED]],\n      [\n        /(aeobc)\\b/i\n        // Echo Dot\n      ],\n      [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]],\n      [\n        /(homepod).+mac os/i\n        // Apple HomePod\n      ],\n      [MODEL, [VENDOR, APPLE], [TYPE, EMBEDDED]],\n      [\n        /windows iot/i\n      ],\n      [[TYPE, EMBEDDED]],\n      [\n        ////////////////////\n        // MIXED (GENERIC)\n        ///////////////////\n        /droid .+?; ([^;]+?)(?: bui|; wv\\)|\\) applew).+?(mobile|vr|\\d) safari/i\n      ],\n      [MODEL, [TYPE, strMapper, { \"mobile\": \"Mobile\", \"xr\": \"VR\", \"*\": TABLET }]],\n      [\n        /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i\n        // Unidentifiable Tablet\n      ],\n      [[TYPE, TABLET]],\n      [\n        /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i\n        // Unidentifiable Mobile\n      ],\n      [[TYPE, MOBILE]],\n      [\n        /droid .+?; ([\\w\\. -]+)( bui|\\))/i\n        // Generic Android Device\n      ],\n      [MODEL, [VENDOR, \"Generic\"]]\n    ],\n    engine: [\n      [\n        /windows.+ edge\\/([\\w\\.]+)/i\n        // EdgeHTML\n      ],\n      [VERSION, [NAME, EDGE + \"HTML\"]],\n      [\n        /(arkweb)\\/([\\w\\.]+)/i\n        // ArkWeb\n      ],\n      [NAME, VERSION],\n      [\n        /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i\n        // Blink\n      ],\n      [VERSION, [NAME, \"Blink\"]],\n      [\n        /(presto)\\/([\\w\\.]+)/i,\n        // Presto\n        /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\\/([\\w\\.]+)/i,\n        // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna/Servo\n        /ekioh(flow)\\/([\\w\\.]+)/i,\n        // Flow\n        /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,\n        // KHTML/Tasman/Links\n        /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,\n        // iCab\n        /\\b(libweb)/i\n        // LibWeb\n      ],\n      [NAME, VERSION],\n      [\n        /ladybird\\//i\n      ],\n      [[NAME, \"LibWeb\"]],\n      [\n        /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i\n        // Gecko\n      ],\n      [VERSION, NAME]\n    ],\n    os: [\n      [\n        // Windows\n        /microsoft (windows) (vista|xp)/i\n        // Windows (iTunes)\n      ],\n      [NAME, VERSION],\n      [\n        /(windows (?:phone(?: os)?|mobile|iot))[\\/ ]?([\\d\\.\\w ]*)/i\n        // Windows Phone\n      ],\n      [NAME, [VERSION, strMapper, windowsVersionMap]],\n      [\n        /windows nt 6\\.2; (arm)/i,\n        // Windows RT\n        /windows[\\/ ]([ntce\\d\\. ]+\\w)(?!.+xbox)/i,\n        /(?:win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n      ],\n      [[VERSION, strMapper, windowsVersionMap], [NAME, WINDOWS]],\n      [\n        // iOS/macOS\n        /[adehimnop]{4,7}\\b(?:.*os ([\\w]+) like mac|; opera)/i,\n        // iOS\n        /(?:ios;fbsv\\/|iphone.+ios[\\/ ])([\\d\\.]+)/i,\n        /cfnetwork\\/.+darwin/i\n      ],\n      [[VERSION, /_/g, \".\"], [NAME, \"iOS\"]],\n      [\n        /(mac os x) ?([\\w\\. ]*)/i,\n        /(macintosh|mac_powerpc\\b)(?!.+haiku)/i\n        // Mac OS\n      ],\n      [[NAME, \"macOS\"], [VERSION, /_/g, \".\"]],\n      [\n        // Google Chromecast\n        /android ([\\d\\.]+).*crkey/i\n        // Google Chromecast, Android-based\n      ],\n      [VERSION, [NAME, CHROMECAST + \" Android\"]],\n      [\n        /fuchsia.*crkey\\/([\\d\\.]+)/i\n        // Google Chromecast, Fuchsia-based\n      ],\n      [VERSION, [NAME, CHROMECAST + \" Fuchsia\"]],\n      [\n        /crkey\\/([\\d\\.]+).*devicetype\\/smartspeaker/i\n        // Google Chromecast, Linux-based Smart Speaker\n      ],\n      [VERSION, [NAME, CHROMECAST + \" SmartSpeaker\"]],\n      [\n        /linux.*crkey\\/([\\d\\.]+)/i\n        // Google Chromecast, Legacy Linux-based\n      ],\n      [VERSION, [NAME, CHROMECAST + \" Linux\"]],\n      [\n        /crkey\\/([\\d\\.]+)/i\n        // Google Chromecast, unknown\n      ],\n      [VERSION, [NAME, CHROMECAST]],\n      [\n        // Mobile OSes\n        /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i\n        // Android-x86/HarmonyOS\n      ],\n      [VERSION, NAME],\n      [\n        /(ubuntu) ([\\w\\.]+) like android/i\n        // Ubuntu Touch\n      ],\n      [[NAME, /(.+)/, \"$1 Touch\"], VERSION],\n      [\n        // Android/Blackberry/WebOS/QNX/Bada/RIM/KaiOS/Maemo/MeeGo/S40/Sailfish OS/OpenHarmony/Tizen\n        /(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\\w*[-\\/\\.; ]?([\\d\\.]*)/i\n      ],\n      [NAME, VERSION],\n      [\n        /\\(bb(10);/i\n        // BlackBerry 10\n      ],\n      [VERSION, [NAME, BLACKBERRY]],\n      [\n        /(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\\/ ]?([\\w\\.]*)/i\n        // Symbian\n      ],\n      [VERSION, [NAME, \"Symbian\"]],\n      [\n        /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i\n        // Firefox OS\n      ],\n      [VERSION, [NAME, FIREFOX + \" OS\"]],\n      [\n        /web0s;.+rt(tv)/i,\n        /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i\n        // WebOS\n      ],\n      [VERSION, [NAME, \"webOS\"]],\n      [\n        /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i\n        // watchOS\n      ],\n      [VERSION, [NAME, \"watchOS\"]],\n      [\n        // Google ChromeOS\n        /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i\n        // Chromium OS\n      ],\n      [[NAME, \"Chrome OS\"], VERSION],\n      [\n        // Smart TVs\n        /panasonic;(viera)/i,\n        // Panasonic Viera\n        /(netrange)mmh/i,\n        // Netrange\n        /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,\n        // NetTV\n        // Console\n        /(nintendo|playstation) (\\w+)/i,\n        // Nintendo/Playstation\n        /(xbox); +xbox ([^\\);]+)/i,\n        // Microsoft Xbox (360, One, X, S, Series X, Series S)\n        /(pico) .+os([\\w\\.]+)/i,\n        // Pico\n        // Other\n        /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,\n        // Joli/Palm\n        /(mint)[\\/\\(\\) ]?(\\w*)/i,\n        // Mint\n        /(mageia|vectorlinux)[; ]/i,\n        // Mageia/VectorLinux\n        /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n        // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n        /(hurd|linux)(?: arm\\w*| x86\\w*| ?)([\\w\\.]*)/i,\n        // Hurd/Linux\n        /(gnu) ?([\\w\\.]*)/i,\n        // GNU\n        /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,\n        // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n        /(haiku) (\\w+)/i\n        // Haiku\n      ],\n      [NAME, VERSION],\n      [\n        /(sunos) ?([\\w\\.\\d]*)/i\n        // Solaris\n      ],\n      [[NAME, \"Solaris\"], VERSION],\n      [\n        /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,\n        // Solaris\n        /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,\n        // AIX\n        /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,\n        // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n        /(unix) ?([\\w\\.]*)/i\n        // UNIX\n      ],\n      [NAME, VERSION]\n    ]\n  };\n  var defaultProps = function() {\n    var props = { init: {}, isIgnore: {}, isIgnoreRgx: {}, toString: {} };\n    setProps.call(props.init, [\n      [UA_BROWSER, [NAME, VERSION, MAJOR, TYPE]],\n      [UA_CPU, [ARCHITECTURE]],\n      [UA_DEVICE, [TYPE, MODEL, VENDOR]],\n      [UA_ENGINE, [NAME, VERSION]],\n      [UA_OS, [NAME, VERSION]]\n    ]);\n    setProps.call(props.isIgnore, [\n      [UA_BROWSER, [VERSION, MAJOR]],\n      [UA_ENGINE, [VERSION]],\n      [UA_OS, [VERSION]]\n    ]);\n    setProps.call(props.isIgnoreRgx, [\n      [UA_BROWSER, / ?browser$/i],\n      [UA_OS, / ?os$/i]\n    ]);\n    setProps.call(props.toString, [\n      [UA_BROWSER, [NAME, VERSION]],\n      [UA_CPU, [ARCHITECTURE]],\n      [UA_DEVICE, [VENDOR, MODEL]],\n      [UA_ENGINE, [NAME, VERSION]],\n      [UA_OS, [NAME, VERSION]]\n    ]);\n    return props;\n  }();\n  var createIData = function(item, itemType) {\n    var init_props = defaultProps.init[itemType], is_ignoreProps = defaultProps.isIgnore[itemType] || 0, is_ignoreRgx = defaultProps.isIgnoreRgx[itemType] || 0, toString_props = defaultProps.toString[itemType] || 0;\n    function IData() {\n      setProps.call(this, init_props);\n    }\n    IData.prototype.getItem = function() {\n      return item;\n    };\n    IData.prototype.withClientHints = function() {\n      if (!NAVIGATOR_UADATA) {\n        return item.parseCH().get();\n      }\n      return NAVIGATOR_UADATA.getHighEntropyValues(CH_ALL_VALUES).then(function(res) {\n        return item.setCH(new UACHData(res, false)).parseCH().get();\n      });\n    };\n    IData.prototype.withFeatureCheck = function() {\n      return item.detectFeature().get();\n    };\n    if (itemType != UA_RESULT) {\n      IData.prototype.is = function(strToCheck) {\n        var is = false;\n        for (var i2 in this) {\n          if (this.hasOwnProperty(i2) && !has(is_ignoreProps, i2) && lowerize(is_ignoreRgx ? strip(is_ignoreRgx, this[i2]) : this[i2]) == lowerize(is_ignoreRgx ? strip(is_ignoreRgx, strToCheck) : strToCheck)) {\n            is = true;\n            if (strToCheck != UNDEF_TYPE) break;\n          } else if (strToCheck == UNDEF_TYPE && is) {\n            is = !is;\n            break;\n          }\n        }\n        return is;\n      };\n      IData.prototype.toString = function() {\n        var str = EMPTY;\n        for (var i2 in toString_props) {\n          if (typeof this[toString_props[i2]] !== UNDEF_TYPE) {\n            str += (str ? \" \" : EMPTY) + this[toString_props[i2]];\n          }\n        }\n        return str || UNDEF_TYPE;\n      };\n    }\n    if (!NAVIGATOR_UADATA) {\n      IData.prototype.then = function(cb) {\n        var that = this;\n        var IDataResolve = function() {\n          for (var prop in that) {\n            if (that.hasOwnProperty(prop)) {\n              this[prop] = that[prop];\n            }\n          }\n        };\n        IDataResolve.prototype = {\n          is: IData.prototype.is,\n          toString: IData.prototype.toString\n        };\n        var resolveData = new IDataResolve();\n        cb(resolveData);\n        return resolveData;\n      };\n    }\n    return new IData();\n  };\n  function UACHData(uach, isHttpUACH) {\n    uach = uach || {};\n    setProps.call(this, CH_ALL_VALUES);\n    if (isHttpUACH) {\n      setProps.call(this, [\n        [BRANDS, itemListToArray(uach[CH_HEADER])],\n        [FULLVERLIST, itemListToArray(uach[CH_HEADER_FULL_VER_LIST])],\n        [MOBILE, /\\?1/.test(uach[CH_HEADER_MOBILE])],\n        [MODEL, stripQuotes(uach[CH_HEADER_MODEL])],\n        [PLATFORM, stripQuotes(uach[CH_HEADER_PLATFORM])],\n        [PLATFORMVER, stripQuotes(uach[CH_HEADER_PLATFORM_VER])],\n        [ARCHITECTURE, stripQuotes(uach[CH_HEADER_ARCH])],\n        [FORMFACTORS, itemListToArray(uach[CH_HEADER_FORM_FACTORS])],\n        [BITNESS, stripQuotes(uach[CH_HEADER_BITNESS])]\n      ]);\n    } else {\n      for (var prop in uach) {\n        if (this.hasOwnProperty(prop) && typeof uach[prop] !== UNDEF_TYPE) this[prop] = uach[prop];\n      }\n    }\n  }\n  function UAItem(itemType, ua, rgxMap, uaCH) {\n    this.get = function(prop) {\n      if (!prop) return this.data;\n      return this.data.hasOwnProperty(prop) ? this.data[prop] : void 0;\n    };\n    this.set = function(prop, val) {\n      this.data[prop] = val;\n      return this;\n    };\n    this.setCH = function(ch) {\n      this.uaCH = ch;\n      return this;\n    };\n    this.detectFeature = function() {\n      if (NAVIGATOR && NAVIGATOR.userAgent == this.ua) {\n        switch (this.itemType) {\n          case UA_BROWSER:\n            if (NAVIGATOR.brave && typeof NAVIGATOR.brave.isBrave == FUNC_TYPE) {\n              this.set(NAME, \"Brave\");\n            }\n            break;\n          case UA_DEVICE:\n            if (!this.get(TYPE) && NAVIGATOR_UADATA && NAVIGATOR_UADATA[MOBILE]) {\n              this.set(TYPE, MOBILE);\n            }\n            if (this.get(MODEL) == \"Macintosh\" && NAVIGATOR && typeof NAVIGATOR.standalone !== UNDEF_TYPE && NAVIGATOR.maxTouchPoints && NAVIGATOR.maxTouchPoints > 2) {\n              this.set(MODEL, \"iPad\").set(TYPE, TABLET);\n            }\n            break;\n          case UA_OS:\n            if (!this.get(NAME) && NAVIGATOR_UADATA && NAVIGATOR_UADATA[PLATFORM]) {\n              this.set(NAME, NAVIGATOR_UADATA[PLATFORM]);\n            }\n            break;\n          case UA_RESULT:\n            var data = this.data;\n            var detect = function(itemType2) {\n              return data[itemType2].getItem().detectFeature().get();\n            };\n            this.set(UA_BROWSER, detect(UA_BROWSER)).set(UA_CPU, detect(UA_CPU)).set(UA_DEVICE, detect(UA_DEVICE)).set(UA_ENGINE, detect(UA_ENGINE)).set(UA_OS, detect(UA_OS));\n        }\n      }\n      return this;\n    };\n    this.parseUA = function() {\n      if (this.itemType != UA_RESULT) {\n        rgxMapper.call(this.data, this.ua, this.rgxMap);\n      }\n      if (this.itemType == UA_BROWSER) {\n        this.set(MAJOR, majorize(this.get(VERSION)));\n      }\n      return this;\n    };\n    this.parseCH = function() {\n      var uaCH2 = this.uaCH, rgxMap2 = this.rgxMap;\n      switch (this.itemType) {\n        case UA_BROWSER:\n        case UA_ENGINE:\n          var brands = uaCH2[FULLVERLIST] || uaCH2[BRANDS], prevName;\n          if (brands) {\n            for (var i2 in brands) {\n              var brandName = brands[i2].brand || brands[i2], brandVersion = brands[i2].version;\n              if (this.itemType == UA_BROWSER && !/not.a.brand/i.test(brandName) && (!prevName || /chrom/i.test(prevName) && brandName != CHROMIUM)) {\n                brandName = strMapper(brandName, {\n                  \"Chrome\": \"Google Chrome\",\n                  \"Edge\": \"Microsoft Edge\",\n                  \"Chrome WebView\": \"Android WebView\",\n                  \"Chrome Headless\": \"HeadlessChrome\",\n                  \"Huawei Browser\": \"HuaweiBrowser\",\n                  \"MIUI Browser\": \"Miui Browser\",\n                  \"Opera Mobi\": \"OperaMobile\",\n                  \"Yandex\": \"YaBrowser\"\n                });\n                this.set(NAME, brandName).set(VERSION, brandVersion).set(MAJOR, majorize(brandVersion));\n                prevName = brandName;\n              }\n              if (this.itemType == UA_ENGINE && brandName == CHROMIUM) {\n                this.set(VERSION, brandVersion);\n              }\n            }\n          }\n          break;\n        case UA_CPU:\n          var archName = uaCH2[ARCHITECTURE];\n          if (archName) {\n            if (archName && uaCH2[BITNESS] == \"64\") archName += \"64\";\n            rgxMapper.call(this.data, archName + \";\", rgxMap2);\n          }\n          break;\n        case UA_DEVICE:\n          if (uaCH2[MOBILE]) {\n            this.set(TYPE, MOBILE);\n          }\n          if (uaCH2[MODEL]) {\n            this.set(MODEL, uaCH2[MODEL]);\n            if (!this.get(TYPE) || !this.get(VENDOR)) {\n              var reParse = {};\n              rgxMapper.call(reParse, \"droid 9; \" + uaCH2[MODEL] + \")\", rgxMap2);\n              if (!this.get(TYPE) && !!reParse.type) {\n                this.set(TYPE, reParse.type);\n              }\n              if (!this.get(VENDOR) && !!reParse.vendor) {\n                this.set(VENDOR, reParse.vendor);\n              }\n            }\n          }\n          if (uaCH2[FORMFACTORS]) {\n            var ff;\n            if (typeof uaCH2[FORMFACTORS] !== \"string\") {\n              var idx = 0;\n              while (!ff && idx < uaCH2[FORMFACTORS].length) {\n                ff = strMapper(uaCH2[FORMFACTORS][idx++], formFactorsMap);\n              }\n            } else {\n              ff = strMapper(uaCH2[FORMFACTORS], formFactorsMap);\n            }\n            this.set(TYPE, ff);\n          }\n          break;\n        case UA_OS:\n          var osName = uaCH2[PLATFORM];\n          if (osName) {\n            var osVersion = uaCH2[PLATFORMVER];\n            if (osName == WINDOWS) osVersion = parseInt(majorize(osVersion), 10) >= 13 ? \"11\" : \"10\";\n            this.set(NAME, osName).set(VERSION, osVersion);\n          }\n          if (this.get(NAME) == WINDOWS && uaCH2[MODEL] == \"Xbox\") {\n            this.set(NAME, \"Xbox\").set(VERSION, void 0);\n          }\n          break;\n        case UA_RESULT:\n          var data = this.data;\n          var parse = function(itemType2) {\n            return data[itemType2].getItem().setCH(uaCH2).parseCH().get();\n          };\n          this.set(UA_BROWSER, parse(UA_BROWSER)).set(UA_CPU, parse(UA_CPU)).set(UA_DEVICE, parse(UA_DEVICE)).set(UA_ENGINE, parse(UA_ENGINE)).set(UA_OS, parse(UA_OS));\n      }\n      return this;\n    };\n    setProps.call(this, [\n      [\"itemType\", itemType],\n      [\"ua\", ua],\n      [\"uaCH\", uaCH],\n      [\"rgxMap\", rgxMap],\n      [\"data\", createIData(this, itemType)]\n    ]);\n    return this;\n  }\n  function UAParser(ua, extensions, headers) {\n    if (typeof ua === OBJ_TYPE) {\n      if (isExtensions(ua, true)) {\n        if (typeof extensions === OBJ_TYPE) {\n          headers = extensions;\n        }\n        extensions = ua;\n      } else {\n        headers = ua;\n        extensions = void 0;\n      }\n      ua = void 0;\n    } else if (typeof ua === STR_TYPE && !isExtensions(extensions, true)) {\n      headers = extensions;\n      extensions = void 0;\n    }\n    if (headers && typeof headers.append === FUNC_TYPE) {\n      var kv = {};\n      headers.forEach(function(v2, k2) {\n        kv[k2] = v2;\n      });\n      headers = kv;\n    }\n    if (!(this instanceof UAParser)) {\n      return new UAParser(ua, extensions, headers).getResult();\n    }\n    var userAgent = typeof ua === STR_TYPE ? ua : (\n      // Passed user-agent string\n      headers && headers[USER_AGENT] ? headers[USER_AGENT] : (\n        // User-Agent from passed headers\n        NAVIGATOR && NAVIGATOR.userAgent ? NAVIGATOR.userAgent : (\n          // navigator.userAgent\n          EMPTY\n        )\n      )\n    ), httpUACH = new UACHData(headers, true), regexMap = extensions ? extend(defaultRegexes, extensions) : defaultRegexes, createItemFunc = function(itemType) {\n      if (itemType == UA_RESULT) {\n        return function() {\n          return new UAItem(itemType, userAgent, regexMap, httpUACH).set(\"ua\", userAgent).set(UA_BROWSER, this.getBrowser()).set(UA_CPU, this.getCPU()).set(UA_DEVICE, this.getDevice()).set(UA_ENGINE, this.getEngine()).set(UA_OS, this.getOS()).get();\n        };\n      } else {\n        return function() {\n          return new UAItem(itemType, userAgent, regexMap[itemType], httpUACH).parseUA().get();\n        };\n      }\n    };\n    setProps.call(this, [\n      [\"getBrowser\", createItemFunc(UA_BROWSER)],\n      [\"getCPU\", createItemFunc(UA_CPU)],\n      [\"getDevice\", createItemFunc(UA_DEVICE)],\n      [\"getEngine\", createItemFunc(UA_ENGINE)],\n      [\"getOS\", createItemFunc(UA_OS)],\n      [\"getResult\", createItemFunc(UA_RESULT)],\n      [\"getUA\", function() {\n        return userAgent;\n      }],\n      [\"setUA\", function(ua2) {\n        if (isString(ua2))\n          userAgent = ua2.length > UA_MAX_LENGTH ? trim(ua2, UA_MAX_LENGTH) : ua2;\n        return this;\n      }]\n    ]).setUA(userAgent);\n    return this;\n  }\n  UAParser.VERSION = LIBVERSION;\n  UAParser.BROWSER = enumerize([NAME, VERSION, MAJOR, TYPE]);\n  UAParser.CPU = enumerize([ARCHITECTURE]);\n  UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n  UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n  const useBrowserInfo = () => {\n    const browserInfo = T$5(() => {\n      {\n        const parser = new UAParser();\n        const result = parser.getResult();\n        return {\n          browser: result.browser,\n          engine: result.engine,\n          os: result.os,\n          device: result.device,\n          cpu: result.cpu\n        };\n      }\n    }, []);\n    return browserInfo;\n  };\n  function useHotkeyListenerComboText(action) {\n    const userAgent = useBrowserInfo();\n    return userAgent.os.name.toLowerCase().includes(\"mac\") ? hotkeyActionDefinitions[action].keyComboMac : hotkeyActionDefinitions[action].keyComboDefault;\n  }\n  function ChatBox() {\n    const chatState = useChatState();\n    const currentChat = T$5(\n      () => chatState.chats.find((c2) => c2.id === chatState.currentChatId),\n      [chatState.chats, chatState.currentChatId]\n    );\n    const currentInput = T$5(\n      () => (currentChat == null ? void 0 : currentChat.inputValue) || \"\",\n      [currentChat == null ? void 0 : currentChat.inputValue]\n    );\n    const showBigBox = T$5(() => {\n      return currentInput.split(\"\\n\").length > 1 || currentInput.length > 30;\n    }, [currentInput]);\n    const handleInputChange = q$3(\n      (value) => {\n        chatState.setChatInput(chatState.currentChatId, value);\n      },\n      [chatState.setChatInput, chatState.currentChatId]\n    );\n    const handleSubmit = q$3(() => {\n      if (!currentChat || !currentInput.trim()) return;\n      chatState.addMessage(currentChat.id, currentInput);\n    }, [currentChat, currentInput, chatState.addMessage]);\n    const handleKeyDown = q$3(\n      (e2) => {\n        if (e2.key === \"Enter\" && !e2.shiftKey) {\n          e2.preventDefault();\n          handleSubmit();\n        }\n      },\n      [handleSubmit]\n    );\n    const inputRef = A$3(null);\n    y$6(() => {\n      var _a, _b, _c;\n      const blurHandler = () => {\n        var _a2;\n        return (_a2 = inputRef.current) == null ? void 0 : _a2.focus();\n      };\n      if (chatState.isPromptCreationActive) {\n        (_a = inputRef.current) == null ? void 0 : _a.focus();\n        (_b = inputRef.current) == null ? void 0 : _b.addEventListener(\"blur\", blurHandler);\n      } else {\n        (_c = inputRef.current) == null ? void 0 : _c.blur();\n      }\n      return () => {\n        var _a2;\n        (_a2 = inputRef.current) == null ? void 0 : _a2.removeEventListener(\"blur\", blurHandler);\n      };\n    }, [chatState.isPromptCreationActive]);\n    const buttonClassName = T$5(\n      () => cn(\n        \"flex size-6 items-center justify-center rounded-full bg-transparent p-1 text-zinc-950 opacity-20\",\n        currentInput.length > 0 && \"bg-blue-600 text-white opacity-100\"\n      ),\n      [currentInput.length]\n    );\n    const textareaClassName = T$5(\n      () => cn(\n        \"w-full flex-1 resize-none bg-transparent text-zinc-950 placeholder:text-zinc-950/50 focus:outline-none\",\n        showBigBox ? \"h-[4.5em]\" : \"h-6\"\n      ),\n      [showBigBox]\n    );\n    const ctrlAltCText = useHotkeyListenerComboText(HotkeyActions.CTRL_ALT_C);\n    return /* @__PURE__ */ u$9(\n      \"div\",\n      {\n        className: cn(\n          \"flex h-fit w-80 flex-1 flex-row items-end gap-1 rounded-2xl border border-border/10 bg-zinc-950/5 p-1.5 pl-2 text-sm text-zinc-950 shadow-inner transition-all duration-150 placeholder:text-zinc-950/70\",\n          chatState.isPromptCreationActive && \"ring-2 ring-blue-600\"\n        ),\n        onClick: () => chatState.startPromptCreation(),\n        role: \"button\",\n        tabIndex: 0,\n        children: [\n          /* @__PURE__ */ u$9(\n            J,\n            {\n              ref: inputRef,\n              className: textareaClassName,\n              rows: showBigBox ? 4 : 1,\n              value: currentInput,\n              onChange: (e2) => handleInputChange(e2.currentTarget.value),\n              onKeyDown: handleKeyDown,\n              placeholder: chatState.isPromptCreationActive ? \"Enter prompt...\" : `What do you want to change? (${ctrlAltCText})`\n            }\n          ),\n          /* @__PURE__ */ u$9(\n            H$3,\n            {\n              className: buttonClassName,\n              disabled: currentInput.length === 0,\n              onClick: handleSubmit,\n              children: /* @__PURE__ */ u$9(Send, { className: \"size-3\" })\n            }\n          )\n        ]\n      }\n    );\n  }\n  const DropdownMenu = to;\n  const DropdownMenuButton = D$1(\n    (props, ref) => {\n      return /* @__PURE__ */ u$9(mt, { as: k$3, ref, ...props });\n    }\n  );\n  const DropdownMenuContent = D$1(\n    (props, ref) => {\n      return /* @__PURE__ */ u$9(\n        Tt,\n        {\n          ref,\n          anchor: \"bottom\",\n          transition: true,\n          portal: true,\n          ...props,\n          className: cn(\n            \"z-50 flex w-fit min-w-24 max-w-90 flex-col items-stretch justify-start gap-1 rounded-lg border border-border/30 border-solid bg-background/60 p-1 shadow-black/50 shadow-lg outline-none backdrop-blur-md data-focus:outline-none\",\n            props.className\n          )\n        }\n      );\n    }\n  );\n  const DropdownMenuItemStyles = \"w-full flex flex-row select-none items-center justify-start gap-2 p-2 pr-6 truncate overflow-hidden rounded-md hover:bg-zinc-950/10 focus:text-zinc-900 cursor-pointer transition-color duration-150 text-sm font-normal text-foreground\";\n  const DropdownMenuButttonItem = D$1(\n    (props, ref) => {\n      return /* @__PURE__ */ u$9(ft, { ref, children: /* @__PURE__ */ u$9(\n        H$3,\n        {\n          ...props,\n          className: cn(DropdownMenuItemStyles, props.className)\n        }\n      ) });\n    }\n  );\n  D$1(\n    (props, ref) => {\n      return /* @__PURE__ */ u$9(ft, { ref, children: /* @__PURE__ */ u$9(\"a\", { ...props, className: cn(DropdownMenuItemStyles, props.className) }) });\n    }\n  );\n  function ToolbarItem(props) {\n    return /* @__PURE__ */ u$9(\"div\", { className: \"flex h-full shrink-0 items-center justify-center\", children: [\n      props.children,\n      props.badgeContent && /* @__PURE__ */ u$9(\n        \"div\",\n        {\n          className: cn(\n            \"bg-blue-600 text-white\",\n            props.badgeClassName,\n            \"-bottom-0.5 -right-1 pointer-events-none absolute flex h-4 w-max min-w-4 max-w-8 select-none items-center justify-center truncate rounded-full px-1 font-semibold text-xs\"\n          ),\n          children: props.badgeContent\n        }\n      ),\n      props.statusDot && /* @__PURE__ */ u$9(\n        \"div\",\n        {\n          className: cn(\n            \"bg-rose-600\",\n            props.statusDotClassName,\n            \"pointer-events-none absolute top-0 right-0 size-1.5 rounded-full\"\n          )\n        }\n      )\n    ] });\n  }\n  const ToolbarButton = D$1(\n    ({\n      badgeContent,\n      badgeClassName,\n      statusDot,\n      statusDotClassName,\n      tooltipHint,\n      variant = \"default\",\n      ...props\n    }, ref) => {\n      const button = /* @__PURE__ */ u$9(\n        H$3,\n        {\n          ref,\n          ...props,\n          className: cn(\n            \"flex items-center justify-center rounded-full p-1 text-zinc-950 hover:bg-zinc-950/5\",\n            variant === \"default\" ? \"size-8\" : \"h-8 rounded-full\"\n          )\n        }\n      );\n      return /* @__PURE__ */ u$9(\n        ToolbarItem,\n        {\n          badgeContent,\n          badgeClassName,\n          statusDot,\n          statusDotClassName,\n          children: button\n        }\n      );\n    }\n  );\n  ToolbarButton.displayName = \"ToolbarButton\";\n  function ToolbarSection({ children }) {\n    return /* @__PURE__ */ u$9(\"div\", { className: \"fade-in slide-in-from-bottom-2 flex max-h-full max-w-sm animate-in snap-start flex-row items-center justify-between gap-2 border-x border-r-border/30 border-l-transparent px-3 first:pl-0 last:border-r-transparent last:pr-0\", children });\n  }\n  function MoreActionsButton() {\n    const minimizeCompanion = useAppState((state) => state.minimize);\n    const plugins = usePlugins();\n    const pluginTools = T$5(() => {\n      return plugins.flatMap((plugin) => plugin.actions);\n    }, [plugins]);\n    return /* @__PURE__ */ u$9(ToolbarSection, { children: /* @__PURE__ */ u$9(DropdownMenu, { children: [\n      /* @__PURE__ */ u$9(DropdownMenuButton, { children: /* @__PURE__ */ u$9(ToolbarButton, { children: /* @__PURE__ */ u$9(Ellipsis, { className: \"size-4\" }) }) }),\n      /* @__PURE__ */ u$9(DropdownMenuContent, { children: [\n        pluginTools.map((tool) => /* @__PURE__ */ u$9(DropdownMenuButttonItem, { onClick: tool.execute, children: tool.name })),\n        /* @__PURE__ */ u$9(DropdownMenuButttonItem, { onClick: minimizeCompanion, children: [\n          /* @__PURE__ */ u$9(Minimize2, { className: \"size-4\" }),\n          \"Minimize companion\"\n        ] })\n      ] })\n    ] }) });\n  }\n  const DraggableContext = K$3(\n    null\n  );\n  const DraggableProvider = ({\n    containerRef,\n    children,\n    snapAreas,\n    onDragStart,\n    onDragEnd\n  }) => {\n    const [borderLocation, setBorderLocation] = d$4({\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0\n    });\n    const dragStartListeners = A$3(/* @__PURE__ */ new Set());\n    const dragEndListeners = A$3(/* @__PURE__ */ new Set());\n    const registerDragStart = q$3((cb) => {\n      dragStartListeners.current.add(cb);\n      return () => dragStartListeners.current.delete(cb);\n    }, []);\n    const registerDragEnd = q$3((cb) => {\n      dragEndListeners.current.add(cb);\n      return () => dragEndListeners.current.delete(cb);\n    }, []);\n    const emitDragStart = q$3(() => {\n      if (onDragStart) onDragStart();\n      dragStartListeners.current.forEach((cb) => cb());\n    }, [onDragStart]);\n    const emitDragEnd = q$3(() => {\n      if (onDragEnd) onDragEnd();\n      dragEndListeners.current.forEach((cb) => cb());\n    }, [onDragEnd]);\n    const contextValue = {\n      borderLocation,\n      snapAreas,\n      registerDragStart,\n      registerDragEnd,\n      emitDragStart,\n      emitDragEnd\n    };\n    y$6(() => {\n      if (!containerRef.current) return;\n      const updateBorderLocation = () => {\n        const rect = containerRef.current.getBoundingClientRect();\n        setBorderLocation({\n          top: rect.top,\n          left: rect.left,\n          right: rect.right,\n          bottom: rect.bottom\n        });\n      };\n      updateBorderLocation();\n      const resizeObserver = new ResizeObserver(updateBorderLocation);\n      resizeObserver.observe(containerRef.current);\n      const handleScroll = () => {\n        requestAnimationFrame(updateBorderLocation);\n      };\n      window.addEventListener(\"scroll\", handleScroll, true);\n      let parent = containerRef.current.parentElement;\n      while (parent) {\n        parent.addEventListener(\"scroll\", handleScroll);\n        parent = parent.parentElement;\n      }\n      return () => {\n        var _a;\n        resizeObserver.disconnect();\n        window.removeEventListener(\"scroll\", handleScroll, true);\n        parent = (_a = containerRef.current) == null ? void 0 : _a.parentElement;\n        while (parent) {\n          parent.removeEventListener(\"scroll\", handleScroll);\n          parent = parent.parentElement;\n        }\n      };\n    }, [containerRef]);\n    return /* @__PURE__ */ u$9(DraggableContext.Provider, { value: contextValue, children });\n  };\n  function useDraggable(config) {\n    const providerData = x$4(DraggableContext);\n    const latestProviderDataRef = A$3(providerData);\n    y$6(() => {\n      latestProviderDataRef.current = providerData;\n    }, [providerData]);\n    const movingElementRef = A$3(null);\n    const dragInitiatorRef = A$3(null);\n    const [movingElementNode, setMovingElementNode] = d$4(null);\n    const [dragInitiatorNode, setDragInitiatorNode] = d$4(null);\n    const mouseToDraggableCenterOffsetRef = A$3(null);\n    const mouseDownPosRef = A$3(null);\n    const currentMousePosRef = A$3(null);\n    const isDraggingRef = A$3(false);\n    const persistedRelativeCenterRef = A$3(config.initialRelativeCenter);\n    const [currentSnapArea, setCurrentSnapArea] = d$4(null);\n    const {\n      startThreshold = 3,\n      areaSnapThreshold = 60,\n      // px, default threshold for snapping\n      onDragStart,\n      onDragEnd,\n      initialSnapArea,\n      springStiffness = 0.3,\n      // Default spring stiffness\n      springDampness = 0.5\n      // Default spring dampness\n      // initialRelativeCenter is used to initialize persistedRelativeCenterRef\n    } = config;\n    const animatedPositionRef = A$3(null);\n    const velocityRef = A$3({ x: 0, y: 0 });\n    const hasAnimatedOnceRef = A$3(false);\n    y$6(() => {\n      if (initialSnapArea && providerData && providerData.borderLocation && providerData.snapAreas && providerData.snapAreas[initialSnapArea] && !isDraggingRef.current) {\n        const { top, left, right, bottom } = providerData.borderLocation;\n        const width = right - left;\n        const height = bottom - top;\n        const areaCenters = {\n          topLeft: { x: left, y: top },\n          topCenter: { x: left + width / 2, y: top },\n          topRight: { x: right, y: top },\n          centerLeft: { x: left, y: top + height / 2 },\n          center: { x: left + width / 2, y: top + height / 2 },\n          centerRight: { x: right, y: top + height / 2 },\n          bottomLeft: { x: left, y: bottom },\n          bottomCenter: { x: left + width / 2, y: bottom },\n          bottomRight: { x: right, y: bottom }\n        };\n        const center = areaCenters[initialSnapArea];\n        if (center && window.innerWidth > 0 && window.innerHeight > 0) {\n          const relX = (center.x - left) / (right - left);\n          const relY = (center.y - top) / (bottom - top);\n          persistedRelativeCenterRef.current = { x: relX, y: relY };\n        }\n      }\n    }, [initialSnapArea, providerData]);\n    function getSnapAreaCenters(borderLocation) {\n      const { top, left, right, bottom } = borderLocation;\n      const width = right - left;\n      const height = bottom - top;\n      return {\n        topLeft: { x: left, y: top },\n        topCenter: { x: left + width / 2, y: top },\n        topRight: { x: right, y: top },\n        centerLeft: { x: left, y: top + height / 2 },\n        center: { x: left + width / 2, y: top + height / 2 },\n        centerRight: { x: right, y: top + height / 2 },\n        bottomLeft: { x: left, y: bottom },\n        bottomCenter: { x: left + width / 2, y: bottom },\n        bottomRight: { x: right, y: bottom }\n      };\n    }\n    const updateDraggablePosition = q$3(() => {\n      var _a, _b;\n      const draggableEl = movingElementRef.current;\n      if (!draggableEl) return;\n      const draggableWidth = draggableEl.offsetWidth;\n      const draggableHeight = draggableEl.offsetHeight;\n      const offsetParent = draggableEl.offsetParent;\n      let parentViewportLeft = 0;\n      let parentViewportTop = 0;\n      let parentWidth = window.innerWidth;\n      let parentHeight = window.innerHeight;\n      if (offsetParent) {\n        const opRect = offsetParent.getBoundingClientRect();\n        parentViewportLeft = opRect.left;\n        parentViewportTop = opRect.top;\n        parentWidth = offsetParent.offsetWidth || window.innerWidth;\n        parentHeight = offsetParent.offsetHeight || window.innerHeight;\n      }\n      let targetViewportCenterX = null;\n      let targetViewportCenterY = null;\n      const currentDesiredRelativeCenter = persistedRelativeCenterRef.current;\n      let snapArea = null;\n      let snapTarget = null;\n      const provider = latestProviderDataRef.current;\n      if (isDraggingRef.current && mouseToDraggableCenterOffsetRef.current && currentMousePosRef.current && provider && provider.borderLocation && provider.snapAreas) {\n        const dragCenter = {\n          x: currentMousePosRef.current.x - mouseToDraggableCenterOffsetRef.current.x,\n          y: currentMousePosRef.current.y - mouseToDraggableCenterOffsetRef.current.y\n        };\n        const areaCenters = getSnapAreaCenters(provider.borderLocation);\n        let minDist = Number.POSITIVE_INFINITY;\n        let closestArea = null;\n        let closestCenter = null;\n        for (const area in provider.snapAreas) {\n          if (provider.snapAreas[area]) {\n            const center = areaCenters[area];\n            if (!center) continue;\n            const dist = Math.hypot(\n              center.x - dragCenter.x,\n              center.y - dragCenter.y\n            );\n            if (dist < minDist) {\n              minDist = dist;\n              closestArea = area;\n              closestCenter = center;\n            }\n          }\n        }\n        if (closestArea && closestCenter && minDist <= areaSnapThreshold) {\n          snapArea = closestArea;\n          snapTarget = closestCenter;\n        }\n      }\n      if (isDraggingRef.current && snapTarget) {\n        targetViewportCenterX = snapTarget.x;\n        targetViewportCenterY = snapTarget.y;\n        setCurrentSnapArea(snapArea);\n      } else if (isDraggingRef.current && mouseToDraggableCenterOffsetRef.current && currentMousePosRef.current) {\n        targetViewportCenterX = currentMousePosRef.current.x - mouseToDraggableCenterOffsetRef.current.x;\n        targetViewportCenterY = currentMousePosRef.current.y - mouseToDraggableCenterOffsetRef.current.y;\n        setCurrentSnapArea(null);\n      } else {\n        if (currentDesiredRelativeCenter && parentWidth > 0 && parentHeight > 0) {\n          const isTopHalf2 = currentDesiredRelativeCenter.y <= 0.5;\n          const isLeftHalf2 = currentDesiredRelativeCenter.x <= 0.5;\n          if (isLeftHalf2) {\n            const targetCenterXInParent = parentWidth * currentDesiredRelativeCenter.x;\n            targetViewportCenterX = parentViewportLeft + targetCenterXInParent;\n          } else {\n            const targetCenterXInParent = parentWidth * (1 - currentDesiredRelativeCenter.x);\n            targetViewportCenterX = parentViewportLeft + parentWidth - targetCenterXInParent;\n          }\n          if (isTopHalf2) {\n            const targetCenterYInParent = parentHeight * currentDesiredRelativeCenter.y;\n            targetViewportCenterY = parentViewportTop + targetCenterYInParent;\n          } else {\n            const targetCenterYInParent = parentHeight * (1 - currentDesiredRelativeCenter.y);\n            targetViewportCenterY = parentViewportTop + parentHeight - targetCenterYInParent;\n          }\n        } else {\n          if (!((_a = movingElementRef.current) == null ? void 0 : _a.style.left) && !((_b = movingElementRef.current) == null ? void 0 : _b.style.top)) {\n            console.warn(\n              \"useDraggable: Cannot determine position. Parent has no dimensions or initialRelativeCenter was not effectively set.\"\n            );\n          }\n          return;\n        }\n        setCurrentSnapArea(null);\n      }\n      if (targetViewportCenterX === null || targetViewportCenterY === null) {\n        return;\n      }\n      const { borderLocation } = latestProviderDataRef.current || {\n        borderLocation: void 0\n      };\n      if (borderLocation && draggableWidth > 0 && draggableHeight > 0) {\n        const providerRectWidth = borderLocation.right - borderLocation.left;\n        const providerRectHeight = borderLocation.bottom - borderLocation.top;\n        let clampedCenterX = targetViewportCenterX;\n        let clampedCenterY = targetViewportCenterY;\n        if (draggableWidth >= providerRectWidth) {\n          clampedCenterX = borderLocation.left + providerRectWidth / 2;\n        } else {\n          const minX = borderLocation.left + draggableWidth / 2;\n          const maxX = borderLocation.right - draggableWidth / 2;\n          clampedCenterX = Math.max(minX, Math.min(clampedCenterX, maxX));\n        }\n        if (draggableHeight >= providerRectHeight) {\n          clampedCenterY = borderLocation.top + providerRectHeight / 2;\n        } else {\n          const minY = borderLocation.top + draggableHeight / 2;\n          const maxY = borderLocation.bottom - draggableHeight / 2;\n          clampedCenterY = Math.max(minY, Math.min(clampedCenterY, maxY));\n        }\n        targetViewportCenterX = clampedCenterX;\n        targetViewportCenterY = clampedCenterY;\n      }\n      if (!animatedPositionRef.current) {\n        animatedPositionRef.current = {\n          x: targetViewportCenterX,\n          y: targetViewportCenterY\n        };\n        velocityRef.current = { x: 0, y: 0 };\n        const targetElementStyleX2 = targetViewportCenterX - draggableWidth / 2;\n        const targetElementStyleY2 = targetViewportCenterY - draggableHeight / 2;\n        const isTopHalf2 = currentDesiredRelativeCenter ? currentDesiredRelativeCenter.y <= 0.5 : true;\n        const isLeftHalf2 = currentDesiredRelativeCenter ? currentDesiredRelativeCenter.x <= 0.5 : true;\n        const elStyle2 = draggableEl.style;\n        elStyle2.right = \"\";\n        elStyle2.bottom = \"\";\n        elStyle2.left = \"\";\n        elStyle2.top = \"\";\n        if (isLeftHalf2) {\n          const styleLeftPx = targetElementStyleX2 - parentViewportLeft;\n          elStyle2.left = parentWidth > 0 ? `${(styleLeftPx / parentWidth * 100).toFixed(2)}%` : \"0px\";\n          elStyle2.right = \"\";\n        } else {\n          const styleRightPx = parentViewportLeft + parentWidth - (targetElementStyleX2 + draggableWidth);\n          elStyle2.right = parentWidth > 0 ? `${(styleRightPx / parentWidth * 100).toFixed(2)}%` : \"0px\";\n          elStyle2.left = \"\";\n        }\n        if (isTopHalf2) {\n          const styleTopPx = targetElementStyleY2 - parentViewportTop;\n          elStyle2.top = parentHeight > 0 ? `${(styleTopPx / parentHeight * 100).toFixed(2)}%` : \"0px\";\n          elStyle2.bottom = \"\";\n        } else {\n          const styleBottomPx = parentViewportTop + parentHeight - (targetElementStyleY2 + draggableHeight);\n          elStyle2.bottom = parentHeight > 0 ? `${(styleBottomPx / parentHeight * 100).toFixed(2)}%` : \"0px\";\n          elStyle2.top = \"\";\n        }\n        hasAnimatedOnceRef.current = true;\n        return;\n      }\n      if (!hasAnimatedOnceRef.current) {\n        hasAnimatedOnceRef.current = true;\n        return;\n      }\n      const pos = animatedPositionRef.current;\n      const vel = velocityRef.current;\n      const dx = targetViewportCenterX - pos.x;\n      const dy = targetViewportCenterY - pos.y;\n      const ax = springStiffness * dx - springDampness * vel.x;\n      const ay = springStiffness * dy - springDampness * vel.y;\n      vel.x += ax;\n      vel.y += ay;\n      pos.x += vel.x;\n      pos.y += vel.y;\n      const threshold = 0.5;\n      if (Math.abs(dx) < threshold && Math.abs(dy) < threshold && Math.abs(vel.x) < threshold && Math.abs(vel.y) < threshold) {\n        pos.x = targetViewportCenterX;\n        pos.y = targetViewportCenterY;\n        vel.x = 0;\n        vel.y = 0;\n      }\n      animatedPositionRef.current = { ...pos };\n      velocityRef.current = { ...vel };\n      const targetElementStyleX = pos.x - draggableWidth / 2;\n      const targetElementStyleY = pos.y - draggableHeight / 2;\n      const isTopHalf = currentDesiredRelativeCenter ? currentDesiredRelativeCenter.y <= 0.5 : true;\n      const isLeftHalf = currentDesiredRelativeCenter ? currentDesiredRelativeCenter.x <= 0.5 : true;\n      const elStyle = draggableEl.style;\n      elStyle.right = \"\";\n      elStyle.bottom = \"\";\n      elStyle.left = \"\";\n      elStyle.top = \"\";\n      if (isLeftHalf) {\n        const styleLeftPx = targetElementStyleX - parentViewportLeft;\n        elStyle.left = parentWidth > 0 ? `${(styleLeftPx / parentWidth * 100).toFixed(2)}%` : \"0px\";\n        elStyle.right = \"\";\n      } else {\n        const styleRightPx = parentViewportLeft + parentWidth - (targetElementStyleX + draggableWidth);\n        elStyle.right = parentWidth > 0 ? `${(styleRightPx / parentWidth * 100).toFixed(2)}%` : \"0px\";\n        elStyle.left = \"\";\n      }\n      if (isTopHalf) {\n        const styleTopPx = targetElementStyleY - parentViewportTop;\n        elStyle.top = parentHeight > 0 ? `${(styleTopPx / parentHeight * 100).toFixed(2)}%` : \"0px\";\n        elStyle.bottom = \"\";\n      } else {\n        const styleBottomPx = parentViewportTop + parentHeight - (targetElementStyleY + draggableHeight);\n        elStyle.bottom = parentHeight > 0 ? `${(styleBottomPx / parentHeight * 100).toFixed(2)}%` : \"0px\";\n        elStyle.top = \"\";\n      }\n      if (Math.abs(pos.x - targetViewportCenterX) > threshold || Math.abs(pos.y - targetViewportCenterY) > threshold || Math.abs(vel.x) > threshold || Math.abs(vel.y) > threshold || isDraggingRef.current) {\n        requestAnimationFrame(updateDraggablePosition);\n      }\n    }, [areaSnapThreshold, springStiffness, springDampness]);\n    const mouseUpHandler = q$3(\n      (e2) => {\n        var _a;\n        if (isDraggingRef.current) {\n          if (onDragEnd) onDragEnd();\n          if ((_a = latestProviderDataRef.current) == null ? void 0 : _a.emitDragEnd) {\n            latestProviderDataRef.current.emitDragEnd();\n          }\n          const draggableEl = movingElementRef.current;\n          const provider = latestProviderDataRef.current;\n          if (draggableEl && provider && provider.borderLocation) {\n            const draggableWidth = draggableEl.offsetWidth;\n            const draggableHeight = draggableEl.offsetHeight;\n            const offsetParent = draggableEl.offsetParent;\n            let parentViewportLeft = 0;\n            let parentViewportTop = 0;\n            let parentWidth = window.innerWidth;\n            let parentHeight = window.innerHeight;\n            if (offsetParent) {\n              const opRect = offsetParent.getBoundingClientRect();\n              parentViewportLeft = opRect.left;\n              parentViewportTop = opRect.top;\n              parentWidth = offsetParent.offsetWidth || window.innerWidth;\n              parentHeight = offsetParent.offsetHeight || window.innerHeight;\n            }\n            let releasedCenterX = 0;\n            let releasedCenterY = 0;\n            if (currentMousePosRef.current && mouseToDraggableCenterOffsetRef.current) {\n              releasedCenterX = currentMousePosRef.current.x - mouseToDraggableCenterOffsetRef.current.x;\n              releasedCenterY = currentMousePosRef.current.y - mouseToDraggableCenterOffsetRef.current.y;\n            } else {\n              if (animatedPositionRef.current) {\n                releasedCenterX = animatedPositionRef.current.x;\n                releasedCenterY = animatedPositionRef.current.y;\n              }\n            }\n            const borderLocation = provider.borderLocation;\n            const minX = borderLocation.left + draggableWidth / 2;\n            const maxX = borderLocation.right - draggableWidth / 2;\n            const minY = borderLocation.top + draggableHeight / 2;\n            const maxY = borderLocation.bottom - draggableHeight / 2;\n            releasedCenterX = Math.max(minX, Math.min(releasedCenterX, maxX));\n            releasedCenterY = Math.max(minY, Math.min(releasedCenterY, maxY));\n            const areaCenters = getSnapAreaCenters(borderLocation);\n            let minDist = Number.POSITIVE_INFINITY;\n            let closestArea = null;\n            let closestCenter = null;\n            for (const area in provider.snapAreas) {\n              if (provider.snapAreas[area]) {\n                const center = areaCenters[area];\n                if (!center) continue;\n                const dist = Math.hypot(\n                  center.x - releasedCenterX,\n                  center.y - releasedCenterY\n                );\n                if (dist < minDist) {\n                  minDist = dist;\n                  closestArea = area;\n                  closestCenter = center;\n                }\n              }\n            }\n            if (closestArea && closestCenter && minDist <= areaSnapThreshold) {\n              setCurrentSnapArea(closestArea);\n              const relX = (closestCenter.x - parentViewportLeft) / parentWidth;\n              const relY = (closestCenter.y - parentViewportTop) / parentHeight;\n              persistedRelativeCenterRef.current = { x: relX, y: relY };\n            } else {\n              setCurrentSnapArea(null);\n              const relX = (releasedCenterX - parentViewportLeft) / parentWidth;\n              const relY = (releasedCenterY - parentViewportTop) / parentHeight;\n              persistedRelativeCenterRef.current = { x: relX, y: relY };\n            }\n          }\n        }\n        mouseDownPosRef.current = null;\n        isDraggingRef.current = false;\n        console.log(\"Stop moving\");\n        window.removeEventListener(\"mousemove\", mouseMoveHandler, {\n          capture: true\n        });\n        window.removeEventListener(\"mouseup\", mouseUpHandler, {\n          capture: true\n        });\n        if (movingElementRef.current) {\n          movingElementRef.current.style.userSelect = \"\";\n        }\n        document.body.style.userSelect = \"\";\n        document.body.style.cursor = \"\";\n      },\n      [onDragEnd, areaSnapThreshold]\n    );\n    const mouseMoveHandler = q$3(\n      (e2) => {\n        var _a;\n        if (!mouseDownPosRef.current) return;\n        const distance = Math.hypot(\n          e2.clientX - mouseDownPosRef.current.x,\n          e2.clientY - mouseDownPosRef.current.y\n        );\n        if (distance > startThreshold && !isDraggingRef.current) {\n          isDraggingRef.current = true;\n          if (movingElementRef.current) {\n            movingElementRef.current.style.userSelect = \"none\";\n          }\n          document.body.style.userSelect = \"none\";\n          document.body.style.cursor = \"grabbing\";\n          if (onDragStart) onDragStart();\n          if ((_a = latestProviderDataRef.current) == null ? void 0 : _a.emitDragStart) {\n            latestProviderDataRef.current.emitDragStart();\n          }\n          requestAnimationFrame(updateDraggablePosition);\n          console.log(\"Start dragging\");\n        }\n        currentMousePosRef.current = { x: e2.clientX, y: e2.clientY };\n      },\n      [startThreshold, onDragStart, updateDraggablePosition]\n    );\n    const mouseDownHandler = q$3(\n      (e2) => {\n        console.log(\"Mouse down on draggable/handle area\");\n        if (e2.button !== 0) {\n          return;\n        }\n        const handleNode = dragInitiatorRef.current;\n        const draggableItemNode = movingElementRef.current;\n        if (handleNode) {\n          if (!handleNode.contains(e2.target) && e2.target !== handleNode) {\n            console.log(\n              \"Mousedown was not on the handle element or its children. Current target:\",\n              e2.target,\n              \"Expected handle:\",\n              handleNode,\n              \"Ignoring drag start.\"\n            );\n            return;\n          }\n        } else if (draggableItemNode) {\n          if (!draggableItemNode.contains(e2.target) && e2.target !== draggableItemNode) {\n            console.log(\n              \"Mousedown was not on the draggable item or its children (no handle specified). Current target:\",\n              e2.target,\n              \"Expected draggable item:\",\n              draggableItemNode,\n              \"Ignoring drag start.\"\n            );\n            return;\n          }\n        } else {\n          console.error(\n            \"Draggable element or handle ref not set in mouseDownHandler\"\n          );\n          return;\n        }\n        console.log(\"Valid drag target. Proceeding with drag setup.\");\n        mouseDownPosRef.current = { x: e2.clientX, y: e2.clientY };\n        if (!movingElementRef.current) {\n          console.error(\"Draggable element ref not set in mouseDownHandler\");\n          return;\n        }\n        const rect = movingElementRef.current.getBoundingClientRect();\n        const currentDraggableCenterX = rect.left + rect.width / 2;\n        const currentDraggableCenterY = rect.top + rect.height / 2;\n        mouseToDraggableCenterOffsetRef.current = {\n          x: e2.clientX - currentDraggableCenterX,\n          y: e2.clientY - currentDraggableCenterY\n        };\n        window.addEventListener(\"mousemove\", mouseMoveHandler, {\n          capture: true\n        });\n        window.addEventListener(\"mouseup\", mouseUpHandler, {\n          capture: true\n        });\n      },\n      [mouseMoveHandler, mouseUpHandler]\n    );\n    y$6(() => {\n      const elementToListenOn = dragInitiatorNode || movingElementNode;\n      if (elementToListenOn) {\n        elementToListenOn.addEventListener(\"mousedown\", mouseDownHandler);\n      }\n      return () => {\n        if (elementToListenOn) {\n          elementToListenOn.removeEventListener(\"mousedown\", mouseDownHandler);\n        }\n        if (isDraggingRef.current) {\n          if (onDragEnd) {\n            onDragEnd();\n          }\n          isDraggingRef.current = false;\n          if (movingElementNode) {\n            movingElementNode.style.userSelect = \"\";\n          }\n          document.body.style.userSelect = \"\";\n          document.body.style.cursor = \"\";\n          window.removeEventListener(\"mousemove\", mouseMoveHandler, {\n            capture: true\n          });\n          window.removeEventListener(\"mouseup\", mouseUpHandler, {\n            capture: true\n          });\n        }\n      };\n    }, [\n      movingElementNode,\n      dragInitiatorNode,\n      mouseDownHandler,\n      onDragEnd,\n      mouseMoveHandler,\n      mouseUpHandler\n    ]);\n    y$6(() => {\n      if (movingElementNode && persistedRelativeCenterRef.current && !isDraggingRef.current) {\n        requestAnimationFrame(updateDraggablePosition);\n      }\n    }, [\n      movingElementNode,\n      providerData,\n      // Triggers on container resize/scroll via DraggableProvider\n      persistedRelativeCenterRef,\n      // Triggers if the persistedRelativeCenterRef changes\n      updateDraggablePosition\n      // Stable callback\n    ]);\n    const draggableRefCallback = q$3((node) => {\n      setMovingElementNode(node);\n      movingElementRef.current = node;\n    }, []);\n    const handleRefCallback = q$3((node) => {\n      setDragInitiatorNode(node);\n      dragInitiatorRef.current = node;\n    }, []);\n    return {\n      draggableRef: draggableRefCallback,\n      handleRef: handleRefCallback,\n      position: {\n        snapArea: currentSnapArea,\n        isTopHalf: persistedRelativeCenterRef.current ? persistedRelativeCenterRef.current.y <= 0.5 : true,\n        isLeftHalf: persistedRelativeCenterRef.current ? persistedRelativeCenterRef.current.x <= 0.5 : true\n      }\n    };\n  }\n  function ToolbarDraggableBox() {\n    const provider = x$4(DraggableContext);\n    const borderLocation = provider == null ? void 0 : provider.borderLocation;\n    const isReady = !!borderLocation && borderLocation.right - borderLocation.left > 0 && borderLocation.bottom - borderLocation.top > 0;\n    const draggable = useDraggable({\n      startThreshold: 10,\n      initialSnapArea: \"bottomCenter\"\n    });\n    if (!isReady) return null;\n    return /* @__PURE__ */ u$9(\n      \"div\",\n      {\n        ref: draggable.draggableRef,\n        className: \"pointer-events-auto absolute p-0.5\",\n        children: /* @__PURE__ */ u$9(\"div\", { className: \"pointer-events-auto flex w-96 max-w-[80vw] flex-col items-start justify-center rounded-3xl border border-border/30 border-solid bg-zinc-50/80 p-0 shadow-lg backdrop-blur-lg transition-colors\", children: [\n          /* @__PURE__ */ u$9(ChatArea, {}),\n          /* @__PURE__ */ u$9(\n            \"div\",\n            {\n              ref: draggable.handleRef,\n              className: \"flex w-full flex-row items-center justify-center rounded-3xl border-border/30 border-t bg-background/40 p-1.5 shadow-lg transition-colors first:border-none\",\n              children: [\n                /* @__PURE__ */ u$9(ChatBox, {}),\n                /* @__PURE__ */ u$9(MoreActionsButton, {})\n              ]\n            }\n          )\n        ] })\n      }\n    );\n  }\n  function ToolbarArea() {\n    const containerRef = A$3(null);\n    return /* @__PURE__ */ u$9(\"div\", { className: \"absolute size-full\", children: /* @__PURE__ */ u$9(\"div\", { className: \"absolute inset-4\", ref: containerRef, children: /* @__PURE__ */ u$9(\n      DraggableProvider,\n      {\n        containerRef,\n        snapAreas: {\n          topLeft: true,\n          topCenter: true,\n          topRight: true,\n          centerLeft: true,\n          center: true,\n          centerRight: true,\n          bottomLeft: true,\n          bottomCenter: true,\n          bottomRight: true\n        },\n        children: /* @__PURE__ */ u$9(ToolbarDraggableBox, {})\n      }\n    ) }) });\n  }\n  const Logo = ({\n    color = \"default\",\n    loading = false,\n    loadingSpeed = \"slow\",\n    ...props\n  }) => {\n    const colorStyle = {\n      default: \"fill-stagewise-700 stroke-none\",\n      black: \"fill-zinc-950 stroke-none\",\n      white: \"fill-white stroke-none\",\n      gray: \"fill-zinc-500/50 stroke-none\",\n      current: \"fill-current stroke-none\",\n      gradient: \"fill-white stroke-black/30 stroke-1\"\n    };\n    return /* @__PURE__ */ u$9(\n      \"div\",\n      {\n        className: `relative ${color === \"gradient\" ? \"overflow-hidden rounded-full\" : \"overflow-visible\"} ${props.className || \"\"} ${loading ? \"drop-shadow-xl\" : \"\"} aspect-square`,\n        children: [\n          color === \"gradient\" && /* @__PURE__ */ u$9(\"div\", { className: \"absolute inset-0\", children: [\n            /* @__PURE__ */ u$9(\"div\", { className: \"absolute inset-0 size-full bg-gradient-to-tr from-indigo-700 via-blue-500 to-teal-500\" }),\n            /* @__PURE__ */ u$9(\"div\", { className: \"absolute top-1/2 left-1/2 size-9/12 bg-[radial-gradient(circle,rgba(219,39,119,0.2)_0%,rgba(219,39,119,0)_100%)]\" }),\n            /* @__PURE__ */ u$9(\"div\", { className: \"absolute right-1/2 bottom-1/2 size-full bg-[radial-gradient(circle,rgba(219,39,119,0.2)_0%,rgba(219,39,119,0)_100%)]\" }),\n            /* @__PURE__ */ u$9(\"div\", { className: \"absolute top-0 left-[-10%] size-[120%] bg-[radial-gradient(circle,rgba(255,255,255,0)_60%,rgba(255,255,255,0.2)_70%)]\" }),\n            /* @__PURE__ */ u$9(\"div\", { className: \"absolute top-[-20%] left-0 h-[120%] w-full bg-[radial-gradient(circle,rgba(55,48,163,0)_55%,rgba(55,48,163,0.35)_73%)]\" })\n          ] }),\n          /* @__PURE__ */ u$9(\n            \"svg\",\n            {\n              className: `absolute overflow-visible ${color === \"gradient\" ? \"top-[25%] left-[25%] h-[50%] w-[50%] drop-shadow-indigo-950 drop-shadow-xs\" : \"top-0 left-0 h-full w-full\"}`,\n              viewBox: \"0 0 2048 2048\",\n              children: [\n                /* @__PURE__ */ u$9(\"title\", { children: \"stagewise\" }),\n                /* @__PURE__ */ u$9(\n                  \"ellipse\",\n                  {\n                    className: colorStyle[color] + (loading ? \" animate-pulse\" : \"\"),\n                    id: \"path3\",\n                    ry: \"624\",\n                    rx: \"624\",\n                    cy: \"1024\",\n                    cx: \"1024\"\n                  }\n                )\n              ]\n            }\n          ),\n          /* @__PURE__ */ u$9(\n            \"svg\",\n            {\n              className: `absolute overflow-visible ${color === \"gradient\" ? \"top-[25%] left-[25%] h-[50%] w-[50%]\" : \"top-0 left-0 h-full w-full\"}`,\n              viewBox: \"0 0 2048 2048\",\n              children: /* @__PURE__ */ u$9(\n                \"path\",\n                {\n                  id: \"path4\",\n                  className: `origin-center ${colorStyle[color]}${loading ? loadingSpeed === \"fast\" ? \" animate-spin-fast\" : \" animate-spin-slow\" : \"\"}`,\n                  d: \"M 1024 0 A 1024 1024 0 0 0 0 1024 A 1024 1024 0 0 0 1024 2048 L 1736 2048 L 1848 2048 C 1958.7998 2048 2048 1958.7998 2048 1848 L 2048 1736 L 2048 1024 A 1024 1024 0 0 0 1024 0 z M 1024.9414 200 A 824 824 0 0 1 1848.9414 1024 A 824 824 0 0 1 1024.9414 1848 A 824 824 0 0 1 200.94141 1024 A 824 824 0 0 1 1024.9414 200 z \"\n                }\n              )\n            }\n          )\n        ]\n      }\n    );\n  };\n  function ExpandButton() {\n    const expand = useAppState((state) => state.expand);\n    return /* @__PURE__ */ u$9(\n      \"button\",\n      {\n        type: \"button\",\n        onClick: () => expand(),\n        className: \"pointer-events-auto absolute bottom-3 left-3 size-12 rounded-full bg-transparent opacity-80 shadow-sm transition-all duration-500 hover:opacity-100 hover:shadow-lg\",\n        children: /* @__PURE__ */ u$9(Logo, { color: \"gradient\" })\n      }\n    );\n  }\n  function ElementSelector(props) {\n    const lastHoveredElement = A$3(null);\n    const handleMouseMove = q$3(\n      (event) => {\n        const target = event.target;\n        if (target.closest(\".companion\")) return;\n        const refElement = getElementAtPoint(event.clientX, event.clientY);\n        if (props.ignoreList.includes(refElement)) return;\n        if (lastHoveredElement.current !== refElement) {\n          lastHoveredElement.current = refElement;\n          props.onElementHovered(refElement);\n        }\n      },\n      [props]\n    );\n    const handleMouseLeave = q$3(() => {\n      lastHoveredElement.current = null;\n      props.onElementUnhovered();\n    }, [props]);\n    const handleMouseClick = q$3(() => {\n      if (!lastHoveredElement.current) return;\n      if (props.ignoreList.includes(lastHoveredElement.current)) return;\n      props.onElementSelected(lastHoveredElement.current);\n    }, [props]);\n    return /* @__PURE__ */ u$9(\n      \"div\",\n      {\n        className: \"pointer-events-auto fixed inset-0 h-screen w-screen\",\n        onMouseMove: handleMouseMove,\n        onMouseLeave: handleMouseLeave,\n        onClick: handleMouseClick,\n        role: \"button\",\n        tabIndex: 0\n      }\n    );\n  }\n  function useWindowSize() {\n    const [size2, setSize] = d$4({\n      width: window.innerWidth,\n      height: window.innerHeight\n    });\n    const handleResize = q$3(\n      () => setSize({\n        width: window.innerWidth,\n        height: window.innerHeight\n      }),\n      []\n    );\n    useEventListener(\"resize\", handleResize);\n    return size2;\n  }\n  function ContextItemProposal({\n    refElement,\n    ...props\n  }) {\n    const boxRef = A$3(null);\n    const windowSize = useWindowSize();\n    const updateBoxPosition = q$3(() => {\n      if (boxRef.current) {\n        if (refElement) {\n          const referenceRect = refElement.getBoundingClientRect();\n          boxRef.current.style.top = `${referenceRect.top}px`;\n          boxRef.current.style.left = `${referenceRect.left}px`;\n          boxRef.current.style.width = `${referenceRect.width}px`;\n          boxRef.current.style.height = `${referenceRect.height}px`;\n          boxRef.current.style.display = void 0;\n        } else {\n          boxRef.current.style.height = \"0px\";\n          boxRef.current.style.width = \"0px\";\n          boxRef.current.style.top = `${windowSize.height / 2}px`;\n          boxRef.current.style.left = `${windowSize.width / 2}px`;\n          boxRef.current.style.display = \"none\";\n        }\n      }\n    }, [refElement, windowSize.height, windowSize.width]);\n    useCyclicUpdate(updateBoxPosition, 30);\n    return /* @__PURE__ */ u$9(\n      \"div\",\n      {\n        ...props,\n        className: \"fixed flex items-center justify-center overflow-hidden rounded-lg border-2 border-blue-600/80 bg-blue-600/20 text-white backdrop-blur-xs transition-all duration-100\",\n        ref: boxRef,\n        children: /* @__PURE__ */ u$9(Plus, { className: \"size-6 drop-shadow-black drop-shadow-md\" })\n      }\n    );\n  }\n  function ContextItem({ refElement, ...props }) {\n    const boxRef = A$3(null);\n    const windowSize = useWindowSize();\n    const updateBoxPosition = q$3(() => {\n      if (boxRef.current) {\n        if (refElement) {\n          const referenceRect = refElement.getBoundingClientRect();\n          boxRef.current.style.top = `${referenceRect.top}px`;\n          boxRef.current.style.left = `${referenceRect.left}px`;\n          boxRef.current.style.width = `${referenceRect.width}px`;\n          boxRef.current.style.height = `${referenceRect.height}px`;\n          boxRef.current.style.display = void 0;\n        } else {\n          boxRef.current.style.height = \"0px\";\n          boxRef.current.style.width = \"0px\";\n          boxRef.current.style.top = `${windowSize.height / 2}px`;\n          boxRef.current.style.left = `${windowSize.width / 2}px`;\n          boxRef.current.style.display = \"none\";\n        }\n      }\n    }, [refElement, windowSize.height, windowSize.width]);\n    useCyclicUpdate(updateBoxPosition, 30);\n    const chatState = useChatState();\n    const handleDeleteClick = q$3(() => {\n      chatState.removeChatDomContext(chatState.currentChatId, refElement);\n    }, [chatState, refElement]);\n    return /* @__PURE__ */ u$9(\n      \"div\",\n      {\n        ...props,\n        className: \"pointer-events-auto fixed flex cursor-pointer items-center justify-center overflow-hidden rounded-lg border-2 border-green-600/80 bg-green-600/5 text-transparent transition-all duration-0 hover:border-red-600/80 hover:bg-red-600/20 hover:text-white hover:backdrop-blur-sm\",\n        ref: boxRef,\n        onClick: handleDeleteClick,\n        role: \"button\",\n        tabIndex: 0,\n        children: /* @__PURE__ */ u$9(Trash2, { className: \"size-6 drop-shadow-black drop-shadow-md\" })\n      }\n    );\n  }\n  function SelectorCanvas() {\n    const { chats, currentChatId, addChatDomContext, isPromptCreationActive } = useChatState();\n    const currentChat = T$5(\n      () => chats.find((chat) => chat.id === currentChatId),\n      [currentChatId, chats]\n    );\n    const shouldShow = isPromptCreationActive;\n    const contextElements = T$5(() => {\n      return (currentChat == null ? void 0 : currentChat.domContextElements) || [];\n    }, [currentChat]);\n    const [hoveredElement, setHoveredElement] = d$4(\n      null\n    );\n    const addElementToContext = q$3(\n      (el) => {\n        addChatDomContext(currentChatId, el);\n      },\n      [addChatDomContext, currentChatId]\n    );\n    if (!shouldShow) return null;\n    return /* @__PURE__ */ u$9(k$3, { children: [\n      hoveredElement && /* @__PURE__ */ u$9(ContextItemProposal, { refElement: hoveredElement }),\n      /* @__PURE__ */ u$9(\n        ElementSelector,\n        {\n          ignoreList: contextElements,\n          onElementHovered: setHoveredElement,\n          onElementSelected: addElementToContext,\n          onElementUnhovered: () => setHoveredElement(null)\n        }\n      ),\n      contextElements.map((el) => /* @__PURE__ */ u$9(ContextItem, { refElement: el }))\n    ] });\n  }\n  function DesktopLayout() {\n    const minimized = useAppState((state) => state.minimized);\n    return /* @__PURE__ */ u$9(\"div\", { className: cn(\"fixed inset-0 h-screen w-screen\"), children: [\n      /* @__PURE__ */ u$9(SelectorCanvas, {}),\n      !minimized && /* @__PURE__ */ u$9(ToolbarArea, {}),\n      minimized && /* @__PURE__ */ u$9(ExpandButton, {})\n    ] });\n  }\n  function ClickBlocker(props) {\n    return /* @__PURE__ */ u$9(\n      \"div\",\n      {\n        className: cn(\n          typeof props.enable === \"undefined\" || props.enable ? \"pointer-events-auto\" : \"pointer-events-none\",\n          props.className\n        ),\n        onClick: props.onClick,\n        role: \"button\",\n        tabIndex: 0\n      }\n    );\n  }\n  function FocusLock() {\n    const focusInCompanion = A$3(false);\n    y$6(() => {\n      const originalFocus = HTMLElement.prototype.focus;\n      HTMLElement.prototype.focus = function(...args) {\n        const shadowRoot = this.getRootNode();\n        const isInCompanion = shadowRoot instanceof ShadowRoot && shadowRoot.host instanceof HTMLElement && shadowRoot.host.nodeName === \"STAGEWISE-COMPANION-ANCHOR\";\n        if (!isInCompanion && focusInCompanion.current) {\n          return;\n        }\n        originalFocus.apply(this, args);\n      };\n      return () => {\n        HTMLElement.prototype.focus = originalFocus;\n      };\n    }, []);\n    useEventListener(\n      \"focusin\",\n      (event) => {\n        if (event.target.localName === companionAnchorTagName) {\n          focusInCompanion.current = true;\n        }\n      },\n      { capture: true }\n    );\n    useEventListener(\n      \"focusout\",\n      (event) => {\n        if (event.target.localName === companionAnchorTagName) {\n          focusInCompanion.current = false;\n        }\n      },\n      { capture: true }\n    );\n    return null;\n  }\n  function VisibilityManager({ children }) {\n    return children;\n  }\n  function App(config) {\n    const isMainAppBlocked = useAppState((state) => state.isMainAppBlocked);\n    return /* @__PURE__ */ u$9(k$3, { children: [\n      /* @__PURE__ */ u$9(FocusLock, {}),\n      /* @__PURE__ */ u$9(\n        ClickBlocker,\n        {\n          className: \"fixed inset-0 h-screen w-screen\",\n          enable: isMainAppBlocked\n        }\n      ),\n      /* @__PURE__ */ u$9(ContextProviders, { config, children: [\n        /* @__PURE__ */ u$9(HotkeyListener, {}),\n        /* @__PURE__ */ u$9(VisibilityManager, { children: /* @__PURE__ */ u$9(DesktopLayout, {}) })\n      ] })\n    ] });\n  }\n  function initToolbar(config) {\n    if (!document.body)\n      throw new Error(\"stagewise companion cannot find document.body\");\n    if (document.body.querySelector(companionAnchorTagName)) {\n      console.warn(\n        \"A stagewise companion anchor already exists. Aborting this instance.\"\n      );\n      throw new Error(\"A stagewise companion anchor already exists.\");\n    }\n    const shadowDomAnchor = document.createElement(companionAnchorTagName);\n    shadowDomAnchor.style.position = \"fixed\";\n    shadowDomAnchor.style.top = \"0px\";\n    shadowDomAnchor.style.left = \"0px\";\n    shadowDomAnchor.style.right = \"0px\";\n    shadowDomAnchor.style.bottom = \"0px\";\n    shadowDomAnchor.style.pointerEvents = \"none\";\n    shadowDomAnchor.style.zIndex = \"2147483647\";\n    const eventBlocker = (ev) => {\n      ev.stopPropagation();\n    };\n    shadowDomAnchor.onclick = eventBlocker;\n    shadowDomAnchor.onmousedown = eventBlocker;\n    shadowDomAnchor.onmouseup = eventBlocker;\n    shadowDomAnchor.onmousemove = eventBlocker;\n    shadowDomAnchor.ondblclick = eventBlocker;\n    shadowDomAnchor.oncontextmenu = eventBlocker;\n    shadowDomAnchor.onwheel = eventBlocker;\n    shadowDomAnchor.onfocus = eventBlocker;\n    shadowDomAnchor.onblur = eventBlocker;\n    document.body.appendChild(shadowDomAnchor);\n    const fontLinkNode = document.createElement(\"link\");\n    fontLinkNode.rel = \"stylesheet\";\n    fontLinkNode.href = `https://rsms.me/inter/inter.css`;\n    document.head.appendChild(fontLinkNode);\n    const styleNode = document.createElement(\"style\");\n    styleNode.append(document.createTextNode(appStyle));\n    document.head.appendChild(styleNode);\n    E$3(_$4(App, config), shadowDomAnchor);\n  }\n  exports2.initToolbar = initToolbar;\n  Object.defineProperty(exports2, Symbol.toStringTag, { value: \"Module\" });\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0YWdld2lzZS90b29sYmFyL2Rpc3QvaW5kZXgudW1kLmNqcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLEVBQUUsS0FBNEQsc0JBQXNCLENBQTZMO0FBQ2pSLENBQUM7QUFDRDtBQUNBLDBFQUEwRTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsb0JBQW9CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Qsb0JBQW9CO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELFlBQVksdUtBQXVLO0FBQ3BPO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsU0FBUyxrUkFBa1IsY0FBYztBQUNsVix5QkFBeUIsU0FBUztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHNCQUFzQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RkFBdUYsMkJBQTJCO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdOQUF3TjtBQUN4TjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixpREFBaUQ7QUFDN0U7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix5QkFBeUI7QUFDckQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix1QkFBdUI7QUFDbkQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLDhCQUE4QiwrQ0FBK0M7QUFDN0U7QUFDQTtBQUNBLDhCQUE4Qiw2Q0FBNkM7QUFDM0U7QUFDQTtBQUNBLDhCQUE4QiwrQ0FBK0M7QUFDN0U7QUFDQTtBQUNBLDhCQUE4Qiw4Q0FBOEM7QUFDNUU7QUFDQTtBQUNBLDhCQUE4QixnREFBZ0Q7QUFDOUU7QUFDQTtBQUNBLDhCQUE4Qiw4Q0FBOEM7QUFDNUU7QUFDQTtBQUNBLDhCQUE4QiwrQ0FBK0M7QUFDN0U7QUFDQTtBQUNBLDhCQUE4Qiw4Q0FBOEM7QUFDNUU7QUFDQTtBQUNBLDhCQUE4QixnREFBZ0Q7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsOEJBQThCLDZDQUE2QztBQUMzRTtBQUNBO0FBQ0EsOEJBQThCLDRDQUE0QztBQUMxRTtBQUNBO0FBQ0EsOEJBQThCLDhDQUE4QztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsOEJBQThCLHVCQUF1QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSw4QkFBOEIsa0RBQWtEO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGNBQWM7QUFDdEQsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHFCQUFxQjtBQUM3RCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MscUJBQXFCO0FBQzdELE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFT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LE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixlQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxjQUFjLE1BQU07QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFlBQVk7QUFDWixzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE1BQU07QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGNBQWM7QUFDM0U7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHVCQUF1QixzQkFBc0IsY0FBYztBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsTUFBTTtBQUNOO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixNQUFNO0FBQ047QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLDJCQUEyQixvQkFBb0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLE1BQU07QUFDTixlQUFlO0FBQ2YsTUFBTTtBQUNOLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsY0FBYztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxjQUFjLGNBQWM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsY0FBYztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGNBQWM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsY0FBYyxjQUFjO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE1BQU07QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsTUFBTTtBQUNwQjtBQUNBLGlDQUFpQyw2Q0FBNkM7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsTUFBTTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGNBQWM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixVQUFVO0FBQ1YsZ0RBQWdELDZDQUE2QztBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsVUFBVTtBQUNWLGdEQUFnRCw2Q0FBNkM7QUFDN0Y7QUFDQTtBQUNBLCtGQUErRixxQ0FBcUM7QUFDcEksV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkNBQTJDO0FBQzNEO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxjQUFjLE1BQU07QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGNBQWMsTUFBTTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsTUFBTTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxjQUFjO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDRGQUE0RixrQkFBa0I7QUFDOUcsMkNBQTJDLGNBQWM7QUFDekQ7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwwQ0FBMEM7QUFDdkU7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMENBQTBDO0FBQ25FO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHNEQUFzRDtBQUN6RDtBQUNBLHNDQUFzQyxTQUFTO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHNCQUFzQjtBQUM5RCx3Q0FBd0Msc0JBQXNCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx3Q0FBd0Msc0JBQXNCO0FBQzlELG9DQUFvQyxzQkFBc0I7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsMEJBQTBCLHVCQUF1QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsS0FBSyxFQUFFLGNBQWM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDRCQUE0QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG9CQUFvQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixvQkFBb0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLElBQUk7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsOERBQThELE1BQU07QUFDcEU7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixrQkFBa0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixzQkFBc0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxPQUFPO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsaUJBQWlCLElBQUk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGFBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLGFBQWE7QUFDaEY7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLFVBQVU7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUE4RyxVQUFVLEdBQUcsR0FBRyxHQUFHO0FBQ3hSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixTQUFTO0FBQzVCLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsU0FBUztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDJCQUEyQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxhQUFhO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNEJBQTRCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGlCQUFpQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcscUJBQXFCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMENBQTBDO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLEtBQStCLEVBQUUsRUFBVztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLFNBQVMsS0FBK0IsRUFBRSxFQUkzQztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sU0FBUyxLQUErQixFQUFFLEVBSTNDO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFVBQVUsc0VBQXNFO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDZCQUE2QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsWUFBWTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEMsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixZQUFZO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFJO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLElBQXFDO0FBQy9DO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDBFQUEwRSxhQUFhO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxJQUFxQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxhQUFhO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRUFBK0UsZUFBZTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0EsUUFBUSxJQUFxQztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRkFBb0YsYUFBYTtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPLElBQUk7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLElBQXFDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNLElBQUk7QUFDVjtBQUNBLGtCQUFrQjtBQUNs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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLElBQUk7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxJQUFJO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFD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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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UCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixVQUFVO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5Qyw4Q0FBOEM7QUFDOUMsaURBQWlELCtDQUErQyxHQUFHO0FBQ25HLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxpQkFBaUI7QUFDekUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Nwb3J0cy1iZXR0aW5nLXNvbHV0aW9ucy8uL25vZGVfbW9kdWxlcy9Ac3RhZ2V3aXNlL3Rvb2xiYXIvZGlzdC9pbmRleC51bWQuY2pzPzhiM2EiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiID8gZmFjdG9yeShleHBvcnRzKSA6IHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFtcImV4cG9ydHNcIl0sIGZhY3RvcnkpIDogKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsVGhpcyA6IGdsb2JhbCB8fCBzZWxmLCBmYWN0b3J5KGdsb2JhbC5TdGFnZXdpc2VUb29sYmFyID0ge30pKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKGV4cG9ydHMyKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICB2YXIgbiQ0LCBsJDQsIHUkYSwgaSQ4LCByJDUsIG8kOSwgZSQ1LCBmJDksIGMkNywgcyQ5LCBhJGIsIGgkNiwgcCQ0ID0ge30sIHkkNyA9IFtdLCB2JDMgPSAvYWNpdHxleCg/OnN8Z3xufHB8JCl8cnBofGdyaWR8b3dzfG1uY3xudHd8aW5lW2NoXXx6b298Xm9yZHxpdGVyYS9pLCB3JDUgPSBBcnJheS5pc0FycmF5O1xuICBmdW5jdGlvbiBkJDUobjIsIGwyKSB7XG4gICAgZm9yICh2YXIgdTIgaW4gbDIpIG4yW3UyXSA9IGwyW3UyXTtcbiAgICByZXR1cm4gbjI7XG4gIH1cbiAgZnVuY3Rpb24gZyQ0KG4yKSB7XG4gICAgbjIgJiYgbjIucGFyZW50Tm9kZSAmJiBuMi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4yKTtcbiAgfVxuICBmdW5jdGlvbiBfJDQobDIsIHUyLCB0Mikge1xuICAgIHZhciBpMiwgcjIsIG8yLCBlMiA9IHt9O1xuICAgIGZvciAobzIgaW4gdTIpIFwia2V5XCIgPT0gbzIgPyBpMiA9IHUyW28yXSA6IFwicmVmXCIgPT0gbzIgPyByMiA9IHUyW28yXSA6IGUyW28yXSA9IHUyW28yXTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgKGUyLmNoaWxkcmVuID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgPyBuJDQuY2FsbChhcmd1bWVudHMsIDIpIDogdDIpLCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGwyICYmIG51bGwgIT0gbDIuZGVmYXVsdFByb3BzKSBmb3IgKG8yIGluIGwyLmRlZmF1bHRQcm9wcykgbnVsbCA9PSBlMltvMl0gJiYgKGUyW28yXSA9IGwyLmRlZmF1bHRQcm9wc1tvMl0pO1xuICAgIHJldHVybiBtJDYobDIsIGUyLCBpMiwgcjIsIG51bGwpO1xuICB9XG4gIGZ1bmN0aW9uIG0kNihuMiwgdDIsIGkyLCByMiwgbzIpIHtcbiAgICB2YXIgZTIgPSB7IHR5cGU6IG4yLCBwcm9wczogdDIsIGtleTogaTIsIHJlZjogcjIsIF9fazogbnVsbCwgX186IG51bGwsIF9fYjogMCwgX19lOiBudWxsLCBfX2M6IG51bGwsIGNvbnN0cnVjdG9yOiB2b2lkIDAsIF9fdjogbnVsbCA9PSBvMiA/ICsrdSRhIDogbzIsIF9faTogLTEsIF9fdTogMCB9O1xuICAgIHJldHVybiBudWxsID09IG8yICYmIG51bGwgIT0gbCQ0LnZub2RlICYmIGwkNC52bm9kZShlMiksIGUyO1xuICB9XG4gIGZ1bmN0aW9uIGIkNSgpIHtcbiAgICByZXR1cm4geyBjdXJyZW50OiBudWxsIH07XG4gIH1cbiAgZnVuY3Rpb24gayQzKG4yKSB7XG4gICAgcmV0dXJuIG4yLmNoaWxkcmVuO1xuICB9XG4gIGZ1bmN0aW9uIHgkNShuMiwgbDIpIHtcbiAgICB0aGlzLnByb3BzID0gbjIsIHRoaXMuY29udGV4dCA9IGwyO1xuICB9XG4gIGZ1bmN0aW9uIFMkNShuMiwgbDIpIHtcbiAgICBpZiAobnVsbCA9PSBsMikgcmV0dXJuIG4yLl9fID8gUyQ1KG4yLl9fLCBuMi5fX2kgKyAxKSA6IG51bGw7XG4gICAgZm9yICh2YXIgdTI7IGwyIDwgbjIuX19rLmxlbmd0aDsgbDIrKykgaWYgKG51bGwgIT0gKHUyID0gbjIuX19rW2wyXSkgJiYgbnVsbCAhPSB1Mi5fX2UpIHJldHVybiB1Mi5fX2U7XG4gICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgbjIudHlwZSA/IFMkNShuMikgOiBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIEMkNShuMikge1xuICAgIHZhciBsMiwgdTI7XG4gICAgaWYgKG51bGwgIT0gKG4yID0gbjIuX18pICYmIG51bGwgIT0gbjIuX19jKSB7XG4gICAgICBmb3IgKG4yLl9fZSA9IG4yLl9fYy5iYXNlID0gbnVsbCwgbDIgPSAwOyBsMiA8IG4yLl9fay5sZW5ndGg7IGwyKyspIGlmIChudWxsICE9ICh1MiA9IG4yLl9fa1tsMl0pICYmIG51bGwgIT0gdTIuX19lKSB7XG4gICAgICAgIG4yLl9fZSA9IG4yLl9fYy5iYXNlID0gdTIuX19lO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiBDJDUobjIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBNJDQobjIpIHtcbiAgICAoIW4yLl9fZCAmJiAobjIuX19kID0gdHJ1ZSkgJiYgaSQ4LnB1c2gobjIpICYmICEkJDIuX19yKysgfHwgciQ1ICE9IGwkNC5kZWJvdW5jZVJlbmRlcmluZykgJiYgKChyJDUgPSBsJDQuZGVib3VuY2VSZW5kZXJpbmcpIHx8IG8kOSkoJCQyKTtcbiAgfVxuICBmdW5jdGlvbiAkJDIoKSB7XG4gICAgZm9yICh2YXIgbjIsIHUyLCB0MiwgcjIsIG8yLCBmMiwgYzIsIHMyID0gMTsgaSQ4Lmxlbmd0aDsgKSBpJDgubGVuZ3RoID4gczIgJiYgaSQ4LnNvcnQoZSQ1KSwgbjIgPSBpJDguc2hpZnQoKSwgczIgPSBpJDgubGVuZ3RoLCBuMi5fX2QgJiYgKHQyID0gdm9pZCAwLCBvMiA9IChyMiA9ICh1MiA9IG4yKS5fX3YpLl9fZSwgZjIgPSBbXSwgYzIgPSBbXSwgdTIuX19QICYmICgodDIgPSBkJDUoe30sIHIyKSkuX192ID0gcjIuX192ICsgMSwgbCQ0LnZub2RlICYmIGwkNC52bm9kZSh0MiksIE8kMyh1Mi5fX1AsIHQyLCByMiwgdTIuX19uLCB1Mi5fX1AubmFtZXNwYWNlVVJJLCAzMiAmIHIyLl9fdSA/IFtvMl0gOiBudWxsLCBmMiwgbnVsbCA9PSBvMiA/IFMkNShyMikgOiBvMiwgISEoMzIgJiByMi5fX3UpLCBjMiksIHQyLl9fdiA9IHIyLl9fdiwgdDIuX18uX19rW3QyLl9faV0gPSB0MiwgeiQzKGYyLCB0MiwgYzIpLCB0Mi5fX2UgIT0gbzIgJiYgQyQ1KHQyKSkpO1xuICAgICQkMi5fX3IgPSAwO1xuICB9XG4gIGZ1bmN0aW9uIEkkNChuMiwgbDIsIHUyLCB0MiwgaTIsIHIyLCBvMiwgZTIsIGYyLCBjMiwgczIpIHtcbiAgICB2YXIgYTIsIGgyLCB2MiwgdzIsIGQyLCBnMiwgXzIgPSB0MiAmJiB0Mi5fX2sgfHwgeSQ3LCBtMiA9IGwyLmxlbmd0aDtcbiAgICBmb3IgKGYyID0gUCQ2KHUyLCBsMiwgXzIsIGYyLCBtMiksIGEyID0gMDsgYTIgPCBtMjsgYTIrKykgbnVsbCAhPSAodjIgPSB1Mi5fX2tbYTJdKSAmJiAoaDIgPSAtMSA9PSB2Mi5fX2kgPyBwJDQgOiBfMlt2Mi5fX2ldIHx8IHAkNCwgdjIuX19pID0gYTIsIGcyID0gTyQzKG4yLCB2MiwgaDIsIGkyLCByMiwgbzIsIGUyLCBmMiwgYzIsIHMyKSwgdzIgPSB2Mi5fX2UsIHYyLnJlZiAmJiBoMi5yZWYgIT0gdjIucmVmICYmIChoMi5yZWYgJiYgcSQ0KGgyLnJlZiwgbnVsbCwgdjIpLCBzMi5wdXNoKHYyLnJlZiwgdjIuX19jIHx8IHcyLCB2MikpLCBudWxsID09IGQyICYmIG51bGwgIT0gdzIgJiYgKGQyID0gdzIpLCA0ICYgdjIuX191IHx8IGgyLl9fayA9PT0gdjIuX19rID8gZjIgPSBBJDQodjIsIGYyLCBuMikgOiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHYyLnR5cGUgJiYgdm9pZCAwICE9PSBnMiA/IGYyID0gZzIgOiB3MiAmJiAoZjIgPSB3Mi5uZXh0U2libGluZyksIHYyLl9fdSAmPSAtNyk7XG4gICAgcmV0dXJuIHUyLl9fZSA9IGQyLCBmMjtcbiAgfVxuICBmdW5jdGlvbiBQJDYobjIsIGwyLCB1MiwgdDIsIGkyKSB7XG4gICAgdmFyIHIyLCBvMiwgZTIsIGYyLCBjMiwgczIgPSB1Mi5sZW5ndGgsIGEyID0gczIsIGgyID0gMDtcbiAgICBmb3IgKG4yLl9fayA9IG5ldyBBcnJheShpMiksIHIyID0gMDsgcjIgPCBpMjsgcjIrKykgbnVsbCAhPSAobzIgPSBsMltyMl0pICYmIFwiYm9vbGVhblwiICE9IHR5cGVvZiBvMiAmJiBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIG8yID8gKGYyID0gcjIgKyBoMiwgKG8yID0gbjIuX19rW3IyXSA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIG8yIHx8IFwibnVtYmVyXCIgPT0gdHlwZW9mIG8yIHx8IFwiYmlnaW50XCIgPT0gdHlwZW9mIG8yIHx8IG8yLmNvbnN0cnVjdG9yID09IFN0cmluZyA/IG0kNihudWxsLCBvMiwgbnVsbCwgbnVsbCwgbnVsbCkgOiB3JDUobzIpID8gbSQ2KGskMywgeyBjaGlsZHJlbjogbzIgfSwgbnVsbCwgbnVsbCwgbnVsbCkgOiBudWxsID09IG8yLmNvbnN0cnVjdG9yICYmIG8yLl9fYiA+IDAgPyBtJDYobzIudHlwZSwgbzIucHJvcHMsIG8yLmtleSwgbzIucmVmID8gbzIucmVmIDogbnVsbCwgbzIuX192KSA6IG8yKS5fXyA9IG4yLCBvMi5fX2IgPSBuMi5fX2IgKyAxLCBlMiA9IG51bGwsIC0xICE9IChjMiA9IG8yLl9faSA9IEwkNChvMiwgdTIsIGYyLCBhMikpICYmIChhMi0tLCAoZTIgPSB1MltjMl0pICYmIChlMi5fX3UgfD0gMikpLCBudWxsID09IGUyIHx8IG51bGwgPT0gZTIuX192ID8gKC0xID09IGMyICYmIChpMiA+IHMyID8gaDItLSA6IGkyIDwgczIgJiYgaDIrKyksIFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgbzIudHlwZSAmJiAobzIuX191IHw9IDQpKSA6IGMyICE9IGYyICYmIChjMiA9PSBmMiAtIDEgPyBoMi0tIDogYzIgPT0gZjIgKyAxID8gaDIrKyA6IChjMiA+IGYyID8gaDItLSA6IGgyKyssIG8yLl9fdSB8PSA0KSkpIDogbjIuX19rW3IyXSA9IG51bGw7XG4gICAgaWYgKGEyKSBmb3IgKHIyID0gMDsgcjIgPCBzMjsgcjIrKykgbnVsbCAhPSAoZTIgPSB1MltyMl0pICYmIDAgPT0gKDIgJiBlMi5fX3UpICYmIChlMi5fX2UgPT0gdDIgJiYgKHQyID0gUyQ1KGUyKSksIEIkMyhlMiwgZTIpKTtcbiAgICByZXR1cm4gdDI7XG4gIH1cbiAgZnVuY3Rpb24gQSQ0KG4yLCBsMiwgdTIpIHtcbiAgICB2YXIgdDIsIGkyO1xuICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG4yLnR5cGUpIHtcbiAgICAgIGZvciAodDIgPSBuMi5fX2ssIGkyID0gMDsgdDIgJiYgaTIgPCB0Mi5sZW5ndGg7IGkyKyspIHQyW2kyXSAmJiAodDJbaTJdLl9fID0gbjIsIGwyID0gQSQ0KHQyW2kyXSwgbDIsIHUyKSk7XG4gICAgICByZXR1cm4gbDI7XG4gICAgfVxuICAgIG4yLl9fZSAhPSBsMiAmJiAobDIgJiYgbjIudHlwZSAmJiAhdTIuY29udGFpbnMobDIpICYmIChsMiA9IFMkNShuMikpLCB1Mi5pbnNlcnRCZWZvcmUobjIuX19lLCBsMiB8fCBudWxsKSwgbDIgPSBuMi5fX2UpO1xuICAgIGRvIHtcbiAgICAgIGwyID0gbDIgJiYgbDIubmV4dFNpYmxpbmc7XG4gICAgfSB3aGlsZSAobnVsbCAhPSBsMiAmJiA4ID09IGwyLm5vZGVUeXBlKTtcbiAgICByZXR1cm4gbDI7XG4gIH1cbiAgZnVuY3Rpb24gSCQ2KG4yLCBsMikge1xuICAgIHJldHVybiBsMiA9IGwyIHx8IFtdLCBudWxsID09IG4yIHx8IFwiYm9vbGVhblwiID09IHR5cGVvZiBuMiB8fCAodyQ1KG4yKSA/IG4yLnNvbWUoZnVuY3Rpb24objMpIHtcbiAgICAgIEgkNihuMywgbDIpO1xuICAgIH0pIDogbDIucHVzaChuMikpLCBsMjtcbiAgfVxuICBmdW5jdGlvbiBMJDQobjIsIGwyLCB1MiwgdDIpIHtcbiAgICB2YXIgaTIsIHIyLCBvMiA9IG4yLmtleSwgZTIgPSBuMi50eXBlLCBmMiA9IGwyW3UyXTtcbiAgICBpZiAobnVsbCA9PT0gZjIgJiYgbnVsbCA9PSBuMi5rZXkgfHwgZjIgJiYgbzIgPT0gZjIua2V5ICYmIGUyID09IGYyLnR5cGUgJiYgMCA9PSAoMiAmIGYyLl9fdSkpIHJldHVybiB1MjtcbiAgICBpZiAodDIgPiAobnVsbCAhPSBmMiAmJiAwID09ICgyICYgZjIuX191KSA/IDEgOiAwKSkgZm9yIChpMiA9IHUyIC0gMSwgcjIgPSB1MiArIDE7IGkyID49IDAgfHwgcjIgPCBsMi5sZW5ndGg7ICkge1xuICAgICAgaWYgKGkyID49IDApIHtcbiAgICAgICAgaWYgKChmMiA9IGwyW2kyXSkgJiYgMCA9PSAoMiAmIGYyLl9fdSkgJiYgbzIgPT0gZjIua2V5ICYmIGUyID09IGYyLnR5cGUpIHJldHVybiBpMjtcbiAgICAgICAgaTItLTtcbiAgICAgIH1cbiAgICAgIGlmIChyMiA8IGwyLmxlbmd0aCkge1xuICAgICAgICBpZiAoKGYyID0gbDJbcjJdKSAmJiAwID09ICgyICYgZjIuX191KSAmJiBvMiA9PSBmMi5rZXkgJiYgZTIgPT0gZjIudHlwZSkgcmV0dXJuIHIyO1xuICAgICAgICByMisrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgZnVuY3Rpb24gVCQ2KG4yLCBsMiwgdTIpIHtcbiAgICBcIi1cIiA9PSBsMlswXSA/IG4yLnNldFByb3BlcnR5KGwyLCBudWxsID09IHUyID8gXCJcIiA6IHUyKSA6IG4yW2wyXSA9IG51bGwgPT0gdTIgPyBcIlwiIDogXCJudW1iZXJcIiAhPSB0eXBlb2YgdTIgfHwgdiQzLnRlc3QobDIpID8gdTIgOiB1MiArIFwicHhcIjtcbiAgfVxuICBmdW5jdGlvbiBqJDUobjIsIGwyLCB1MiwgdDIsIGkyKSB7XG4gICAgdmFyIHIyO1xuICAgIG46IGlmIChcInN0eWxlXCIgPT0gbDIpIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiB1MikgbjIuc3R5bGUuY3NzVGV4dCA9IHUyO1xuICAgIGVsc2Uge1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHQyICYmIChuMi5zdHlsZS5jc3NUZXh0ID0gdDIgPSBcIlwiKSwgdDIpIGZvciAobDIgaW4gdDIpIHUyICYmIGwyIGluIHUyIHx8IFQkNihuMi5zdHlsZSwgbDIsIFwiXCIpO1xuICAgICAgaWYgKHUyKSBmb3IgKGwyIGluIHUyKSB0MiAmJiB1MltsMl0gPT0gdDJbbDJdIHx8IFQkNihuMi5zdHlsZSwgbDIsIHUyW2wyXSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKFwib1wiID09IGwyWzBdICYmIFwiblwiID09IGwyWzFdKSByMiA9IGwyICE9IChsMiA9IGwyLnJlcGxhY2UoZiQ5LCBcIiQxXCIpKSwgbDIgPSBsMi50b0xvd2VyQ2FzZSgpIGluIG4yIHx8IFwib25Gb2N1c091dFwiID09IGwyIHx8IFwib25Gb2N1c0luXCIgPT0gbDIgPyBsMi50b0xvd2VyQ2FzZSgpLnNsaWNlKDIpIDogbDIuc2xpY2UoMiksIG4yLmwgfHwgKG4yLmwgPSB7fSksIG4yLmxbbDIgKyByMl0gPSB1MiwgdTIgPyB0MiA/IHUyLnUgPSB0Mi51IDogKHUyLnUgPSBjJDcsIG4yLmFkZEV2ZW50TGlzdGVuZXIobDIsIHIyID8gYSRiIDogcyQ5LCByMikpIDogbjIucmVtb3ZlRXZlbnRMaXN0ZW5lcihsMiwgcjIgPyBhJGIgOiBzJDksIHIyKTtcbiAgICBlbHNlIHtcbiAgICAgIGlmIChcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgPT0gaTIpIGwyID0gbDIucmVwbGFjZSgveGxpbmsoSHw6aCkvLCBcImhcIikucmVwbGFjZSgvc05hbWUkLywgXCJzXCIpO1xuICAgICAgZWxzZSBpZiAoXCJ3aWR0aFwiICE9IGwyICYmIFwiaGVpZ2h0XCIgIT0gbDIgJiYgXCJocmVmXCIgIT0gbDIgJiYgXCJsaXN0XCIgIT0gbDIgJiYgXCJmb3JtXCIgIT0gbDIgJiYgXCJ0YWJJbmRleFwiICE9IGwyICYmIFwiZG93bmxvYWRcIiAhPSBsMiAmJiBcInJvd1NwYW5cIiAhPSBsMiAmJiBcImNvbFNwYW5cIiAhPSBsMiAmJiBcInJvbGVcIiAhPSBsMiAmJiBcInBvcG92ZXJcIiAhPSBsMiAmJiBsMiBpbiBuMikgdHJ5IHtcbiAgICAgICAgbjJbbDJdID0gbnVsbCA9PSB1MiA/IFwiXCIgOiB1MjtcbiAgICAgICAgYnJlYWsgbjtcbiAgICAgIH0gY2F0Y2ggKG4zKSB7XG4gICAgICB9XG4gICAgICBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHUyIHx8IChudWxsID09IHUyIHx8IGZhbHNlID09PSB1MiAmJiBcIi1cIiAhPSBsMls0XSA/IG4yLnJlbW92ZUF0dHJpYnV0ZShsMikgOiBuMi5zZXRBdHRyaWJ1dGUobDIsIFwicG9wb3ZlclwiID09IGwyICYmIDEgPT0gdTIgPyBcIlwiIDogdTIpKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gRiQ2KG4yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHUyKSB7XG4gICAgICBpZiAodGhpcy5sKSB7XG4gICAgICAgIHZhciB0MiA9IHRoaXMubFt1Mi50eXBlICsgbjJdO1xuICAgICAgICBpZiAobnVsbCA9PSB1Mi50KSB1Mi50ID0gYyQ3Kys7XG4gICAgICAgIGVsc2UgaWYgKHUyLnQgPCB0Mi51KSByZXR1cm47XG4gICAgICAgIHJldHVybiB0MihsJDQuZXZlbnQgPyBsJDQuZXZlbnQodTIpIDogdTIpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gTyQzKG4yLCB1MiwgdDIsIGkyLCByMiwgbzIsIGUyLCBmMiwgYzIsIHMyKSB7XG4gICAgdmFyIGEyLCBoMiwgcDIsIHkyLCB2MiwgXzIsIG0yLCBiMiwgUzIsIEMyLCBNMiwgJDIsIFAyLCBBMiwgSDIsIEwyLCBUMiwgajIgPSB1Mi50eXBlO1xuICAgIGlmIChudWxsICE9IHUyLmNvbnN0cnVjdG9yKSByZXR1cm4gbnVsbDtcbiAgICAxMjggJiB0Mi5fX3UgJiYgKGMyID0gISEoMzIgJiB0Mi5fX3UpLCBvMiA9IFtmMiA9IHUyLl9fZSA9IHQyLl9fZV0pLCAoYTIgPSBsJDQuX19iKSAmJiBhMih1Mik7XG4gICAgbjogaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgajIpIHRyeSB7XG4gICAgICBpZiAoYjIgPSB1Mi5wcm9wcywgUzIgPSBcInByb3RvdHlwZVwiIGluIGoyICYmIGoyLnByb3RvdHlwZS5yZW5kZXIsIEMyID0gKGEyID0gajIuY29udGV4dFR5cGUpICYmIGkyW2EyLl9fY10sIE0yID0gYTIgPyBDMiA/IEMyLnByb3BzLnZhbHVlIDogYTIuX18gOiBpMiwgdDIuX19jID8gbTIgPSAoaDIgPSB1Mi5fX2MgPSB0Mi5fX2MpLl9fID0gaDIuX19FIDogKFMyID8gdTIuX19jID0gaDIgPSBuZXcgajIoYjIsIE0yKSA6ICh1Mi5fX2MgPSBoMiA9IG5ldyB4JDUoYjIsIE0yKSwgaDIuY29uc3RydWN0b3IgPSBqMiwgaDIucmVuZGVyID0gRCQzKSwgQzIgJiYgQzIuc3ViKGgyKSwgaDIucHJvcHMgPSBiMiwgaDIuc3RhdGUgfHwgKGgyLnN0YXRlID0ge30pLCBoMi5jb250ZXh0ID0gTTIsIGgyLl9fbiA9IGkyLCBwMiA9IGgyLl9fZCA9IHRydWUsIGgyLl9faCA9IFtdLCBoMi5fc2IgPSBbXSksIFMyICYmIG51bGwgPT0gaDIuX19zICYmIChoMi5fX3MgPSBoMi5zdGF0ZSksIFMyICYmIG51bGwgIT0gajIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICYmIChoMi5fX3MgPT0gaDIuc3RhdGUgJiYgKGgyLl9fcyA9IGQkNSh7fSwgaDIuX19zKSksIGQkNShoMi5fX3MsIGoyLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhiMiwgaDIuX19zKSkpLCB5MiA9IGgyLnByb3BzLCB2MiA9IGgyLnN0YXRlLCBoMi5fX3YgPSB1MiwgcDIpIFMyICYmIG51bGwgPT0gajIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICYmIG51bGwgIT0gaDIuY29tcG9uZW50V2lsbE1vdW50ICYmIGgyLmNvbXBvbmVudFdpbGxNb3VudCgpLCBTMiAmJiBudWxsICE9IGgyLmNvbXBvbmVudERpZE1vdW50ICYmIGgyLl9faC5wdXNoKGgyLmNvbXBvbmVudERpZE1vdW50KTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoUzIgJiYgbnVsbCA9PSBqMi5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgJiYgYjIgIT09IHkyICYmIG51bGwgIT0gaDIuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJiBoMi5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKGIyLCBNMiksICFoMi5fX2UgJiYgbnVsbCAhPSBoMi5zaG91bGRDb21wb25lbnRVcGRhdGUgJiYgZmFsc2UgPT09IGgyLnNob3VsZENvbXBvbmVudFVwZGF0ZShiMiwgaDIuX19zLCBNMikgfHwgdTIuX192ID09IHQyLl9fdikge1xuICAgICAgICAgIGZvciAodTIuX192ICE9IHQyLl9fdiAmJiAoaDIucHJvcHMgPSBiMiwgaDIuc3RhdGUgPSBoMi5fX3MsIGgyLl9fZCA9IGZhbHNlKSwgdTIuX19lID0gdDIuX19lLCB1Mi5fX2sgPSB0Mi5fX2ssIHUyLl9fay5zb21lKGZ1bmN0aW9uKG4zKSB7XG4gICAgICAgICAgICBuMyAmJiAobjMuX18gPSB1Mik7XG4gICAgICAgICAgfSksICQyID0gMDsgJDIgPCBoMi5fc2IubGVuZ3RoOyAkMisrKSBoMi5fX2gucHVzaChoMi5fc2JbJDJdKTtcbiAgICAgICAgICBoMi5fc2IgPSBbXSwgaDIuX19oLmxlbmd0aCAmJiBlMi5wdXNoKGgyKTtcbiAgICAgICAgICBicmVhayBuO1xuICAgICAgICB9XG4gICAgICAgIG51bGwgIT0gaDIuY29tcG9uZW50V2lsbFVwZGF0ZSAmJiBoMi5jb21wb25lbnRXaWxsVXBkYXRlKGIyLCBoMi5fX3MsIE0yKSwgUzIgJiYgbnVsbCAhPSBoMi5jb21wb25lbnREaWRVcGRhdGUgJiYgaDIuX19oLnB1c2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaDIuY29tcG9uZW50RGlkVXBkYXRlKHkyLCB2MiwgXzIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChoMi5jb250ZXh0ID0gTTIsIGgyLnByb3BzID0gYjIsIGgyLl9fUCA9IG4yLCBoMi5fX2UgPSBmYWxzZSwgUDIgPSBsJDQuX19yLCBBMiA9IDAsIFMyKSB7XG4gICAgICAgIGZvciAoaDIuc3RhdGUgPSBoMi5fX3MsIGgyLl9fZCA9IGZhbHNlLCBQMiAmJiBQMih1MiksIGEyID0gaDIucmVuZGVyKGgyLnByb3BzLCBoMi5zdGF0ZSwgaDIuY29udGV4dCksIEgyID0gMDsgSDIgPCBoMi5fc2IubGVuZ3RoOyBIMisrKSBoMi5fX2gucHVzaChoMi5fc2JbSDJdKTtcbiAgICAgICAgaDIuX3NiID0gW107XG4gICAgICB9IGVsc2UgZG8ge1xuICAgICAgICBoMi5fX2QgPSBmYWxzZSwgUDIgJiYgUDIodTIpLCBhMiA9IGgyLnJlbmRlcihoMi5wcm9wcywgaDIuc3RhdGUsIGgyLmNvbnRleHQpLCBoMi5zdGF0ZSA9IGgyLl9fcztcbiAgICAgIH0gd2hpbGUgKGgyLl9fZCAmJiArK0EyIDwgMjUpO1xuICAgICAgaDIuc3RhdGUgPSBoMi5fX3MsIG51bGwgIT0gaDIuZ2V0Q2hpbGRDb250ZXh0ICYmIChpMiA9IGQkNShkJDUoe30sIGkyKSwgaDIuZ2V0Q2hpbGRDb250ZXh0KCkpKSwgUzIgJiYgIXAyICYmIG51bGwgIT0gaDIuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgJiYgKF8yID0gaDIuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoeTIsIHYyKSksIEwyID0gYTIsIG51bGwgIT0gYTIgJiYgYTIudHlwZSA9PT0gayQzICYmIG51bGwgPT0gYTIua2V5ICYmIChMMiA9IE4kMihhMi5wcm9wcy5jaGlsZHJlbikpLCBmMiA9IEkkNChuMiwgdyQ1KEwyKSA/IEwyIDogW0wyXSwgdTIsIHQyLCBpMiwgcjIsIG8yLCBlMiwgZjIsIGMyLCBzMiksIGgyLmJhc2UgPSB1Mi5fX2UsIHUyLl9fdSAmPSAtMTYxLCBoMi5fX2gubGVuZ3RoICYmIGUyLnB1c2goaDIpLCBtMiAmJiAoaDIuX19FID0gaDIuX18gPSBudWxsKTtcbiAgICB9IGNhdGNoIChuMykge1xuICAgICAgaWYgKHUyLl9fdiA9IG51bGwsIGMyIHx8IG51bGwgIT0gbzIpIGlmIChuMy50aGVuKSB7XG4gICAgICAgIGZvciAodTIuX191IHw9IGMyID8gMTYwIDogMTI4OyBmMiAmJiA4ID09IGYyLm5vZGVUeXBlICYmIGYyLm5leHRTaWJsaW5nOyApIGYyID0gZjIubmV4dFNpYmxpbmc7XG4gICAgICAgIG8yW28yLmluZGV4T2YoZjIpXSA9IG51bGwsIHUyLl9fZSA9IGYyO1xuICAgICAgfSBlbHNlIGZvciAoVDIgPSBvMi5sZW5ndGg7IFQyLS07ICkgZyQ0KG8yW1QyXSk7XG4gICAgICBlbHNlIHUyLl9fZSA9IHQyLl9fZSwgdTIuX19rID0gdDIuX19rO1xuICAgICAgbCQ0Ll9fZShuMywgdTIsIHQyKTtcbiAgICB9XG4gICAgZWxzZSBudWxsID09IG8yICYmIHUyLl9fdiA9PSB0Mi5fX3YgPyAodTIuX19rID0gdDIuX19rLCB1Mi5fX2UgPSB0Mi5fX2UpIDogZjIgPSB1Mi5fX2UgPSBWJDIodDIuX19lLCB1MiwgdDIsIGkyLCByMiwgbzIsIGUyLCBjMiwgczIpO1xuICAgIHJldHVybiAoYTIgPSBsJDQuZGlmZmVkKSAmJiBhMih1MiksIDEyOCAmIHUyLl9fdSA/IHZvaWQgMCA6IGYyO1xuICB9XG4gIGZ1bmN0aW9uIHokMyhuMiwgdTIsIHQyKSB7XG4gICAgZm9yICh2YXIgaTIgPSAwOyBpMiA8IHQyLmxlbmd0aDsgaTIrKykgcSQ0KHQyW2kyXSwgdDJbKytpMl0sIHQyWysraTJdKTtcbiAgICBsJDQuX19jICYmIGwkNC5fX2ModTIsIG4yKSwgbjIuc29tZShmdW5jdGlvbih1Mykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbjIgPSB1My5fX2gsIHUzLl9faCA9IFtdLCBuMi5zb21lKGZ1bmN0aW9uKG4zKSB7XG4gICAgICAgICAgbjMuY2FsbCh1Myk7XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAobjMpIHtcbiAgICAgICAgbCQ0Ll9fZShuMywgdTMuX192KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBOJDIobjIpIHtcbiAgICByZXR1cm4gXCJvYmplY3RcIiAhPSB0eXBlb2YgbjIgfHwgbnVsbCA9PSBuMiB8fCBuMi5fX2IgJiYgbjIuX19iID4gMCA/IG4yIDogdyQ1KG4yKSA/IG4yLm1hcChOJDIpIDogZCQ1KHt9LCBuMik7XG4gIH1cbiAgZnVuY3Rpb24gViQyKHUyLCB0MiwgaTIsIHIyLCBvMiwgZTIsIGYyLCBjMiwgczIpIHtcbiAgICB2YXIgYTIsIGgyLCB5MiwgdjIsIGQyLCBfMiwgbTIsIGIyID0gaTIucHJvcHMsIGsyID0gdDIucHJvcHMsIHgyID0gdDIudHlwZTtcbiAgICBpZiAoXCJzdmdcIiA9PSB4MiA/IG8yID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIDogXCJtYXRoXCIgPT0geDIgPyBvMiA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiIDogbzIgfHwgKG8yID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIpLCBudWxsICE9IGUyKSB7XG4gICAgICBmb3IgKGEyID0gMDsgYTIgPCBlMi5sZW5ndGg7IGEyKyspIGlmICgoZDIgPSBlMlthMl0pICYmIFwic2V0QXR0cmlidXRlXCIgaW4gZDIgPT0gISF4MiAmJiAoeDIgPyBkMi5sb2NhbE5hbWUgPT0geDIgOiAzID09IGQyLm5vZGVUeXBlKSkge1xuICAgICAgICB1MiA9IGQyLCBlMlthMl0gPSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG51bGwgPT0gdTIpIHtcbiAgICAgIGlmIChudWxsID09IHgyKSByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoazIpO1xuICAgICAgdTIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobzIsIHgyLCBrMi5pcyAmJiBrMiksIGMyICYmIChsJDQuX19tICYmIGwkNC5fX20odDIsIGUyKSwgYzIgPSBmYWxzZSksIGUyID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKG51bGwgPT0geDIpIGIyID09PSBrMiB8fCBjMiAmJiB1Mi5kYXRhID09IGsyIHx8ICh1Mi5kYXRhID0gazIpO1xuICAgIGVsc2Uge1xuICAgICAgaWYgKGUyID0gZTIgJiYgbiQ0LmNhbGwodTIuY2hpbGROb2RlcyksIGIyID0gaTIucHJvcHMgfHwgcCQ0LCAhYzIgJiYgbnVsbCAhPSBlMikgZm9yIChiMiA9IHt9LCBhMiA9IDA7IGEyIDwgdTIuYXR0cmlidXRlcy5sZW5ndGg7IGEyKyspIGIyWyhkMiA9IHUyLmF0dHJpYnV0ZXNbYTJdKS5uYW1lXSA9IGQyLnZhbHVlO1xuICAgICAgZm9yIChhMiBpbiBiMikgaWYgKGQyID0gYjJbYTJdLCBcImNoaWxkcmVuXCIgPT0gYTIpIDtcbiAgICAgIGVsc2UgaWYgKFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIiA9PSBhMikgeTIgPSBkMjtcbiAgICAgIGVsc2UgaWYgKCEoYTIgaW4gazIpKSB7XG4gICAgICAgIGlmIChcInZhbHVlXCIgPT0gYTIgJiYgXCJkZWZhdWx0VmFsdWVcIiBpbiBrMiB8fCBcImNoZWNrZWRcIiA9PSBhMiAmJiBcImRlZmF1bHRDaGVja2VkXCIgaW4gazIpIGNvbnRpbnVlO1xuICAgICAgICBqJDUodTIsIGEyLCBudWxsLCBkMiwgbzIpO1xuICAgICAgfVxuICAgICAgZm9yIChhMiBpbiBrMikgZDIgPSBrMlthMl0sIFwiY2hpbGRyZW5cIiA9PSBhMiA/IHYyID0gZDIgOiBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCIgPT0gYTIgPyBoMiA9IGQyIDogXCJ2YWx1ZVwiID09IGEyID8gXzIgPSBkMiA6IFwiY2hlY2tlZFwiID09IGEyID8gbTIgPSBkMiA6IGMyICYmIFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZDIgfHwgYjJbYTJdID09PSBkMiB8fCBqJDUodTIsIGEyLCBkMiwgYjJbYTJdLCBvMik7XG4gICAgICBpZiAoaDIpIGMyIHx8IHkyICYmIChoMi5fX2h0bWwgPT0geTIuX19odG1sIHx8IGgyLl9faHRtbCA9PSB1Mi5pbm5lckhUTUwpIHx8ICh1Mi5pbm5lckhUTUwgPSBoMi5fX2h0bWwpLCB0Mi5fX2sgPSBbXTtcbiAgICAgIGVsc2UgaWYgKHkyICYmICh1Mi5pbm5lckhUTUwgPSBcIlwiKSwgSSQ0KFwidGVtcGxhdGVcIiA9PSB0Mi50eXBlID8gdTIuY29udGVudCA6IHUyLCB3JDUodjIpID8gdjIgOiBbdjJdLCB0MiwgaTIsIHIyLCBcImZvcmVpZ25PYmplY3RcIiA9PSB4MiA/IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiIDogbzIsIGUyLCBmMiwgZTIgPyBlMlswXSA6IGkyLl9fayAmJiBTJDUoaTIsIDApLCBjMiwgczIpLCBudWxsICE9IGUyKSBmb3IgKGEyID0gZTIubGVuZ3RoOyBhMi0tOyApIGckNChlMlthMl0pO1xuICAgICAgYzIgfHwgKGEyID0gXCJ2YWx1ZVwiLCBcInByb2dyZXNzXCIgPT0geDIgJiYgbnVsbCA9PSBfMiA/IHUyLnJlbW92ZUF0dHJpYnV0ZShcInZhbHVlXCIpIDogbnVsbCAhPSBfMiAmJiAoXzIgIT09IHUyW2EyXSB8fCBcInByb2dyZXNzXCIgPT0geDIgJiYgIV8yIHx8IFwib3B0aW9uXCIgPT0geDIgJiYgXzIgIT0gYjJbYTJdKSAmJiBqJDUodTIsIGEyLCBfMiwgYjJbYTJdLCBvMiksIGEyID0gXCJjaGVja2VkXCIsIG51bGwgIT0gbTIgJiYgbTIgIT0gdTJbYTJdICYmIGokNSh1MiwgYTIsIG0yLCBiMlthMl0sIG8yKSk7XG4gICAgfVxuICAgIHJldHVybiB1MjtcbiAgfVxuICBmdW5jdGlvbiBxJDQobjIsIHUyLCB0Mikge1xuICAgIHRyeSB7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBuMikge1xuICAgICAgICB2YXIgaTIgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG4yLl9fdTtcbiAgICAgICAgaTIgJiYgbjIuX191KCksIGkyICYmIG51bGwgPT0gdTIgfHwgKG4yLl9fdSA9IG4yKHUyKSk7XG4gICAgICB9IGVsc2UgbjIuY3VycmVudCA9IHUyO1xuICAgIH0gY2F0Y2ggKG4zKSB7XG4gICAgICBsJDQuX19lKG4zLCB0Mik7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIEIkMyhuMiwgdTIsIHQyKSB7XG4gICAgdmFyIGkyLCByMjtcbiAgICBpZiAobCQ0LnVubW91bnQgJiYgbCQ0LnVubW91bnQobjIpLCAoaTIgPSBuMi5yZWYpICYmIChpMi5jdXJyZW50ICYmIGkyLmN1cnJlbnQgIT0gbjIuX19lIHx8IHEkNChpMiwgbnVsbCwgdTIpKSwgbnVsbCAhPSAoaTIgPSBuMi5fX2MpKSB7XG4gICAgICBpZiAoaTIuY29tcG9uZW50V2lsbFVubW91bnQpIHRyeSB7XG4gICAgICAgIGkyLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG4gICAgICB9IGNhdGNoIChuMykge1xuICAgICAgICBsJDQuX19lKG4zLCB1Mik7XG4gICAgICB9XG4gICAgICBpMi5iYXNlID0gaTIuX19QID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGkyID0gbjIuX19rKSBmb3IgKHIyID0gMDsgcjIgPCBpMi5sZW5ndGg7IHIyKyspIGkyW3IyXSAmJiBCJDMoaTJbcjJdLCB1MiwgdDIgfHwgXCJmdW5jdGlvblwiICE9IHR5cGVvZiBuMi50eXBlKTtcbiAgICB0MiB8fCBnJDQobjIuX19lKSwgbjIuX19jID0gbjIuX18gPSBuMi5fX2UgPSB2b2lkIDA7XG4gIH1cbiAgZnVuY3Rpb24gRCQzKG4yLCBsMiwgdTIpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RvcihuMiwgdTIpO1xuICB9XG4gIGZ1bmN0aW9uIEUkMyh1MiwgdDIsIGkyKSB7XG4gICAgdmFyIHIyLCBvMiwgZTIsIGYyO1xuICAgIHQyID09IGRvY3VtZW50ICYmICh0MiA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCksIGwkNC5fXyAmJiBsJDQuX18odTIsIHQyKSwgbzIgPSAocjIgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGkyKSA/IG51bGwgOiBpMiAmJiBpMi5fX2sgfHwgdDIuX19rLCBlMiA9IFtdLCBmMiA9IFtdLCBPJDModDIsIHUyID0gKCFyMiAmJiBpMiB8fCB0MikuX19rID0gXyQ0KGskMywgbnVsbCwgW3UyXSksIG8yIHx8IHAkNCwgcCQ0LCB0Mi5uYW1lc3BhY2VVUkksICFyMiAmJiBpMiA/IFtpMl0gOiBvMiA/IG51bGwgOiB0Mi5maXJzdENoaWxkID8gbiQ0LmNhbGwodDIuY2hpbGROb2RlcykgOiBudWxsLCBlMiwgIXIyICYmIGkyID8gaTIgOiBvMiA/IG8yLl9fZSA6IHQyLmZpcnN0Q2hpbGQsIHIyLCBmMiksIHokMyhlMiwgdTIsIGYyKTtcbiAgfVxuICBmdW5jdGlvbiBHJDMobjIsIGwyKSB7XG4gICAgRSQzKG4yLCBsMiwgRyQzKTtcbiAgfVxuICBmdW5jdGlvbiBKJDQobDIsIHUyLCB0Mikge1xuICAgIHZhciBpMiwgcjIsIG8yLCBlMiwgZjIgPSBkJDUoe30sIGwyLnByb3BzKTtcbiAgICBmb3IgKG8yIGluIGwyLnR5cGUgJiYgbDIudHlwZS5kZWZhdWx0UHJvcHMgJiYgKGUyID0gbDIudHlwZS5kZWZhdWx0UHJvcHMpLCB1MikgXCJrZXlcIiA9PSBvMiA/IGkyID0gdTJbbzJdIDogXCJyZWZcIiA9PSBvMiA/IHIyID0gdTJbbzJdIDogZjJbbzJdID0gbnVsbCA9PSB1MltvMl0gJiYgbnVsbCAhPSBlMiA/IGUyW28yXSA6IHUyW28yXTtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgKGYyLmNoaWxkcmVuID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgPyBuJDQuY2FsbChhcmd1bWVudHMsIDIpIDogdDIpLCBtJDYobDIudHlwZSwgZjIsIGkyIHx8IGwyLmtleSwgcjIgfHwgbDIucmVmLCBudWxsKTtcbiAgfVxuICBmdW5jdGlvbiBLJDMobjIpIHtcbiAgICBmdW5jdGlvbiBsMihuMykge1xuICAgICAgdmFyIHUyLCB0MjtcbiAgICAgIHJldHVybiB0aGlzLmdldENoaWxkQ29udGV4dCB8fCAodTIgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpLCAodDIgPSB7fSlbbDIuX19jXSA9IHRoaXMsIHRoaXMuZ2V0Q2hpbGRDb250ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0MjtcbiAgICAgIH0sIHRoaXMuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdTIgPSBudWxsO1xuICAgICAgfSwgdGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbihuNCkge1xuICAgICAgICB0aGlzLnByb3BzLnZhbHVlICE9IG40LnZhbHVlICYmIHUyLmZvckVhY2goZnVuY3Rpb24objUpIHtcbiAgICAgICAgICBuNS5fX2UgPSB0cnVlLCBNJDQobjUpO1xuICAgICAgICB9KTtcbiAgICAgIH0sIHRoaXMuc3ViID0gZnVuY3Rpb24objQpIHtcbiAgICAgICAgdTIuYWRkKG40KTtcbiAgICAgICAgdmFyIGwzID0gbjQuY29tcG9uZW50V2lsbFVubW91bnQ7XG4gICAgICAgIG40LmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdTIgJiYgdTIuZGVsZXRlKG40KSwgbDMgJiYgbDMuY2FsbChuNCk7XG4gICAgICAgIH07XG4gICAgICB9KSwgbjMuY2hpbGRyZW47XG4gICAgfVxuICAgIHJldHVybiBsMi5fX2MgPSBcIl9fY0NcIiArIGgkNisrLCBsMi5fXyA9IG4yLCBsMi5Qcm92aWRlciA9IGwyLl9fbCA9IChsMi5Db25zdW1lciA9IGZ1bmN0aW9uKG4zLCBsMykge1xuICAgICAgcmV0dXJuIG4zLmNoaWxkcmVuKGwzKTtcbiAgICB9KS5jb250ZXh0VHlwZSA9IGwyLCBsMjtcbiAgfVxuICBuJDQgPSB5JDcuc2xpY2UsIGwkNCA9IHsgX19lOiBmdW5jdGlvbihuMiwgbDIsIHUyLCB0Mikge1xuICAgIGZvciAodmFyIGkyLCByMiwgbzI7IGwyID0gbDIuX187ICkgaWYgKChpMiA9IGwyLl9fYykgJiYgIWkyLl9fKSB0cnkge1xuICAgICAgaWYgKChyMiA9IGkyLmNvbnN0cnVjdG9yKSAmJiBudWxsICE9IHIyLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciAmJiAoaTIuc2V0U3RhdGUocjIuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKG4yKSksIG8yID0gaTIuX19kKSwgbnVsbCAhPSBpMi5jb21wb25lbnREaWRDYXRjaCAmJiAoaTIuY29tcG9uZW50RGlkQ2F0Y2gobjIsIHQyIHx8IHt9KSwgbzIgPSBpMi5fX2QpLCBvMikgcmV0dXJuIGkyLl9fRSA9IGkyO1xuICAgIH0gY2F0Y2ggKGwzKSB7XG4gICAgICBuMiA9IGwzO1xuICAgIH1cbiAgICB0aHJvdyBuMjtcbiAgfSB9LCB1JGEgPSAwLCB4JDUucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24objIsIGwyKSB7XG4gICAgdmFyIHUyO1xuICAgIHUyID0gbnVsbCAhPSB0aGlzLl9fcyAmJiB0aGlzLl9fcyAhPSB0aGlzLnN0YXRlID8gdGhpcy5fX3MgOiB0aGlzLl9fcyA9IGQkNSh7fSwgdGhpcy5zdGF0ZSksIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgbjIgJiYgKG4yID0gbjIoZCQ1KHt9LCB1MiksIHRoaXMucHJvcHMpKSwgbjIgJiYgZCQ1KHUyLCBuMiksIG51bGwgIT0gbjIgJiYgdGhpcy5fX3YgJiYgKGwyICYmIHRoaXMuX3NiLnB1c2gobDIpLCBNJDQodGhpcykpO1xuICB9LCB4JDUucHJvdG90eXBlLmZvcmNlVXBkYXRlID0gZnVuY3Rpb24objIpIHtcbiAgICB0aGlzLl9fdiAmJiAodGhpcy5fX2UgPSB0cnVlLCBuMiAmJiB0aGlzLl9faC5wdXNoKG4yKSwgTSQ0KHRoaXMpKTtcbiAgfSwgeCQ1LnByb3RvdHlwZS5yZW5kZXIgPSBrJDMsIGkkOCA9IFtdLCBvJDkgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFByb21pc2UgPyBQcm9taXNlLnByb3RvdHlwZS50aGVuLmJpbmQoUHJvbWlzZS5yZXNvbHZlKCkpIDogc2V0VGltZW91dCwgZSQ1ID0gZnVuY3Rpb24objIsIGwyKSB7XG4gICAgcmV0dXJuIG4yLl9fdi5fX2IgLSBsMi5fX3YuX19iO1xuICB9LCAkJDIuX19yID0gMCwgZiQ5ID0gLyhQb2ludGVyQ2FwdHVyZSkkfENhcHR1cmUkL2ksIGMkNyA9IDAsIHMkOSA9IEYkNihmYWxzZSksIGEkYiA9IEYkNih0cnVlKSwgaCQ2ID0gMDtcbiAgY29uc3QgYXBwU3R5bGUgPSAnLyohIHRhaWx3aW5kY3NzIHY0LjEuNSB8IE1JVCBMaWNlbnNlIHwgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20gKi9cXG5AbGF5ZXIgcHJvcGVydGllc3tAc3VwcG9ydHMgKCgtd2Via2l0LWh5cGhlbnM6bm9uZSkgYW5kIChub3QgKG1hcmdpbi10cmltOmlubGluZSkpKSBvciAoKC1tb3otb3JpZW50OmlubGluZSkgYW5kIChub3QgKGNvbG9yOnJnYihmcm9tIHJlZCByIGcgYikpKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgKixzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6YmVmb3JlLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDphZnRlcixzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6OmJhY2tkcm9wey0tdHctcm90YXRlLXg6aW5pdGlhbDstLXR3LXJvdGF0ZS15OmluaXRpYWw7LS10dy1yb3RhdGUtejppbml0aWFsOy0tdHctc2tldy14OmluaXRpYWw7LS10dy1za2V3LXk6aW5pdGlhbDstLXR3LWJvcmRlci1zdHlsZTpzb2xpZDstLXR3LWdyYWRpZW50LXBvc2l0aW9uOmluaXRpYWw7LS10dy1ncmFkaWVudC1mcm9tOiMwMDAwOy0tdHctZ3JhZGllbnQtdmlhOiMwMDAwOy0tdHctZ3JhZGllbnQtdG86IzAwMDA7LS10dy1ncmFkaWVudC1zdG9wczppbml0aWFsOy0tdHctZ3JhZGllbnQtdmlhLXN0b3BzOmluaXRpYWw7LS10dy1ncmFkaWVudC1mcm9tLXBvc2l0aW9uOjAlOy0tdHctZ3JhZGllbnQtdmlhLXBvc2l0aW9uOjUwJTstLXR3LWdyYWRpZW50LXRvLXBvc2l0aW9uOjEwMCU7LS10dy1mb250LXdlaWdodDppbml0aWFsOy0tdHctc2hhZG93OjAgMCAjMDAwMDstLXR3LXNoYWRvdy1jb2xvcjppbml0aWFsOy0tdHctc2hhZG93LWFscGhhOjEwMCU7LS10dy1pbnNldC1zaGFkb3c6MCAwICMwMDAwOy0tdHctaW5zZXQtc2hhZG93LWNvbG9yOmluaXRpYWw7LS10dy1pbnNldC1zaGFkb3ctYWxwaGE6MTAwJTstLXR3LXJpbmctY29sb3I6aW5pdGlhbDstLXR3LXJpbmctc2hhZG93OjAgMCAjMDAwMDstLXR3LWluc2V0LXJpbmctY29sb3I6aW5pdGlhbDstLXR3LWluc2V0LXJpbmctc2hhZG93OjAgMCAjMDAwMDstLXR3LXJpbmctaW5zZXQ6aW5pdGlhbDstLXR3LXJpbmctb2Zmc2V0LXdpZHRoOjBweDstLXR3LXJpbmctb2Zmc2V0LWNvbG9yOiNmZmY7LS10dy1yaW5nLW9mZnNldC1zaGFkb3c6MCAwICMwMDAwOy0tdHctYmx1cjppbml0aWFsOy0tdHctYnJpZ2h0bmVzczppbml0aWFsOy0tdHctY29udHJhc3Q6aW5pdGlhbDstLXR3LWdyYXlzY2FsZTppbml0aWFsOy0tdHctaHVlLXJvdGF0ZTppbml0aWFsOy0tdHctaW52ZXJ0OmluaXRpYWw7LS10dy1vcGFjaXR5OmluaXRpYWw7LS10dy1zYXR1cmF0ZTppbml0aWFsOy0tdHctc2VwaWE6aW5pdGlhbDstLXR3LWRyb3Atc2hhZG93OmluaXRpYWw7LS10dy1kcm9wLXNoYWRvdy1jb2xvcjppbml0aWFsOy0tdHctZHJvcC1zaGFkb3ctYWxwaGE6MTAwJTstLXR3LWRyb3Atc2hhZG93LXNpemU6aW5pdGlhbDstLXR3LWJhY2tkcm9wLWJsdXI6aW5pdGlhbDstLXR3LWJhY2tkcm9wLWJyaWdodG5lc3M6aW5pdGlhbDstLXR3LWJhY2tkcm9wLWNvbnRyYXN0OmluaXRpYWw7LS10dy1iYWNrZHJvcC1ncmF5c2NhbGU6aW5pdGlhbDstLXR3LWJhY2tkcm9wLWh1ZS1yb3RhdGU6aW5pdGlhbDstLXR3LWJhY2tkcm9wLWludmVydDppbml0aWFsOy0tdHctYmFja2Ryb3Atb3BhY2l0eTppbml0aWFsOy0tdHctYmFja2Ryb3Atc2F0dXJhdGU6aW5pdGlhbDstLXR3LWJhY2tkcm9wLXNlcGlhOmluaXRpYWw7LS10dy1kdXJhdGlvbjppbml0aWFsfX19QGxheWVyIHRoZW1le3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yey0tZm9udC1zYW5zOnVpLXNhbnMtc2VyaWYsc3lzdGVtLXVpLHNhbnMtc2VyaWYsXCJBcHBsZSBDb2xvciBFbW9qaVwiLFwiU2Vnb2UgVUkgRW1vamlcIixcIlNlZ29lIFVJIFN5bWJvbFwiLFwiTm90byBDb2xvciBFbW9qaVwiOy0tZm9udC1tb25vOnVpLW1vbm9zcGFjZSxTRk1vbm8tUmVndWxhcixNZW5sbyxNb25hY28sQ29uc29sYXMsXCJMaWJlcmF0aW9uIE1vbm9cIixcIkNvdXJpZXIgTmV3XCIsbW9ub3NwYWNlOy0tY29sb3ItcmVkLTYwMDpva2xjaCg1Ny43JSAuMjQ1IDI3LjMyNSk7LS1jb2xvci1ncmVlbi02MDA6b2tsY2goNjIuNyUgLjE5NCAxNDkuMjE0KTstLWNvbG9yLXRlYWwtNTAwOm9rbGNoKDcwLjQlIC4xNCAxODIuNTAzKTstLWNvbG9yLWJsdWUtNTAwOm9rbGNoKDYyLjMlIC4yMTQgMjU5LjgxNSk7LS1jb2xvci1ibHVlLTYwMDpva2xjaCg1NC42JSAuMjQ1IDI2Mi44ODEpOy0tY29sb3ItaW5kaWdvLTcwMDpva2xjaCg0NS43JSAuMjQgMjc3LjAyMyk7LS1jb2xvci1pbmRpZ28tOTUwOm9rbGNoKDI1LjclIC4wOSAyODEuMjg4KTstLWNvbG9yLXJvc2UtNjAwOm9rbGNoKDU4LjYlIC4yNTMgMTcuNTg1KTstLWNvbG9yLXppbmMtNTA6b2tsY2goOTguNSUgMCAwKTstLWNvbG9yLXppbmMtMTAwOm9rbGNoKDk2LjclIC4wMDEgMjg2LjM3NSk7LS1jb2xvci16aW5jLTUwMDpva2xjaCg1NS4yJSAuMDE2IDI4NS45MzgpOy0tY29sb3ItemluYy02MDA6b2tsY2goNDQuMiUgLjAxNyAyODUuNzg2KTstLWNvbG9yLXppbmMtNzAwOm9rbGNoKDM3JSAuMDEzIDI4NS44MDUpOy0tY29sb3ItemluYy05MDA6b2tsY2goMjElIC4wMDYgMjg1Ljg4NSk7LS1jb2xvci16aW5jLTk1MDpva2xjaCgxNC4xJSAuMDA1IDI4NS44MjMpOy0tY29sb3ItYmxhY2s6IzAwMDstLWNvbG9yLXdoaXRlOiNmZmY7LS1zcGFjaW5nOi4yNXJlbTstLWNvbnRhaW5lci1zbToyNHJlbTstLXRleHQteHM6Ljc1cmVtOy0tdGV4dC14cy0tbGluZS1oZWlnaHQ6Y2FsYygxLy43NSk7LS10ZXh0LXNtOi44NzVyZW07LS10ZXh0LXNtLS1saW5lLWhlaWdodDpjYWxjKDEuMjUvLjg3NSk7LS10ZXh0LWJhc2U6MXJlbTstLXRleHQtYmFzZS0tbGluZS1oZWlnaHQ6Y2FsYygxLjUvMSk7LS1mb250LXdlaWdodC1ub3JtYWw6NDAwOy0tZm9udC13ZWlnaHQtc2VtaWJvbGQ6NjAwOy0tZm9udC13ZWlnaHQtYm9sZDo3MDA7LS1yYWRpdXMtbWQ6LjM3NXJlbTstLXJhZGl1cy1sZzouNXJlbTstLXJhZGl1cy14bDouNzVyZW07LS1yYWRpdXMtMnhsOjFyZW07LS1yYWRpdXMtM3hsOjEuNXJlbTstLWRyb3Atc2hhZG93LXhzOjAgMXB4IDFweCAjMDAwMDAwMGQ7LS1kcm9wLXNoYWRvdy1tZDowIDNweCAzcHggIzAwMDAwMDFmOy0tZHJvcC1zaGFkb3cteGw6MCA5cHggN3B4ICMwMDAwMDAxYTstLWFuaW1hdGUtcHVsc2U6cHVsc2UgMnMgY3ViaWMtYmV6aWVyKC40LDAsLjYsMSlpbmZpbml0ZTstLWJsdXIteHM6NHB4Oy0tYmx1ci1zbTo4cHg7LS1ibHVyLW1kOjEycHg7LS1ibHVyLWxnOjE2cHg7LS1kZWZhdWx0LXRyYW5zaXRpb24tZHVyYXRpb246LjE1czstLWRlZmF1bHQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC40LDAsLjIsMSk7LS1kZWZhdWx0LWZvbnQtZmFtaWx5OnZhcigtLWZvbnQtc2Fucyk7LS1kZWZhdWx0LW1vbm8tZm9udC1mYW1pbHk6dmFyKC0tZm9udC1tb25vKTstLWNvbG9yLWJhY2tncm91bmQ6dmFyKC0tY29sb3Itd2hpdGUpOy0tY29sb3ItZm9yZWdyb3VuZDp2YXIoLS1jb2xvci16aW5jLTk1MCk7LS1jb2xvci1tdXRlZC1mb3JlZ3JvdW5kOnZhcigtLWNvbG9yLXppbmMtNzAwKTstLWNvbG9yLWJvcmRlcjp2YXIoLS1jb2xvci16aW5jLTUwMCl9fUBsYXllciBiYXNle3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yICosc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOmFmdGVyLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDpiZWZvcmUsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjpiYWNrZHJvcHtib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym9yZGVyOjAgc29saWQ7bWFyZ2luOjA7cGFkZGluZzowfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6ZmlsZS1zZWxlY3Rvci1idXR0b257Ym94LXNpemluZzpib3JkZXItYm94O2JvcmRlcjowIHNvbGlkO21hcmdpbjowO3BhZGRpbmc6MH06d2hlcmUoc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IpLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yey13ZWJraXQtdGV4dC1zaXplLWFkanVzdDoxMDAlOy1tb3otdGFiLXNpemU6NDstby10YWItc2l6ZTo0O3RhYi1zaXplOjQ7bGluZS1oZWlnaHQ6MS41O2ZvbnQtZmFtaWx5OnZhcigtLWRlZmF1bHQtZm9udC1mYW1pbHksdWktc2Fucy1zZXJpZixzeXN0ZW0tdWksc2Fucy1zZXJpZixcIkFwcGxlIENvbG9yIEVtb2ppXCIsXCJTZWdvZSBVSSBFbW9qaVwiLFwiU2Vnb2UgVUkgU3ltYm9sXCIsXCJOb3RvIENvbG9yIEVtb2ppXCIpO2ZvbnQtZmVhdHVyZS1zZXR0aW5nczp2YXIoLS1kZWZhdWx0LWZvbnQtZmVhdHVyZS1zZXR0aW5ncyxub3JtYWwpO2ZvbnQtdmFyaWF0aW9uLXNldHRpbmdzOnZhcigtLWRlZmF1bHQtZm9udC12YXJpYXRpb24tc2V0dGluZ3Msbm9ybWFsKTstd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6dHJhbnNwYXJlbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaHJ7aGVpZ2h0OjA7Y29sb3I6aW5oZXJpdDtib3JkZXItdG9wLXdpZHRoOjFweH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBhYmJyOndoZXJlKFt0aXRsZV0pey13ZWJraXQtdGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZSBkb3R0ZWQ7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZSBkb3R0ZWR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaDEsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaDIsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaDMsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaDQsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaDUsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaDZ7Zm9udC1zaXplOmluaGVyaXQ7Zm9udC13ZWlnaHQ6aW5oZXJpdH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBhe2NvbG9yOmluaGVyaXQ7LXdlYmtpdC10ZXh0LWRlY29yYXRpb246aW5oZXJpdDstd2Via2l0LXRleHQtZGVjb3JhdGlvbjppbmhlcml0Oy13ZWJraXQtdGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgYixzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBzdHJvbmd7Zm9udC13ZWlnaHQ6Ym9sZGVyfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGNvZGUsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3Iga2JkLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHNhbXAsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgcHJle2ZvbnQtZmFtaWx5OnZhcigtLWRlZmF1bHQtbW9uby1mb250LWZhbWlseSx1aS1tb25vc3BhY2UsU0ZNb25vLVJlZ3VsYXIsTWVubG8sTW9uYWNvLENvbnNvbGFzLFwiTGliZXJhdGlvbiBNb25vXCIsXCJDb3VyaWVyIE5ld1wiLG1vbm9zcGFjZSk7Zm9udC1mZWF0dXJlLXNldHRpbmdzOnZhcigtLWRlZmF1bHQtbW9uby1mb250LWZlYXR1cmUtc2V0dGluZ3Msbm9ybWFsKTtmb250LXZhcmlhdGlvbi1zZXR0aW5nczp2YXIoLS1kZWZhdWx0LW1vbm8tZm9udC12YXJpYXRpb24tc2V0dGluZ3Msbm9ybWFsKTtmb250LXNpemU6MWVtfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHNtYWxse2ZvbnQtc2l6ZTo4MCV9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3Igc3ViLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHN1cHt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZTtmb250LXNpemU6NzUlO2xpbmUtaGVpZ2h0OjA7cG9zaXRpb246cmVsYXRpdmV9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3Igc3Vie2JvdHRvbTotLjI1ZW19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3Igc3Vwe3RvcDotLjVlbX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciB0YWJsZXt0ZXh0LWluZGVudDowO2JvcmRlci1jb2xvcjppbmhlcml0O2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6LW1vei1mb2N1c3Jpbmd7b3V0bGluZTphdXRvfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHByb2dyZXNze3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHN1bW1hcnl7ZGlzcGxheTpsaXN0LWl0ZW19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3Igb2wsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgdWwsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgbWVudXtsaXN0LXN0eWxlOm5vbmV9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaW1nLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHN2ZyxzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciB2aWRlbyxzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBjYW52YXMsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgYXVkaW8sc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgaWZyYW1lLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGVtYmVkLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIG9iamVjdHt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7ZGlzcGxheTpibG9ja31zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBpbWcsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgdmlkZW97bWF4LXdpZHRoOjEwMCU7aGVpZ2h0OmF1dG99c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgYnV0dG9uLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGlucHV0LHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHNlbGVjdCxzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciBvcHRncm91cCxzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciB0ZXh0YXJlYXtmb250OmluaGVyaXQ7Zm9udC1mZWF0dXJlLXNldHRpbmdzOmluaGVyaXQ7Zm9udC12YXJpYXRpb24tc2V0dGluZ3M6aW5oZXJpdDtsZXR0ZXItc3BhY2luZzppbmhlcml0O2NvbG9yOmluaGVyaXQ7b3BhY2l0eToxO2JhY2tncm91bmQtY29sb3I6IzAwMDA7Ym9yZGVyLXJhZGl1czowfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6ZmlsZS1zZWxlY3Rvci1idXR0b257Zm9udDppbmhlcml0O2ZvbnQtZmVhdHVyZS1zZXR0aW5nczppbmhlcml0O2ZvbnQtdmFyaWF0aW9uLXNldHRpbmdzOmluaGVyaXQ7bGV0dGVyLXNwYWNpbmc6aW5oZXJpdDtjb2xvcjppbmhlcml0O29wYWNpdHk6MTtiYWNrZ3JvdW5kLWNvbG9yOiMwMDAwO2JvcmRlci1yYWRpdXM6MH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6d2hlcmUoc2VsZWN0OmlzKFttdWx0aXBsZV0sW3NpemVdKSkgb3B0Z3JvdXB7Zm9udC13ZWlnaHQ6Ym9sZGVyfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDp3aGVyZShzZWxlY3Q6aXMoW211bHRpcGxlXSxbc2l6ZV0pKSBvcHRncm91cCBvcHRpb257cGFkZGluZy1pbmxpbmUtc3RhcnQ6MjBweH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6OmZpbGUtc2VsZWN0b3ItYnV0dG9ue21hcmdpbi1pbmxpbmUtZW5kOjRweH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi1tb3otcGxhY2Vob2xkZXJ7b3BhY2l0eToxfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6cGxhY2Vob2xkZXJ7b3BhY2l0eToxfUBzdXBwb3J0cyAobm90ICgtd2Via2l0LWFwcGVhcmFuY2U6LWFwcGxlLXBheS1idXR0b24pKSBvciAoY29udGFpbi1pbnRyaW5zaWMtc2l6ZToxcHgpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LW1vei1wbGFjZWhvbGRlcntjb2xvcjpjdXJyZW50Q29sb3J9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjpwbGFjZWhvbGRlcntjb2xvcjpjdXJyZW50Q29sb3J9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LW1vei1wbGFjZWhvbGRlcntjb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsY3VycmVudGNvbG9yIDUwJSx0cmFuc3BhcmVudCl9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjpwbGFjZWhvbGRlcntjb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsY3VycmVudGNvbG9yIDUwJSx0cmFuc3BhcmVudCl9fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciB0ZXh0YXJlYXtyZXNpemU6dmVydGljYWx9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotd2Via2l0LXNlYXJjaC1kZWNvcmF0aW9uey13ZWJraXQtYXBwZWFyYW5jZTpub25lfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LXdlYmtpdC1kYXRlLWFuZC10aW1lLXZhbHVle21pbi1oZWlnaHQ6MWxoO3RleHQtYWxpZ246aW5oZXJpdH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi13ZWJraXQtZGF0ZXRpbWUtZWRpdHtkaXNwbGF5OmlubGluZS1mbGV4fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LXdlYmtpdC1kYXRldGltZS1lZGl0LWZpZWxkcy13cmFwcGVye3BhZGRpbmc6MH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi13ZWJraXQtZGF0ZXRpbWUtZWRpdHtwYWRkaW5nLWJsb2NrOjB9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotd2Via2l0LWRhdGV0aW1lLWVkaXQteWVhci1maWVsZHtwYWRkaW5nLWJsb2NrOjB9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotd2Via2l0LWRhdGV0aW1lLWVkaXQtbW9udGgtZmllbGR7cGFkZGluZy1ibG9jazowfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LXdlYmtpdC1kYXRldGltZS1lZGl0LWRheS1maWVsZHtwYWRkaW5nLWJsb2NrOjB9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotd2Via2l0LWRhdGV0aW1lLWVkaXQtaG91ci1maWVsZHtwYWRkaW5nLWJsb2NrOjB9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotd2Via2l0LWRhdGV0aW1lLWVkaXQtbWludXRlLWZpZWxke3BhZGRpbmctYmxvY2s6MH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi13ZWJraXQtZGF0ZXRpbWUtZWRpdC1zZWNvbmQtZmllbGR7cGFkZGluZy1ibG9jazowfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIDo6LXdlYmtpdC1kYXRldGltZS1lZGl0LW1pbGxpc2Vjb25kLWZpZWxke3BhZGRpbmctYmxvY2s6MH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi13ZWJraXQtZGF0ZXRpbWUtZWRpdC1tZXJpZGllbS1maWVsZHtwYWRkaW5nLWJsb2NrOjB9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOi1tb3otdWktaW52YWxpZHtib3gtc2hhZG93Om5vbmV9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgYnV0dG9uLHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIGlucHV0OndoZXJlKFt0eXBlPWJ1dHRvbl0sW3R5cGU9cmVzZXRdLFt0eXBlPXN1Ym1pdF0pey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247LW1vei1hcHBlYXJhbmNlOmJ1dHRvbjthcHBlYXJhbmNlOmJ1dHRvbn1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6OmZpbGUtc2VsZWN0b3ItYnV0dG9uey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247LW1vei1hcHBlYXJhbmNlOmJ1dHRvbjthcHBlYXJhbmNlOmJ1dHRvbn1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciA6Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b257aGVpZ2h0OmF1dG99c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9ue2hlaWdodDphdXRvfXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIFtoaWRkZW5dOndoZXJlKDpub3QoW2hpZGRlbj11bnRpbC1mb3VuZF0pKXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yICp7bWluLXdpZHRoOjA7bWluLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlfX1AbGF5ZXIgY29tcG9uZW50cztAbGF5ZXIgdXRpbGl0aWVze3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wb2ludGVyLWV2ZW50cy1hdXRve3BvaW50ZXItZXZlbnRzOmF1dG8haW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wb2ludGVyLWV2ZW50cy1ub25le3BvaW50ZXItZXZlbnRzOm5vbmUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC52aXNpYmxle3Zpc2liaWxpdHk6dmlzaWJsZSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmFic29sdXRle3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZml4ZWR7cG9zaXRpb246Zml4ZWQhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5yZWxhdGl2ZXtwb3NpdGlvbjpyZWxhdGl2ZSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmluc2V0LTB7aW5zZXQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSowKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmluc2V0LTR7aW5zZXQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSo0KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRvcC0we3RvcDpjYWxjKHZhcigtLXNwYWNpbmcpKjApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudG9wLTFcXFxcLzJ7dG9wOjUwJSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRvcC1cXFxcWy0yMFxcXFwlXFxcXF17dG9wOi0yMCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50b3AtXFxcXFsyNVxcXFwlXFxcXF17dG9wOjI1JSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLi1yaWdodC0xe3JpZ2h0OmNhbGModmFyKC0tc3BhY2luZykqLTEpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucmlnaHQtMHtyaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucmlnaHQtMVxcXFwvMntyaWdodDo1MCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5yaWdodC0ye3JpZ2h0OmNhbGModmFyKC0tc3BhY2luZykqMikhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC4tYm90dG9tLTBcXFxcLjV7Ym90dG9tOmNhbGModmFyKC0tc3BhY2luZykqLS41KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvdHRvbS0xXFxcXC8ye2JvdHRvbTo1MCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3R0b20tM3tib3R0b206Y2FsYyh2YXIoLS1zcGFjaW5nKSozKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmxlZnQtMHtsZWZ0OmNhbGModmFyKC0tc3BhY2luZykqMCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5sZWZ0LTFcXFxcLzJ7bGVmdDo1MCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5sZWZ0LTN7bGVmdDpjYWxjKHZhcigtLXNwYWNpbmcpKjMpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubGVmdC1cXFxcWy0xMFxcXFwlXFxcXF17bGVmdDotMTAlIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubGVmdC1cXFxcWzI1XFxcXCVcXFxcXXtsZWZ0OjI1JSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnotNTB7ei1pbmRleDo1MCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmNvbnRhaW5lcnt3aWR0aDoxMDAlIWltcG9ydGFudH1AbWVkaWEgKG1pbi13aWR0aDo0MHJlbSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmNvbnRhaW5lcnttYXgtd2lkdGg6NDByZW0haW1wb3J0YW50fX1AbWVkaWEgKG1pbi13aWR0aDo0OHJlbSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmNvbnRhaW5lcnttYXgtd2lkdGg6NDhyZW0haW1wb3J0YW50fX1AbWVkaWEgKG1pbi13aWR0aDo2NHJlbSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmNvbnRhaW5lcnttYXgtd2lkdGg6NjRyZW0haW1wb3J0YW50fX1AbWVkaWEgKG1pbi13aWR0aDo4MHJlbSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmNvbnRhaW5lcnttYXgtd2lkdGg6ODByZW0haW1wb3J0YW50fX1AbWVkaWEgKG1pbi13aWR0aDo5NnJlbSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmNvbnRhaW5lcnttYXgtd2lkdGg6OTZyZW0haW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmxvY2t7ZGlzcGxheTpibG9jayFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmNvbnRlbnRze2Rpc3BsYXk6Y29udGVudHMhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5mbGV4e2Rpc3BsYXk6ZmxleCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmhpZGRlbntkaXNwbGF5Om5vbmUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5pbmxpbmV7ZGlzcGxheTppbmxpbmUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5hc3BlY3Qtc3F1YXJle2FzcGVjdC1yYXRpbzoxIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS0we3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqMCkhaW1wb3J0YW50O2hlaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS0xXFxcXC41e3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqMS41KSFpbXBvcnRhbnQ7aGVpZ2h0OmNhbGModmFyKC0tc3BhY2luZykqMS41KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNpemUtMlxcXFwvM3t3aWR0aDo2Ni42NjY3JSFpbXBvcnRhbnQ7aGVpZ2h0OjY2LjY2NjclIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS0ze3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqMykhaW1wb3J0YW50O2hlaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjMpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS00e3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqNCkhaW1wb3J0YW50O2hlaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjQpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS01e3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqNSkhaW1wb3J0YW50O2hlaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjUpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS02e3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqNikhaW1wb3J0YW50O2hlaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjYpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS04e3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqOCkhaW1wb3J0YW50O2hlaWdodDpjYWxjKHZhcigtLXNwYWNpbmcpKjgpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2l6ZS05XFxcXC8xMnt3aWR0aDo3NSUhaW1wb3J0YW50O2hlaWdodDo3NSUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zaXplLTEye3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqMTIpIWltcG9ydGFudDtoZWlnaHQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSoxMikhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zaXplLVxcXFxbMTIwXFxcXCVcXFxcXXt3aWR0aDoxMjAlIWltcG9ydGFudDtoZWlnaHQ6MTIwJSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNpemUtZnVsbHt3aWR0aDoxMDAlIWltcG9ydGFudDtoZWlnaHQ6MTAwJSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmgtNHtoZWlnaHQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSo0KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmgtNXtoZWlnaHQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSo1KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmgtNntoZWlnaHQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSo2KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmgtOHtoZWlnaHQ6Y2FsYyh2YXIoLS1zcGFjaW5nKSo4KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmgtXFxcXFs0XFxcXC41ZW1cXFxcXXtoZWlnaHQ6NC41ZW0haW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5oLVxcXFxbNTBcXFxcJVxcXFxde2hlaWdodDo1MCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5oLVxcXFxbMTIwXFxcXCVcXFxcXXtoZWlnaHQ6MTIwJSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmgtYXV0b3toZWlnaHQ6YXV0byFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmgtZml0e2hlaWdodDotbW96LWZpdC1jb250ZW50IWltcG9ydGFudDtoZWlnaHQ6Zml0LWNvbnRlbnQhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5oLWZ1bGx7aGVpZ2h0OjEwMCUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5oLXNjcmVlbntoZWlnaHQ6MTAwdmghaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5tYXgtaC1cXFxcWzUwdmhcXFxcXXttYXgtaGVpZ2h0OjUwdmghaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5tYXgtaC1mdWxse21heC1oZWlnaHQ6MTAwJSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnctMHt3aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudy02e3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqNikhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC53LTgwe3dpZHRoOmNhbGModmFyKC0tc3BhY2luZykqODApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudy05Nnt3aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjk2KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnctXFxcXFs1MFxcXFwlXFxcXF17d2lkdGg6NTAlIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudy1maXR7d2lkdGg6LW1vei1maXQtY29udGVudCFpbXBvcnRhbnQ7d2lkdGg6Zml0LWNvbnRlbnQhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC53LWZ1bGx7d2lkdGg6MTAwJSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnctbWF4e3dpZHRoOi1tb3otbWF4LWNvbnRlbnQhaW1wb3J0YW50O3dpZHRoOm1heC1jb250ZW50IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudy1zY3JlZW57d2lkdGg6MTAwdnchaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5tYXgtdy04e21heC13aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjgpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubWF4LXctNDh7bWF4LXdpZHRoOmNhbGModmFyKC0tc3BhY2luZykqNDgpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubWF4LXctOTB7bWF4LXdpZHRoOmNhbGModmFyKC0tc3BhY2luZykqOTApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubWF4LXctXFxcXFs4MFxcXFwlXFxcXF17bWF4LXdpZHRoOjgwJSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLm1heC13LVxcXFxbODB2d1xcXFxde21heC13aWR0aDo4MHZ3IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubWF4LXctc217bWF4LXdpZHRoOnZhcigtLWNvbnRhaW5lci1zbSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5taW4tdy00e21pbi13aWR0aDpjYWxjKHZhcigtLXNwYWNpbmcpKjQpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAubWluLXctMjR7bWluLXdpZHRoOmNhbGModmFyKC0tc3BhY2luZykqMjQpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmxleC0xe2ZsZXg6MSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZsZXgtc2hyaW5rLTAsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNocmluay0we2ZsZXgtc2hyaW5rOjAhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vcmlnaW4tY2VudGVye3RyYW5zZm9ybS1vcmlnaW46NTAlIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudHJhbnNmb3Jte3RyYW5zZm9ybTp2YXIoLS10dy1yb3RhdGUteCwpdmFyKC0tdHctcm90YXRlLXksKXZhcigtLXR3LXJvdGF0ZS16LCl2YXIoLS10dy1za2V3LXgsKXZhcigtLXR3LXNrZXcteSwpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYW5pbWF0ZS1wdWxzZXthbmltYXRpb246dmFyKC0tYW5pbWF0ZS1wdWxzZSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5jdXJzb3ItZ3JhYntjdXJzb3I6Z3JhYiFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmN1cnNvci1wb2ludGVye2N1cnNvcjpwb2ludGVyIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucmVzaXple3Jlc2l6ZTpib3RoIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucmVzaXplLW5vbmV7cmVzaXplOm5vbmUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zbmFwLXN0YXJ0e3Njcm9sbC1zbmFwLWFsaWduOnN0YXJ0IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmxleC1jb2x7ZmxleC1kaXJlY3Rpb246Y29sdW1uIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmxleC1yb3d7ZmxleC1kaXJlY3Rpb246cm93IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaXRlbXMtY2VudGVye2FsaWduLWl0ZW1zOmNlbnRlciFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLml0ZW1zLWVuZHthbGlnbi1pdGVtczpmbGV4LWVuZCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLml0ZW1zLXN0YXJ0e2FsaWduLWl0ZW1zOmZsZXgtc3RhcnQhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5pdGVtcy1zdHJldGNoe2FsaWduLWl0ZW1zOnN0cmV0Y2ghaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5qdXN0aWZ5LWJldHdlZW57anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW4haW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5qdXN0aWZ5LWNlbnRlcntqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuanVzdGlmeS1lbmR7anVzdGlmeS1jb250ZW50OmZsZXgtZW5kIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuanVzdGlmeS1zdGFydHtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmdhcC0xe2dhcDpjYWxjKHZhcigtLXNwYWNpbmcpKjEpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZ2FwLTJ7Z2FwOmNhbGModmFyKC0tc3BhY2luZykqMikhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5nYXAtM3tnYXA6Y2FsYyh2YXIoLS1zcGFjaW5nKSozKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRydW5jYXRle3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMhaW1wb3J0YW50O3doaXRlLXNwYWNlOm5vd3JhcCFpbXBvcnRhbnQ7b3ZlcmZsb3c6aGlkZGVuIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAub3ZlcmZsb3ctaGlkZGVue292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLm92ZXJmbG93LXZpc2libGV7b3ZlcmZsb3c6dmlzaWJsZSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLm92ZXJmbG93LXgtYXV0b3tvdmVyZmxvdy14OmF1dG8haW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vdmVyZmxvdy14LWhpZGRlbntvdmVyZmxvdy14OmhpZGRlbiFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLm92ZXJmbG93LXktYXV0b3tvdmVyZmxvdy15OmF1dG8haW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vdmVyZmxvdy15LXZpc2libGV7b3ZlcmZsb3cteTp2aXNpYmxlIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucm91bmRlZHtib3JkZXItcmFkaXVzOi4yNXJlbSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnJvdW5kZWQtMnhse2JvcmRlci1yYWRpdXM6dmFyKC0tcmFkaXVzLTJ4bCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5yb3VuZGVkLTN4bHtib3JkZXItcmFkaXVzOnZhcigtLXJhZGl1cy0zeGwpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucm91bmRlZC1mdWxse2JvcmRlci1yYWRpdXM6My40MDI4MmUzOHB4IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucm91bmRlZC1sZ3tib3JkZXItcmFkaXVzOnZhcigtLXJhZGl1cy1sZykhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5yb3VuZGVkLW1ke2JvcmRlci1yYWRpdXM6dmFyKC0tcmFkaXVzLW1kKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnJvdW5kZWQteGx7Ym9yZGVyLXJhZGl1czp2YXIoLS1yYWRpdXMteGwpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucm91bmRlZC10LTN4bHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOnZhcigtLXJhZGl1cy0zeGwpIWltcG9ydGFudDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czp2YXIoLS1yYWRpdXMtM3hsKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlcntib3JkZXItc3R5bGU6dmFyKC0tdHctYm9yZGVyLXN0eWxlKSFpbXBvcnRhbnQ7Ym9yZGVyLXdpZHRoOjFweCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci0ye2JvcmRlci1zdHlsZTp2YXIoLS10dy1ib3JkZXItc3R5bGUpIWltcG9ydGFudDtib3JkZXItd2lkdGg6MnB4IWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYm9yZGVyLXh7Ym9yZGVyLWlubGluZS1zdHlsZTp2YXIoLS10dy1ib3JkZXItc3R5bGUpIWltcG9ydGFudDtib3JkZXItaW5saW5lLXdpZHRoOjFweCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci10e2JvcmRlci10b3Atc3R5bGU6dmFyKC0tdHctYm9yZGVyLXN0eWxlKSFpbXBvcnRhbnQ7Ym9yZGVyLXRvcC13aWR0aDoxcHghaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3JkZXItcntib3JkZXItcmlnaHQtc3R5bGU6dmFyKC0tdHctYm9yZGVyLXN0eWxlKSFpbXBvcnRhbnQ7Ym9yZGVyLXJpZ2h0LXdpZHRoOjFweCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci1zb2xpZHstLXR3LWJvcmRlci1zdHlsZTpzb2xpZCFpbXBvcnRhbnQ7Ym9yZGVyLXN0eWxlOnNvbGlkIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYm9yZGVyLWJsdWUtNjAwXFxcXC84MHtib3JkZXItY29sb3I6IzE1NWRmY2NjIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci1ibHVlLTYwMFxcXFwvODB7Ym9yZGVyLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1ibHVlLTYwMCk4MCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci1ib3JkZXJcXFxcLzEwe2JvcmRlci1jb2xvcjojNzE3MTdiMWEhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYm9yZGVyLWJvcmRlclxcXFwvMTB7Ym9yZGVyLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1ib3JkZXIpMTAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3JkZXItYm9yZGVyXFxcXC8yMHtib3JkZXItY29sb3I6IzcxNzE3YjMzIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci1ib3JkZXJcXFxcLzIwe2JvcmRlci1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItYm9yZGVyKTIwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYm9yZGVyLWJvcmRlclxcXFwvMzB7Ym9yZGVyLWNvbG9yOiM3MTcxN2I0ZCFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3JkZXItYm9yZGVyXFxcXC8zMHtib3JkZXItY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLWJvcmRlcikzMCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci1ncmVlbi02MDBcXFxcLzgwe2JvcmRlci1jb2xvcjojMDBhNTQ0Y2MhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYm9yZGVyLWdyZWVuLTYwMFxcXFwvODB7Ym9yZGVyLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1ncmVlbi02MDApODAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ib3JkZXItci1ib3JkZXJcXFxcLzMwe2JvcmRlci1yaWdodC1jb2xvcjojNzE3MTdiNGQhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYm9yZGVyLXItYm9yZGVyXFxcXC8zMHtib3JkZXItcmlnaHQtY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLWJvcmRlcikzMCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJvcmRlci1sLXRyYW5zcGFyZW50e2JvcmRlci1sZWZ0LWNvbG9yOiMwMDAwIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctYmFja2dyb3VuZFxcXFwvNDB7YmFja2dyb3VuZC1jb2xvcjojZmZmNiFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy1iYWNrZ3JvdW5kXFxcXC80MHtiYWNrZ3JvdW5kLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKTQwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctYmFja2dyb3VuZFxcXFwvNjB7YmFja2dyb3VuZC1jb2xvcjojZmZmOSFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy1iYWNrZ3JvdW5kXFxcXC82MHtiYWNrZ3JvdW5kLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKTYwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctYmx1ZS02MDB7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jb2xvci1ibHVlLTYwMCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy1ibHVlLTYwMFxcXFwvMjB7YmFja2dyb3VuZC1jb2xvcjojMTU1ZGZjMzMhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctYmx1ZS02MDBcXFxcLzIwe2JhY2tncm91bmQtY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLWJsdWUtNjAwKTIwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctZ3JlZW4tNjAwXFxcXC81e2JhY2tncm91bmQtY29sb3I6IzAwYTU0NDBkIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLWdyZWVuLTYwMFxcXFwvNXtiYWNrZ3JvdW5kLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1ncmVlbi02MDApNSUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLXJvc2UtNjAwe2JhY2tncm91bmQtY29sb3I6dmFyKC0tY29sb3Itcm9zZS02MDApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmctdHJhbnNwYXJlbnR7YmFja2dyb3VuZC1jb2xvcjojMDAwMCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLXdoaXRlXFxcXC82MHtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY5IWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLXdoaXRlXFxcXC82MHtiYWNrZ3JvdW5kLWNvbG9yOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci13aGl0ZSk2MCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLXppbmMtNTBcXFxcLzgwe2JhY2tncm91bmQtY29sb3I6I2ZhZmFmYWNjIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLXppbmMtNTBcXFxcLzgwe2JhY2tncm91bmQtY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXppbmMtNTApODAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy16aW5jLTUwMHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNvbG9yLXppbmMtNTAwKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLXppbmMtNTAwXFxcXC8xMHtiYWNrZ3JvdW5kLWNvbG9yOiM3MTcxN2IxYSFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy16aW5jLTUwMFxcXFwvMTB7YmFja2dyb3VuZC1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItemluYy01MDApMTAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy16aW5jLTYwMHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNvbG9yLXppbmMtNjAwKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLXppbmMtOTUwXFxcXC81e2JhY2tncm91bmQtY29sb3I6IzA5MDkwYjBkIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLXppbmMtOTUwXFxcXC81e2JhY2tncm91bmQtY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXppbmMtOTUwKTUlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy1ncmFkaWVudC10by10cnstLXR3LWdyYWRpZW50LXBvc2l0aW9uOnRvIHRvcCByaWdodCBpbiBva2xhYiFpbXBvcnRhbnQ7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodmFyKC0tdHctZ3JhZGllbnQtc3RvcHMpKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLVxcXFxbcmFkaWFsLWdyYWRpZW50XFxcXChjaXJjbGVcXFxcLHJnYmFcXFxcKDU1XFxcXCw0OFxcXFwsMTYzXFxcXCwwXFxcXClfNTVcXFxcJVxcXFwscmdiYVxcXFwoNTVcXFxcLDQ4XFxcXCwxNjNcXFxcLDBcXFxcLjM1XFxcXClfNzNcXFxcJVxcXFwpXFxcXF17YmFja2dyb3VuZC1pbWFnZTpyYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCMzNzMwYTMwMCA1NSUsIzM3MzBhMzU5IDczJSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iZy1cXFxcW3JhZGlhbC1ncmFkaWVudFxcXFwoY2lyY2xlXFxcXCxyZ2JhXFxcXCgyMTlcXFxcLDM5XFxcXCwxMTlcXFxcLDBcXFxcLjJcXFxcKV8wXFxcXCVcXFxcLHJnYmFcXFxcKDIxOVxcXFwsMzlcXFxcLDExOVxcXFwsMFxcXFwpXzEwMFxcXFwlXFxcXClcXFxcXXtiYWNrZ3JvdW5kLWltYWdlOnJhZGlhbC1ncmFkaWVudChjaXJjbGUsI2RiMjc3NzMzIDAlLCNkYjI3NzcwMCAxMDAlKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmJnLVxcXFxbcmFkaWFsLWdyYWRpZW50XFxcXChjaXJjbGVcXFxcLHJnYmFcXFxcKDI1NVxcXFwsMjU1XFxcXCwyNTVcXFxcLDBcXFxcKV82MFxcXFwlXFxcXCxyZ2JhXFxcXCgyNTVcXFxcLDI1NVxcXFwsMjU1XFxcXCwwXFxcXC4yXFxcXClfNzBcXFxcJVxcXFwpXFxcXF17YmFja2dyb3VuZC1pbWFnZTpyYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCNmZmYwIDYwJSwjZmZmMyA3MCUpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZnJvbS1pbmRpZ28tNzAwey0tdHctZ3JhZGllbnQtZnJvbTp2YXIoLS1jb2xvci1pbmRpZ28tNzAwKSFpbXBvcnRhbnQ7LS10dy1ncmFkaWVudC1zdG9wczp2YXIoLS10dy1ncmFkaWVudC12aWEtc3RvcHMsdmFyKC0tdHctZ3JhZGllbnQtcG9zaXRpb24pLHZhcigtLXR3LWdyYWRpZW50LWZyb20pdmFyKC0tdHctZ3JhZGllbnQtZnJvbS1wb3NpdGlvbiksdmFyKC0tdHctZ3JhZGllbnQtdG8pdmFyKC0tdHctZ3JhZGllbnQtdG8tcG9zaXRpb24pKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnZpYS1ibHVlLTUwMHstLXR3LWdyYWRpZW50LXZpYTp2YXIoLS1jb2xvci1ibHVlLTUwMCkhaW1wb3J0YW50Oy0tdHctZ3JhZGllbnQtdmlhLXN0b3BzOnZhcigtLXR3LWdyYWRpZW50LXBvc2l0aW9uKSx2YXIoLS10dy1ncmFkaWVudC1mcm9tKXZhcigtLXR3LWdyYWRpZW50LWZyb20tcG9zaXRpb24pLHZhcigtLXR3LWdyYWRpZW50LXZpYSl2YXIoLS10dy1ncmFkaWVudC12aWEtcG9zaXRpb24pLHZhcigtLXR3LWdyYWRpZW50LXRvKXZhcigtLXR3LWdyYWRpZW50LXRvLXBvc2l0aW9uKSFpbXBvcnRhbnQ7LS10dy1ncmFkaWVudC1zdG9wczp2YXIoLS10dy1ncmFkaWVudC12aWEtc3RvcHMpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudG8tdGVhbC01MDB7LS10dy1ncmFkaWVudC10bzp2YXIoLS1jb2xvci10ZWFsLTUwMCkhaW1wb3J0YW50Oy0tdHctZ3JhZGllbnQtc3RvcHM6dmFyKC0tdHctZ3JhZGllbnQtdmlhLXN0b3BzLHZhcigtLXR3LWdyYWRpZW50LXBvc2l0aW9uKSx2YXIoLS10dy1ncmFkaWVudC1mcm9tKXZhcigtLXR3LWdyYWRpZW50LWZyb20tcG9zaXRpb24pLHZhcigtLXR3LWdyYWRpZW50LXRvKXZhcigtLXR3LWdyYWRpZW50LXRvLXBvc2l0aW9uKSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5maWxsLWN1cnJlbnR7ZmlsbDpjdXJyZW50Q29sb3IhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5maWxsLXdoaXRle2ZpbGw6dmFyKC0tY29sb3Itd2hpdGUpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmlsbC16aW5jLTUwMFxcXFwvNTB7ZmlsbDojNzE3MTdiODAhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmlsbC16aW5jLTUwMFxcXFwvNTB7ZmlsbDpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItemluYy01MDApNTAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5maWxsLXppbmMtOTUwe2ZpbGw6dmFyKC0tY29sb3ItemluYy05NTApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc3Ryb2tlLWJsYWNrXFxcXC8zMHtzdHJva2U6IzAwMDAwMDRkIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnN0cm9rZS1ibGFja1xcXFwvMzB7c3Ryb2tlOmNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1ibGFjaykzMCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnN0cm9rZS1ub25le3N0cm9rZTpub25lIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc3Ryb2tlLTF7c3Ryb2tlLXdpZHRoOjFweCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnAtMHtwYWRkaW5nOmNhbGModmFyKC0tc3BhY2luZykqMCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wLTBcXFxcLjV7cGFkZGluZzpjYWxjKHZhcigtLXNwYWNpbmcpKi41KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnAtMXtwYWRkaW5nOmNhbGModmFyKC0tc3BhY2luZykqMSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wLTFcXFxcLjV7cGFkZGluZzpjYWxjKHZhcigtLXNwYWNpbmcpKjEuNSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wLTJ7cGFkZGluZzpjYWxjKHZhcigtLXNwYWNpbmcpKjIpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucC0ze3BhZGRpbmc6Y2FsYyh2YXIoLS1zcGFjaW5nKSozKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnB4LTBcXFxcLjV7cGFkZGluZy1pbmxpbmU6Y2FsYyh2YXIoLS1zcGFjaW5nKSouNSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5weC0xe3BhZGRpbmctaW5saW5lOmNhbGModmFyKC0tc3BhY2luZykqMSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5weC0ye3BhZGRpbmctaW5saW5lOmNhbGModmFyKC0tc3BhY2luZykqMikhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5weC0ze3BhZGRpbmctaW5saW5lOmNhbGModmFyKC0tc3BhY2luZykqMykhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5weS0we3BhZGRpbmctYmxvY2s6Y2FsYyh2YXIoLS1zcGFjaW5nKSowKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnB5LTF7cGFkZGluZy1ibG9jazpjYWxjKHZhcigtLXNwYWNpbmcpKjEpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucHQtMntwYWRkaW5nLXRvcDpjYWxjKHZhcigtLXNwYWNpbmcpKjIpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucHItNntwYWRkaW5nLXJpZ2h0OmNhbGModmFyKC0tc3BhY2luZykqNikhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wYi0we3BhZGRpbmctYm90dG9tOmNhbGModmFyKC0tc3BhY2luZykqMCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wYi0ye3BhZGRpbmctYm90dG9tOmNhbGModmFyKC0tc3BhY2luZykqMikhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5wbC0ye3BhZGRpbmctbGVmdDpjYWxjKHZhcigtLXNwYWNpbmcpKjIpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudGV4dC1iYXNle2ZvbnQtc2l6ZTp2YXIoLS10ZXh0LWJhc2UpIWltcG9ydGFudDtsaW5lLWhlaWdodDp2YXIoLS10dy1sZWFkaW5nLHZhcigtLXRleHQtYmFzZS0tbGluZS1oZWlnaHQpKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRleHQtc217Zm9udC1zaXplOnZhcigtLXRleHQtc20pIWltcG9ydGFudDtsaW5lLWhlaWdodDp2YXIoLS10dy1sZWFkaW5nLHZhcigtLXRleHQtc20tLWxpbmUtaGVpZ2h0KSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LXhze2ZvbnQtc2l6ZTp2YXIoLS10ZXh0LXhzKSFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6dmFyKC0tdHctbGVhZGluZyx2YXIoLS10ZXh0LXhzLS1saW5lLWhlaWdodCkpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZm9udC1ib2xkey0tdHctZm9udC13ZWlnaHQ6dmFyKC0tZm9udC13ZWlnaHQtYm9sZCkhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OnZhcigtLWZvbnQtd2VpZ2h0LWJvbGQpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZm9udC1ub3JtYWx7LS10dy1mb250LXdlaWdodDp2YXIoLS1mb250LXdlaWdodC1ub3JtYWwpIWltcG9ydGFudDtmb250LXdlaWdodDp2YXIoLS1mb250LXdlaWdodC1ub3JtYWwpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZm9udC1zZW1pYm9sZHstLXR3LWZvbnQtd2VpZ2h0OnZhcigtLWZvbnQtd2VpZ2h0LXNlbWlib2xkKSFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6dmFyKC0tZm9udC13ZWlnaHQtc2VtaWJvbGQpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudGV4dC1ib3JkZXJcXFxcLzYwe2NvbG9yOiM3MTcxN2I5OSFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LWJvcmRlclxcXFwvNjB7Y29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLWJvcmRlcik2MCUsdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRleHQtZm9yZWdyb3VuZHtjb2xvcjp2YXIoLS1jb2xvci1mb3JlZ3JvdW5kKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRleHQtbXV0ZWQtZm9yZWdyb3VuZHtjb2xvcjp2YXIoLS1jb2xvci1tdXRlZC1mb3JlZ3JvdW5kKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRleHQtbXV0ZWQtZm9yZWdyb3VuZFxcXFwvMzB7Y29sb3I6IzNmM2Y0NjRkIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRleHQtbXV0ZWQtZm9yZWdyb3VuZFxcXFwvMzB7Y29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLW11dGVkLWZvcmVncm91bmQpMzAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LXRyYW5zcGFyZW50e2NvbG9yOiMwMDAwIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAudGV4dC13aGl0ZXtjb2xvcjp2YXIoLS1jb2xvci13aGl0ZSkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LXppbmMtNTB7Y29sb3I6dmFyKC0tY29sb3ItemluYy01MCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LXppbmMtOTUwe2NvbG9yOnZhcigtLWNvbG9yLXppbmMtOTUwKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRleHQtemluYy05NTBcXFxcLzUwe2NvbG9yOiMwOTA5MGI4MCFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50ZXh0LXppbmMtOTUwXFxcXC81MHtjb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItemluYy05NTApNTAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vcGFjaXR5LTIwe29wYWNpdHk6LjIhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vcGFjaXR5LTUwe29wYWNpdHk6LjUhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vcGFjaXR5LTgwe29wYWNpdHk6LjghaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vcGFjaXR5LTEwMHtvcGFjaXR5OjEhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zaGFkb3d7LS10dy1zaGFkb3c6MCAxcHggM3B4IDAgdmFyKC0tdHctc2hhZG93LWNvbG9yLCMwMDAwMDAxYSksMCAxcHggMnB4IC0xcHggdmFyKC0tdHctc2hhZG93LWNvbG9yLCMwMDAwMDAxYSkhaW1wb3J0YW50O2JveC1zaGFkb3c6dmFyKC0tdHctaW5zZXQtc2hhZG93KSx2YXIoLS10dy1pbnNldC1yaW5nLXNoYWRvdyksdmFyKC0tdHctcmluZy1vZmZzZXQtc2hhZG93KSx2YXIoLS10dy1yaW5nLXNoYWRvdyksdmFyKC0tdHctc2hhZG93KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNoYWRvdy1pbm5lcnstLXR3LXNoYWRvdzppbnNldCAwIDJweCA0cHggMCB2YXIoLS10dy1zaGFkb3ctY29sb3IsIzAwMDAwMDBkKSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzp2YXIoLS10dy1pbnNldC1zaGFkb3cpLHZhcigtLXR3LWluc2V0LXJpbmctc2hhZG93KSx2YXIoLS10dy1yaW5nLW9mZnNldC1zaGFkb3cpLHZhcigtLXR3LXJpbmctc2hhZG93KSx2YXIoLS10dy1zaGFkb3cpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuc2hhZG93LWxney0tdHctc2hhZG93OjAgMTBweCAxNXB4IC0zcHggdmFyKC0tdHctc2hhZG93LWNvbG9yLCMwMDAwMDAxYSksMCA0cHggNnB4IC00cHggdmFyKC0tdHctc2hhZG93LWNvbG9yLCMwMDAwMDAxYSkhaW1wb3J0YW50O2JveC1zaGFkb3c6dmFyKC0tdHctaW5zZXQtc2hhZG93KSx2YXIoLS10dy1pbnNldC1yaW5nLXNoYWRvdyksdmFyKC0tdHctcmluZy1vZmZzZXQtc2hhZG93KSx2YXIoLS10dy1yaW5nLXNoYWRvdyksdmFyKC0tdHctc2hhZG93KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNoYWRvdy1zbXstLXR3LXNoYWRvdzowIDFweCAzcHggMCB2YXIoLS10dy1zaGFkb3ctY29sb3IsIzAwMDAwMDFhKSwwIDFweCAycHggLTFweCB2YXIoLS10dy1zaGFkb3ctY29sb3IsIzAwMDAwMDFhKSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzp2YXIoLS10dy1pbnNldC1zaGFkb3cpLHZhcigtLXR3LWluc2V0LXJpbmctc2hhZG93KSx2YXIoLS10dy1yaW5nLW9mZnNldC1zaGFkb3cpLHZhcigtLXR3LXJpbmctc2hhZG93KSx2YXIoLS10dy1zaGFkb3cpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucmluZy0yey0tdHctcmluZy1zaGFkb3c6dmFyKC0tdHctcmluZy1pbnNldCwpMCAwIDAgY2FsYygycHggKyB2YXIoLS10dy1yaW5nLW9mZnNldC13aWR0aCkpdmFyKC0tdHctcmluZy1jb2xvcixjdXJyZW50Y29sb3IpIWltcG9ydGFudDtib3gtc2hhZG93OnZhcigtLXR3LWluc2V0LXNoYWRvdyksdmFyKC0tdHctaW5zZXQtcmluZy1zaGFkb3cpLHZhcigtLXR3LXJpbmctb2Zmc2V0LXNoYWRvdyksdmFyKC0tdHctcmluZy1zaGFkb3cpLHZhcigtLXR3LXNoYWRvdykhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zaGFkb3ctYmxhY2tcXFxcLzUwey0tdHctc2hhZG93LWNvbG9yOiMwMDAwMDA4MCFpbXBvcnRhbnR9QHN1cHBvcnRzIChjb2xvcjpjb2xvci1taXgoaW4gbGFiLCByZWQsIHJlZCkpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5zaGFkb3ctYmxhY2tcXFxcLzUwey0tdHctc2hhZG93LWNvbG9yOmNvbG9yLW1peChpbiBva2xhYixjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItYmxhY2spNTAlLHRyYW5zcGFyZW50KXZhcigtLXR3LXNoYWRvdy1hbHBoYSksdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNoYWRvdy1ibHVlLTYwMFxcXFwvNTB7LS10dy1zaGFkb3ctY29sb3I6IzE1NWRmYzgwIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNoYWRvdy1ibHVlLTYwMFxcXFwvNTB7LS10dy1zaGFkb3ctY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLGNvbG9yLW1peChpbiBva2xhYix2YXIoLS1jb2xvci1ibHVlLTYwMCk1MCUsdHJhbnNwYXJlbnQpdmFyKC0tdHctc2hhZG93LWFscGhhKSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucmluZy1ibHVlLTYwMHstLXR3LXJpbmctY29sb3I6dmFyKC0tY29sb3ItYmx1ZS02MDApIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuYmx1cnstLXR3LWJsdXI6Ymx1cig4cHgpIWltcG9ydGFudDtmaWx0ZXI6dmFyKC0tdHctYmx1ciwpdmFyKC0tdHctYnJpZ2h0bmVzcywpdmFyKC0tdHctY29udHJhc3QsKXZhcigtLXR3LWdyYXlzY2FsZSwpdmFyKC0tdHctaHVlLXJvdGF0ZSwpdmFyKC0tdHctaW52ZXJ0LCl2YXIoLS10dy1zYXR1cmF0ZSwpdmFyKC0tdHctc2VwaWEsKXZhcigtLXR3LWRyb3Atc2hhZG93LCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5kcm9wLXNoYWRvdy1tZHstLXR3LWRyb3Atc2hhZG93LXNpemU6ZHJvcC1zaGFkb3coMCAzcHggM3B4IHZhcigtLXR3LWRyb3Atc2hhZG93LWNvbG9yLCMwMDAwMDAxZikpIWltcG9ydGFudDstLXR3LWRyb3Atc2hhZG93OmRyb3Atc2hhZG93KHZhcigtLWRyb3Atc2hhZG93LW1kKSkhaW1wb3J0YW50O2ZpbHRlcjp2YXIoLS10dy1ibHVyLCl2YXIoLS10dy1icmlnaHRuZXNzLCl2YXIoLS10dy1jb250cmFzdCwpdmFyKC0tdHctZ3JheXNjYWxlLCl2YXIoLS10dy1odWUtcm90YXRlLCl2YXIoLS10dy1pbnZlcnQsKXZhcigtLXR3LXNhdHVyYXRlLCl2YXIoLS10dy1zZXBpYSwpdmFyKC0tdHctZHJvcC1zaGFkb3csKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmRyb3Atc2hhZG93LXhsey0tdHctZHJvcC1zaGFkb3ctc2l6ZTpkcm9wLXNoYWRvdygwIDlweCA3cHggdmFyKC0tdHctZHJvcC1zaGFkb3ctY29sb3IsIzAwMDAwMDFhKSkhaW1wb3J0YW50Oy0tdHctZHJvcC1zaGFkb3c6ZHJvcC1zaGFkb3codmFyKC0tZHJvcC1zaGFkb3cteGwpKSFpbXBvcnRhbnQ7ZmlsdGVyOnZhcigtLXR3LWJsdXIsKXZhcigtLXR3LWJyaWdodG5lc3MsKXZhcigtLXR3LWNvbnRyYXN0LCl2YXIoLS10dy1ncmF5c2NhbGUsKXZhcigtLXR3LWh1ZS1yb3RhdGUsKXZhcigtLXR3LWludmVydCwpdmFyKC0tdHctc2F0dXJhdGUsKXZhcigtLXR3LXNlcGlhLCl2YXIoLS10dy1kcm9wLXNoYWRvdywpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZHJvcC1zaGFkb3cteHN7LS10dy1kcm9wLXNoYWRvdy1zaXplOmRyb3Atc2hhZG93KDAgMXB4IDFweCB2YXIoLS10dy1kcm9wLXNoYWRvdy1jb2xvciwjMDAwMDAwMGQpKSFpbXBvcnRhbnQ7LS10dy1kcm9wLXNoYWRvdzpkcm9wLXNoYWRvdyh2YXIoLS1kcm9wLXNoYWRvdy14cykpIWltcG9ydGFudDtmaWx0ZXI6dmFyKC0tdHctYmx1ciwpdmFyKC0tdHctYnJpZ2h0bmVzcywpdmFyKC0tdHctY29udHJhc3QsKXZhcigtLXR3LWdyYXlzY2FsZSwpdmFyKC0tdHctaHVlLXJvdGF0ZSwpdmFyKC0tdHctaW52ZXJ0LCl2YXIoLS10dy1zYXR1cmF0ZSwpdmFyKC0tdHctc2VwaWEsKXZhcigtLXR3LWRyb3Atc2hhZG93LCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5kcm9wLXNoYWRvdy1ibGFja3stLXR3LWRyb3Atc2hhZG93LWNvbG9yOiMwMDAhaW1wb3J0YW50Oy0tdHctZHJvcC1zaGFkb3c6dmFyKC0tdHctZHJvcC1zaGFkb3ctc2l6ZSkhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZHJvcC1zaGFkb3ctYmxhY2t7LS10dy1kcm9wLXNoYWRvdy1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItYmxhY2spdmFyKC0tdHctZHJvcC1zaGFkb3ctYWxwaGEpLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5kcm9wLXNoYWRvdy1pbmRpZ28tOTUwey0tdHctZHJvcC1zaGFkb3ctY29sb3I6b2tsY2goMjUuNyUgLjA5IDI4MS4yODgpIWltcG9ydGFudDstLXR3LWRyb3Atc2hhZG93OnZhcigtLXR3LWRyb3Atc2hhZG93LXNpemUpIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmRyb3Atc2hhZG93LWluZGlnby05NTB7LS10dy1kcm9wLXNoYWRvdy1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItaW5kaWdvLTk1MCl2YXIoLS10dy1kcm9wLXNoYWRvdy1hbHBoYSksdHJhbnNwYXJlbnQpIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZpbHRlcntmaWx0ZXI6dmFyKC0tdHctYmx1ciwpdmFyKC0tdHctYnJpZ2h0bmVzcywpdmFyKC0tdHctY29udHJhc3QsKXZhcigtLXR3LWdyYXlzY2FsZSwpdmFyKC0tdHctaHVlLXJvdGF0ZSwpdmFyKC0tdHctaW52ZXJ0LCl2YXIoLS10dy1zYXR1cmF0ZSwpdmFyKC0tdHctc2VwaWEsKXZhcigtLXR3LWRyb3Atc2hhZG93LCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iYWNrZHJvcC1ibHVyLWxney0tdHctYmFja2Ryb3AtYmx1cjpibHVyKHZhcigtLWJsdXItbGcpKSFpbXBvcnRhbnQ7LXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6dmFyKC0tdHctYmFja2Ryb3AtYmx1ciwpdmFyKC0tdHctYmFja2Ryb3AtYnJpZ2h0bmVzcywpdmFyKC0tdHctYmFja2Ryb3AtY29udHJhc3QsKXZhcigtLXR3LWJhY2tkcm9wLWdyYXlzY2FsZSwpdmFyKC0tdHctYmFja2Ryb3AtaHVlLXJvdGF0ZSwpdmFyKC0tdHctYmFja2Ryb3AtaW52ZXJ0LCl2YXIoLS10dy1iYWNrZHJvcC1vcGFjaXR5LCl2YXIoLS10dy1iYWNrZHJvcC1zYXR1cmF0ZSwpdmFyKC0tdHctYmFja2Ryb3Atc2VwaWEsKSFpbXBvcnRhbnQ7YmFja2Ryb3AtZmlsdGVyOnZhcigtLXR3LWJhY2tkcm9wLWJsdXIsKXZhcigtLXR3LWJhY2tkcm9wLWJyaWdodG5lc3MsKXZhcigtLXR3LWJhY2tkcm9wLWNvbnRyYXN0LCl2YXIoLS10dy1iYWNrZHJvcC1ncmF5c2NhbGUsKXZhcigtLXR3LWJhY2tkcm9wLWh1ZS1yb3RhdGUsKXZhcigtLXR3LWJhY2tkcm9wLWludmVydCwpdmFyKC0tdHctYmFja2Ryb3Atb3BhY2l0eSwpdmFyKC0tdHctYmFja2Ryb3Atc2F0dXJhdGUsKXZhcigtLXR3LWJhY2tkcm9wLXNlcGlhLCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iYWNrZHJvcC1ibHVyLW1key0tdHctYmFja2Ryb3AtYmx1cjpibHVyKHZhcigtLWJsdXItbWQpKSFpbXBvcnRhbnQ7LXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6dmFyKC0tdHctYmFja2Ryb3AtYmx1ciwpdmFyKC0tdHctYmFja2Ryb3AtYnJpZ2h0bmVzcywpdmFyKC0tdHctYmFja2Ryb3AtY29udHJhc3QsKXZhcigtLXR3LWJhY2tkcm9wLWdyYXlzY2FsZSwpdmFyKC0tdHctYmFja2Ryb3AtaHVlLXJvdGF0ZSwpdmFyKC0tdHctYmFja2Ryb3AtaW52ZXJ0LCl2YXIoLS10dy1iYWNrZHJvcC1vcGFjaXR5LCl2YXIoLS10dy1iYWNrZHJvcC1zYXR1cmF0ZSwpdmFyKC0tdHctYmFja2Ryb3Atc2VwaWEsKSFpbXBvcnRhbnQ7YmFja2Ryb3AtZmlsdGVyOnZhcigtLXR3LWJhY2tkcm9wLWJsdXIsKXZhcigtLXR3LWJhY2tkcm9wLWJyaWdodG5lc3MsKXZhcigtLXR3LWJhY2tkcm9wLWNvbnRyYXN0LCl2YXIoLS10dy1iYWNrZHJvcC1ncmF5c2NhbGUsKXZhcigtLXR3LWJhY2tkcm9wLWh1ZS1yb3RhdGUsKXZhcigtLXR3LWJhY2tkcm9wLWludmVydCwpdmFyKC0tdHctYmFja2Ryb3Atb3BhY2l0eSwpdmFyKC0tdHctYmFja2Ryb3Atc2F0dXJhdGUsKXZhcigtLXR3LWJhY2tkcm9wLXNlcGlhLCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iYWNrZHJvcC1ibHVyLXhzey0tdHctYmFja2Ryb3AtYmx1cjpibHVyKHZhcigtLWJsdXIteHMpKSFpbXBvcnRhbnQ7LXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6dmFyKC0tdHctYmFja2Ryb3AtYmx1ciwpdmFyKC0tdHctYmFja2Ryb3AtYnJpZ2h0bmVzcywpdmFyKC0tdHctYmFja2Ryb3AtY29udHJhc3QsKXZhcigtLXR3LWJhY2tkcm9wLWdyYXlzY2FsZSwpdmFyKC0tdHctYmFja2Ryb3AtaHVlLXJvdGF0ZSwpdmFyKC0tdHctYmFja2Ryb3AtaW52ZXJ0LCl2YXIoLS10dy1iYWNrZHJvcC1vcGFjaXR5LCl2YXIoLS10dy1iYWNrZHJvcC1zYXR1cmF0ZSwpdmFyKC0tdHctYmFja2Ryb3Atc2VwaWEsKSFpbXBvcnRhbnQ7YmFja2Ryb3AtZmlsdGVyOnZhcigtLXR3LWJhY2tkcm9wLWJsdXIsKXZhcigtLXR3LWJhY2tkcm9wLWJyaWdodG5lc3MsKXZhcigtLXR3LWJhY2tkcm9wLWNvbnRyYXN0LCl2YXIoLS10dy1iYWNrZHJvcC1ncmF5c2NhbGUsKXZhcigtLXR3LWJhY2tkcm9wLWh1ZS1yb3RhdGUsKXZhcigtLXR3LWJhY2tkcm9wLWludmVydCwpdmFyKC0tdHctYmFja2Ryb3Atb3BhY2l0eSwpdmFyKC0tdHctYmFja2Ryb3Atc2F0dXJhdGUsKXZhcigtLXR3LWJhY2tkcm9wLXNlcGlhLCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5iYWNrZHJvcC1zYXR1cmF0ZS0xNTB7LS10dy1iYWNrZHJvcC1zYXR1cmF0ZTpzYXR1cmF0ZSgxNTAlKSFpbXBvcnRhbnQ7LXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6dmFyKC0tdHctYmFja2Ryb3AtYmx1ciwpdmFyKC0tdHctYmFja2Ryb3AtYnJpZ2h0bmVzcywpdmFyKC0tdHctYmFja2Ryb3AtY29udHJhc3QsKXZhcigtLXR3LWJhY2tkcm9wLWdyYXlzY2FsZSwpdmFyKC0tdHctYmFja2Ryb3AtaHVlLXJvdGF0ZSwpdmFyKC0tdHctYmFja2Ryb3AtaW52ZXJ0LCl2YXIoLS10dy1iYWNrZHJvcC1vcGFjaXR5LCl2YXIoLS10dy1iYWNrZHJvcC1zYXR1cmF0ZSwpdmFyKC0tdHctYmFja2Ryb3Atc2VwaWEsKSFpbXBvcnRhbnQ7YmFja2Ryb3AtZmlsdGVyOnZhcigtLXR3LWJhY2tkcm9wLWJsdXIsKXZhcigtLXR3LWJhY2tkcm9wLWJyaWdodG5lc3MsKXZhcigtLXR3LWJhY2tkcm9wLWNvbnRyYXN0LCl2YXIoLS10dy1iYWNrZHJvcC1ncmF5c2NhbGUsKXZhcigtLXR3LWJhY2tkcm9wLWh1ZS1yb3RhdGUsKXZhcigtLXR3LWJhY2tkcm9wLWludmVydCwpdmFyKC0tdHctYmFja2Ryb3Atb3BhY2l0eSwpdmFyKC0tdHctYmFja2Ryb3Atc2F0dXJhdGUsKXZhcigtLXR3LWJhY2tkcm9wLXNlcGlhLCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC50cmFuc2l0aW9ue3RyYW5zaXRpb24tcHJvcGVydHk6Y29sb3IsYmFja2dyb3VuZC1jb2xvcixib3JkZXItY29sb3Isb3V0bGluZS1jb2xvcix0ZXh0LWRlY29yYXRpb24tY29sb3IsZmlsbCxzdHJva2UsLS10dy1ncmFkaWVudC1mcm9tLC0tdHctZ3JhZGllbnQtdmlhLC0tdHctZ3JhZGllbnQtdG8sb3BhY2l0eSxib3gtc2hhZG93LHRyYW5zZm9ybSx0cmFuc2xhdGUsc2NhbGUscm90YXRlLGZpbHRlciwtd2Via2l0LWJhY2tkcm9wLWZpbHRlcixiYWNrZHJvcC1maWx0ZXIsZGlzcGxheSx2aXNpYmlsaXR5LGNvbnRlbnQtdmlzaWJpbGl0eSxvdmVybGF5LHBvaW50ZXItZXZlbnRzIWltcG9ydGFudDt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjp2YXIoLS10dy1lYXNlLHZhcigtLWRlZmF1bHQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24pKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kdXJhdGlvbjp2YXIoLS10dy1kdXJhdGlvbix2YXIoLS1kZWZhdWx0LXRyYW5zaXRpb24tZHVyYXRpb24pKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRyYW5zaXRpb24tYWxse3RyYW5zaXRpb24tcHJvcGVydHk6YWxsIWltcG9ydGFudDt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjp2YXIoLS10dy1lYXNlLHZhcigtLWRlZmF1bHQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24pKSFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kdXJhdGlvbjp2YXIoLS10dy1kdXJhdGlvbix2YXIoLS1kZWZhdWx0LXRyYW5zaXRpb24tZHVyYXRpb24pKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnRyYW5zaXRpb24tY29sb3Jze3RyYW5zaXRpb24tcHJvcGVydHk6Y29sb3IsYmFja2dyb3VuZC1jb2xvcixib3JkZXItY29sb3Isb3V0bGluZS1jb2xvcix0ZXh0LWRlY29yYXRpb24tY29sb3IsZmlsbCxzdHJva2UsLS10dy1ncmFkaWVudC1mcm9tLC0tdHctZ3JhZGllbnQtdmlhLC0tdHctZ3JhZGllbnQtdG8haW1wb3J0YW50O3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOnZhcigtLXR3LWVhc2UsdmFyKC0tZGVmYXVsdC10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbikpIWltcG9ydGFudDt0cmFuc2l0aW9uLWR1cmF0aW9uOnZhcigtLXR3LWR1cmF0aW9uLHZhcigtLWRlZmF1bHQtdHJhbnNpdGlvbi1kdXJhdGlvbikpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZHVyYXRpb24tMHstLXR3LWR1cmF0aW9uOjBzIWltcG9ydGFudDt0cmFuc2l0aW9uLWR1cmF0aW9uOjBzIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZHVyYXRpb24tMTAwey0tdHctZHVyYXRpb246LjFzIWltcG9ydGFudDt0cmFuc2l0aW9uLWR1cmF0aW9uOi4xcyFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmR1cmF0aW9uLTE1MHstLXR3LWR1cmF0aW9uOi4xNXMhaW1wb3J0YW50O3RyYW5zaXRpb24tZHVyYXRpb246LjE1cyFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmR1cmF0aW9uLTUwMHstLXR3LWR1cmF0aW9uOi41cyFpbXBvcnRhbnQ7dHJhbnNpdGlvbi1kdXJhdGlvbjouNXMhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5vdXRsaW5lLW5vbmV7LS10dy1vdXRsaW5lLXN0eWxlOm5vbmUhaW1wb3J0YW50O291dGxpbmUtc3R5bGU6bm9uZSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnNlbGVjdC1ub25ley13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZSFpbXBvcnRhbnQ7LW1vei11c2VyLXNlbGVjdDpub25lIWltcG9ydGFudDt1c2VyLXNlbGVjdDpub25lIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucGxhY2Vob2xkZXJcXFxcOnRleHQtemluYy05NTBcXFxcLzUwOjotbW96LXBsYWNlaG9sZGVye2NvbG9yOiMwOTA5MGI4MCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnBsYWNlaG9sZGVyXFxcXDp0ZXh0LXppbmMtOTUwXFxcXC81MDo6cGxhY2Vob2xkZXJ7Y29sb3I6IzA5MDkwYjgwIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnBsYWNlaG9sZGVyXFxcXDp0ZXh0LXppbmMtOTUwXFxcXC81MDo6LW1vei1wbGFjZWhvbGRlcntjb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItemluYy05NTApNTAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnBsYWNlaG9sZGVyXFxcXDp0ZXh0LXppbmMtOTUwXFxcXC81MDo6cGxhY2Vob2xkZXJ7Y29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXppbmMtOTUwKTUwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAucGxhY2Vob2xkZXJcXFxcOnRleHQtemluYy05NTBcXFxcLzcwOjotbW96LXBsYWNlaG9sZGVye2NvbG9yOiMwOTA5MGJiMyFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnBsYWNlaG9sZGVyXFxcXDp0ZXh0LXppbmMtOTUwXFxcXC83MDo6cGxhY2Vob2xkZXJ7Y29sb3I6IzA5MDkwYmIzIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnBsYWNlaG9sZGVyXFxcXDp0ZXh0LXppbmMtOTUwXFxcXC83MDo6LW1vei1wbGFjZWhvbGRlcntjb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItemluYy05NTApNzAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLnBsYWNlaG9sZGVyXFxcXDp0ZXh0LXppbmMtOTUwXFxcXC83MDo6cGxhY2Vob2xkZXJ7Y29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXppbmMtOTUwKTcwJSx0cmFuc3BhcmVudCkhaW1wb3J0YW50fX1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmlyc3RcXFxcOmJvcmRlci1ub25lOmZpcnN0LWNoaWxkey0tdHctYm9yZGVyLXN0eWxlOm5vbmUhaW1wb3J0YW50O2JvcmRlci1zdHlsZTpub25lIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuZmlyc3RcXFxcOnBsLTA6Zmlyc3QtY2hpbGR7cGFkZGluZy1sZWZ0OmNhbGModmFyKC0tc3BhY2luZykqMCkhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5sYXN0XFxcXDpib3JkZXItci10cmFuc3BhcmVudDpsYXN0LWNoaWxke2JvcmRlci1yaWdodC1jb2xvcjojMDAwMCFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmxhc3RcXFxcOnByLTA6bGFzdC1jaGlsZHtwYWRkaW5nLXJpZ2h0OmNhbGModmFyKC0tc3BhY2luZykqMCkhaW1wb3J0YW50fUBtZWRpYSAoaG92ZXI6aG92ZXIpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ob3ZlclxcXFw6Ym9yZGVyLXJlZC02MDBcXFxcLzgwOmhvdmVye2JvcmRlci1jb2xvcjojZTQwMDE0Y2MhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaG92ZXJcXFxcOmJvcmRlci1yZWQtNjAwXFxcXC84MDpob3Zlcntib3JkZXItY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXJlZC02MDApODAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ob3ZlclxcXFw6YmctcmVkLTYwMFxcXFwvMjA6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZTQwMDE0MzMhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaG92ZXJcXFxcOmJnLXJlZC02MDBcXFxcLzIwOmhvdmVye2JhY2tncm91bmQtY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXJlZC02MDApMjAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ob3ZlclxcXFw6YmctemluYy05NTBcXFxcLzU6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMDkwOTBiMGQhaW1wb3J0YW50fUBzdXBwb3J0cyAoY29sb3I6Y29sb3ItbWl4KGluIGxhYiwgcmVkLCByZWQpKXtzdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaG92ZXJcXFxcOmJnLXppbmMtOTUwXFxcXC81OmhvdmVye2JhY2tncm91bmQtY29sb3I6Y29sb3ItbWl4KGluIG9rbGFiLHZhcigtLWNvbG9yLXppbmMtOTUwKTUlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ob3ZlclxcXFw6YmctemluYy05NTBcXFxcLzEwOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzA5MDkwYjFhIWltcG9ydGFudH1Ac3VwcG9ydHMgKGNvbG9yOmNvbG9yLW1peChpbiBsYWIsIHJlZCwgcmVkKSl7c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmhvdmVyXFxcXDpiZy16aW5jLTk1MFxcXFwvMTA6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpjb2xvci1taXgoaW4gb2tsYWIsdmFyKC0tY29sb3ItemluYy05NTApMTAlLHRyYW5zcGFyZW50KSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5ob3ZlclxcXFw6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kOmhvdmVye2NvbG9yOnZhcigtLWNvbG9yLW11dGVkLWZvcmVncm91bmQpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaG92ZXJcXFxcOnRleHQtd2hpdGU6aG92ZXJ7Y29sb3I6dmFyKC0tY29sb3Itd2hpdGUpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaG92ZXJcXFxcOm9wYWNpdHktMTAwOmhvdmVye29wYWNpdHk6MSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmhvdmVyXFxcXDpzaGFkb3ctbGc6aG92ZXJ7LS10dy1zaGFkb3c6MCAxMHB4IDE1cHggLTNweCB2YXIoLS10dy1zaGFkb3ctY29sb3IsIzAwMDAwMDFhKSwwIDRweCA2cHggLTRweCB2YXIoLS10dy1zaGFkb3ctY29sb3IsIzAwMDAwMDFhKSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzp2YXIoLS10dy1pbnNldC1zaGFkb3cpLHZhcigtLXR3LWluc2V0LXJpbmctc2hhZG93KSx2YXIoLS10dy1yaW5nLW9mZnNldC1zaGFkb3cpLHZhcigtLXR3LXJpbmctc2hhZG93KSx2YXIoLS10dy1zaGFkb3cpIWltcG9ydGFudH1zdGFnZXdpc2UtY29tcGFuaW9uLWFuY2hvciAuaG92ZXJcXFxcOmJhY2tkcm9wLWJsdXItc206aG92ZXJ7LS10dy1iYWNrZHJvcC1ibHVyOmJsdXIodmFyKC0tYmx1ci1zbSkpIWltcG9ydGFudDstd2Via2l0LWJhY2tkcm9wLWZpbHRlcjp2YXIoLS10dy1iYWNrZHJvcC1ibHVyLCl2YXIoLS10dy1iYWNrZHJvcC1icmlnaHRuZXNzLCl2YXIoLS10dy1iYWNrZHJvcC1jb250cmFzdCwpdmFyKC0tdHctYmFja2Ryb3AtZ3JheXNjYWxlLCl2YXIoLS10dy1iYWNrZHJvcC1odWUtcm90YXRlLCl2YXIoLS10dy1iYWNrZHJvcC1pbnZlcnQsKXZhcigtLXR3LWJhY2tkcm9wLW9wYWNpdHksKXZhcigtLXR3LWJhY2tkcm9wLXNhdHVyYXRlLCl2YXIoLS10dy1iYWNrZHJvcC1zZXBpYSwpIWltcG9ydGFudDtiYWNrZHJvcC1maWx0ZXI6dmFyKC0tdHctYmFja2Ryb3AtYmx1ciwpdmFyKC0tdHctYmFja2Ryb3AtYnJpZ2h0bmVzcywpdmFyKC0tdHctYmFja2Ryb3AtY29udHJhc3QsKXZhcigtLXR3LWJhY2tkcm9wLWdyYXlzY2FsZSwpdmFyKC0tdHctYmFja2Ryb3AtaHVlLXJvdGF0ZSwpdmFyKC0tdHctYmFja2Ryb3AtaW52ZXJ0LCl2YXIoLS10dy1iYWNrZHJvcC1vcGFjaXR5LCl2YXIoLS10dy1iYWNrZHJvcC1zYXR1cmF0ZSwpdmFyKC0tdHctYmFja2Ryb3Atc2VwaWEsKSFpbXBvcnRhbnR9fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIC5mb2N1c1xcXFw6Y3Vyc29yLWdyYWJiaW5nOmZvY3Vze2N1cnNvcjpncmFiYmluZyFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZvY3VzXFxcXDp0ZXh0LXppbmMtOTAwOmZvY3Vze2NvbG9yOnZhcigtLWNvbG9yLXppbmMtOTAwKSFpbXBvcnRhbnR9c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmZvY3VzXFxcXDpvdXRsaW5lLW5vbmU6Zm9jdXMsc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgLmRhdGEtZm9jdXNcXFxcOm91dGxpbmUtbm9uZVtkYXRhLWZvY3VzXXstLXR3LW91dGxpbmUtc3R5bGU6bm9uZSFpbXBvcnRhbnQ7b3V0bGluZS1zdHlsZTpub25lIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3Igc3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3J7YWxsOmluaXRpYWw7aW50ZXJwb2xhdGUtc2l6ZTphbGxvdy1rZXl3b3Jkczt0cmFuc2Zvcm06dHJhbnNsYXRlKDApO2NvbG9yOnZhcigtLWNvbG9yLXppbmMtOTUwKSFpbXBvcnRhbnQ7bGV0dGVyLXNwYWNpbmc6bm9ybWFsIWltcG9ydGFudDt0ZXh0LXJlbmRlcmluZzphdXRvIWltcG9ydGFudDtmb250LWZhbWlseTpJbnRlcixOb3RvIENvbG9yIEVtb2ppLC1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LFNlZ29lIFVJLFJvYm90byxTRiBDb21wYWN0LFNGIFBybyxIZWx2ZXRpY2EgTmV1ZSxzYW5zLXNlcmlmIWltcG9ydGFudDtmb250LXdlaWdodDo0MDAhaW1wb3J0YW50O2xpbmUtaGVpZ2h0Om5vcm1hbCFpbXBvcnRhbnR9QHN1cHBvcnRzIChmb250LXZhcmlhdGlvbi1zZXR0aW5nczpub3JtYWwpe3N0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yIHN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9ye2ZvbnQtb3B0aWNhbC1zaXppbmc6YXV0byFpbXBvcnRhbnQ7Zm9udC1mYW1pbHk6SW50ZXJWYXJpYWJsZSxOb3RvIENvbG9yIEVtb2ppLC1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LFNlZ29lIFVJLFJvYm90byxTRiBDb21wYWN0LFNGIFBybyxIZWx2ZXRpY2EgTmV1ZSxzYW5zLXNlcmlmIWltcG9ydGFudH19c3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3IgI2hlYWRsZXNzdWktcG9ydGFsLXJvb3R7ei1pbmRleDo1MCFpbXBvcnRhbnQ7d2lkdGg6MTAwdnchaW1wb3J0YW50O2hlaWdodDoxMDB2aCFpbXBvcnRhbnQ7cG9zaXRpb246Zml4ZWQhaW1wb3J0YW50fXN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yICNoZWFkbGVzc3VpLXBvcnRhbC1yb290Pip7cG9pbnRlci1ldmVudHM6YXV0byFpbXBvcnRhbnR9QHByb3BlcnR5IC0tdHctcm90YXRlLXh7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LXJvdGF0ZS15e3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1yb3RhdGUtentzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctc2tldy14e3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1za2V3LXl7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWJvcmRlci1zdHlsZXtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZTpzb2xpZH1AcHJvcGVydHkgLS10dy1ncmFkaWVudC1wb3NpdGlvbntzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctZ3JhZGllbnQtZnJvbXtzeW50YXg6XCI8Y29sb3I+XCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZTojMDAwMH1AcHJvcGVydHkgLS10dy1ncmFkaWVudC12aWF7c3ludGF4OlwiPGNvbG9yPlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6IzAwMDB9QHByb3BlcnR5IC0tdHctZ3JhZGllbnQtdG97c3ludGF4OlwiPGNvbG9yPlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6IzAwMDB9QHByb3BlcnR5IC0tdHctZ3JhZGllbnQtc3RvcHN7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWdyYWRpZW50LXZpYS1zdG9wc3tzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctZ3JhZGllbnQtZnJvbS1wb3NpdGlvbntzeW50YXg6XCI8bGVuZ3RoLXBlcmNlbnRhZ2U+XCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZTowJX1AcHJvcGVydHkgLS10dy1ncmFkaWVudC12aWEtcG9zaXRpb257c3ludGF4OlwiPGxlbmd0aC1wZXJjZW50YWdlPlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6NTAlfUBwcm9wZXJ0eSAtLXR3LWdyYWRpZW50LXRvLXBvc2l0aW9ue3N5bnRheDpcIjxsZW5ndGgtcGVyY2VudGFnZT5cIjtpbmhlcml0czpmYWxzZTtpbml0aWFsLXZhbHVlOjEwMCV9QHByb3BlcnR5IC0tdHctZm9udC13ZWlnaHR7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LXNoYWRvd3tzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZTowIDAgIzAwMDB9QHByb3BlcnR5IC0tdHctc2hhZG93LWNvbG9ye3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1zaGFkb3ctYWxwaGF7c3ludGF4OlwiPHBlcmNlbnRhZ2U+XCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZToxMDAlfUBwcm9wZXJ0eSAtLXR3LWluc2V0LXNoYWRvd3tzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZTowIDAgIzAwMDB9QHByb3BlcnR5IC0tdHctaW5zZXQtc2hhZG93LWNvbG9ye3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1pbnNldC1zaGFkb3ctYWxwaGF7c3ludGF4OlwiPHBlcmNlbnRhZ2U+XCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZToxMDAlfUBwcm9wZXJ0eSAtLXR3LXJpbmctY29sb3J7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LXJpbmctc2hhZG93e3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZTtpbml0aWFsLXZhbHVlOjAgMCAjMDAwMH1AcHJvcGVydHkgLS10dy1pbnNldC1yaW5nLWNvbG9ye3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1pbnNldC1yaW5nLXNoYWRvd3tzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2U7aW5pdGlhbC12YWx1ZTowIDAgIzAwMDB9QHByb3BlcnR5IC0tdHctcmluZy1pbnNldHtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctcmluZy1vZmZzZXQtd2lkdGh7c3ludGF4OlwiPGxlbmd0aD5cIjtpbmhlcml0czpmYWxzZTtpbml0aWFsLXZhbHVlOjB9QHByb3BlcnR5IC0tdHctcmluZy1vZmZzZXQtY29sb3J7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6I2ZmZn1AcHJvcGVydHkgLS10dy1yaW5nLW9mZnNldC1zaGFkb3d7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6MCAwICMwMDAwfUBwcm9wZXJ0eSAtLXR3LWJsdXJ7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWJyaWdodG5lc3N7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWNvbnRyYXN0e3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1ncmF5c2NhbGV7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWh1ZS1yb3RhdGV7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWludmVydHtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctb3BhY2l0eXtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctc2F0dXJhdGV7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LXNlcGlhe3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1kcm9wLXNoYWRvd3tzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctZHJvcC1zaGFkb3ctY29sb3J7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWRyb3Atc2hhZG93LWFscGhhe3N5bnRheDpcIjxwZXJjZW50YWdlPlwiO2luaGVyaXRzOmZhbHNlO2luaXRpYWwtdmFsdWU6MTAwJX1AcHJvcGVydHkgLS10dy1kcm9wLXNoYWRvdy1zaXple3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1iYWNrZHJvcC1ibHVye3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1iYWNrZHJvcC1icmlnaHRuZXNze3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1iYWNrZHJvcC1jb250cmFzdHtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctYmFja2Ryb3AtZ3JheXNjYWxle3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1iYWNrZHJvcC1odWUtcm90YXRle3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1iYWNrZHJvcC1pbnZlcnR7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWJhY2tkcm9wLW9wYWNpdHl7c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBwcm9wZXJ0eSAtLXR3LWJhY2tkcm9wLXNhdHVyYXRle3N5bnRheDpcIipcIjtpbmhlcml0czpmYWxzZX1AcHJvcGVydHkgLS10dy1iYWNrZHJvcC1zZXBpYXtzeW50YXg6XCIqXCI7aW5oZXJpdHM6ZmFsc2V9QHByb3BlcnR5IC0tdHctZHVyYXRpb257c3ludGF4OlwiKlwiO2luaGVyaXRzOmZhbHNlfUBrZXlmcmFtZXMgcHVsc2V7NTAle29wYWNpdHk6LjV9fVxcbic7XG4gIHZhciBmJDggPSAwO1xuICBmdW5jdGlvbiB1JDkoZTIsIHQyLCBuMiwgbzIsIGkyLCB1Mikge1xuICAgIHQyIHx8ICh0MiA9IHt9KTtcbiAgICB2YXIgYTIsIGMyLCBwMiA9IHQyO1xuICAgIGlmIChcInJlZlwiIGluIHAyKSBmb3IgKGMyIGluIHAyID0ge30sIHQyKSBcInJlZlwiID09IGMyID8gYTIgPSB0MltjMl0gOiBwMltjMl0gPSB0MltjMl07XG4gICAgdmFyIGwyID0geyB0eXBlOiBlMiwgcHJvcHM6IHAyLCBrZXk6IG4yLCByZWY6IGEyLCBfX2s6IG51bGwsIF9fOiBudWxsLCBfX2I6IDAsIF9fZTogbnVsbCwgX19jOiBudWxsLCBjb25zdHJ1Y3Rvcjogdm9pZCAwLCBfX3Y6IC0tZiQ4LCBfX2k6IC0xLCBfX3U6IDAsIF9fc291cmNlOiBpMiwgX19zZWxmOiB1MiB9O1xuICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUyICYmIChhMiA9IGUyLmRlZmF1bHRQcm9wcykpIGZvciAoYzIgaW4gYTIpIHZvaWQgMCA9PT0gcDJbYzJdICYmIChwMltjMl0gPSBhMltjMl0pO1xuICAgIHJldHVybiBsJDQudm5vZGUgJiYgbCQ0LnZub2RlKGwyKSwgbDI7XG4gIH1cbiAgdmFyIHQkNSwgciQ0LCB1JDgsIGkkNywgbyQ4ID0gMCwgZiQ3ID0gW10sIGMkNiA9IGwkNCwgZSQ0ID0gYyQ2Ll9fYiwgYSRhID0gYyQ2Ll9fciwgdiQyID0gYyQ2LmRpZmZlZCwgbCQzID0gYyQ2Ll9fYywgbSQ1ID0gYyQ2LnVubW91bnQsIHMkOCA9IGMkNi5fXztcbiAgZnVuY3Rpb24gcCQzKG4yLCB0Mikge1xuICAgIGMkNi5fX2ggJiYgYyQ2Ll9faChyJDQsIG4yLCBvJDggfHwgdDIpLCBvJDggPSAwO1xuICAgIHZhciB1MiA9IHIkNC5fX0ggfHwgKHIkNC5fX0ggPSB7IF9fOiBbXSwgX19oOiBbXSB9KTtcbiAgICByZXR1cm4gbjIgPj0gdTIuX18ubGVuZ3RoICYmIHUyLl9fLnB1c2goe30pLCB1Mi5fX1tuMl07XG4gIH1cbiAgZnVuY3Rpb24gZCQ0KG4yKSB7XG4gICAgcmV0dXJuIG8kOCA9IDEsIGgkNShEJDIsIG4yKTtcbiAgfVxuICBmdW5jdGlvbiBoJDUobjIsIHUyLCBpMikge1xuICAgIHZhciBvMiA9IHAkMyh0JDUrKywgMik7XG4gICAgaWYgKG8yLnQgPSBuMiwgIW8yLl9fYyAmJiAobzIuX18gPSBbaTIgPyBpMih1MikgOiBEJDIodm9pZCAwLCB1MiksIGZ1bmN0aW9uKG4zKSB7XG4gICAgICB2YXIgdDIgPSBvMi5fX04gPyBvMi5fX05bMF0gOiBvMi5fX1swXSwgcjIgPSBvMi50KHQyLCBuMyk7XG4gICAgICB0MiAhPT0gcjIgJiYgKG8yLl9fTiA9IFtyMiwgbzIuX19bMV1dLCBvMi5fX2Muc2V0U3RhdGUoe30pKTtcbiAgICB9XSwgbzIuX19jID0gciQ0LCAhciQ0Ll9fZikpIHtcbiAgICAgIHZhciBmMiA9IGZ1bmN0aW9uKG4zLCB0MiwgcjIpIHtcbiAgICAgICAgaWYgKCFvMi5fX2MuX19IKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgdmFyIHUzID0gbzIuX19jLl9fSC5fXy5maWx0ZXIoZnVuY3Rpb24objQpIHtcbiAgICAgICAgICByZXR1cm4gISFuNC5fX2M7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodTMuZXZlcnkoZnVuY3Rpb24objQpIHtcbiAgICAgICAgICByZXR1cm4gIW40Ll9fTjtcbiAgICAgICAgfSkpIHJldHVybiAhYzIgfHwgYzIuY2FsbCh0aGlzLCBuMywgdDIsIHIyKTtcbiAgICAgICAgdmFyIGkzID0gbzIuX19jLnByb3BzICE9PSBuMztcbiAgICAgICAgcmV0dXJuIHUzLmZvckVhY2goZnVuY3Rpb24objQpIHtcbiAgICAgICAgICBpZiAobjQuX19OKSB7XG4gICAgICAgICAgICB2YXIgdDMgPSBuNC5fX1swXTtcbiAgICAgICAgICAgIG40Ll9fID0gbjQuX19OLCBuNC5fX04gPSB2b2lkIDAsIHQzICE9PSBuNC5fX1swXSAmJiAoaTMgPSB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLCBjMiAmJiBjMi5jYWxsKHRoaXMsIG4zLCB0MiwgcjIpIHx8IGkzO1xuICAgICAgfTtcbiAgICAgIHIkNC5fX2YgPSB0cnVlO1xuICAgICAgdmFyIGMyID0gciQ0LnNob3VsZENvbXBvbmVudFVwZGF0ZSwgZTIgPSByJDQuY29tcG9uZW50V2lsbFVwZGF0ZTtcbiAgICAgIHIkNC5jb21wb25lbnRXaWxsVXBkYXRlID0gZnVuY3Rpb24objMsIHQyLCByMikge1xuICAgICAgICBpZiAodGhpcy5fX2UpIHtcbiAgICAgICAgICB2YXIgdTMgPSBjMjtcbiAgICAgICAgICBjMiA9IHZvaWQgMCwgZjIobjMsIHQyLCByMiksIGMyID0gdTM7XG4gICAgICAgIH1cbiAgICAgICAgZTIgJiYgZTIuY2FsbCh0aGlzLCBuMywgdDIsIHIyKTtcbiAgICAgIH0sIHIkNC5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmMjtcbiAgICB9XG4gICAgcmV0dXJuIG8yLl9fTiB8fCBvMi5fXztcbiAgfVxuICBmdW5jdGlvbiB5JDYobjIsIHUyKSB7XG4gICAgdmFyIGkyID0gcCQzKHQkNSsrLCAzKTtcbiAgICAhYyQ2Ll9fcyAmJiBDJDQoaTIuX19ILCB1MikgJiYgKGkyLl9fID0gbjIsIGkyLnUgPSB1MiwgciQ0Ll9fSC5fX2gucHVzaChpMikpO1xuICB9XG4gIGZ1bmN0aW9uIF8kMyhuMiwgdTIpIHtcbiAgICB2YXIgaTIgPSBwJDModCQ1KyssIDQpO1xuICAgICFjJDYuX19zICYmIEMkNChpMi5fX0gsIHUyKSAmJiAoaTIuX18gPSBuMiwgaTIudSA9IHUyLCByJDQuX19oLnB1c2goaTIpKTtcbiAgfVxuICBmdW5jdGlvbiBBJDMobjIpIHtcbiAgICByZXR1cm4gbyQ4ID0gNSwgVCQ1KGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHsgY3VycmVudDogbjIgfTtcbiAgICB9LCBbXSk7XG4gIH1cbiAgZnVuY3Rpb24gRiQ1KG4yLCB0MiwgcjIpIHtcbiAgICBvJDggPSA2LCBfJDMoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBuMikge1xuICAgICAgICB2YXIgcjMgPSBuMih0MigpKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG4yKG51bGwpLCByMyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHIzICYmIHIzKCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAobjIpIHJldHVybiBuMi5jdXJyZW50ID0gdDIoKSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuMi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH07XG4gICAgfSwgbnVsbCA9PSByMiA/IHIyIDogcjIuY29uY2F0KG4yKSk7XG4gIH1cbiAgZnVuY3Rpb24gVCQ1KG4yLCByMikge1xuICAgIHZhciB1MiA9IHAkMyh0JDUrKywgNyk7XG4gICAgcmV0dXJuIEMkNCh1Mi5fX0gsIHIyKSAmJiAodTIuX18gPSBuMigpLCB1Mi5fX0ggPSByMiwgdTIuX19oID0gbjIpLCB1Mi5fXztcbiAgfVxuICBmdW5jdGlvbiBxJDMobjIsIHQyKSB7XG4gICAgcmV0dXJuIG8kOCA9IDgsIFQkNShmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuMjtcbiAgICB9LCB0Mik7XG4gIH1cbiAgZnVuY3Rpb24geCQ0KG4yKSB7XG4gICAgdmFyIHUyID0gciQ0LmNvbnRleHRbbjIuX19jXSwgaTIgPSBwJDModCQ1KyssIDkpO1xuICAgIHJldHVybiBpMi5jID0gbjIsIHUyID8gKG51bGwgPT0gaTIuX18gJiYgKGkyLl9fID0gdHJ1ZSwgdTIuc3ViKHIkNCkpLCB1Mi5wcm9wcy52YWx1ZSkgOiBuMi5fXztcbiAgfVxuICBmdW5jdGlvbiBQJDUobjIsIHQyKSB7XG4gICAgYyQ2LnVzZURlYnVnVmFsdWUgJiYgYyQ2LnVzZURlYnVnVmFsdWUodDIgPyB0MihuMikgOiBuMik7XG4gIH1cbiAgZnVuY3Rpb24gYiQ0KG4yKSB7XG4gICAgdmFyIHUyID0gcCQzKHQkNSsrLCAxMCksIGkyID0gZCQ0KCk7XG4gICAgcmV0dXJuIHUyLl9fID0gbjIsIHIkNC5jb21wb25lbnREaWRDYXRjaCB8fCAociQ0LmNvbXBvbmVudERpZENhdGNoID0gZnVuY3Rpb24objMsIHQyKSB7XG4gICAgICB1Mi5fXyAmJiB1Mi5fXyhuMywgdDIpLCBpMlsxXShuMyk7XG4gICAgfSksIFtpMlswXSwgZnVuY3Rpb24oKSB7XG4gICAgICBpMlsxXSh2b2lkIDApO1xuICAgIH1dO1xuICB9XG4gIGZ1bmN0aW9uIGckMygpIHtcbiAgICB2YXIgbjIgPSBwJDModCQ1KyssIDExKTtcbiAgICBpZiAoIW4yLl9fKSB7XG4gICAgICBmb3IgKHZhciB1MiA9IHIkNC5fX3Y7IG51bGwgIT09IHUyICYmICF1Mi5fX20gJiYgbnVsbCAhPT0gdTIuX187ICkgdTIgPSB1Mi5fXztcbiAgICAgIHZhciBpMiA9IHUyLl9fbSB8fCAodTIuX19tID0gWzAsIDBdKTtcbiAgICAgIG4yLl9fID0gXCJQXCIgKyBpMlswXSArIFwiLVwiICsgaTJbMV0rKztcbiAgICB9XG4gICAgcmV0dXJuIG4yLl9fO1xuICB9XG4gIGZ1bmN0aW9uIGokNCgpIHtcbiAgICBmb3IgKHZhciBuMjsgbjIgPSBmJDcuc2hpZnQoKTsgKSBpZiAobjIuX19QICYmIG4yLl9fSCkgdHJ5IHtcbiAgICAgIG4yLl9fSC5fX2guZm9yRWFjaCh6JDIpLCBuMi5fX0guX19oLmZvckVhY2goQiQyKSwgbjIuX19ILl9faCA9IFtdO1xuICAgIH0gY2F0Y2ggKHQyKSB7XG4gICAgICBuMi5fX0guX19oID0gW10sIGMkNi5fX2UodDIsIG4yLl9fdik7XG4gICAgfVxuICB9XG4gIGMkNi5fX2IgPSBmdW5jdGlvbihuMikge1xuICAgIHIkNCA9IG51bGwsIGUkNCAmJiBlJDQobjIpO1xuICB9LCBjJDYuX18gPSBmdW5jdGlvbihuMiwgdDIpIHtcbiAgICBuMiAmJiB0Mi5fX2sgJiYgdDIuX19rLl9fbSAmJiAobjIuX19tID0gdDIuX19rLl9fbSksIHMkOCAmJiBzJDgobjIsIHQyKTtcbiAgfSwgYyQ2Ll9fciA9IGZ1bmN0aW9uKG4yKSB7XG4gICAgYSRhICYmIGEkYShuMiksIHQkNSA9IDA7XG4gICAgdmFyIGkyID0gKHIkNCA9IG4yLl9fYykuX19IO1xuICAgIGkyICYmICh1JDggPT09IHIkNCA/IChpMi5fX2ggPSBbXSwgciQ0Ll9faCA9IFtdLCBpMi5fXy5mb3JFYWNoKGZ1bmN0aW9uKG4zKSB7XG4gICAgICBuMy5fX04gJiYgKG4zLl9fID0gbjMuX19OKSwgbjMudSA9IG4zLl9fTiA9IHZvaWQgMDtcbiAgICB9KSkgOiAoaTIuX19oLmZvckVhY2goeiQyKSwgaTIuX19oLmZvckVhY2goQiQyKSwgaTIuX19oID0gW10sIHQkNSA9IDApKSwgdSQ4ID0gciQ0O1xuICB9LCBjJDYuZGlmZmVkID0gZnVuY3Rpb24objIpIHtcbiAgICB2JDIgJiYgdiQyKG4yKTtcbiAgICB2YXIgdDIgPSBuMi5fX2M7XG4gICAgdDIgJiYgdDIuX19IICYmICh0Mi5fX0guX19oLmxlbmd0aCAmJiAoMSAhPT0gZiQ3LnB1c2godDIpICYmIGkkNyA9PT0gYyQ2LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCAoKGkkNyA9IGMkNi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHx8IHckNCkoaiQ0KSksIHQyLl9fSC5fXy5mb3JFYWNoKGZ1bmN0aW9uKG4zKSB7XG4gICAgICBuMy51ICYmIChuMy5fX0ggPSBuMy51KSwgbjMudSA9IHZvaWQgMDtcbiAgICB9KSksIHUkOCA9IHIkNCA9IG51bGw7XG4gIH0sIGMkNi5fX2MgPSBmdW5jdGlvbihuMiwgdDIpIHtcbiAgICB0Mi5zb21lKGZ1bmN0aW9uKG4zKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuMy5fX2guZm9yRWFjaCh6JDIpLCBuMy5fX2ggPSBuMy5fX2guZmlsdGVyKGZ1bmN0aW9uKG40KSB7XG4gICAgICAgICAgcmV0dXJuICFuNC5fXyB8fCBCJDIobjQpO1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKHIyKSB7XG4gICAgICAgIHQyLnNvbWUoZnVuY3Rpb24objQpIHtcbiAgICAgICAgICBuNC5fX2ggJiYgKG40Ll9faCA9IFtdKTtcbiAgICAgICAgfSksIHQyID0gW10sIGMkNi5fX2UocjIsIG4zLl9fdik7XG4gICAgICB9XG4gICAgfSksIGwkMyAmJiBsJDMobjIsIHQyKTtcbiAgfSwgYyQ2LnVubW91bnQgPSBmdW5jdGlvbihuMikge1xuICAgIG0kNSAmJiBtJDUobjIpO1xuICAgIHZhciB0MiwgcjIgPSBuMi5fX2M7XG4gICAgcjIgJiYgcjIuX19IICYmIChyMi5fX0guX18uZm9yRWFjaChmdW5jdGlvbihuMykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgeiQyKG4zKTtcbiAgICAgIH0gY2F0Y2ggKG40KSB7XG4gICAgICAgIHQyID0gbjQ7XG4gICAgICB9XG4gICAgfSksIHIyLl9fSCA9IHZvaWQgMCwgdDIgJiYgYyQ2Ll9fZSh0MiwgcjIuX192KSk7XG4gIH07XG4gIHZhciBrJDIgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgZnVuY3Rpb24gdyQ0KG4yKSB7XG4gICAgdmFyIHQyLCByMiA9IGZ1bmN0aW9uKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHUyKSwgayQyICYmIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHQyKSwgc2V0VGltZW91dChuMik7XG4gICAgfSwgdTIgPSBzZXRUaW1lb3V0KHIyLCAxMDApO1xuICAgIGskMiAmJiAodDIgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocjIpKTtcbiAgfVxuICBmdW5jdGlvbiB6JDIobjIpIHtcbiAgICB2YXIgdDIgPSByJDQsIHUyID0gbjIuX19jO1xuICAgIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdTIgJiYgKG4yLl9fYyA9IHZvaWQgMCwgdTIoKSksIHIkNCA9IHQyO1xuICB9XG4gIGZ1bmN0aW9uIEIkMihuMikge1xuICAgIHZhciB0MiA9IHIkNDtcbiAgICBuMi5fX2MgPSBuMi5fXygpLCByJDQgPSB0MjtcbiAgfVxuICBmdW5jdGlvbiBDJDQobjIsIHQyKSB7XG4gICAgcmV0dXJuICFuMiB8fCBuMi5sZW5ndGggIT09IHQyLmxlbmd0aCB8fCB0Mi5zb21lKGZ1bmN0aW9uKHQzLCByMikge1xuICAgICAgcmV0dXJuIHQzICE9PSBuMltyMl07XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gRCQyKG4yLCB0Mikge1xuICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQyID8gdDIobjIpIDogdDI7XG4gIH1cbiAgY29uc3QgUGx1Z2luQ29udGV4dCA9IEskMyhbXSk7XG4gIGZ1bmN0aW9uIFBsdWdpblByb3ZpZGVyKHtcbiAgICBjaGlsZHJlbixcbiAgICBwbHVnaW5zXG4gIH0pIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShQbHVnaW5Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBwbHVnaW5zLCBjaGlsZHJlbiB9KTtcbiAgfVxuICBmdW5jdGlvbiB1c2VQbHVnaW5zKCkge1xuICAgIGNvbnN0IHBsdWdpbiA9IHgkNChQbHVnaW5Db250ZXh0KTtcbiAgICBpZiAoIXBsdWdpbikgcmV0dXJuIFtdO1xuICAgIHJldHVybiBwbHVnaW47XG4gIH1cbiAgZnVuY3Rpb24gZyQyKG4yLCB0Mikge1xuICAgIGZvciAodmFyIGUyIGluIHQyKSBuMltlMl0gPSB0MltlMl07XG4gICAgcmV0dXJuIG4yO1xuICB9XG4gIGZ1bmN0aW9uIEUkMihuMiwgdDIpIHtcbiAgICBmb3IgKHZhciBlMiBpbiBuMikgaWYgKFwiX19zb3VyY2VcIiAhPT0gZTIgJiYgIShlMiBpbiB0MikpIHJldHVybiB0cnVlO1xuICAgIGZvciAodmFyIHIyIGluIHQyKSBpZiAoXCJfX3NvdXJjZVwiICE9PSByMiAmJiBuMltyMl0gIT09IHQyW3IyXSkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIEMkMyhuMiwgdDIpIHtcbiAgICB2YXIgZTIgPSB0MigpLCByMiA9IGQkNCh7IHQ6IHsgX186IGUyLCB1OiB0MiB9IH0pLCB1MiA9IHIyWzBdLnQsIG8yID0gcjJbMV07XG4gICAgcmV0dXJuIF8kMyhmdW5jdGlvbigpIHtcbiAgICAgIHUyLl9fID0gZTIsIHUyLnUgPSB0MiwgeCQzKHUyKSAmJiBvMih7IHQ6IHUyIH0pO1xuICAgIH0sIFtuMiwgZTIsIHQyXSksIHkkNihmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB4JDModTIpICYmIG8yKHsgdDogdTIgfSksIG4yKGZ1bmN0aW9uKCkge1xuICAgICAgICB4JDModTIpICYmIG8yKHsgdDogdTIgfSk7XG4gICAgICB9KTtcbiAgICB9LCBbbjJdKSwgZTI7XG4gIH1cbiAgZnVuY3Rpb24geCQzKG4yKSB7XG4gICAgdmFyIHQyLCBlMiwgcjIgPSBuMi51LCB1MiA9IG4yLl9fO1xuICAgIHRyeSB7XG4gICAgICB2YXIgbzIgPSByMigpO1xuICAgICAgcmV0dXJuICEoKHQyID0gdTIpID09PSAoZTIgPSBvMikgJiYgKDAgIT09IHQyIHx8IDEgLyB0MiA9PSAxIC8gZTIpIHx8IHQyICE9IHQyICYmIGUyICE9IGUyKTtcbiAgICB9IGNhdGNoIChuMykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIFIkMyhuMikge1xuICAgIG4yKCk7XG4gIH1cbiAgZnVuY3Rpb24gdyQzKG4yKSB7XG4gICAgcmV0dXJuIG4yO1xuICB9XG4gIGZ1bmN0aW9uIGskMSgpIHtcbiAgICByZXR1cm4gW2ZhbHNlLCBSJDNdO1xuICB9XG4gIHZhciBJJDMgPSBfJDM7XG4gIGZ1bmN0aW9uIE4kMShuMiwgdDIpIHtcbiAgICB0aGlzLnByb3BzID0gbjIsIHRoaXMuY29udGV4dCA9IHQyO1xuICB9XG4gIGZ1bmN0aW9uIE0kMyhuMiwgZTIpIHtcbiAgICBmdW5jdGlvbiByMihuMykge1xuICAgICAgdmFyIHQyID0gdGhpcy5wcm9wcy5yZWYsIHIzID0gdDIgPT0gbjMucmVmO1xuICAgICAgcmV0dXJuICFyMyAmJiB0MiAmJiAodDIuY2FsbCA/IHQyKG51bGwpIDogdDIuY3VycmVudCA9IG51bGwpLCBlMiA/ICFlMih0aGlzLnByb3BzLCBuMykgfHwgIXIzIDogRSQyKHRoaXMucHJvcHMsIG4zKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdTIoZTMpIHtcbiAgICAgIHJldHVybiB0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IHIyLCBfJDQobjIsIGUzKTtcbiAgICB9XG4gICAgcmV0dXJuIHUyLmRpc3BsYXlOYW1lID0gXCJNZW1vKFwiICsgKG4yLmRpc3BsYXlOYW1lIHx8IG4yLm5hbWUpICsgXCIpXCIsIHUyLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0gdHJ1ZSwgdTIuX19mID0gdHJ1ZSwgdTI7XG4gIH1cbiAgKE4kMS5wcm90b3R5cGUgPSBuZXcgeCQ1KCkpLmlzUHVyZVJlYWN0Q29tcG9uZW50ID0gdHJ1ZSwgTiQxLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbihuMiwgdDIpIHtcbiAgICByZXR1cm4gRSQyKHRoaXMucHJvcHMsIG4yKSB8fCBFJDIodGhpcy5zdGF0ZSwgdDIpO1xuICB9O1xuICB2YXIgVCQ0ID0gbCQ0Ll9fYjtcbiAgbCQ0Ll9fYiA9IGZ1bmN0aW9uKG4yKSB7XG4gICAgbjIudHlwZSAmJiBuMi50eXBlLl9fZiAmJiBuMi5yZWYgJiYgKG4yLnByb3BzLnJlZiA9IG4yLnJlZiwgbjIucmVmID0gbnVsbCksIFQkNCAmJiBUJDQobjIpO1xuICB9O1xuICB2YXIgQSQyID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC5mb3IgJiYgU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpIHx8IDM5MTE7XG4gIGZ1bmN0aW9uIEQkMShuMikge1xuICAgIGZ1bmN0aW9uIHQyKHQzKSB7XG4gICAgICB2YXIgZTIgPSBnJDIoe30sIHQzKTtcbiAgICAgIHJldHVybiBkZWxldGUgZTIucmVmLCBuMihlMiwgdDMucmVmIHx8IG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gdDIuJCR0eXBlb2YgPSBBJDIsIHQyLnJlbmRlciA9IHQyLCB0Mi5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHQyLl9fZiA9IHRydWUsIHQyLmRpc3BsYXlOYW1lID0gXCJGb3J3YXJkUmVmKFwiICsgKG4yLmRpc3BsYXlOYW1lIHx8IG4yLm5hbWUpICsgXCIpXCIsIHQyO1xuICB9XG4gIHZhciBMJDMgPSBmdW5jdGlvbihuMiwgdDIpIHtcbiAgICByZXR1cm4gbnVsbCA9PSBuMiA/IG51bGwgOiBIJDYoSCQ2KG4yKS5tYXAodDIpKTtcbiAgfSwgTyQyID0geyBtYXA6IEwkMywgZm9yRWFjaDogTCQzLCBjb3VudDogZnVuY3Rpb24objIpIHtcbiAgICByZXR1cm4gbjIgPyBIJDYobjIpLmxlbmd0aCA6IDA7XG4gIH0sIG9ubHk6IGZ1bmN0aW9uKG4yKSB7XG4gICAgdmFyIHQyID0gSCQ2KG4yKTtcbiAgICBpZiAoMSAhPT0gdDIubGVuZ3RoKSB0aHJvdyBcIkNoaWxkcmVuLm9ubHlcIjtcbiAgICByZXR1cm4gdDJbMF07XG4gIH0sIHRvQXJyYXk6IEgkNiB9LCBGJDQgPSBsJDQuX19lO1xuICBsJDQuX19lID0gZnVuY3Rpb24objIsIHQyLCBlMiwgcjIpIHtcbiAgICBpZiAobjIudGhlbikge1xuICAgICAgZm9yICh2YXIgdTIsIG8yID0gdDI7IG8yID0gbzIuX187ICkgaWYgKCh1MiA9IG8yLl9fYykgJiYgdTIuX19jKSByZXR1cm4gbnVsbCA9PSB0Mi5fX2UgJiYgKHQyLl9fZSA9IGUyLl9fZSwgdDIuX19rID0gZTIuX19rKSwgdTIuX19jKG4yLCB0Mik7XG4gICAgfVxuICAgIEYkNChuMiwgdDIsIGUyLCByMik7XG4gIH07XG4gIHZhciBVJDMgPSBsJDQudW5tb3VudDtcbiAgZnVuY3Rpb24gViQxKG4yLCB0MiwgZTIpIHtcbiAgICByZXR1cm4gbjIgJiYgKG4yLl9fYyAmJiBuMi5fX2MuX19IICYmIChuMi5fX2MuX19ILl9fLmZvckVhY2goZnVuY3Rpb24objMpIHtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgbjMuX19jICYmIG4zLl9fYygpO1xuICAgIH0pLCBuMi5fX2MuX19IID0gbnVsbCksIG51bGwgIT0gKG4yID0gZyQyKHt9LCBuMikpLl9fYyAmJiAobjIuX19jLl9fUCA9PT0gZTIgJiYgKG4yLl9fYy5fX1AgPSB0MiksIG4yLl9fYy5fX2UgPSB0cnVlLCBuMi5fX2MgPSBudWxsKSwgbjIuX19rID0gbjIuX19rICYmIG4yLl9fay5tYXAoZnVuY3Rpb24objMpIHtcbiAgICAgIHJldHVybiBWJDEobjMsIHQyLCBlMik7XG4gICAgfSkpLCBuMjtcbiAgfVxuICBmdW5jdGlvbiBXKG4yLCB0MiwgZTIpIHtcbiAgICByZXR1cm4gbjIgJiYgZTIgJiYgKG4yLl9fdiA9IG51bGwsIG4yLl9fayA9IG4yLl9fayAmJiBuMi5fX2subWFwKGZ1bmN0aW9uKG4zKSB7XG4gICAgICByZXR1cm4gVyhuMywgdDIsIGUyKTtcbiAgICB9KSwgbjIuX19jICYmIG4yLl9fYy5fX1AgPT09IHQyICYmIChuMi5fX2UgJiYgZTIuYXBwZW5kQ2hpbGQobjIuX19lKSwgbjIuX19jLl9fZSA9IHRydWUsIG4yLl9fYy5fX1AgPSBlMikpLCBuMjtcbiAgfVxuICBmdW5jdGlvbiBQJDQoKSB7XG4gICAgdGhpcy5fX3UgPSAwLCB0aGlzLm8gPSBudWxsLCB0aGlzLl9fYiA9IG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gaiQzKG4yKSB7XG4gICAgdmFyIHQyID0gbjIuX18uX19jO1xuICAgIHJldHVybiB0MiAmJiB0Mi5fX2EgJiYgdDIuX19hKG4yKTtcbiAgfVxuICBmdW5jdGlvbiB6JDEobjIpIHtcbiAgICB2YXIgZTIsIHIyLCB1MjtcbiAgICBmdW5jdGlvbiBvMihvMykge1xuICAgICAgaWYgKGUyIHx8IChlMiA9IG4yKCkpLnRoZW4oZnVuY3Rpb24objMpIHtcbiAgICAgICAgcjIgPSBuMy5kZWZhdWx0IHx8IG4zO1xuICAgICAgfSwgZnVuY3Rpb24objMpIHtcbiAgICAgICAgdTIgPSBuMztcbiAgICAgIH0pLCB1MikgdGhyb3cgdTI7XG4gICAgICBpZiAoIXIyKSB0aHJvdyBlMjtcbiAgICAgIHJldHVybiBfJDQocjIsIG8zKTtcbiAgICB9XG4gICAgcmV0dXJuIG8yLmRpc3BsYXlOYW1lID0gXCJMYXp5XCIsIG8yLl9fZiA9IHRydWUsIG8yO1xuICB9XG4gIGZ1bmN0aW9uIEIkMSgpIHtcbiAgICB0aGlzLmkgPSBudWxsLCB0aGlzLmwgPSBudWxsO1xuICB9XG4gIGwkNC51bm1vdW50ID0gZnVuY3Rpb24objIpIHtcbiAgICB2YXIgdDIgPSBuMi5fX2M7XG4gICAgdDIgJiYgdDIuX19SICYmIHQyLl9fUigpLCB0MiAmJiAzMiAmIG4yLl9fdSAmJiAobjIudHlwZSA9IG51bGwpLCBVJDMgJiYgVSQzKG4yKTtcbiAgfSwgKFAkNC5wcm90b3R5cGUgPSBuZXcgeCQ1KCkpLl9fYyA9IGZ1bmN0aW9uKG4yLCB0Mikge1xuICAgIHZhciBlMiA9IHQyLl9fYywgcjIgPSB0aGlzO1xuICAgIG51bGwgPT0gcjIubyAmJiAocjIubyA9IFtdKSwgcjIuby5wdXNoKGUyKTtcbiAgICB2YXIgdTIgPSBqJDMocjIuX192KSwgbzIgPSBmYWxzZSwgaTIgPSBmdW5jdGlvbigpIHtcbiAgICAgIG8yIHx8IChvMiA9IHRydWUsIGUyLl9fUiA9IG51bGwsIHUyID8gdTIobDIpIDogbDIoKSk7XG4gICAgfTtcbiAgICBlMi5fX1IgPSBpMjtcbiAgICB2YXIgbDIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghLS1yMi5fX3UpIHtcbiAgICAgICAgaWYgKHIyLnN0YXRlLl9fYSkge1xuICAgICAgICAgIHZhciBuMyA9IHIyLnN0YXRlLl9fYTtcbiAgICAgICAgICByMi5fX3YuX19rWzBdID0gVyhuMywgbjMuX19jLl9fUCwgbjMuX19jLl9fTyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHQzO1xuICAgICAgICBmb3IgKHIyLnNldFN0YXRlKHsgX19hOiByMi5fX2IgPSBudWxsIH0pOyB0MyA9IHIyLm8ucG9wKCk7ICkgdDMuZm9yY2VVcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHIyLl9fdSsrIHx8IDMyICYgdDIuX191IHx8IHIyLnNldFN0YXRlKHsgX19hOiByMi5fX2IgPSByMi5fX3YuX19rWzBdIH0pLCBuMi50aGVuKGkyLCBpMik7XG4gIH0sIFAkNC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm8gPSBbXTtcbiAgfSwgUCQ0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbihuMiwgZTIpIHtcbiAgICBpZiAodGhpcy5fX2IpIHtcbiAgICAgIGlmICh0aGlzLl9fdi5fX2spIHtcbiAgICAgICAgdmFyIHIyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgbzIgPSB0aGlzLl9fdi5fX2tbMF0uX19jO1xuICAgICAgICB0aGlzLl9fdi5fX2tbMF0gPSBWJDEodGhpcy5fX2IsIHIyLCBvMi5fX08gPSBvMi5fX1ApO1xuICAgICAgfVxuICAgICAgdGhpcy5fX2IgPSBudWxsO1xuICAgIH1cbiAgICB2YXIgaTIgPSBlMi5fX2EgJiYgXyQ0KGskMywgbnVsbCwgbjIuZmFsbGJhY2spO1xuICAgIHJldHVybiBpMiAmJiAoaTIuX191ICY9IC0zMyksIFtfJDQoayQzLCBudWxsLCBlMi5fX2EgPyBudWxsIDogbjIuY2hpbGRyZW4pLCBpMl07XG4gIH07XG4gIHZhciBIJDUgPSBmdW5jdGlvbihuMiwgdDIsIGUyKSB7XG4gICAgaWYgKCsrZTJbMV0gPT09IGUyWzBdICYmIG4yLmwuZGVsZXRlKHQyKSwgbjIucHJvcHMucmV2ZWFsT3JkZXIgJiYgKFwidFwiICE9PSBuMi5wcm9wcy5yZXZlYWxPcmRlclswXSB8fCAhbjIubC5zaXplKSkgZm9yIChlMiA9IG4yLmk7IGUyOyApIHtcbiAgICAgIGZvciAoOyBlMi5sZW5ndGggPiAzOyApIGUyLnBvcCgpKCk7XG4gICAgICBpZiAoZTJbMV0gPCBlMlswXSkgYnJlYWs7XG4gICAgICBuMi5pID0gZTIgPSBlMlsyXTtcbiAgICB9XG4gIH07XG4gIGZ1bmN0aW9uIFoobjIpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuMi5jb250ZXh0O1xuICAgIH0sIG4yLmNoaWxkcmVuO1xuICB9XG4gIGZ1bmN0aW9uIFkobjIpIHtcbiAgICB2YXIgZTIgPSB0aGlzLCByMiA9IG4yLmg7XG4gICAgaWYgKGUyLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICBFJDMobnVsbCwgZTIudiksIGUyLnYgPSBudWxsLCBlMi5oID0gbnVsbDtcbiAgICB9LCBlMi5oICYmIGUyLmggIT09IHIyICYmIGUyLmNvbXBvbmVudFdpbGxVbm1vdW50KCksICFlMi52KSB7XG4gICAgICBmb3IgKHZhciB1MiA9IGUyLl9fdjsgbnVsbCAhPT0gdTIgJiYgIXUyLl9fbSAmJiBudWxsICE9PSB1Mi5fXzsgKSB1MiA9IHUyLl9fO1xuICAgICAgZTIuaCA9IHIyLCBlMi52ID0geyBub2RlVHlwZTogMSwgcGFyZW50Tm9kZTogcjIsIGNoaWxkTm9kZXM6IFtdLCBfX2s6IHsgX19tOiB1Mi5fX20gfSwgY29udGFpbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0sIGFwcGVuZENoaWxkOiBmdW5jdGlvbihuMykge1xuICAgICAgICB0aGlzLmNoaWxkTm9kZXMucHVzaChuMyksIGUyLmguYXBwZW5kQ2hpbGQobjMpO1xuICAgICAgfSwgaW5zZXJ0QmVmb3JlOiBmdW5jdGlvbihuMywgdDIpIHtcbiAgICAgICAgdGhpcy5jaGlsZE5vZGVzLnB1c2gobjMpLCBlMi5oLmluc2VydEJlZm9yZShuMywgdDIpO1xuICAgICAgfSwgcmVtb3ZlQ2hpbGQ6IGZ1bmN0aW9uKG4zKSB7XG4gICAgICAgIHRoaXMuY2hpbGROb2Rlcy5zcGxpY2UodGhpcy5jaGlsZE5vZGVzLmluZGV4T2YobjMpID4+PiAxLCAxKSwgZTIuaC5yZW1vdmVDaGlsZChuMyk7XG4gICAgICB9IH07XG4gICAgfVxuICAgIEUkMyhfJDQoWiwgeyBjb250ZXh0OiBlMi5jb250ZXh0IH0sIG4yLl9fdiksIGUyLnYpO1xuICB9XG4gIGZ1bmN0aW9uICQkMShuMiwgZTIpIHtcbiAgICB2YXIgcjIgPSBfJDQoWSwgeyBfX3Y6IG4yLCBoOiBlMiB9KTtcbiAgICByZXR1cm4gcjIuY29udGFpbmVySW5mbyA9IGUyLCByMjtcbiAgfVxuICAoQiQxLnByb3RvdHlwZSA9IG5ldyB4JDUoKSkuX19hID0gZnVuY3Rpb24objIpIHtcbiAgICB2YXIgdDIgPSB0aGlzLCBlMiA9IGokMyh0Mi5fX3YpLCByMiA9IHQyLmwuZ2V0KG4yKTtcbiAgICByZXR1cm4gcjJbMF0rKywgZnVuY3Rpb24odTIpIHtcbiAgICAgIHZhciBvMiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0Mi5wcm9wcy5yZXZlYWxPcmRlciA/IChyMi5wdXNoKHUyKSwgSCQ1KHQyLCBuMiwgcjIpKSA6IHUyKCk7XG4gICAgICB9O1xuICAgICAgZTIgPyBlMihvMikgOiBvMigpO1xuICAgIH07XG4gIH0sIEIkMS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24objIpIHtcbiAgICB0aGlzLmkgPSBudWxsLCB0aGlzLmwgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHZhciB0MiA9IEgkNihuMi5jaGlsZHJlbik7XG4gICAgbjIucmV2ZWFsT3JkZXIgJiYgXCJiXCIgPT09IG4yLnJldmVhbE9yZGVyWzBdICYmIHQyLnJldmVyc2UoKTtcbiAgICBmb3IgKHZhciBlMiA9IHQyLmxlbmd0aDsgZTItLTsgKSB0aGlzLmwuc2V0KHQyW2UyXSwgdGhpcy5pID0gWzEsIDAsIHRoaXMuaV0pO1xuICAgIHJldHVybiBuMi5jaGlsZHJlbjtcbiAgfSwgQiQxLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBCJDEucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG4yID0gdGhpcztcbiAgICB0aGlzLmwuZm9yRWFjaChmdW5jdGlvbih0MiwgZTIpIHtcbiAgICAgIEgkNShuMiwgZTIsIHQyKTtcbiAgICB9KTtcbiAgfTtcbiAgdmFyIHEkMiA9IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBTeW1ib2wuZm9yICYmIFN5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpIHx8IDYwMTAzLCBHJDIgPSAvXig/OmFjY2VudHxhbGlnbm1lbnR8YXJhYmljfGJhc2VsaW5lfGNhcHxjbGlwKD8hUGF0aFUpfGNvbG9yfGRvbWluYW50fGZpbGx8Zmxvb2R8Zm9udHxnbHlwaCg/IVIpfGhvcml6fGltYWdlKCFTKXxsZXR0ZXJ8bGlnaHRpbmd8bWFya2VyKD8hSHxXfFUpfG92ZXJsaW5lfHBhaW50fHBvaW50ZXJ8c2hhcGV8c3RvcHxzdHJpa2V0aHJvdWdofHN0cm9rZXx0ZXh0KD8hTCl8dHJhbnNmb3JtfHVuZGVybGluZXx1bmljb2RlfHVuaXRzfHZ8dmVjdG9yfHZlcnR8d29yZHx3cml0aW5nfHgoPyFDKSlbQS1aXS8sIEokMyA9IC9eb24oQW5pfFRyYXxUb3V8QmVmb3JlSW5wfENvbXBvKS8sIEskMiA9IC9bQS1aMC05XS9nLCBRID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgZG9jdW1lbnQsIFgkMSA9IGZ1bmN0aW9uKG4yKSB7XG4gICAgcmV0dXJuIChcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sKCkgPyAvZmlsfGNoZXxyYWQvIDogL2ZpbHxjaGV8cmEvKS50ZXN0KG4yKTtcbiAgfTtcbiAgZnVuY3Rpb24gbm4objIsIHQyLCBlMikge1xuICAgIHJldHVybiBudWxsID09IHQyLl9fayAmJiAodDIudGV4dENvbnRlbnQgPSBcIlwiKSwgRSQzKG4yLCB0MiksIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZTIgJiYgZTIoKSwgbjIgPyBuMi5fX2MgOiBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIHRuKG4yLCB0MiwgZTIpIHtcbiAgICByZXR1cm4gRyQzKG4yLCB0MiksIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZTIgJiYgZTIoKSwgbjIgPyBuMi5fX2MgOiBudWxsO1xuICB9XG4gIHgkNS5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHt9LCBbXCJjb21wb25lbnRXaWxsTW91bnRcIiwgXCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCIsIFwiY29tcG9uZW50V2lsbFVwZGF0ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKHQyKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHgkNS5wcm90b3R5cGUsIHQyLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzW1wiVU5TQUZFX1wiICsgdDJdO1xuICAgIH0sIHNldDogZnVuY3Rpb24objIpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCB0MiwgeyBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTogbjIgfSk7XG4gICAgfSB9KTtcbiAgfSk7XG4gIHZhciBlbiA9IGwkNC5ldmVudDtcbiAgZnVuY3Rpb24gcm4oKSB7XG4gIH1cbiAgZnVuY3Rpb24gdW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FuY2VsQnViYmxlO1xuICB9XG4gIGZ1bmN0aW9uIG9uKCkge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ7XG4gIH1cbiAgbCQ0LmV2ZW50ID0gZnVuY3Rpb24objIpIHtcbiAgICByZXR1cm4gZW4gJiYgKG4yID0gZW4objIpKSwgbjIucGVyc2lzdCA9IHJuLCBuMi5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IHVuLCBuMi5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBvbiwgbjIubmF0aXZlRXZlbnQgPSBuMjtcbiAgfTtcbiAgdmFyIGxuLCBjbiQxID0geyBlbnVtZXJhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmNsYXNzO1xuICB9IH0sIGZuID0gbCQ0LnZub2RlO1xuICBsJDQudm5vZGUgPSBmdW5jdGlvbihuMikge1xuICAgIFwic3RyaW5nXCIgPT0gdHlwZW9mIG4yLnR5cGUgJiYgZnVuY3Rpb24objMpIHtcbiAgICAgIHZhciB0MiA9IG4zLnByb3BzLCBlMiA9IG4zLnR5cGUsIHUyID0ge30sIG8yID0gLTEgPT09IGUyLmluZGV4T2YoXCItXCIpO1xuICAgICAgZm9yICh2YXIgaTIgaW4gdDIpIHtcbiAgICAgICAgdmFyIGwyID0gdDJbaTJdO1xuICAgICAgICBpZiAoIShcInZhbHVlXCIgPT09IGkyICYmIFwiZGVmYXVsdFZhbHVlXCIgaW4gdDIgJiYgbnVsbCA9PSBsMiB8fCBRICYmIFwiY2hpbGRyZW5cIiA9PT0gaTIgJiYgXCJub3NjcmlwdFwiID09PSBlMiB8fCBcImNsYXNzXCIgPT09IGkyIHx8IFwiY2xhc3NOYW1lXCIgPT09IGkyKSkge1xuICAgICAgICAgIHZhciBjMiA9IGkyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgXCJkZWZhdWx0VmFsdWVcIiA9PT0gaTIgJiYgXCJ2YWx1ZVwiIGluIHQyICYmIG51bGwgPT0gdDIudmFsdWUgPyBpMiA9IFwidmFsdWVcIiA6IFwiZG93bmxvYWRcIiA9PT0gaTIgJiYgdHJ1ZSA9PT0gbDIgPyBsMiA9IFwiXCIgOiBcInRyYW5zbGF0ZVwiID09PSBjMiAmJiBcIm5vXCIgPT09IGwyID8gbDIgPSBmYWxzZSA6IFwib1wiID09PSBjMlswXSAmJiBcIm5cIiA9PT0gYzJbMV0gPyBcIm9uZG91YmxlY2xpY2tcIiA9PT0gYzIgPyBpMiA9IFwib25kYmxjbGlja1wiIDogXCJvbmNoYW5nZVwiICE9PSBjMiB8fCBcImlucHV0XCIgIT09IGUyICYmIFwidGV4dGFyZWFcIiAhPT0gZTIgfHwgWCQxKHQyLnR5cGUpID8gXCJvbmZvY3VzXCIgPT09IGMyID8gaTIgPSBcIm9uZm9jdXNpblwiIDogXCJvbmJsdXJcIiA9PT0gYzIgPyBpMiA9IFwib25mb2N1c291dFwiIDogSiQzLnRlc3QoaTIpICYmIChpMiA9IGMyKSA6IGMyID0gaTIgPSBcIm9uaW5wdXRcIiA6IG8yICYmIEckMi50ZXN0KGkyKSA/IGkyID0gaTIucmVwbGFjZShLJDIsIFwiLSQmXCIpLnRvTG93ZXJDYXNlKCkgOiBudWxsID09PSBsMiAmJiAobDIgPSB2b2lkIDApLCBcIm9uaW5wdXRcIiA9PT0gYzIgJiYgdTJbaTIgPSBjMl0gJiYgKGkyID0gXCJvbmlucHV0Q2FwdHVyZVwiKSwgdTJbaTJdID0gbDI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFwic2VsZWN0XCIgPT0gZTIgJiYgdTIubXVsdGlwbGUgJiYgQXJyYXkuaXNBcnJheSh1Mi52YWx1ZSkgJiYgKHUyLnZhbHVlID0gSCQ2KHQyLmNoaWxkcmVuKS5mb3JFYWNoKGZ1bmN0aW9uKG40KSB7XG4gICAgICAgIG40LnByb3BzLnNlbGVjdGVkID0gLTEgIT0gdTIudmFsdWUuaW5kZXhPZihuNC5wcm9wcy52YWx1ZSk7XG4gICAgICB9KSksIFwic2VsZWN0XCIgPT0gZTIgJiYgbnVsbCAhPSB1Mi5kZWZhdWx0VmFsdWUgJiYgKHUyLnZhbHVlID0gSCQ2KHQyLmNoaWxkcmVuKS5mb3JFYWNoKGZ1bmN0aW9uKG40KSB7XG4gICAgICAgIG40LnByb3BzLnNlbGVjdGVkID0gdTIubXVsdGlwbGUgPyAtMSAhPSB1Mi5kZWZhdWx0VmFsdWUuaW5kZXhPZihuNC5wcm9wcy52YWx1ZSkgOiB1Mi5kZWZhdWx0VmFsdWUgPT0gbjQucHJvcHMudmFsdWU7XG4gICAgICB9KSksIHQyLmNsYXNzICYmICF0Mi5jbGFzc05hbWUgPyAodTIuY2xhc3MgPSB0Mi5jbGFzcywgT2JqZWN0LmRlZmluZVByb3BlcnR5KHUyLCBcImNsYXNzTmFtZVwiLCBjbiQxKSkgOiAodDIuY2xhc3NOYW1lICYmICF0Mi5jbGFzcyB8fCB0Mi5jbGFzcyAmJiB0Mi5jbGFzc05hbWUpICYmICh1Mi5jbGFzcyA9IHUyLmNsYXNzTmFtZSA9IHQyLmNsYXNzTmFtZSksIG4zLnByb3BzID0gdTI7XG4gICAgfShuMiksIG4yLiQkdHlwZW9mID0gcSQyLCBmbiAmJiBmbihuMik7XG4gIH07XG4gIHZhciBhbiA9IGwkNC5fX3I7XG4gIGwkNC5fX3IgPSBmdW5jdGlvbihuMikge1xuICAgIGFuICYmIGFuKG4yKSwgbG4gPSBuMi5fX2M7XG4gIH07XG4gIHZhciBzbiA9IGwkNC5kaWZmZWQ7XG4gIGwkNC5kaWZmZWQgPSBmdW5jdGlvbihuMikge1xuICAgIHNuICYmIHNuKG4yKTtcbiAgICB2YXIgdDIgPSBuMi5wcm9wcywgZTIgPSBuMi5fX2U7XG4gICAgbnVsbCAhPSBlMiAmJiBcInRleHRhcmVhXCIgPT09IG4yLnR5cGUgJiYgXCJ2YWx1ZVwiIGluIHQyICYmIHQyLnZhbHVlICE9PSBlMi52YWx1ZSAmJiAoZTIudmFsdWUgPSBudWxsID09IHQyLnZhbHVlID8gXCJcIiA6IHQyLnZhbHVlKSwgbG4gPSBudWxsO1xuICB9O1xuICB2YXIgaG4gPSB7IFJlYWN0Q3VycmVudERpc3BhdGNoZXI6IHsgY3VycmVudDogeyByZWFkQ29udGV4dDogZnVuY3Rpb24objIpIHtcbiAgICByZXR1cm4gbG4uX19uW24yLl9fY10ucHJvcHMudmFsdWU7XG4gIH0sIHVzZUNhbGxiYWNrOiBxJDMsIHVzZUNvbnRleHQ6IHgkNCwgdXNlRGVidWdWYWx1ZTogUCQ1LCB1c2VEZWZlcnJlZFZhbHVlOiB3JDMsIHVzZUVmZmVjdDogeSQ2LCB1c2VJZDogZyQzLCB1c2VJbXBlcmF0aXZlSGFuZGxlOiBGJDUsIHVzZUluc2VydGlvbkVmZmVjdDogSSQzLCB1c2VMYXlvdXRFZmZlY3Q6IF8kMywgdXNlTWVtbzogVCQ1LCB1c2VSZWR1Y2VyOiBoJDUsIHVzZVJlZjogQSQzLCB1c2VTdGF0ZTogZCQ0LCB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogQyQzLCB1c2VUcmFuc2l0aW9uOiBrJDEgfSB9IH0sIHZuID0gXCIxOC4zLjFcIjtcbiAgZnVuY3Rpb24gZG4objIpIHtcbiAgICByZXR1cm4gXyQ0LmJpbmQobnVsbCwgbjIpO1xuICB9XG4gIGZ1bmN0aW9uIG1uKG4yKSB7XG4gICAgcmV0dXJuICEhbjIgJiYgbjIuJCR0eXBlb2YgPT09IHEkMjtcbiAgfVxuICBmdW5jdGlvbiBwbihuMikge1xuICAgIHJldHVybiBtbihuMikgJiYgbjIudHlwZSA9PT0gayQzO1xuICB9XG4gIGZ1bmN0aW9uIHluKG4yKSB7XG4gICAgcmV0dXJuICEhbjIgJiYgISFuMi5kaXNwbGF5TmFtZSAmJiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgbjIuZGlzcGxheU5hbWUgfHwgbjIuZGlzcGxheU5hbWUgaW5zdGFuY2VvZiBTdHJpbmcpICYmIG4yLmRpc3BsYXlOYW1lLnN0YXJ0c1dpdGgoXCJNZW1vKFwiKTtcbiAgfVxuICBmdW5jdGlvbiBfbihuMikge1xuICAgIHJldHVybiBtbihuMikgPyBKJDQuYXBwbHkobnVsbCwgYXJndW1lbnRzKSA6IG4yO1xuICB9XG4gIGZ1bmN0aW9uIGJuKG4yKSB7XG4gICAgcmV0dXJuICEhbjIuX19rICYmIChFJDMobnVsbCwgbjIpLCB0cnVlKTtcbiAgfVxuICBmdW5jdGlvbiBTbihuMikge1xuICAgIHJldHVybiBuMiAmJiAobjIuYmFzZSB8fCAxID09PSBuMi5ub2RlVHlwZSAmJiBuMikgfHwgbnVsbDtcbiAgfVxuICB2YXIgZ24gPSBmdW5jdGlvbihuMiwgdDIpIHtcbiAgICByZXR1cm4gbjIodDIpO1xuICB9LCBFbiA9IGZ1bmN0aW9uKG4yLCB0Mikge1xuICAgIHJldHVybiBuMih0Mik7XG4gIH0sIENuID0gayQzLCB4biA9IG1uLCBSbiA9IHsgdXNlU3RhdGU6IGQkNCwgdXNlSWQ6IGckMywgdXNlUmVkdWNlcjogaCQ1LCB1c2VFZmZlY3Q6IHkkNiwgdXNlTGF5b3V0RWZmZWN0OiBfJDMsIHVzZUluc2VydGlvbkVmZmVjdDogSSQzLCB1c2VUcmFuc2l0aW9uOiBrJDEsIHVzZURlZmVycmVkVmFsdWU6IHckMywgdXNlU3luY0V4dGVybmFsU3RvcmU6IEMkMywgc3RhcnRUcmFuc2l0aW9uOiBSJDMsIHVzZVJlZjogQSQzLCB1c2VJbXBlcmF0aXZlSGFuZGxlOiBGJDUsIHVzZU1lbW86IFQkNSwgdXNlQ2FsbGJhY2s6IHEkMywgdXNlQ29udGV4dDogeCQ0LCB1c2VEZWJ1Z1ZhbHVlOiBQJDUsIHZlcnNpb246IFwiMTguMy4xXCIsIENoaWxkcmVuOiBPJDIsIHJlbmRlcjogbm4sIGh5ZHJhdGU6IHRuLCB1bm1vdW50Q29tcG9uZW50QXROb2RlOiBibiwgY3JlYXRlUG9ydGFsOiAkJDEsIGNyZWF0ZUVsZW1lbnQ6IF8kNCwgY3JlYXRlQ29udGV4dDogSyQzLCBjcmVhdGVGYWN0b3J5OiBkbiwgY2xvbmVFbGVtZW50OiBfbiwgY3JlYXRlUmVmOiBiJDUsIEZyYWdtZW50OiBrJDMsIGlzVmFsaWRFbGVtZW50OiBtbiwgaXNFbGVtZW50OiB4biwgaXNGcmFnbWVudDogcG4sIGlzTWVtbzogeW4sIGZpbmRET01Ob2RlOiBTbiwgQ29tcG9uZW50OiB4JDUsIFB1cmVDb21wb25lbnQ6IE4kMSwgbWVtbzogTSQzLCBmb3J3YXJkUmVmOiBEJDEsIGZsdXNoU3luYzogRW4sIHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzOiBnbiwgU3RyaWN0TW9kZTogQ24sIFN1c3BlbnNlOiBQJDQsIFN1c3BlbnNlTGlzdDogQiQxLCBsYXp5OiB6JDEsIF9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEOiBobiB9O1xuICBjb25zdCB0JDQgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgICBfX3Byb3RvX186IG51bGwsXG4gICAgQ2hpbGRyZW46IE8kMixcbiAgICBDb21wb25lbnQ6IHgkNSxcbiAgICBGcmFnbWVudDogayQzLFxuICAgIFB1cmVDb21wb25lbnQ6IE4kMSxcbiAgICBTdHJpY3RNb2RlOiBDbixcbiAgICBTdXNwZW5zZTogUCQ0LFxuICAgIFN1c3BlbnNlTGlzdDogQiQxLFxuICAgIF9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEOiBobixcbiAgICBjbG9uZUVsZW1lbnQ6IF9uLFxuICAgIGNyZWF0ZUNvbnRleHQ6IEskMyxcbiAgICBjcmVhdGVFbGVtZW50OiBfJDQsXG4gICAgY3JlYXRlRmFjdG9yeTogZG4sXG4gICAgY3JlYXRlUG9ydGFsOiAkJDEsXG4gICAgY3JlYXRlUmVmOiBiJDUsXG4gICAgZGVmYXVsdDogUm4sXG4gICAgZmluZERPTU5vZGU6IFNuLFxuICAgIGZsdXNoU3luYzogRW4sXG4gICAgZm9yd2FyZFJlZjogRCQxLFxuICAgIGh5ZHJhdGU6IHRuLFxuICAgIGlzRWxlbWVudDogeG4sXG4gICAgaXNGcmFnbWVudDogcG4sXG4gICAgaXNNZW1vOiB5bixcbiAgICBpc1ZhbGlkRWxlbWVudDogbW4sXG4gICAgbGF6eTogeiQxLFxuICAgIG1lbW86IE0kMyxcbiAgICByZW5kZXI6IG5uLFxuICAgIHN0YXJ0VHJhbnNpdGlvbjogUiQzLFxuICAgIHVubW91bnRDb21wb25lbnRBdE5vZGU6IGJuLFxuICAgIHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzOiBnbixcbiAgICB1c2VDYWxsYmFjazogcSQzLFxuICAgIHVzZUNvbnRleHQ6IHgkNCxcbiAgICB1c2VEZWJ1Z1ZhbHVlOiBQJDUsXG4gICAgdXNlRGVmZXJyZWRWYWx1ZTogdyQzLFxuICAgIHVzZUVmZmVjdDogeSQ2LFxuICAgIHVzZUVycm9yQm91bmRhcnk6IGIkNCxcbiAgICB1c2VJZDogZyQzLFxuICAgIHVzZUltcGVyYXRpdmVIYW5kbGU6IEYkNSxcbiAgICB1c2VJbnNlcnRpb25FZmZlY3Q6IEkkMyxcbiAgICB1c2VMYXlvdXRFZmZlY3Q6IF8kMyxcbiAgICB1c2VNZW1vOiBUJDUsXG4gICAgdXNlUmVkdWNlcjogaCQ1LFxuICAgIHVzZVJlZjogQSQzLFxuICAgIHVzZVN0YXRlOiBkJDQsXG4gICAgdXNlU3luY0V4dGVybmFsU3RvcmU6IEMkMyxcbiAgICB1c2VUcmFuc2l0aW9uOiBrJDEsXG4gICAgdmVyc2lvbjogdm5cbiAgfSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKTtcbiAgdmFyIF9fcmVxdWlyZSA9IC8qIEBfX1BVUkVfXyAqLyAoKHgyKSA9PiB0eXBlb2YgcmVxdWlyZSAhPT0gXCJ1bmRlZmluZWRcIiA/IHJlcXVpcmUgOiB0eXBlb2YgUHJveHkgIT09IFwidW5kZWZpbmVkXCIgPyBuZXcgUHJveHkoeDIsIHtcbiAgICBnZXQ6IChhMiwgYjIpID0+ICh0eXBlb2YgcmVxdWlyZSAhPT0gXCJ1bmRlZmluZWRcIiA/IHJlcXVpcmUgOiBhMilbYjJdXG4gIH0pIDogeDIpKGZ1bmN0aW9uKHgyKSB7XG4gICAgaWYgKHR5cGVvZiByZXF1aXJlICE9PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gcmVxdWlyZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHRocm93IEVycm9yKCdEeW5hbWljIHJlcXVpcmUgb2YgXCInICsgeDIgKyAnXCIgaXMgbm90IHN1cHBvcnRlZCcpO1xuICB9KTtcbiAgdmFyIERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBtYXhSZWNvbm5lY3RBdHRlbXB0czogNSxcbiAgICByZWNvbm5lY3REZWxheTogMWUzLFxuICAgIHJlcXVlc3RUaW1lb3V0OiAzZTRcbiAgICAvLyBFeHRlbmRlZCB0aW1lb3V0IGZvciBsb25nZXIgb3BlcmF0aW9uc1xuICB9O1xuICB2YXIgV2ViU29ja2V0UnBjQnJpZGdlID0gY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgdGhpcy53cyA9IG51bGw7XG4gICAgICB0aGlzLnBlbmRpbmdSZXF1ZXN0cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzID0gMDtcbiAgICAgIHRoaXMubWV0aG9kcyA9IHt9O1xuICAgICAgdGhpcy5pc0ludGVudGlvbmFsQ2xvc2UgPSBmYWxzZTtcbiAgICAgIHRoaXMub3B0aW9ucyA9IHsgLi4uREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIFJQQyBtZXRob2QgaGFuZGxlcnNcbiAgICAgKiBAcGFyYW0gbWV0aG9kSGFuZGxlcnMgT2JqZWN0IGNvbnRhaW5pbmcgbWV0aG9kIGhhbmRsZXJzXG4gICAgICovXG4gICAgcmVnaXN0ZXIobWV0aG9kSGFuZGxlcnMpIHtcbiAgICAgIE9iamVjdC5lbnRyaWVzKG1ldGhvZEhhbmRsZXJzKS5mb3JFYWNoKChbbWV0aG9kTmFtZSwgaGFuZGxlcl0pID0+IHtcbiAgICAgICAgdGhpcy5tZXRob2RzW21ldGhvZE5hbWVdID0geyBoYW5kbGVyIH07XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJpYyBtZXRob2QgdG8gY2FsbCBhIHJlbW90ZSBwcm9jZWR1cmUgd2l0aCBzdXBwb3J0IGZvciBzdHJlYW1pbmcgdXBkYXRlc1xuICAgICAqIEBwYXJhbSBtZXRob2QgTWV0aG9kIG5hbWUgdG8gY2FsbFxuICAgICAqIEBwYXJhbSBwYXlsb2FkIFJlcXVlc3QgcGF5bG9hZFxuICAgICAqIEBwYXJhbSBvblVwZGF0ZSBPcHRpb25hbCBjYWxsYmFjayBmb3IgcHJvZ3Jlc3MgdXBkYXRlc1xuICAgICAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHdpdGggdGhlIHJlc3BvbnNlXG4gICAgICovXG4gICAgY2FsbE1ldGhvZChtZXRob2QsIHBheWxvYWQsIG9uVXBkYXRlKSB7XG4gICAgICBpZiAoIXRoaXMud3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2ViU29ja2V0IGlzIG5vdCBjb25uZWN0ZWRcIik7XG4gICAgICB9XG4gICAgICBjb25zdCBpZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gICAgICBjb25zdCByZXF1ZXN0TWVzc2FnZSA9IHtcbiAgICAgICAgaWQsXG4gICAgICAgIG1lc3NhZ2VUeXBlOiBcInJlcXVlc3RcIixcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBwYXlsb2FkXG4gICAgICB9O1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5wZW5kaW5nUmVxdWVzdHMuZGVsZXRlKGlkKTtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBSZXF1ZXN0IHRpbWVkIG91dDogJHttZXRob2R9YCkpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMucmVxdWVzdFRpbWVvdXQpO1xuICAgICAgICB0aGlzLnBlbmRpbmdSZXF1ZXN0cy5zZXQoaWQsIHsgcmVzb2x2ZSwgcmVqZWN0LCB0aW1lb3V0LCBvblVwZGF0ZSB9KTtcbiAgICAgICAgKF9hID0gdGhpcy53cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnNlbmQoSlNPTi5zdHJpbmdpZnkocmVxdWVzdE1lc3NhZ2UpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIFdlYlNvY2tldCBldmVudCBoYW5kbGVyc1xuICAgICAqIEBwYXJhbSB3cyBXZWJTb2NrZXQgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBzZXR1cFdlYlNvY2tldEhhbmRsZXJzKHdzKSB7XG4gICAgICB3cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBtZXNzYWdlID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgICB0aGlzLmhhbmRsZU1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yMikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBoYW5kbGluZyBXZWJTb2NrZXQgbWVzc2FnZTpcIiwgZXJyb3IyKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHdzLm9uY2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiV2ViU29ja2V0IGRpc2Nvbm5lY3RlZFwiKTtcbiAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XG4gICAgICB9O1xuICAgICAgd3Mub25lcnJvciA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiV2ViU29ja2V0IGVycm9yOlwiLCBldmVudCk7XG4gICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGluY29taW5nIFdlYlNvY2tldCBtZXNzYWdlc1xuICAgICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGhhbmRsZVxuICAgICAqL1xuICAgIGhhbmRsZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgY29uc3QgeyBtZXNzYWdlVHlwZSwgaWQgfSA9IG1lc3NhZ2U7XG4gICAgICBzd2l0Y2ggKG1lc3NhZ2VUeXBlKSB7XG4gICAgICAgIGNhc2UgXCJyZXF1ZXN0XCI6XG4gICAgICAgICAgdGhpcy5oYW5kbGVSZXF1ZXN0KG1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmVzcG9uc2VcIjpcbiAgICAgICAgICB0aGlzLmhhbmRsZVJlc3BvbnNlKGlkLCBtZXNzYWdlLnBheWxvYWQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidXBkYXRlXCI6XG4gICAgICAgICAgdGhpcy5oYW5kbGVVcGRhdGUoaWQsIG1lc3NhZ2UucGF5bG9hZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoaWQsIG1lc3NhZ2UuZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc29sZS53YXJuKGBVbmtub3duIG1lc3NhZ2UgdHlwZTogJHttZXNzYWdlVHlwZX1gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGluY29taW5nIHJlcXVlc3RzIGJ5IGludm9raW5nIHRoZSByZWdpc3RlcmVkIG1ldGhvZFxuICAgICAqIEBwYXJhbSBtZXNzYWdlIFJlcXVlc3QgbWVzc2FnZVxuICAgICAqL1xuICAgIGFzeW5jIGhhbmRsZVJlcXVlc3QobWVzc2FnZSkge1xuICAgICAgY29uc3QgeyBpZCwgbWV0aG9kLCBwYXlsb2FkIH0gPSBtZXNzYWdlO1xuICAgICAgaWYgKCFtZXRob2QpIHtcbiAgICAgICAgdGhpcy5zZW5kRXJyb3IoaWQsIFwiTWV0aG9kIG5hbWUgaXMgcmVxdWlyZWRcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1ldGhvZERlZiA9IHRoaXMubWV0aG9kc1ttZXRob2RdO1xuICAgICAgaWYgKCFtZXRob2REZWYpIHtcbiAgICAgICAgdGhpcy5zZW5kRXJyb3IoaWQsIGBNZXRob2Qgbm90IGZvdW5kOiAke21ldGhvZH1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2VuZFVwZGF0ZSA9ICh1cGRhdGUpID0+IHtcbiAgICAgICAgICB0aGlzLnNlbmRVcGRhdGUoaWQsIG1ldGhvZCwgdXBkYXRlKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbWV0aG9kRGVmLmhhbmRsZXIocGF5bG9hZCwgc2VuZFVwZGF0ZSk7XG4gICAgICAgIHRoaXMuc2VuZFJlc3BvbnNlKGlkLCBtZXRob2QsIHJlc3VsdCk7XG4gICAgICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICAgICAgdGhpcy5zZW5kRXJyb3IoXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgZXJyb3IyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvcjIubWVzc2FnZSA6IFN0cmluZyhlcnJvcjIpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSByZXNwb25zZSBtZXNzYWdlcyBieSByZXNvbHZpbmcgdGhlIHBlbmRpbmcgcmVxdWVzdFxuICAgICAqIEBwYXJhbSBpZCBSZXF1ZXN0IElEXG4gICAgICogQHBhcmFtIHBheWxvYWQgUmVzcG9uc2UgcGF5bG9hZFxuICAgICAqL1xuICAgIGhhbmRsZVJlc3BvbnNlKGlkLCBwYXlsb2FkKSB7XG4gICAgICBjb25zdCBwZW5kaW5nUmVxdWVzdCA9IHRoaXMucGVuZGluZ1JlcXVlc3RzLmdldChpZCk7XG4gICAgICBpZiAoIXBlbmRpbmdSZXF1ZXN0KSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgUmVjZWl2ZWQgcmVzcG9uc2UgZm9yIHVua25vd24gcmVxdWVzdCBJRDogJHtpZH1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xlYXJUaW1lb3V0KHBlbmRpbmdSZXF1ZXN0LnRpbWVvdXQpO1xuICAgICAgdGhpcy5wZW5kaW5nUmVxdWVzdHMuZGVsZXRlKGlkKTtcbiAgICAgIHBlbmRpbmdSZXF1ZXN0LnJlc29sdmUocGF5bG9hZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB1cGRhdGUgbWVzc2FnZXMgYnkgY2FsbGluZyB0aGUgdXBkYXRlIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIGlkIFJlcXVlc3QgSURcbiAgICAgKiBAcGFyYW0gcGF5bG9hZCBVcGRhdGUgcGF5bG9hZFxuICAgICAqL1xuICAgIGhhbmRsZVVwZGF0ZShpZCwgcGF5bG9hZCkge1xuICAgICAgY29uc3QgcGVuZGluZ1JlcXVlc3QgPSB0aGlzLnBlbmRpbmdSZXF1ZXN0cy5nZXQoaWQpO1xuICAgICAgaWYgKCFwZW5kaW5nUmVxdWVzdCB8fCAhcGVuZGluZ1JlcXVlc3Qub25VcGRhdGUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBSZWNlaXZlZCB1cGRhdGUgZm9yIHVua25vd24gcmVxdWVzdCBJRDogJHtpZH1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVuZGluZ1JlcXVlc3Qub25VcGRhdGUocGF5bG9hZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBlcnJvciBtZXNzYWdlcyBieSByZWplY3RpbmcgdGhlIHBlbmRpbmcgcmVxdWVzdFxuICAgICAqIEBwYXJhbSBpZCBSZXF1ZXN0IElEXG4gICAgICogQHBhcmFtIGVycm9yIEVycm9yIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBoYW5kbGVFcnJvcihpZCwgZXJyb3IyKSB7XG4gICAgICBjb25zdCBwZW5kaW5nUmVxdWVzdCA9IHRoaXMucGVuZGluZ1JlcXVlc3RzLmdldChpZCk7XG4gICAgICBpZiAoIXBlbmRpbmdSZXF1ZXN0KSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgUmVjZWl2ZWQgZXJyb3IgZm9yIHVua25vd24gcmVxdWVzdCBJRDogJHtpZH1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xlYXJUaW1lb3V0KHBlbmRpbmdSZXF1ZXN0LnRpbWVvdXQpO1xuICAgICAgdGhpcy5wZW5kaW5nUmVxdWVzdHMuZGVsZXRlKGlkKTtcbiAgICAgIHBlbmRpbmdSZXF1ZXN0LnJlamVjdChuZXcgRXJyb3IoZXJyb3IyKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYSByZXNwb25zZSBtZXNzYWdlXG4gICAgICogQHBhcmFtIGlkIFJlcXVlc3QgSURcbiAgICAgKiBAcGFyYW0gbWV0aG9kIE1ldGhvZCBuYW1lXG4gICAgICogQHBhcmFtIHBheWxvYWQgUmVzcG9uc2UgcGF5bG9hZFxuICAgICAqL1xuICAgIHNlbmRSZXNwb25zZShpZCwgbWV0aG9kLCBwYXlsb2FkKSB7XG4gICAgICBpZiAoIXRoaXMud3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2ViU29ja2V0IGlzIG5vdCBjb25uZWN0ZWRcIik7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZU1lc3NhZ2UgPSB7XG4gICAgICAgIGlkLFxuICAgICAgICBtZXNzYWdlVHlwZTogXCJyZXNwb25zZVwiLFxuICAgICAgICBtZXRob2QsXG4gICAgICAgIHBheWxvYWRcbiAgICAgIH07XG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2VNZXNzYWdlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYW4gdXBkYXRlIG1lc3NhZ2UgZm9yIHN0cmVhbWluZ1xuICAgICAqIEBwYXJhbSBpZCBSZXF1ZXN0IElEXG4gICAgICogQHBhcmFtIG1ldGhvZCBNZXRob2QgbmFtZVxuICAgICAqIEBwYXJhbSBwYXlsb2FkIFVwZGF0ZSBwYXlsb2FkXG4gICAgICovXG4gICAgc2VuZFVwZGF0ZShpZCwgbWV0aG9kLCBwYXlsb2FkKSB7XG4gICAgICBpZiAoIXRoaXMud3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2ViU29ja2V0IGlzIG5vdCBjb25uZWN0ZWRcIik7XG4gICAgICB9XG4gICAgICBjb25zdCB1cGRhdGVNZXNzYWdlID0ge1xuICAgICAgICBpZCxcbiAgICAgICAgbWVzc2FnZVR5cGU6IFwidXBkYXRlXCIsXG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgcGF5bG9hZFxuICAgICAgfTtcbiAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh1cGRhdGVNZXNzYWdlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYW4gZXJyb3IgbWVzc2FnZVxuICAgICAqIEBwYXJhbSBpZCBSZXF1ZXN0IElEXG4gICAgICogQHBhcmFtIGVycm9yTWVzc2FnZSBFcnJvciBtZXNzYWdlXG4gICAgICovXG4gICAgc2VuZEVycm9yKGlkLCBlcnJvck1lc3NhZ2UpIHtcbiAgICAgIGlmICghdGhpcy53cykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXZWJTb2NrZXQgaXMgbm90IGNvbm5lY3RlZFwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVycm9yUmVzcG9uc2UgPSB7XG4gICAgICAgIGlkLFxuICAgICAgICBtZXNzYWdlVHlwZTogXCJlcnJvclwiLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KGVycm9yUmVzcG9uc2UpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGRpc2Nvbm5lY3Rpb24gYnkgYXR0ZW1wdGluZyB0byByZWNvbm5lY3RcbiAgICAgKi9cbiAgICBoYW5kbGVEaXNjb25uZWN0KCkge1xuICAgICAgaWYgKHRoaXMuaXNJbnRlbnRpb25hbENsb3NlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgIFwiV2ViU29ja2V0IGNsb3NlZCBpbnRlbnRpb25hbGx5LCBub3QgYXR0ZW1wdGluZyB0byByZWNvbm5lY3RcIlxuICAgICAgICApO1xuICAgICAgICB0aGlzLmNsZWFyUGVuZGluZ1JlcXVlc3RzKG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gY2xvc2VkIGJ5IHVzZXJcIikpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5yZWNvbm5lY3RBdHRlbXB0cyA8IHRoaXMub3B0aW9ucy5tYXhSZWNvbm5lY3RBdHRlbXB0cykge1xuICAgICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzKys7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgIGBBdHRlbXB0aW5nIHRvIHJlY29ubmVjdCAoJHt0aGlzLnJlY29ubmVjdEF0dGVtcHRzfS8ke3RoaXMub3B0aW9ucy5tYXhSZWNvbm5lY3RBdHRlbXB0c30pLi4uYFxuICAgICAgICApO1xuICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICgpID0+IHRoaXMucmVjb25uZWN0KCksXG4gICAgICAgICAgdGhpcy5vcHRpb25zLnJlY29ubmVjdERlbGF5ICogdGhpcy5yZWNvbm5lY3RBdHRlbXB0c1xuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIk1heCByZWNvbm5lY3Rpb24gYXR0ZW1wdHMgcmVhY2hlZFwiKTtcbiAgICAgICAgdGhpcy5jbGVhclBlbmRpbmdSZXF1ZXN0cyhuZXcgRXJyb3IoXCJDb25uZWN0aW9uIGNsb3NlZFwiKSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFyIGFsbCBwZW5kaW5nIHJlcXVlc3RzIHdpdGggYW4gZXJyb3JcbiAgICAgKiBAcGFyYW0gZXJyb3IgRXJyb3IgdG8gcmVqZWN0IHdpdGhcbiAgICAgKi9cbiAgICBjbGVhclBlbmRpbmdSZXF1ZXN0cyhlcnJvcjIpIHtcbiAgICAgIHRoaXMucGVuZGluZ1JlcXVlc3RzLmZvckVhY2goKHsgcmVqZWN0IH0pID0+IHtcbiAgICAgICAgcmVqZWN0KGVycm9yMik7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucGVuZGluZ1JlcXVlc3RzLmNsZWFyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvblxuICAgICAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBjb25uZWN0aW9uIGlzIGNsb3NlZFxuICAgICAqL1xuICAgIGFzeW5jIGNsb3NlKCkge1xuICAgICAgdGhpcy5pc0ludGVudGlvbmFsQ2xvc2UgPSB0cnVlO1xuICAgICAgaWYgKHRoaXMud3MpIHtcbiAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgICB0aGlzLndzID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2xlYXJQZW5kaW5nUmVxdWVzdHMobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBjbG9zZWQgYnkgdXNlclwiKSk7XG4gICAgfVxuICB9O1xuICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LldlYlNvY2tldCA6IF9fcmVxdWlyZShcIndzXCIpLldlYlNvY2tldDtcbiAgZnVuY3Rpb24gY3JlYXRlQnJpZGdlQ29udHJhY3QoY29udHJhY3QyKSB7XG4gICAgcmV0dXJuIGNvbnRyYWN0MjtcbiAgfVxuICBmdW5jdGlvbiB2YWxpZGF0ZVdpdGhab2Qoc2NoZW1hLCBkYXRhLCBjb250ZXh0LCBzaWxlbnQgPSBmYWxzZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHNjaGVtYS5zYWZlUGFyc2UoZGF0YSk7XG4gICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgY29uc3QgZXJyb3IyID0gbmV3IEVycm9yKFxuICAgICAgICBgVmFsaWRhdGlvbiBmYWlsZWQgZm9yICR7Y29udGV4dH06ICR7cmVzdWx0LmVycm9yLm1lc3NhZ2V9YFxuICAgICAgKTtcbiAgICAgIGlmIChzaWxlbnQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcjIpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yMjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICB9XG4gIHZhciBXZWJTb2NrZXRJbXBsMiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cuV2ViU29ja2V0IDogX19yZXF1aXJlKFwid3NcIikuV2ViU29ja2V0O1xuICB2YXIgWm9kVHlwZWRCcmlkZ2UgPSBjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoYnJpZGdlLCBjb250cmFjdDIpIHtcbiAgICAgIHRoaXMuYnJpZGdlID0gYnJpZGdlO1xuICAgICAgdGhpcy5jb250cmFjdCA9IGNvbnRyYWN0MjtcbiAgICAgIHRoaXMuY2FsbCA9IG5ldyBQcm94eSh7fSwge1xuICAgICAgICBnZXQ6ICh0YXJnZXQsIHByb3ApID0+IHtcbiAgICAgICAgICByZXR1cm4gKHJlcXVlc3QsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbGxNZXRob2QocHJvcCwgcmVxdWVzdCwgb3B0aW9ucyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGNhbGxNZXRob2QobWV0aG9kLCByZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICBjb25zdCBtZXRob2RDb250cmFjdCA9IHRoaXMuY29udHJhY3QuY29uc3VtZXNbbWV0aG9kXTtcbiAgICAgIGlmICghbWV0aG9kQ29udHJhY3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNZXRob2QgJHtTdHJpbmcobWV0aG9kKX0gbm90IGZvdW5kIGluIGNvbnRyYWN0YCk7XG4gICAgICB9XG4gICAgICBjb25zdCB2YWxpZGF0ZWRSZXF1ZXN0ID0gdmFsaWRhdGVXaXRoWm9kKFxuICAgICAgICBtZXRob2RDb250cmFjdC5yZXF1ZXN0LFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBgcmVxdWVzdCBmb3IgbWV0aG9kICR7U3RyaW5nKG1ldGhvZCl9YFxuICAgICAgKTtcbiAgICAgIGNvbnN0IG9uVXBkYXRlID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMub25VcGRhdGUpICYmIG1ldGhvZENvbnRyYWN0LnVwZGF0ZSA/ICh1cGRhdGUpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIW1ldGhvZENvbnRyYWN0LnVwZGF0ZSkgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHZhbGlkYXRlZFVwZGF0ZSA9IHZhbGlkYXRlV2l0aFpvZChcbiAgICAgICAgICAgIG1ldGhvZENvbnRyYWN0LnVwZGF0ZSxcbiAgICAgICAgICAgIHVwZGF0ZSxcbiAgICAgICAgICAgIGB1cGRhdGUgZm9yIG1ldGhvZCAke1N0cmluZyhtZXRob2QpfWAsXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAvLyBzaWxlbnRseSBsb2cgdmFsaWRhdGlvbiBlcnJvcnNcbiAgICAgICAgICApO1xuICAgICAgICAgIChfYSA9IG9wdGlvbnMub25VcGRhdGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKG9wdGlvbnMsIHZhbGlkYXRlZFVwZGF0ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yMikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVcGRhdGUgdmFsaWRhdGlvbiBmYWlsZWQ6XCIsIGVycm9yMik7XG4gICAgICAgIH1cbiAgICAgIH0gOiB2b2lkIDA7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYnJpZGdlLmNhbGxNZXRob2QoXG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgdmFsaWRhdGVkUmVxdWVzdCxcbiAgICAgICAgb25VcGRhdGVcbiAgICAgICk7XG4gICAgICByZXR1cm4gdmFsaWRhdGVXaXRoWm9kKFxuICAgICAgICBtZXRob2RDb250cmFjdC5yZXNwb25zZSxcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgIGByZXNwb25zZSBmb3IgbWV0aG9kICR7U3RyaW5nKG1ldGhvZCl9YFxuICAgICAgKTtcbiAgICB9XG4gICAgcmVnaXN0ZXIoaW1wbGVtZW50YXRpb25zKSB7XG4gICAgICBjb25zdCB3cmFwcGVkSW1wbGVtZW50YXRpb25zID0ge307XG4gICAgICBmb3IgKGNvbnN0IFttZXRob2QsIGltcGxlbWVudGF0aW9uXSBvZiBPYmplY3QuZW50cmllcyhpbXBsZW1lbnRhdGlvbnMpKSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZENvbnRyYWN0ID0gdGhpcy5jb250cmFjdC5zZXJ2ZXNbbWV0aG9kXTtcbiAgICAgICAgaWYgKCFtZXRob2RDb250cmFjdCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWV0aG9kICR7bWV0aG9kfSBub3QgZm91bmQgaW4gY29udHJhY3RgKTtcbiAgICAgICAgfVxuICAgICAgICB3cmFwcGVkSW1wbGVtZW50YXRpb25zW21ldGhvZF0gPSBhc3luYyAocmVxdWVzdCwgc2VuZFVwZGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHZhbGlkYXRlZFJlcXVlc3QgPSB2YWxpZGF0ZVdpdGhab2QoXG4gICAgICAgICAgICBtZXRob2RDb250cmFjdC5yZXF1ZXN0LFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIGByZXF1ZXN0IGZvciBtZXRob2QgJHttZXRob2R9YFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3Qgd3JhcHBlZFNlbmRVcGRhdGUgPSBtZXRob2RDb250cmFjdC51cGRhdGUgJiYgc2VuZFVwZGF0ZSA/ICh1cGRhdGUpID0+IHtcbiAgICAgICAgICAgIGlmICghbWV0aG9kQ29udHJhY3QudXBkYXRlKSByZXR1cm47XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCB2YWxpZGF0ZWRVcGRhdGUgPSB2YWxpZGF0ZVdpdGhab2QoXG4gICAgICAgICAgICAgICAgbWV0aG9kQ29udHJhY3QudXBkYXRlLFxuICAgICAgICAgICAgICAgIHVwZGF0ZSxcbiAgICAgICAgICAgICAgICBgdXBkYXRlIGZvciBtZXRob2QgJHttZXRob2R9YCxcbiAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgLy8gc2lsZW50bHkgbG9nIHZhbGlkYXRpb24gZXJyb3JzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHNlbmRVcGRhdGUodmFsaWRhdGVkVXBkYXRlKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yMikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVXBkYXRlIHZhbGlkYXRpb24gZmFpbGVkOlwiLCBlcnJvcjIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gOiB2b2lkIDA7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBpbXBsZW1lbnRhdGlvbih2YWxpZGF0ZWRSZXF1ZXN0LCB7XG4gICAgICAgICAgICBzZW5kVXBkYXRlOiB3cmFwcGVkU2VuZFVwZGF0ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiB2YWxpZGF0ZVdpdGhab2QoXG4gICAgICAgICAgICBtZXRob2RDb250cmFjdC5yZXNwb25zZSxcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgYHJlc3BvbnNlIGZvciBtZXRob2QgJHttZXRob2R9YFxuICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB0aGlzLmJyaWRnZS5yZWdpc3Rlcih3cmFwcGVkSW1wbGVtZW50YXRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgY2xvc2UoKSB7XG4gICAgICBhd2FpdCB0aGlzLmJyaWRnZS5jbG9zZSgpO1xuICAgIH1cbiAgfTtcbiAgdmFyIENsaWVudEJyaWRnZSA9IGNsYXNzIGV4dGVuZHMgV2ViU29ja2V0UnBjQnJpZGdlIHtcbiAgICBjb25zdHJ1Y3Rvcih1cmwsIG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lciA9IG51bGw7XG4gICAgICB0aGlzLnVybCA9IHVybDtcbiAgICB9XG4gICAgY2FsbChtZXRob2QsIHBheWxvYWQsIG9uVXBkYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKG1ldGhvZCwgcGF5bG9hZCwgb25VcGRhdGUpO1xuICAgIH1cbiAgICByZWNvbm5lY3QoKSB7XG4gICAgICBpZiAodGhpcy5yZWNvbm5lY3RUaW1lcikge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3RUaW1lcik7XG4gICAgICB9XG4gICAgICB0aGlzLnJlY29ubmVjdFRpbWVyID0gc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5jb25uZWN0KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yMikge1xuICAgICAgICAgIHRoaXMucmVjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMub3B0aW9ucy5yZWNvbm5lY3REZWxheSk7XG4gICAgfVxuICAgIGNvbm5lY3QoKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHdzID0gbmV3IFdlYlNvY2tldEltcGwyKHRoaXMudXJsKTtcbiAgICAgICAgICB3cy5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLndzID0gd3M7XG4gICAgICAgICAgICB0aGlzLnNldHVwV2ViU29ja2V0SGFuZGxlcnMod3MpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgd3Mub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJGYWlsZWQgdG8gY29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyXCIpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICAgICAgICByZWplY3QoZXJyb3IyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICB2YXIgWm9kQ2xpZW50ID0gY2xhc3MgZXh0ZW5kcyBab2RUeXBlZEJyaWRnZSB7XG4gICAgY29uc3RydWN0b3IodXJsLCBjb250cmFjdDIsIG9wdGlvbnMpIHtcbiAgICAgIHN1cGVyKG5ldyBDbGllbnRCcmlkZ2UodXJsLCBvcHRpb25zKSwge1xuICAgICAgICBzZXJ2ZXM6IGNvbnRyYWN0Mi5jbGllbnQgfHwge30sXG4gICAgICAgIGNvbnN1bWVzOiBjb250cmFjdDIuc2VydmVyIHx8IHt9XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29ubmVjdCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmJyaWRnZS5jb25uZWN0KCk7XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBjcmVhdGVTUlBDQ2xpZW50QnJpZGdlKHVybCwgY29udHJhY3QyLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RDbGllbnQodXJsLCBjb250cmFjdDIsIG9wdGlvbnMpO1xuICB9XG4gIHZhciB1dGlsO1xuICAoZnVuY3Rpb24odXRpbDIpIHtcbiAgICB1dGlsMi5hc3NlcnRFcXVhbCA9ICh2YWwpID0+IHZhbDtcbiAgICBmdW5jdGlvbiBhc3NlcnRJcyhfYXJnKSB7XG4gICAgfVxuICAgIHV0aWwyLmFzc2VydElzID0gYXNzZXJ0SXM7XG4gICAgZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoX3gpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH1cbiAgICB1dGlsMi5hc3NlcnROZXZlciA9IGFzc2VydE5ldmVyO1xuICAgIHV0aWwyLmFycmF5VG9FbnVtID0gKGl0ZW1zKSA9PiB7XG4gICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICBvYmpbaXRlbV0gPSBpdGVtO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICAgIHV0aWwyLmdldFZhbGlkRW51bVZhbHVlcyA9IChvYmopID0+IHtcbiAgICAgIGNvbnN0IHZhbGlkS2V5cyA9IHV0aWwyLm9iamVjdEtleXMob2JqKS5maWx0ZXIoKGsyKSA9PiB0eXBlb2Ygb2JqW29ialtrMl1dICE9PSBcIm51bWJlclwiKTtcbiAgICAgIGNvbnN0IGZpbHRlcmVkID0ge307XG4gICAgICBmb3IgKGNvbnN0IGsyIG9mIHZhbGlkS2V5cykge1xuICAgICAgICBmaWx0ZXJlZFtrMl0gPSBvYmpbazJdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHV0aWwyLm9iamVjdFZhbHVlcyhmaWx0ZXJlZCk7XG4gICAgfTtcbiAgICB1dGlsMi5vYmplY3RWYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgICByZXR1cm4gdXRpbDIub2JqZWN0S2V5cyhvYmopLm1hcChmdW5jdGlvbihlMikge1xuICAgICAgICByZXR1cm4gb2JqW2UyXTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdXRpbDIub2JqZWN0S2V5cyA9IHR5cGVvZiBPYmplY3Qua2V5cyA9PT0gXCJmdW5jdGlvblwiID8gKG9iaikgPT4gT2JqZWN0LmtleXMob2JqKSA6IChvYmplY3QpID0+IHtcbiAgICAgIGNvbnN0IGtleXMgPSBbXTtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4ga2V5cztcbiAgICB9O1xuICAgIHV0aWwyLmZpbmQgPSAoYXJyLCBjaGVja2VyKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYXJyKSB7XG4gICAgICAgIGlmIChjaGVja2VyKGl0ZW0pKVxuICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9O1xuICAgIHV0aWwyLmlzSW50ZWdlciA9IHR5cGVvZiBOdW1iZXIuaXNJbnRlZ2VyID09PSBcImZ1bmN0aW9uXCIgPyAodmFsKSA9PiBOdW1iZXIuaXNJbnRlZ2VyKHZhbCkgOiAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiICYmIGlzRmluaXRlKHZhbCkgJiYgTWF0aC5mbG9vcih2YWwpID09PSB2YWw7XG4gICAgZnVuY3Rpb24gam9pblZhbHVlcyhhcnJheSwgc2VwYXJhdG9yID0gXCIgfCBcIikge1xuICAgICAgcmV0dXJuIGFycmF5Lm1hcCgodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiID8gYCcke3ZhbH0nYCA6IHZhbCkuam9pbihzZXBhcmF0b3IpO1xuICAgIH1cbiAgICB1dGlsMi5qb2luVmFsdWVzID0gam9pblZhbHVlcztcbiAgICB1dGlsMi5qc29uU3RyaW5naWZ5UmVwbGFjZXIgPSAoXzIsIHZhbHVlKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gIH0pKHV0aWwgfHwgKHV0aWwgPSB7fSkpO1xuICB2YXIgb2JqZWN0VXRpbDtcbiAgKGZ1bmN0aW9uKG9iamVjdFV0aWwyKSB7XG4gICAgb2JqZWN0VXRpbDIubWVyZ2VTaGFwZXMgPSAoZmlyc3QsIHNlY29uZCkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZmlyc3QsXG4gICAgICAgIC4uLnNlY29uZFxuICAgICAgICAvLyBzZWNvbmQgb3ZlcndyaXRlcyBmaXJzdFxuICAgICAgfTtcbiAgICB9O1xuICB9KShvYmplY3RVdGlsIHx8IChvYmplY3RVdGlsID0ge30pKTtcbiAgY29uc3QgWm9kUGFyc2VkVHlwZSA9IHV0aWwuYXJyYXlUb0VudW0oW1xuICAgIFwic3RyaW5nXCIsXG4gICAgXCJuYW5cIixcbiAgICBcIm51bWJlclwiLFxuICAgIFwiaW50ZWdlclwiLFxuICAgIFwiZmxvYXRcIixcbiAgICBcImJvb2xlYW5cIixcbiAgICBcImRhdGVcIixcbiAgICBcImJpZ2ludFwiLFxuICAgIFwic3ltYm9sXCIsXG4gICAgXCJmdW5jdGlvblwiLFxuICAgIFwidW5kZWZpbmVkXCIsXG4gICAgXCJudWxsXCIsXG4gICAgXCJhcnJheVwiLFxuICAgIFwib2JqZWN0XCIsXG4gICAgXCJ1bmtub3duXCIsXG4gICAgXCJwcm9taXNlXCIsXG4gICAgXCJ2b2lkXCIsXG4gICAgXCJuZXZlclwiLFxuICAgIFwibWFwXCIsXG4gICAgXCJzZXRcIlxuICBdKTtcbiAgY29uc3QgZ2V0UGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgdDIgPSB0eXBlb2YgZGF0YTtcbiAgICBzd2l0Y2ggKHQyKSB7XG4gICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZDtcbiAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuc3RyaW5nO1xuICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICByZXR1cm4gaXNOYU4oZGF0YSkgPyBab2RQYXJzZWRUeXBlLm5hbiA6IFpvZFBhcnNlZFR5cGUubnVtYmVyO1xuICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuYm9vbGVhbjtcbiAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5mdW5jdGlvbjtcbiAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuYmlnaW50O1xuICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5zeW1ib2w7XG4gICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuYXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5udWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnRoZW4gJiYgdHlwZW9mIGRhdGEudGhlbiA9PT0gXCJmdW5jdGlvblwiICYmIGRhdGEuY2F0Y2ggJiYgdHlwZW9mIGRhdGEuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBNYXAgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLm1hcDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIFNldCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuc2V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgRGF0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmRhdGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUub2JqZWN0O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUudW5rbm93bjtcbiAgICB9XG4gIH07XG4gIGNvbnN0IFpvZElzc3VlQ29kZSA9IHV0aWwuYXJyYXlUb0VudW0oW1xuICAgIFwiaW52YWxpZF90eXBlXCIsXG4gICAgXCJpbnZhbGlkX2xpdGVyYWxcIixcbiAgICBcImN1c3RvbVwiLFxuICAgIFwiaW52YWxpZF91bmlvblwiLFxuICAgIFwiaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yXCIsXG4gICAgXCJpbnZhbGlkX2VudW1fdmFsdWVcIixcbiAgICBcInVucmVjb2duaXplZF9rZXlzXCIsXG4gICAgXCJpbnZhbGlkX2FyZ3VtZW50c1wiLFxuICAgIFwiaW52YWxpZF9yZXR1cm5fdHlwZVwiLFxuICAgIFwiaW52YWxpZF9kYXRlXCIsXG4gICAgXCJpbnZhbGlkX3N0cmluZ1wiLFxuICAgIFwidG9vX3NtYWxsXCIsXG4gICAgXCJ0b29fYmlnXCIsXG4gICAgXCJpbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlc1wiLFxuICAgIFwibm90X211bHRpcGxlX29mXCIsXG4gICAgXCJub3RfZmluaXRlXCJcbiAgXSk7XG4gIGNvbnN0IHF1b3RlbGVzc0pzb24gPSAob2JqKSA9PiB7XG4gICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gICAgcmV0dXJuIGpzb24ucmVwbGFjZSgvXCIoW15cIl0rKVwiOi9nLCBcIiQxOlwiKTtcbiAgfTtcbiAgY2xhc3MgWm9kRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgZ2V0IGVycm9ycygpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzc3VlcztcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaXNzdWVzKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgdGhpcy5pc3N1ZXMgPSBbXTtcbiAgICAgIHRoaXMuYWRkSXNzdWUgPSAoc3ViKSA9PiB7XG4gICAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCBzdWJdO1xuICAgICAgfTtcbiAgICAgIHRoaXMuYWRkSXNzdWVzID0gKHN1YnMgPSBbXSkgPT4ge1xuICAgICAgICB0aGlzLmlzc3VlcyA9IFsuLi50aGlzLmlzc3VlcywgLi4uc3Vic107XG4gICAgICB9O1xuICAgICAgY29uc3QgYWN0dWFsUHJvdG8gPSBuZXcudGFyZ2V0LnByb3RvdHlwZTtcbiAgICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIGFjdHVhbFByb3RvKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX19wcm90b19fID0gYWN0dWFsUHJvdG87XG4gICAgICB9XG4gICAgICB0aGlzLm5hbWUgPSBcIlpvZEVycm9yXCI7XG4gICAgICB0aGlzLmlzc3VlcyA9IGlzc3VlcztcbiAgICB9XG4gICAgZm9ybWF0KF9tYXBwZXIpIHtcbiAgICAgIGNvbnN0IG1hcHBlciA9IF9tYXBwZXIgfHwgZnVuY3Rpb24oaXNzdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzc3VlLm1lc3NhZ2U7XG4gICAgICB9O1xuICAgICAgY29uc3QgZmllbGRFcnJvcnMgPSB7IF9lcnJvcnM6IFtdIH07XG4gICAgICBjb25zdCBwcm9jZXNzRXJyb3IgPSAoZXJyb3IyKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgaXNzdWUgb2YgZXJyb3IyLmlzc3Vlcykge1xuICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfdW5pb25cIikge1xuICAgICAgICAgICAgaXNzdWUudW5pb25FcnJvcnMubWFwKHByb2Nlc3NFcnJvcik7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfcmV0dXJuX3R5cGVcIikge1xuICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKGlzc3VlLnJldHVyblR5cGVFcnJvcik7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfYXJndW1lbnRzXCIpIHtcbiAgICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5hcmd1bWVudHNFcnJvcik7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc3N1ZS5wYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZmllbGRFcnJvcnMuX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgY3VyciA9IGZpZWxkRXJyb3JzO1xuICAgICAgICAgICAgbGV0IGkyID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChpMiA8IGlzc3VlLnBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVsID0gaXNzdWUucGF0aFtpMl07XG4gICAgICAgICAgICAgIGNvbnN0IHRlcm1pbmFsID0gaTIgPT09IGlzc3VlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgaWYgKCF0ZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgIGN1cnJbZWxdLl9lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjdXJyID0gY3VycltlbF07XG4gICAgICAgICAgICAgIGkyKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcHJvY2Vzc0Vycm9yKHRoaXMpO1xuICAgICAgcmV0dXJuIGZpZWxkRXJyb3JzO1xuICAgIH1cbiAgICBzdGF0aWMgYXNzZXJ0KHZhbHVlKSB7XG4gICAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIFpvZEVycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vdCBhIFpvZEVycm9yOiAke3ZhbHVlfWApO1xuICAgICAgfVxuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2U7XG4gICAgfVxuICAgIGdldCBtZXNzYWdlKCkge1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuaXNzdWVzLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciwgMik7XG4gICAgfVxuICAgIGdldCBpc0VtcHR5KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNzdWVzLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgZmxhdHRlbihtYXBwZXIgPSAoaXNzdWUpID0+IGlzc3VlLm1lc3NhZ2UpIHtcbiAgICAgIGNvbnN0IGZpZWxkRXJyb3JzID0ge307XG4gICAgICBjb25zdCBmb3JtRXJyb3JzID0gW107XG4gICAgICBmb3IgKGNvbnN0IHN1YiBvZiB0aGlzLmlzc3Vlcykge1xuICAgICAgICBpZiAoc3ViLnBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXSA9IGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXSB8fCBbXTtcbiAgICAgICAgICBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0ucHVzaChtYXBwZXIoc3ViKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9ybUVycm9ycy5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgZm9ybUVycm9ycywgZmllbGRFcnJvcnMgfTtcbiAgICB9XG4gICAgZ2V0IGZvcm1FcnJvcnMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5mbGF0dGVuKCk7XG4gICAgfVxuICB9XG4gIFpvZEVycm9yLmNyZWF0ZSA9IChpc3N1ZXMpID0+IHtcbiAgICBjb25zdCBlcnJvcjIgPSBuZXcgWm9kRXJyb3IoaXNzdWVzKTtcbiAgICByZXR1cm4gZXJyb3IyO1xuICB9O1xuICBjb25zdCBlcnJvck1hcCA9IChpc3N1ZSwgX2N0eCkgPT4ge1xuICAgIGxldCBtZXNzYWdlO1xuICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlOlxuICAgICAgICBpZiAoaXNzdWUucmVjZWl2ZWQgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IFwiUmVxdWlyZWRcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtZXNzYWdlID0gYEV4cGVjdGVkICR7aXNzdWUuZXhwZWN0ZWR9LCByZWNlaXZlZCAke2lzc3VlLnJlY2VpdmVkfWA7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2xpdGVyYWw6XG4gICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBsaXRlcmFsIHZhbHVlLCBleHBlY3RlZCAke0pTT04uc3RyaW5naWZ5KGlzc3VlLmV4cGVjdGVkLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlcil9YDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5czpcbiAgICAgICAgbWVzc2FnZSA9IGBVbnJlY29nbml6ZWQga2V5KHMpIGluIG9iamVjdDogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb246XG4gICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yOlxuICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZGlzY3JpbWluYXRvciB2YWx1ZS4gRXhwZWN0ZWQgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUub3B0aW9ucyl9YDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWU6XG4gICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBlbnVtIHZhbHVlLiBFeHBlY3RlZCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5vcHRpb25zKX0sIHJlY2VpdmVkICcke2lzc3VlLnJlY2VpdmVkfSdgO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfYXJndW1lbnRzOlxuICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gYXJndW1lbnRzYDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3JldHVybl90eXBlOlxuICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gcmV0dXJuIHR5cGVgO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfZGF0ZTpcbiAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRhdGVgO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nOlxuICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICBpZiAoXCJpbmNsdWRlc1wiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBpbmNsdWRlIFwiJHtpc3N1ZS52YWxpZGF0aW9uLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXNzdWUudmFsaWRhdGlvbi5wb3NpdGlvbiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICBtZXNzYWdlID0gYCR7bWVzc2FnZX0gYXQgb25lIG9yIG1vcmUgcG9zaXRpb25zIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAke2lzc3VlLnZhbGlkYXRpb24ucG9zaXRpb259YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKFwic3RhcnRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBzdGFydCB3aXRoIFwiJHtpc3N1ZS52YWxpZGF0aW9uLnN0YXJ0c1dpdGh9XCJgO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXCJlbmRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBlbmQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5lbmRzV2l0aH1cImA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUudmFsaWRhdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzc3VlLnZhbGlkYXRpb24gIT09IFwicmVnZXhcIikge1xuICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCAke2lzc3VlLnZhbGlkYXRpb259YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtZXNzYWdlID0gXCJJbnZhbGlkXCI7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFpvZElzc3VlQ29kZS50b29fc21hbGw6XG4gICAgICAgIGlmIChpc3N1ZS50eXBlID09PSBcImFycmF5XCIpXG4gICAgICAgICAgbWVzc2FnZSA9IGBBcnJheSBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IFwiZXhhY3RseVwiIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IGxlYXN0YCA6IGBtb3JlIHRoYW5gfSAke2lzc3VlLm1pbmltdW19IGVsZW1lbnQocylgO1xuICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgIG1lc3NhZ2UgPSBgU3RyaW5nIG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gXCJleGFjdGx5XCIgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbGVhc3RgIDogYG92ZXJgfSAke2lzc3VlLm1pbmltdW19IGNoYXJhY3RlcihzKWA7XG4gICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke2lzc3VlLm1pbmltdW19YDtcbiAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJkYXRlXCIpXG4gICAgICAgICAgbWVzc2FnZSA9IGBEYXRlIG11c3QgYmUgJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5IGVxdWFsIHRvIGAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGAgOiBgZ3JlYXRlciB0aGFuIGB9JHtuZXcgRGF0ZShOdW1iZXIoaXNzdWUubWluaW11bSkpfWA7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBtZXNzYWdlID0gXCJJbnZhbGlkIGlucHV0XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBab2RJc3N1ZUNvZGUudG9vX2JpZzpcbiAgICAgICAgaWYgKGlzc3VlLnR5cGUgPT09IFwiYXJyYXlcIilcbiAgICAgICAgICBtZXNzYWdlID0gYEFycmF5IG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX0gZWxlbWVudChzKWA7XG4gICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgbWVzc2FnZSA9IGBTdHJpbmcgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbW9zdGAgOiBgdW5kZXJgfSAke2lzc3VlLm1heGltdW19IGNoYXJhY3RlcihzKWA7XG4gICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2AgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfWA7XG4gICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgICAgbWVzc2FnZSA9IGBCaWdJbnQgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2AgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfWA7XG4gICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiZGF0ZVwiKVxuICAgICAgICAgIG1lc3NhZ2UgPSBgRGF0ZSBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgc21hbGxlciB0aGFuIG9yIGVxdWFsIHRvYCA6IGBzbWFsbGVyIHRoYW5gfSAke25ldyBEYXRlKE51bWJlcihpc3N1ZS5tYXhpbXVtKSl9YDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFpvZElzc3VlQ29kZS5jdXN0b206XG4gICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXM6XG4gICAgICAgIG1lc3NhZ2UgPSBgSW50ZXJzZWN0aW9uIHJlc3VsdHMgY291bGQgbm90IGJlIG1lcmdlZGA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mOlxuICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgJHtpc3N1ZS5tdWx0aXBsZU9mfWA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBab2RJc3N1ZUNvZGUubm90X2Zpbml0ZTpcbiAgICAgICAgbWVzc2FnZSA9IFwiTnVtYmVyIG11c3QgYmUgZmluaXRlXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbWVzc2FnZSA9IF9jdHguZGVmYXVsdEVycm9yO1xuICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGlzc3VlKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgbWVzc2FnZSB9O1xuICB9O1xuICBsZXQgb3ZlcnJpZGVFcnJvck1hcCA9IGVycm9yTWFwO1xuICBmdW5jdGlvbiBzZXRFcnJvck1hcChtYXApIHtcbiAgICBvdmVycmlkZUVycm9yTWFwID0gbWFwO1xuICB9XG4gIGZ1bmN0aW9uIGdldEVycm9yTWFwKCkge1xuICAgIHJldHVybiBvdmVycmlkZUVycm9yTWFwO1xuICB9XG4gIGNvbnN0IG1ha2VJc3N1ZSA9IChwYXJhbXMpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIHBhdGgsIGVycm9yTWFwcywgaXNzdWVEYXRhIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgZnVsbFBhdGggPSBbLi4ucGF0aCwgLi4uaXNzdWVEYXRhLnBhdGggfHwgW11dO1xuICAgIGNvbnN0IGZ1bGxJc3N1ZSA9IHtcbiAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgIHBhdGg6IGZ1bGxQYXRoXG4gICAgfTtcbiAgICBpZiAoaXNzdWVEYXRhLm1lc3NhZ2UgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICAgICAgbWVzc2FnZTogaXNzdWVEYXRhLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBcIlwiO1xuICAgIGNvbnN0IG1hcHMgPSBlcnJvck1hcHMuZmlsdGVyKChtMikgPT4gISFtMikuc2xpY2UoKS5yZXZlcnNlKCk7XG4gICAgZm9yIChjb25zdCBtYXAgb2YgbWFwcykge1xuICAgICAgZXJyb3JNZXNzYWdlID0gbWFwKGZ1bGxJc3N1ZSwgeyBkYXRhLCBkZWZhdWx0RXJyb3I6IGVycm9yTWVzc2FnZSB9KS5tZXNzYWdlO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2VcbiAgICB9O1xuICB9O1xuICBjb25zdCBFTVBUWV9QQVRIID0gW107XG4gIGZ1bmN0aW9uIGFkZElzc3VlVG9Db250ZXh0KGN0eCwgaXNzdWVEYXRhKSB7XG4gICAgY29uc3Qgb3ZlcnJpZGVNYXAgPSBnZXRFcnJvck1hcCgpO1xuICAgIGNvbnN0IGlzc3VlID0gbWFrZUlzc3VlKHtcbiAgICAgIGlzc3VlRGF0YSxcbiAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICBlcnJvck1hcHM6IFtcbiAgICAgICAgY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsXG4gICAgICAgIC8vIGNvbnRleHR1YWwgZXJyb3IgbWFwIGlzIGZpcnN0IHByaW9yaXR5XG4gICAgICAgIGN0eC5zY2hlbWFFcnJvck1hcCxcbiAgICAgICAgLy8gdGhlbiBzY2hlbWEtYm91bmQgbWFwIGlmIGF2YWlsYWJsZVxuICAgICAgICBvdmVycmlkZU1hcCxcbiAgICAgICAgLy8gdGhlbiBnbG9iYWwgb3ZlcnJpZGUgbWFwXG4gICAgICAgIG92ZXJyaWRlTWFwID09PSBlcnJvck1hcCA/IHZvaWQgMCA6IGVycm9yTWFwXG4gICAgICAgIC8vIHRoZW4gZ2xvYmFsIGRlZmF1bHQgbWFwXG4gICAgICBdLmZpbHRlcigoeDIpID0+ICEheDIpXG4gICAgfSk7XG4gICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaChpc3N1ZSk7XG4gIH1cbiAgY2xhc3MgUGFyc2VTdGF0dXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdGhpcy52YWx1ZSA9IFwidmFsaWRcIjtcbiAgICB9XG4gICAgZGlydHkoKSB7XG4gICAgICBpZiAodGhpcy52YWx1ZSA9PT0gXCJ2YWxpZFwiKVxuICAgICAgICB0aGlzLnZhbHVlID0gXCJkaXJ0eVwiO1xuICAgIH1cbiAgICBhYm9ydCgpIHtcbiAgICAgIGlmICh0aGlzLnZhbHVlICE9PSBcImFib3J0ZWRcIilcbiAgICAgICAgdGhpcy52YWx1ZSA9IFwiYWJvcnRlZFwiO1xuICAgIH1cbiAgICBzdGF0aWMgbWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdHMpIHtcbiAgICAgIGNvbnN0IGFycmF5VmFsdWUgPSBbXTtcbiAgICAgIGZvciAoY29uc3QgczIgb2YgcmVzdWx0cykge1xuICAgICAgICBpZiAoczIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgaWYgKHMyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICBhcnJheVZhbHVlLnB1c2goczIudmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBhcnJheVZhbHVlIH07XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBtZXJnZU9iamVjdEFzeW5jKHN0YXR1cywgcGFpcnMpIHtcbiAgICAgIGNvbnN0IHN5bmNQYWlycyA9IFtdO1xuICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICB9XG4gICAgc3RhdGljIG1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKSB7XG4gICAgICBjb25zdCBmaW5hbE9iamVjdCA9IHt9O1xuICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgIGNvbnN0IHsga2V5LCB2YWx1ZSB9ID0gcGFpcjtcbiAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICBpZiAodmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICBpZiAoa2V5LnZhbHVlICE9PSBcIl9fcHJvdG9fX1wiICYmICh0eXBlb2YgdmFsdWUudmFsdWUgIT09IFwidW5kZWZpbmVkXCIgfHwgcGFpci5hbHdheXNTZXQpKSB7XG4gICAgICAgICAgZmluYWxPYmplY3Rba2V5LnZhbHVlXSA9IHZhbHVlLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsT2JqZWN0IH07XG4gICAgfVxuICB9XG4gIGNvbnN0IElOVkFMSUQgPSBPYmplY3QuZnJlZXplKHtcbiAgICBzdGF0dXM6IFwiYWJvcnRlZFwiXG4gIH0pO1xuICBjb25zdCBESVJUWSA9ICh2YWx1ZSkgPT4gKHsgc3RhdHVzOiBcImRpcnR5XCIsIHZhbHVlIH0pO1xuICBjb25zdCBPSyA9ICh2YWx1ZSkgPT4gKHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlIH0pO1xuICBjb25zdCBpc0Fib3J0ZWQgPSAoeDIpID0+IHgyLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCI7XG4gIGNvbnN0IGlzRGlydHkgPSAoeDIpID0+IHgyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiO1xuICBjb25zdCBpc1ZhbGlkID0gKHgyKSA9PiB4Mi5zdGF0dXMgPT09IFwidmFsaWRcIjtcbiAgY29uc3QgaXNBc3luYyA9ICh4MikgPT4gdHlwZW9mIFByb21pc2UgIT09IFwidW5kZWZpbmVkXCIgJiYgeDIgaW5zdGFuY2VvZiBQcm9taXNlO1xuICBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZjIpIHtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgdHJ1ZSA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xuICB9XG4gIGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZjIpIHtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgdHJ1ZSA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpLCB2YWx1ZTtcbiAgfVxuICB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbihlcnJvcjIsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcbiAgICB2YXIgZTIgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgcmV0dXJuIGUyLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlMi5lcnJvciA9IGVycm9yMiwgZTIuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGUyO1xuICB9O1xuICB2YXIgZXJyb3JVdGlsO1xuICAoZnVuY3Rpb24oZXJyb3JVdGlsMikge1xuICAgIGVycm9yVXRpbDIuZXJyVG9PYmogPSAobWVzc2FnZSkgPT4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2UgfSA6IG1lc3NhZ2UgfHwge307XG4gICAgZXJyb3JVdGlsMi50b1N0cmluZyA9IChtZXNzYWdlKSA9PiB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IG1lc3NhZ2UgOiBtZXNzYWdlID09PSBudWxsIHx8IG1lc3NhZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lc3NhZ2UubWVzc2FnZTtcbiAgfSkoZXJyb3JVdGlsIHx8IChlcnJvclV0aWwgPSB7fSkpO1xuICB2YXIgX1pvZEVudW1fY2FjaGUsIF9ab2ROYXRpdmVFbnVtX2NhY2hlO1xuICBjbGFzcyBQYXJzZUlucHV0TGF6eVBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgdmFsdWUsIHBhdGgsIGtleSkge1xuICAgICAgdGhpcy5fY2FjaGVkUGF0aCA9IFtdO1xuICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICB0aGlzLmRhdGEgPSB2YWx1ZTtcbiAgICAgIHRoaXMuX3BhdGggPSBwYXRoO1xuICAgICAgdGhpcy5fa2V5ID0ga2V5O1xuICAgIH1cbiAgICBnZXQgcGF0aCgpIHtcbiAgICAgIGlmICghdGhpcy5fY2FjaGVkUGF0aC5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2tleSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgdGhpcy5fY2FjaGVkUGF0aC5wdXNoKC4uLnRoaXMuX3BhdGgsIC4uLnRoaXMuX2tleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fY2FjaGVkUGF0aC5wdXNoKC4uLnRoaXMuX3BhdGgsIHRoaXMuX2tleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRQYXRoO1xuICAgIH1cbiAgfVxuICBjb25zdCBoYW5kbGVSZXN1bHQgPSAoY3R4LCByZXN1bHQpID0+IHtcbiAgICBpZiAoaXNWYWxpZChyZXN1bHQpKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQudmFsdWUgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFjdHguY29tbW9uLmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmFsaWRhdGlvbiBmYWlsZWQgYnV0IG5vIGlzc3VlcyBkZXRlY3RlZC5cIik7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgIGlmICh0aGlzLl9lcnJvcilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICAgICAgICBjb25zdCBlcnJvcjIgPSBuZXcgWm9kRXJyb3IoY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgIHRoaXMuX2Vycm9yID0gZXJyb3IyO1xuICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIGZ1bmN0aW9uIHByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMpXG4gICAgICByZXR1cm4ge307XG4gICAgY29uc3QgeyBlcnJvck1hcDogZXJyb3JNYXAyLCBpbnZhbGlkX3R5cGVfZXJyb3IsIHJlcXVpcmVkX2Vycm9yLCBkZXNjcmlwdGlvbiB9ID0gcGFyYW1zO1xuICAgIGlmIChlcnJvck1hcDIgJiYgKGludmFsaWRfdHlwZV9lcnJvciB8fCByZXF1aXJlZF9lcnJvcikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgdXNlIFwiaW52YWxpZF90eXBlX2Vycm9yXCIgb3IgXCJyZXF1aXJlZF9lcnJvclwiIGluIGNvbmp1bmN0aW9uIHdpdGggY3VzdG9tIGVycm9yIG1hcC5gKTtcbiAgICB9XG4gICAgaWYgKGVycm9yTWFwMilcbiAgICAgIHJldHVybiB7IGVycm9yTWFwOiBlcnJvck1hcDIsIGRlc2NyaXB0aW9uIH07XG4gICAgY29uc3QgY3VzdG9tTWFwID0gKGlzcywgY3R4KSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgY29uc3QgeyBtZXNzYWdlIH0gPSBwYXJhbXM7XG4gICAgICBpZiAoaXNzLmNvZGUgPT09IFwiaW52YWxpZF9lbnVtX3ZhbHVlXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogbWVzc2FnZSAhPT0gbnVsbCAmJiBtZXNzYWdlICE9PSB2b2lkIDAgPyBtZXNzYWdlIDogY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBjdHguZGF0YSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4geyBtZXNzYWdlOiAoX2EgPSBtZXNzYWdlICE9PSBudWxsICYmIG1lc3NhZ2UgIT09IHZvaWQgMCA/IG1lc3NhZ2UgOiByZXF1aXJlZF9lcnJvcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgICAgfVxuICAgICAgaWYgKGlzcy5jb2RlICE9PSBcImludmFsaWRfdHlwZVwiKVxuICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgICByZXR1cm4geyBtZXNzYWdlOiAoX2IgPSBtZXNzYWdlICE9PSBudWxsICYmIG1lc3NhZ2UgIT09IHZvaWQgMCA/IG1lc3NhZ2UgOiBpbnZhbGlkX3R5cGVfZXJyb3IpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICB9O1xuICAgIHJldHVybiB7IGVycm9yTWFwOiBjdXN0b21NYXAsIGRlc2NyaXB0aW9uIH07XG4gIH1cbiAgY2xhc3MgWm9kVHlwZSB7XG4gICAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZi5kZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgX2dldFR5cGUoaW5wdXQpIHtcbiAgICAgIHJldHVybiBnZXRQYXJzZWRUeXBlKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBfZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCkge1xuICAgICAgcmV0dXJuIGN0eCB8fCB7XG4gICAgICAgIGNvbW1vbjogaW5wdXQucGFyZW50LmNvbW1vbixcbiAgICAgICAgZGF0YTogaW5wdXQuZGF0YSxcbiAgICAgICAgcGFyc2VkVHlwZTogZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKSxcbiAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgcGF0aDogaW5wdXQucGF0aCxcbiAgICAgICAgcGFyZW50OiBpbnB1dC5wYXJlbnRcbiAgICAgIH07XG4gICAgfVxuICAgIF9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogbmV3IFBhcnNlU3RhdHVzKCksXG4gICAgICAgIGN0eDoge1xuICAgICAgICAgIGNvbW1vbjogaW5wdXQucGFyZW50LmNvbW1vbixcbiAgICAgICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIF9wYXJzZVN5bmMoaW5wdXQpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgIGlmIChpc0FzeW5jKHJlc3VsdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3luY2hyb25vdXMgcGFyc2UgZW5jb3VudGVyZWQgcHJvbWlzZS5cIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBfcGFyc2VBc3luYyhpbnB1dCkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2UoaW5wdXQpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgIH1cbiAgICBwYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuc2FmZVBhcnNlKGRhdGEsIHBhcmFtcyk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpXG4gICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgIHRocm93IHJlc3VsdC5lcnJvcjtcbiAgICB9XG4gICAgc2FmZVBhcnNlKGRhdGEsIHBhcmFtcykge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICBjb21tb246IHtcbiAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgIGFzeW5jOiAoX2EgPSBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuYXN5bmMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgICAgICAgIGNvbnRleHR1YWxFcnJvck1hcDogcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmVycm9yTWFwXG4gICAgICAgIH0sXG4gICAgICAgIHBhdGg6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMucGF0aCkgfHwgW10sXG4gICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgcGFyc2VkVHlwZTogZ2V0UGFyc2VkVHlwZShkYXRhKVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlU3luYyh7IGRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICBcIn52YWxpZGF0ZVwiKGRhdGEpIHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgYXN5bmM6ICEhdGhpc1tcIn5zdGFuZGFyZFwiXS5hc3luY1xuICAgICAgICB9LFxuICAgICAgICBwYXRoOiBbXSxcbiAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICBkYXRhLFxuICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpXG4gICAgICB9O1xuICAgICAgaWYgKCF0aGlzW1wifnN0YW5kYXJkXCJdLmFzeW5jKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2VTeW5jKHsgZGF0YSwgcGF0aDogW10sIHBhcmVudDogY3R4IH0pO1xuICAgICAgICAgIHJldHVybiBpc1ZhbGlkKHJlc3VsdCkgPyB7XG4gICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnZhbHVlXG4gICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgIGlzc3VlczogY3R4LmNvbW1vbi5pc3N1ZXNcbiAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoKF9iID0gKF9hID0gZXJyID09PSBudWxsIHx8IGVyciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyLm1lc3NhZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b0xvd2VyQ2FzZSgpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaW5jbHVkZXMoXCJlbmNvdW50ZXJlZFwiKSkge1xuICAgICAgICAgICAgdGhpc1tcIn5zdGFuZGFyZFwiXS5hc3luYyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN0eC5jb21tb24gPSB7XG4gICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgYXN5bmM6IHRydWVcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fcGFyc2VBc3luYyh7IGRhdGEsIHBhdGg6IFtdLCBwYXJlbnQ6IGN0eCB9KS50aGVuKChyZXN1bHQpID0+IGlzVmFsaWQocmVzdWx0KSA/IHtcbiAgICAgICAgdmFsdWU6IHJlc3VsdC52YWx1ZVxuICAgICAgfSA6IHtcbiAgICAgICAgaXNzdWVzOiBjdHguY29tbW9uLmlzc3Vlc1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNhZmVQYXJzZUFzeW5jKGRhdGEsIHBhcmFtcyk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpXG4gICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgIHRocm93IHJlc3VsdC5lcnJvcjtcbiAgICB9XG4gICAgYXN5bmMgc2FmZVBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKSB7XG4gICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgY29udGV4dHVhbEVycm9yTWFwOiBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuZXJyb3JNYXAsXG4gICAgICAgICAgYXN5bmM6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgcGF0aDogKHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5wYXRoKSB8fCBbXSxcbiAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICBkYXRhLFxuICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpXG4gICAgICB9O1xuICAgICAgY29uc3QgbWF5YmVBc3luY1Jlc3VsdCA9IHRoaXMuX3BhcnNlKHsgZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgKGlzQXN5bmMobWF5YmVBc3luY1Jlc3VsdCkgPyBtYXliZUFzeW5jUmVzdWx0IDogUHJvbWlzZS5yZXNvbHZlKG1heWJlQXN5bmNSZXN1bHQpKTtcbiAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICByZWZpbmUoY2hlY2ssIG1lc3NhZ2UpIHtcbiAgICAgIGNvbnN0IGdldElzc3VlUHJvcGVydGllcyA9ICh2YWwpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBtZXNzYWdlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZSB9O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICByZXR1cm4gbWVzc2FnZSh2YWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQoKHZhbCwgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNoZWNrKHZhbCk7XG4gICAgICAgIGNvbnN0IHNldEVycm9yID0gKCkgPT4gY3R4LmFkZElzc3VlKHtcbiAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuY3VzdG9tLFxuICAgICAgICAgIC4uLmdldElzc3VlUHJvcGVydGllcyh2YWwpXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHlwZW9mIFByb21pc2UgIT09IFwidW5kZWZpbmVkXCIgJiYgcmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgIHNldEVycm9yKCk7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZWZpbmVtZW50KGNoZWNrLCByZWZpbmVtZW50RGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQoKHZhbCwgY3R4KSA9PiB7XG4gICAgICAgIGlmICghY2hlY2sodmFsKSkge1xuICAgICAgICAgIGN0eC5hZGRJc3N1ZSh0eXBlb2YgcmVmaW5lbWVudERhdGEgPT09IFwiZnVuY3Rpb25cIiA/IHJlZmluZW1lbnREYXRhKHZhbCwgY3R4KSA6IHJlZmluZW1lbnREYXRhKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBfcmVmaW5lbWVudChyZWZpbmVtZW50KSB7XG4gICAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICBzY2hlbWE6IHRoaXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwicmVmaW5lbWVudFwiLCByZWZpbmVtZW50IH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBzdXBlclJlZmluZShyZWZpbmVtZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudChyZWZpbmVtZW50KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZGVmKSB7XG4gICAgICB0aGlzLnNwYSA9IHRoaXMuc2FmZVBhcnNlQXN5bmM7XG4gICAgICB0aGlzLl9kZWYgPSBkZWY7XG4gICAgICB0aGlzLnBhcnNlID0gdGhpcy5wYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5zYWZlUGFyc2UgPSB0aGlzLnNhZmVQYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5wYXJzZUFzeW5jID0gdGhpcy5wYXJzZUFzeW5jLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLnNhZmVQYXJzZUFzeW5jID0gdGhpcy5zYWZlUGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5zcGEgPSB0aGlzLnNwYS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5yZWZpbmUgPSB0aGlzLnJlZmluZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5yZWZpbmVtZW50ID0gdGhpcy5yZWZpbmVtZW50LmJpbmQodGhpcyk7XG4gICAgICB0aGlzLnN1cGVyUmVmaW5lID0gdGhpcy5zdXBlclJlZmluZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5vcHRpb25hbCA9IHRoaXMub3B0aW9uYWwuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMubnVsbGFibGUgPSB0aGlzLm51bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLm51bGxpc2ggPSB0aGlzLm51bGxpc2guYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuYXJyYXkgPSB0aGlzLmFycmF5LmJpbmQodGhpcyk7XG4gICAgICB0aGlzLnByb21pc2UgPSB0aGlzLnByb21pc2UuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMub3IgPSB0aGlzLm9yLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmFuZCA9IHRoaXMuYW5kLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmJyYW5kID0gdGhpcy5icmFuZC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5kZWZhdWx0ID0gdGhpcy5kZWZhdWx0LmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmNhdGNoID0gdGhpcy5jYXRjaC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5kZXNjcmliZSA9IHRoaXMuZGVzY3JpYmUuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMucGlwZSA9IHRoaXMucGlwZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5yZWFkb25seSA9IHRoaXMucmVhZG9ubHkuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuaXNOdWxsYWJsZSA9IHRoaXMuaXNOdWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5pc09wdGlvbmFsID0gdGhpcy5pc09wdGlvbmFsLmJpbmQodGhpcyk7XG4gICAgICB0aGlzW1wifnN0YW5kYXJkXCJdID0ge1xuICAgICAgICB2ZXJzaW9uOiAxLFxuICAgICAgICB2ZW5kb3I6IFwiem9kXCIsXG4gICAgICAgIHZhbGlkYXRlOiAoZGF0YSkgPT4gdGhpc1tcIn52YWxpZGF0ZVwiXShkYXRhKVxuICAgICAgfTtcbiAgICB9XG4gICAgb3B0aW9uYWwoKSB7XG4gICAgICByZXR1cm4gWm9kT3B0aW9uYWwuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG51bGxhYmxlKCkge1xuICAgICAgcmV0dXJuIFpvZE51bGxhYmxlLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBudWxsaXNoKCkge1xuICAgICAgcmV0dXJuIHRoaXMubnVsbGFibGUoKS5vcHRpb25hbCgpO1xuICAgIH1cbiAgICBhcnJheSgpIHtcbiAgICAgIHJldHVybiBab2RBcnJheS5jcmVhdGUodGhpcyk7XG4gICAgfVxuICAgIHByb21pc2UoKSB7XG4gICAgICByZXR1cm4gWm9kUHJvbWlzZS5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgb3Iob3B0aW9uKSB7XG4gICAgICByZXR1cm4gWm9kVW5pb24uY3JlYXRlKFt0aGlzLCBvcHRpb25dLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBhbmQoaW5jb21pbmcpIHtcbiAgICAgIHJldHVybiBab2RJbnRlcnNlY3Rpb24uY3JlYXRlKHRoaXMsIGluY29taW5nLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICB0cmFuc2Zvcm0odHJhbnNmb3JtKSB7XG4gICAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJ0cmFuc2Zvcm1cIiwgdHJhbnNmb3JtIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBkZWZhdWx0KGRlZikge1xuICAgICAgY29uc3QgZGVmYXVsdFZhbHVlRnVuYyA9IHR5cGVvZiBkZWYgPT09IFwiZnVuY3Rpb25cIiA/IGRlZiA6ICgpID0+IGRlZjtcbiAgICAgIHJldHVybiBuZXcgWm9kRGVmYXVsdCh7XG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZUZ1bmMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdFxuICAgICAgfSk7XG4gICAgfVxuICAgIGJyYW5kKCkge1xuICAgICAgcmV0dXJuIG5ldyBab2RCcmFuZGVkKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCcmFuZGVkLFxuICAgICAgICB0eXBlOiB0aGlzLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZilcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaChkZWYpIHtcbiAgICAgIGNvbnN0IGNhdGNoVmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgcmV0dXJuIG5ldyBab2RDYXRjaCh7XG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICBjYXRjaFZhbHVlOiBjYXRjaFZhbHVlRnVuYyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaFxuICAgICAgfSk7XG4gICAgfVxuICAgIGRlc2NyaWJlKGRlc2NyaXB0aW9uKSB7XG4gICAgICBjb25zdCBUaGlzID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgIHJldHVybiBuZXcgVGhpcyh7XG4gICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgZGVzY3JpcHRpb25cbiAgICAgIH0pO1xuICAgIH1cbiAgICBwaXBlKHRhcmdldCkge1xuICAgICAgcmV0dXJuIFpvZFBpcGVsaW5lLmNyZWF0ZSh0aGlzLCB0YXJnZXQpO1xuICAgIH1cbiAgICByZWFkb25seSgpIHtcbiAgICAgIHJldHVybiBab2RSZWFkb25seS5jcmVhdGUodGhpcyk7XG4gICAgfVxuICAgIGlzT3B0aW9uYWwoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2Uodm9pZCAwKS5zdWNjZXNzO1xuICAgIH1cbiAgICBpc051bGxhYmxlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2FmZVBhcnNlKG51bGwpLnN1Y2Nlc3M7XG4gICAgfVxuICB9XG4gIGNvbnN0IGN1aWRSZWdleCA9IC9eY1teXFxzLV17OCx9JC9pO1xuICBjb25zdCBjdWlkMlJlZ2V4ID0gL15bMC05YS16XSskLztcbiAgY29uc3QgdWxpZFJlZ2V4ID0gL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC9pO1xuICBjb25zdCB1dWlkUmVnZXggPSAvXlswLTlhLWZBLUZdezh9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezEyfSQvaTtcbiAgY29uc3QgbmFub2lkUmVnZXggPSAvXlthLXowLTlfLV17MjF9JC9pO1xuICBjb25zdCBqd3RSZWdleCA9IC9eW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dK1xcLltBLVphLXowLTktX10qJC87XG4gIGNvbnN0IGR1cmF0aW9uUmVnZXggPSAvXlstK10/UCg/ISQpKD86KD86Wy0rXT9cXGQrWSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtZJCkpPyg/Oig/OlstK10/XFxkK00pfCg/OlstK10/XFxkK1suLF1cXGQrTSQpKT8oPzooPzpbLStdP1xcZCtXKXwoPzpbLStdP1xcZCtbLixdXFxkK1ckKSk/KD86KD86Wy0rXT9cXGQrRCl8KD86Wy0rXT9cXGQrWy4sXVxcZCtEJCkpPyg/OlQoPz1bXFxkKy1dKSg/Oig/OlstK10/XFxkK0gpfCg/OlstK10/XFxkK1suLF1cXGQrSCQpKT8oPzooPzpbLStdP1xcZCtNKXwoPzpbLStdP1xcZCtbLixdXFxkK00kKSk/KD86Wy0rXT9cXGQrKD86Wy4sXVxcZCspP1MpPyk/PyQvO1xuICBjb25zdCBlbWFpbFJlZ2V4ID0gL14oPyFcXC4pKD8hLipcXC5cXC4pKFtBLVowLTlfJytcXC1cXC5dKilbQS1aMC05XystXUAoW0EtWjAtOV1bQS1aMC05XFwtXSpcXC4pK1tBLVpdezIsfSQvaTtcbiAgY29uc3QgX2Vtb2ppUmVnZXggPSBgXihcXFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fFxcXFxwe0Vtb2ppX0NvbXBvbmVudH0pKyRgO1xuICBsZXQgZW1vamlSZWdleDtcbiAgY29uc3QgaXB2NFJlZ2V4ID0gL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSkkLztcbiAgY29uc3QgaXB2NENpZHJSZWdleCA9IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwvKDNbMC0yXXxbMTJdP1swLTldKSQvO1xuICBjb25zdCBpcHY2UmVnZXggPSAvXigoWzAtOWEtZkEtRl17MSw0fTopezcsN31bMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw3fTp8KFswLTlhLWZBLUZdezEsNH06KXsxLDZ9OlswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDV9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDJ9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwzfXwoWzAtOWEtZkEtRl17MSw0fTopezEsM30oOlswLTlhLWZBLUZdezEsNH0pezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDJ9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDV9fFswLTlhLWZBLUZdezEsNH06KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw2fSl8OigoOlswLTlhLWZBLUZdezEsNH0pezEsN318Oil8ZmU4MDooOlswLTlhLWZBLUZdezAsNH0pezAsNH0lWzAtOWEtekEtWl17MSx9fDo6KGZmZmYoOjB7MSw0fSl7MCwxfTopezAsMX0oKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSl8KFswLTlhLWZBLUZdezEsNH06KXsxLDR9OigoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKSkkLztcbiAgY29uc3QgaXB2NkNpZHJSZWdleCA9IC9eKChbMC05YS1mQS1GXXsxLDR9Oil7Nyw3fVswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDd9OnwoWzAtOWEtZkEtRl17MSw0fTopezEsNn06WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsNX0oOlswLTlhLWZBLUZdezEsNH0pezEsMn18KFswLTlhLWZBLUZdezEsNH06KXsxLDR9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDN9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwzfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsMn0oOlswLTlhLWZBLUZdezEsNH0pezEsNX18WzAtOWEtZkEtRl17MSw0fTooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDZ9KXw6KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw3fXw6KXxmZTgwOig6WzAtOWEtZkEtRl17MCw0fSl7MCw0fSVbMC05YS16QS1aXXsxLH18OjooZmZmZig6MHsxLDR9KXswLDF9Oil7MCwxfSgoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH06KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pKVxcLygxMlswLThdfDFbMDFdWzAtOV18WzEtOV0/WzAtOV0pJC87XG4gIGNvbnN0IGJhc2U2NFJlZ2V4ID0gL14oWzAtOWEtekEtWisvXXs0fSkqKChbMC05YS16QS1aKy9dezJ9PT0pfChbMC05YS16QS1aKy9dezN9PSkpPyQvO1xuICBjb25zdCBiYXNlNjR1cmxSZWdleCA9IC9eKFswLTlhLXpBLVotX117NH0pKigoWzAtOWEtekEtWi1fXXsyfSg9PSk/KXwoWzAtOWEtekEtWi1fXXszfSg9KT8pKT8kLztcbiAgY29uc3QgZGF0ZVJlZ2V4U291cmNlID0gYCgoXFxcXGRcXFxcZFsyNDY4XVswNDhdfFxcXFxkXFxcXGRbMTM1NzldWzI2XXxcXFxcZFxcXFxkMFs0OF18WzAyNDY4XVswNDhdMDB8WzEzNTc5XVsyNl0wMCktMDItMjl8XFxcXGR7NH0tKCgwWzEzNTc4XXwxWzAyXSktKDBbMS05XXxbMTJdXFxcXGR8M1swMV0pfCgwWzQ2OV18MTEpLSgwWzEtOV18WzEyXVxcXFxkfDMwKXwoMDIpLSgwWzEtOV18MVxcXFxkfDJbMC04XSkpKWA7XG4gIGNvbnN0IGRhdGVSZWdleCA9IG5ldyBSZWdFeHAoYF4ke2RhdGVSZWdleFNvdXJjZX0kYCk7XG4gIGZ1bmN0aW9uIHRpbWVSZWdleFNvdXJjZShhcmdzKSB7XG4gICAgbGV0IHNlY29uZHNSZWdleFNvdXJjZSA9IGBbMC01XVxcXFxkYDtcbiAgICBpZiAoYXJncy5wcmVjaXNpb24pIHtcbiAgICAgIHNlY29uZHNSZWdleFNvdXJjZSA9IGAke3NlY29uZHNSZWdleFNvdXJjZX1cXFxcLlxcXFxkeyR7YXJncy5wcmVjaXNpb259fWA7XG4gICAgfSBlbHNlIGlmIChhcmdzLnByZWNpc2lvbiA9PSBudWxsKSB7XG4gICAgICBzZWNvbmRzUmVnZXhTb3VyY2UgPSBgJHtzZWNvbmRzUmVnZXhTb3VyY2V9KFxcXFwuXFxcXGQrKT9gO1xuICAgIH1cbiAgICBjb25zdCBzZWNvbmRzUXVhbnRpZmllciA9IGFyZ3MucHJlY2lzaW9uID8gXCIrXCIgOiBcIj9cIjtcbiAgICByZXR1cm4gYChbMDFdXFxcXGR8MlswLTNdKTpbMC01XVxcXFxkKDoke3NlY29uZHNSZWdleFNvdXJjZX0pJHtzZWNvbmRzUXVhbnRpZmllcn1gO1xuICB9XG4gIGZ1bmN0aW9uIHRpbWVSZWdleChhcmdzKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3RpbWVSZWdleFNvdXJjZShhcmdzKX0kYCk7XG4gIH1cbiAgZnVuY3Rpb24gZGF0ZXRpbWVSZWdleChhcmdzKSB7XG4gICAgbGV0IHJlZ2V4ID0gYCR7ZGF0ZVJlZ2V4U291cmNlfVQke3RpbWVSZWdleFNvdXJjZShhcmdzKX1gO1xuICAgIGNvbnN0IG9wdHMgPSBbXTtcbiAgICBvcHRzLnB1c2goYXJncy5sb2NhbCA/IGBaP2AgOiBgWmApO1xuICAgIGlmIChhcmdzLm9mZnNldClcbiAgICAgIG9wdHMucHVzaChgKFsrLV1cXFxcZHsyfTo/XFxcXGR7Mn0pYCk7XG4gICAgcmVnZXggPSBgJHtyZWdleH0oJHtvcHRzLmpvaW4oXCJ8XCIpfSlgO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHtyZWdleH0kYCk7XG4gIH1cbiAgZnVuY3Rpb24gaXNWYWxpZElQKGlwLCB2ZXJzaW9uKSB7XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY0XCIgfHwgIXZlcnNpb24pICYmIGlwdjRSZWdleC50ZXN0KGlwKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NlwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY2UmVnZXgudGVzdChpcCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZnVuY3Rpb24gaXNWYWxpZEpXVChqd3QsIGFsZykge1xuICAgIGlmICghand0UmVnZXgudGVzdChqd3QpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBbaGVhZGVyXSA9IGp3dC5zcGxpdChcIi5cIik7XG4gICAgICBjb25zdCBiYXNlNjQgPSBoZWFkZXIucmVwbGFjZSgvLS9nLCBcIitcIikucmVwbGFjZSgvXy9nLCBcIi9cIikucGFkRW5kKGhlYWRlci5sZW5ndGggKyAoNCAtIGhlYWRlci5sZW5ndGggJSA0KSAlIDQsIFwiPVwiKTtcbiAgICAgIGNvbnN0IGRlY29kZWQgPSBKU09OLnBhcnNlKGF0b2IoYmFzZTY0KSk7XG4gICAgICBpZiAodHlwZW9mIGRlY29kZWQgIT09IFwib2JqZWN0XCIgfHwgZGVjb2RlZCA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKCFkZWNvZGVkLnR5cCB8fCAhZGVjb2RlZC5hbGcpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChhbGcgJiYgZGVjb2RlZC5hbGcgIT09IGFsZylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoX2EpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaXNWYWxpZENpZHIoaXAsIHZlcnNpb24pIHtcbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjRcIiB8fCAhdmVyc2lvbikgJiYgaXB2NENpZHJSZWdleC50ZXN0KGlwKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NlwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY2Q2lkclJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNsYXNzIFpvZFN0cmluZyBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgaW5wdXQuZGF0YSA9IFN0cmluZyhpbnB1dC5kYXRhKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN0cmluZykge1xuICAgICAgICBjb25zdCBjdHgyID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgyLCB7XG4gICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zdHJpbmcsXG4gICAgICAgICAgcmVjZWl2ZWQ6IGN0eDIucGFyc2VkVHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICB9XG4gICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgIGxldCBjdHggPSB2b2lkIDA7XG4gICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmRhdGEubGVuZ3RoID4gY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibGVuZ3RoXCIpIHtcbiAgICAgICAgICBjb25zdCB0b29CaWcgPSBpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlO1xuICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZTtcbiAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1haWxcIikge1xuICAgICAgICAgIGlmICghZW1haWxSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImVtYWlsXCIsXG4gICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbW9qaVwiKSB7XG4gICAgICAgICAgaWYgKCFlbW9qaVJlZ2V4KSB7XG4gICAgICAgICAgICBlbW9qaVJlZ2V4ID0gbmV3IFJlZ0V4cChfZW1vamlSZWdleCwgXCJ1XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWVtb2ppUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbW9qaVwiLFxuICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXVpZFwiKSB7XG4gICAgICAgICAgaWYgKCF1dWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1dWlkXCIsXG4gICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJuYW5vaWRcIikge1xuICAgICAgICAgIGlmICghbmFub2lkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJuYW5vaWRcIixcbiAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImN1aWRcIikge1xuICAgICAgICAgIGlmICghY3VpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZFwiLFxuICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZDJcIikge1xuICAgICAgICAgIGlmICghY3VpZDJSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImN1aWQyXCIsXG4gICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1bGlkXCIpIHtcbiAgICAgICAgICBpZiAoIXVsaWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInVsaWRcIixcbiAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInVybFwiKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG5ldyBVUkwoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgfSBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidXJsXCIsXG4gICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgY2hlY2sucmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICBjb25zdCB0ZXN0UmVzdWx0ID0gY2hlY2sucmVnZXgudGVzdChpbnB1dC5kYXRhKTtcbiAgICAgICAgICBpZiAoIXRlc3RSZXN1bHQpIHtcbiAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgIHZhbGlkYXRpb246IFwicmVnZXhcIixcbiAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRyaW1cIikge1xuICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRyaW0oKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImluY2x1ZGVzXCIpIHtcbiAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuaW5jbHVkZXMoY2hlY2sudmFsdWUsIGNoZWNrLnBvc2l0aW9uKSkge1xuICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IGluY2x1ZGVzOiBjaGVjay52YWx1ZSwgcG9zaXRpb246IGNoZWNrLnBvc2l0aW9uIH0sXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidG9Mb3dlckNhc2VcIikge1xuICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0b1VwcGVyQ2FzZVwiKSB7XG4gICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudG9VcHBlckNhc2UoKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInN0YXJ0c1dpdGhcIikge1xuICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5zdGFydHNXaXRoKGNoZWNrLnZhbHVlKSkge1xuICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IHN0YXJ0c1dpdGg6IGNoZWNrLnZhbHVlIH0sXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW5kc1dpdGhcIikge1xuICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5lbmRzV2l0aChjaGVjay52YWx1ZSkpIHtcbiAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBlbmRzV2l0aDogY2hlY2sudmFsdWUgfSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkYXRldGltZVwiKSB7XG4gICAgICAgICAgY29uc3QgcmVnZXggPSBkYXRldGltZVJlZ2V4KGNoZWNrKTtcbiAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImRhdGVcIikge1xuICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gZGF0ZVJlZ2V4O1xuICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImRhdGVcIixcbiAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0aW1lXCIpIHtcbiAgICAgICAgICBjb25zdCByZWdleCA9IHRpbWVSZWdleChjaGVjayk7XG4gICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidGltZVwiLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImR1cmF0aW9uXCIpIHtcbiAgICAgICAgICBpZiAoIWR1cmF0aW9uUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkdXJhdGlvblwiLFxuICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiaXBcIikge1xuICAgICAgICAgIGlmICghaXNWYWxpZElQKGlucHV0LmRhdGEsIGNoZWNrLnZlcnNpb24pKSB7XG4gICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImlwXCIsXG4gICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJqd3RcIikge1xuICAgICAgICAgIGlmICghaXNWYWxpZEpXVChpbnB1dC5kYXRhLCBjaGVjay5hbGcpKSB7XG4gICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImp3dFwiLFxuICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY2lkclwiKSB7XG4gICAgICAgICAgaWYgKCFpc1ZhbGlkQ2lkcihpbnB1dC5kYXRhLCBjaGVjay52ZXJzaW9uKSkge1xuICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjaWRyXCIsXG4gICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJiYXNlNjRcIikge1xuICAgICAgICAgIGlmICghYmFzZTY0UmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJiYXNlNjRcIixcbiAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImJhc2U2NHVybFwiKSB7XG4gICAgICAgICAgaWYgKCFiYXNlNjR1cmxSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImJhc2U2NHVybFwiLFxuICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgX3JlZ2V4KHJlZ2V4LCB2YWxpZGF0aW9uLCBtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWZpbmVtZW50KChkYXRhKSA9PiByZWdleC50ZXN0KGRhdGEpLCB7XG4gICAgICAgIHZhbGlkYXRpb24sXG4gICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdXG4gICAgICB9KTtcbiAgICB9XG4gICAgZW1haWwobWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJlbWFpbFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHVybChtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInVybFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGVtb2ppKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZW1vamlcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1dWlkKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidXVpZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIG5hbm9pZChtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcIm5hbm9pZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGN1aWQobWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjdWlkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgY3VpZDIobWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjdWlkMlwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHVsaWQobWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1bGlkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgYmFzZTY0KG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiYmFzZTY0XCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgYmFzZTY0dXJsKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgIGtpbmQ6IFwiYmFzZTY0dXJsXCIsXG4gICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKVxuICAgICAgfSk7XG4gICAgfVxuICAgIGp3dChvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImp3dFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gICAgfVxuICAgIGlwKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiaXBcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICAgIH1cbiAgICBjaWRyKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY2lkclwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gICAgfVxuICAgIGRhdGV0aW1lKG9wdGlvbnMpIHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAgIG9mZnNldDogZmFsc2UsXG4gICAgICAgICAgbG9jYWw6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6IG9wdGlvbnNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgIHByZWNpc2lvbjogdHlwZW9mIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucHJlY2lzaW9uKSA9PT0gXCJ1bmRlZmluZWRcIiA/IG51bGwgOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucHJlY2lzaW9uLFxuICAgICAgICBvZmZzZXQ6IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5vZmZzZXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgICAgICBsb2NhbDogKF9iID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmxvY2FsKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBmYWxzZSxcbiAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5tZXNzYWdlKVxuICAgICAgfSk7XG4gICAgfVxuICAgIGRhdGUobWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJkYXRlXCIsIG1lc3NhZ2UgfSk7XG4gICAgfVxuICAgIHRpbWUob3B0aW9ucykge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAga2luZDogXCJ0aW1lXCIsXG4gICAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAgIG1lc3NhZ2U6IG9wdGlvbnNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICBraW5kOiBcInRpbWVcIixcbiAgICAgICAgcHJlY2lzaW9uOiB0eXBlb2YgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5wcmVjaXNpb24pID09PSBcInVuZGVmaW5lZFwiID8gbnVsbCA6IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5wcmVjaXNpb24sXG4gICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWVzc2FnZSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBkdXJhdGlvbihtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImR1cmF0aW9uXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgcmVnZXgocmVnZXgsIG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgIGtpbmQ6IFwicmVnZXhcIixcbiAgICAgICAgcmVnZXgsXG4gICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKVxuICAgICAgfSk7XG4gICAgfVxuICAgIGluY2x1ZGVzKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICBraW5kOiBcImluY2x1ZGVzXCIsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBwb3NpdGlvbjogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnBvc2l0aW9uLFxuICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm1lc3NhZ2UpXG4gICAgICB9KTtcbiAgICB9XG4gICAgc3RhcnRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAga2luZDogXCJzdGFydHNXaXRoXCIsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbmRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAga2luZDogXCJlbmRzV2l0aFwiLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgICB9KTtcbiAgICB9XG4gICAgbWluKG1pbkxlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgdmFsdWU6IG1pbkxlbmd0aCxcbiAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgdmFsdWU6IG1heExlbmd0aCxcbiAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgICB9KTtcbiAgICB9XG4gICAgbGVuZ3RoKGxlbiwgbWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAga2luZDogXCJsZW5ndGhcIixcbiAgICAgICAgdmFsdWU6IGxlbixcbiAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBgLm1pbigxKWBcbiAgICAgKi9cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5taW4oMSwgZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgdHJpbSgpIHtcbiAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidHJpbVwiIH1dXG4gICAgICB9KTtcbiAgICB9XG4gICAgdG9Mb3dlckNhc2UoKSB7XG4gICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRvTG93ZXJDYXNlXCIgfV1cbiAgICAgIH0pO1xuICAgIH1cbiAgICB0b1VwcGVyQ2FzZSgpIHtcbiAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidG9VcHBlckNhc2VcIiB9XVxuICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBpc0RhdGV0aW1lKCkge1xuICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJkYXRldGltZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRGF0ZSgpIHtcbiAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZGF0ZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVGltZSgpIHtcbiAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidGltZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRHVyYXRpb24oKSB7XG4gICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImR1cmF0aW9uXCIpO1xuICAgIH1cbiAgICBnZXQgaXNFbWFpbCgpIHtcbiAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZW1haWxcIik7XG4gICAgfVxuICAgIGdldCBpc1VSTCgpIHtcbiAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidXJsXCIpO1xuICAgIH1cbiAgICBnZXQgaXNFbW9qaSgpIHtcbiAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZW1vamlcIik7XG4gICAgfVxuICAgIGdldCBpc1VVSUQoKSB7XG4gICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInV1aWRcIik7XG4gICAgfVxuICAgIGdldCBpc05BTk9JRCgpIHtcbiAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwibmFub2lkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDVUlEKCkge1xuICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjdWlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDVUlEMigpIHtcbiAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY3VpZDJcIik7XG4gICAgfVxuICAgIGdldCBpc1VMSUQoKSB7XG4gICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInVsaWRcIik7XG4gICAgfVxuICAgIGdldCBpc0lQKCkge1xuICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJpcFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQ0lEUigpIHtcbiAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY2lkclwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQmFzZTY0KCkge1xuICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJiYXNlNjRcIik7XG4gICAgfVxuICAgIGdldCBpc0Jhc2U2NHVybCgpIHtcbiAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiYmFzZTY0dXJsXCIpO1xuICAgIH1cbiAgICBnZXQgbWluTGVuZ3RoKCkge1xuICAgICAgbGV0IG1pbjIgPSBudWxsO1xuICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgaWYgKG1pbjIgPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4yKVxuICAgICAgICAgICAgbWluMiA9IGNoLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbWluMjtcbiAgICB9XG4gICAgZ2V0IG1heExlbmd0aCgpIHtcbiAgICAgIGxldCBtYXgyID0gbnVsbDtcbiAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgIGlmIChtYXgyID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4MilcbiAgICAgICAgICAgIG1heDIgPSBjaC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1heDI7XG4gICAgfVxuICB9XG4gIFpvZFN0cmluZy5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgIGNoZWNrczogW10sXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyxcbiAgICAgIGNvZXJjZTogKF9hID0gcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgZnVuY3Rpb24gZmxvYXRTYWZlUmVtYWluZGVyKHZhbCwgc3RlcCkge1xuICAgIGNvbnN0IHZhbERlY0NvdW50ID0gKHZhbC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3Qgc3RlcERlY0NvdW50ID0gKHN0ZXAudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGNvbnN0IGRlY0NvdW50ID0gdmFsRGVjQ291bnQgPiBzdGVwRGVjQ291bnQgPyB2YWxEZWNDb3VudCA6IHN0ZXBEZWNDb3VudDtcbiAgICBjb25zdCB2YWxJbnQgPSBwYXJzZUludCh2YWwudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIGNvbnN0IHN0ZXBJbnQgPSBwYXJzZUludChzdGVwLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICByZXR1cm4gdmFsSW50ICUgc3RlcEludCAvIE1hdGgucG93KDEwLCBkZWNDb3VudCk7XG4gIH1cbiAgY2xhc3MgWm9kTnVtYmVyIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgdGhpcy5taW4gPSB0aGlzLmd0ZTtcbiAgICAgIHRoaXMubWF4ID0gdGhpcy5sdGU7XG4gICAgICB0aGlzLnN0ZXAgPSB0aGlzLm11bHRpcGxlT2Y7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgaW5wdXQuZGF0YSA9IE51bWJlcihpbnB1dC5kYXRhKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bWJlcikge1xuICAgICAgICBjb25zdCBjdHgyID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgyLCB7XG4gICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5udW1iZXIsXG4gICAgICAgICAgcmVjZWl2ZWQ6IGN0eDIucGFyc2VkVHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICB9XG4gICAgICBsZXQgY3R4ID0gdm9pZCAwO1xuICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwiaW50XCIpIHtcbiAgICAgICAgICBpZiAoIXV0aWwuaXNJbnRlZ2VyKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICBleHBlY3RlZDogXCJpbnRlZ2VyXCIsXG4gICAgICAgICAgICAgIHJlY2VpdmVkOiBcImZsb2F0XCIsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPCBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPD0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPiBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPj0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgIGlmIChmbG9hdFNhZmVSZW1haW5kZXIoaW5wdXQuZGF0YSwgY2hlY2sudmFsdWUpICE9PSAwKSB7XG4gICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mLFxuICAgICAgICAgICAgICBtdWx0aXBsZU9mOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJmaW5pdGVcIikge1xuICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X2Zpbml0ZSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBndGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBndCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBzZXRMaW1pdChraW5kLCB2YWx1ZSwgaW5jbHVzaXZlLCBtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBpbmNsdXNpdmUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja11cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpbnQobWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAga2luZDogXCJpbnRcIixcbiAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgICB9KTtcbiAgICB9XG4gICAgcG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgfSk7XG4gICAgfVxuICAgIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBub25wb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBub25uZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgfSk7XG4gICAgfVxuICAgIGZpbml0ZShtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICBraW5kOiBcImZpbml0ZVwiLFxuICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBzYWZlKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLFxuICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgIH0pLl9hZGRDaGVjayh7XG4gICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxuICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluVmFsdWUoKSB7XG4gICAgICBsZXQgbWluMiA9IG51bGw7XG4gICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICBpZiAobWluMiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbjIpXG4gICAgICAgICAgICBtaW4yID0gY2gudmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBtaW4yO1xuICAgIH1cbiAgICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgICBsZXQgbWF4MiA9IG51bGw7XG4gICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICBpZiAobWF4MiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heDIpXG4gICAgICAgICAgICBtYXgyID0gY2gudmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXgyO1xuICAgIH1cbiAgICBnZXQgaXNJbnQoKSB7XG4gICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImludFwiIHx8IGNoLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiICYmIHV0aWwuaXNJbnRlZ2VyKGNoLnZhbHVlKSk7XG4gICAgfVxuICAgIGdldCBpc0Zpbml0ZSgpIHtcbiAgICAgIGxldCBtYXgyID0gbnVsbCwgbWluMiA9IG51bGw7XG4gICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwiZmluaXRlXCIgfHwgY2gua2luZCA9PT0gXCJpbnRcIiB8fCBjaC5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICBpZiAobWluMiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbjIpXG4gICAgICAgICAgICBtaW4yID0gY2gudmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgIGlmIChtYXgyID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4MilcbiAgICAgICAgICAgIG1heDIgPSBjaC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShtaW4yKSAmJiBOdW1iZXIuaXNGaW5pdGUobWF4Mik7XG4gICAgfVxuICB9XG4gIFpvZE51bWJlci5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgY2hlY2tzOiBbXSxcbiAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVtYmVyLFxuICAgICAgY29lcmNlOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgfHwgZmFsc2UsXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgY2xhc3MgWm9kQmlnSW50IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgdGhpcy5taW4gPSB0aGlzLmd0ZTtcbiAgICAgIHRoaXMubWF4ID0gdGhpcy5sdGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpbnB1dC5kYXRhID0gQmlnSW50KGlucHV0LmRhdGEpO1xuICAgICAgICB9IGNhdGNoIChfYSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5iaWdpbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEludmFsaWRJbnB1dChpbnB1dCk7XG4gICAgICB9XG4gICAgICBsZXQgY3R4ID0gdm9pZCAwO1xuICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPCBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPD0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmRhdGEgJSBjaGVjay52YWx1ZSAhPT0gQmlnSW50KDApKSB7XG4gICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mLFxuICAgICAgICAgICAgICBtdWx0aXBsZU9mOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBfZ2V0SW52YWxpZElucHV0KGlucHV0KSB7XG4gICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYmlnaW50LFxuICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGd0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIHNldExpbWl0KGtpbmQsIHZhbHVlLCBpbmNsdXNpdmUsIG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGluY2x1c2l2ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXVxuICAgICAgfSk7XG4gICAgfVxuICAgIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgfSk7XG4gICAgfVxuICAgIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgfSk7XG4gICAgfVxuICAgIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgICB9KTtcbiAgICB9XG4gICAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5WYWx1ZSgpIHtcbiAgICAgIGxldCBtaW4yID0gbnVsbDtcbiAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgIGlmIChtaW4yID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluMilcbiAgICAgICAgICAgIG1pbjIgPSBjaC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1pbjI7XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgIGxldCBtYXgyID0gbnVsbDtcbiAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgIGlmIChtYXgyID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4MilcbiAgICAgICAgICAgIG1heDIgPSBjaC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1heDI7XG4gICAgfVxuICB9XG4gIFpvZEJpZ0ludC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgIGNoZWNrczogW10sXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludCxcbiAgICAgIGNvZXJjZTogKF9hID0gcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgY2xhc3MgWm9kQm9vbGVhbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgaW5wdXQuZGF0YSA9IEJvb2xlYW4oaW5wdXQuZGF0YSk7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5ib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5ib29sZWFuLFxuICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxuICB9XG4gIFpvZEJvb2xlYW4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQm9vbGVhbih7XG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJvb2xlYW4sXG4gICAgICBjb2VyY2U6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSB8fCBmYWxzZSxcbiAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xuICB9O1xuICBjbGFzcyBab2REYXRlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICBpbnB1dC5kYXRhID0gbmV3IERhdGUoaW5wdXQuZGF0YSk7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5kYXRlKSB7XG4gICAgICAgIGNvbnN0IGN0eDIgPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eDIsIHtcbiAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmRhdGUsXG4gICAgICAgICAgcmVjZWl2ZWQ6IGN0eDIucGFyc2VkVHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICB9XG4gICAgICBpZiAoaXNOYU4oaW5wdXQuZGF0YS5nZXRUaW1lKCkpKSB7XG4gICAgICAgIGNvbnN0IGN0eDIgPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eDIsIHtcbiAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9kYXRlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgICAgbGV0IGN0eCA9IHZvaWQgMDtcbiAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA8IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmRhdGEuZ2V0VGltZSgpID4gY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgIHZhbHVlOiBuZXcgRGF0ZShpbnB1dC5kYXRhLmdldFRpbWUoKSlcbiAgICAgIH07XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgcmV0dXJuIG5ldyBab2REYXRlKHtcbiAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja11cbiAgICAgIH0pO1xuICAgIH1cbiAgICBtaW4obWluRGF0ZSwgbWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgdmFsdWU6IG1pbkRhdGUuZ2V0VGltZSgpLFxuICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4RGF0ZSwgbWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgdmFsdWU6IG1heERhdGUuZ2V0VGltZSgpLFxuICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluRGF0ZSgpIHtcbiAgICAgIGxldCBtaW4yID0gbnVsbDtcbiAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgIGlmIChtaW4yID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluMilcbiAgICAgICAgICAgIG1pbjIgPSBjaC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1pbjIgIT0gbnVsbCA/IG5ldyBEYXRlKG1pbjIpIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0IG1heERhdGUoKSB7XG4gICAgICBsZXQgbWF4MiA9IG51bGw7XG4gICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICBpZiAobWF4MiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heDIpXG4gICAgICAgICAgICBtYXgyID0gY2gudmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXgyICE9IG51bGwgPyBuZXcgRGF0ZShtYXgyKSA6IG51bGw7XG4gICAgfVxuICB9XG4gIFpvZERhdGUuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRGF0ZSh7XG4gICAgICBjaGVja3M6IFtdLFxuICAgICAgY29lcmNlOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgfHwgZmFsc2UsXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERhdGUsXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgY2xhc3MgWm9kU3ltYm9sIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zeW1ib2wpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnN5bWJvbCxcbiAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgfVxuICBab2RTeW1ib2wuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kU3ltYm9sKHtcbiAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3ltYm9sLFxuICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG4gIH07XG4gIGNsYXNzIFpvZFVuZGVmaW5lZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS51bmRlZmluZWQsXG4gICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG4gIH1cbiAgWm9kVW5kZWZpbmVkLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVuZGVmaW5lZCh7XG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuZGVmaW5lZCxcbiAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xuICB9O1xuICBjbGFzcyBab2ROdWxsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5udWxsKSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5udWxsLFxuICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxuICB9XG4gIFpvZE51bGwuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTnVsbCh7XG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGwsXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgY2xhc3MgWm9kQW55IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgdGhpcy5fYW55ID0gdHJ1ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxuICB9XG4gIFpvZEFueS5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RBbnkoe1xuICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnksXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgY2xhc3MgWm9kVW5rbm93biBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgIHRoaXMuX3Vua25vd24gPSB0cnVlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG4gIH1cbiAgWm9kVW5rbm93bi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RVbmtub3duKHtcbiAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5rbm93bixcbiAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xuICB9O1xuICBjbGFzcyBab2ROZXZlciBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm5ldmVyLFxuICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICB9XG4gIFpvZE5ldmVyLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE5ldmVyKHtcbiAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmV2ZXIsXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgY2xhc3MgWm9kVm9pZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS52b2lkLFxuICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxuICB9XG4gIFpvZFZvaWQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVm9pZCh7XG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFZvaWQsXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgY2xhc3MgWm9kQXJyYXkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgIGNvbnN0IHsgY3R4LCBzdGF0dXMgfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICBjb25zdCBkZWYgPSB0aGlzLl9kZWY7XG4gICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5hcnJheSxcbiAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgfVxuICAgICAgaWYgKGRlZi5leGFjdExlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCB0b29CaWcgPSBjdHguZGF0YS5sZW5ndGggPiBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY3R4LmRhdGEubGVuZ3RoIDwgZGVmLmV4YWN0TGVuZ3RoLnZhbHVlO1xuICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiB0b29CaWcgPyBab2RJc3N1ZUNvZGUudG9vX2JpZyA6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICBtaW5pbXVtOiB0b29TbWFsbCA/IGRlZi5leGFjdExlbmd0aC52YWx1ZSA6IHZvaWQgMCxcbiAgICAgICAgICAgIG1heGltdW06IHRvb0JpZyA/IGRlZi5leGFjdExlbmd0aC52YWx1ZSA6IHZvaWQgMCxcbiAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZGVmLmV4YWN0TGVuZ3RoLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGRlZi5taW5MZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5taW5MZW5ndGgudmFsdWUpIHtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluTGVuZ3RoLnZhbHVlLFxuICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1pbkxlbmd0aC5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChkZWYubWF4TGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPiBkZWYubWF4TGVuZ3RoLnZhbHVlKSB7XG4gICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgIG1heGltdW06IGRlZi5tYXhMZW5ndGgudmFsdWUsXG4gICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBkZWYubWF4TGVuZ3RoLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFsuLi5jdHguZGF0YV0ubWFwKChpdGVtLCBpMikgPT4ge1xuICAgICAgICAgIHJldHVybiBkZWYudHlwZS5fcGFyc2VBc3luYyhuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkyKSk7XG4gICAgICAgIH0pKS50aGVuKChyZXN1bHQyKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQyKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXN1bHQgPSBbLi4uY3R4LmRhdGFdLm1hcCgoaXRlbSwgaTIpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlZi50eXBlLl9wYXJzZVN5bmMobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpMikpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdCk7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbiAgICBtaW4obWluTGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICBtaW5MZW5ndGg6IHsgdmFsdWU6IG1pbkxlbmd0aCwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4TGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICBtYXhMZW5ndGg6IHsgdmFsdWU6IG1heExlbmd0aCwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBsZW5ndGgobGVuLCBtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICBleGFjdExlbmd0aDogeyB2YWx1ZTogbGVuLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLm1pbigxLCBtZXNzYWdlKTtcbiAgICB9XG4gIH1cbiAgWm9kQXJyYXkuY3JlYXRlID0gKHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICB0eXBlOiBzY2hlbWEsXG4gICAgICBtaW5MZW5ndGg6IG51bGwsXG4gICAgICBtYXhMZW5ndGg6IG51bGwsXG4gICAgICBleGFjdExlbmd0aDogbnVsbCxcbiAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQXJyYXksXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgZnVuY3Rpb24gZGVlcFBhcnRpYWxpZnkoc2NoZW1hKSB7XG4gICAgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9iamVjdCkge1xuICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYS5zaGFwZSkge1xuICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHNjaGVtYS5zaGFwZVtrZXldO1xuICAgICAgICBuZXdTaGFwZVtrZXldID0gWm9kT3B0aW9uYWwuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KGZpZWxkU2NoZW1hKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIC4uLnNjaGVtYS5fZGVmLFxuICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kQXJyYXkpIHtcbiAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgICAgdHlwZTogZGVlcFBhcnRpYWxpZnkoc2NoZW1hLmVsZW1lbnQpXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICByZXR1cm4gWm9kT3B0aW9uYWwuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS51bndyYXAoKSkpO1xuICAgIH0gZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kTnVsbGFibGUpIHtcbiAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfSBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RUdXBsZSkge1xuICAgICAgcmV0dXJuIFpvZFR1cGxlLmNyZWF0ZShzY2hlbWEuaXRlbXMubWFwKChpdGVtKSA9PiBkZWVwUGFydGlhbGlmeShpdGVtKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cbiAgfVxuICBjbGFzcyBab2RPYmplY3QgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICB0aGlzLl9jYWNoZWQgPSBudWxsO1xuICAgICAgdGhpcy5ub25zdHJpY3QgPSB0aGlzLnBhc3N0aHJvdWdoO1xuICAgICAgdGhpcy5hdWdtZW50ID0gdGhpcy5leHRlbmQ7XG4gICAgfVxuICAgIF9nZXRDYWNoZWQoKSB7XG4gICAgICBpZiAodGhpcy5fY2FjaGVkICE9PSBudWxsKVxuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkO1xuICAgICAgY29uc3Qgc2hhcGUgPSB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICAgIGNvbnN0IGtleXMgPSB1dGlsLm9iamVjdEtleXMoc2hhcGUpO1xuICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZCA9IHsgc2hhcGUsIGtleXMgfTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgY29uc3QgY3R4MiA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4Miwge1xuICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgIHJlY2VpdmVkOiBjdHgyLnBhcnNlZFR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgIGNvbnN0IHsgc2hhcGUsIGtleXM6IHNoYXBlS2V5cyB9ID0gdGhpcy5fZ2V0Q2FjaGVkKCk7XG4gICAgICBjb25zdCBleHRyYUtleXMgPSBbXTtcbiAgICAgIGlmICghKHRoaXMuX2RlZi5jYXRjaGFsbCBpbnN0YW5jZW9mIFpvZE5ldmVyICYmIHRoaXMuX2RlZi51bmtub3duS2V5cyA9PT0gXCJzdHJpcFwiKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgICAgIGlmICghc2hhcGVLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgIGV4dHJhS2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcGVLZXlzKSB7XG4gICAgICAgIGNvbnN0IGtleVZhbGlkYXRvciA9IHNoYXBlW2tleV07XG4gICAgICAgIGNvbnN0IHZhbHVlID0gY3R4LmRhdGFba2V5XTtcbiAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgdmFsdWU6IGtleVZhbGlkYXRvci5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGFcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fZGVmLmNhdGNoYWxsIGluc3RhbmNlb2YgWm9kTmV2ZXIpIHtcbiAgICAgICAgY29uc3QgdW5rbm93bktleXMgPSB0aGlzLl9kZWYudW5rbm93bktleXM7XG4gICAgICAgIGlmICh1bmtub3duS2V5cyA9PT0gXCJwYXNzdGhyb3VnaFwiKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZXh0cmFLZXlzKSB7XG4gICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgIHZhbHVlOiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogY3R4LmRhdGFba2V5XSB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodW5rbm93bktleXMgPT09IFwic3RyaWN0XCIpIHtcbiAgICAgICAgICBpZiAoZXh0cmFLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudW5yZWNvZ25pemVkX2tleXMsXG4gICAgICAgICAgICAgIGtleXM6IGV4dHJhS2V5c1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodW5rbm93bktleXMgPT09IFwic3RyaXBcIikgO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludGVybmFsIFpvZE9iamVjdCBlcnJvcjogaW52YWxpZCB1bmtub3duS2V5cyB2YWx1ZS5gKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY2F0Y2hhbGwgPSB0aGlzLl9kZWYuY2F0Y2hhbGw7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGV4dHJhS2V5cykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4LmRhdGFba2V5XTtcbiAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgdmFsdWU6IGNhdGNoYWxsLl9wYXJzZShcbiAgICAgICAgICAgICAgbmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KVxuICAgICAgICAgICAgICAvLywgY3R4LmNoaWxkKGtleSksIHZhbHVlLCBnZXRQYXJzZWRUeXBlKHZhbHVlKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCBzeW5jUGFpcnMgPSBbXTtcbiAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgc3luY1BhaXJzLnB1c2goe1xuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICBhbHdheXNTZXQ6IHBhaXIuYWx3YXlzU2V0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHN5bmNQYWlycztcbiAgICAgICAgfSkudGhlbigoc3luY1BhaXJzKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHN5bmNQYWlycyk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHNoYXBlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zaGFwZSgpO1xuICAgIH1cbiAgICBzdHJpY3QobWVzc2FnZSkge1xuICAgICAgZXJyb3JVdGlsLmVyclRvT2JqO1xuICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmljdFwiLFxuICAgICAgICAuLi5tZXNzYWdlICE9PSB2b2lkIDAgPyB7XG4gICAgICAgICAgZXJyb3JNYXA6IChpc3N1ZSwgY3R4KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0RXJyb3IgPSAoX2MgPSAoX2IgPSAoX2EgPSB0aGlzLl9kZWYpLmVycm9yTWFwKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgaXNzdWUsIGN0eCkubWVzc2FnZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogY3R4LmRlZmF1bHRFcnJvcjtcbiAgICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcInVucmVjb2duaXplZF9rZXlzXCIpXG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogKF9kID0gZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLm1lc3NhZ2UpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGRlZmF1bHRFcnJvclxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogZGVmYXVsdEVycm9yXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSA6IHt9XG4gICAgICB9KTtcbiAgICB9XG4gICAgc3RyaXAoKSB7XG4gICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIHBhc3N0aHJvdWdoKCkge1xuICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgIHVua25vd25LZXlzOiBcInBhc3N0aHJvdWdoXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBjb25zdCBBdWdtZW50RmFjdG9yeSA9XG4gICAgLy8gICA8RGVmIGV4dGVuZHMgWm9kT2JqZWN0RGVmPihkZWY6IERlZikgPT5cbiAgICAvLyAgIDxBdWdtZW50YXRpb24gZXh0ZW5kcyBab2RSYXdTaGFwZT4oXG4gICAgLy8gICAgIGF1Z21lbnRhdGlvbjogQXVnbWVudGF0aW9uXG4gICAgLy8gICApOiBab2RPYmplY3Q8XG4gICAgLy8gICAgIGV4dGVuZFNoYXBlPFJldHVyblR5cGU8RGVmW1wic2hhcGVcIl0+LCBBdWdtZW50YXRpb24+LFxuICAgIC8vICAgICBEZWZbXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgICAgRGVmW1wiY2F0Y2hhbGxcIl1cbiAgICAvLyAgID4gPT4ge1xuICAgIC8vICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgICAgLi4uZGVmLFxuICAgIC8vICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgIC8vICAgICAgICAgLi4uZGVmLnNoYXBlKCksXG4gICAgLy8gICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgLy8gICAgICAgfSksXG4gICAgLy8gICAgIH0pIGFzIGFueTtcbiAgICAvLyAgIH07XG4gICAgZXh0ZW5kKGF1Z21lbnRhdGlvbikge1xuICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgIC4uLmF1Z21lbnRhdGlvblxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByaW9yIHRvIHpvZEAxLjAuMTIgdGhlcmUgd2FzIGEgYnVnIGluIHRoZVxuICAgICAqIGluZmVycmVkIHR5cGUgb2YgbWVyZ2VkIG9iamVjdHMuIFBsZWFzZVxuICAgICAqIHVwZ3JhZGUgaWYgeW91IGFyZSBleHBlcmllbmNpbmcgaXNzdWVzLlxuICAgICAqL1xuICAgIG1lcmdlKG1lcmdpbmcpIHtcbiAgICAgIGNvbnN0IG1lcmdlZCA9IG5ldyBab2RPYmplY3Qoe1xuICAgICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAuLi5tZXJnaW5nLl9kZWYuc2hhcGUoKVxuICAgICAgICB9KSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3RcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICB9XG4gICAgLy8gbWVyZ2U8XG4gICAgLy8gICBJbmNvbWluZyBleHRlbmRzIEFueVpvZE9iamVjdCxcbiAgICAvLyAgIEF1Z21lbnRhdGlvbiBleHRlbmRzIEluY29taW5nW1wic2hhcGVcIl0sXG4gICAgLy8gICBOZXdPdXRwdXQgZXh0ZW5kcyB7XG4gICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIE91dHB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9vdXRwdXRcIl1cbiAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBPdXRwdXRcbiAgICAvLyAgICAgICA/IE91dHB1dFtrXVxuICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgLy8gICB9LFxuICAgIC8vICAgTmV3SW5wdXQgZXh0ZW5kcyB7XG4gICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIElucHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX2lucHV0XCJdXG4gICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgSW5wdXRcbiAgICAvLyAgICAgICA/IElucHV0W2tdXG4gICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAvLyAgIH1cbiAgICAvLyA+KFxuICAgIC8vICAgbWVyZ2luZzogSW5jb21pbmdcbiAgICAvLyApOiBab2RPYmplY3Q8XG4gICAgLy8gICBleHRlbmRTaGFwZTxULCBSZXR1cm5UeXBlPEluY29taW5nW1wiX2RlZlwiXVtcInNoYXBlXCJdPj4sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcImNhdGNoYWxsXCJdLFxuICAgIC8vICAgTmV3T3V0cHV0LFxuICAgIC8vICAgTmV3SW5wdXRcbiAgICAvLyA+IHtcbiAgICAvLyAgIGNvbnN0IG1lcmdlZDogYW55ID0gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gICAgLy8gICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gICAgLy8gICAgIHNoYXBlOiAoKSA9PlxuICAgIC8vICAgICAgIG9iamVjdFV0aWwubWVyZ2VTaGFwZXModGhpcy5fZGVmLnNoYXBlKCksIG1lcmdpbmcuX2RlZi5zaGFwZSgpKSxcbiAgICAvLyAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgLy8gICB9KSBhcyBhbnk7XG4gICAgLy8gICByZXR1cm4gbWVyZ2VkO1xuICAgIC8vIH1cbiAgICBzZXRLZXkoa2V5LCBzY2hlbWEpIHtcbiAgICAgIHJldHVybiB0aGlzLmF1Z21lbnQoeyBba2V5XTogc2NoZW1hIH0pO1xuICAgIH1cbiAgICAvLyBtZXJnZTxJbmNvbWluZyBleHRlbmRzIEFueVpvZE9iamVjdD4oXG4gICAgLy8gICBtZXJnaW5nOiBJbmNvbWluZ1xuICAgIC8vICk6IC8vWm9kT2JqZWN0PFQgJiBJbmNvbWluZ1tcIl9zaGFwZVwiXSwgVW5rbm93bktleXMsIENhdGNoYWxsPiA9IChtZXJnaW5nKSA9PiB7XG4gICAgLy8gWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXVxuICAgIC8vID4ge1xuICAgIC8vICAgLy8gY29uc3QgbWVyZ2VkU2hhcGUgPSBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKFxuICAgIC8vICAgLy8gICB0aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAvLyAgIC8vICAgbWVyZ2luZy5fZGVmLnNoYXBlKClcbiAgICAvLyAgIC8vICk7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgY2F0Y2hhbGwoaW5kZXgyKSB7XG4gICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgY2F0Y2hhbGw6IGluZGV4MlxuICAgICAgfSk7XG4gICAgfVxuICAgIHBpY2sobWFzaykge1xuICAgICAgY29uc3Qgc2hhcGUgPSB7fTtcbiAgICAgIHV0aWwub2JqZWN0S2V5cyhtYXNrKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKG1hc2tba2V5XSAmJiB0aGlzLnNoYXBlW2tleV0pIHtcbiAgICAgICAgICBzaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGVcbiAgICAgIH0pO1xuICAgIH1cbiAgICBvbWl0KG1hc2spIHtcbiAgICAgIGNvbnN0IHNoYXBlID0ge307XG4gICAgICB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGlmICghbWFza1trZXldKSB7XG4gICAgICAgICAgc2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi9cbiAgICBkZWVwUGFydGlhbCgpIHtcbiAgICAgIHJldHVybiBkZWVwUGFydGlhbGlmeSh0aGlzKTtcbiAgICB9XG4gICAgcGFydGlhbChtYXNrKSB7XG4gICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgaWYgKG1hc2sgJiYgIW1hc2tba2V5XSkge1xuICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBmaWVsZFNjaGVtYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWEub3B0aW9uYWwoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmVxdWlyZWQobWFzaykge1xuICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgIHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKG1hc2sgJiYgIW1hc2tba2V5XSkge1xuICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgbGV0IG5ld0ZpZWxkID0gZmllbGRTY2hlbWE7XG4gICAgICAgICAgd2hpbGUgKG5ld0ZpZWxkIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgICAgIG5ld0ZpZWxkID0gbmV3RmllbGQuX2RlZi5pbm5lclR5cGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBuZXdGaWVsZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlXG4gICAgICB9KTtcbiAgICB9XG4gICAga2V5b2YoKSB7XG4gICAgICByZXR1cm4gY3JlYXRlWm9kRW51bSh1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpO1xuICAgIH1cbiAgfVxuICBab2RPYmplY3QuY3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgWm9kT2JqZWN0LnN0cmljdENyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgdW5rbm93bktleXM6IFwic3RyaWN0XCIsXG4gICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xuICB9O1xuICBab2RPYmplY3QubGF6eWNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgc2hhcGUsXG4gICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgY2xhc3MgWm9kVW5pb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuX2RlZi5vcHRpb25zO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlUmVzdWx0cyhyZXN1bHRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaCguLi5yZXN1bHQuY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gbmV3IFpvZEVycm9yKHJlc3VsdC5jdHguY29tbW9uLmlzc3VlcykpO1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbixcbiAgICAgICAgICB1bmlvbkVycm9yc1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICB9XG4gICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwob3B0aW9ucy5tYXAoYXN5bmMgKG9wdGlvbikgPT4ge1xuICAgICAgICAgIGNvbnN0IGNoaWxkQ3R4ID0ge1xuICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXJlbnQ6IG51bGxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN1bHQ6IGF3YWl0IG9wdGlvbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgcGFyZW50OiBjaGlsZEN0eFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBjdHg6IGNoaWxkQ3R4XG4gICAgICAgICAgfTtcbiAgICAgICAgfSkpLnRoZW4oaGFuZGxlUmVzdWx0cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZGlydHkgPSB2b2lkIDA7XG4gICAgICAgIGNvbnN0IGlzc3VlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBvcHRpb25zKSB7XG4gICAgICAgICAgY29uc3QgY2hpbGRDdHggPSB7XG4gICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgaXNzdWVzOiBbXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gb3B0aW9uLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY2hpbGRDdHhcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiICYmICFkaXJ0eSkge1xuICAgICAgICAgICAgZGlydHkgPSB7IHJlc3VsdCwgY3R4OiBjaGlsZEN0eCB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY2hpbGRDdHguY29tbW9uLmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlzc3Vlcy5wdXNoKGNoaWxkQ3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlydHkpIHtcbiAgICAgICAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKC4uLmRpcnR5LmN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICByZXR1cm4gZGlydHkucmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gaXNzdWVzLm1hcCgoaXNzdWVzMikgPT4gbmV3IFpvZEVycm9yKGlzc3VlczIpKTtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb24sXG4gICAgICAgICAgdW5pb25FcnJvcnNcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgfVxuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9ucztcbiAgICB9XG4gIH1cbiAgWm9kVW5pb24uY3JlYXRlID0gKHR5cGVzLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVuaW9uKHtcbiAgICAgIG9wdGlvbnM6IHR5cGVzLFxuICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmlvbixcbiAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xuICB9O1xuICBjb25zdCBnZXREaXNjcmltaW5hdG9yID0gKHR5cGUpID0+IHtcbiAgICBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZExhenkpIHtcbiAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2NoZW1hKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RFZmZlY3RzKSB7XG4gICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLmlubmVyVHlwZSgpKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMaXRlcmFsKSB7XG4gICAgICByZXR1cm4gW3R5cGUudmFsdWVdO1xuICAgIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVudW0pIHtcbiAgICAgIHJldHVybiB0eXBlLm9wdGlvbnM7XG4gICAgfSBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTmF0aXZlRW51bSkge1xuICAgICAgcmV0dXJuIHV0aWwub2JqZWN0VmFsdWVzKHR5cGUuZW51bSk7XG4gICAgfSBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRGVmYXVsdCkge1xuICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5fZGVmLmlubmVyVHlwZSk7XG4gICAgfSBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kVW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gW3ZvaWQgMF07XG4gICAgfSBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTnVsbCkge1xuICAgICAgcmV0dXJuIFtudWxsXTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgcmV0dXJuIFt2b2lkIDAsIC4uLmdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSldO1xuICAgIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE51bGxhYmxlKSB7XG4gICAgICByZXR1cm4gW251bGwsIC4uLmdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSldO1xuICAgIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEJyYW5kZWQpIHtcbiAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpO1xuICAgIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZFJlYWRvbmx5KSB7XG4gICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RDYXRjaCkge1xuICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5fZGVmLmlubmVyVHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH07XG4gIGNsYXNzIFpvZERpc2NyaW1pbmF0ZWRVbmlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICB9XG4gICAgICBjb25zdCBkaXNjcmltaW5hdG9yID0gdGhpcy5kaXNjcmltaW5hdG9yO1xuICAgICAgY29uc3QgZGlzY3JpbWluYXRvclZhbHVlID0gY3R4LmRhdGFbZGlzY3JpbWluYXRvcl07XG4gICAgICBjb25zdCBvcHRpb24gPSB0aGlzLm9wdGlvbnNNYXAuZ2V0KGRpc2NyaW1pbmF0b3JWYWx1ZSk7XG4gICAgICBpZiAoIW9wdGlvbikge1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yLFxuICAgICAgICAgIG9wdGlvbnM6IEFycmF5LmZyb20odGhpcy5vcHRpb25zTWFwLmtleXMoKSksXG4gICAgICAgICAgcGF0aDogW2Rpc2NyaW1pbmF0b3JdXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgIH1cbiAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgIHJldHVybiBvcHRpb24uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgIHBhcmVudDogY3R4XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGRpc2NyaW1pbmF0b3IoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGVmLmRpc2NyaW1pbmF0b3I7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zO1xuICAgIH1cbiAgICBnZXQgb3B0aW9uc01hcCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9uc01hcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBkaXNjcmltaW5hdGVkIHVuaW9uIHNjaGVtYS4gSXRzIGJlaGF2aW91ciBpcyB2ZXJ5IHNpbWlsYXIgdG8gdGhhdCBvZiB0aGUgbm9ybWFsIHoudW5pb24oKSBjb25zdHJ1Y3Rvci5cbiAgICAgKiBIb3dldmVyLCBpdCBvbmx5IGFsbG93cyBhIHVuaW9uIG9mIG9iamVjdHMsIGFsbCBvZiB3aGljaCBuZWVkIHRvIHNoYXJlIGEgZGlzY3JpbWluYXRvciBwcm9wZXJ0eS4gVGhpcyBwcm9wZXJ0eSBtdXN0XG4gICAgICogaGF2ZSBhIGRpZmZlcmVudCB2YWx1ZSBmb3IgZWFjaCBvYmplY3QgaW4gdGhlIHVuaW9uLlxuICAgICAqIEBwYXJhbSBkaXNjcmltaW5hdG9yIHRoZSBuYW1lIG9mIHRoZSBkaXNjcmltaW5hdG9yIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHR5cGVzIGFuIGFycmF5IG9mIG9iamVjdCBzY2hlbWFzXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoZGlzY3JpbWluYXRvciwgb3B0aW9ucywgcGFyYW1zKSB7XG4gICAgICBjb25zdCBvcHRpb25zTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3JWYWx1ZXMgPSBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2hhcGVbZGlzY3JpbWluYXRvcl0pO1xuICAgICAgICBpZiAoIWRpc2NyaW1pbmF0b3JWYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBIGRpc2NyaW1pbmF0b3IgdmFsdWUgZm9yIGtleSBcXGAke2Rpc2NyaW1pbmF0b3J9XFxgIGNvdWxkIG5vdCBiZSBleHRyYWN0ZWQgZnJvbSBhbGwgc2NoZW1hIG9wdGlvbnNgKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGRpc2NyaW1pbmF0b3JWYWx1ZXMpIHtcbiAgICAgICAgICBpZiAob3B0aW9uc01hcC5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERpc2NyaW1pbmF0b3IgcHJvcGVydHkgJHtTdHJpbmcoZGlzY3JpbWluYXRvcil9IGhhcyBkdXBsaWNhdGUgdmFsdWUgJHtTdHJpbmcodmFsdWUpfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcHRpb25zTWFwLnNldCh2YWx1ZSwgdHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgWm9kRGlzY3JpbWluYXRlZFVuaW9uKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REaXNjcmltaW5hdGVkVW5pb24sXG4gICAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIG9wdGlvbnNNYXAsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG1lcmdlVmFsdWVzKGEyLCBiMikge1xuICAgIGNvbnN0IGFUeXBlID0gZ2V0UGFyc2VkVHlwZShhMik7XG4gICAgY29uc3QgYlR5cGUgPSBnZXRQYXJzZWRUeXBlKGIyKTtcbiAgICBpZiAoYTIgPT09IGIyKSB7XG4gICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYTIgfTtcbiAgICB9IGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLm9iamVjdCAmJiBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgIGNvbnN0IGJLZXlzID0gdXRpbC5vYmplY3RLZXlzKGIyKTtcbiAgICAgIGNvbnN0IHNoYXJlZEtleXMgPSB1dGlsLm9iamVjdEtleXMoYTIpLmZpbHRlcigoa2V5KSA9PiBiS2V5cy5pbmRleE9mKGtleSkgIT09IC0xKTtcbiAgICAgIGNvbnN0IG5ld09iaiA9IHsgLi4uYTIsIC4uLmIyIH07XG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBzaGFyZWRLZXlzKSB7XG4gICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoYTJba2V5XSwgYjJba2V5XSk7XG4gICAgICAgIGlmICghc2hhcmVkVmFsdWUudmFsaWQpIHtcbiAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBuZXdPYmpba2V5XSA9IHNoYXJlZFZhbHVlLmRhdGE7XG4gICAgICB9XG4gICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogbmV3T2JqIH07XG4gICAgfSBlbHNlIGlmIChhVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5hcnJheSAmJiBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgaWYgKGEyLmxlbmd0aCAhPT0gYjIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgfVxuICAgICAgY29uc3QgbmV3QXJyYXkgPSBbXTtcbiAgICAgIGZvciAobGV0IGluZGV4MiA9IDA7IGluZGV4MiA8IGEyLmxlbmd0aDsgaW5kZXgyKyspIHtcbiAgICAgICAgY29uc3QgaXRlbUEgPSBhMltpbmRleDJdO1xuICAgICAgICBjb25zdCBpdGVtQiA9IGIyW2luZGV4Ml07XG4gICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoaXRlbUEsIGl0ZW1CKTtcbiAgICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIG5ld0FycmF5LnB1c2goc2hhcmVkVmFsdWUuZGF0YSk7XG4gICAgICB9XG4gICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogbmV3QXJyYXkgfTtcbiAgICB9IGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLmRhdGUgJiYgYlR5cGUgPT09IFpvZFBhcnNlZFR5cGUuZGF0ZSAmJiArYTIgPT09ICtiMikge1xuICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEyIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgIH1cbiAgfVxuICBjbGFzcyBab2RJbnRlcnNlY3Rpb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICBjb25zdCBoYW5kbGVQYXJzZWQgPSAocGFyc2VkTGVmdCwgcGFyc2VkUmlnaHQpID0+IHtcbiAgICAgICAgaWYgKGlzQWJvcnRlZChwYXJzZWRMZWZ0KSB8fCBpc0Fib3J0ZWQocGFyc2VkUmlnaHQpKSB7XG4gICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVyZ2VkID0gbWVyZ2VWYWx1ZXMocGFyc2VkTGVmdC52YWx1ZSwgcGFyc2VkUmlnaHQudmFsdWUpO1xuICAgICAgICBpZiAoIW1lcmdlZC52YWxpZCkge1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRGlydHkocGFyc2VkTGVmdCkgfHwgaXNEaXJ0eShwYXJzZWRSaWdodCkpIHtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IG1lcmdlZC5kYXRhIH07XG4gICAgICB9O1xuICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICB0aGlzLl9kZWYubGVmdC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICB9KSxcbiAgICAgICAgICB0aGlzLl9kZWYucmlnaHQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY3R4XG4gICAgICAgICAgfSlcbiAgICAgICAgXSkudGhlbigoW2xlZnQsIHJpZ2h0XSkgPT4gaGFuZGxlUGFyc2VkKGxlZnQsIHJpZ2h0KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaGFuZGxlUGFyc2VkKHRoaXMuX2RlZi5sZWZ0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgIHBhcmVudDogY3R4XG4gICAgICAgIH0pLCB0aGlzLl9kZWYucmlnaHQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBab2RJbnRlcnNlY3Rpb24uY3JlYXRlID0gKGxlZnQsIHJpZ2h0LCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEludGVyc2VjdGlvbih7XG4gICAgICBsZWZ0LFxuICAgICAgcmlnaHQsXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEludGVyc2VjdGlvbixcbiAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xuICB9O1xuICBjbGFzcyBab2RUdXBsZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmFycmF5LFxuICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICB9XG4gICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoIDwgdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgIG1pbmltdW06IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICB0eXBlOiBcImFycmF5XCJcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzdCA9IHRoaXMuX2RlZi5yZXN0O1xuICAgICAgaWYgKCFyZXN0ICYmIGN0eC5kYXRhLmxlbmd0aCA+IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgbWF4aW11bTogdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIlxuICAgICAgICB9KTtcbiAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICB9XG4gICAgICBjb25zdCBpdGVtcyA9IFsuLi5jdHguZGF0YV0ubWFwKChpdGVtLCBpdGVtSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3Qgc2NoZW1hID0gdGhpcy5fZGVmLml0ZW1zW2l0ZW1JbmRleF0gfHwgdGhpcy5fZGVmLnJlc3Q7XG4gICAgICAgIGlmICghc2NoZW1hKVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gc2NoZW1hLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGl0ZW1JbmRleCkpO1xuICAgICAgfSkuZmlsdGVyKCh4MikgPT4gISF4Mik7XG4gICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoaXRlbXMpLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdHMpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgaXRlbXMpO1xuICAgICAgfVxuICAgIH1cbiAgICBnZXQgaXRlbXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGVmLml0ZW1zO1xuICAgIH1cbiAgICByZXN0KHJlc3QpIHtcbiAgICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgIHJlc3RcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBab2RUdXBsZS5jcmVhdGUgPSAoc2NoZW1hcywgcGFyYW1zKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYXMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IG9mIHNjaGVtYXMgdG8gei50dXBsZShbIC4uLiBdKVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBab2RUdXBsZSh7XG4gICAgICBpdGVtczogc2NoZW1hcyxcbiAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVHVwbGUsXG4gICAgICByZXN0OiBudWxsLFxuICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG4gIH07XG4gIGNsYXNzIFpvZFJlY29yZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBrZXlTY2hlbWEoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgfVxuICAgIGdldCB2YWx1ZVNjaGVtYSgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICB9XG4gICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgY29uc3Qga2V5VHlwZSA9IHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIGN0eC5kYXRhKSB7XG4gICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgIGtleToga2V5VHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGtleSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBjdHguZGF0YVtrZXldLCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGFcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RBc3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICB9XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoZmlyc3QsIHNlY29uZCwgdGhpcmQpIHtcbiAgICAgIGlmIChzZWNvbmQgaW5zdGFuY2VvZiBab2RUeXBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICBrZXlUeXBlOiBmaXJzdCxcbiAgICAgICAgICB2YWx1ZVR5cGU6IHNlY29uZCxcbiAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXJkKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAga2V5VHlwZTogWm9kU3RyaW5nLmNyZWF0ZSgpLFxuICAgICAgICB2YWx1ZVR5cGU6IGZpcnN0LFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhzZWNvbmQpXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgY2xhc3MgWm9kTWFwIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlU2NoZW1hKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5tYXApIHtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5tYXAsXG4gICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGtleVR5cGUgPSB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICBjb25zdCBwYWlycyA9IFsuLi5jdHguZGF0YS5lbnRyaWVzKCldLm1hcCgoW2tleSwgdmFsdWVdLCBpbmRleDIpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBbaW5kZXgyLCBcImtleVwiXSkpLFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIFtpbmRleDIsIFwidmFsdWVcIl0pKVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICBjb25zdCBmaW5hbE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsTWFwIH07XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZmluYWxNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBwYWlyLmtleTtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhaXIudmFsdWU7XG4gICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxNYXAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgWm9kTWFwLmNyZWF0ZSA9IChrZXlUeXBlLCB2YWx1ZVR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTWFwKHtcbiAgICAgIHZhbHVlVHlwZSxcbiAgICAgIGtleVR5cGUsXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE1hcCxcbiAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xuICB9O1xuICBjbGFzcyBab2RTZXQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc2V0KSB7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuc2V0LFxuICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICB9XG4gICAgICBjb25zdCBkZWYgPSB0aGlzLl9kZWY7XG4gICAgICBpZiAoZGVmLm1pblNpemUgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGN0eC5kYXRhLnNpemUgPCBkZWYubWluU2l6ZS52YWx1ZSkge1xuICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgIG1pbmltdW06IGRlZi5taW5TaXplLnZhbHVlLFxuICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5taW5TaXplLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGRlZi5tYXhTaXplICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChjdHguZGF0YS5zaXplID4gZGVmLm1heFNpemUudmFsdWUpIHtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heFNpemUudmFsdWUsXG4gICAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1heFNpemUubWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgZnVuY3Rpb24gZmluYWxpemVTZXQoZWxlbWVudHMyKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFNldCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50czIpIHtcbiAgICAgICAgICBpZiAoZWxlbWVudC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgaWYgKGVsZW1lbnQuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICBwYXJzZWRTZXQuYWRkKGVsZW1lbnQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcGFyc2VkU2V0IH07XG4gICAgICB9XG4gICAgICBjb25zdCBlbGVtZW50cyA9IFsuLi5jdHguZGF0YS52YWx1ZXMoKV0ubWFwKChpdGVtLCBpMikgPT4gdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkyKSkpO1xuICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGVsZW1lbnRzKS50aGVuKChlbGVtZW50czIpID0+IGZpbmFsaXplU2V0KGVsZW1lbnRzMikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZpbmFsaXplU2V0KGVsZW1lbnRzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbWluKG1pblNpemUsIG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICBtaW5TaXplOiB7IHZhbHVlOiBtaW5TaXplLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhTaXplLCBtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgbWF4U2l6ZTogeyB2YWx1ZTogbWF4U2l6ZSwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBzaXplKHNpemUyLCBtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5taW4oc2l6ZTIsIG1lc3NhZ2UpLm1heChzaXplMiwgbWVzc2FnZSk7XG4gICAgfVxuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLm1pbigxLCBtZXNzYWdlKTtcbiAgICB9XG4gIH1cbiAgWm9kU2V0LmNyZWF0ZSA9ICh2YWx1ZVR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgIHZhbHVlVHlwZSxcbiAgICAgIG1pblNpemU6IG51bGwsXG4gICAgICBtYXhTaXplOiBudWxsLFxuICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTZXQsXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgY2xhc3MgWm9kRnVuY3Rpb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICB0aGlzLnZhbGlkYXRlID0gdGhpcy5pbXBsZW1lbnQ7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuZnVuY3Rpb24pIHtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5mdW5jdGlvbixcbiAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gbWFrZUFyZ3NJc3N1ZShhcmdzLCBlcnJvcjIpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VJc3N1ZSh7XG4gICAgICAgICAgZGF0YTogYXJncyxcbiAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICBlcnJvck1hcHM6IFtcbiAgICAgICAgICAgIGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLFxuICAgICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLFxuICAgICAgICAgICAgZ2V0RXJyb3JNYXAoKSxcbiAgICAgICAgICAgIGVycm9yTWFwXG4gICAgICAgICAgXS5maWx0ZXIoKHgyKSA9PiAhIXgyKSxcbiAgICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2FyZ3VtZW50cyxcbiAgICAgICAgICAgIGFyZ3VtZW50c0Vycm9yOiBlcnJvcjJcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gbWFrZVJldHVybnNJc3N1ZShyZXR1cm5zLCBlcnJvcjIpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VJc3N1ZSh7XG4gICAgICAgICAgZGF0YTogcmV0dXJucyxcbiAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICBlcnJvck1hcHM6IFtcbiAgICAgICAgICAgIGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLFxuICAgICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLFxuICAgICAgICAgICAgZ2V0RXJyb3JNYXAoKSxcbiAgICAgICAgICAgIGVycm9yTWFwXG4gICAgICAgICAgXS5maWx0ZXIoKHgyKSA9PiAhIXgyKSxcbiAgICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3JldHVybl90eXBlLFxuICAgICAgICAgICAgcmV0dXJuVHlwZUVycm9yOiBlcnJvcjJcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgcGFyYW1zID0geyBlcnJvck1hcDogY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAgfTtcbiAgICAgIGNvbnN0IGZuMiA9IGN0eC5kYXRhO1xuICAgICAgaWYgKHRoaXMuX2RlZi5yZXR1cm5zIGluc3RhbmNlb2YgWm9kUHJvbWlzZSkge1xuICAgICAgICBjb25zdCBtZSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBPSyhhc3luYyBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3IyID0gbmV3IFpvZEVycm9yKFtdKTtcbiAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gYXdhaXQgbWUuX2RlZi5hcmdzLnBhcnNlQXN5bmMoYXJncywgcGFyYW1zKS5jYXRjaCgoZTIpID0+IHtcbiAgICAgICAgICAgIGVycm9yMi5hZGRJc3N1ZShtYWtlQXJnc0lzc3VlKGFyZ3MsIGUyKSk7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjI7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUmVmbGVjdC5hcHBseShmbjIsIHRoaXMsIHBhcnNlZEFyZ3MpO1xuICAgICAgICAgIGNvbnN0IHBhcnNlZFJldHVybnMgPSBhd2FpdCBtZS5fZGVmLnJldHVybnMuX2RlZi50eXBlLnBhcnNlQXN5bmMocmVzdWx0LCBwYXJhbXMpLmNhdGNoKChlMikgPT4ge1xuICAgICAgICAgICAgZXJyb3IyLmFkZElzc3VlKG1ha2VSZXR1cm5zSXNzdWUocmVzdWx0LCBlMikpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3IyO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBwYXJzZWRSZXR1cm5zO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICAgICAgcmV0dXJuIE9LKGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gbWUuX2RlZi5hcmdzLnNhZmVQYXJzZShhcmdzLCBwYXJhbXMpO1xuICAgICAgICAgIGlmICghcGFyc2VkQXJncy5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgWm9kRXJyb3IoW21ha2VBcmdzSXNzdWUoYXJncywgcGFyc2VkQXJncy5lcnJvcildKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5hcHBseShmbjIsIHRoaXMsIHBhcnNlZEFyZ3MuZGF0YSk7XG4gICAgICAgICAgY29uc3QgcGFyc2VkUmV0dXJucyA9IG1lLl9kZWYucmV0dXJucy5zYWZlUGFyc2UocmVzdWx0LCBwYXJhbXMpO1xuICAgICAgICAgIGlmICghcGFyc2VkUmV0dXJucy5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgWm9kRXJyb3IoW21ha2VSZXR1cm5zSXNzdWUocmVzdWx0LCBwYXJzZWRSZXR1cm5zLmVycm9yKV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucy5kYXRhO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcGFyYW1ldGVycygpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWYuYXJncztcbiAgICB9XG4gICAgcmV0dXJuVHlwZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWYucmV0dXJucztcbiAgICB9XG4gICAgYXJncyguLi5pdGVtcykge1xuICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgYXJnczogWm9kVHVwbGUuY3JlYXRlKGl0ZW1zKS5yZXN0KFpvZFVua25vd24uY3JlYXRlKCkpXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJucyhyZXR1cm5UeXBlKSB7XG4gICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICByZXR1cm5zOiByZXR1cm5UeXBlXG4gICAgICB9KTtcbiAgICB9XG4gICAgaW1wbGVtZW50KGZ1bmMpIHtcbiAgICAgIGNvbnN0IHZhbGlkYXRlZEZ1bmMgPSB0aGlzLnBhcnNlKGZ1bmMpO1xuICAgICAgcmV0dXJuIHZhbGlkYXRlZEZ1bmM7XG4gICAgfVxuICAgIHN0cmljdEltcGxlbWVudChmdW5jKSB7XG4gICAgICBjb25zdCB2YWxpZGF0ZWRGdW5jID0gdGhpcy5wYXJzZShmdW5jKTtcbiAgICAgIHJldHVybiB2YWxpZGF0ZWRGdW5jO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGFyZ3MsIHJldHVybnMsIHBhcmFtcykge1xuICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgIGFyZ3M6IGFyZ3MgPyBhcmdzIDogWm9kVHVwbGUuY3JlYXRlKFtdKS5yZXN0KFpvZFVua25vd24uY3JlYXRlKCkpLFxuICAgICAgICByZXR1cm5zOiByZXR1cm5zIHx8IFpvZFVua25vd24uY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRnVuY3Rpb24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGNsYXNzIFpvZExhenkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQgc2NoZW1hKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZi5nZXR0ZXIoKTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgIGNvbnN0IGxhenlTY2hlbWEgPSB0aGlzLl9kZWYuZ2V0dGVyKCk7XG4gICAgICByZXR1cm4gbGF6eVNjaGVtYS5fcGFyc2UoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pO1xuICAgIH1cbiAgfVxuICBab2RMYXp5LmNyZWF0ZSA9IChnZXR0ZXIsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTGF6eSh7XG4gICAgICBnZXR0ZXIsXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExhenksXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgY2xhc3MgWm9kTGl0ZXJhbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgaWYgKGlucHV0LmRhdGEgIT09IHRoaXMuX2RlZi52YWx1ZSkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9saXRlcmFsLFxuICAgICAgICAgIGV4cGVjdGVkOiB0aGlzLl9kZWYudmFsdWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWU7XG4gICAgfVxuICB9XG4gIFpvZExpdGVyYWwuY3JlYXRlID0gKHZhbHVlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZExpdGVyYWwoe1xuICAgICAgdmFsdWUsXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExpdGVyYWwsXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgZnVuY3Rpb24gY3JlYXRlWm9kRW51bSh2YWx1ZXMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kRW51bSh7XG4gICAgICB2YWx1ZXMsXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0sXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfVxuICBjbGFzcyBab2RFbnVtIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgX1pvZEVudW1fY2FjaGUuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgaWYgKHR5cGVvZiBpbnB1dC5kYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB0aGlzLl9kZWYudmFsdWVzO1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICBleHBlY3RlZDogdXRpbC5qb2luVmFsdWVzKGV4cGVjdGVkVmFsdWVzKSxcbiAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICB9XG4gICAgICBpZiAoIV9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1pvZEVudW1fY2FjaGUpKSB7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1pvZEVudW1fY2FjaGUsIG5ldyBTZXQodGhpcy5fZGVmLnZhbHVlcykpO1xuICAgICAgfVxuICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ab2RFbnVtX2NhY2hlKS5oYXMoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlLFxuICAgICAgICAgIG9wdGlvbnM6IGV4cGVjdGVkVmFsdWVzXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlcztcbiAgICB9XG4gICAgZ2V0IGVudW0oKSB7XG4gICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBnZXQgVmFsdWVzKCkge1xuICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZ2V0IEVudW0oKSB7XG4gICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBleHRyYWN0KHZhbHVlcywgbmV3RGVmID0gdGhpcy5fZGVmKSB7XG4gICAgICByZXR1cm4gWm9kRW51bS5jcmVhdGUodmFsdWVzLCB7XG4gICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgLi4ubmV3RGVmXG4gICAgICB9KTtcbiAgICB9XG4gICAgZXhjbHVkZSh2YWx1ZXMsIG5ld0RlZiA9IHRoaXMuX2RlZikge1xuICAgICAgcmV0dXJuIFpvZEVudW0uY3JlYXRlKHRoaXMub3B0aW9ucy5maWx0ZXIoKG9wdCkgPT4gIXZhbHVlcy5pbmNsdWRlcyhvcHQpKSwge1xuICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgIC4uLm5ld0RlZlxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIF9ab2RFbnVtX2NhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG4gIFpvZEVudW0uY3JlYXRlID0gY3JlYXRlWm9kRW51bTtcbiAgY2xhc3MgWm9kTmF0aXZlRW51bSBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgIF9ab2ROYXRpdmVFbnVtX2NhY2hlLnNldCh0aGlzLCB2b2lkIDApO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgIGNvbnN0IG5hdGl2ZUVudW1WYWx1ZXMgPSB1dGlsLmdldFZhbGlkRW51bVZhbHVlcyh0aGlzLl9kZWYudmFsdWVzKTtcbiAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zdHJpbmcgJiYgY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdXRpbC5vYmplY3RWYWx1ZXMobmF0aXZlRW51bVZhbHVlcyk7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgIGV4cGVjdGVkOiB1dGlsLmpvaW5WYWx1ZXMoZXhwZWN0ZWRWYWx1ZXMpLFxuICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgIH1cbiAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWm9kTmF0aXZlRW51bV9jYWNoZSkpIHtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWm9kTmF0aXZlRW51bV9jYWNoZSwgbmV3IFNldCh1dGlsLmdldFZhbGlkRW51bVZhbHVlcyh0aGlzLl9kZWYudmFsdWVzKSkpO1xuICAgICAgfVxuICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ab2ROYXRpdmVFbnVtX2NhY2hlKS5oYXMoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB1dGlsLm9iamVjdFZhbHVlcyhuYXRpdmVFbnVtVmFsdWVzKTtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWUsXG4gICAgICAgICAgb3B0aW9uczogZXhwZWN0ZWRWYWx1ZXNcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBnZXQgZW51bSgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICAgIH1cbiAgfVxuICBfWm9kTmF0aXZlRW51bV9jYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuICBab2ROYXRpdmVFbnVtLmNyZWF0ZSA9ICh2YWx1ZXMsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmF0aXZlRW51bSh7XG4gICAgICB2YWx1ZXMsXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hdGl2ZUVudW0sXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgY2xhc3MgWm9kUHJvbWlzZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIHVud3JhcCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5wcm9taXNlICYmIGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUucHJvbWlzZSxcbiAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgfVxuICAgICAgY29uc3QgcHJvbWlzaWZpZWQgPSBjdHgucGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5wcm9taXNlID8gY3R4LmRhdGEgOiBQcm9taXNlLnJlc29sdmUoY3R4LmRhdGEpO1xuICAgICAgcmV0dXJuIE9LKHByb21pc2lmaWVkLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlLnBhcnNlQXN5bmMoZGF0YSwge1xuICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgIGVycm9yTWFwOiBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcFxuICAgICAgICB9KTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1cbiAgWm9kUHJvbWlzZS5jcmVhdGUgPSAoc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFByb21pc2Uoe1xuICAgICAgdHlwZTogc2NoZW1hLFxuICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQcm9taXNlLFxuICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG4gIH07XG4gIGNsYXNzIFpvZEVmZmVjdHMgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBpbm5lclR5cGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYTtcbiAgICB9XG4gICAgc291cmNlVHlwZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzID8gdGhpcy5fZGVmLnNjaGVtYS5zb3VyY2VUeXBlKCkgOiB0aGlzLl9kZWYuc2NoZW1hO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICBjb25zdCBlZmZlY3QgPSB0aGlzLl9kZWYuZWZmZWN0IHx8IG51bGw7XG4gICAgICBjb25zdCBjaGVja0N0eCA9IHtcbiAgICAgICAgYWRkSXNzdWU6IChhcmcpID0+IHtcbiAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIGFyZyk7XG4gICAgICAgICAgaWYgKGFyZy5mYXRhbCkge1xuICAgICAgICAgICAgc3RhdHVzLmFib3J0KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgICAgcmV0dXJuIGN0eC5wYXRoO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY2hlY2tDdHguYWRkSXNzdWUgPSBjaGVja0N0eC5hZGRJc3N1ZS5iaW5kKGNoZWNrQ3R4KTtcbiAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJwcmVwcm9jZXNzXCIpIHtcbiAgICAgICAgY29uc3QgcHJvY2Vzc2VkID0gZWZmZWN0LnRyYW5zZm9ybShjdHguZGF0YSwgY2hlY2tDdHgpO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocHJvY2Vzc2VkKS50aGVuKGFzeW5jIChwcm9jZXNzZWQyKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkMixcbiAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgIHBhcmVudDogY3R4XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgIGRhdGE6IHByb2Nlc3NlZCxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInJlZmluZW1lbnRcIikge1xuICAgICAgICBjb25zdCBleGVjdXRlUmVmaW5lbWVudCA9IChhY2MpID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBlZmZlY3QucmVmaW5lbWVudChhY2MsIGNoZWNrQ3R4KTtcbiAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXN5bmMgcmVmaW5lbWVudCBlbmNvdW50ZXJlZCBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2Ugb3BlcmF0aW9uLiBVc2UgLnBhcnNlQXN5bmMgaW5zdGVhZC5cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgIGNvbnN0IGlubmVyMiA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoaW5uZXIyLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICBpZiAoaW5uZXIyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIyLnZhbHVlKTtcbiAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlubmVyMi52YWx1ZSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KS50aGVuKChpbm5lcjIpID0+IHtcbiAgICAgICAgICAgIGlmIChpbm5lcjIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBpZiAoaW5uZXIyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIHJldHVybiBleGVjdXRlUmVmaW5lbWVudChpbm5lcjIudmFsdWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlubmVyMi52YWx1ZSB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJ0cmFuc2Zvcm1cIikge1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBjb25zdCBiYXNlID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICghaXNWYWxpZChiYXNlKSlcbiAgICAgICAgICAgIHJldHVybiBiYXNlO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVmZmVjdC50cmFuc2Zvcm0oYmFzZS52YWx1ZSwgY2hlY2tDdHgpO1xuICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFzeW5jaHJvbm91cyB0cmFuc2Zvcm0gZW5jb3VudGVyZWQgZHVyaW5nIHN5bmNocm9ub3VzIHBhcnNlIG9wZXJhdGlvbi4gVXNlIC5wYXJzZUFzeW5jIGluc3RlYWQuYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcmVzdWx0IH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pLnRoZW4oKGJhc2UpID0+IHtcbiAgICAgICAgICAgIGlmICghaXNWYWxpZChiYXNlKSlcbiAgICAgICAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGVmZmVjdC50cmFuc2Zvcm0oYmFzZS52YWx1ZSwgY2hlY2tDdHgpKS50aGVuKChyZXN1bHQpID0+ICh7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcmVzdWx0IH0pKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdXRpbC5hc3NlcnROZXZlcihlZmZlY3QpO1xuICAgIH1cbiAgfVxuICBab2RFZmZlY3RzLmNyZWF0ZSA9IChzY2hlbWEsIGVmZmVjdCwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgIHNjaGVtYSxcbiAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgIGVmZmVjdCxcbiAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xuICB9O1xuICBab2RFZmZlY3RzLmNyZWF0ZVdpdGhQcmVwcm9jZXNzID0gKHByZXByb2Nlc3MsIHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgIHNjaGVtYSxcbiAgICAgIGVmZmVjdDogeyB0eXBlOiBcInByZXByb2Nlc3NcIiwgdHJhbnNmb3JtOiBwcmVwcm9jZXNzIH0sXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgY2xhc3MgWm9kT3B0aW9uYWwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgIGlmIChwYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gT0sodm9pZCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbiAgfVxuICBab2RPcHRpb25hbC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPcHRpb25hbCh7XG4gICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9wdGlvbmFsLFxuICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG4gIH07XG4gIGNsYXNzIFpvZE51bGxhYmxlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICBpZiAocGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5udWxsKSB7XG4gICAgICAgIHJldHVybiBPSyhudWxsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbiAgfVxuICBab2ROdWxsYWJsZS5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdWxsYWJsZSh7XG4gICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGxhYmxlLFxuICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG4gIH07XG4gIGNsYXNzIFpvZERlZmF1bHQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgbGV0IGRhdGEgPSBjdHguZGF0YTtcbiAgICAgIGlmIChjdHgucGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgZGF0YSA9IHRoaXMuX2RlZi5kZWZhdWx0VmFsdWUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZSh7XG4gICAgICAgIGRhdGEsXG4gICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJlbW92ZURlZmF1bHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG4gIH1cbiAgWm9kRGVmYXVsdC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2REZWZhdWx0KHtcbiAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdCxcbiAgICAgIGRlZmF1bHRWYWx1ZTogdHlwZW9mIHBhcmFtcy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMuZGVmYXVsdCA6ICgpID0+IHBhcmFtcy5kZWZhdWx0LFxuICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG4gIH07XG4gIGNsYXNzIFpvZENhdGNoIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgIGNvbnN0IG5ld0N0eCA9IHtcbiAgICAgICAgLi4uY3R4LFxuICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKHtcbiAgICAgICAgZGF0YTogbmV3Q3R4LmRhdGEsXG4gICAgICAgIHBhdGg6IG5ld0N0eC5wYXRoLFxuICAgICAgICBwYXJlbnQ6IHtcbiAgICAgICAgICAuLi5uZXdDdHhcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoaXNBc3luYyhyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0MikgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgICAgIHZhbHVlOiByZXN1bHQyLnN0YXR1cyA9PT0gXCJ2YWxpZFwiID8gcmVzdWx0Mi52YWx1ZSA6IHRoaXMuX2RlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBpbnB1dDogbmV3Q3R4LmRhdGFcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgIHZhbHVlOiByZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCIgPyByZXN1bHQudmFsdWUgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlucHV0OiBuZXdDdHguZGF0YVxuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUNhdGNoKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxuICB9XG4gIFpvZENhdGNoLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2gsXG4gICAgICBjYXRjaFZhbHVlOiB0eXBlb2YgcGFyYW1zLmNhdGNoID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMuY2F0Y2ggOiAoKSA9PiBwYXJhbXMuY2F0Y2gsXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgY2xhc3MgWm9kTmFOIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5uYW4pIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm5hbixcbiAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICB9XG4gIFpvZE5hTi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROYU4oe1xuICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYU4sXG4gICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgQlJBTkQgPSBTeW1ib2woXCJ6b2RfYnJhbmRcIik7XG4gIGNsYXNzIFpvZEJyYW5kZWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgY29uc3QgZGF0YSA9IGN0eC5kYXRhO1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlLl9wYXJzZSh7XG4gICAgICAgIGRhdGEsXG4gICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgfSk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG4gIH1cbiAgY2xhc3MgWm9kUGlwZWxpbmUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICBjb25zdCBoYW5kbGVBc3luYyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IGF3YWl0IHRoaXMuX2RlZi5pbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICByZXR1cm4gRElSVFkoaW5SZXN1bHQudmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm91dC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgIGRhdGE6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZUFzeW5jKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBpblJlc3VsdCA9IHRoaXMuX2RlZi5pbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IFwiZGlydHlcIixcbiAgICAgICAgICAgIHZhbHVlOiBpblJlc3VsdC52YWx1ZVxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vdXQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICBkYXRhOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGEyLCBiMikge1xuICAgICAgcmV0dXJuIG5ldyBab2RQaXBlbGluZSh7XG4gICAgICAgIGluOiBhMixcbiAgICAgICAgb3V0OiBiMixcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQaXBlbGluZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGNsYXNzIFpvZFJlYWRvbmx5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgICBjb25zdCBmcmVlemUgPSAoZGF0YSkgPT4ge1xuICAgICAgICBpZiAoaXNWYWxpZChkYXRhKSkge1xuICAgICAgICAgIGRhdGEudmFsdWUgPSBPYmplY3QuZnJlZXplKGRhdGEudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBpc0FzeW5jKHJlc3VsdCkgPyByZXN1bHQudGhlbigoZGF0YSkgPT4gZnJlZXplKGRhdGEpKSA6IGZyZWV6ZShyZXN1bHQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG4gIH1cbiAgWm9kUmVhZG9ubHkuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kUmVhZG9ubHkoe1xuICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWFkb25seSxcbiAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xuICB9O1xuICBmdW5jdGlvbiBjbGVhblBhcmFtcyhwYXJhbXMsIGRhdGEpIHtcbiAgICBjb25zdCBwMiA9IHR5cGVvZiBwYXJhbXMgPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcyhkYXRhKSA6IHR5cGVvZiBwYXJhbXMgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2U6IHBhcmFtcyB9IDogcGFyYW1zO1xuICAgIGNvbnN0IHAyMiA9IHR5cGVvZiBwMiA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZTogcDIgfSA6IHAyO1xuICAgIHJldHVybiBwMjI7XG4gIH1cbiAgZnVuY3Rpb24gY3VzdG9tKGNoZWNrLCBfcGFyYW1zID0ge30sIGZhdGFsKSB7XG4gICAgaWYgKGNoZWNrKVxuICAgICAgcmV0dXJuIFpvZEFueS5jcmVhdGUoKS5zdXBlclJlZmluZSgoZGF0YSwgY3R4KSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IHIyID0gY2hlY2soZGF0YSk7XG4gICAgICAgIGlmIChyMiBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICByZXR1cm4gcjIudGhlbigocjMpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTIsIF9iMjtcbiAgICAgICAgICAgIGlmICghcjMpIHtcbiAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gY2xlYW5QYXJhbXMoX3BhcmFtcywgZGF0YSk7XG4gICAgICAgICAgICAgIGNvbnN0IF9mYXRhbCA9IChfYjIgPSAoX2EyID0gcGFyYW1zLmZhdGFsKSAhPT0gbnVsbCAmJiBfYTIgIT09IHZvaWQgMCA/IF9hMiA6IGZhdGFsKSAhPT0gbnVsbCAmJiBfYjIgIT09IHZvaWQgMCA/IF9iMiA6IHRydWU7XG4gICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh7IGNvZGU6IFwiY3VzdG9tXCIsIC4uLnBhcmFtcywgZmF0YWw6IF9mYXRhbCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXIyKSB7XG4gICAgICAgICAgY29uc3QgcGFyYW1zID0gY2xlYW5QYXJhbXMoX3BhcmFtcywgZGF0YSk7XG4gICAgICAgICAgY29uc3QgX2ZhdGFsID0gKF9iID0gKF9hID0gcGFyYW1zLmZhdGFsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYXRhbCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdHJ1ZTtcbiAgICAgICAgICBjdHguYWRkSXNzdWUoeyBjb2RlOiBcImN1c3RvbVwiLCAuLi5wYXJhbXMsIGZhdGFsOiBfZmF0YWwgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIFpvZEFueS5jcmVhdGUoKTtcbiAgfVxuICBjb25zdCBsYXRlID0ge1xuICAgIG9iamVjdDogWm9kT2JqZWN0LmxhenljcmVhdGVcbiAgfTtcbiAgdmFyIFpvZEZpcnN0UGFydHlUeXBlS2luZDtcbiAgKGZ1bmN0aW9uKFpvZEZpcnN0UGFydHlUeXBlS2luZDIpIHtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kU3RyaW5nXCJdID0gXCJab2RTdHJpbmdcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kTnVtYmVyXCJdID0gXCJab2ROdW1iZXJcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kTmFOXCJdID0gXCJab2ROYU5cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kQmlnSW50XCJdID0gXCJab2RCaWdJbnRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kQm9vbGVhblwiXSA9IFwiWm9kQm9vbGVhblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2REYXRlXCJdID0gXCJab2REYXRlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZFN5bWJvbFwiXSA9IFwiWm9kU3ltYm9sXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZFVuZGVmaW5lZFwiXSA9IFwiWm9kVW5kZWZpbmVkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZE51bGxcIl0gPSBcIlpvZE51bGxcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kQW55XCJdID0gXCJab2RBbnlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kVW5rbm93blwiXSA9IFwiWm9kVW5rbm93blwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2ROZXZlclwiXSA9IFwiWm9kTmV2ZXJcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kVm9pZFwiXSA9IFwiWm9kVm9pZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RBcnJheVwiXSA9IFwiWm9kQXJyYXlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kT2JqZWN0XCJdID0gXCJab2RPYmplY3RcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kVW5pb25cIl0gPSBcIlpvZFVuaW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiXSA9IFwiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZEludGVyc2VjdGlvblwiXSA9IFwiWm9kSW50ZXJzZWN0aW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZFR1cGxlXCJdID0gXCJab2RUdXBsZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RSZWNvcmRcIl0gPSBcIlpvZFJlY29yZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RNYXBcIl0gPSBcIlpvZE1hcFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RTZXRcIl0gPSBcIlpvZFNldFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RGdW5jdGlvblwiXSA9IFwiWm9kRnVuY3Rpb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kTGF6eVwiXSA9IFwiWm9kTGF6eVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RMaXRlcmFsXCJdID0gXCJab2RMaXRlcmFsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZEVudW1cIl0gPSBcIlpvZEVudW1cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kRWZmZWN0c1wiXSA9IFwiWm9kRWZmZWN0c1wiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2ROYXRpdmVFbnVtXCJdID0gXCJab2ROYXRpdmVFbnVtXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZE9wdGlvbmFsXCJdID0gXCJab2RPcHRpb25hbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2ROdWxsYWJsZVwiXSA9IFwiWm9kTnVsbGFibGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kRGVmYXVsdFwiXSA9IFwiWm9kRGVmYXVsdFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RDYXRjaFwiXSA9IFwiWm9kQ2F0Y2hcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kUHJvbWlzZVwiXSA9IFwiWm9kUHJvbWlzZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RCcmFuZGVkXCJdID0gXCJab2RCcmFuZGVkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZFBpcGVsaW5lXCJdID0gXCJab2RQaXBlbGluZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RSZWFkb25seVwiXSA9IFwiWm9kUmVhZG9ubHlcIjtcbiAgfSkoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIHx8IChab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSB7fSkpO1xuICBjb25zdCBpbnN0YW5jZU9mVHlwZSA9IChjbHMsIHBhcmFtcyA9IHtcbiAgICBtZXNzYWdlOiBgSW5wdXQgbm90IGluc3RhbmNlIG9mICR7Y2xzLm5hbWV9YFxuICB9KSA9PiBjdXN0b20oKGRhdGEpID0+IGRhdGEgaW5zdGFuY2VvZiBjbHMsIHBhcmFtcyk7XG4gIGNvbnN0IHN0cmluZ1R5cGUgPSBab2RTdHJpbmcuY3JlYXRlO1xuICBjb25zdCBudW1iZXJUeXBlID0gWm9kTnVtYmVyLmNyZWF0ZTtcbiAgY29uc3QgbmFuVHlwZSA9IFpvZE5hTi5jcmVhdGU7XG4gIGNvbnN0IGJpZ0ludFR5cGUgPSBab2RCaWdJbnQuY3JlYXRlO1xuICBjb25zdCBib29sZWFuVHlwZSA9IFpvZEJvb2xlYW4uY3JlYXRlO1xuICBjb25zdCBkYXRlVHlwZSA9IFpvZERhdGUuY3JlYXRlO1xuICBjb25zdCBzeW1ib2xUeXBlID0gWm9kU3ltYm9sLmNyZWF0ZTtcbiAgY29uc3QgdW5kZWZpbmVkVHlwZSA9IFpvZFVuZGVmaW5lZC5jcmVhdGU7XG4gIGNvbnN0IG51bGxUeXBlID0gWm9kTnVsbC5jcmVhdGU7XG4gIGNvbnN0IGFueVR5cGUgPSBab2RBbnkuY3JlYXRlO1xuICBjb25zdCB1bmtub3duVHlwZSA9IFpvZFVua25vd24uY3JlYXRlO1xuICBjb25zdCBuZXZlclR5cGUgPSBab2ROZXZlci5jcmVhdGU7XG4gIGNvbnN0IHZvaWRUeXBlID0gWm9kVm9pZC5jcmVhdGU7XG4gIGNvbnN0IGFycmF5VHlwZSA9IFpvZEFycmF5LmNyZWF0ZTtcbiAgY29uc3Qgb2JqZWN0VHlwZSA9IFpvZE9iamVjdC5jcmVhdGU7XG4gIGNvbnN0IHN0cmljdE9iamVjdFR5cGUgPSBab2RPYmplY3Quc3RyaWN0Q3JlYXRlO1xuICBjb25zdCB1bmlvblR5cGUgPSBab2RVbmlvbi5jcmVhdGU7XG4gIGNvbnN0IGRpc2NyaW1pbmF0ZWRVbmlvblR5cGUgPSBab2REaXNjcmltaW5hdGVkVW5pb24uY3JlYXRlO1xuICBjb25zdCBpbnRlcnNlY3Rpb25UeXBlID0gWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZTtcbiAgY29uc3QgdHVwbGVUeXBlID0gWm9kVHVwbGUuY3JlYXRlO1xuICBjb25zdCByZWNvcmRUeXBlID0gWm9kUmVjb3JkLmNyZWF0ZTtcbiAgY29uc3QgbWFwVHlwZSA9IFpvZE1hcC5jcmVhdGU7XG4gIGNvbnN0IHNldFR5cGUgPSBab2RTZXQuY3JlYXRlO1xuICBjb25zdCBmdW5jdGlvblR5cGUgPSBab2RGdW5jdGlvbi5jcmVhdGU7XG4gIGNvbnN0IGxhenlUeXBlID0gWm9kTGF6eS5jcmVhdGU7XG4gIGNvbnN0IGxpdGVyYWxUeXBlID0gWm9kTGl0ZXJhbC5jcmVhdGU7XG4gIGNvbnN0IGVudW1UeXBlID0gWm9kRW51bS5jcmVhdGU7XG4gIGNvbnN0IG5hdGl2ZUVudW1UeXBlID0gWm9kTmF0aXZlRW51bS5jcmVhdGU7XG4gIGNvbnN0IHByb21pc2VUeXBlID0gWm9kUHJvbWlzZS5jcmVhdGU7XG4gIGNvbnN0IGVmZmVjdHNUeXBlID0gWm9kRWZmZWN0cy5jcmVhdGU7XG4gIGNvbnN0IG9wdGlvbmFsVHlwZSA9IFpvZE9wdGlvbmFsLmNyZWF0ZTtcbiAgY29uc3QgbnVsbGFibGVUeXBlID0gWm9kTnVsbGFibGUuY3JlYXRlO1xuICBjb25zdCBwcmVwcm9jZXNzVHlwZSA9IFpvZEVmZmVjdHMuY3JlYXRlV2l0aFByZXByb2Nlc3M7XG4gIGNvbnN0IHBpcGVsaW5lVHlwZSA9IFpvZFBpcGVsaW5lLmNyZWF0ZTtcbiAgY29uc3Qgb3N0cmluZyA9ICgpID0+IHN0cmluZ1R5cGUoKS5vcHRpb25hbCgpO1xuICBjb25zdCBvbnVtYmVyID0gKCkgPT4gbnVtYmVyVHlwZSgpLm9wdGlvbmFsKCk7XG4gIGNvbnN0IG9ib29sZWFuID0gKCkgPT4gYm9vbGVhblR5cGUoKS5vcHRpb25hbCgpO1xuICBjb25zdCBjb2VyY2UgPSB7XG4gICAgc3RyaW5nOiAoYXJnKSA9PiBab2RTdHJpbmcuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSksXG4gICAgbnVtYmVyOiAoYXJnKSA9PiBab2ROdW1iZXIuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSksXG4gICAgYm9vbGVhbjogKGFyZykgPT4gWm9kQm9vbGVhbi5jcmVhdGUoe1xuICAgICAgLi4uYXJnLFxuICAgICAgY29lcmNlOiB0cnVlXG4gICAgfSksXG4gICAgYmlnaW50OiAoYXJnKSA9PiBab2RCaWdJbnQuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSksXG4gICAgZGF0ZTogKGFyZykgPT4gWm9kRGF0ZS5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KVxuICB9O1xuICBjb25zdCBORVZFUiA9IElOVkFMSUQ7XG4gIHZhciB6ID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoe1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICBkZWZhdWx0RXJyb3JNYXA6IGVycm9yTWFwLFxuICAgIHNldEVycm9yTWFwLFxuICAgIGdldEVycm9yTWFwLFxuICAgIG1ha2VJc3N1ZSxcbiAgICBFTVBUWV9QQVRILFxuICAgIGFkZElzc3VlVG9Db250ZXh0LFxuICAgIFBhcnNlU3RhdHVzLFxuICAgIElOVkFMSUQsXG4gICAgRElSVFksXG4gICAgT0ssXG4gICAgaXNBYm9ydGVkLFxuICAgIGlzRGlydHksXG4gICAgaXNWYWxpZCxcbiAgICBpc0FzeW5jLFxuICAgIGdldCB1dGlsKCkge1xuICAgICAgcmV0dXJuIHV0aWw7XG4gICAgfSxcbiAgICBnZXQgb2JqZWN0VXRpbCgpIHtcbiAgICAgIHJldHVybiBvYmplY3RVdGlsO1xuICAgIH0sXG4gICAgWm9kUGFyc2VkVHlwZSxcbiAgICBnZXRQYXJzZWRUeXBlLFxuICAgIFpvZFR5cGUsXG4gICAgZGF0ZXRpbWVSZWdleCxcbiAgICBab2RTdHJpbmcsXG4gICAgWm9kTnVtYmVyLFxuICAgIFpvZEJpZ0ludCxcbiAgICBab2RCb29sZWFuLFxuICAgIFpvZERhdGUsXG4gICAgWm9kU3ltYm9sLFxuICAgIFpvZFVuZGVmaW5lZCxcbiAgICBab2ROdWxsLFxuICAgIFpvZEFueSxcbiAgICBab2RVbmtub3duLFxuICAgIFpvZE5ldmVyLFxuICAgIFpvZFZvaWQsXG4gICAgWm9kQXJyYXksXG4gICAgWm9kT2JqZWN0LFxuICAgIFpvZFVuaW9uLFxuICAgIFpvZERpc2NyaW1pbmF0ZWRVbmlvbixcbiAgICBab2RJbnRlcnNlY3Rpb24sXG4gICAgWm9kVHVwbGUsXG4gICAgWm9kUmVjb3JkLFxuICAgIFpvZE1hcCxcbiAgICBab2RTZXQsXG4gICAgWm9kRnVuY3Rpb24sXG4gICAgWm9kTGF6eSxcbiAgICBab2RMaXRlcmFsLFxuICAgIFpvZEVudW0sXG4gICAgWm9kTmF0aXZlRW51bSxcbiAgICBab2RQcm9taXNlLFxuICAgIFpvZEVmZmVjdHMsXG4gICAgWm9kVHJhbnNmb3JtZXI6IFpvZEVmZmVjdHMsXG4gICAgWm9kT3B0aW9uYWwsXG4gICAgWm9kTnVsbGFibGUsXG4gICAgWm9kRGVmYXVsdCxcbiAgICBab2RDYXRjaCxcbiAgICBab2ROYU4sXG4gICAgQlJBTkQsXG4gICAgWm9kQnJhbmRlZCxcbiAgICBab2RQaXBlbGluZSxcbiAgICBab2RSZWFkb25seSxcbiAgICBjdXN0b20sXG4gICAgU2NoZW1hOiBab2RUeXBlLFxuICAgIFpvZFNjaGVtYTogWm9kVHlwZSxcbiAgICBsYXRlLFxuICAgIGdldCBab2RGaXJzdFBhcnR5VHlwZUtpbmQoKSB7XG4gICAgICByZXR1cm4gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kO1xuICAgIH0sXG4gICAgY29lcmNlLFxuICAgIGFueTogYW55VHlwZSxcbiAgICBhcnJheTogYXJyYXlUeXBlLFxuICAgIGJpZ2ludDogYmlnSW50VHlwZSxcbiAgICBib29sZWFuOiBib29sZWFuVHlwZSxcbiAgICBkYXRlOiBkYXRlVHlwZSxcbiAgICBkaXNjcmltaW5hdGVkVW5pb246IGRpc2NyaW1pbmF0ZWRVbmlvblR5cGUsXG4gICAgZWZmZWN0OiBlZmZlY3RzVHlwZSxcbiAgICBcImVudW1cIjogZW51bVR5cGUsXG4gICAgXCJmdW5jdGlvblwiOiBmdW5jdGlvblR5cGUsXG4gICAgXCJpbnN0YW5jZW9mXCI6IGluc3RhbmNlT2ZUeXBlLFxuICAgIGludGVyc2VjdGlvbjogaW50ZXJzZWN0aW9uVHlwZSxcbiAgICBsYXp5OiBsYXp5VHlwZSxcbiAgICBsaXRlcmFsOiBsaXRlcmFsVHlwZSxcbiAgICBtYXA6IG1hcFR5cGUsXG4gICAgbmFuOiBuYW5UeXBlLFxuICAgIG5hdGl2ZUVudW06IG5hdGl2ZUVudW1UeXBlLFxuICAgIG5ldmVyOiBuZXZlclR5cGUsXG4gICAgXCJudWxsXCI6IG51bGxUeXBlLFxuICAgIG51bGxhYmxlOiBudWxsYWJsZVR5cGUsXG4gICAgbnVtYmVyOiBudW1iZXJUeXBlLFxuICAgIG9iamVjdDogb2JqZWN0VHlwZSxcbiAgICBvYm9vbGVhbixcbiAgICBvbnVtYmVyLFxuICAgIG9wdGlvbmFsOiBvcHRpb25hbFR5cGUsXG4gICAgb3N0cmluZyxcbiAgICBwaXBlbGluZTogcGlwZWxpbmVUeXBlLFxuICAgIHByZXByb2Nlc3M6IHByZXByb2Nlc3NUeXBlLFxuICAgIHByb21pc2U6IHByb21pc2VUeXBlLFxuICAgIHJlY29yZDogcmVjb3JkVHlwZSxcbiAgICBzZXQ6IHNldFR5cGUsXG4gICAgc3RyaWN0T2JqZWN0OiBzdHJpY3RPYmplY3RUeXBlLFxuICAgIHN0cmluZzogc3RyaW5nVHlwZSxcbiAgICBzeW1ib2w6IHN5bWJvbFR5cGUsXG4gICAgdHJhbnNmb3JtZXI6IGVmZmVjdHNUeXBlLFxuICAgIHR1cGxlOiB0dXBsZVR5cGUsXG4gICAgXCJ1bmRlZmluZWRcIjogdW5kZWZpbmVkVHlwZSxcbiAgICB1bmlvbjogdW5pb25UeXBlLFxuICAgIHVua25vd246IHVua25vd25UeXBlLFxuICAgIFwidm9pZFwiOiB2b2lkVHlwZSxcbiAgICBORVZFUixcbiAgICBab2RJc3N1ZUNvZGUsXG4gICAgcXVvdGVsZXNzSnNvbixcbiAgICBab2RFcnJvclxuICB9KTtcbiAgdmFyIERFRkFVTFRfUE9SVCA9IDU3NDY7XG4gIHZhciBQSU5HX0VORFBPSU5UID0gXCIvcGluZy9zdGFnZXdpc2VcIjtcbiAgdmFyIFBJTkdfUkVTUE9OU0UgPSBcInN0YWdld2lzZVwiO1xuICB2YXIgY29udHJhY3QgPSBjcmVhdGVCcmlkZ2VDb250cmFjdCh7XG4gICAgc2VydmVyOiB7XG4gICAgICB0cmlnZ2VyQWdlbnRQcm9tcHQ6IHtcbiAgICAgICAgcmVxdWVzdDogei5vYmplY3Qoe1xuICAgICAgICAgIHByb21wdDogei5zdHJpbmcoKVxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2U6IHoub2JqZWN0KHtcbiAgICAgICAgICByZXN1bHQ6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICAgICAgICAgICAgZXJyb3I6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIG91dHB1dDogei5zdHJpbmcoKS5vcHRpb25hbCgpXG4gICAgICAgICAgfSlcbiAgICAgICAgfSksXG4gICAgICAgIHVwZGF0ZTogei5vYmplY3Qoe1xuICAgICAgICAgIHVwZGF0ZVRleHQ6IHouc3RyaW5nKClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBhc3luYyBmdW5jdGlvbiBmaW5kUG9ydChtYXhBdHRlbXB0cyA9IDEwLCB0aW1lb3V0ID0gMzAwKSB7XG4gICAgZm9yIChsZXQgYXR0ZW1wdCA9IDA7IGF0dGVtcHQgPCBtYXhBdHRlbXB0czsgYXR0ZW1wdCsrKSB7XG4gICAgICBjb25zdCBwb3J0ID0gREVGQVVMVF9QT1JUICsgYXR0ZW1wdDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCB0aW1lb3V0KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgICAgYGh0dHA6Ly9sb2NhbGhvc3Q6JHtwb3J0fSR7UElOR19FTkRQT0lOVH1gLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgICBpZiAodGV4dCA9PT0gUElOR19SRVNQT05TRSkge1xuICAgICAgICAgICAgICByZXR1cm4gcG9ydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yMikge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IFNSUENCcmlkZ2VDb250ZXh0ID0gSyQzKHtcbiAgICBicmlkZ2U6IG51bGwsXG4gICAgaXNDb25uZWN0aW5nOiBmYWxzZSxcbiAgICBlcnJvcjogbnVsbFxuICB9KTtcbiAgZnVuY3Rpb24gU1JQQ0JyaWRnZVByb3ZpZGVyKHtcbiAgICBjaGlsZHJlblxuICB9KSB7XG4gICAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSBkJDQoe1xuICAgICAgYnJpZGdlOiBudWxsLFxuICAgICAgaXNDb25uZWN0aW5nOiB0cnVlLFxuICAgICAgZXJyb3I6IG51bGxcbiAgICB9KTtcbiAgICB5JDYoKCkgPT4ge1xuICAgICAgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZUJyaWRnZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwb3J0ID0gYXdhaXQgZmluZFBvcnQoKTtcbiAgICAgICAgICBjb25zdCBicmlkZ2UgPSBjcmVhdGVTUlBDQ2xpZW50QnJpZGdlKFxuICAgICAgICAgICAgYHdzOi8vbG9jYWxob3N0OiR7cG9ydH1gLFxuICAgICAgICAgICAgY29udHJhY3RcbiAgICAgICAgICApO1xuICAgICAgICAgIGF3YWl0IGJyaWRnZS5jb25uZWN0KCk7XG4gICAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgICAgYnJpZGdlLFxuICAgICAgICAgICAgaXNDb25uZWN0aW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiBudWxsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yMikge1xuICAgICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICAgIGJyaWRnZTogbnVsbCxcbiAgICAgICAgICAgIGlzQ29ubmVjdGluZzogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogZXJyb3IyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvcjIgOiBuZXcgRXJyb3IoU3RyaW5nKGVycm9yMikpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGluaXRpYWxpemVCcmlkZ2UoKTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoU1JQQ0JyaWRnZUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHN0YXRlLCBjaGlsZHJlbiB9KTtcbiAgfVxuICBmdW5jdGlvbiB1c2VTUlBDQnJpZGdlKCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB4JDQoU1JQQ0JyaWRnZUNvbnRleHQpO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidXNlU1JQQ0JyaWRnZSBtdXN0IGJlIHVzZWQgd2l0aGluIGFuIFNSUENCcmlkZ2VQcm92aWRlclwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQ7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0RWxlbWVudEF0dHJpYnV0ZXMoZWxlbWVudCkge1xuICAgIGNvbnN0IGF0dHJzID0ge307XG4gICAgY29uc3QgcHJpb3JpdHlBdHRycyA9IFtcbiAgICAgIFwiaWRcIixcbiAgICAgIFwiY2xhc3NcIixcbiAgICAgIFwibmFtZVwiLFxuICAgICAgXCJ0eXBlXCIsXG4gICAgICBcImhyZWZcIixcbiAgICAgIFwic3JjXCIsXG4gICAgICBcImFsdFwiLFxuICAgICAgXCJmb3JcIixcbiAgICAgIFwicGxhY2Vob2xkZXJcIlxuICAgIF07XG4gICAgY29uc3QgZGF0YUF0dHJzID0gW107XG4gICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGVsZW1lbnQuYXR0cmlidXRlcy5sZW5ndGg7IGkyKyspIHtcbiAgICAgIGNvbnN0IGF0dHIgPSBlbGVtZW50LmF0dHJpYnV0ZXNbaTJdO1xuICAgICAgaWYgKGF0dHIubmFtZS5zdGFydHNXaXRoKFwiZGF0YS1cIikpIHtcbiAgICAgICAgZGF0YUF0dHJzLnB1c2goeyBuYW1lOiBhdHRyLm5hbWUsIHZhbHVlOiBhdHRyLnZhbHVlIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcmlvcml0eUF0dHJzLmluY2x1ZGVzKGF0dHIubmFtZS50b0xvd2VyQ2FzZSgpKSB8fCBhdHRyLm5hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJzdHlsZVwiKSB7XG4gICAgICAgIGF0dHJzW2F0dHIubmFtZV0gPSBhdHRyLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICBkYXRhQXR0cnMuZm9yRWFjaCgoZGEpID0+IHtcbiAgICAgIGF0dHJzW2RhLm5hbWVdID0gZGEudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGF0dHJzO1xuICB9XG4gIGZ1bmN0aW9uIGdlbmVyYXRlRWxlbWVudENvbnRleHQoZWxlbWVudCwgaW5kZXgyKSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCBjb250ZXh0ID0gYDxlbGVtZW50IGluZGV4PVwiJHtpbmRleDIgKyAxfVwiPlxuYDtcbiAgICBjb250ZXh0ICs9IGAgIDx0YWc+JHtlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKX08L3RhZz5cbmA7XG4gICAgY29uc3QgaWQgPSBlbGVtZW50LmlkO1xuICAgIGlmIChpZCkge1xuICAgICAgY29udGV4dCArPSBgICA8aWQ+JHtpZH08L2lkPlxuYDtcbiAgICB9XG4gICAgY29uc3QgY2xhc3NlcyA9IEFycmF5LmZyb20oZWxlbWVudC5jbGFzc0xpc3QpLmpvaW4oXCIsIFwiKTtcbiAgICBpZiAoY2xhc3Nlcykge1xuICAgICAgY29udGV4dCArPSBgICA8Y2xhc3Nlcz4ke2NsYXNzZXN9PC9jbGFzc2VzPlxuYDtcbiAgICB9XG4gICAgY29uc3QgYXR0cmlidXRlcyA9IGdldEVsZW1lbnRBdHRyaWJ1dGVzKGVsZW1lbnQpO1xuICAgIGlmIChPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5sZW5ndGggPiAwKSB7XG4gICAgICBjb250ZXh0ICs9IGAgIDxhdHRyaWJ1dGVzPlxuYDtcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpKSB7XG4gICAgICAgIGlmIChrZXkudG9Mb3dlckNhc2UoKSAhPT0gXCJjbGFzc1wiIHx8ICFjbGFzc2VzKSB7XG4gICAgICAgICAgY29udGV4dCArPSBgICAgIDwke2tleX0+JHt2YWx1ZX08LyR7a2V5fT5cbmA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnRleHQgKz0gYCAgPC9hdHRyaWJ1dGVzPlxuYDtcbiAgICB9XG4gICAgY29uc3QgdGV4dCA9IChfYSA9IGVsZW1lbnQuaW5uZXJUZXh0KSA9PSBudWxsID8gdm9pZCAwIDogX2EudHJpbSgpO1xuICAgIGlmICh0ZXh0KSB7XG4gICAgICBjb25zdCBtYXhMZW5ndGggPSAxMDA7XG4gICAgICBjb250ZXh0ICs9IGAgIDx0ZXh0PiR7dGV4dC5sZW5ndGggPiBtYXhMZW5ndGggPyBgJHt0ZXh0LnN1YnN0cmluZygwLCBtYXhMZW5ndGgpfS4uLmAgOiB0ZXh0fTwvdGV4dD5cbmA7XG4gICAgfVxuICAgIGNvbnRleHQgKz0gYCAgPHN0cnVjdHVyYWxfY29udGV4dD5cbmA7XG4gICAgaWYgKGVsZW1lbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgY29uc3QgcGFyZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgY29udGV4dCArPSBgICAgIDxwYXJlbnQ+XG5gO1xuICAgICAgY29udGV4dCArPSBgICAgICAgPHRhZz4ke3BhcmVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCl9PC90YWc+XG5gO1xuICAgICAgaWYgKHBhcmVudC5pZCkge1xuICAgICAgICBjb250ZXh0ICs9IGAgICAgICA8aWQ+JHtwYXJlbnQuaWR9PC9pZD5cbmA7XG4gICAgICB9XG4gICAgICBjb25zdCBwYXJlbnRDbGFzc2VzID0gQXJyYXkuZnJvbShwYXJlbnQuY2xhc3NMaXN0KS5qb2luKFwiLCBcIik7XG4gICAgICBpZiAocGFyZW50Q2xhc3Nlcykge1xuICAgICAgICBjb250ZXh0ICs9IGAgICAgICA8Y2xhc3Nlcz4ke3BhcmVudENsYXNzZXN9PC9jbGFzc2VzPlxuYDtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQgKz0gYCAgICA8L3BhcmVudD5cbmA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQgKz0gYCAgICA8cGFyZW50Pk5vIHBhcmVudCBlbGVtZW50IGZvdW5kIChsaWtlbHkgcm9vdCBvciBkaXNjb25uZWN0ZWQpPC9wYXJlbnQ+XG5gO1xuICAgIH1cbiAgICBjb250ZXh0ICs9IGAgIDwvc3RydWN0dXJhbF9jb250ZXh0PlxuYDtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgICBjb25zdCByZWxldmFudFN0eWxlcyA9IHtcbiAgICAgICAgY29sb3I6IHN0eWxlcy5jb2xvcixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBzdHlsZXMuYmFja2dyb3VuZENvbG9yLFxuICAgICAgICBmb250U2l6ZTogc3R5bGVzLmZvbnRTaXplLFxuICAgICAgICBmb250V2VpZ2h0OiBzdHlsZXMuZm9udFdlaWdodCxcbiAgICAgICAgZGlzcGxheTogc3R5bGVzLmRpc3BsYXlcbiAgICAgIH07XG4gICAgICBjb250ZXh0ICs9IGAgIDxzdHlsZXM+XG5gO1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocmVsZXZhbnRTdHlsZXMpKSB7XG4gICAgICAgIGNvbnRleHQgKz0gYCAgICA8JHtrZXl9PiR7dmFsdWV9PC8ke2tleX0+XG5gO1xuICAgICAgfVxuICAgICAgY29udGV4dCArPSBgICA8L3N0eWxlcz5cbmA7XG4gICAgfSBjYXRjaCAoZTIpIHtcbiAgICAgIGNvbnRleHQgKz0gYCAgPHN0eWxlcz5Db3VsZCBub3QgcmV0cmlldmUgY29tcHV0ZWQgc3R5bGVzPC9zdHlsZXM+XG5gO1xuICAgIH1cbiAgICBjb250ZXh0ICs9IGA8L2VsZW1lbnQ+XG5gO1xuICAgIHJldHVybiBjb250ZXh0O1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZVByb21wdChzZWxlY3RlZEVsZW1lbnRzLCB1c2VyUHJvbXB0LCB1cmwpIHtcbiAgICBpZiAoIXNlbGVjdGVkRWxlbWVudHMgfHwgc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBgXG4gICAgPHJlcXVlc3Q+XG4gICAgICA8dXNlcl9nb2FsPiR7dXNlclByb21wdH08L3VzZXJfZ29hbD5cbiAgICAgIDx1cmw+JHt1cmx9PC91cmw+XG4gIDxjb250ZXh0Pk5vIHNwZWNpZmljIGVsZW1lbnQgd2FzIHNlbGVjdGVkIG9uIHRoZSBwYWdlLiBQbGVhc2UgYW5hbHl6ZSB0aGUgcGFnZSBjb2RlIGluIGdlbmVyYWwgb3IgYXNrIGZvciBjbGFyaWZpY2F0aW9uLjwvY29udGV4dD5cbjwvcmVxdWVzdD5gLnRyaW0oKTtcbiAgICB9XG4gICAgbGV0IGRldGFpbGVkQ29udGV4dCA9IFwiXCI7XG4gICAgc2VsZWN0ZWRFbGVtZW50cy5mb3JFYWNoKChlbGVtZW50LCBpbmRleDIpID0+IHtcbiAgICAgIGRldGFpbGVkQ29udGV4dCArPSBnZW5lcmF0ZUVsZW1lbnRDb250ZXh0KGVsZW1lbnQsIGluZGV4Mik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGBcbjxyZXF1ZXN0PlxuICA8dXNlcl9nb2FsPiR7dXNlclByb21wdH08L3VzZXJfZ29hbD5cbiAgPHVybD4ke3VybH08L3VybD5cbiAgPHNlbGVjdGVkX2VsZW1lbnRzPlxuICAgICR7ZGV0YWlsZWRDb250ZXh0LnRyaW0oKX1cbiAgPC9zZWxlY3RlZF9lbGVtZW50cz5cbjwvcmVxdWVzdD5gLnRyaW0oKTtcbiAgfVxuICBjb25zdCBEcm9wQXJlYVpvbmUgPSB7XG4gICAgQk9UVE9NX0NFTlRFUjogNFxuICB9O1xuICBjb25zdCBjcmVhdGVTdG9yZUltcGwgPSAoY3JlYXRlU3RhdGUpID0+IHtcbiAgICBsZXQgc3RhdGU7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICBjb25zdCBzZXRTdGF0ZSA9IChwYXJ0aWFsLCByZXBsYWNlKSA9PiB7XG4gICAgICBjb25zdCBuZXh0U3RhdGUgPSB0eXBlb2YgcGFydGlhbCA9PT0gXCJmdW5jdGlvblwiID8gcGFydGlhbChzdGF0ZSkgOiBwYXJ0aWFsO1xuICAgICAgaWYgKCFPYmplY3QuaXMobmV4dFN0YXRlLCBzdGF0ZSkpIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHN0YXRlO1xuICAgICAgICBzdGF0ZSA9IChyZXBsYWNlICE9IG51bGwgPyByZXBsYWNlIDogdHlwZW9mIG5leHRTdGF0ZSAhPT0gXCJvYmplY3RcIiB8fCBuZXh0U3RhdGUgPT09IG51bGwpID8gbmV4dFN0YXRlIDogT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIG5leHRTdGF0ZSk7XG4gICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoc3RhdGUsIHByZXZpb3VzU3RhdGUpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGdldFN0YXRlID0gKCkgPT4gc3RhdGU7XG4gICAgY29uc3QgZ2V0SW5pdGlhbFN0YXRlID0gKCkgPT4gaW5pdGlhbFN0YXRlO1xuICAgIGNvbnN0IHN1YnNjcmliZSA9IChsaXN0ZW5lcikgPT4ge1xuICAgICAgbGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgICByZXR1cm4gKCkgPT4gbGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgfTtcbiAgICBjb25zdCBhcGkgPSB7IHNldFN0YXRlLCBnZXRTdGF0ZSwgZ2V0SW5pdGlhbFN0YXRlLCBzdWJzY3JpYmUgfTtcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHNldFN0YXRlLCBnZXRTdGF0ZSwgYXBpKTtcbiAgICByZXR1cm4gYXBpO1xuICB9O1xuICBjb25zdCBjcmVhdGVTdG9yZSA9IChjcmVhdGVTdGF0ZSkgPT4gY3JlYXRlU3RhdGUgPyBjcmVhdGVTdG9yZUltcGwoY3JlYXRlU3RhdGUpIDogY3JlYXRlU3RvcmVJbXBsO1xuICBjb25zdCBpZGVudGl0eSA9IChhcmcpID0+IGFyZztcbiAgZnVuY3Rpb24gdXNlU3RvcmUoYXBpLCBzZWxlY3RvciA9IGlkZW50aXR5KSB7XG4gICAgY29uc3Qgc2xpY2UgPSBSbi51c2VTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgIGFwaS5zdWJzY3JpYmUsXG4gICAgICAoKSA9PiBzZWxlY3RvcihhcGkuZ2V0U3RhdGUoKSksXG4gICAgICAoKSA9PiBzZWxlY3RvcihhcGkuZ2V0SW5pdGlhbFN0YXRlKCkpXG4gICAgKTtcbiAgICBSbi51c2VEZWJ1Z1ZhbHVlKHNsaWNlKTtcbiAgICByZXR1cm4gc2xpY2U7XG4gIH1cbiAgY29uc3QgY3JlYXRlSW1wbCA9IChjcmVhdGVTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IGFwaSA9IGNyZWF0ZVN0b3JlKGNyZWF0ZVN0YXRlKTtcbiAgICBjb25zdCB1c2VCb3VuZFN0b3JlID0gKHNlbGVjdG9yKSA9PiB1c2VTdG9yZShhcGksIHNlbGVjdG9yKTtcbiAgICBPYmplY3QuYXNzaWduKHVzZUJvdW5kU3RvcmUsIGFwaSk7XG4gICAgcmV0dXJuIHVzZUJvdW5kU3RvcmU7XG4gIH07XG4gIGNvbnN0IGNyZWF0ZSA9IChjcmVhdGVTdGF0ZSkgPT4gY3JlYXRlU3RhdGUgPyBjcmVhdGVJbXBsKGNyZWF0ZVN0YXRlKSA6IGNyZWF0ZUltcGw7XG4gIGNsYXNzIERvdWJsZUluZGV4ZWRLViB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICB0aGlzLmtleVRvVmFsdWUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgdGhpcy52YWx1ZVRvS2V5ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB9XG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMua2V5VG9WYWx1ZS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB0aGlzLnZhbHVlVG9LZXkuc2V0KHZhbHVlLCBrZXkpO1xuICAgIH1cbiAgICBnZXRCeUtleShrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmtleVRvVmFsdWUuZ2V0KGtleSk7XG4gICAgfVxuICAgIGdldEJ5VmFsdWUodmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlVG9LZXkuZ2V0KHZhbHVlKTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICB0aGlzLmtleVRvVmFsdWUuY2xlYXIoKTtcbiAgICAgIHRoaXMudmFsdWVUb0tleS5jbGVhcigpO1xuICAgIH1cbiAgfVxuICBjbGFzcyBSZWdpc3RyeSB7XG4gICAgY29uc3RydWN0b3IoZ2VuZXJhdGVJZGVudGlmaWVyKSB7XG4gICAgICB0aGlzLmdlbmVyYXRlSWRlbnRpZmllciA9IGdlbmVyYXRlSWRlbnRpZmllcjtcbiAgICAgIHRoaXMua3YgPSBuZXcgRG91YmxlSW5kZXhlZEtWKCk7XG4gICAgfVxuICAgIHJlZ2lzdGVyKHZhbHVlLCBpZGVudGlmaWVyKSB7XG4gICAgICBpZiAodGhpcy5rdi5nZXRCeVZhbHVlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICAgICAgaWRlbnRpZmllciA9IHRoaXMuZ2VuZXJhdGVJZGVudGlmaWVyKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMua3Yuc2V0KGlkZW50aWZpZXIsIHZhbHVlKTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICB0aGlzLmt2LmNsZWFyKCk7XG4gICAgfVxuICAgIGdldElkZW50aWZpZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmt2LmdldEJ5VmFsdWUodmFsdWUpO1xuICAgIH1cbiAgICBnZXRWYWx1ZShpZGVudGlmaWVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5rdi5nZXRCeUtleShpZGVudGlmaWVyKTtcbiAgICB9XG4gIH1cbiAgY2xhc3MgQ2xhc3NSZWdpc3RyeSBleHRlbmRzIFJlZ2lzdHJ5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKChjMikgPT4gYzIubmFtZSk7XG4gICAgICB0aGlzLmNsYXNzVG9BbGxvd2VkUHJvcHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIH1cbiAgICByZWdpc3Rlcih2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmFsbG93UHJvcHMpIHtcbiAgICAgICAgICB0aGlzLmNsYXNzVG9BbGxvd2VkUHJvcHMuc2V0KHZhbHVlLCBvcHRpb25zLmFsbG93UHJvcHMpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLnJlZ2lzdGVyKHZhbHVlLCBvcHRpb25zLmlkZW50aWZpZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3VwZXIucmVnaXN0ZXIodmFsdWUsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgICBnZXRBbGxvd2VkUHJvcHModmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsYXNzVG9BbGxvd2VkUHJvcHMuZ2V0KHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdmFsdWVzT2ZPYmoocmVjb3JkKSB7XG4gICAgaWYgKFwidmFsdWVzXCIgaW4gT2JqZWN0KSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhyZWNvcmQpO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiByZWNvcmQpIHtcbiAgICAgIGlmIChyZWNvcmQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICB2YWx1ZXMucHVzaChyZWNvcmRba2V5XSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cbiAgZnVuY3Rpb24gZmluZChyZWNvcmQsIHByZWRpY2F0ZSkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHZhbHVlc09mT2JqKHJlY29yZCk7XG4gICAgaWYgKFwiZmluZFwiIGluIHZhbHVlcykge1xuICAgICAgcmV0dXJuIHZhbHVlcy5maW5kKHByZWRpY2F0ZSk7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlc05vdE5ldmVyID0gdmFsdWVzO1xuICAgIGZvciAobGV0IGkyID0gMDsgaTIgPCB2YWx1ZXNOb3ROZXZlci5sZW5ndGg7IGkyKyspIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzTm90TmV2ZXJbaTJdO1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGZ1bmN0aW9uIGZvckVhY2gocmVjb3JkLCBydW4pIHtcbiAgICBPYmplY3QuZW50cmllcyhyZWNvcmQpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4gcnVuKHZhbHVlLCBrZXkpKTtcbiAgfVxuICBmdW5jdGlvbiBpbmNsdWRlcyhhcnIsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGFyci5pbmRleE9mKHZhbHVlKSAhPT0gLTE7XG4gIH1cbiAgZnVuY3Rpb24gZmluZEFycihyZWNvcmQsIHByZWRpY2F0ZSkge1xuICAgIGZvciAobGV0IGkyID0gMDsgaTIgPCByZWNvcmQubGVuZ3RoOyBpMisrKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHJlY29yZFtpMl07XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY2xhc3MgQ3VzdG9tVHJhbnNmb3JtZXJSZWdpc3RyeSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICB0aGlzLnRyYW5zZm9tZXJzID0ge307XG4gICAgfVxuICAgIHJlZ2lzdGVyKHRyYW5zZm9ybWVyKSB7XG4gICAgICB0aGlzLnRyYW5zZm9tZXJzW3RyYW5zZm9ybWVyLm5hbWVdID0gdHJhbnNmb3JtZXI7XG4gICAgfVxuICAgIGZpbmRBcHBsaWNhYmxlKHYyKSB7XG4gICAgICByZXR1cm4gZmluZCh0aGlzLnRyYW5zZm9tZXJzLCAodHJhbnNmb3JtZXIpID0+IHRyYW5zZm9ybWVyLmlzQXBwbGljYWJsZSh2MikpO1xuICAgIH1cbiAgICBmaW5kQnlOYW1lKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9tZXJzW25hbWVdO1xuICAgIH1cbiAgfVxuICBjb25zdCBnZXRUeXBlJDEgPSAocGF5bG9hZCkgPT4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHBheWxvYWQpLnNsaWNlKDgsIC0xKTtcbiAgY29uc3QgaXNVbmRlZmluZWQgPSAocGF5bG9hZCkgPT4gdHlwZW9mIHBheWxvYWQgPT09IFwidW5kZWZpbmVkXCI7XG4gIGNvbnN0IGlzTnVsbCA9IChwYXlsb2FkKSA9PiBwYXlsb2FkID09PSBudWxsO1xuICBjb25zdCBpc1BsYWluT2JqZWN0JDEgPSAocGF5bG9hZCkgPT4ge1xuICAgIGlmICh0eXBlb2YgcGF5bG9hZCAhPT0gXCJvYmplY3RcIiB8fCBwYXlsb2FkID09PSBudWxsKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChwYXlsb2FkID09PSBPYmplY3QucHJvdG90eXBlKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YocGF5bG9hZCkgPT09IG51bGwpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBheWxvYWQpID09PSBPYmplY3QucHJvdG90eXBlO1xuICB9O1xuICBjb25zdCBpc0VtcHR5T2JqZWN0ID0gKHBheWxvYWQpID0+IGlzUGxhaW5PYmplY3QkMShwYXlsb2FkKSAmJiBPYmplY3Qua2V5cyhwYXlsb2FkKS5sZW5ndGggPT09IDA7XG4gIGNvbnN0IGlzQXJyYXkkMSA9IChwYXlsb2FkKSA9PiBBcnJheS5pc0FycmF5KHBheWxvYWQpO1xuICBjb25zdCBpc1N0cmluZyQxID0gKHBheWxvYWQpID0+IHR5cGVvZiBwYXlsb2FkID09PSBcInN0cmluZ1wiO1xuICBjb25zdCBpc051bWJlciQxID0gKHBheWxvYWQpID0+IHR5cGVvZiBwYXlsb2FkID09PSBcIm51bWJlclwiICYmICFpc05hTihwYXlsb2FkKTtcbiAgY29uc3QgaXNCb29sZWFuID0gKHBheWxvYWQpID0+IHR5cGVvZiBwYXlsb2FkID09PSBcImJvb2xlYW5cIjtcbiAgY29uc3QgaXNSZWdFeHAgPSAocGF5bG9hZCkgPT4gcGF5bG9hZCBpbnN0YW5jZW9mIFJlZ0V4cDtcbiAgY29uc3QgaXNNYXAgPSAocGF5bG9hZCkgPT4gcGF5bG9hZCBpbnN0YW5jZW9mIE1hcDtcbiAgY29uc3QgaXNTZXQgPSAocGF5bG9hZCkgPT4gcGF5bG9hZCBpbnN0YW5jZW9mIFNldDtcbiAgY29uc3QgaXNTeW1ib2wgPSAocGF5bG9hZCkgPT4gZ2V0VHlwZSQxKHBheWxvYWQpID09PSBcIlN5bWJvbFwiO1xuICBjb25zdCBpc0RhdGUgPSAocGF5bG9hZCkgPT4gcGF5bG9hZCBpbnN0YW5jZW9mIERhdGUgJiYgIWlzTmFOKHBheWxvYWQudmFsdWVPZigpKTtcbiAgY29uc3QgaXNFcnJvciA9IChwYXlsb2FkKSA9PiBwYXlsb2FkIGluc3RhbmNlb2YgRXJyb3I7XG4gIGNvbnN0IGlzTmFOVmFsdWUgPSAocGF5bG9hZCkgPT4gdHlwZW9mIHBheWxvYWQgPT09IFwibnVtYmVyXCIgJiYgaXNOYU4ocGF5bG9hZCk7XG4gIGNvbnN0IGlzUHJpbWl0aXZlID0gKHBheWxvYWQpID0+IGlzQm9vbGVhbihwYXlsb2FkKSB8fCBpc051bGwocGF5bG9hZCkgfHwgaXNVbmRlZmluZWQocGF5bG9hZCkgfHwgaXNOdW1iZXIkMShwYXlsb2FkKSB8fCBpc1N0cmluZyQxKHBheWxvYWQpIHx8IGlzU3ltYm9sKHBheWxvYWQpO1xuICBjb25zdCBpc0JpZ2ludCA9IChwYXlsb2FkKSA9PiB0eXBlb2YgcGF5bG9hZCA9PT0gXCJiaWdpbnRcIjtcbiAgY29uc3QgaXNJbmZpbml0ZSA9IChwYXlsb2FkKSA9PiBwYXlsb2FkID09PSBJbmZpbml0eSB8fCBwYXlsb2FkID09PSAtSW5maW5pdHk7XG4gIGNvbnN0IGlzVHlwZWRBcnJheSA9IChwYXlsb2FkKSA9PiBBcnJheUJ1ZmZlci5pc1ZpZXcocGF5bG9hZCkgJiYgIShwYXlsb2FkIGluc3RhbmNlb2YgRGF0YVZpZXcpO1xuICBjb25zdCBpc1VSTCA9IChwYXlsb2FkKSA9PiBwYXlsb2FkIGluc3RhbmNlb2YgVVJMO1xuICBjb25zdCBlc2NhcGVLZXkgPSAoa2V5KSA9PiBrZXkucmVwbGFjZSgvXFwuL2csIFwiXFxcXC5cIik7XG4gIGNvbnN0IHN0cmluZ2lmeVBhdGggPSAocGF0aCkgPT4gcGF0aC5tYXAoU3RyaW5nKS5tYXAoZXNjYXBlS2V5KS5qb2luKFwiLlwiKTtcbiAgY29uc3QgcGFyc2VQYXRoID0gKHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGxldCBzZWdtZW50ID0gXCJcIjtcbiAgICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgc3RyaW5nLmxlbmd0aDsgaTIrKykge1xuICAgICAgbGV0IGNoYXIgPSBzdHJpbmcuY2hhckF0KGkyKTtcbiAgICAgIGNvbnN0IGlzRXNjYXBlZERvdCA9IGNoYXIgPT09IFwiXFxcXFwiICYmIHN0cmluZy5jaGFyQXQoaTIgKyAxKSA9PT0gXCIuXCI7XG4gICAgICBpZiAoaXNFc2NhcGVkRG90KSB7XG4gICAgICAgIHNlZ21lbnQgKz0gXCIuXCI7XG4gICAgICAgIGkyKys7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgaXNFbmRPZlNlZ21lbnQgPSBjaGFyID09PSBcIi5cIjtcbiAgICAgIGlmIChpc0VuZE9mU2VnbWVudCkge1xuICAgICAgICByZXN1bHQucHVzaChzZWdtZW50KTtcbiAgICAgICAgc2VnbWVudCA9IFwiXCI7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgc2VnbWVudCArPSBjaGFyO1xuICAgIH1cbiAgICBjb25zdCBsYXN0U2VnbWVudCA9IHNlZ21lbnQ7XG4gICAgcmVzdWx0LnB1c2gobGFzdFNlZ21lbnQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIGZ1bmN0aW9uIHNpbXBsZVRyYW5zZm9ybWF0aW9uKGlzQXBwbGljYWJsZSwgYW5ub3RhdGlvbiwgdHJhbnNmb3JtLCB1bnRyYW5zZm9ybSkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0FwcGxpY2FibGUsXG4gICAgICBhbm5vdGF0aW9uLFxuICAgICAgdHJhbnNmb3JtLFxuICAgICAgdW50cmFuc2Zvcm1cbiAgICB9O1xuICB9XG4gIGNvbnN0IHNpbXBsZVJ1bGVzID0gW1xuICAgIHNpbXBsZVRyYW5zZm9ybWF0aW9uKGlzVW5kZWZpbmVkLCBcInVuZGVmaW5lZFwiLCAoKSA9PiBudWxsLCAoKSA9PiB2b2lkIDApLFxuICAgIHNpbXBsZVRyYW5zZm9ybWF0aW9uKGlzQmlnaW50LCBcImJpZ2ludFwiLCAodjIpID0+IHYyLnRvU3RyaW5nKCksICh2MikgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBCaWdJbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIEJpZ0ludCh2Mik7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmVycm9yKFwiUGxlYXNlIGFkZCBhIEJpZ0ludCBwb2x5ZmlsbC5cIik7XG4gICAgICByZXR1cm4gdjI7XG4gICAgfSksXG4gICAgc2ltcGxlVHJhbnNmb3JtYXRpb24oaXNEYXRlLCBcIkRhdGVcIiwgKHYyKSA9PiB2Mi50b0lTT1N0cmluZygpLCAodjIpID0+IG5ldyBEYXRlKHYyKSksXG4gICAgc2ltcGxlVHJhbnNmb3JtYXRpb24oaXNFcnJvciwgXCJFcnJvclwiLCAodjIsIHN1cGVySnNvbikgPT4ge1xuICAgICAgY29uc3QgYmFzZUVycm9yID0ge1xuICAgICAgICBuYW1lOiB2Mi5uYW1lLFxuICAgICAgICBtZXNzYWdlOiB2Mi5tZXNzYWdlXG4gICAgICB9O1xuICAgICAgc3VwZXJKc29uLmFsbG93ZWRFcnJvclByb3BzLmZvckVhY2goKHByb3ApID0+IHtcbiAgICAgICAgYmFzZUVycm9yW3Byb3BdID0gdjJbcHJvcF07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBiYXNlRXJyb3I7XG4gICAgfSwgKHYyLCBzdXBlckpzb24pID0+IHtcbiAgICAgIGNvbnN0IGUyID0gbmV3IEVycm9yKHYyLm1lc3NhZ2UpO1xuICAgICAgZTIubmFtZSA9IHYyLm5hbWU7XG4gICAgICBlMi5zdGFjayA9IHYyLnN0YWNrO1xuICAgICAgc3VwZXJKc29uLmFsbG93ZWRFcnJvclByb3BzLmZvckVhY2goKHByb3ApID0+IHtcbiAgICAgICAgZTJbcHJvcF0gPSB2Mltwcm9wXTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGUyO1xuICAgIH0pLFxuICAgIHNpbXBsZVRyYW5zZm9ybWF0aW9uKGlzUmVnRXhwLCBcInJlZ2V4cFwiLCAodjIpID0+IFwiXCIgKyB2MiwgKHJlZ2V4KSA9PiB7XG4gICAgICBjb25zdCBib2R5ID0gcmVnZXguc2xpY2UoMSwgcmVnZXgubGFzdEluZGV4T2YoXCIvXCIpKTtcbiAgICAgIGNvbnN0IGZsYWdzID0gcmVnZXguc2xpY2UocmVnZXgubGFzdEluZGV4T2YoXCIvXCIpICsgMSk7XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cChib2R5LCBmbGFncyk7XG4gICAgfSksXG4gICAgc2ltcGxlVHJhbnNmb3JtYXRpb24oXG4gICAgICBpc1NldCxcbiAgICAgIFwic2V0XCIsXG4gICAgICAvLyAoc2V0cyBvbmx5IGV4aXN0IGluIGVzNispXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXM1L25vLWVzNi1tZXRob2RzXG4gICAgICAodjIpID0+IFsuLi52Mi52YWx1ZXMoKV0sXG4gICAgICAodjIpID0+IG5ldyBTZXQodjIpXG4gICAgKSxcbiAgICBzaW1wbGVUcmFuc2Zvcm1hdGlvbihpc01hcCwgXCJtYXBcIiwgKHYyKSA9PiBbLi4udjIuZW50cmllcygpXSwgKHYyKSA9PiBuZXcgTWFwKHYyKSksXG4gICAgc2ltcGxlVHJhbnNmb3JtYXRpb24oKHYyKSA9PiBpc05hTlZhbHVlKHYyKSB8fCBpc0luZmluaXRlKHYyKSwgXCJudW1iZXJcIiwgKHYyKSA9PiB7XG4gICAgICBpZiAoaXNOYU5WYWx1ZSh2MikpIHtcbiAgICAgICAgcmV0dXJuIFwiTmFOXCI7XG4gICAgICB9XG4gICAgICBpZiAodjIgPiAwKSB7XG4gICAgICAgIHJldHVybiBcIkluZmluaXR5XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCItSW5maW5pdHlcIjtcbiAgICAgIH1cbiAgICB9LCBOdW1iZXIpLFxuICAgIHNpbXBsZVRyYW5zZm9ybWF0aW9uKCh2MikgPT4gdjIgPT09IDAgJiYgMSAvIHYyID09PSAtSW5maW5pdHksIFwibnVtYmVyXCIsICgpID0+IHtcbiAgICAgIHJldHVybiBcIi0wXCI7XG4gICAgfSwgTnVtYmVyKSxcbiAgICBzaW1wbGVUcmFuc2Zvcm1hdGlvbihpc1VSTCwgXCJVUkxcIiwgKHYyKSA9PiB2Mi50b1N0cmluZygpLCAodjIpID0+IG5ldyBVUkwodjIpKVxuICBdO1xuICBmdW5jdGlvbiBjb21wb3NpdGVUcmFuc2Zvcm1hdGlvbihpc0FwcGxpY2FibGUsIGFubm90YXRpb24sIHRyYW5zZm9ybSwgdW50cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNBcHBsaWNhYmxlLFxuICAgICAgYW5ub3RhdGlvbixcbiAgICAgIHRyYW5zZm9ybSxcbiAgICAgIHVudHJhbnNmb3JtXG4gICAgfTtcbiAgfVxuICBjb25zdCBzeW1ib2xSdWxlID0gY29tcG9zaXRlVHJhbnNmb3JtYXRpb24oKHMyLCBzdXBlckpzb24pID0+IHtcbiAgICBpZiAoaXNTeW1ib2woczIpKSB7XG4gICAgICBjb25zdCBpc1JlZ2lzdGVyZWQgPSAhIXN1cGVySnNvbi5zeW1ib2xSZWdpc3RyeS5nZXRJZGVudGlmaWVyKHMyKTtcbiAgICAgIHJldHVybiBpc1JlZ2lzdGVyZWQ7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSwgKHMyLCBzdXBlckpzb24pID0+IHtcbiAgICBjb25zdCBpZGVudGlmaWVyID0gc3VwZXJKc29uLnN5bWJvbFJlZ2lzdHJ5LmdldElkZW50aWZpZXIoczIpO1xuICAgIHJldHVybiBbXCJzeW1ib2xcIiwgaWRlbnRpZmllcl07XG4gIH0sICh2MikgPT4gdjIuZGVzY3JpcHRpb24sIChfMiwgYTIsIHN1cGVySnNvbikgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gc3VwZXJKc29uLnN5bWJvbFJlZ2lzdHJ5LmdldFZhbHVlKGEyWzFdKTtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gZGVzZXJpYWxpemUgdW5rbm93biBzeW1ib2xcIik7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSk7XG4gIGNvbnN0IGNvbnN0cnVjdG9yVG9OYW1lID0gW1xuICAgIEludDhBcnJheSxcbiAgICBVaW50OEFycmF5LFxuICAgIEludDE2QXJyYXksXG4gICAgVWludDE2QXJyYXksXG4gICAgSW50MzJBcnJheSxcbiAgICBVaW50MzJBcnJheSxcbiAgICBGbG9hdDMyQXJyYXksXG4gICAgRmxvYXQ2NEFycmF5LFxuICAgIFVpbnQ4Q2xhbXBlZEFycmF5XG4gIF0ucmVkdWNlKChvYmosIGN0b3IpID0+IHtcbiAgICBvYmpbY3Rvci5uYW1lXSA9IGN0b3I7XG4gICAgcmV0dXJuIG9iajtcbiAgfSwge30pO1xuICBjb25zdCB0eXBlZEFycmF5UnVsZSA9IGNvbXBvc2l0ZVRyYW5zZm9ybWF0aW9uKGlzVHlwZWRBcnJheSwgKHYyKSA9PiBbXCJ0eXBlZC1hcnJheVwiLCB2Mi5jb25zdHJ1Y3Rvci5uYW1lXSwgKHYyKSA9PiBbLi4udjJdLCAodjIsIGEyKSA9PiB7XG4gICAgY29uc3QgY3RvciA9IGNvbnN0cnVjdG9yVG9OYW1lW2EyWzFdXTtcbiAgICBpZiAoIWN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBkZXNlcmlhbGl6ZSB1bmtub3duIHR5cGVkIGFycmF5XCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IGN0b3IodjIpO1xuICB9KTtcbiAgZnVuY3Rpb24gaXNJbnN0YW5jZU9mUmVnaXN0ZXJlZENsYXNzKHBvdGVudGlhbENsYXNzLCBzdXBlckpzb24pIHtcbiAgICBpZiAocG90ZW50aWFsQ2xhc3MgPT0gbnVsbCA/IHZvaWQgMCA6IHBvdGVudGlhbENsYXNzLmNvbnN0cnVjdG9yKSB7XG4gICAgICBjb25zdCBpc1JlZ2lzdGVyZWQgPSAhIXN1cGVySnNvbi5jbGFzc1JlZ2lzdHJ5LmdldElkZW50aWZpZXIocG90ZW50aWFsQ2xhc3MuY29uc3RydWN0b3IpO1xuICAgICAgcmV0dXJuIGlzUmVnaXN0ZXJlZDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGNsYXNzUnVsZSA9IGNvbXBvc2l0ZVRyYW5zZm9ybWF0aW9uKGlzSW5zdGFuY2VPZlJlZ2lzdGVyZWRDbGFzcywgKGNsYXp6LCBzdXBlckpzb24pID0+IHtcbiAgICBjb25zdCBpZGVudGlmaWVyID0gc3VwZXJKc29uLmNsYXNzUmVnaXN0cnkuZ2V0SWRlbnRpZmllcihjbGF6ei5jb25zdHJ1Y3Rvcik7XG4gICAgcmV0dXJuIFtcImNsYXNzXCIsIGlkZW50aWZpZXJdO1xuICB9LCAoY2xhenosIHN1cGVySnNvbikgPT4ge1xuICAgIGNvbnN0IGFsbG93ZWRQcm9wcyA9IHN1cGVySnNvbi5jbGFzc1JlZ2lzdHJ5LmdldEFsbG93ZWRQcm9wcyhjbGF6ei5jb25zdHJ1Y3Rvcik7XG4gICAgaWYgKCFhbGxvd2VkUHJvcHMpIHtcbiAgICAgIHJldHVybiB7IC4uLmNsYXp6IH07XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGFsbG93ZWRQcm9wcy5mb3JFYWNoKChwcm9wKSA9PiB7XG4gICAgICByZXN1bHRbcHJvcF0gPSBjbGF6eltwcm9wXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCAodjIsIGEyLCBzdXBlckpzb24pID0+IHtcbiAgICBjb25zdCBjbGF6eiA9IHN1cGVySnNvbi5jbGFzc1JlZ2lzdHJ5LmdldFZhbHVlKGEyWzFdKTtcbiAgICBpZiAoIWNsYXp6KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFRyeWluZyB0byBkZXNlcmlhbGl6ZSB1bmtub3duIGNsYXNzICcke2EyWzFdfScgLSBjaGVjayBodHRwczovL2dpdGh1Yi5jb20vYmxpdHotanMvc3VwZXJqc29uL2lzc3Vlcy8xMTYjaXNzdWVjb21tZW50LTc3Mzk5NjU2NGApO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGNsYXp6LnByb3RvdHlwZSksIHYyKTtcbiAgfSk7XG4gIGNvbnN0IGN1c3RvbVJ1bGUgPSBjb21wb3NpdGVUcmFuc2Zvcm1hdGlvbigodmFsdWUsIHN1cGVySnNvbikgPT4ge1xuICAgIHJldHVybiAhIXN1cGVySnNvbi5jdXN0b21UcmFuc2Zvcm1lclJlZ2lzdHJ5LmZpbmRBcHBsaWNhYmxlKHZhbHVlKTtcbiAgfSwgKHZhbHVlLCBzdXBlckpzb24pID0+IHtcbiAgICBjb25zdCB0cmFuc2Zvcm1lciA9IHN1cGVySnNvbi5jdXN0b21UcmFuc2Zvcm1lclJlZ2lzdHJ5LmZpbmRBcHBsaWNhYmxlKHZhbHVlKTtcbiAgICByZXR1cm4gW1wiY3VzdG9tXCIsIHRyYW5zZm9ybWVyLm5hbWVdO1xuICB9LCAodmFsdWUsIHN1cGVySnNvbikgPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gc3VwZXJKc29uLmN1c3RvbVRyYW5zZm9ybWVyUmVnaXN0cnkuZmluZEFwcGxpY2FibGUodmFsdWUpO1xuICAgIHJldHVybiB0cmFuc2Zvcm1lci5zZXJpYWxpemUodmFsdWUpO1xuICB9LCAodjIsIGEyLCBzdXBlckpzb24pID0+IHtcbiAgICBjb25zdCB0cmFuc2Zvcm1lciA9IHN1cGVySnNvbi5jdXN0b21UcmFuc2Zvcm1lclJlZ2lzdHJ5LmZpbmRCeU5hbWUoYTJbMV0pO1xuICAgIGlmICghdHJhbnNmb3JtZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBkZXNlcmlhbGl6ZSB1bmtub3duIGN1c3RvbSB2YWx1ZVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybWVyLmRlc2VyaWFsaXplKHYyKTtcbiAgfSk7XG4gIGNvbnN0IGNvbXBvc2l0ZVJ1bGVzID0gW2NsYXNzUnVsZSwgc3ltYm9sUnVsZSwgY3VzdG9tUnVsZSwgdHlwZWRBcnJheVJ1bGVdO1xuICBjb25zdCB0cmFuc2Zvcm1WYWx1ZSA9ICh2YWx1ZSwgc3VwZXJKc29uKSA9PiB7XG4gICAgY29uc3QgYXBwbGljYWJsZUNvbXBvc2l0ZVJ1bGUgPSBmaW5kQXJyKGNvbXBvc2l0ZVJ1bGVzLCAocnVsZSkgPT4gcnVsZS5pc0FwcGxpY2FibGUodmFsdWUsIHN1cGVySnNvbikpO1xuICAgIGlmIChhcHBsaWNhYmxlQ29tcG9zaXRlUnVsZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IGFwcGxpY2FibGVDb21wb3NpdGVSdWxlLnRyYW5zZm9ybSh2YWx1ZSwgc3VwZXJKc29uKSxcbiAgICAgICAgdHlwZTogYXBwbGljYWJsZUNvbXBvc2l0ZVJ1bGUuYW5ub3RhdGlvbih2YWx1ZSwgc3VwZXJKc29uKVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgYXBwbGljYWJsZVNpbXBsZVJ1bGUgPSBmaW5kQXJyKHNpbXBsZVJ1bGVzLCAocnVsZSkgPT4gcnVsZS5pc0FwcGxpY2FibGUodmFsdWUsIHN1cGVySnNvbikpO1xuICAgIGlmIChhcHBsaWNhYmxlU2ltcGxlUnVsZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IGFwcGxpY2FibGVTaW1wbGVSdWxlLnRyYW5zZm9ybSh2YWx1ZSwgc3VwZXJKc29uKSxcbiAgICAgICAgdHlwZTogYXBwbGljYWJsZVNpbXBsZVJ1bGUuYW5ub3RhdGlvblxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfTtcbiAgY29uc3Qgc2ltcGxlUnVsZXNCeUFubm90YXRpb24gPSB7fTtcbiAgc2ltcGxlUnVsZXMuZm9yRWFjaCgocnVsZSkgPT4ge1xuICAgIHNpbXBsZVJ1bGVzQnlBbm5vdGF0aW9uW3J1bGUuYW5ub3RhdGlvbl0gPSBydWxlO1xuICB9KTtcbiAgY29uc3QgdW50cmFuc2Zvcm1WYWx1ZSA9IChqc29uLCB0eXBlLCBzdXBlckpzb24pID0+IHtcbiAgICBpZiAoaXNBcnJheSQxKHR5cGUpKSB7XG4gICAgICBzd2l0Y2ggKHR5cGVbMF0pIHtcbiAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgIHJldHVybiBzeW1ib2xSdWxlLnVudHJhbnNmb3JtKGpzb24sIHR5cGUsIHN1cGVySnNvbik7XG4gICAgICAgIGNhc2UgXCJjbGFzc1wiOlxuICAgICAgICAgIHJldHVybiBjbGFzc1J1bGUudW50cmFuc2Zvcm0oanNvbiwgdHlwZSwgc3VwZXJKc29uKTtcbiAgICAgICAgY2FzZSBcImN1c3RvbVwiOlxuICAgICAgICAgIHJldHVybiBjdXN0b21SdWxlLnVudHJhbnNmb3JtKGpzb24sIHR5cGUsIHN1cGVySnNvbik7XG4gICAgICAgIGNhc2UgXCJ0eXBlZC1hcnJheVwiOlxuICAgICAgICAgIHJldHVybiB0eXBlZEFycmF5UnVsZS51bnRyYW5zZm9ybShqc29uLCB0eXBlLCBzdXBlckpzb24pO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gdHJhbnNmb3JtYXRpb246IFwiICsgdHlwZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uID0gc2ltcGxlUnVsZXNCeUFubm90YXRpb25bdHlwZV07XG4gICAgICBpZiAoIXRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gdHJhbnNmb3JtYXRpb246IFwiICsgdHlwZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJhbnNmb3JtYXRpb24udW50cmFuc2Zvcm0oanNvbiwgc3VwZXJKc29uKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGdldE50aEtleSA9ICh2YWx1ZSwgbjIpID0+IHtcbiAgICBpZiAobjIgPiB2YWx1ZS5zaXplKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW5kZXggb3V0IG9mIGJvdW5kc1wiKTtcbiAgICBjb25zdCBrZXlzID0gdmFsdWUua2V5cygpO1xuICAgIHdoaWxlIChuMiA+IDApIHtcbiAgICAgIGtleXMubmV4dCgpO1xuICAgICAgbjItLTtcbiAgICB9XG4gICAgcmV0dXJuIGtleXMubmV4dCgpLnZhbHVlO1xuICB9O1xuICBmdW5jdGlvbiB2YWxpZGF0ZVBhdGgocGF0aCkge1xuICAgIGlmIChpbmNsdWRlcyhwYXRoLCBcIl9fcHJvdG9fX1wiKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiX19wcm90b19fIGlzIG5vdCBhbGxvd2VkIGFzIGEgcHJvcGVydHlcIik7XG4gICAgfVxuICAgIGlmIChpbmNsdWRlcyhwYXRoLCBcInByb3RvdHlwZVwiKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwicHJvdG90eXBlIGlzIG5vdCBhbGxvd2VkIGFzIGEgcHJvcGVydHlcIik7XG4gICAgfVxuICAgIGlmIChpbmNsdWRlcyhwYXRoLCBcImNvbnN0cnVjdG9yXCIpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb25zdHJ1Y3RvciBpcyBub3QgYWxsb3dlZCBhcyBhIHByb3BlcnR5XCIpO1xuICAgIH1cbiAgfVxuICBjb25zdCBnZXREZWVwID0gKG9iamVjdCwgcGF0aCkgPT4ge1xuICAgIHZhbGlkYXRlUGF0aChwYXRoKTtcbiAgICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgcGF0aC5sZW5ndGg7IGkyKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IHBhdGhbaTJdO1xuICAgICAgaWYgKGlzU2V0KG9iamVjdCkpIHtcbiAgICAgICAgb2JqZWN0ID0gZ2V0TnRoS2V5KG9iamVjdCwgK2tleSk7XG4gICAgICB9IGVsc2UgaWYgKGlzTWFwKG9iamVjdCkpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gK2tleTtcbiAgICAgICAgY29uc3QgdHlwZSA9ICtwYXRoWysraTJdID09PSAwID8gXCJrZXlcIiA6IFwidmFsdWVcIjtcbiAgICAgICAgY29uc3Qga2V5T2ZSb3cgPSBnZXROdGhLZXkob2JqZWN0LCByb3cpO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwia2V5XCI6XG4gICAgICAgICAgICBvYmplY3QgPSBrZXlPZlJvdztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgb2JqZWN0ID0gb2JqZWN0LmdldChrZXlPZlJvdyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH07XG4gIGNvbnN0IHNldERlZXAgPSAob2JqZWN0LCBwYXRoLCBtYXBwZXIpID0+IHtcbiAgICB2YWxpZGF0ZVBhdGgocGF0aCk7XG4gICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbWFwcGVyKG9iamVjdCk7XG4gICAgfVxuICAgIGxldCBwYXJlbnQgPSBvYmplY3Q7XG4gICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IHBhdGgubGVuZ3RoIC0gMTsgaTIrKykge1xuICAgICAgY29uc3Qga2V5ID0gcGF0aFtpMl07XG4gICAgICBpZiAoaXNBcnJheSQxKHBhcmVudCkpIHtcbiAgICAgICAgY29uc3QgaW5kZXgyID0gK2tleTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50W2luZGV4Ml07XG4gICAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QkMShwYXJlbnQpKSB7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudFtrZXldO1xuICAgICAgfSBlbHNlIGlmIChpc1NldChwYXJlbnQpKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9ICtrZXk7XG4gICAgICAgIHBhcmVudCA9IGdldE50aEtleShwYXJlbnQsIHJvdyk7XG4gICAgICB9IGVsc2UgaWYgKGlzTWFwKHBhcmVudCkpIHtcbiAgICAgICAgY29uc3QgaXNFbmQgPSBpMiA9PT0gcGF0aC5sZW5ndGggLSAyO1xuICAgICAgICBpZiAoaXNFbmQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByb3cgPSAra2V5O1xuICAgICAgICBjb25zdCB0eXBlID0gK3BhdGhbKytpMl0gPT09IDAgPyBcImtleVwiIDogXCJ2YWx1ZVwiO1xuICAgICAgICBjb25zdCBrZXlPZlJvdyA9IGdldE50aEtleShwYXJlbnQsIHJvdyk7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJrZXlcIjpcbiAgICAgICAgICAgIHBhcmVudCA9IGtleU9mUm93O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQuZ2V0KGtleU9mUm93KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGxhc3RLZXkgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gICAgaWYgKGlzQXJyYXkkMShwYXJlbnQpKSB7XG4gICAgICBwYXJlbnRbK2xhc3RLZXldID0gbWFwcGVyKHBhcmVudFsrbGFzdEtleV0pO1xuICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCQxKHBhcmVudCkpIHtcbiAgICAgIHBhcmVudFtsYXN0S2V5XSA9IG1hcHBlcihwYXJlbnRbbGFzdEtleV0pO1xuICAgIH1cbiAgICBpZiAoaXNTZXQocGFyZW50KSkge1xuICAgICAgY29uc3Qgb2xkVmFsdWUgPSBnZXROdGhLZXkocGFyZW50LCArbGFzdEtleSk7XG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IG1hcHBlcihvbGRWYWx1ZSk7XG4gICAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgIHBhcmVudC5kZWxldGUob2xkVmFsdWUpO1xuICAgICAgICBwYXJlbnQuYWRkKG5ld1ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzTWFwKHBhcmVudCkpIHtcbiAgICAgIGNvbnN0IHJvdyA9ICtwYXRoW3BhdGgubGVuZ3RoIC0gMl07XG4gICAgICBjb25zdCBrZXlUb1JvdyA9IGdldE50aEtleShwYXJlbnQsIHJvdyk7XG4gICAgICBjb25zdCB0eXBlID0gK2xhc3RLZXkgPT09IDAgPyBcImtleVwiIDogXCJ2YWx1ZVwiO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJrZXlcIjoge1xuICAgICAgICAgIGNvbnN0IG5ld0tleSA9IG1hcHBlcihrZXlUb1Jvdyk7XG4gICAgICAgICAgcGFyZW50LnNldChuZXdLZXksIHBhcmVudC5nZXQoa2V5VG9Sb3cpKTtcbiAgICAgICAgICBpZiAobmV3S2V5ICE9PSBrZXlUb1Jvdykge1xuICAgICAgICAgICAgcGFyZW50LmRlbGV0ZShrZXlUb1Jvdyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ2YWx1ZVwiOiB7XG4gICAgICAgICAgcGFyZW50LnNldChrZXlUb1JvdywgbWFwcGVyKHBhcmVudC5nZXQoa2V5VG9Sb3cpKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfTtcbiAgZnVuY3Rpb24gdHJhdmVyc2UodHJlZSwgd2Fsa2VyMiwgb3JpZ2luID0gW10pIHtcbiAgICBpZiAoIXRyZWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpc0FycmF5JDEodHJlZSkpIHtcbiAgICAgIGZvckVhY2godHJlZSwgKHN1YnRyZWUsIGtleSkgPT4gdHJhdmVyc2Uoc3VidHJlZSwgd2Fsa2VyMiwgWy4uLm9yaWdpbiwgLi4ucGFyc2VQYXRoKGtleSldKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IFtub2RlVmFsdWUsIGNoaWxkcmVuXSA9IHRyZWU7XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICBmb3JFYWNoKGNoaWxkcmVuLCAoY2hpbGQsIGtleSkgPT4ge1xuICAgICAgICB0cmF2ZXJzZShjaGlsZCwgd2Fsa2VyMiwgWy4uLm9yaWdpbiwgLi4ucGFyc2VQYXRoKGtleSldKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB3YWxrZXIyKG5vZGVWYWx1ZSwgb3JpZ2luKTtcbiAgfVxuICBmdW5jdGlvbiBhcHBseVZhbHVlQW5ub3RhdGlvbnMocGxhaW4sIGFubm90YXRpb25zLCBzdXBlckpzb24pIHtcbiAgICB0cmF2ZXJzZShhbm5vdGF0aW9ucywgKHR5cGUsIHBhdGgpID0+IHtcbiAgICAgIHBsYWluID0gc2V0RGVlcChwbGFpbiwgcGF0aCwgKHYyKSA9PiB1bnRyYW5zZm9ybVZhbHVlKHYyLCB0eXBlLCBzdXBlckpzb24pKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGxhaW47XG4gIH1cbiAgZnVuY3Rpb24gYXBwbHlSZWZlcmVudGlhbEVxdWFsaXR5QW5ub3RhdGlvbnMocGxhaW4sIGFubm90YXRpb25zKSB7XG4gICAgZnVuY3Rpb24gYXBwbHkoaWRlbnRpY2FsUGF0aHMsIHBhdGgpIHtcbiAgICAgIGNvbnN0IG9iamVjdCA9IGdldERlZXAocGxhaW4sIHBhcnNlUGF0aChwYXRoKSk7XG4gICAgICBpZGVudGljYWxQYXRocy5tYXAocGFyc2VQYXRoKS5mb3JFYWNoKChpZGVudGljYWxPYmplY3RQYXRoKSA9PiB7XG4gICAgICAgIHBsYWluID0gc2V0RGVlcChwbGFpbiwgaWRlbnRpY2FsT2JqZWN0UGF0aCwgKCkgPT4gb2JqZWN0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheSQxKGFubm90YXRpb25zKSkge1xuICAgICAgY29uc3QgW3Jvb3QsIG90aGVyXSA9IGFubm90YXRpb25zO1xuICAgICAgcm9vdC5mb3JFYWNoKChpZGVudGljYWxQYXRoKSA9PiB7XG4gICAgICAgIHBsYWluID0gc2V0RGVlcChwbGFpbiwgcGFyc2VQYXRoKGlkZW50aWNhbFBhdGgpLCAoKSA9PiBwbGFpbik7XG4gICAgICB9KTtcbiAgICAgIGlmIChvdGhlcikge1xuICAgICAgICBmb3JFYWNoKG90aGVyLCBhcHBseSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvckVhY2goYW5ub3RhdGlvbnMsIGFwcGx5KTtcbiAgICB9XG4gICAgcmV0dXJuIHBsYWluO1xuICB9XG4gIGNvbnN0IGlzRGVlcCA9IChvYmplY3QsIHN1cGVySnNvbikgPT4gaXNQbGFpbk9iamVjdCQxKG9iamVjdCkgfHwgaXNBcnJheSQxKG9iamVjdCkgfHwgaXNNYXAob2JqZWN0KSB8fCBpc1NldChvYmplY3QpIHx8IGlzSW5zdGFuY2VPZlJlZ2lzdGVyZWRDbGFzcyhvYmplY3QsIHN1cGVySnNvbik7XG4gIGZ1bmN0aW9uIGFkZElkZW50aXR5KG9iamVjdCwgcGF0aCwgaWRlbnRpdGllcykge1xuICAgIGNvbnN0IGV4aXN0aW5nU2V0ID0gaWRlbnRpdGllcy5nZXQob2JqZWN0KTtcbiAgICBpZiAoZXhpc3RpbmdTZXQpIHtcbiAgICAgIGV4aXN0aW5nU2V0LnB1c2gocGF0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlkZW50aXRpZXMuc2V0KG9iamVjdCwgW3BhdGhdKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZ2VuZXJhdGVSZWZlcmVudGlhbEVxdWFsaXR5QW5ub3RhdGlvbnMoaWRlbnRpdGl0ZXMsIGRlZHVwZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGxldCByb290RXF1YWxpdHlQYXRocyA9IHZvaWQgMDtcbiAgICBpZGVudGl0aXRlcy5mb3JFYWNoKChwYXRocykgPT4ge1xuICAgICAgaWYgKHBhdGhzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZGVkdXBlKSB7XG4gICAgICAgIHBhdGhzID0gcGF0aHMubWFwKChwYXRoKSA9PiBwYXRoLm1hcChTdHJpbmcpKS5zb3J0KChhMiwgYjIpID0+IGEyLmxlbmd0aCAtIGIyLmxlbmd0aCk7XG4gICAgICB9XG4gICAgICBjb25zdCBbcmVwcmVzZW50YXRpdmVQYXRoLCAuLi5pZGVudGljYWxQYXRoc10gPSBwYXRocztcbiAgICAgIGlmIChyZXByZXNlbnRhdGl2ZVBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJvb3RFcXVhbGl0eVBhdGhzID0gaWRlbnRpY2FsUGF0aHMubWFwKHN0cmluZ2lmeVBhdGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W3N0cmluZ2lmeVBhdGgocmVwcmVzZW50YXRpdmVQYXRoKV0gPSBpZGVudGljYWxQYXRocy5tYXAoc3RyaW5naWZ5UGF0aCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHJvb3RFcXVhbGl0eVBhdGhzKSB7XG4gICAgICBpZiAoaXNFbXB0eU9iamVjdChyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiBbcm9vdEVxdWFsaXR5UGF0aHNdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtyb290RXF1YWxpdHlQYXRocywgcmVzdWx0XTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGlzRW1wdHlPYmplY3QocmVzdWx0KSA/IHZvaWQgMCA6IHJlc3VsdDtcbiAgICB9XG4gIH1cbiAgY29uc3Qgd2Fsa2VyID0gKG9iamVjdCwgaWRlbnRpdGllcywgc3VwZXJKc29uLCBkZWR1cGUsIHBhdGggPSBbXSwgb2JqZWN0c0luVGhpc1BhdGggPSBbXSwgc2Vlbk9iamVjdHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKSA9PiB7XG4gICAgY29uc3QgcHJpbWl0aXZlID0gaXNQcmltaXRpdmUob2JqZWN0KTtcbiAgICBpZiAoIXByaW1pdGl2ZSkge1xuICAgICAgYWRkSWRlbnRpdHkob2JqZWN0LCBwYXRoLCBpZGVudGl0aWVzKTtcbiAgICAgIGNvbnN0IHNlZW4gPSBzZWVuT2JqZWN0cy5nZXQob2JqZWN0KTtcbiAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgIHJldHVybiBkZWR1cGUgPyB7XG4gICAgICAgICAgdHJhbnNmb3JtZWRWYWx1ZTogbnVsbFxuICAgICAgICB9IDogc2VlbjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpc0RlZXAob2JqZWN0LCBzdXBlckpzb24pKSB7XG4gICAgICBjb25zdCB0cmFuc2Zvcm1lZDIgPSB0cmFuc2Zvcm1WYWx1ZShvYmplY3QsIHN1cGVySnNvbik7XG4gICAgICBjb25zdCByZXN1bHQyID0gdHJhbnNmb3JtZWQyID8ge1xuICAgICAgICB0cmFuc2Zvcm1lZFZhbHVlOiB0cmFuc2Zvcm1lZDIudmFsdWUsXG4gICAgICAgIGFubm90YXRpb25zOiBbdHJhbnNmb3JtZWQyLnR5cGVdXG4gICAgICB9IDoge1xuICAgICAgICB0cmFuc2Zvcm1lZFZhbHVlOiBvYmplY3RcbiAgICAgIH07XG4gICAgICBpZiAoIXByaW1pdGl2ZSkge1xuICAgICAgICBzZWVuT2JqZWN0cy5zZXQob2JqZWN0LCByZXN1bHQyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQyO1xuICAgIH1cbiAgICBpZiAoaW5jbHVkZXMob2JqZWN0c0luVGhpc1BhdGgsIG9iamVjdCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRyYW5zZm9ybWVkVmFsdWU6IG51bGxcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uUmVzdWx0ID0gdHJhbnNmb3JtVmFsdWUob2JqZWN0LCBzdXBlckpzb24pO1xuICAgIGNvbnN0IHRyYW5zZm9ybWVkID0gKHRyYW5zZm9ybWF0aW9uUmVzdWx0ID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2Zvcm1hdGlvblJlc3VsdC52YWx1ZSkgPz8gb2JqZWN0O1xuICAgIGNvbnN0IHRyYW5zZm9ybWVkVmFsdWUgPSBpc0FycmF5JDEodHJhbnNmb3JtZWQpID8gW10gOiB7fTtcbiAgICBjb25zdCBpbm5lckFubm90YXRpb25zID0ge307XG4gICAgZm9yRWFjaCh0cmFuc2Zvcm1lZCwgKHZhbHVlLCBpbmRleDIpID0+IHtcbiAgICAgIGlmIChpbmRleDIgPT09IFwiX19wcm90b19fXCIgfHwgaW5kZXgyID09PSBcImNvbnN0cnVjdG9yXCIgfHwgaW5kZXgyID09PSBcInByb3RvdHlwZVwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRGV0ZWN0ZWQgcHJvcGVydHkgJHtpbmRleDJ9LiBUaGlzIGlzIGEgcHJvdG90eXBlIHBvbGx1dGlvbiByaXNrLCBwbGVhc2UgcmVtb3ZlIGl0IGZyb20geW91ciBvYmplY3QuYCk7XG4gICAgICB9XG4gICAgICBjb25zdCByZWN1cnNpdmVSZXN1bHQgPSB3YWxrZXIodmFsdWUsIGlkZW50aXRpZXMsIHN1cGVySnNvbiwgZGVkdXBlLCBbLi4ucGF0aCwgaW5kZXgyXSwgWy4uLm9iamVjdHNJblRoaXNQYXRoLCBvYmplY3RdLCBzZWVuT2JqZWN0cyk7XG4gICAgICB0cmFuc2Zvcm1lZFZhbHVlW2luZGV4Ml0gPSByZWN1cnNpdmVSZXN1bHQudHJhbnNmb3JtZWRWYWx1ZTtcbiAgICAgIGlmIChpc0FycmF5JDEocmVjdXJzaXZlUmVzdWx0LmFubm90YXRpb25zKSkge1xuICAgICAgICBpbm5lckFubm90YXRpb25zW2luZGV4Ml0gPSByZWN1cnNpdmVSZXN1bHQuYW5ub3RhdGlvbnM7XG4gICAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QkMShyZWN1cnNpdmVSZXN1bHQuYW5ub3RhdGlvbnMpKSB7XG4gICAgICAgIGZvckVhY2gocmVjdXJzaXZlUmVzdWx0LmFubm90YXRpb25zLCAodHJlZSwga2V5KSA9PiB7XG4gICAgICAgICAgaW5uZXJBbm5vdGF0aW9uc1tlc2NhcGVLZXkoaW5kZXgyKSArIFwiLlwiICsga2V5XSA9IHRyZWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHJlc3VsdCA9IGlzRW1wdHlPYmplY3QoaW5uZXJBbm5vdGF0aW9ucykgPyB7XG4gICAgICB0cmFuc2Zvcm1lZFZhbHVlLFxuICAgICAgYW5ub3RhdGlvbnM6ICEhdHJhbnNmb3JtYXRpb25SZXN1bHQgPyBbdHJhbnNmb3JtYXRpb25SZXN1bHQudHlwZV0gOiB2b2lkIDBcbiAgICB9IDoge1xuICAgICAgdHJhbnNmb3JtZWRWYWx1ZSxcbiAgICAgIGFubm90YXRpb25zOiAhIXRyYW5zZm9ybWF0aW9uUmVzdWx0ID8gW3RyYW5zZm9ybWF0aW9uUmVzdWx0LnR5cGUsIGlubmVyQW5ub3RhdGlvbnNdIDogaW5uZXJBbm5vdGF0aW9uc1xuICAgIH07XG4gICAgaWYgKCFwcmltaXRpdmUpIHtcbiAgICAgIHNlZW5PYmplY3RzLnNldChvYmplY3QsIHJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIGZ1bmN0aW9uIGdldFR5cGUocGF5bG9hZCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocGF5bG9hZCkuc2xpY2UoOCwgLTEpO1xuICB9XG4gIGZ1bmN0aW9uIGlzQXJyYXkocGF5bG9hZCkge1xuICAgIHJldHVybiBnZXRUeXBlKHBheWxvYWQpID09PSBcIkFycmF5XCI7XG4gIH1cbiAgZnVuY3Rpb24gaXNQbGFpbk9iamVjdChwYXlsb2FkKSB7XG4gICAgaWYgKGdldFR5cGUocGF5bG9hZCkgIT09IFwiT2JqZWN0XCIpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgcHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBheWxvYWQpO1xuICAgIHJldHVybiAhIXByb3RvdHlwZSAmJiBwcm90b3R5cGUuY29uc3RydWN0b3IgPT09IE9iamVjdCAmJiBwcm90b3R5cGUgPT09IE9iamVjdC5wcm90b3R5cGU7XG4gIH1cbiAgZnVuY3Rpb24gYXNzaWduUHJvcChjYXJyeSwga2V5LCBuZXdWYWwsIG9yaWdpbmFsT2JqZWN0LCBpbmNsdWRlTm9uZW51bWVyYWJsZSkge1xuICAgIGNvbnN0IHByb3BUeXBlID0ge30ucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvcmlnaW5hbE9iamVjdCwga2V5KSA/IFwiZW51bWVyYWJsZVwiIDogXCJub25lbnVtZXJhYmxlXCI7XG4gICAgaWYgKHByb3BUeXBlID09PSBcImVudW1lcmFibGVcIilcbiAgICAgIGNhcnJ5W2tleV0gPSBuZXdWYWw7XG4gICAgaWYgKGluY2x1ZGVOb25lbnVtZXJhYmxlICYmIHByb3BUeXBlID09PSBcIm5vbmVudW1lcmFibGVcIikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNhcnJ5LCBrZXksIHtcbiAgICAgICAgdmFsdWU6IG5ld1ZhbCxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjb3B5KHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKGlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgcmV0dXJuIHRhcmdldC5tYXAoKGl0ZW0pID0+IGNvcHkoaXRlbSwgb3B0aW9ucykpO1xuICAgIH1cbiAgICBpZiAoIWlzUGxhaW5PYmplY3QodGFyZ2V0KSkge1xuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgY29uc3QgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICAgIGNvbnN0IHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCk7XG4gICAgcmV0dXJuIFsuLi5wcm9wcywgLi4uc3ltYm9sc10ucmVkdWNlKChjYXJyeSwga2V5KSA9PiB7XG4gICAgICBpZiAoaXNBcnJheShvcHRpb25zLnByb3BzKSAmJiAhb3B0aW9ucy5wcm9wcy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgIHJldHVybiBjYXJyeTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbCA9IHRhcmdldFtrZXldO1xuICAgICAgY29uc3QgbmV3VmFsID0gY29weSh2YWwsIG9wdGlvbnMpO1xuICAgICAgYXNzaWduUHJvcChjYXJyeSwga2V5LCBuZXdWYWwsIHRhcmdldCwgb3B0aW9ucy5ub25lbnVtZXJhYmxlKTtcbiAgICAgIHJldHVybiBjYXJyeTtcbiAgICB9LCB7fSk7XG4gIH1cbiAgY2xhc3MgU3VwZXJKU09OIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZGVkdXBlUmVmZXJlbnRpYWxFcXVhbGl0aWVzICBJZiB0cnVlLCBTdXBlckpTT04gd2lsbCBtYWtlIHN1cmUgb25seSBvbmUgaW5zdGFuY2Ugb2YgcmVmZXJlbnRpYWxseSBlcXVhbCBvYmplY3RzIGFyZSBzZXJpYWxpemVkIGFuZCB0aGUgcmVzdCBhcmUgcmVwbGFjZWQgd2l0aCBgbnVsbGAuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeyBkZWR1cGUgPSBmYWxzZSB9ID0ge30pIHtcbiAgICAgIHRoaXMuY2xhc3NSZWdpc3RyeSA9IG5ldyBDbGFzc1JlZ2lzdHJ5KCk7XG4gICAgICB0aGlzLnN5bWJvbFJlZ2lzdHJ5ID0gbmV3IFJlZ2lzdHJ5KChzMikgPT4gczIuZGVzY3JpcHRpb24gPz8gXCJcIik7XG4gICAgICB0aGlzLmN1c3RvbVRyYW5zZm9ybWVyUmVnaXN0cnkgPSBuZXcgQ3VzdG9tVHJhbnNmb3JtZXJSZWdpc3RyeSgpO1xuICAgICAgdGhpcy5hbGxvd2VkRXJyb3JQcm9wcyA9IFtdO1xuICAgICAgdGhpcy5kZWR1cGUgPSBkZWR1cGU7XG4gICAgfVxuICAgIHNlcmlhbGl6ZShvYmplY3QpIHtcbiAgICAgIGNvbnN0IGlkZW50aXRpZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgY29uc3Qgb3V0cHV0ID0gd2Fsa2VyKG9iamVjdCwgaWRlbnRpdGllcywgdGhpcywgdGhpcy5kZWR1cGUpO1xuICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICBqc29uOiBvdXRwdXQudHJhbnNmb3JtZWRWYWx1ZVxuICAgICAgfTtcbiAgICAgIGlmIChvdXRwdXQuYW5ub3RhdGlvbnMpIHtcbiAgICAgICAgcmVzLm1ldGEgPSB7XG4gICAgICAgICAgLi4ucmVzLm1ldGEsXG4gICAgICAgICAgdmFsdWVzOiBvdXRwdXQuYW5ub3RhdGlvbnNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVxdWFsaXR5QW5ub3RhdGlvbnMgPSBnZW5lcmF0ZVJlZmVyZW50aWFsRXF1YWxpdHlBbm5vdGF0aW9ucyhpZGVudGl0aWVzLCB0aGlzLmRlZHVwZSk7XG4gICAgICBpZiAoZXF1YWxpdHlBbm5vdGF0aW9ucykge1xuICAgICAgICByZXMubWV0YSA9IHtcbiAgICAgICAgICAuLi5yZXMubWV0YSxcbiAgICAgICAgICByZWZlcmVudGlhbEVxdWFsaXRpZXM6IGVxdWFsaXR5QW5ub3RhdGlvbnNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGRlc2VyaWFsaXplKHBheWxvYWQpIHtcbiAgICAgIGNvbnN0IHsganNvbiwgbWV0YSB9ID0gcGF5bG9hZDtcbiAgICAgIGxldCByZXN1bHQgPSBjb3B5KGpzb24pO1xuICAgICAgaWYgKG1ldGEgPT0gbnVsbCA/IHZvaWQgMCA6IG1ldGEudmFsdWVzKSB7XG4gICAgICAgIHJlc3VsdCA9IGFwcGx5VmFsdWVBbm5vdGF0aW9ucyhyZXN1bHQsIG1ldGEudmFsdWVzLCB0aGlzKTtcbiAgICAgIH1cbiAgICAgIGlmIChtZXRhID09IG51bGwgPyB2b2lkIDAgOiBtZXRhLnJlZmVyZW50aWFsRXF1YWxpdGllcykge1xuICAgICAgICByZXN1bHQgPSBhcHBseVJlZmVyZW50aWFsRXF1YWxpdHlBbm5vdGF0aW9ucyhyZXN1bHQsIG1ldGEucmVmZXJlbnRpYWxFcXVhbGl0aWVzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHN0cmluZ2lmeShvYmplY3QpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnNlcmlhbGl6ZShvYmplY3QpKTtcbiAgICB9XG4gICAgcGFyc2Uoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZXNlcmlhbGl6ZShKU09OLnBhcnNlKHN0cmluZykpO1xuICAgIH1cbiAgICByZWdpc3RlckNsYXNzKHYyLCBvcHRpb25zKSB7XG4gICAgICB0aGlzLmNsYXNzUmVnaXN0cnkucmVnaXN0ZXIodjIsIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZWdpc3RlclN5bWJvbCh2MiwgaWRlbnRpZmllcikge1xuICAgICAgdGhpcy5zeW1ib2xSZWdpc3RyeS5yZWdpc3Rlcih2MiwgaWRlbnRpZmllcik7XG4gICAgfVxuICAgIHJlZ2lzdGVyQ3VzdG9tKHRyYW5zZm9ybWVyLCBuYW1lKSB7XG4gICAgICB0aGlzLmN1c3RvbVRyYW5zZm9ybWVyUmVnaXN0cnkucmVnaXN0ZXIoe1xuICAgICAgICBuYW1lLFxuICAgICAgICAuLi50cmFuc2Zvcm1lclxuICAgICAgfSk7XG4gICAgfVxuICAgIGFsbG93RXJyb3JQcm9wcyguLi5wcm9wcykge1xuICAgICAgdGhpcy5hbGxvd2VkRXJyb3JQcm9wcy5wdXNoKC4uLnByb3BzKTtcbiAgICB9XG4gIH1cbiAgU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSA9IG5ldyBTdXBlckpTT04oKTtcbiAgU3VwZXJKU09OLnNlcmlhbGl6ZSA9IFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2Uuc2VyaWFsaXplLmJpbmQoU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSk7XG4gIFN1cGVySlNPTi5kZXNlcmlhbGl6ZSA9IFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2UuZGVzZXJpYWxpemUuYmluZChTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlKTtcbiAgU3VwZXJKU09OLnN0cmluZ2lmeSA9IFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2Uuc3RyaW5naWZ5LmJpbmQoU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSk7XG4gIFN1cGVySlNPTi5wYXJzZSA9IFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2UucGFyc2UuYmluZChTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlKTtcbiAgU3VwZXJKU09OLnJlZ2lzdGVyQ2xhc3MgPSBTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlLnJlZ2lzdGVyQ2xhc3MuYmluZChTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlKTtcbiAgU3VwZXJKU09OLnJlZ2lzdGVyU3ltYm9sID0gU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZS5yZWdpc3RlclN5bWJvbC5iaW5kKFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2UpO1xuICBTdXBlckpTT04ucmVnaXN0ZXJDdXN0b20gPSBTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlLnJlZ2lzdGVyQ3VzdG9tLmJpbmQoU3VwZXJKU09OLmRlZmF1bHRJbnN0YW5jZSk7XG4gIFN1cGVySlNPTi5hbGxvd0Vycm9yUHJvcHMgPSBTdXBlckpTT04uZGVmYXVsdEluc3RhbmNlLmFsbG93RXJyb3JQcm9wcy5iaW5kKFN1cGVySlNPTi5kZWZhdWx0SW5zdGFuY2UpO1xuICBTdXBlckpTT04uc2VyaWFsaXplO1xuICBTdXBlckpTT04uZGVzZXJpYWxpemU7XG4gIFN1cGVySlNPTi5zdHJpbmdpZnk7XG4gIFN1cGVySlNPTi5wYXJzZTtcbiAgU3VwZXJKU09OLnJlZ2lzdGVyQ2xhc3M7XG4gIFN1cGVySlNPTi5yZWdpc3RlckN1c3RvbTtcbiAgU3VwZXJKU09OLnJlZ2lzdGVyU3ltYm9sO1xuICBTdXBlckpTT04uYWxsb3dFcnJvclByb3BzO1xuICBmdW5jdGlvbiBjcmVhdGVKU09OU3RvcmFnZShnZXRTdG9yYWdlLCBvcHRpb25zKSB7XG4gICAgbGV0IHN0b3JhZ2U7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JhZ2UgPSBnZXRTdG9yYWdlKCk7XG4gICAgfSBjYXRjaCAoZTIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGVyc2lzdFN0b3JhZ2UgPSB7XG4gICAgICBnZXRJdGVtOiAobmFtZSkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHBhcnNlID0gKHN0cjIpID0+IHtcbiAgICAgICAgICBpZiAoc3RyMiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cjIsIHZvaWQgMCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN0ciA9IChfYSA9IHN0b3JhZ2UuZ2V0SXRlbShuYW1lKSkgIT0gbnVsbCA/IF9hIDogbnVsbDtcbiAgICAgICAgaWYgKHN0ciBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICByZXR1cm4gc3RyLnRoZW4ocGFyc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZShzdHIpO1xuICAgICAgfSxcbiAgICAgIHNldEl0ZW06IChuYW1lLCBuZXdWYWx1ZSkgPT4gc3RvcmFnZS5zZXRJdGVtKFxuICAgICAgICBuYW1lLFxuICAgICAgICBKU09OLnN0cmluZ2lmeShuZXdWYWx1ZSwgdm9pZCAwKVxuICAgICAgKSxcbiAgICAgIHJlbW92ZUl0ZW06IChuYW1lKSA9PiBzdG9yYWdlLnJlbW92ZUl0ZW0obmFtZSlcbiAgICB9O1xuICAgIHJldHVybiBwZXJzaXN0U3RvcmFnZTtcbiAgfVxuICBjb25zdCB0b1RoZW5hYmxlID0gKGZuMikgPT4gKGlucHV0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGZuMihpbnB1dCk7XG4gICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGhlbihvbkZ1bGZpbGxlZCkge1xuICAgICAgICAgIHJldHVybiB0b1RoZW5hYmxlKG9uRnVsZmlsbGVkKShyZXN1bHQpO1xuICAgICAgICB9LFxuICAgICAgICBjYXRjaChfb25SZWplY3RlZCkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGUyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aGVuKF9vbkZ1bGZpbGxlZCkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBjYXRjaChvblJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHRvVGhlbmFibGUob25SZWplY3RlZCkoZTIpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcGVyc2lzdEltcGwgPSAoY29uZmlnLCBiYXNlT3B0aW9ucykgPT4gKHNldCwgZ2V0LCBhcGkpID0+IHtcbiAgICBsZXQgb3B0aW9ucyA9IHtcbiAgICAgIHN0b3JhZ2U6IGNyZWF0ZUpTT05TdG9yYWdlKCgpID0+IGxvY2FsU3RvcmFnZSksXG4gICAgICBwYXJ0aWFsaXplOiAoc3RhdGUpID0+IHN0YXRlLFxuICAgICAgdmVyc2lvbjogMCxcbiAgICAgIG1lcmdlOiAocGVyc2lzdGVkU3RhdGUsIGN1cnJlbnRTdGF0ZSkgPT4gKHtcbiAgICAgICAgLi4uY3VycmVudFN0YXRlLFxuICAgICAgICAuLi5wZXJzaXN0ZWRTdGF0ZVxuICAgICAgfSksXG4gICAgICAuLi5iYXNlT3B0aW9uc1xuICAgIH07XG4gICAgbGV0IGhhc0h5ZHJhdGVkID0gZmFsc2U7XG4gICAgY29uc3QgaHlkcmF0aW9uTGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICBjb25zdCBmaW5pc2hIeWRyYXRpb25MaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIGxldCBzdG9yYWdlID0gb3B0aW9ucy5zdG9yYWdlO1xuICAgIGlmICghc3RvcmFnZSkge1xuICAgICAgcmV0dXJuIGNvbmZpZyhcbiAgICAgICAgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBgW3p1c3RhbmQgcGVyc2lzdCBtaWRkbGV3YXJlXSBVbmFibGUgdG8gdXBkYXRlIGl0ZW0gJyR7b3B0aW9ucy5uYW1lfScsIHRoZSBnaXZlbiBzdG9yYWdlIGlzIGN1cnJlbnRseSB1bmF2YWlsYWJsZS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXQoLi4uYXJncyk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCxcbiAgICAgICAgYXBpXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBzZXRJdGVtID0gKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhdGUgPSBvcHRpb25zLnBhcnRpYWxpemUoeyAuLi5nZXQoKSB9KTtcbiAgICAgIHJldHVybiBzdG9yYWdlLnNldEl0ZW0ob3B0aW9ucy5uYW1lLCB7XG4gICAgICAgIHN0YXRlLFxuICAgICAgICB2ZXJzaW9uOiBvcHRpb25zLnZlcnNpb25cbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3Qgc2F2ZWRTZXRTdGF0ZSA9IGFwaS5zZXRTdGF0ZTtcbiAgICBhcGkuc2V0U3RhdGUgPSAoc3RhdGUsIHJlcGxhY2UpID0+IHtcbiAgICAgIHNhdmVkU2V0U3RhdGUoc3RhdGUsIHJlcGxhY2UpO1xuICAgICAgdm9pZCBzZXRJdGVtKCk7XG4gICAgfTtcbiAgICBjb25zdCBjb25maWdSZXN1bHQgPSBjb25maWcoXG4gICAgICAoLi4uYXJncykgPT4ge1xuICAgICAgICBzZXQoLi4uYXJncyk7XG4gICAgICAgIHZvaWQgc2V0SXRlbSgpO1xuICAgICAgfSxcbiAgICAgIGdldCxcbiAgICAgIGFwaVxuICAgICk7XG4gICAgYXBpLmdldEluaXRpYWxTdGF0ZSA9ICgpID0+IGNvbmZpZ1Jlc3VsdDtcbiAgICBsZXQgc3RhdGVGcm9tU3RvcmFnZTtcbiAgICBjb25zdCBoeWRyYXRlID0gKCkgPT4ge1xuICAgICAgdmFyIF9hLCBfYjtcbiAgICAgIGlmICghc3RvcmFnZSkgcmV0dXJuO1xuICAgICAgaGFzSHlkcmF0ZWQgPSBmYWxzZTtcbiAgICAgIGh5ZHJhdGlvbkxpc3RlbmVycy5mb3JFYWNoKChjYikgPT4ge1xuICAgICAgICB2YXIgX2EyO1xuICAgICAgICByZXR1cm4gY2IoKF9hMiA9IGdldCgpKSAhPSBudWxsID8gX2EyIDogY29uZmlnUmVzdWx0KTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgcG9zdFJlaHlkcmF0aW9uQ2FsbGJhY2sgPSAoKF9iID0gb3B0aW9ucy5vblJlaHlkcmF0ZVN0b3JhZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKG9wdGlvbnMsIChfYSA9IGdldCgpKSAhPSBudWxsID8gX2EgOiBjb25maWdSZXN1bHQpKSB8fCB2b2lkIDA7XG4gICAgICByZXR1cm4gdG9UaGVuYWJsZShzdG9yYWdlLmdldEl0ZW0uYmluZChzdG9yYWdlKSkob3B0aW9ucy5uYW1lKS50aGVuKChkZXNlcmlhbGl6ZWRTdG9yYWdlVmFsdWUpID0+IHtcbiAgICAgICAgaWYgKGRlc2VyaWFsaXplZFN0b3JhZ2VWYWx1ZSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnZlcnNpb24gPT09IFwibnVtYmVyXCIgJiYgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnZlcnNpb24gIT09IG9wdGlvbnMudmVyc2lvbikge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubWlncmF0ZSkge1xuICAgICAgICAgICAgICBjb25zdCBtaWdyYXRpb24gPSBvcHRpb25zLm1pZ3JhdGUoXG4gICAgICAgICAgICAgICAgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnN0YXRlLFxuICAgICAgICAgICAgICAgIGRlc2VyaWFsaXplZFN0b3JhZ2VWYWx1ZS52ZXJzaW9uXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGlmIChtaWdyYXRpb24gaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1pZ3JhdGlvbi50aGVuKChyZXN1bHQpID0+IFt0cnVlLCByZXN1bHRdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gW3RydWUsIG1pZ3JhdGlvbl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBgU3RhdGUgbG9hZGVkIGZyb20gc3RvcmFnZSBjb3VsZG4ndCBiZSBtaWdyYXRlZCBzaW5jZSBubyBtaWdyYXRlIGZ1bmN0aW9uIHdhcyBwcm92aWRlZGBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbZmFsc2UsIGRlc2VyaWFsaXplZFN0b3JhZ2VWYWx1ZS5zdGF0ZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbZmFsc2UsIHZvaWQgMF07XG4gICAgICB9KS50aGVuKChtaWdyYXRpb25SZXN1bHQpID0+IHtcbiAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgY29uc3QgW21pZ3JhdGVkLCBtaWdyYXRlZFN0YXRlXSA9IG1pZ3JhdGlvblJlc3VsdDtcbiAgICAgICAgc3RhdGVGcm9tU3RvcmFnZSA9IG9wdGlvbnMubWVyZ2UoXG4gICAgICAgICAgbWlncmF0ZWRTdGF0ZSxcbiAgICAgICAgICAoX2EyID0gZ2V0KCkpICE9IG51bGwgPyBfYTIgOiBjb25maWdSZXN1bHRcbiAgICAgICAgKTtcbiAgICAgICAgc2V0KHN0YXRlRnJvbVN0b3JhZ2UsIHRydWUpO1xuICAgICAgICBpZiAobWlncmF0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gc2V0SXRlbSgpO1xuICAgICAgICB9XG4gICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgcG9zdFJlaHlkcmF0aW9uQ2FsbGJhY2sgPT0gbnVsbCA/IHZvaWQgMCA6IHBvc3RSZWh5ZHJhdGlvbkNhbGxiYWNrKHN0YXRlRnJvbVN0b3JhZ2UsIHZvaWQgMCk7XG4gICAgICAgIHN0YXRlRnJvbVN0b3JhZ2UgPSBnZXQoKTtcbiAgICAgICAgaGFzSHlkcmF0ZWQgPSB0cnVlO1xuICAgICAgICBmaW5pc2hIeWRyYXRpb25MaXN0ZW5lcnMuZm9yRWFjaCgoY2IpID0+IGNiKHN0YXRlRnJvbVN0b3JhZ2UpKTtcbiAgICAgIH0pLmNhdGNoKChlMikgPT4ge1xuICAgICAgICBwb3N0UmVoeWRyYXRpb25DYWxsYmFjayA9PSBudWxsID8gdm9pZCAwIDogcG9zdFJlaHlkcmF0aW9uQ2FsbGJhY2sodm9pZCAwLCBlMik7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGFwaS5wZXJzaXN0ID0ge1xuICAgICAgc2V0T3B0aW9uczogKG5ld09wdGlvbnMpID0+IHtcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIC4uLm5ld09wdGlvbnNcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG5ld09wdGlvbnMuc3RvcmFnZSkge1xuICAgICAgICAgIHN0b3JhZ2UgPSBuZXdPcHRpb25zLnN0b3JhZ2U7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjbGVhclN0b3JhZ2U6ICgpID0+IHtcbiAgICAgICAgc3RvcmFnZSA9PSBudWxsID8gdm9pZCAwIDogc3RvcmFnZS5yZW1vdmVJdGVtKG9wdGlvbnMubmFtZSk7XG4gICAgICB9LFxuICAgICAgZ2V0T3B0aW9uczogKCkgPT4gb3B0aW9ucyxcbiAgICAgIHJlaHlkcmF0ZTogKCkgPT4gaHlkcmF0ZSgpLFxuICAgICAgaGFzSHlkcmF0ZWQ6ICgpID0+IGhhc0h5ZHJhdGVkLFxuICAgICAgb25IeWRyYXRlOiAoY2IpID0+IHtcbiAgICAgICAgaHlkcmF0aW9uTGlzdGVuZXJzLmFkZChjYik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgaHlkcmF0aW9uTGlzdGVuZXJzLmRlbGV0ZShjYik7XG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgb25GaW5pc2hIeWRyYXRpb246IChjYikgPT4ge1xuICAgICAgICBmaW5pc2hIeWRyYXRpb25MaXN0ZW5lcnMuYWRkKGNiKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICBmaW5pc2hIeWRyYXRpb25MaXN0ZW5lcnMuZGVsZXRlKGNiKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmICghb3B0aW9ucy5za2lwSHlkcmF0aW9uKSB7XG4gICAgICBoeWRyYXRlKCk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZUZyb21TdG9yYWdlIHx8IGNvbmZpZ1Jlc3VsdDtcbiAgfTtcbiAgY29uc3QgcGVyc2lzdCA9IHBlcnNpc3RJbXBsO1xuICBjb25zdCBjcmVhdGVBcHBTdG9yZSA9IChzMikgPT4ge1xuICAgIGNvbnN0IHNldCA9IHMyO1xuICAgIHJldHVybiB7XG4gICAgICBhcHBCbG9ja1JlcXVlc3RMaXN0OiBbXSxcbiAgICAgIGFwcFVuYmxvY2tSZXF1ZXN0TGlzdDogW10sXG4gICAgICBsYXN0QmxvY2tSZXF1ZXN0TnVtYmVyOiAwLFxuICAgICAgbGFzdFVuYmxvY2tSZXF1ZXN0TnVtYmVyOiAwLFxuICAgICAgaXNNYWluQXBwQmxvY2tlZDogZmFsc2UsXG4gICAgICByZXF1ZXN0TWFpbkFwcEJsb2NrOiAoKSA9PiB7XG4gICAgICAgIGxldCBuZXdIYW5kbGVWYWx1ZSA9IDA7XG4gICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBuZXdIYW5kbGVWYWx1ZSA9IHN0YXRlLmxhc3RCbG9ja1JlcXVlc3ROdW1iZXIgKyAxO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhcHBCbG9ja1JlcXVlc3RMaXN0OiBbLi4uc3RhdGUuYXBwQmxvY2tSZXF1ZXN0TGlzdCwgbmV3SGFuZGxlVmFsdWVdLFxuICAgICAgICAgICAgbGFzdEJsb2NrUmVxdWVzdE51bWJlcjogbmV3SGFuZGxlVmFsdWUsXG4gICAgICAgICAgICBpc01haW5BcHBCbG9ja2VkOiBzdGF0ZS5hcHBVbmJsb2NrUmVxdWVzdExpc3QubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAvLyBVbmJsb2NrIHJlcXVlc3RzIG92ZXJyaWRlIGJsb2NrIHJlcXVlc3RzXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXdIYW5kbGVWYWx1ZTtcbiAgICAgIH0sXG4gICAgICByZXF1ZXN0TWFpbkFwcFVuYmxvY2s6ICgpID0+IHtcbiAgICAgICAgbGV0IG5ld0hhbmRsZVZhbHVlID0gMDtcbiAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIG5ld0hhbmRsZVZhbHVlID0gc3RhdGUubGFzdFVuYmxvY2tSZXF1ZXN0TnVtYmVyICsgMTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXBwVW5ibG9ja1JlcXVlc3RMaXN0OiBbXG4gICAgICAgICAgICAgIC4uLnN0YXRlLmFwcFVuYmxvY2tSZXF1ZXN0TGlzdCxcbiAgICAgICAgICAgICAgbmV3SGFuZGxlVmFsdWVcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBsYXN0VW5ibG9ja1JlcXVlc3ROdW1iZXI6IG5ld0hhbmRsZVZhbHVlLFxuICAgICAgICAgICAgaXNNYWluQXBwQmxvY2tlZDogZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ld0hhbmRsZVZhbHVlO1xuICAgICAgfSxcbiAgICAgIGRpc2NhcmRNYWluQXBwQmxvY2s6IChoYW5kbGUpID0+IHtcbiAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IG5ld0Jsb2NrUmVxdWVzdExpc3QgPSBzdGF0ZS5hcHBCbG9ja1JlcXVlc3RMaXN0LmZpbHRlcihcbiAgICAgICAgICAgIChoMikgPT4gaDIgIT09IGhhbmRsZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFwcEJsb2NrUmVxdWVzdExpc3Q6IG5ld0Jsb2NrUmVxdWVzdExpc3QsXG4gICAgICAgICAgICBpc01haW5BcHBCbG9ja2VkOiBuZXdCbG9ja1JlcXVlc3RMaXN0Lmxlbmd0aCA+IDAgJiYgc3RhdGUuYXBwVW5ibG9ja1JlcXVlc3RMaXN0Lmxlbmd0aCA9PT0gMFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGRpc2NhcmRNYWluQXBwVW5ibG9jazogKGhhbmRsZSkgPT4ge1xuICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgY29uc3QgbmV3VW5ibG9ja1JlcXVlc3RMaXN0ID0gc3RhdGUuYXBwVW5ibG9ja1JlcXVlc3RMaXN0LmZpbHRlcihcbiAgICAgICAgICAgIChoMikgPT4gaDIgIT09IGhhbmRsZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFwcFVuYmxvY2tSZXF1ZXN0TGlzdDogbmV3VW5ibG9ja1JlcXVlc3RMaXN0LFxuICAgICAgICAgICAgaXNNYWluQXBwQmxvY2tlZDogc3RhdGUuYXBwQmxvY2tSZXF1ZXN0TGlzdC5sZW5ndGggPiAwICYmIG5ld1VuYmxvY2tSZXF1ZXN0TGlzdC5sZW5ndGggPT09IDBcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICB0b29sYmFyUG9zaXRpb246IERyb3BBcmVhWm9uZS5CT1RUT01fQ0VOVEVSLFxuICAgICAgc2V0VG9vbGJhclBvc2l0aW9uOiAocG9zaXRpb24pID0+IHNldCgoKSA9PiAoeyB0b29sYmFyUG9zaXRpb246IHBvc2l0aW9uIH0pKSxcbiAgICAgIHRvb2xiYXJCb3hSZWY6IGIkNSgpLFxuICAgICAgc2V0VG9vbGJhckJveFJlZjogKHJlZikgPT4gc2V0KCgpID0+ICh7IHRvb2xiYXJCb3hSZWY6IHJlZiB9KSksXG4gICAgICB1bnNldFRvb2xiYXJCb3hSZWY6ICgpID0+IHNldCgoKSA9PiAoeyB0b29sYmFyQm94UmVmOiBiJDUoKSB9KSksXG4gICAgICBtaW5pbWl6ZWQ6IGZhbHNlLFxuICAgICAgbWluaW1pemU6ICgpID0+IHNldCgoKSA9PiAoeyBtaW5pbWl6ZWQ6IHRydWUgfSkpLFxuICAgICAgZXhwYW5kOiAoKSA9PiBzZXQoKCkgPT4gKHsgbWluaW1pemVkOiBmYWxzZSB9KSksXG4gICAgICBwcm9tb3RlZE9uU3RhcnR1cDogZmFsc2UsXG4gICAgICBwcm9tb3Rpb25GaW5pc2hlZDogKCkgPT4gc2V0KCgpID0+ICh7IHByb21vdGVkT25TdGFydHVwOiB0cnVlIH0pKVxuICAgIH07XG4gIH07XG4gIGZ1bmN0aW9uIGNyZWF0ZVN1cGVySlNPTlN0b3JhZ2Uoc3RvcmFnZSkge1xuICAgIHJldHVybiB7XG4gICAgICBnZXRJdGVtOiAobmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBzdHIgPSBzdG9yYWdlLmdldEl0ZW0obmFtZSk7XG4gICAgICAgIGlmICghc3RyKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIFN1cGVySlNPTi5wYXJzZShzdHIpO1xuICAgICAgfSxcbiAgICAgIHNldEl0ZW06IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgICBzdG9yYWdlLnNldEl0ZW0obmFtZSwgU3VwZXJKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZUl0ZW06IChuYW1lKSA9PiBzdG9yYWdlLnJlbW92ZUl0ZW0obmFtZSlcbiAgICB9O1xuICB9XG4gIGNvbnN0IHVzZUFwcFN0YXRlID0gY3JlYXRlKFxuICAgIHBlcnNpc3QoY3JlYXRlQXBwU3RvcmUsIHtcbiAgICAgIG5hbWU6IFwic3Rnd3M6Y29tcGFuaW9uXCIsXG4gICAgICBzdG9yYWdlOiBjcmVhdGVTdXBlckpTT05TdG9yYWdlKHNlc3Npb25TdG9yYWdlKSxcbiAgICAgIHBhcnRpYWxpemU6IChzdGF0ZSkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRvb2xiYXJQb3NpdGlvbjogc3RhdGUudG9vbGJhclBvc2l0aW9uXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSlcbiAgKTtcbiAgY29uc3QgQ2hhdENvbnRleHQgPSBLJDMoe1xuICAgIGNoYXRzOiBbXSxcbiAgICBjdXJyZW50Q2hhdElkOiBudWxsLFxuICAgIGNyZWF0ZUNoYXQ6ICgpID0+IFwiXCIsXG4gICAgZGVsZXRlQ2hhdDogKCkgPT4ge1xuICAgIH0sXG4gICAgc2V0Q3VycmVudENoYXQ6ICgpID0+IHtcbiAgICB9LFxuICAgIHNldENoYXRJbnB1dDogKCkgPT4ge1xuICAgIH0sXG4gICAgYWRkQ2hhdERvbUNvbnRleHQ6ICgpID0+IHtcbiAgICB9LFxuICAgIHJlbW92ZUNoYXREb21Db250ZXh0OiAoKSA9PiB7XG4gICAgfSxcbiAgICBhZGRNZXNzYWdlOiAoKSA9PiB7XG4gICAgfSxcbiAgICBjaGF0QXJlYVN0YXRlOiBcImhpZGRlblwiLFxuICAgIHNldENoYXRBcmVhU3RhdGU6ICgpID0+IHtcbiAgICB9LFxuICAgIGlzUHJvbXB0Q3JlYXRpb25BY3RpdmU6IGZhbHNlLFxuICAgIHN0YXJ0UHJvbXB0Q3JlYXRpb246ICgpID0+IHtcbiAgICB9LFxuICAgIHN0b3BQcm9tcHRDcmVhdGlvbjogKCkgPT4ge1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IENoYXRTdGF0ZVByb3ZpZGVyID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICAgIGNvbnN0IFtjaGF0cywgc2V0Q2hhdHNdID0gZCQ0KFtcbiAgICAgIHtcbiAgICAgICAgaWQ6IFwibmV3X2NoYXRcIixcbiAgICAgICAgbWVzc2FnZXM6IFtdLFxuICAgICAgICB0aXRsZTogXCJOZXcgY2hhdFwiLFxuICAgICAgICBpbnB1dFZhbHVlOiBcIlwiLFxuICAgICAgICBkb21Db250ZXh0RWxlbWVudHM6IFtdXG4gICAgICB9XG4gICAgXSk7XG4gICAgY29uc3QgW2N1cnJlbnRDaGF0SWQsIHNldEN1cnJlbnRDaGF0SWRdID0gZCQ0KFwibmV3X2NoYXRcIik7XG4gICAgY29uc3QgW2NoYXRBcmVhU3RhdGUsIGludGVybmFsU2V0Q2hhdEFyZWFTdGF0ZV0gPSBkJDQoXCJoaWRkZW5cIik7XG4gICAgY29uc3QgW2lzUHJvbXB0Q3JlYXRpb25Nb2RlLCBzZXRJc1Byb21wdENyZWF0aW9uTW9kZV0gPSBkJDQoZmFsc2UpO1xuICAgIGNvbnN0IGlzTWluaW1pemVkID0gdXNlQXBwU3RhdGUoKHN0YXRlKSA9PiBzdGF0ZS5taW5pbWl6ZWQpO1xuICAgIHkkNigoKSA9PiB7XG4gICAgICBpZiAoaXNNaW5pbWl6ZWQpIHtcbiAgICAgICAgc2V0SXNQcm9tcHRDcmVhdGlvbk1vZGUoZmFsc2UpO1xuICAgICAgICBpbnRlcm5hbFNldENoYXRBcmVhU3RhdGUoXCJoaWRkZW5cIik7XG4gICAgICB9XG4gICAgfSwgW2lzTWluaW1pemVkXSk7XG4gICAgY29uc3QgeyBicmlkZ2UgfSA9IHVzZVNSUENCcmlkZ2UoKTtcbiAgICBjb25zdCBjcmVhdGVDaGF0ID0gcSQzKCgpID0+IHtcbiAgICAgIGNvbnN0IG5ld0NoYXRJZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gICAgICBjb25zdCBuZXdDaGF0ID0ge1xuICAgICAgICBpZDogbmV3Q2hhdElkLFxuICAgICAgICB0aXRsZTogbnVsbCxcbiAgICAgICAgbWVzc2FnZXM6IFtdLFxuICAgICAgICBpbnB1dFZhbHVlOiBcIlwiLFxuICAgICAgICBkb21Db250ZXh0RWxlbWVudHM6IFtdXG4gICAgICB9O1xuICAgICAgc2V0Q2hhdHMoKHByZXYpID0+IFsuLi5wcmV2LCBuZXdDaGF0XSk7XG4gICAgICBzZXRDdXJyZW50Q2hhdElkKG5ld0NoYXRJZCk7XG4gICAgICByZXR1cm4gbmV3Q2hhdElkO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBkZWxldGVDaGF0ID0gcSQzKFxuICAgICAgKGNoYXRJZCkgPT4ge1xuICAgICAgICBzZXRDaGF0cygocHJldikgPT4ge1xuICAgICAgICAgIGNvbnN0IGZpbHRlcmVkQ2hhdHMgPSBwcmV2LmZpbHRlcigoY2hhdCkgPT4gY2hhdC5pZCAhPT0gY2hhdElkKTtcbiAgICAgICAgICBpZiAoZmlsdGVyZWRDaGF0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogXCJuZXdfY2hhdFwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBbXSxcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJOZXcgY2hhdFwiLFxuICAgICAgICAgICAgICAgIGlucHV0VmFsdWU6IFwiXCIsXG4gICAgICAgICAgICAgICAgZG9tQ29udGV4dEVsZW1lbnRzOiBbXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmlsdGVyZWRDaGF0cztcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjdXJyZW50Q2hhdElkID09PSBjaGF0SWQpIHtcbiAgICAgICAgICBzZXRDaGF0cygocHJldikgPT4ge1xuICAgICAgICAgICAgc2V0Q3VycmVudENoYXRJZChwcmV2WzBdLmlkKTtcbiAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgW2N1cnJlbnRDaGF0SWRdXG4gICAgKTtcbiAgICBjb25zdCBzZXRDdXJyZW50Q2hhdCA9IHEkMygoY2hhdElkKSA9PiB7XG4gICAgICBzZXRDdXJyZW50Q2hhdElkKGNoYXRJZCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IHNldENoYXRJbnB1dCA9IHEkMygoY2hhdElkLCB2YWx1ZTIpID0+IHtcbiAgICAgIHNldENoYXRzKFxuICAgICAgICAocHJldikgPT4gcHJldi5tYXAoXG4gICAgICAgICAgKGNoYXQpID0+IGNoYXQuaWQgPT09IGNoYXRJZCA/IHsgLi4uY2hhdCwgaW5wdXRWYWx1ZTogdmFsdWUyIH0gOiBjaGF0XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IHN0YXJ0UHJvbXB0Q3JlYXRpb24gPSBxJDMoKCkgPT4ge1xuICAgICAgc2V0SXNQcm9tcHRDcmVhdGlvbk1vZGUodHJ1ZSk7XG4gICAgICBpZiAoY2hhdEFyZWFTdGF0ZSA9PT0gXCJoaWRkZW5cIikge1xuICAgICAgICBpbnRlcm5hbFNldENoYXRBcmVhU3RhdGUoXCJjb21wYWN0XCIpO1xuICAgICAgfVxuICAgIH0sIFtjaGF0QXJlYVN0YXRlXSk7XG4gICAgY29uc3Qgc3RvcFByb21wdENyZWF0aW9uID0gcSQzKCgpID0+IHtcbiAgICAgIHNldElzUHJvbXB0Q3JlYXRpb25Nb2RlKGZhbHNlKTtcbiAgICAgIHNldENoYXRzKFxuICAgICAgICAocHJldikgPT4gcHJldi5tYXAoXG4gICAgICAgICAgKGNoYXQpID0+IGNoYXQuaWQgPT09IGN1cnJlbnRDaGF0SWQgPyB7IC4uLmNoYXQsIGRvbUNvbnRleHRFbGVtZW50czogW10gfSA6IGNoYXRcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIGlmIChjaGF0QXJlYVN0YXRlID09PSBcImNvbXBhY3RcIikge1xuICAgICAgICBpbnRlcm5hbFNldENoYXRBcmVhU3RhdGUoXCJoaWRkZW5cIik7XG4gICAgICB9XG4gICAgfSwgW2N1cnJlbnRDaGF0SWQsIGNoYXRBcmVhU3RhdGVdKTtcbiAgICBjb25zdCBzZXRDaGF0QXJlYVN0YXRlID0gcSQzKFxuICAgICAgKHN0YXRlKSA9PiB7XG4gICAgICAgIGludGVybmFsU2V0Q2hhdEFyZWFTdGF0ZShzdGF0ZSk7XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gXCJoaWRkZW5cIikge1xuICAgICAgICAgIHN0b3BQcm9tcHRDcmVhdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgW2ludGVybmFsU2V0Q2hhdEFyZWFTdGF0ZSwgc3RvcFByb21wdENyZWF0aW9uXVxuICAgICk7XG4gICAgY29uc3QgYWRkQ2hhdERvbUNvbnRleHQgPSBxJDMoXG4gICAgICAoY2hhdElkLCBlbGVtZW50KSA9PiB7XG4gICAgICAgIHNldENoYXRzKFxuICAgICAgICAgIChwcmV2KSA9PiBwcmV2Lm1hcChcbiAgICAgICAgICAgIChjaGF0KSA9PiBjaGF0LmlkID09PSBjaGF0SWQgPyB7XG4gICAgICAgICAgICAgIC4uLmNoYXQsXG4gICAgICAgICAgICAgIGRvbUNvbnRleHRFbGVtZW50czogWy4uLmNoYXQuZG9tQ29udGV4dEVsZW1lbnRzLCBlbGVtZW50XVxuICAgICAgICAgICAgfSA6IGNoYXRcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgW11cbiAgICApO1xuICAgIGNvbnN0IHJlbW92ZUNoYXREb21Db250ZXh0ID0gcSQzKFxuICAgICAgKGNoYXRJZCwgZWxlbWVudCkgPT4ge1xuICAgICAgICBzZXRDaGF0cyhcbiAgICAgICAgICAocHJldikgPT4gcHJldi5tYXAoXG4gICAgICAgICAgICAoY2hhdCkgPT4gY2hhdC5pZCA9PT0gY2hhdElkID8ge1xuICAgICAgICAgICAgICAuLi5jaGF0LFxuICAgICAgICAgICAgICBkb21Db250ZXh0RWxlbWVudHM6IGNoYXQuZG9tQ29udGV4dEVsZW1lbnRzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAoZTIpID0+IGUyICE9PSBlbGVtZW50XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0gOiBjaGF0XG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIFtdXG4gICAgKTtcbiAgICBjb25zdCBhZGRNZXNzYWdlID0gcSQzKFxuICAgICAgKGNoYXRJZCwgY29udGVudCkgPT4ge1xuICAgICAgICBpZiAoIWNvbnRlbnQudHJpbSgpKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNoYXQgPSBjaGF0cy5maW5kKChjaGF0MikgPT4gY2hhdDIuaWQgPT09IGNoYXRJZCk7XG4gICAgICAgIGNvbnN0IHByb21wdCA9IGNyZWF0ZVByb21wdChcbiAgICAgICAgICBjaGF0ID09IG51bGwgPyB2b2lkIDAgOiBjaGF0LmRvbUNvbnRleHRFbGVtZW50cyxcbiAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IG5ld01lc3NhZ2UgPSB7XG4gICAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgICAgY29udGVudDogY29udGVudC50cmltKCksXG4gICAgICAgICAgc2VuZGVyOiBcInVzZXJcIixcbiAgICAgICAgICB0eXBlOiBcInJlZ3VsYXJcIixcbiAgICAgICAgICB0aW1lc3RhbXA6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpXG4gICAgICAgIH07XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIHRyaWdnZXJBZ2VudFByb21wdCgpIHtcbiAgICAgICAgICBpZiAoYnJpZGdlKSB7XG4gICAgICAgICAgICBhd2FpdCBicmlkZ2UuY2FsbC50cmlnZ2VyQWdlbnRQcm9tcHQoXG4gICAgICAgICAgICAgIHsgcHJvbXB0IH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHVwZGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdHJpZ2dlckFnZW50UHJvbXB0KCk7XG4gICAgICAgIHNldElzUHJvbXB0Q3JlYXRpb25Nb2RlKGZhbHNlKTtcbiAgICAgICAgaWYgKGNoYXRBcmVhU3RhdGUgPT09IFwiaGlkZGVuXCIpIHtcbiAgICAgICAgICBpbnRlcm5hbFNldENoYXRBcmVhU3RhdGUoXCJjb21wYWN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIHNldENoYXRzKFxuICAgICAgICAgIChwcmV2KSA9PiBwcmV2Lm1hcChcbiAgICAgICAgICAgIChjaGF0MikgPT4gY2hhdDIuaWQgPT09IGNoYXRJZCA/IHtcbiAgICAgICAgICAgICAgLi4uY2hhdDIsXG4gICAgICAgICAgICAgIG1lc3NhZ2VzOiBbLi4uY2hhdDIubWVzc2FnZXMsIG5ld01lc3NhZ2VdLFxuICAgICAgICAgICAgICBpbnB1dFZhbHVlOiBcIlwiLFxuICAgICAgICAgICAgICBkb21Db250ZXh0RWxlbWVudHM6IFtdXG4gICAgICAgICAgICB9IDogY2hhdDJcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgW1xuICAgICAgICBjaGF0QXJlYVN0YXRlLFxuICAgICAgICBicmlkZ2UsXG4gICAgICAgIGNoYXRzLFxuICAgICAgICBzZXRJc1Byb21wdENyZWF0aW9uTW9kZSxcbiAgICAgICAgaW50ZXJuYWxTZXRDaGF0QXJlYVN0YXRlXG4gICAgICBdXG4gICAgKTtcbiAgICBjb25zdCB2YWx1ZSA9IHtcbiAgICAgIGNoYXRzLFxuICAgICAgY3VycmVudENoYXRJZCxcbiAgICAgIGNyZWF0ZUNoYXQsXG4gICAgICBkZWxldGVDaGF0LFxuICAgICAgc2V0Q3VycmVudENoYXQsXG4gICAgICBzZXRDaGF0SW5wdXQsXG4gICAgICBhZGRNZXNzYWdlLFxuICAgICAgY2hhdEFyZWFTdGF0ZSxcbiAgICAgIHNldENoYXRBcmVhU3RhdGUsXG4gICAgICBpc1Byb21wdENyZWF0aW9uQWN0aXZlOiBpc1Byb21wdENyZWF0aW9uTW9kZSxcbiAgICAgIHN0YXJ0UHJvbXB0Q3JlYXRpb24sXG4gICAgICBzdG9wUHJvbXB0Q3JlYXRpb24sXG4gICAgICBhZGRDaGF0RG9tQ29udGV4dCxcbiAgICAgIHJlbW92ZUNoYXREb21Db250ZXh0XG4gICAgfTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShDaGF0Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZSwgY2hpbGRyZW4gfSk7XG4gIH07XG4gIGZ1bmN0aW9uIHVzZUNoYXRTdGF0ZSgpIHtcbiAgICBjb25zdCBjb250ZXh0ID0geCQ0KENoYXRDb250ZXh0KTtcbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInVzZUNoYXRTdGF0ZSBtdXN0IGJlIHVzZWQgd2l0aGluIGEgQ2hhdFN0YXRlUHJvdmlkZXJcIik7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0O1xuICB9XG4gIGZ1bmN0aW9uIHVzZUN5Y2xpY1VwZGF0ZShmdW5jLCBmcmFtZVJhdGUpIHtcbiAgICBjb25zdCBhbmltYXRpb25GcmFtZUhhbmRsZSA9IEEkMyh2b2lkIDApO1xuICAgIGNvbnN0IHRpbWVCZXR3ZWVuRnJhbWVzID0gVCQ1KFxuICAgICAgKCkgPT4gZnJhbWVSYXRlICYmIGZyYW1lUmF0ZSA+IDAgPyAxZTMgLyBmcmFtZVJhdGUgOiAwLFxuICAgICAgW2ZyYW1lUmF0ZV1cbiAgICApO1xuICAgIGNvbnN0IGxhc3RDYWxsRnJhbWVUaW1lID0gQSQzKDApO1xuICAgIGNvbnN0IHVwZGF0ZSA9IHEkMyhcbiAgICAgIChmcmFtZVRpbWUpID0+IHtcbiAgICAgICAgaWYgKGZyYW1lVGltZSAtIGxhc3RDYWxsRnJhbWVUaW1lLmN1cnJlbnQgPj0gdGltZUJldHdlZW5GcmFtZXMpIHtcbiAgICAgICAgICBmdW5jKCk7XG4gICAgICAgICAgbGFzdENhbGxGcmFtZVRpbWUuY3VycmVudCA9IGZyYW1lVGltZTtcbiAgICAgICAgfVxuICAgICAgICBhbmltYXRpb25GcmFtZUhhbmRsZS5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZSk7XG4gICAgICB9LFxuICAgICAgW2Z1bmMsIHRpbWVCZXR3ZWVuRnJhbWVzXVxuICAgICk7XG4gICAgeSQ2KCgpID0+IHtcbiAgICAgIGlmICghZnJhbWVSYXRlIHx8IGZyYW1lUmF0ZSA+IDApIHtcbiAgICAgICAgYW5pbWF0aW9uRnJhbWVIYW5kbGUuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbkZyYW1lSGFuZGxlLmN1cnJlbnQpIHtcbiAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZUhhbmRsZS5jdXJyZW50KTtcbiAgICAgICAgICBhbmltYXRpb25GcmFtZUhhbmRsZS5jdXJyZW50ID0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sIFtmcmFtZVJhdGUsIHVwZGF0ZV0pO1xuICB9XG4gIGNvbnN0IExvY2F0aW9uQ29udGV4dCA9IEskMyhuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKSk7XG4gIGZ1bmN0aW9uIExvY2F0aW9uUHJvdmlkZXIoe1xuICAgIGNoaWxkcmVuXG4gIH0pIHtcbiAgICBjb25zdCBbY3VycmVudFVybCwgc2V0Q3VycmVudFVybF0gPSBkJDQoXG4gICAgICBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKVxuICAgICk7XG4gICAgY29uc3QgdXBkYXRlID0gcSQzKCgpID0+IHtcbiAgICAgIHNldEN1cnJlbnRVcmwobmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZikpO1xuICAgIH0sIFtdKTtcbiAgICB1c2VDeWNsaWNVcGRhdGUodXBkYXRlLCAxNSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoTG9jYXRpb25Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjdXJyZW50VXJsLCBjaGlsZHJlbiB9KTtcbiAgfVxuICBmdW5jdGlvbiBDb250ZXh0UHJvdmlkZXJzKHtcbiAgICBjaGlsZHJlbixcbiAgICBjb25maWdcbiAgfSkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KExvY2F0aW9uUHJvdmlkZXIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoU1JQQ0JyaWRnZVByb3ZpZGVyLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gdSQ5KFBsdWdpblByb3ZpZGVyLCB7IHBsdWdpbnM6IChjb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy5wbHVnaW5zKSB8fCBbXSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoQ2hhdFN0YXRlUHJvdmlkZXIsIHsgY2hpbGRyZW4gfSkgfSkgfSkgfSk7XG4gIH1cbiAgZnVuY3Rpb24gdXNlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMsIGVsZW1lbnQgPSB3aW5kb3cpIHtcbiAgICB5JDYoKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcbiAgICAgIGlmICghZWxlbWVudCkgcmV0dXJuO1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICByZXR1cm4gKCkgPT4gZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfSwgW2V2ZW50TmFtZSwgaGFuZGxlciwgZWxlbWVudCwgb3B0aW9uc10pO1xuICB9XG4gIGZ1bmN0aW9uIHIkMyhlMikge1xuICAgIHZhciB0MiwgZjIsIG4yID0gXCJcIjtcbiAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZTIgfHwgXCJudW1iZXJcIiA9PSB0eXBlb2YgZTIpIG4yICs9IGUyO1xuICAgIGVsc2UgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIGUyKSBpZiAoQXJyYXkuaXNBcnJheShlMikpIHtcbiAgICAgIHZhciBvMiA9IGUyLmxlbmd0aDtcbiAgICAgIGZvciAodDIgPSAwOyB0MiA8IG8yOyB0MisrKSBlMlt0Ml0gJiYgKGYyID0gciQzKGUyW3QyXSkpICYmIChuMiAmJiAobjIgKz0gXCIgXCIpLCBuMiArPSBmMik7XG4gICAgfSBlbHNlIGZvciAoZjIgaW4gZTIpIGUyW2YyXSAmJiAobjIgJiYgKG4yICs9IFwiIFwiKSwgbjIgKz0gZjIpO1xuICAgIHJldHVybiBuMjtcbiAgfVxuICBmdW5jdGlvbiBjbHN4KCkge1xuICAgIGZvciAodmFyIGUyLCB0MiwgZjIgPSAwLCBuMiA9IFwiXCIsIG8yID0gYXJndW1lbnRzLmxlbmd0aDsgZjIgPCBvMjsgZjIrKykgKGUyID0gYXJndW1lbnRzW2YyXSkgJiYgKHQyID0gciQzKGUyKSkgJiYgKG4yICYmIChuMiArPSBcIiBcIiksIG4yICs9IHQyKTtcbiAgICByZXR1cm4gbjI7XG4gIH1cbiAgY29uc3QgQ0xBU1NfUEFSVF9TRVBBUkFUT1IgPSBcIi1cIjtcbiAgY29uc3QgY3JlYXRlQ2xhc3NHcm91cFV0aWxzID0gKGNvbmZpZykgPT4ge1xuICAgIGNvbnN0IGNsYXNzTWFwID0gY3JlYXRlQ2xhc3NNYXAoY29uZmlnKTtcbiAgICBjb25zdCB7XG4gICAgICBjb25mbGljdGluZ0NsYXNzR3JvdXBzLFxuICAgICAgY29uZmxpY3RpbmdDbGFzc0dyb3VwTW9kaWZpZXJzXG4gICAgfSA9IGNvbmZpZztcbiAgICBjb25zdCBnZXRDbGFzc0dyb3VwSWQgPSAoY2xhc3NOYW1lKSA9PiB7XG4gICAgICBjb25zdCBjbGFzc1BhcnRzID0gY2xhc3NOYW1lLnNwbGl0KENMQVNTX1BBUlRfU0VQQVJBVE9SKTtcbiAgICAgIGlmIChjbGFzc1BhcnRzWzBdID09PSBcIlwiICYmIGNsYXNzUGFydHMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIGNsYXNzUGFydHMuc2hpZnQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRHcm91cFJlY3Vyc2l2ZShjbGFzc1BhcnRzLCBjbGFzc01hcCkgfHwgZ2V0R3JvdXBJZEZvckFyYml0cmFyeVByb3BlcnR5KGNsYXNzTmFtZSk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRDb25mbGljdGluZ0NsYXNzR3JvdXBJZHMgPSAoY2xhc3NHcm91cElkLCBoYXNQb3N0Zml4TW9kaWZpZXIpID0+IHtcbiAgICAgIGNvbnN0IGNvbmZsaWN0cyA9IGNvbmZsaWN0aW5nQ2xhc3NHcm91cHNbY2xhc3NHcm91cElkXSB8fCBbXTtcbiAgICAgIGlmIChoYXNQb3N0Zml4TW9kaWZpZXIgJiYgY29uZmxpY3RpbmdDbGFzc0dyb3VwTW9kaWZpZXJzW2NsYXNzR3JvdXBJZF0pIHtcbiAgICAgICAgcmV0dXJuIFsuLi5jb25mbGljdHMsIC4uLmNvbmZsaWN0aW5nQ2xhc3NHcm91cE1vZGlmaWVyc1tjbGFzc0dyb3VwSWRdXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb25mbGljdHM7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0Q2xhc3NHcm91cElkLFxuICAgICAgZ2V0Q29uZmxpY3RpbmdDbGFzc0dyb3VwSWRzXG4gICAgfTtcbiAgfTtcbiAgY29uc3QgZ2V0R3JvdXBSZWN1cnNpdmUgPSAoY2xhc3NQYXJ0cywgY2xhc3NQYXJ0T2JqZWN0KSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChjbGFzc1BhcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGNsYXNzUGFydE9iamVjdC5jbGFzc0dyb3VwSWQ7XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRDbGFzc1BhcnQgPSBjbGFzc1BhcnRzWzBdO1xuICAgIGNvbnN0IG5leHRDbGFzc1BhcnRPYmplY3QgPSBjbGFzc1BhcnRPYmplY3QubmV4dFBhcnQuZ2V0KGN1cnJlbnRDbGFzc1BhcnQpO1xuICAgIGNvbnN0IGNsYXNzR3JvdXBGcm9tTmV4dENsYXNzUGFydCA9IG5leHRDbGFzc1BhcnRPYmplY3QgPyBnZXRHcm91cFJlY3Vyc2l2ZShjbGFzc1BhcnRzLnNsaWNlKDEpLCBuZXh0Q2xhc3NQYXJ0T2JqZWN0KSA6IHZvaWQgMDtcbiAgICBpZiAoY2xhc3NHcm91cEZyb21OZXh0Q2xhc3NQYXJ0KSB7XG4gICAgICByZXR1cm4gY2xhc3NHcm91cEZyb21OZXh0Q2xhc3NQYXJ0O1xuICAgIH1cbiAgICBpZiAoY2xhc3NQYXJ0T2JqZWN0LnZhbGlkYXRvcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBjb25zdCBjbGFzc1Jlc3QgPSBjbGFzc1BhcnRzLmpvaW4oQ0xBU1NfUEFSVF9TRVBBUkFUT1IpO1xuICAgIHJldHVybiAoX2EgPSBjbGFzc1BhcnRPYmplY3QudmFsaWRhdG9ycy5maW5kKCh7XG4gICAgICB2YWxpZGF0b3JcbiAgICB9KSA9PiB2YWxpZGF0b3IoY2xhc3NSZXN0KSkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jbGFzc0dyb3VwSWQ7XG4gIH07XG4gIGNvbnN0IGFyYml0cmFyeVByb3BlcnR5UmVnZXggPSAvXlxcWyguKylcXF0kLztcbiAgY29uc3QgZ2V0R3JvdXBJZEZvckFyYml0cmFyeVByb3BlcnR5ID0gKGNsYXNzTmFtZSkgPT4ge1xuICAgIGlmIChhcmJpdHJhcnlQcm9wZXJ0eVJlZ2V4LnRlc3QoY2xhc3NOYW1lKSkge1xuICAgICAgY29uc3QgYXJiaXRyYXJ5UHJvcGVydHlDbGFzc05hbWUgPSBhcmJpdHJhcnlQcm9wZXJ0eVJlZ2V4LmV4ZWMoY2xhc3NOYW1lKVsxXTtcbiAgICAgIGNvbnN0IHByb3BlcnR5ID0gYXJiaXRyYXJ5UHJvcGVydHlDbGFzc05hbWUgPT0gbnVsbCA/IHZvaWQgMCA6IGFyYml0cmFyeVByb3BlcnR5Q2xhc3NOYW1lLnN1YnN0cmluZygwLCBhcmJpdHJhcnlQcm9wZXJ0eUNsYXNzTmFtZS5pbmRleE9mKFwiOlwiKSk7XG4gICAgICBpZiAocHJvcGVydHkpIHtcbiAgICAgICAgcmV0dXJuIFwiYXJiaXRyYXJ5Li5cIiArIHByb3BlcnR5O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgY3JlYXRlQ2xhc3NNYXAgPSAoY29uZmlnKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgdGhlbWUsXG4gICAgICBjbGFzc0dyb3Vwc1xuICAgIH0gPSBjb25maWc7XG4gICAgY29uc3QgY2xhc3NNYXAgPSB7XG4gICAgICBuZXh0UGFydDogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICAgIHZhbGlkYXRvcnM6IFtdXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IGNsYXNzR3JvdXBJZCBpbiBjbGFzc0dyb3Vwcykge1xuICAgICAgcHJvY2Vzc0NsYXNzZXNSZWN1cnNpdmVseShjbGFzc0dyb3Vwc1tjbGFzc0dyb3VwSWRdLCBjbGFzc01hcCwgY2xhc3NHcm91cElkLCB0aGVtZSk7XG4gICAgfVxuICAgIHJldHVybiBjbGFzc01hcDtcbiAgfTtcbiAgY29uc3QgcHJvY2Vzc0NsYXNzZXNSZWN1cnNpdmVseSA9IChjbGFzc0dyb3VwLCBjbGFzc1BhcnRPYmplY3QsIGNsYXNzR3JvdXBJZCwgdGhlbWUpID0+IHtcbiAgICBjbGFzc0dyb3VwLmZvckVhY2goKGNsYXNzRGVmaW5pdGlvbikgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBjbGFzc0RlZmluaXRpb24gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY29uc3QgY2xhc3NQYXJ0T2JqZWN0VG9FZGl0ID0gY2xhc3NEZWZpbml0aW9uID09PSBcIlwiID8gY2xhc3NQYXJ0T2JqZWN0IDogZ2V0UGFydChjbGFzc1BhcnRPYmplY3QsIGNsYXNzRGVmaW5pdGlvbik7XG4gICAgICAgIGNsYXNzUGFydE9iamVjdFRvRWRpdC5jbGFzc0dyb3VwSWQgPSBjbGFzc0dyb3VwSWQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgY2xhc3NEZWZpbml0aW9uID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgaWYgKGlzVGhlbWVHZXR0ZXIoY2xhc3NEZWZpbml0aW9uKSkge1xuICAgICAgICAgIHByb2Nlc3NDbGFzc2VzUmVjdXJzaXZlbHkoY2xhc3NEZWZpbml0aW9uKHRoZW1lKSwgY2xhc3NQYXJ0T2JqZWN0LCBjbGFzc0dyb3VwSWQsIHRoZW1lKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2xhc3NQYXJ0T2JqZWN0LnZhbGlkYXRvcnMucHVzaCh7XG4gICAgICAgICAgdmFsaWRhdG9yOiBjbGFzc0RlZmluaXRpb24sXG4gICAgICAgICAgY2xhc3NHcm91cElkXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBPYmplY3QuZW50cmllcyhjbGFzc0RlZmluaXRpb24pLmZvckVhY2goKFtrZXksIGNsYXNzR3JvdXAyXSkgPT4ge1xuICAgICAgICBwcm9jZXNzQ2xhc3Nlc1JlY3Vyc2l2ZWx5KGNsYXNzR3JvdXAyLCBnZXRQYXJ0KGNsYXNzUGFydE9iamVjdCwga2V5KSwgY2xhc3NHcm91cElkLCB0aGVtZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgZ2V0UGFydCA9IChjbGFzc1BhcnRPYmplY3QsIHBhdGgpID0+IHtcbiAgICBsZXQgY3VycmVudENsYXNzUGFydE9iamVjdCA9IGNsYXNzUGFydE9iamVjdDtcbiAgICBwYXRoLnNwbGl0KENMQVNTX1BBUlRfU0VQQVJBVE9SKS5mb3JFYWNoKChwYXRoUGFydCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50Q2xhc3NQYXJ0T2JqZWN0Lm5leHRQYXJ0LmhhcyhwYXRoUGFydCkpIHtcbiAgICAgICAgY3VycmVudENsYXNzUGFydE9iamVjdC5uZXh0UGFydC5zZXQocGF0aFBhcnQsIHtcbiAgICAgICAgICBuZXh0UGFydDogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICAgICAgICB2YWxpZGF0b3JzOiBbXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRDbGFzc1BhcnRPYmplY3QgPSBjdXJyZW50Q2xhc3NQYXJ0T2JqZWN0Lm5leHRQYXJ0LmdldChwYXRoUGFydCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGN1cnJlbnRDbGFzc1BhcnRPYmplY3Q7XG4gIH07XG4gIGNvbnN0IGlzVGhlbWVHZXR0ZXIgPSAoZnVuYykgPT4gZnVuYy5pc1RoZW1lR2V0dGVyO1xuICBjb25zdCBjcmVhdGVMcnVDYWNoZSA9IChtYXhDYWNoZVNpemUpID0+IHtcbiAgICBpZiAobWF4Q2FjaGVTaXplIDwgMSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0OiAoKSA9PiB2b2lkIDAsXG4gICAgICAgIHNldDogKCkgPT4ge1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBsZXQgY2FjaGVTaXplID0gMDtcbiAgICBsZXQgY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIGxldCBwcmV2aW91c0NhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICBjb25zdCB1cGRhdGUgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgY2FjaGUuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgY2FjaGVTaXplKys7XG4gICAgICBpZiAoY2FjaGVTaXplID4gbWF4Q2FjaGVTaXplKSB7XG4gICAgICAgIGNhY2hlU2l6ZSA9IDA7XG4gICAgICAgIHByZXZpb3VzQ2FjaGUgPSBjYWNoZTtcbiAgICAgICAgY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldChrZXkpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gY2FjaGUuZ2V0KGtleSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgodmFsdWUgPSBwcmV2aW91c0NhY2hlLmdldChrZXkpKSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgdXBkYXRlKGtleSwgdmFsdWUpO1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChjYWNoZS5oYXMoa2V5KSkge1xuICAgICAgICAgIGNhY2hlLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cGRhdGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICBjb25zdCBJTVBPUlRBTlRfTU9ESUZJRVIgPSBcIiFcIjtcbiAgY29uc3QgTU9ESUZJRVJfU0VQQVJBVE9SID0gXCI6XCI7XG4gIGNvbnN0IE1PRElGSUVSX1NFUEFSQVRPUl9MRU5HVEggPSBNT0RJRklFUl9TRVBBUkFUT1IubGVuZ3RoO1xuICBjb25zdCBjcmVhdGVQYXJzZUNsYXNzTmFtZSA9IChjb25maWcpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBwcmVmaXgsXG4gICAgICBleHBlcmltZW50YWxQYXJzZUNsYXNzTmFtZVxuICAgIH0gPSBjb25maWc7XG4gICAgbGV0IHBhcnNlQ2xhc3NOYW1lID0gKGNsYXNzTmFtZSkgPT4ge1xuICAgICAgY29uc3QgbW9kaWZpZXJzID0gW107XG4gICAgICBsZXQgYnJhY2tldERlcHRoID0gMDtcbiAgICAgIGxldCBwYXJlbkRlcHRoID0gMDtcbiAgICAgIGxldCBtb2RpZmllclN0YXJ0ID0gMDtcbiAgICAgIGxldCBwb3N0Zml4TW9kaWZpZXJQb3NpdGlvbjtcbiAgICAgIGZvciAobGV0IGluZGV4MiA9IDA7IGluZGV4MiA8IGNsYXNzTmFtZS5sZW5ndGg7IGluZGV4MisrKSB7XG4gICAgICAgIGxldCBjdXJyZW50Q2hhcmFjdGVyID0gY2xhc3NOYW1lW2luZGV4Ml07XG4gICAgICAgIGlmIChicmFja2V0RGVwdGggPT09IDAgJiYgcGFyZW5EZXB0aCA9PT0gMCkge1xuICAgICAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyID09PSBNT0RJRklFUl9TRVBBUkFUT1IpIHtcbiAgICAgICAgICAgIG1vZGlmaWVycy5wdXNoKGNsYXNzTmFtZS5zbGljZShtb2RpZmllclN0YXJ0LCBpbmRleDIpKTtcbiAgICAgICAgICAgIG1vZGlmaWVyU3RhcnQgPSBpbmRleDIgKyBNT0RJRklFUl9TRVBBUkFUT1JfTEVOR1RIO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyID09PSBcIi9cIikge1xuICAgICAgICAgICAgcG9zdGZpeE1vZGlmaWVyUG9zaXRpb24gPSBpbmRleDI7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIgPT09IFwiW1wiKSB7XG4gICAgICAgICAgYnJhY2tldERlcHRoKys7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudENoYXJhY3RlciA9PT0gXCJdXCIpIHtcbiAgICAgICAgICBicmFja2V0RGVwdGgtLTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50Q2hhcmFjdGVyID09PSBcIihcIikge1xuICAgICAgICAgIHBhcmVuRGVwdGgrKztcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50Q2hhcmFjdGVyID09PSBcIilcIikge1xuICAgICAgICAgIHBhcmVuRGVwdGgtLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgYmFzZUNsYXNzTmFtZVdpdGhJbXBvcnRhbnRNb2RpZmllciA9IG1vZGlmaWVycy5sZW5ndGggPT09IDAgPyBjbGFzc05hbWUgOiBjbGFzc05hbWUuc3Vic3RyaW5nKG1vZGlmaWVyU3RhcnQpO1xuICAgICAgY29uc3QgYmFzZUNsYXNzTmFtZSA9IHN0cmlwSW1wb3J0YW50TW9kaWZpZXIoYmFzZUNsYXNzTmFtZVdpdGhJbXBvcnRhbnRNb2RpZmllcik7XG4gICAgICBjb25zdCBoYXNJbXBvcnRhbnRNb2RpZmllciA9IGJhc2VDbGFzc05hbWUgIT09IGJhc2VDbGFzc05hbWVXaXRoSW1wb3J0YW50TW9kaWZpZXI7XG4gICAgICBjb25zdCBtYXliZVBvc3RmaXhNb2RpZmllclBvc2l0aW9uID0gcG9zdGZpeE1vZGlmaWVyUG9zaXRpb24gJiYgcG9zdGZpeE1vZGlmaWVyUG9zaXRpb24gPiBtb2RpZmllclN0YXJ0ID8gcG9zdGZpeE1vZGlmaWVyUG9zaXRpb24gLSBtb2RpZmllclN0YXJ0IDogdm9pZCAwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbW9kaWZpZXJzLFxuICAgICAgICBoYXNJbXBvcnRhbnRNb2RpZmllcixcbiAgICAgICAgYmFzZUNsYXNzTmFtZSxcbiAgICAgICAgbWF5YmVQb3N0Zml4TW9kaWZpZXJQb3NpdGlvblxuICAgICAgfTtcbiAgICB9O1xuICAgIGlmIChwcmVmaXgpIHtcbiAgICAgIGNvbnN0IGZ1bGxQcmVmaXggPSBwcmVmaXggKyBNT0RJRklFUl9TRVBBUkFUT1I7XG4gICAgICBjb25zdCBwYXJzZUNsYXNzTmFtZU9yaWdpbmFsID0gcGFyc2VDbGFzc05hbWU7XG4gICAgICBwYXJzZUNsYXNzTmFtZSA9IChjbGFzc05hbWUpID0+IGNsYXNzTmFtZS5zdGFydHNXaXRoKGZ1bGxQcmVmaXgpID8gcGFyc2VDbGFzc05hbWVPcmlnaW5hbChjbGFzc05hbWUuc3Vic3RyaW5nKGZ1bGxQcmVmaXgubGVuZ3RoKSkgOiB7XG4gICAgICAgIGlzRXh0ZXJuYWw6IHRydWUsXG4gICAgICAgIG1vZGlmaWVyczogW10sXG4gICAgICAgIGhhc0ltcG9ydGFudE1vZGlmaWVyOiBmYWxzZSxcbiAgICAgICAgYmFzZUNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICBtYXliZVBvc3RmaXhNb2RpZmllclBvc2l0aW9uOiB2b2lkIDBcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChleHBlcmltZW50YWxQYXJzZUNsYXNzTmFtZSkge1xuICAgICAgY29uc3QgcGFyc2VDbGFzc05hbWVPcmlnaW5hbCA9IHBhcnNlQ2xhc3NOYW1lO1xuICAgICAgcGFyc2VDbGFzc05hbWUgPSAoY2xhc3NOYW1lKSA9PiBleHBlcmltZW50YWxQYXJzZUNsYXNzTmFtZSh7XG4gICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgcGFyc2VDbGFzc05hbWU6IHBhcnNlQ2xhc3NOYW1lT3JpZ2luYWxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VDbGFzc05hbWU7XG4gIH07XG4gIGNvbnN0IHN0cmlwSW1wb3J0YW50TW9kaWZpZXIgPSAoYmFzZUNsYXNzTmFtZSkgPT4ge1xuICAgIGlmIChiYXNlQ2xhc3NOYW1lLmVuZHNXaXRoKElNUE9SVEFOVF9NT0RJRklFUikpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xhc3NOYW1lLnN1YnN0cmluZygwLCBiYXNlQ2xhc3NOYW1lLmxlbmd0aCAtIDEpO1xuICAgIH1cbiAgICBpZiAoYmFzZUNsYXNzTmFtZS5zdGFydHNXaXRoKElNUE9SVEFOVF9NT0RJRklFUikpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xhc3NOYW1lLnN1YnN0cmluZygxKTtcbiAgICB9XG4gICAgcmV0dXJuIGJhc2VDbGFzc05hbWU7XG4gIH07XG4gIGNvbnN0IGNyZWF0ZVNvcnRNb2RpZmllcnMgPSAoY29uZmlnKSA9PiB7XG4gICAgY29uc3Qgb3JkZXJTZW5zaXRpdmVNb2RpZmllcnMgPSBPYmplY3QuZnJvbUVudHJpZXMoY29uZmlnLm9yZGVyU2Vuc2l0aXZlTW9kaWZpZXJzLm1hcCgobW9kaWZpZXIpID0+IFttb2RpZmllciwgdHJ1ZV0pKTtcbiAgICBjb25zdCBzb3J0TW9kaWZpZXJzID0gKG1vZGlmaWVycykgPT4ge1xuICAgICAgaWYgKG1vZGlmaWVycy5sZW5ndGggPD0gMSkge1xuICAgICAgICByZXR1cm4gbW9kaWZpZXJzO1xuICAgICAgfVxuICAgICAgY29uc3Qgc29ydGVkTW9kaWZpZXJzID0gW107XG4gICAgICBsZXQgdW5zb3J0ZWRNb2RpZmllcnMgPSBbXTtcbiAgICAgIG1vZGlmaWVycy5mb3JFYWNoKChtb2RpZmllcikgPT4ge1xuICAgICAgICBjb25zdCBpc1Bvc2l0aW9uU2Vuc2l0aXZlID0gbW9kaWZpZXJbMF0gPT09IFwiW1wiIHx8IG9yZGVyU2Vuc2l0aXZlTW9kaWZpZXJzW21vZGlmaWVyXTtcbiAgICAgICAgaWYgKGlzUG9zaXRpb25TZW5zaXRpdmUpIHtcbiAgICAgICAgICBzb3J0ZWRNb2RpZmllcnMucHVzaCguLi51bnNvcnRlZE1vZGlmaWVycy5zb3J0KCksIG1vZGlmaWVyKTtcbiAgICAgICAgICB1bnNvcnRlZE1vZGlmaWVycyA9IFtdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVuc29ydGVkTW9kaWZpZXJzLnB1c2gobW9kaWZpZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNvcnRlZE1vZGlmaWVycy5wdXNoKC4uLnVuc29ydGVkTW9kaWZpZXJzLnNvcnQoKSk7XG4gICAgICByZXR1cm4gc29ydGVkTW9kaWZpZXJzO1xuICAgIH07XG4gICAgcmV0dXJuIHNvcnRNb2RpZmllcnM7XG4gIH07XG4gIGNvbnN0IGNyZWF0ZUNvbmZpZ1V0aWxzID0gKGNvbmZpZykgPT4gKHtcbiAgICBjYWNoZTogY3JlYXRlTHJ1Q2FjaGUoY29uZmlnLmNhY2hlU2l6ZSksXG4gICAgcGFyc2VDbGFzc05hbWU6IGNyZWF0ZVBhcnNlQ2xhc3NOYW1lKGNvbmZpZyksXG4gICAgc29ydE1vZGlmaWVyczogY3JlYXRlU29ydE1vZGlmaWVycyhjb25maWcpLFxuICAgIC4uLmNyZWF0ZUNsYXNzR3JvdXBVdGlscyhjb25maWcpXG4gIH0pO1xuICBjb25zdCBTUExJVF9DTEFTU0VTX1JFR0VYID0gL1xccysvO1xuICBjb25zdCBtZXJnZUNsYXNzTGlzdCA9IChjbGFzc0xpc3QsIGNvbmZpZ1V0aWxzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgcGFyc2VDbGFzc05hbWUsXG4gICAgICBnZXRDbGFzc0dyb3VwSWQsXG4gICAgICBnZXRDb25mbGljdGluZ0NsYXNzR3JvdXBJZHMsXG4gICAgICBzb3J0TW9kaWZpZXJzXG4gICAgfSA9IGNvbmZpZ1V0aWxzO1xuICAgIGNvbnN0IGNsYXNzR3JvdXBzSW5Db25mbGljdCA9IFtdO1xuICAgIGNvbnN0IGNsYXNzTmFtZXMgPSBjbGFzc0xpc3QudHJpbSgpLnNwbGl0KFNQTElUX0NMQVNTRVNfUkVHRVgpO1xuICAgIGxldCByZXN1bHQgPSBcIlwiO1xuICAgIGZvciAobGV0IGluZGV4MiA9IGNsYXNzTmFtZXMubGVuZ3RoIC0gMTsgaW5kZXgyID49IDA7IGluZGV4MiAtPSAxKSB7XG4gICAgICBjb25zdCBvcmlnaW5hbENsYXNzTmFtZSA9IGNsYXNzTmFtZXNbaW5kZXgyXTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgaXNFeHRlcm5hbCxcbiAgICAgICAgbW9kaWZpZXJzLFxuICAgICAgICBoYXNJbXBvcnRhbnRNb2RpZmllcixcbiAgICAgICAgYmFzZUNsYXNzTmFtZSxcbiAgICAgICAgbWF5YmVQb3N0Zml4TW9kaWZpZXJQb3NpdGlvblxuICAgICAgfSA9IHBhcnNlQ2xhc3NOYW1lKG9yaWdpbmFsQ2xhc3NOYW1lKTtcbiAgICAgIGlmIChpc0V4dGVybmFsKSB7XG4gICAgICAgIHJlc3VsdCA9IG9yaWdpbmFsQ2xhc3NOYW1lICsgKHJlc3VsdC5sZW5ndGggPiAwID8gXCIgXCIgKyByZXN1bHQgOiByZXN1bHQpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGxldCBoYXNQb3N0Zml4TW9kaWZpZXIgPSAhIW1heWJlUG9zdGZpeE1vZGlmaWVyUG9zaXRpb247XG4gICAgICBsZXQgY2xhc3NHcm91cElkID0gZ2V0Q2xhc3NHcm91cElkKGhhc1Bvc3RmaXhNb2RpZmllciA/IGJhc2VDbGFzc05hbWUuc3Vic3RyaW5nKDAsIG1heWJlUG9zdGZpeE1vZGlmaWVyUG9zaXRpb24pIDogYmFzZUNsYXNzTmFtZSk7XG4gICAgICBpZiAoIWNsYXNzR3JvdXBJZCkge1xuICAgICAgICBpZiAoIWhhc1Bvc3RmaXhNb2RpZmllcikge1xuICAgICAgICAgIHJlc3VsdCA9IG9yaWdpbmFsQ2xhc3NOYW1lICsgKHJlc3VsdC5sZW5ndGggPiAwID8gXCIgXCIgKyByZXN1bHQgOiByZXN1bHQpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNsYXNzR3JvdXBJZCA9IGdldENsYXNzR3JvdXBJZChiYXNlQ2xhc3NOYW1lKTtcbiAgICAgICAgaWYgKCFjbGFzc0dyb3VwSWQpIHtcbiAgICAgICAgICByZXN1bHQgPSBvcmlnaW5hbENsYXNzTmFtZSArIChyZXN1bHQubGVuZ3RoID4gMCA/IFwiIFwiICsgcmVzdWx0IDogcmVzdWx0KTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBoYXNQb3N0Zml4TW9kaWZpZXIgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhcmlhbnRNb2RpZmllciA9IHNvcnRNb2RpZmllcnMobW9kaWZpZXJzKS5qb2luKFwiOlwiKTtcbiAgICAgIGNvbnN0IG1vZGlmaWVySWQgPSBoYXNJbXBvcnRhbnRNb2RpZmllciA/IHZhcmlhbnRNb2RpZmllciArIElNUE9SVEFOVF9NT0RJRklFUiA6IHZhcmlhbnRNb2RpZmllcjtcbiAgICAgIGNvbnN0IGNsYXNzSWQgPSBtb2RpZmllcklkICsgY2xhc3NHcm91cElkO1xuICAgICAgaWYgKGNsYXNzR3JvdXBzSW5Db25mbGljdC5pbmNsdWRlcyhjbGFzc0lkKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNsYXNzR3JvdXBzSW5Db25mbGljdC5wdXNoKGNsYXNzSWQpO1xuICAgICAgY29uc3QgY29uZmxpY3RHcm91cHMgPSBnZXRDb25mbGljdGluZ0NsYXNzR3JvdXBJZHMoY2xhc3NHcm91cElkLCBoYXNQb3N0Zml4TW9kaWZpZXIpO1xuICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGNvbmZsaWN0R3JvdXBzLmxlbmd0aDsgKytpMikge1xuICAgICAgICBjb25zdCBncm91cCA9IGNvbmZsaWN0R3JvdXBzW2kyXTtcbiAgICAgICAgY2xhc3NHcm91cHNJbkNvbmZsaWN0LnB1c2gobW9kaWZpZXJJZCArIGdyb3VwKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IG9yaWdpbmFsQ2xhc3NOYW1lICsgKHJlc3VsdC5sZW5ndGggPiAwID8gXCIgXCIgKyByZXN1bHQgOiByZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBmdW5jdGlvbiB0d0pvaW4oKSB7XG4gICAgbGV0IGluZGV4MiA9IDA7XG4gICAgbGV0IGFyZ3VtZW50O1xuICAgIGxldCByZXNvbHZlZFZhbHVlO1xuICAgIGxldCBzdHJpbmcgPSBcIlwiO1xuICAgIHdoaWxlIChpbmRleDIgPCBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBpZiAoYXJndW1lbnQgPSBhcmd1bWVudHNbaW5kZXgyKytdKSB7XG4gICAgICAgIGlmIChyZXNvbHZlZFZhbHVlID0gdG9WYWx1ZShhcmd1bWVudCkpIHtcbiAgICAgICAgICBzdHJpbmcgJiYgKHN0cmluZyArPSBcIiBcIik7XG4gICAgICAgICAgc3RyaW5nICs9IHJlc29sdmVkVmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZztcbiAgfVxuICBjb25zdCB0b1ZhbHVlID0gKG1peCkgPT4ge1xuICAgIGlmICh0eXBlb2YgbWl4ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gbWl4O1xuICAgIH1cbiAgICBsZXQgcmVzb2x2ZWRWYWx1ZTtcbiAgICBsZXQgc3RyaW5nID0gXCJcIjtcbiAgICBmb3IgKGxldCBrMiA9IDA7IGsyIDwgbWl4Lmxlbmd0aDsgazIrKykge1xuICAgICAgaWYgKG1peFtrMl0pIHtcbiAgICAgICAgaWYgKHJlc29sdmVkVmFsdWUgPSB0b1ZhbHVlKG1peFtrMl0pKSB7XG4gICAgICAgICAgc3RyaW5nICYmIChzdHJpbmcgKz0gXCIgXCIpO1xuICAgICAgICAgIHN0cmluZyArPSByZXNvbHZlZFZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHJpbmc7XG4gIH07XG4gIGZ1bmN0aW9uIGNyZWF0ZVRhaWx3aW5kTWVyZ2UoY3JlYXRlQ29uZmlnRmlyc3QsIC4uLmNyZWF0ZUNvbmZpZ1Jlc3QpIHtcbiAgICBsZXQgY29uZmlnVXRpbHM7XG4gICAgbGV0IGNhY2hlR2V0O1xuICAgIGxldCBjYWNoZVNldDtcbiAgICBsZXQgZnVuY3Rpb25Ub0NhbGwgPSBpbml0VGFpbHdpbmRNZXJnZTtcbiAgICBmdW5jdGlvbiBpbml0VGFpbHdpbmRNZXJnZShjbGFzc0xpc3QpIHtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGNyZWF0ZUNvbmZpZ1Jlc3QucmVkdWNlKChwcmV2aW91c0NvbmZpZywgY3JlYXRlQ29uZmlnQ3VycmVudCkgPT4gY3JlYXRlQ29uZmlnQ3VycmVudChwcmV2aW91c0NvbmZpZyksIGNyZWF0ZUNvbmZpZ0ZpcnN0KCkpO1xuICAgICAgY29uZmlnVXRpbHMgPSBjcmVhdGVDb25maWdVdGlscyhjb25maWcpO1xuICAgICAgY2FjaGVHZXQgPSBjb25maWdVdGlscy5jYWNoZS5nZXQ7XG4gICAgICBjYWNoZVNldCA9IGNvbmZpZ1V0aWxzLmNhY2hlLnNldDtcbiAgICAgIGZ1bmN0aW9uVG9DYWxsID0gdGFpbHdpbmRNZXJnZTtcbiAgICAgIHJldHVybiB0YWlsd2luZE1lcmdlKGNsYXNzTGlzdCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRhaWx3aW5kTWVyZ2UoY2xhc3NMaXN0KSB7XG4gICAgICBjb25zdCBjYWNoZWRSZXN1bHQgPSBjYWNoZUdldChjbGFzc0xpc3QpO1xuICAgICAgaWYgKGNhY2hlZFJlc3VsdCkge1xuICAgICAgICByZXR1cm4gY2FjaGVkUmVzdWx0O1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzdWx0ID0gbWVyZ2VDbGFzc0xpc3QoY2xhc3NMaXN0LCBjb25maWdVdGlscyk7XG4gICAgICBjYWNoZVNldChjbGFzc0xpc3QsIHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gY2FsbFRhaWx3aW5kTWVyZ2UoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb25Ub0NhbGwodHdKb2luLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH1cbiAgY29uc3QgZnJvbVRoZW1lID0gKGtleSkgPT4ge1xuICAgIGNvbnN0IHRoZW1lR2V0dGVyID0gKHRoZW1lKSA9PiB0aGVtZVtrZXldIHx8IFtdO1xuICAgIHRoZW1lR2V0dGVyLmlzVGhlbWVHZXR0ZXIgPSB0cnVlO1xuICAgIHJldHVybiB0aGVtZUdldHRlcjtcbiAgfTtcbiAgY29uc3QgYXJiaXRyYXJ5VmFsdWVSZWdleCA9IC9eXFxbKD86KFxcd1tcXHctXSopOik/KC4rKVxcXSQvaTtcbiAgY29uc3QgYXJiaXRyYXJ5VmFyaWFibGVSZWdleCA9IC9eXFwoKD86KFxcd1tcXHctXSopOik/KC4rKVxcKSQvaTtcbiAgY29uc3QgZnJhY3Rpb25SZWdleCA9IC9eXFxkK1xcL1xcZCskLztcbiAgY29uc3QgdHNoaXJ0VW5pdFJlZ2V4ID0gL14oXFxkKyhcXC5cXGQrKT8pPyh4c3xzbXxtZHxsZ3x4bCkkLztcbiAgY29uc3QgbGVuZ3RoVW5pdFJlZ2V4ID0gL1xcZCsoJXxweHxyP2VtfFtzZGxdP3YoW2h3aWJdfG1pbnxtYXgpfHB0fHBjfGlufGNtfG1tfGNhcHxjaHxleHxyP2xofGNxKHd8aHxpfGJ8bWlufG1heCkpfFxcYihjYWxjfG1pbnxtYXh8Y2xhbXApXFwoLitcXCl8XjAkLztcbiAgY29uc3QgY29sb3JGdW5jdGlvblJlZ2V4ID0gL14ocmdiYT98aHNsYT98aHdifChvayk/KGxhYnxsY2gpKVxcKC4rXFwpJC87XG4gIGNvbnN0IHNoYWRvd1JlZ2V4ID0gL14oaW5zZXRfKT8tPygoXFxkKyk/XFwuPyhcXGQrKVthLXpdK3wwKV8tPygoXFxkKyk/XFwuPyhcXGQrKVthLXpdK3wwKS87XG4gIGNvbnN0IGltYWdlUmVnZXggPSAvXih1cmx8aW1hZ2V8aW1hZ2Utc2V0fGNyb3NzLWZhZGV8ZWxlbWVudHwocmVwZWF0aW5nLSk/KGxpbmVhcnxyYWRpYWx8Y29uaWMpLWdyYWRpZW50KVxcKC4rXFwpJC87XG4gIGNvbnN0IGlzRnJhY3Rpb24gPSAodmFsdWUpID0+IGZyYWN0aW9uUmVnZXgudGVzdCh2YWx1ZSk7XG4gIGNvbnN0IGlzTnVtYmVyID0gKHZhbHVlKSA9PiAhIXZhbHVlICYmICFOdW1iZXIuaXNOYU4oTnVtYmVyKHZhbHVlKSk7XG4gIGNvbnN0IGlzSW50ZWdlciA9ICh2YWx1ZSkgPT4gISF2YWx1ZSAmJiBOdW1iZXIuaXNJbnRlZ2VyKE51bWJlcih2YWx1ZSkpO1xuICBjb25zdCBpc1BlcmNlbnQgPSAodmFsdWUpID0+IHZhbHVlLmVuZHNXaXRoKFwiJVwiKSAmJiBpc051bWJlcih2YWx1ZS5zbGljZSgwLCAtMSkpO1xuICBjb25zdCBpc1RzaGlydFNpemUgPSAodmFsdWUpID0+IHRzaGlydFVuaXRSZWdleC50ZXN0KHZhbHVlKTtcbiAgY29uc3QgaXNBbnkgPSAoKSA9PiB0cnVlO1xuICBjb25zdCBpc0xlbmd0aE9ubHkgPSAodmFsdWUpID0+IChcbiAgICAvLyBgY29sb3JGdW5jdGlvblJlZ2V4YCBjaGVjayBpcyBuZWNlc3NhcnkgYmVjYXVzZSBjb2xvciBmdW5jdGlvbnMgY2FuIGhhdmUgcGVyY2VudGFnZXMgaW4gdGhlbSB3aGljaCB3aGljaCB3b3VsZCBiZSBpbmNvcnJlY3RseSBjbGFzc2lmaWVkIGFzIGxlbmd0aHMuXG4gICAgLy8gRm9yIGV4YW1wbGUsIGBoc2woMCAwJSAwJSlgIHdvdWxkIGJlIGNsYXNzaWZpZWQgYXMgYSBsZW5ndGggd2l0aG91dCB0aGlzIGNoZWNrLlxuICAgIC8vIEkgY291bGQgYWxzbyB1c2UgbG9va2JlaGluZCBhc3NlcnRpb24gaW4gYGxlbmd0aFVuaXRSZWdleGAgYnV0IHRoYXQgaXNuJ3Qgc3VwcG9ydGVkIHdpZGVseSBlbm91Z2guXG4gICAgbGVuZ3RoVW5pdFJlZ2V4LnRlc3QodmFsdWUpICYmICFjb2xvckZ1bmN0aW9uUmVnZXgudGVzdCh2YWx1ZSlcbiAgKTtcbiAgY29uc3QgaXNOZXZlciA9ICgpID0+IGZhbHNlO1xuICBjb25zdCBpc1NoYWRvdyA9ICh2YWx1ZSkgPT4gc2hhZG93UmVnZXgudGVzdCh2YWx1ZSk7XG4gIGNvbnN0IGlzSW1hZ2UgPSAodmFsdWUpID0+IGltYWdlUmVnZXgudGVzdCh2YWx1ZSk7XG4gIGNvbnN0IGlzQW55Tm9uQXJiaXRyYXJ5ID0gKHZhbHVlKSA9PiAhaXNBcmJpdHJhcnlWYWx1ZSh2YWx1ZSkgJiYgIWlzQXJiaXRyYXJ5VmFyaWFibGUodmFsdWUpO1xuICBjb25zdCBpc0FyYml0cmFyeVNpemUgPSAodmFsdWUpID0+IGdldElzQXJiaXRyYXJ5VmFsdWUodmFsdWUsIGlzTGFiZWxTaXplLCBpc05ldmVyKTtcbiAgY29uc3QgaXNBcmJpdHJhcnlWYWx1ZSA9ICh2YWx1ZSkgPT4gYXJiaXRyYXJ5VmFsdWVSZWdleC50ZXN0KHZhbHVlKTtcbiAgY29uc3QgaXNBcmJpdHJhcnlMZW5ndGggPSAodmFsdWUpID0+IGdldElzQXJiaXRyYXJ5VmFsdWUodmFsdWUsIGlzTGFiZWxMZW5ndGgsIGlzTGVuZ3RoT25seSk7XG4gIGNvbnN0IGlzQXJiaXRyYXJ5TnVtYmVyID0gKHZhbHVlKSA9PiBnZXRJc0FyYml0cmFyeVZhbHVlKHZhbHVlLCBpc0xhYmVsTnVtYmVyLCBpc051bWJlcik7XG4gIGNvbnN0IGlzQXJiaXRyYXJ5UG9zaXRpb24gPSAodmFsdWUpID0+IGdldElzQXJiaXRyYXJ5VmFsdWUodmFsdWUsIGlzTGFiZWxQb3NpdGlvbiwgaXNOZXZlcik7XG4gIGNvbnN0IGlzQXJiaXRyYXJ5SW1hZ2UgPSAodmFsdWUpID0+IGdldElzQXJiaXRyYXJ5VmFsdWUodmFsdWUsIGlzTGFiZWxJbWFnZSwgaXNJbWFnZSk7XG4gIGNvbnN0IGlzQXJiaXRyYXJ5U2hhZG93ID0gKHZhbHVlKSA9PiBnZXRJc0FyYml0cmFyeVZhbHVlKHZhbHVlLCBpc0xhYmVsU2hhZG93LCBpc1NoYWRvdyk7XG4gIGNvbnN0IGlzQXJiaXRyYXJ5VmFyaWFibGUgPSAodmFsdWUpID0+IGFyYml0cmFyeVZhcmlhYmxlUmVnZXgudGVzdCh2YWx1ZSk7XG4gIGNvbnN0IGlzQXJiaXRyYXJ5VmFyaWFibGVMZW5ndGggPSAodmFsdWUpID0+IGdldElzQXJiaXRyYXJ5VmFyaWFibGUodmFsdWUsIGlzTGFiZWxMZW5ndGgpO1xuICBjb25zdCBpc0FyYml0cmFyeVZhcmlhYmxlRmFtaWx5TmFtZSA9ICh2YWx1ZSkgPT4gZ2V0SXNBcmJpdHJhcnlWYXJpYWJsZSh2YWx1ZSwgaXNMYWJlbEZhbWlseU5hbWUpO1xuICBjb25zdCBpc0FyYml0cmFyeVZhcmlhYmxlUG9zaXRpb24gPSAodmFsdWUpID0+IGdldElzQXJiaXRyYXJ5VmFyaWFibGUodmFsdWUsIGlzTGFiZWxQb3NpdGlvbik7XG4gIGNvbnN0IGlzQXJiaXRyYXJ5VmFyaWFibGVTaXplID0gKHZhbHVlKSA9PiBnZXRJc0FyYml0cmFyeVZhcmlhYmxlKHZhbHVlLCBpc0xhYmVsU2l6ZSk7XG4gIGNvbnN0IGlzQXJiaXRyYXJ5VmFyaWFibGVJbWFnZSA9ICh2YWx1ZSkgPT4gZ2V0SXNBcmJpdHJhcnlWYXJpYWJsZSh2YWx1ZSwgaXNMYWJlbEltYWdlKTtcbiAgY29uc3QgaXNBcmJpdHJhcnlWYXJpYWJsZVNoYWRvdyA9ICh2YWx1ZSkgPT4gZ2V0SXNBcmJpdHJhcnlWYXJpYWJsZSh2YWx1ZSwgaXNMYWJlbFNoYWRvdywgdHJ1ZSk7XG4gIGNvbnN0IGdldElzQXJiaXRyYXJ5VmFsdWUgPSAodmFsdWUsIHRlc3RMYWJlbCwgdGVzdFZhbHVlKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXJiaXRyYXJ5VmFsdWVSZWdleC5leGVjKHZhbHVlKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBpZiAocmVzdWx0WzFdKSB7XG4gICAgICAgIHJldHVybiB0ZXN0TGFiZWwocmVzdWx0WzFdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZXN0VmFsdWUocmVzdWx0WzJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBjb25zdCBnZXRJc0FyYml0cmFyeVZhcmlhYmxlID0gKHZhbHVlLCB0ZXN0TGFiZWwsIHNob3VsZE1hdGNoTm9MYWJlbCA9IGZhbHNlKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXJiaXRyYXJ5VmFyaWFibGVSZWdleC5leGVjKHZhbHVlKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBpZiAocmVzdWx0WzFdKSB7XG4gICAgICAgIHJldHVybiB0ZXN0TGFiZWwocmVzdWx0WzFdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzaG91bGRNYXRjaE5vTGFiZWw7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgY29uc3QgaXNMYWJlbFBvc2l0aW9uID0gKGxhYmVsKSA9PiBsYWJlbCA9PT0gXCJwb3NpdGlvblwiIHx8IGxhYmVsID09PSBcInBlcmNlbnRhZ2VcIjtcbiAgY29uc3QgaXNMYWJlbEltYWdlID0gKGxhYmVsKSA9PiBsYWJlbCA9PT0gXCJpbWFnZVwiIHx8IGxhYmVsID09PSBcInVybFwiO1xuICBjb25zdCBpc0xhYmVsU2l6ZSA9IChsYWJlbCkgPT4gbGFiZWwgPT09IFwibGVuZ3RoXCIgfHwgbGFiZWwgPT09IFwic2l6ZVwiIHx8IGxhYmVsID09PSBcImJnLXNpemVcIjtcbiAgY29uc3QgaXNMYWJlbExlbmd0aCA9IChsYWJlbCkgPT4gbGFiZWwgPT09IFwibGVuZ3RoXCI7XG4gIGNvbnN0IGlzTGFiZWxOdW1iZXIgPSAobGFiZWwpID0+IGxhYmVsID09PSBcIm51bWJlclwiO1xuICBjb25zdCBpc0xhYmVsRmFtaWx5TmFtZSA9IChsYWJlbCkgPT4gbGFiZWwgPT09IFwiZmFtaWx5LW5hbWVcIjtcbiAgY29uc3QgaXNMYWJlbFNoYWRvdyA9IChsYWJlbCkgPT4gbGFiZWwgPT09IFwic2hhZG93XCI7XG4gIGNvbnN0IGdldERlZmF1bHRDb25maWcgPSAoKSA9PiB7XG4gICAgY29uc3QgdGhlbWVDb2xvciA9IGZyb21UaGVtZShcImNvbG9yXCIpO1xuICAgIGNvbnN0IHRoZW1lRm9udCA9IGZyb21UaGVtZShcImZvbnRcIik7XG4gICAgY29uc3QgdGhlbWVUZXh0ID0gZnJvbVRoZW1lKFwidGV4dFwiKTtcbiAgICBjb25zdCB0aGVtZUZvbnRXZWlnaHQgPSBmcm9tVGhlbWUoXCJmb250LXdlaWdodFwiKTtcbiAgICBjb25zdCB0aGVtZVRyYWNraW5nID0gZnJvbVRoZW1lKFwidHJhY2tpbmdcIik7XG4gICAgY29uc3QgdGhlbWVMZWFkaW5nID0gZnJvbVRoZW1lKFwibGVhZGluZ1wiKTtcbiAgICBjb25zdCB0aGVtZUJyZWFrcG9pbnQgPSBmcm9tVGhlbWUoXCJicmVha3BvaW50XCIpO1xuICAgIGNvbnN0IHRoZW1lQ29udGFpbmVyID0gZnJvbVRoZW1lKFwiY29udGFpbmVyXCIpO1xuICAgIGNvbnN0IHRoZW1lU3BhY2luZyA9IGZyb21UaGVtZShcInNwYWNpbmdcIik7XG4gICAgY29uc3QgdGhlbWVSYWRpdXMgPSBmcm9tVGhlbWUoXCJyYWRpdXNcIik7XG4gICAgY29uc3QgdGhlbWVTaGFkb3cgPSBmcm9tVGhlbWUoXCJzaGFkb3dcIik7XG4gICAgY29uc3QgdGhlbWVJbnNldFNoYWRvdyA9IGZyb21UaGVtZShcImluc2V0LXNoYWRvd1wiKTtcbiAgICBjb25zdCB0aGVtZVRleHRTaGFkb3cgPSBmcm9tVGhlbWUoXCJ0ZXh0LXNoYWRvd1wiKTtcbiAgICBjb25zdCB0aGVtZURyb3BTaGFkb3cgPSBmcm9tVGhlbWUoXCJkcm9wLXNoYWRvd1wiKTtcbiAgICBjb25zdCB0aGVtZUJsdXIgPSBmcm9tVGhlbWUoXCJibHVyXCIpO1xuICAgIGNvbnN0IHRoZW1lUGVyc3BlY3RpdmUgPSBmcm9tVGhlbWUoXCJwZXJzcGVjdGl2ZVwiKTtcbiAgICBjb25zdCB0aGVtZUFzcGVjdCA9IGZyb21UaGVtZShcImFzcGVjdFwiKTtcbiAgICBjb25zdCB0aGVtZUVhc2UgPSBmcm9tVGhlbWUoXCJlYXNlXCIpO1xuICAgIGNvbnN0IHRoZW1lQW5pbWF0ZSA9IGZyb21UaGVtZShcImFuaW1hdGVcIik7XG4gICAgY29uc3Qgc2NhbGVCcmVhayA9ICgpID0+IFtcImF1dG9cIiwgXCJhdm9pZFwiLCBcImFsbFwiLCBcImF2b2lkLXBhZ2VcIiwgXCJwYWdlXCIsIFwibGVmdFwiLCBcInJpZ2h0XCIsIFwiY29sdW1uXCJdO1xuICAgIGNvbnN0IHNjYWxlUG9zaXRpb24gPSAoKSA9PiBbXG4gICAgICBcImNlbnRlclwiLFxuICAgICAgXCJ0b3BcIixcbiAgICAgIFwiYm90dG9tXCIsXG4gICAgICBcImxlZnRcIixcbiAgICAgIFwicmlnaHRcIixcbiAgICAgIFwidG9wLWxlZnRcIixcbiAgICAgIC8vIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjEuMCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MvcHVsbC8xNzM3OFxuICAgICAgXCJsZWZ0LXRvcFwiLFxuICAgICAgXCJ0b3AtcmlnaHRcIixcbiAgICAgIC8vIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjEuMCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MvcHVsbC8xNzM3OFxuICAgICAgXCJyaWdodC10b3BcIixcbiAgICAgIFwiYm90dG9tLXJpZ2h0XCIsXG4gICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4xLjAsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzL3B1bGwvMTczNzhcbiAgICAgIFwicmlnaHQtYm90dG9tXCIsXG4gICAgICBcImJvdHRvbS1sZWZ0XCIsXG4gICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4xLjAsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzL3B1bGwvMTczNzhcbiAgICAgIFwibGVmdC1ib3R0b21cIlxuICAgIF07XG4gICAgY29uc3Qgc2NhbGVQb3NpdGlvbldpdGhBcmJpdHJhcnkgPSAoKSA9PiBbLi4uc2NhbGVQb3NpdGlvbigpLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgICBjb25zdCBzY2FsZU92ZXJmbG93ID0gKCkgPT4gW1wiYXV0b1wiLCBcImhpZGRlblwiLCBcImNsaXBcIiwgXCJ2aXNpYmxlXCIsIFwic2Nyb2xsXCJdO1xuICAgIGNvbnN0IHNjYWxlT3ZlcnNjcm9sbCA9ICgpID0+IFtcImF1dG9cIiwgXCJjb250YWluXCIsIFwibm9uZVwiXTtcbiAgICBjb25zdCBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZyA9ICgpID0+IFtpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlLCB0aGVtZVNwYWNpbmddO1xuICAgIGNvbnN0IHNjYWxlSW5zZXQgPSAoKSA9PiBbaXNGcmFjdGlvbiwgXCJmdWxsXCIsIFwiYXV0b1wiLCAuLi5zY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXTtcbiAgICBjb25zdCBzY2FsZUdyaWRUZW1wbGF0ZUNvbHNSb3dzID0gKCkgPT4gW2lzSW50ZWdlciwgXCJub25lXCIsIFwic3ViZ3JpZFwiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgICBjb25zdCBzY2FsZUdyaWRDb2xSb3dTdGFydEFuZEVuZCA9ICgpID0+IFtcImF1dG9cIiwge1xuICAgICAgc3BhbjogW1wiZnVsbFwiLCBpc0ludGVnZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgfSwgaXNJbnRlZ2VyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgICBjb25zdCBzY2FsZUdyaWRDb2xSb3dTdGFydE9yRW5kID0gKCkgPT4gW2lzSW50ZWdlciwgXCJhdXRvXCIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdO1xuICAgIGNvbnN0IHNjYWxlR3JpZEF1dG9Db2xzUm93cyA9ICgpID0+IFtcImF1dG9cIiwgXCJtaW5cIiwgXCJtYXhcIiwgXCJmclwiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgICBjb25zdCBzY2FsZUFsaWduUHJpbWFyeUF4aXMgPSAoKSA9PiBbXCJzdGFydFwiLCBcImVuZFwiLCBcImNlbnRlclwiLCBcImJldHdlZW5cIiwgXCJhcm91bmRcIiwgXCJldmVubHlcIiwgXCJzdHJldGNoXCIsIFwiYmFzZWxpbmVcIiwgXCJjZW50ZXItc2FmZVwiLCBcImVuZC1zYWZlXCJdO1xuICAgIGNvbnN0IHNjYWxlQWxpZ25TZWNvbmRhcnlBeGlzID0gKCkgPT4gW1wic3RhcnRcIiwgXCJlbmRcIiwgXCJjZW50ZXJcIiwgXCJzdHJldGNoXCIsIFwiY2VudGVyLXNhZmVcIiwgXCJlbmQtc2FmZVwiXTtcbiAgICBjb25zdCBzY2FsZU1hcmdpbiA9ICgpID0+IFtcImF1dG9cIiwgLi4uc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKV07XG4gICAgY29uc3Qgc2NhbGVTaXppbmcgPSAoKSA9PiBbaXNGcmFjdGlvbiwgXCJhdXRvXCIsIFwiZnVsbFwiLCBcImR2d1wiLCBcImR2aFwiLCBcImx2d1wiLCBcImx2aFwiLCBcInN2d1wiLCBcInN2aFwiLCBcIm1pblwiLCBcIm1heFwiLCBcImZpdFwiLCAuLi5zY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXTtcbiAgICBjb25zdCBzY2FsZUNvbG9yID0gKCkgPT4gW3RoZW1lQ29sb3IsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdO1xuICAgIGNvbnN0IHNjYWxlQmdQb3NpdGlvbiA9ICgpID0+IFsuLi5zY2FsZVBvc2l0aW9uKCksIGlzQXJiaXRyYXJ5VmFyaWFibGVQb3NpdGlvbiwgaXNBcmJpdHJhcnlQb3NpdGlvbiwge1xuICAgICAgcG9zaXRpb246IFtpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgIH1dO1xuICAgIGNvbnN0IHNjYWxlQmdSZXBlYXQgPSAoKSA9PiBbXCJuby1yZXBlYXRcIiwge1xuICAgICAgcmVwZWF0OiBbXCJcIiwgXCJ4XCIsIFwieVwiLCBcInNwYWNlXCIsIFwicm91bmRcIl1cbiAgICB9XTtcbiAgICBjb25zdCBzY2FsZUJnU2l6ZSA9ICgpID0+IFtcImF1dG9cIiwgXCJjb3ZlclwiLCBcImNvbnRhaW5cIiwgaXNBcmJpdHJhcnlWYXJpYWJsZVNpemUsIGlzQXJiaXRyYXJ5U2l6ZSwge1xuICAgICAgc2l6ZTogW2lzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgfV07XG4gICAgY29uc3Qgc2NhbGVHcmFkaWVudFN0b3BQb3NpdGlvbiA9ICgpID0+IFtpc1BlcmNlbnQsIGlzQXJiaXRyYXJ5VmFyaWFibGVMZW5ndGgsIGlzQXJiaXRyYXJ5TGVuZ3RoXTtcbiAgICBjb25zdCBzY2FsZVJhZGl1cyA9ICgpID0+IFtcbiAgICAgIC8vIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjAuMFxuICAgICAgXCJcIixcbiAgICAgIFwibm9uZVwiLFxuICAgICAgXCJmdWxsXCIsXG4gICAgICB0aGVtZVJhZGl1cyxcbiAgICAgIGlzQXJiaXRyYXJ5VmFyaWFibGUsXG4gICAgICBpc0FyYml0cmFyeVZhbHVlXG4gICAgXTtcbiAgICBjb25zdCBzY2FsZUJvcmRlcldpZHRoID0gKCkgPT4gW1wiXCIsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlTGVuZ3RoLCBpc0FyYml0cmFyeUxlbmd0aF07XG4gICAgY29uc3Qgc2NhbGVMaW5lU3R5bGUgPSAoKSA9PiBbXCJzb2xpZFwiLCBcImRhc2hlZFwiLCBcImRvdHRlZFwiLCBcImRvdWJsZVwiXTtcbiAgICBjb25zdCBzY2FsZUJsZW5kTW9kZSA9ICgpID0+IFtcIm5vcm1hbFwiLCBcIm11bHRpcGx5XCIsIFwic2NyZWVuXCIsIFwib3ZlcmxheVwiLCBcImRhcmtlblwiLCBcImxpZ2h0ZW5cIiwgXCJjb2xvci1kb2RnZVwiLCBcImNvbG9yLWJ1cm5cIiwgXCJoYXJkLWxpZ2h0XCIsIFwic29mdC1saWdodFwiLCBcImRpZmZlcmVuY2VcIiwgXCJleGNsdXNpb25cIiwgXCJodWVcIiwgXCJzYXR1cmF0aW9uXCIsIFwiY29sb3JcIiwgXCJsdW1pbm9zaXR5XCJdO1xuICAgIGNvbnN0IHNjYWxlTWFza0ltYWdlUG9zaXRpb24gPSAoKSA9PiBbaXNOdW1iZXIsIGlzUGVyY2VudCwgaXNBcmJpdHJhcnlWYXJpYWJsZVBvc2l0aW9uLCBpc0FyYml0cmFyeVBvc2l0aW9uXTtcbiAgICBjb25zdCBzY2FsZUJsdXIgPSAoKSA9PiBbXG4gICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4wLjBcbiAgICAgIFwiXCIsXG4gICAgICBcIm5vbmVcIixcbiAgICAgIHRoZW1lQmx1cixcbiAgICAgIGlzQXJiaXRyYXJ5VmFyaWFibGUsXG4gICAgICBpc0FyYml0cmFyeVZhbHVlXG4gICAgXTtcbiAgICBjb25zdCBzY2FsZVJvdGF0ZSA9ICgpID0+IFtcIm5vbmVcIiwgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdO1xuICAgIGNvbnN0IHNjYWxlU2NhbGUgPSAoKSA9PiBbXCJub25lXCIsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgICBjb25zdCBzY2FsZVNrZXcgPSAoKSA9PiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdO1xuICAgIGNvbnN0IHNjYWxlVHJhbnNsYXRlID0gKCkgPT4gW2lzRnJhY3Rpb24sIFwiZnVsbFwiLCAuLi5zY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXTtcbiAgICByZXR1cm4ge1xuICAgICAgY2FjaGVTaXplOiA1MDAsXG4gICAgICB0aGVtZToge1xuICAgICAgICBhbmltYXRlOiBbXCJzcGluXCIsIFwicGluZ1wiLCBcInB1bHNlXCIsIFwiYm91bmNlXCJdLFxuICAgICAgICBhc3BlY3Q6IFtcInZpZGVvXCJdLFxuICAgICAgICBibHVyOiBbaXNUc2hpcnRTaXplXSxcbiAgICAgICAgYnJlYWtwb2ludDogW2lzVHNoaXJ0U2l6ZV0sXG4gICAgICAgIGNvbG9yOiBbaXNBbnldLFxuICAgICAgICBjb250YWluZXI6IFtpc1RzaGlydFNpemVdLFxuICAgICAgICBcImRyb3Atc2hhZG93XCI6IFtpc1RzaGlydFNpemVdLFxuICAgICAgICBlYXNlOiBbXCJpblwiLCBcIm91dFwiLCBcImluLW91dFwiXSxcbiAgICAgICAgZm9udDogW2lzQW55Tm9uQXJiaXRyYXJ5XSxcbiAgICAgICAgXCJmb250LXdlaWdodFwiOiBbXCJ0aGluXCIsIFwiZXh0cmFsaWdodFwiLCBcImxpZ2h0XCIsIFwibm9ybWFsXCIsIFwibWVkaXVtXCIsIFwic2VtaWJvbGRcIiwgXCJib2xkXCIsIFwiZXh0cmFib2xkXCIsIFwiYmxhY2tcIl0sXG4gICAgICAgIFwiaW5zZXQtc2hhZG93XCI6IFtpc1RzaGlydFNpemVdLFxuICAgICAgICBsZWFkaW5nOiBbXCJub25lXCIsIFwidGlnaHRcIiwgXCJzbnVnXCIsIFwibm9ybWFsXCIsIFwicmVsYXhlZFwiLCBcImxvb3NlXCJdLFxuICAgICAgICBwZXJzcGVjdGl2ZTogW1wiZHJhbWF0aWNcIiwgXCJuZWFyXCIsIFwibm9ybWFsXCIsIFwibWlkcmFuZ2VcIiwgXCJkaXN0YW50XCIsIFwibm9uZVwiXSxcbiAgICAgICAgcmFkaXVzOiBbaXNUc2hpcnRTaXplXSxcbiAgICAgICAgc2hhZG93OiBbaXNUc2hpcnRTaXplXSxcbiAgICAgICAgc3BhY2luZzogW1wicHhcIiwgaXNOdW1iZXJdLFxuICAgICAgICB0ZXh0OiBbaXNUc2hpcnRTaXplXSxcbiAgICAgICAgXCJ0ZXh0LXNoYWRvd1wiOiBbaXNUc2hpcnRTaXplXSxcbiAgICAgICAgdHJhY2tpbmc6IFtcInRpZ2h0ZXJcIiwgXCJ0aWdodFwiLCBcIm5vcm1hbFwiLCBcIndpZGVcIiwgXCJ3aWRlclwiLCBcIndpZGVzdFwiXVxuICAgICAgfSxcbiAgICAgIGNsYXNzR3JvdXBzOiB7XG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIC0tLSBMYXlvdXQgLS0tXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBc3BlY3QgUmF0aW9cbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FzcGVjdC1yYXRpb1xuICAgICAgICAgKi9cbiAgICAgICAgYXNwZWN0OiBbe1xuICAgICAgICAgIGFzcGVjdDogW1wiYXV0b1wiLCBcInNxdWFyZVwiLCBpc0ZyYWN0aW9uLCBpc0FyYml0cmFyeVZhbHVlLCBpc0FyYml0cmFyeVZhcmlhYmxlLCB0aGVtZUFzcGVjdF1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb250YWluZXJcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2NvbnRhaW5lclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBjb250YWluZXI6IFtcImNvbnRhaW5lclwiXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbHVtbnNcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2NvbHVtbnNcbiAgICAgICAgICovXG4gICAgICAgIGNvbHVtbnM6IFt7XG4gICAgICAgICAgY29sdW1uczogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhbHVlLCBpc0FyYml0cmFyeVZhcmlhYmxlLCB0aGVtZUNvbnRhaW5lcl1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCcmVhayBBZnRlclxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYnJlYWstYWZ0ZXJcbiAgICAgICAgICovXG4gICAgICAgIFwiYnJlYWstYWZ0ZXJcIjogW3tcbiAgICAgICAgICBcImJyZWFrLWFmdGVyXCI6IHNjYWxlQnJlYWsoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJyZWFrIEJlZm9yZVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYnJlYWstYmVmb3JlXG4gICAgICAgICAqL1xuICAgICAgICBcImJyZWFrLWJlZm9yZVwiOiBbe1xuICAgICAgICAgIFwiYnJlYWstYmVmb3JlXCI6IHNjYWxlQnJlYWsoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJyZWFrIEluc2lkZVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYnJlYWstaW5zaWRlXG4gICAgICAgICAqL1xuICAgICAgICBcImJyZWFrLWluc2lkZVwiOiBbe1xuICAgICAgICAgIFwiYnJlYWstaW5zaWRlXCI6IFtcImF1dG9cIiwgXCJhdm9pZFwiLCBcImF2b2lkLXBhZ2VcIiwgXCJhdm9pZC1jb2x1bW5cIl1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3ggRGVjb3JhdGlvbiBCcmVha1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm94LWRlY29yYXRpb24tYnJlYWtcbiAgICAgICAgICovXG4gICAgICAgIFwiYm94LWRlY29yYXRpb25cIjogW3tcbiAgICAgICAgICBcImJveC1kZWNvcmF0aW9uXCI6IFtcInNsaWNlXCIsIFwiY2xvbmVcIl1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3ggU2l6aW5nXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3gtc2l6aW5nXG4gICAgICAgICAqL1xuICAgICAgICBib3g6IFt7XG4gICAgICAgICAgYm94OiBbXCJib3JkZXJcIiwgXCJjb250ZW50XCJdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGxheVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZGlzcGxheVxuICAgICAgICAgKi9cbiAgICAgICAgZGlzcGxheTogW1wiYmxvY2tcIiwgXCJpbmxpbmUtYmxvY2tcIiwgXCJpbmxpbmVcIiwgXCJmbGV4XCIsIFwiaW5saW5lLWZsZXhcIiwgXCJ0YWJsZVwiLCBcImlubGluZS10YWJsZVwiLCBcInRhYmxlLWNhcHRpb25cIiwgXCJ0YWJsZS1jZWxsXCIsIFwidGFibGUtY29sdW1uXCIsIFwidGFibGUtY29sdW1uLWdyb3VwXCIsIFwidGFibGUtZm9vdGVyLWdyb3VwXCIsIFwidGFibGUtaGVhZGVyLWdyb3VwXCIsIFwidGFibGUtcm93LWdyb3VwXCIsIFwidGFibGUtcm93XCIsIFwiZmxvdy1yb290XCIsIFwiZ3JpZFwiLCBcImlubGluZS1ncmlkXCIsIFwiY29udGVudHNcIiwgXCJsaXN0LWl0ZW1cIiwgXCJoaWRkZW5cIl0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY3JlZW4gUmVhZGVyIE9ubHlcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2Rpc3BsYXkjc2NyZWVuLXJlYWRlci1vbmx5XG4gICAgICAgICAqL1xuICAgICAgICBzcjogW1wic3Itb25seVwiLCBcIm5vdC1zci1vbmx5XCJdLFxuICAgICAgICAvKipcbiAgICAgICAgICogRmxvYXRzXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mbG9hdFxuICAgICAgICAgKi9cbiAgICAgICAgZmxvYXQ6IFt7XG4gICAgICAgICAgZmxvYXQ6IFtcInJpZ2h0XCIsIFwibGVmdFwiLCBcIm5vbmVcIiwgXCJzdGFydFwiLCBcImVuZFwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsZWFyXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9jbGVhclxuICAgICAgICAgKi9cbiAgICAgICAgY2xlYXI6IFt7XG4gICAgICAgICAgY2xlYXI6IFtcImxlZnRcIiwgXCJyaWdodFwiLCBcImJvdGhcIiwgXCJub25lXCIsIFwic3RhcnRcIiwgXCJlbmRcIl1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJc29sYXRpb25cbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2lzb2xhdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgaXNvbGF0aW9uOiBbXCJpc29sYXRlXCIsIFwiaXNvbGF0aW9uLWF1dG9cIl0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPYmplY3QgRml0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vYmplY3QtZml0XG4gICAgICAgICAqL1xuICAgICAgICBcIm9iamVjdC1maXRcIjogW3tcbiAgICAgICAgICBvYmplY3Q6IFtcImNvbnRhaW5cIiwgXCJjb3ZlclwiLCBcImZpbGxcIiwgXCJub25lXCIsIFwic2NhbGUtZG93blwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9iamVjdCBQb3NpdGlvblxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb2JqZWN0LXBvc2l0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBcIm9iamVjdC1wb3NpdGlvblwiOiBbe1xuICAgICAgICAgIG9iamVjdDogc2NhbGVQb3NpdGlvbldpdGhBcmJpdHJhcnkoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE92ZXJmbG93XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdmVyZmxvd1xuICAgICAgICAgKi9cbiAgICAgICAgb3ZlcmZsb3c6IFt7XG4gICAgICAgICAgb3ZlcmZsb3c6IHNjYWxlT3ZlcmZsb3coKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE92ZXJmbG93IFhcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL292ZXJmbG93XG4gICAgICAgICAqL1xuICAgICAgICBcIm92ZXJmbG93LXhcIjogW3tcbiAgICAgICAgICBcIm92ZXJmbG93LXhcIjogc2NhbGVPdmVyZmxvdygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogT3ZlcmZsb3cgWVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3ZlcmZsb3dcbiAgICAgICAgICovXG4gICAgICAgIFwib3ZlcmZsb3cteVwiOiBbe1xuICAgICAgICAgIFwib3ZlcmZsb3cteVwiOiBzY2FsZU92ZXJmbG93KClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdmVyc2Nyb2xsIEJlaGF2aW9yXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdmVyc2Nyb2xsLWJlaGF2aW9yXG4gICAgICAgICAqL1xuICAgICAgICBvdmVyc2Nyb2xsOiBbe1xuICAgICAgICAgIG92ZXJzY3JvbGw6IHNjYWxlT3ZlcnNjcm9sbCgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogT3ZlcnNjcm9sbCBCZWhhdmlvciBYXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdmVyc2Nyb2xsLWJlaGF2aW9yXG4gICAgICAgICAqL1xuICAgICAgICBcIm92ZXJzY3JvbGwteFwiOiBbe1xuICAgICAgICAgIFwib3ZlcnNjcm9sbC14XCI6IHNjYWxlT3ZlcnNjcm9sbCgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogT3ZlcnNjcm9sbCBCZWhhdmlvciBZXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdmVyc2Nyb2xsLWJlaGF2aW9yXG4gICAgICAgICAqL1xuICAgICAgICBcIm92ZXJzY3JvbGwteVwiOiBbe1xuICAgICAgICAgIFwib3ZlcnNjcm9sbC15XCI6IHNjYWxlT3ZlcnNjcm9sbCgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogUG9zaXRpb25cbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Bvc2l0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBwb3NpdGlvbjogW1wic3RhdGljXCIsIFwiZml4ZWRcIiwgXCJhYnNvbHV0ZVwiLCBcInJlbGF0aXZlXCIsIFwic3RpY2t5XCJdLFxuICAgICAgICAvKipcbiAgICAgICAgICogVG9wIC8gUmlnaHQgLyBCb3R0b20gLyBMZWZ0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAgICovXG4gICAgICAgIGluc2V0OiBbe1xuICAgICAgICAgIGluc2V0OiBzY2FsZUluc2V0KClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSaWdodCAvIExlZnRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvcC1yaWdodC1ib3R0b20tbGVmdFxuICAgICAgICAgKi9cbiAgICAgICAgXCJpbnNldC14XCI6IFt7XG4gICAgICAgICAgXCJpbnNldC14XCI6IHNjYWxlSW5zZXQoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvcCAvIEJvdHRvbVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG9wLXJpZ2h0LWJvdHRvbS1sZWZ0XG4gICAgICAgICAqL1xuICAgICAgICBcImluc2V0LXlcIjogW3tcbiAgICAgICAgICBcImluc2V0LXlcIjogc2NhbGVJbnNldCgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogU3RhcnRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvcC1yaWdodC1ib3R0b20tbGVmdFxuICAgICAgICAgKi9cbiAgICAgICAgc3RhcnQ6IFt7XG4gICAgICAgICAgc3RhcnQ6IHNjYWxlSW5zZXQoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVuZFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG9wLXJpZ2h0LWJvdHRvbS1sZWZ0XG4gICAgICAgICAqL1xuICAgICAgICBlbmQ6IFt7XG4gICAgICAgICAgZW5kOiBzY2FsZUluc2V0KClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUb3BcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvcC1yaWdodC1ib3R0b20tbGVmdFxuICAgICAgICAgKi9cbiAgICAgICAgdG9wOiBbe1xuICAgICAgICAgIHRvcDogc2NhbGVJbnNldCgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogUmlnaHRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvcC1yaWdodC1ib3R0b20tbGVmdFxuICAgICAgICAgKi9cbiAgICAgICAgcmlnaHQ6IFt7XG4gICAgICAgICAgcmlnaHQ6IHNjYWxlSW5zZXQoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvdHRvbVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG9wLXJpZ2h0LWJvdHRvbS1sZWZ0XG4gICAgICAgICAqL1xuICAgICAgICBib3R0b206IFt7XG4gICAgICAgICAgYm90dG9tOiBzY2FsZUluc2V0KClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZWZ0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAgICovXG4gICAgICAgIGxlZnQ6IFt7XG4gICAgICAgICAgbGVmdDogc2NhbGVJbnNldCgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogVmlzaWJpbGl0eVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdmlzaWJpbGl0eVxuICAgICAgICAgKi9cbiAgICAgICAgdmlzaWJpbGl0eTogW1widmlzaWJsZVwiLCBcImludmlzaWJsZVwiLCBcImNvbGxhcHNlXCJdLFxuICAgICAgICAvKipcbiAgICAgICAgICogWi1JbmRleFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvei1pbmRleFxuICAgICAgICAgKi9cbiAgICAgICAgejogW3tcbiAgICAgICAgICB6OiBbaXNJbnRlZ2VyLCBcImF1dG9cIiwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgICAgfV0sXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyAtLS0gRmxleGJveCBhbmQgR3JpZCAtLS1cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGV4IEJhc2lzXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mbGV4LWJhc2lzXG4gICAgICAgICAqL1xuICAgICAgICBiYXNpczogW3tcbiAgICAgICAgICBiYXNpczogW2lzRnJhY3Rpb24sIFwiZnVsbFwiLCBcImF1dG9cIiwgdGhlbWVDb250YWluZXIsIC4uLnNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKCldXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogRmxleCBEaXJlY3Rpb25cbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZsZXgtZGlyZWN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBcImZsZXgtZGlyZWN0aW9uXCI6IFt7XG4gICAgICAgICAgZmxleDogW1wicm93XCIsIFwicm93LXJldmVyc2VcIiwgXCJjb2xcIiwgXCJjb2wtcmV2ZXJzZVwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZsZXggV3JhcFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxleC13cmFwXG4gICAgICAgICAqL1xuICAgICAgICBcImZsZXgtd3JhcFwiOiBbe1xuICAgICAgICAgIGZsZXg6IFtcIm5vd3JhcFwiLCBcIndyYXBcIiwgXCJ3cmFwLXJldmVyc2VcIl1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGV4XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mbGV4XG4gICAgICAgICAqL1xuICAgICAgICBmbGV4OiBbe1xuICAgICAgICAgIGZsZXg6IFtpc051bWJlciwgaXNGcmFjdGlvbiwgXCJhdXRvXCIsIFwiaW5pdGlhbFwiLCBcIm5vbmVcIiwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGV4IEdyb3dcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZsZXgtZ3Jvd1xuICAgICAgICAgKi9cbiAgICAgICAgZ3JvdzogW3tcbiAgICAgICAgICBncm93OiBbXCJcIiwgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogRmxleCBTaHJpbmtcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZsZXgtc2hyaW5rXG4gICAgICAgICAqL1xuICAgICAgICBzaHJpbms6IFt7XG4gICAgICAgICAgc2hyaW5rOiBbXCJcIiwgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogT3JkZXJcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL29yZGVyXG4gICAgICAgICAqL1xuICAgICAgICBvcmRlcjogW3tcbiAgICAgICAgICBvcmRlcjogW2lzSW50ZWdlciwgXCJmaXJzdFwiLCBcImxhc3RcIiwgXCJub25lXCIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogR3JpZCBUZW1wbGF0ZSBDb2x1bW5zXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLXRlbXBsYXRlLWNvbHVtbnNcbiAgICAgICAgICovXG4gICAgICAgIFwiZ3JpZC1jb2xzXCI6IFt7XG4gICAgICAgICAgXCJncmlkLWNvbHNcIjogc2NhbGVHcmlkVGVtcGxhdGVDb2xzUm93cygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogR3JpZCBDb2x1bW4gU3RhcnQgLyBFbmRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyaWQtY29sdW1uXG4gICAgICAgICAqL1xuICAgICAgICBcImNvbC1zdGFydC1lbmRcIjogW3tcbiAgICAgICAgICBjb2w6IHNjYWxlR3JpZENvbFJvd1N0YXJ0QW5kRW5kKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHcmlkIENvbHVtbiBTdGFydFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1jb2x1bW5cbiAgICAgICAgICovXG4gICAgICAgIFwiY29sLXN0YXJ0XCI6IFt7XG4gICAgICAgICAgXCJjb2wtc3RhcnRcIjogc2NhbGVHcmlkQ29sUm93U3RhcnRPckVuZCgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogR3JpZCBDb2x1bW4gRW5kXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLWNvbHVtblxuICAgICAgICAgKi9cbiAgICAgICAgXCJjb2wtZW5kXCI6IFt7XG4gICAgICAgICAgXCJjb2wtZW5kXCI6IHNjYWxlR3JpZENvbFJvd1N0YXJ0T3JFbmQoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdyaWQgVGVtcGxhdGUgUm93c1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC10ZW1wbGF0ZS1yb3dzXG4gICAgICAgICAqL1xuICAgICAgICBcImdyaWQtcm93c1wiOiBbe1xuICAgICAgICAgIFwiZ3JpZC1yb3dzXCI6IHNjYWxlR3JpZFRlbXBsYXRlQ29sc1Jvd3MoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdyaWQgUm93IFN0YXJ0IC8gRW5kXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLXJvd1xuICAgICAgICAgKi9cbiAgICAgICAgXCJyb3ctc3RhcnQtZW5kXCI6IFt7XG4gICAgICAgICAgcm93OiBzY2FsZUdyaWRDb2xSb3dTdGFydEFuZEVuZCgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogR3JpZCBSb3cgU3RhcnRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyaWQtcm93XG4gICAgICAgICAqL1xuICAgICAgICBcInJvdy1zdGFydFwiOiBbe1xuICAgICAgICAgIFwicm93LXN0YXJ0XCI6IHNjYWxlR3JpZENvbFJvd1N0YXJ0T3JFbmQoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdyaWQgUm93IEVuZFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1yb3dcbiAgICAgICAgICovXG4gICAgICAgIFwicm93LWVuZFwiOiBbe1xuICAgICAgICAgIFwicm93LWVuZFwiOiBzY2FsZUdyaWRDb2xSb3dTdGFydE9yRW5kKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHcmlkIEF1dG8gRmxvd1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1hdXRvLWZsb3dcbiAgICAgICAgICovXG4gICAgICAgIFwiZ3JpZC1mbG93XCI6IFt7XG4gICAgICAgICAgXCJncmlkLWZsb3dcIjogW1wicm93XCIsIFwiY29sXCIsIFwiZGVuc2VcIiwgXCJyb3ctZGVuc2VcIiwgXCJjb2wtZGVuc2VcIl1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHcmlkIEF1dG8gQ29sdW1uc1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1hdXRvLWNvbHVtbnNcbiAgICAgICAgICovXG4gICAgICAgIFwiYXV0by1jb2xzXCI6IFt7XG4gICAgICAgICAgXCJhdXRvLWNvbHNcIjogc2NhbGVHcmlkQXV0b0NvbHNSb3dzKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHcmlkIEF1dG8gUm93c1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1hdXRvLXJvd3NcbiAgICAgICAgICovXG4gICAgICAgIFwiYXV0by1yb3dzXCI6IFt7XG4gICAgICAgICAgXCJhdXRvLXJvd3NcIjogc2NhbGVHcmlkQXV0b0NvbHNSb3dzKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHYXBcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dhcFxuICAgICAgICAgKi9cbiAgICAgICAgZ2FwOiBbe1xuICAgICAgICAgIGdhcDogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdhcCBYXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9nYXBcbiAgICAgICAgICovXG4gICAgICAgIFwiZ2FwLXhcIjogW3tcbiAgICAgICAgICBcImdhcC14XCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHYXAgWVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ2FwXG4gICAgICAgICAqL1xuICAgICAgICBcImdhcC15XCI6IFt7XG4gICAgICAgICAgXCJnYXAteVwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogSnVzdGlmeSBDb250ZW50XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9qdXN0aWZ5LWNvbnRlbnRcbiAgICAgICAgICovXG4gICAgICAgIFwianVzdGlmeS1jb250ZW50XCI6IFt7XG4gICAgICAgICAganVzdGlmeTogWy4uLnNjYWxlQWxpZ25QcmltYXJ5QXhpcygpLCBcIm5vcm1hbFwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEp1c3RpZnkgSXRlbXNcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2p1c3RpZnktaXRlbXNcbiAgICAgICAgICovXG4gICAgICAgIFwianVzdGlmeS1pdGVtc1wiOiBbe1xuICAgICAgICAgIFwianVzdGlmeS1pdGVtc1wiOiBbLi4uc2NhbGVBbGlnblNlY29uZGFyeUF4aXMoKSwgXCJub3JtYWxcIl1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBKdXN0aWZ5IFNlbGZcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2p1c3RpZnktc2VsZlxuICAgICAgICAgKi9cbiAgICAgICAgXCJqdXN0aWZ5LXNlbGZcIjogW3tcbiAgICAgICAgICBcImp1c3RpZnktc2VsZlwiOiBbXCJhdXRvXCIsIC4uLnNjYWxlQWxpZ25TZWNvbmRhcnlBeGlzKCldXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQWxpZ24gQ29udGVudFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYWxpZ24tY29udGVudFxuICAgICAgICAgKi9cbiAgICAgICAgXCJhbGlnbi1jb250ZW50XCI6IFt7XG4gICAgICAgICAgY29udGVudDogW1wibm9ybWFsXCIsIC4uLnNjYWxlQWxpZ25QcmltYXJ5QXhpcygpXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsaWduIEl0ZW1zXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9hbGlnbi1pdGVtc1xuICAgICAgICAgKi9cbiAgICAgICAgXCJhbGlnbi1pdGVtc1wiOiBbe1xuICAgICAgICAgIGl0ZW1zOiBbLi4uc2NhbGVBbGlnblNlY29uZGFyeUF4aXMoKSwge1xuICAgICAgICAgICAgYmFzZWxpbmU6IFtcIlwiLCBcImxhc3RcIl1cbiAgICAgICAgICB9XVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsaWduIFNlbGZcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FsaWduLXNlbGZcbiAgICAgICAgICovXG4gICAgICAgIFwiYWxpZ24tc2VsZlwiOiBbe1xuICAgICAgICAgIHNlbGY6IFtcImF1dG9cIiwgLi4uc2NhbGVBbGlnblNlY29uZGFyeUF4aXMoKSwge1xuICAgICAgICAgICAgYmFzZWxpbmU6IFtcIlwiLCBcImxhc3RcIl1cbiAgICAgICAgICB9XVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsYWNlIENvbnRlbnRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BsYWNlLWNvbnRlbnRcbiAgICAgICAgICovXG4gICAgICAgIFwicGxhY2UtY29udGVudFwiOiBbe1xuICAgICAgICAgIFwicGxhY2UtY29udGVudFwiOiBzY2FsZUFsaWduUHJpbWFyeUF4aXMoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsYWNlIEl0ZW1zXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wbGFjZS1pdGVtc1xuICAgICAgICAgKi9cbiAgICAgICAgXCJwbGFjZS1pdGVtc1wiOiBbe1xuICAgICAgICAgIFwicGxhY2UtaXRlbXNcIjogWy4uLnNjYWxlQWxpZ25TZWNvbmRhcnlBeGlzKCksIFwiYmFzZWxpbmVcIl1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbGFjZSBTZWxmXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wbGFjZS1zZWxmXG4gICAgICAgICAqL1xuICAgICAgICBcInBsYWNlLXNlbGZcIjogW3tcbiAgICAgICAgICBcInBsYWNlLXNlbGZcIjogW1wiYXV0b1wiLCAuLi5zY2FsZUFsaWduU2Vjb25kYXJ5QXhpcygpXVxuICAgICAgICB9XSxcbiAgICAgICAgLy8gU3BhY2luZ1xuICAgICAgICAvKipcbiAgICAgICAgICogUGFkZGluZ1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGFkZGluZ1xuICAgICAgICAgKi9cbiAgICAgICAgcDogW3tcbiAgICAgICAgICBwOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogUGFkZGluZyBYXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgICAqL1xuICAgICAgICBweDogW3tcbiAgICAgICAgICBweDogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhZGRpbmcgWVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGFkZGluZ1xuICAgICAgICAgKi9cbiAgICAgICAgcHk6IFt7XG4gICAgICAgICAgcHk6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYWRkaW5nIFN0YXJ0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgICAqL1xuICAgICAgICBwczogW3tcbiAgICAgICAgICBwczogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhZGRpbmcgRW5kXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgICAqL1xuICAgICAgICBwZTogW3tcbiAgICAgICAgICBwZTogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhZGRpbmcgVG9wXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgICAqL1xuICAgICAgICBwdDogW3tcbiAgICAgICAgICBwdDogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhZGRpbmcgUmlnaHRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAgICovXG4gICAgICAgIHByOiBbe1xuICAgICAgICAgIHByOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogUGFkZGluZyBCb3R0b21cbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAgICovXG4gICAgICAgIHBiOiBbe1xuICAgICAgICAgIHBiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogUGFkZGluZyBMZWZ0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgICAqL1xuICAgICAgICBwbDogW3tcbiAgICAgICAgICBwbDogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcmdpblxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgICAqL1xuICAgICAgICBtOiBbe1xuICAgICAgICAgIG06IHNjYWxlTWFyZ2luKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXJnaW4gWFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgICAqL1xuICAgICAgICBteDogW3tcbiAgICAgICAgICBteDogc2NhbGVNYXJnaW4oKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcmdpbiBZXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAgICovXG4gICAgICAgIG15OiBbe1xuICAgICAgICAgIG15OiBzY2FsZU1hcmdpbigpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogTWFyZ2luIFN0YXJ0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAgICovXG4gICAgICAgIG1zOiBbe1xuICAgICAgICAgIG1zOiBzY2FsZU1hcmdpbigpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogTWFyZ2luIEVuZFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgICAqL1xuICAgICAgICBtZTogW3tcbiAgICAgICAgICBtZTogc2NhbGVNYXJnaW4oKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcmdpbiBUb3BcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpblxuICAgICAgICAgKi9cbiAgICAgICAgbXQ6IFt7XG4gICAgICAgICAgbXQ6IHNjYWxlTWFyZ2luKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXJnaW4gUmlnaHRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpblxuICAgICAgICAgKi9cbiAgICAgICAgbXI6IFt7XG4gICAgICAgICAgbXI6IHNjYWxlTWFyZ2luKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXJnaW4gQm90dG9tXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAgICovXG4gICAgICAgIG1iOiBbe1xuICAgICAgICAgIG1iOiBzY2FsZU1hcmdpbigpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogTWFyZ2luIExlZnRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpblxuICAgICAgICAgKi9cbiAgICAgICAgbWw6IFt7XG4gICAgICAgICAgbWw6IHNjYWxlTWFyZ2luKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGFjZSBCZXR3ZWVuIFhcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpbiNhZGRpbmctc3BhY2UtYmV0d2Vlbi1jaGlsZHJlblxuICAgICAgICAgKi9cbiAgICAgICAgXCJzcGFjZS14XCI6IFt7XG4gICAgICAgICAgXCJzcGFjZS14XCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGFjZSBCZXR3ZWVuIFggUmV2ZXJzZVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luI2FkZGluZy1zcGFjZS1iZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgICAqL1xuICAgICAgICBcInNwYWNlLXgtcmV2ZXJzZVwiOiBbXCJzcGFjZS14LXJldmVyc2VcIl0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGFjZSBCZXR3ZWVuIFlcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpbiNhZGRpbmctc3BhY2UtYmV0d2Vlbi1jaGlsZHJlblxuICAgICAgICAgKi9cbiAgICAgICAgXCJzcGFjZS15XCI6IFt7XG4gICAgICAgICAgXCJzcGFjZS15XCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGFjZSBCZXR3ZWVuIFkgUmV2ZXJzZVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luI2FkZGluZy1zcGFjZS1iZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgICAqL1xuICAgICAgICBcInNwYWNlLXktcmV2ZXJzZVwiOiBbXCJzcGFjZS15LXJldmVyc2VcIl0sXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIC0tLSBTaXppbmcgLS0tXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaXplXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy93aWR0aCNzZXR0aW5nLWJvdGgtd2lkdGgtYW5kLWhlaWdodFxuICAgICAgICAgKi9cbiAgICAgICAgc2l6ZTogW3tcbiAgICAgICAgICBzaXplOiBzY2FsZVNpemluZygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogV2lkdGhcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3dpZHRoXG4gICAgICAgICAqL1xuICAgICAgICB3OiBbe1xuICAgICAgICAgIHc6IFt0aGVtZUNvbnRhaW5lciwgXCJzY3JlZW5cIiwgLi4uc2NhbGVTaXppbmcoKV1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaW4tV2lkdGhcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21pbi13aWR0aFxuICAgICAgICAgKi9cbiAgICAgICAgXCJtaW4td1wiOiBbe1xuICAgICAgICAgIFwibWluLXdcIjogW1xuICAgICAgICAgICAgdGhlbWVDb250YWluZXIsXG4gICAgICAgICAgICBcInNjcmVlblwiLFxuICAgICAgICAgICAgLyoqIERlcHJlY2F0ZWQuIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kbGFicy90YWlsd2luZGNzcy5jb20vaXNzdWVzLzIwMjcjaXNzdWVjb21tZW50LTI2MjAxNTI3NTcgKi9cbiAgICAgICAgICAgIFwibm9uZVwiLFxuICAgICAgICAgICAgLi4uc2NhbGVTaXppbmcoKVxuICAgICAgICAgIF1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXgtV2lkdGhcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21heC13aWR0aFxuICAgICAgICAgKi9cbiAgICAgICAgXCJtYXgtd1wiOiBbe1xuICAgICAgICAgIFwibWF4LXdcIjogW1xuICAgICAgICAgICAgdGhlbWVDb250YWluZXIsXG4gICAgICAgICAgICBcInNjcmVlblwiLFxuICAgICAgICAgICAgXCJub25lXCIsXG4gICAgICAgICAgICAvKiogRGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wLiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MuY29tL2lzc3Vlcy8yMDI3I2lzc3VlY29tbWVudC0yNjIwMTUyNzU3ICovXG4gICAgICAgICAgICBcInByb3NlXCIsXG4gICAgICAgICAgICAvKiogRGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wLiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MuY29tL2lzc3Vlcy8yMDI3I2lzc3VlY29tbWVudC0yNjIwMTUyNzU3ICovXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNjcmVlbjogW3RoZW1lQnJlYWtwb2ludF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAuLi5zY2FsZVNpemluZygpXG4gICAgICAgICAgXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhlaWdodFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvaGVpZ2h0XG4gICAgICAgICAqL1xuICAgICAgICBoOiBbe1xuICAgICAgICAgIGg6IFtcInNjcmVlblwiLCAuLi5zY2FsZVNpemluZygpXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pbi1IZWlnaHRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21pbi1oZWlnaHRcbiAgICAgICAgICovXG4gICAgICAgIFwibWluLWhcIjogW3tcbiAgICAgICAgICBcIm1pbi1oXCI6IFtcInNjcmVlblwiLCBcIm5vbmVcIiwgLi4uc2NhbGVTaXppbmcoKV1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXgtSGVpZ2h0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXgtaGVpZ2h0XG4gICAgICAgICAqL1xuICAgICAgICBcIm1heC1oXCI6IFt7XG4gICAgICAgICAgXCJtYXgtaFwiOiBbXCJzY3JlZW5cIiwgLi4uc2NhbGVTaXppbmcoKV1cbiAgICAgICAgfV0sXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyAtLS0gVHlwb2dyYXBoeSAtLS1cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb250IFNpemVcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtc2l6ZVxuICAgICAgICAgKi9cbiAgICAgICAgXCJmb250LXNpemVcIjogW3tcbiAgICAgICAgICB0ZXh0OiBbXCJiYXNlXCIsIHRoZW1lVGV4dCwgaXNBcmJpdHJhcnlWYXJpYWJsZUxlbmd0aCwgaXNBcmJpdHJhcnlMZW5ndGhdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogRm9udCBTbW9vdGhpbmdcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtc21vb3RoaW5nXG4gICAgICAgICAqL1xuICAgICAgICBcImZvbnQtc21vb3RoaW5nXCI6IFtcImFudGlhbGlhc2VkXCIsIFwic3VicGl4ZWwtYW50aWFsaWFzZWRcIl0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb250IFN0eWxlXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXN0eWxlXG4gICAgICAgICAqL1xuICAgICAgICBcImZvbnQtc3R5bGVcIjogW1wiaXRhbGljXCIsIFwibm90LWl0YWxpY1wiXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvbnQgV2VpZ2h0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXdlaWdodFxuICAgICAgICAgKi9cbiAgICAgICAgXCJmb250LXdlaWdodFwiOiBbe1xuICAgICAgICAgIGZvbnQ6IFt0aGVtZUZvbnRXZWlnaHQsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5TnVtYmVyXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvbnQgU3RyZXRjaFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC1zdHJldGNoXG4gICAgICAgICAqL1xuICAgICAgICBcImZvbnQtc3RyZXRjaFwiOiBbe1xuICAgICAgICAgIFwiZm9udC1zdHJldGNoXCI6IFtcInVsdHJhLWNvbmRlbnNlZFwiLCBcImV4dHJhLWNvbmRlbnNlZFwiLCBcImNvbmRlbnNlZFwiLCBcInNlbWktY29uZGVuc2VkXCIsIFwibm9ybWFsXCIsIFwic2VtaS1leHBhbmRlZFwiLCBcImV4cGFuZGVkXCIsIFwiZXh0cmEtZXhwYW5kZWRcIiwgXCJ1bHRyYS1leHBhbmRlZFwiLCBpc1BlcmNlbnQsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogRm9udCBGYW1pbHlcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtZmFtaWx5XG4gICAgICAgICAqL1xuICAgICAgICBcImZvbnQtZmFtaWx5XCI6IFt7XG4gICAgICAgICAgZm9udDogW2lzQXJiaXRyYXJ5VmFyaWFibGVGYW1pbHlOYW1lLCBpc0FyYml0cmFyeVZhbHVlLCB0aGVtZUZvbnRdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogRm9udCBWYXJpYW50IE51bWVyaWNcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtdmFyaWFudC1udW1lcmljXG4gICAgICAgICAqL1xuICAgICAgICBcImZ2bi1ub3JtYWxcIjogW1wibm9ybWFsLW51bXNcIl0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb250IFZhcmlhbnQgTnVtZXJpY1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC12YXJpYW50LW51bWVyaWNcbiAgICAgICAgICovXG4gICAgICAgIFwiZnZuLW9yZGluYWxcIjogW1wib3JkaW5hbFwiXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXZhcmlhbnQtbnVtZXJpY1xuICAgICAgICAgKi9cbiAgICAgICAgXCJmdm4tc2xhc2hlZC16ZXJvXCI6IFtcInNsYXNoZWQtemVyb1wiXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXZhcmlhbnQtbnVtZXJpY1xuICAgICAgICAgKi9cbiAgICAgICAgXCJmdm4tZmlndXJlXCI6IFtcImxpbmluZy1udW1zXCIsIFwib2xkc3R5bGUtbnVtc1wiXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXZhcmlhbnQtbnVtZXJpY1xuICAgICAgICAgKi9cbiAgICAgICAgXCJmdm4tc3BhY2luZ1wiOiBbXCJwcm9wb3J0aW9uYWwtbnVtc1wiLCBcInRhYnVsYXItbnVtc1wiXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXZhcmlhbnQtbnVtZXJpY1xuICAgICAgICAgKi9cbiAgICAgICAgXCJmdm4tZnJhY3Rpb25cIjogW1wiZGlhZ29uYWwtZnJhY3Rpb25zXCIsIFwic3RhY2tlZC1mcmFjdGlvbnNcIl0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZXR0ZXIgU3BhY2luZ1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbGV0dGVyLXNwYWNpbmdcbiAgICAgICAgICovXG4gICAgICAgIHRyYWNraW5nOiBbe1xuICAgICAgICAgIHRyYWNraW5nOiBbdGhlbWVUcmFja2luZywgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaW5lIENsYW1wXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9saW5lLWNsYW1wXG4gICAgICAgICAqL1xuICAgICAgICBcImxpbmUtY2xhbXBcIjogW3tcbiAgICAgICAgICBcImxpbmUtY2xhbXBcIjogW2lzTnVtYmVyLCBcIm5vbmVcIiwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlOdW1iZXJdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogTGluZSBIZWlnaHRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2xpbmUtaGVpZ2h0XG4gICAgICAgICAqL1xuICAgICAgICBsZWFkaW5nOiBbe1xuICAgICAgICAgIGxlYWRpbmc6IFtcbiAgICAgICAgICAgIC8qKiBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4wLjAuIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kbGFicy90YWlsd2luZGNzcy5jb20vaXNzdWVzLzIwMjcjaXNzdWVjb21tZW50LTI2MjAxNTI3NTcgKi9cbiAgICAgICAgICAgIHRoZW1lTGVhZGluZyxcbiAgICAgICAgICAgIC4uLnNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgICAgICBdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBTdHlsZSBJbWFnZVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbGlzdC1zdHlsZS1pbWFnZVxuICAgICAgICAgKi9cbiAgICAgICAgXCJsaXN0LWltYWdlXCI6IFt7XG4gICAgICAgICAgXCJsaXN0LWltYWdlXCI6IFtcIm5vbmVcIiwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IFN0eWxlIFBvc2l0aW9uXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9saXN0LXN0eWxlLXBvc2l0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBcImxpc3Qtc3R5bGUtcG9zaXRpb25cIjogW3tcbiAgICAgICAgICBsaXN0OiBbXCJpbnNpZGVcIiwgXCJvdXRzaWRlXCJdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBTdHlsZSBUeXBlXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9saXN0LXN0eWxlLXR5cGVcbiAgICAgICAgICovXG4gICAgICAgIFwibGlzdC1zdHlsZS10eXBlXCI6IFt7XG4gICAgICAgICAgbGlzdDogW1wiZGlzY1wiLCBcImRlY2ltYWxcIiwgXCJub25lXCIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dCBBbGlnbm1lbnRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtYWxpZ25cbiAgICAgICAgICovXG4gICAgICAgIFwidGV4dC1hbGlnbm1lbnRcIjogW3tcbiAgICAgICAgICB0ZXh0OiBbXCJsZWZ0XCIsIFwiY2VudGVyXCIsIFwicmlnaHRcIiwgXCJqdXN0aWZ5XCIsIFwic3RhcnRcIiwgXCJlbmRcIl1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbGFjZWhvbGRlciBDb2xvclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjMuMC4wXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly92My50YWlsd2luZGNzcy5jb20vZG9jcy9wbGFjZWhvbGRlci1jb2xvclxuICAgICAgICAgKi9cbiAgICAgICAgXCJwbGFjZWhvbGRlci1jb2xvclwiOiBbe1xuICAgICAgICAgIHBsYWNlaG9sZGVyOiBzY2FsZUNvbG9yKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0IENvbG9yXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LWNvbG9yXG4gICAgICAgICAqL1xuICAgICAgICBcInRleHQtY29sb3JcIjogW3tcbiAgICAgICAgICB0ZXh0OiBzY2FsZUNvbG9yKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0IERlY29yYXRpb25cbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtZGVjb3JhdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgXCJ0ZXh0LWRlY29yYXRpb25cIjogW1widW5kZXJsaW5lXCIsIFwib3ZlcmxpbmVcIiwgXCJsaW5lLXRocm91Z2hcIiwgXCJuby11bmRlcmxpbmVcIl0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0IERlY29yYXRpb24gU3R5bGVcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtZGVjb3JhdGlvbi1zdHlsZVxuICAgICAgICAgKi9cbiAgICAgICAgXCJ0ZXh0LWRlY29yYXRpb24tc3R5bGVcIjogW3tcbiAgICAgICAgICBkZWNvcmF0aW9uOiBbLi4uc2NhbGVMaW5lU3R5bGUoKSwgXCJ3YXZ5XCJdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dCBEZWNvcmF0aW9uIFRoaWNrbmVzc1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC1kZWNvcmF0aW9uLXRoaWNrbmVzc1xuICAgICAgICAgKi9cbiAgICAgICAgXCJ0ZXh0LWRlY29yYXRpb24tdGhpY2tuZXNzXCI6IFt7XG4gICAgICAgICAgZGVjb3JhdGlvbjogW2lzTnVtYmVyLCBcImZyb20tZm9udFwiLCBcImF1dG9cIiwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlMZW5ndGhdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dCBEZWNvcmF0aW9uIENvbG9yXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LWRlY29yYXRpb24tY29sb3JcbiAgICAgICAgICovXG4gICAgICAgIFwidGV4dC1kZWNvcmF0aW9uLWNvbG9yXCI6IFt7XG4gICAgICAgICAgZGVjb3JhdGlvbjogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dCBVbmRlcmxpbmUgT2Zmc2V0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LXVuZGVybGluZS1vZmZzZXRcbiAgICAgICAgICovXG4gICAgICAgIFwidW5kZXJsaW5lLW9mZnNldFwiOiBbe1xuICAgICAgICAgIFwidW5kZXJsaW5lLW9mZnNldFwiOiBbaXNOdW1iZXIsIFwiYXV0b1wiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHQgVHJhbnNmb3JtXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LXRyYW5zZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgXCJ0ZXh0LXRyYW5zZm9ybVwiOiBbXCJ1cHBlcmNhc2VcIiwgXCJsb3dlcmNhc2VcIiwgXCJjYXBpdGFsaXplXCIsIFwibm9ybWFsLWNhc2VcIl0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0IE92ZXJmbG93XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LW92ZXJmbG93XG4gICAgICAgICAqL1xuICAgICAgICBcInRleHQtb3ZlcmZsb3dcIjogW1widHJ1bmNhdGVcIiwgXCJ0ZXh0LWVsbGlwc2lzXCIsIFwidGV4dC1jbGlwXCJdLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dCBXcmFwXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LXdyYXBcbiAgICAgICAgICovXG4gICAgICAgIFwidGV4dC13cmFwXCI6IFt7XG4gICAgICAgICAgdGV4dDogW1wid3JhcFwiLCBcIm5vd3JhcFwiLCBcImJhbGFuY2VcIiwgXCJwcmV0dHlcIl1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0IEluZGVudFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC1pbmRlbnRcbiAgICAgICAgICovXG4gICAgICAgIGluZGVudDogW3tcbiAgICAgICAgICBpbmRlbnQ6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWZXJ0aWNhbCBBbGlnbm1lbnRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3ZlcnRpY2FsLWFsaWduXG4gICAgICAgICAqL1xuICAgICAgICBcInZlcnRpY2FsLWFsaWduXCI6IFt7XG4gICAgICAgICAgYWxpZ246IFtcImJhc2VsaW5lXCIsIFwidG9wXCIsIFwibWlkZGxlXCIsIFwiYm90dG9tXCIsIFwidGV4dC10b3BcIiwgXCJ0ZXh0LWJvdHRvbVwiLCBcInN1YlwiLCBcInN1cGVyXCIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogV2hpdGVzcGFjZVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvd2hpdGVzcGFjZVxuICAgICAgICAgKi9cbiAgICAgICAgd2hpdGVzcGFjZTogW3tcbiAgICAgICAgICB3aGl0ZXNwYWNlOiBbXCJub3JtYWxcIiwgXCJub3dyYXBcIiwgXCJwcmVcIiwgXCJwcmUtbGluZVwiLCBcInByZS13cmFwXCIsIFwiYnJlYWstc3BhY2VzXCJdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogV29yZCBCcmVha1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvd29yZC1icmVha1xuICAgICAgICAgKi9cbiAgICAgICAgYnJlYWs6IFt7XG4gICAgICAgICAgYnJlYWs6IFtcIm5vcm1hbFwiLCBcIndvcmRzXCIsIFwiYWxsXCIsIFwia2VlcFwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE92ZXJmbG93IFdyYXBcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL292ZXJmbG93LXdyYXBcbiAgICAgICAgICovXG4gICAgICAgIHdyYXA6IFt7XG4gICAgICAgICAgd3JhcDogW1wiYnJlYWstd29yZFwiLCBcImFueXdoZXJlXCIsIFwibm9ybWFsXCJdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogSHlwaGVuc1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvaHlwaGVuc1xuICAgICAgICAgKi9cbiAgICAgICAgaHlwaGVuczogW3tcbiAgICAgICAgICBoeXBoZW5zOiBbXCJub25lXCIsIFwibWFudWFsXCIsIFwiYXV0b1wiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnRlbnRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2NvbnRlbnRcbiAgICAgICAgICovXG4gICAgICAgIGNvbnRlbnQ6IFt7XG4gICAgICAgICAgY29udGVudDogW1wibm9uZVwiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgICB9XSxcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyAtLS0gQmFja2dyb3VuZHMgLS0tXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhY2tncm91bmQgQXR0YWNobWVudFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1hdHRhY2htZW50XG4gICAgICAgICAqL1xuICAgICAgICBcImJnLWF0dGFjaG1lbnRcIjogW3tcbiAgICAgICAgICBiZzogW1wiZml4ZWRcIiwgXCJsb2NhbFwiLCBcInNjcm9sbFwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhY2tncm91bmQgQ2xpcFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1jbGlwXG4gICAgICAgICAqL1xuICAgICAgICBcImJnLWNsaXBcIjogW3tcbiAgICAgICAgICBcImJnLWNsaXBcIjogW1wiYm9yZGVyXCIsIFwicGFkZGluZ1wiLCBcImNvbnRlbnRcIiwgXCJ0ZXh0XCJdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQmFja2dyb3VuZCBPcmlnaW5cbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtb3JpZ2luXG4gICAgICAgICAqL1xuICAgICAgICBcImJnLW9yaWdpblwiOiBbe1xuICAgICAgICAgIFwiYmctb3JpZ2luXCI6IFtcImJvcmRlclwiLCBcInBhZGRpbmdcIiwgXCJjb250ZW50XCJdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQmFja2dyb3VuZCBQb3NpdGlvblxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1wb3NpdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgXCJiZy1wb3NpdGlvblwiOiBbe1xuICAgICAgICAgIGJnOiBzY2FsZUJnUG9zaXRpb24oKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhY2tncm91bmQgUmVwZWF0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZ3JvdW5kLXJlcGVhdFxuICAgICAgICAgKi9cbiAgICAgICAgXCJiZy1yZXBlYXRcIjogW3tcbiAgICAgICAgICBiZzogc2NhbGVCZ1JlcGVhdCgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQmFja2dyb3VuZCBTaXplXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZ3JvdW5kLXNpemVcbiAgICAgICAgICovXG4gICAgICAgIFwiYmctc2l6ZVwiOiBbe1xuICAgICAgICAgIGJnOiBzY2FsZUJnU2l6ZSgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQmFja2dyb3VuZCBJbWFnZVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1pbWFnZVxuICAgICAgICAgKi9cbiAgICAgICAgXCJiZy1pbWFnZVwiOiBbe1xuICAgICAgICAgIGJnOiBbXCJub25lXCIsIHtcbiAgICAgICAgICAgIGxpbmVhcjogW3tcbiAgICAgICAgICAgICAgdG86IFtcInRcIiwgXCJ0clwiLCBcInJcIiwgXCJiclwiLCBcImJcIiwgXCJibFwiLCBcImxcIiwgXCJ0bFwiXVxuICAgICAgICAgICAgfSwgaXNJbnRlZ2VyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXSxcbiAgICAgICAgICAgIHJhZGlhbDogW1wiXCIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdLFxuICAgICAgICAgICAgY29uaWM6IFtpc0ludGVnZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgICAgfSwgaXNBcmJpdHJhcnlWYXJpYWJsZUltYWdlLCBpc0FyYml0cmFyeUltYWdlXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhY2tncm91bmQgQ29sb3JcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtY29sb3JcbiAgICAgICAgICovXG4gICAgICAgIFwiYmctY29sb3JcIjogW3tcbiAgICAgICAgICBiZzogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogR3JhZGllbnQgQ29sb3IgU3RvcHMgRnJvbSBQb3NpdGlvblxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JhZGllbnQtY29sb3Itc3RvcHNcbiAgICAgICAgICovXG4gICAgICAgIFwiZ3JhZGllbnQtZnJvbS1wb3NcIjogW3tcbiAgICAgICAgICBmcm9tOiBzY2FsZUdyYWRpZW50U3RvcFBvc2l0aW9uKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHcmFkaWVudCBDb2xvciBTdG9wcyBWaWEgUG9zaXRpb25cbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyYWRpZW50LWNvbG9yLXN0b3BzXG4gICAgICAgICAqL1xuICAgICAgICBcImdyYWRpZW50LXZpYS1wb3NcIjogW3tcbiAgICAgICAgICB2aWE6IHNjYWxlR3JhZGllbnRTdG9wUG9zaXRpb24oKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdyYWRpZW50IENvbG9yIFN0b3BzIFRvIFBvc2l0aW9uXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmFkaWVudC1jb2xvci1zdG9wc1xuICAgICAgICAgKi9cbiAgICAgICAgXCJncmFkaWVudC10by1wb3NcIjogW3tcbiAgICAgICAgICB0bzogc2NhbGVHcmFkaWVudFN0b3BQb3NpdGlvbigpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogR3JhZGllbnQgQ29sb3IgU3RvcHMgRnJvbVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JhZGllbnQtY29sb3Itc3RvcHNcbiAgICAgICAgICovXG4gICAgICAgIFwiZ3JhZGllbnQtZnJvbVwiOiBbe1xuICAgICAgICAgIGZyb206IHNjYWxlQ29sb3IoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdyYWRpZW50IENvbG9yIFN0b3BzIFZpYVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JhZGllbnQtY29sb3Itc3RvcHNcbiAgICAgICAgICovXG4gICAgICAgIFwiZ3JhZGllbnQtdmlhXCI6IFt7XG4gICAgICAgICAgdmlhOiBzY2FsZUNvbG9yKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHcmFkaWVudCBDb2xvciBTdG9wcyBUb1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JhZGllbnQtY29sb3Itc3RvcHNcbiAgICAgICAgICovXG4gICAgICAgIFwiZ3JhZGllbnQtdG9cIjogW3tcbiAgICAgICAgICB0bzogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gLS0tIEJvcmRlcnMgLS0tXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvKipcbiAgICAgICAgICogQm9yZGVyIFJhZGl1c1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICAgKi9cbiAgICAgICAgcm91bmRlZDogW3tcbiAgICAgICAgICByb3VuZGVkOiBzY2FsZVJhZGl1cygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQm9yZGVyIFJhZGl1cyBTdGFydFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICAgKi9cbiAgICAgICAgXCJyb3VuZGVkLXNcIjogW3tcbiAgICAgICAgICBcInJvdW5kZWQtc1wiOiBzY2FsZVJhZGl1cygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQm9yZGVyIFJhZGl1cyBFbmRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAgICovXG4gICAgICAgIFwicm91bmRlZC1lXCI6IFt7XG4gICAgICAgICAgXCJyb3VuZGVkLWVcIjogc2NhbGVSYWRpdXMoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvcmRlciBSYWRpdXMgVG9wXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgICAqL1xuICAgICAgICBcInJvdW5kZWQtdFwiOiBbe1xuICAgICAgICAgIFwicm91bmRlZC10XCI6IHNjYWxlUmFkaXVzKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3JkZXIgUmFkaXVzIFJpZ2h0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgICAqL1xuICAgICAgICBcInJvdW5kZWQtclwiOiBbe1xuICAgICAgICAgIFwicm91bmRlZC1yXCI6IHNjYWxlUmFkaXVzKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3JkZXIgUmFkaXVzIEJvdHRvbVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICAgKi9cbiAgICAgICAgXCJyb3VuZGVkLWJcIjogW3tcbiAgICAgICAgICBcInJvdW5kZWQtYlwiOiBzY2FsZVJhZGl1cygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQm9yZGVyIFJhZGl1cyBMZWZ0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgICAqL1xuICAgICAgICBcInJvdW5kZWQtbFwiOiBbe1xuICAgICAgICAgIFwicm91bmRlZC1sXCI6IHNjYWxlUmFkaXVzKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3JkZXIgUmFkaXVzIFN0YXJ0IFN0YXJ0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgICAqL1xuICAgICAgICBcInJvdW5kZWQtc3NcIjogW3tcbiAgICAgICAgICBcInJvdW5kZWQtc3NcIjogc2NhbGVSYWRpdXMoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvcmRlciBSYWRpdXMgU3RhcnQgRW5kXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgICAqL1xuICAgICAgICBcInJvdW5kZWQtc2VcIjogW3tcbiAgICAgICAgICBcInJvdW5kZWQtc2VcIjogc2NhbGVSYWRpdXMoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvcmRlciBSYWRpdXMgRW5kIEVuZFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICAgKi9cbiAgICAgICAgXCJyb3VuZGVkLWVlXCI6IFt7XG4gICAgICAgICAgXCJyb3VuZGVkLWVlXCI6IHNjYWxlUmFkaXVzKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3JkZXIgUmFkaXVzIEVuZCBTdGFydFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICAgKi9cbiAgICAgICAgXCJyb3VuZGVkLWVzXCI6IFt7XG4gICAgICAgICAgXCJyb3VuZGVkLWVzXCI6IHNjYWxlUmFkaXVzKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3JkZXIgUmFkaXVzIFRvcCBMZWZ0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgICAqL1xuICAgICAgICBcInJvdW5kZWQtdGxcIjogW3tcbiAgICAgICAgICBcInJvdW5kZWQtdGxcIjogc2NhbGVSYWRpdXMoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvcmRlciBSYWRpdXMgVG9wIFJpZ2h0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgICAqL1xuICAgICAgICBcInJvdW5kZWQtdHJcIjogW3tcbiAgICAgICAgICBcInJvdW5kZWQtdHJcIjogc2NhbGVSYWRpdXMoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvcmRlciBSYWRpdXMgQm90dG9tIFJpZ2h0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgICAqL1xuICAgICAgICBcInJvdW5kZWQtYnJcIjogW3tcbiAgICAgICAgICBcInJvdW5kZWQtYnJcIjogc2NhbGVSYWRpdXMoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvcmRlciBSYWRpdXMgQm90dG9tIExlZnRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAgICovXG4gICAgICAgIFwicm91bmRlZC1ibFwiOiBbe1xuICAgICAgICAgIFwicm91bmRlZC1ibFwiOiBzY2FsZVJhZGl1cygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQm9yZGVyIFdpZHRoXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAgICovXG4gICAgICAgIFwiYm9yZGVyLXdcIjogW3tcbiAgICAgICAgICBib3JkZXI6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvcmRlciBXaWR0aCBYXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAgICovXG4gICAgICAgIFwiYm9yZGVyLXcteFwiOiBbe1xuICAgICAgICAgIFwiYm9yZGVyLXhcIjogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQm9yZGVyIFdpZHRoIFlcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aFxuICAgICAgICAgKi9cbiAgICAgICAgXCJib3JkZXItdy15XCI6IFt7XG4gICAgICAgICAgXCJib3JkZXIteVwiOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3JkZXIgV2lkdGggU3RhcnRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aFxuICAgICAgICAgKi9cbiAgICAgICAgXCJib3JkZXItdy1zXCI6IFt7XG4gICAgICAgICAgXCJib3JkZXItc1wiOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3JkZXIgV2lkdGggRW5kXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAgICovXG4gICAgICAgIFwiYm9yZGVyLXctZVwiOiBbe1xuICAgICAgICAgIFwiYm9yZGVyLWVcIjogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQm9yZGVyIFdpZHRoIFRvcFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoXG4gICAgICAgICAqL1xuICAgICAgICBcImJvcmRlci13LXRcIjogW3tcbiAgICAgICAgICBcImJvcmRlci10XCI6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvcmRlciBXaWR0aCBSaWdodFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoXG4gICAgICAgICAqL1xuICAgICAgICBcImJvcmRlci13LXJcIjogW3tcbiAgICAgICAgICBcImJvcmRlci1yXCI6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvcmRlciBXaWR0aCBCb3R0b21cbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aFxuICAgICAgICAgKi9cbiAgICAgICAgXCJib3JkZXItdy1iXCI6IFt7XG4gICAgICAgICAgXCJib3JkZXItYlwiOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3JkZXIgV2lkdGggTGVmdFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoXG4gICAgICAgICAqL1xuICAgICAgICBcImJvcmRlci13LWxcIjogW3tcbiAgICAgICAgICBcImJvcmRlci1sXCI6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpdmlkZSBXaWR0aCBYXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGgjYmV0d2Vlbi1jaGlsZHJlblxuICAgICAgICAgKi9cbiAgICAgICAgXCJkaXZpZGUteFwiOiBbe1xuICAgICAgICAgIFwiZGl2aWRlLXhcIjogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogRGl2aWRlIFdpZHRoIFggUmV2ZXJzZVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoI2JldHdlZW4tY2hpbGRyZW5cbiAgICAgICAgICovXG4gICAgICAgIFwiZGl2aWRlLXgtcmV2ZXJzZVwiOiBbXCJkaXZpZGUteC1yZXZlcnNlXCJdLFxuICAgICAgICAvKipcbiAgICAgICAgICogRGl2aWRlIFdpZHRoIFlcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aCNiZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgICAqL1xuICAgICAgICBcImRpdmlkZS15XCI6IFt7XG4gICAgICAgICAgXCJkaXZpZGUteVwiOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXZpZGUgV2lkdGggWSBSZXZlcnNlXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGgjYmV0d2Vlbi1jaGlsZHJlblxuICAgICAgICAgKi9cbiAgICAgICAgXCJkaXZpZGUteS1yZXZlcnNlXCI6IFtcImRpdmlkZS15LXJldmVyc2VcIl0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3JkZXIgU3R5bGVcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1zdHlsZVxuICAgICAgICAgKi9cbiAgICAgICAgXCJib3JkZXItc3R5bGVcIjogW3tcbiAgICAgICAgICBib3JkZXI6IFsuLi5zY2FsZUxpbmVTdHlsZSgpLCBcImhpZGRlblwiLCBcIm5vbmVcIl1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXZpZGUgU3R5bGVcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1zdHlsZSNzZXR0aW5nLXRoZS1kaXZpZGVyLXN0eWxlXG4gICAgICAgICAqL1xuICAgICAgICBcImRpdmlkZS1zdHlsZVwiOiBbe1xuICAgICAgICAgIGRpdmlkZTogWy4uLnNjYWxlTGluZVN0eWxlKCksIFwiaGlkZGVuXCIsIFwibm9uZVwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvcmRlciBDb2xvclxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgICAqL1xuICAgICAgICBcImJvcmRlci1jb2xvclwiOiBbe1xuICAgICAgICAgIGJvcmRlcjogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQm9yZGVyIENvbG9yIFhcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xvclxuICAgICAgICAgKi9cbiAgICAgICAgXCJib3JkZXItY29sb3IteFwiOiBbe1xuICAgICAgICAgIFwiYm9yZGVyLXhcIjogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQm9yZGVyIENvbG9yIFlcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xvclxuICAgICAgICAgKi9cbiAgICAgICAgXCJib3JkZXItY29sb3IteVwiOiBbe1xuICAgICAgICAgIFwiYm9yZGVyLXlcIjogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQm9yZGVyIENvbG9yIFNcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xvclxuICAgICAgICAgKi9cbiAgICAgICAgXCJib3JkZXItY29sb3Itc1wiOiBbe1xuICAgICAgICAgIFwiYm9yZGVyLXNcIjogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQm9yZGVyIENvbG9yIEVcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xvclxuICAgICAgICAgKi9cbiAgICAgICAgXCJib3JkZXItY29sb3ItZVwiOiBbe1xuICAgICAgICAgIFwiYm9yZGVyLWVcIjogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQm9yZGVyIENvbG9yIFRvcFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgICAqL1xuICAgICAgICBcImJvcmRlci1jb2xvci10XCI6IFt7XG4gICAgICAgICAgXCJib3JkZXItdFwiOiBzY2FsZUNvbG9yKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3JkZXIgQ29sb3IgUmlnaHRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xvclxuICAgICAgICAgKi9cbiAgICAgICAgXCJib3JkZXItY29sb3ItclwiOiBbe1xuICAgICAgICAgIFwiYm9yZGVyLXJcIjogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQm9yZGVyIENvbG9yIEJvdHRvbVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgICAqL1xuICAgICAgICBcImJvcmRlci1jb2xvci1iXCI6IFt7XG4gICAgICAgICAgXCJib3JkZXItYlwiOiBzY2FsZUNvbG9yKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3JkZXIgQ29sb3IgTGVmdFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgICAqL1xuICAgICAgICBcImJvcmRlci1jb2xvci1sXCI6IFt7XG4gICAgICAgICAgXCJib3JkZXItbFwiOiBzY2FsZUNvbG9yKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXZpZGUgQ29sb3JcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2RpdmlkZS1jb2xvclxuICAgICAgICAgKi9cbiAgICAgICAgXCJkaXZpZGUtY29sb3JcIjogW3tcbiAgICAgICAgICBkaXZpZGU6IHNjYWxlQ29sb3IoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE91dGxpbmUgU3R5bGVcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL291dGxpbmUtc3R5bGVcbiAgICAgICAgICovXG4gICAgICAgIFwib3V0bGluZS1zdHlsZVwiOiBbe1xuICAgICAgICAgIG91dGxpbmU6IFsuLi5zY2FsZUxpbmVTdHlsZSgpLCBcIm5vbmVcIiwgXCJoaWRkZW5cIl1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdXRsaW5lIE9mZnNldFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3V0bGluZS1vZmZzZXRcbiAgICAgICAgICovXG4gICAgICAgIFwib3V0bGluZS1vZmZzZXRcIjogW3tcbiAgICAgICAgICBcIm91dGxpbmUtb2Zmc2V0XCI6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdXRsaW5lIFdpZHRoXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdXRsaW5lLXdpZHRoXG4gICAgICAgICAqL1xuICAgICAgICBcIm91dGxpbmUtd1wiOiBbe1xuICAgICAgICAgIG91dGxpbmU6IFtcIlwiLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZUxlbmd0aCwgaXNBcmJpdHJhcnlMZW5ndGhdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogT3V0bGluZSBDb2xvclxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3V0bGluZS1jb2xvclxuICAgICAgICAgKi9cbiAgICAgICAgXCJvdXRsaW5lLWNvbG9yXCI6IFt7XG4gICAgICAgICAgb3V0bGluZTogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gLS0tIEVmZmVjdHMgLS0tXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvKipcbiAgICAgICAgICogQm94IFNoYWRvd1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm94LXNoYWRvd1xuICAgICAgICAgKi9cbiAgICAgICAgc2hhZG93OiBbe1xuICAgICAgICAgIHNoYWRvdzogW1xuICAgICAgICAgICAgLy8gRGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgXCJub25lXCIsXG4gICAgICAgICAgICB0aGVtZVNoYWRvdyxcbiAgICAgICAgICAgIGlzQXJiaXRyYXJ5VmFyaWFibGVTaGFkb3csXG4gICAgICAgICAgICBpc0FyYml0cmFyeVNoYWRvd1xuICAgICAgICAgIF1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3ggU2hhZG93IENvbG9yXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3gtc2hhZG93I3NldHRpbmctdGhlLXNoYWRvdy1jb2xvclxuICAgICAgICAgKi9cbiAgICAgICAgXCJzaGFkb3ctY29sb3JcIjogW3tcbiAgICAgICAgICBzaGFkb3c6IHNjYWxlQ29sb3IoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluc2V0IEJveCBTaGFkb3dcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3cjYWRkaW5nLWFuLWluc2V0LXNoYWRvd1xuICAgICAgICAgKi9cbiAgICAgICAgXCJpbnNldC1zaGFkb3dcIjogW3tcbiAgICAgICAgICBcImluc2V0LXNoYWRvd1wiOiBbXCJub25lXCIsIHRoZW1lSW5zZXRTaGFkb3csIGlzQXJiaXRyYXJ5VmFyaWFibGVTaGFkb3csIGlzQXJiaXRyYXJ5U2hhZG93XVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluc2V0IEJveCBTaGFkb3cgQ29sb3JcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3cjc2V0dGluZy10aGUtaW5zZXQtc2hhZG93LWNvbG9yXG4gICAgICAgICAqL1xuICAgICAgICBcImluc2V0LXNoYWRvdy1jb2xvclwiOiBbe1xuICAgICAgICAgIFwiaW5zZXQtc2hhZG93XCI6IHNjYWxlQ29sb3IoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJpbmcgV2lkdGhcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3cjYWRkaW5nLWEtcmluZ1xuICAgICAgICAgKi9cbiAgICAgICAgXCJyaW5nLXdcIjogW3tcbiAgICAgICAgICByaW5nOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSaW5nIFdpZHRoIEluc2V0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly92My50YWlsd2luZGNzcy5jb20vZG9jcy9yaW5nLXdpZHRoI2luc2V0LXJpbmdzXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4wLjBcbiAgICAgICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzL2Jsb2IvdjQuMC4wL3BhY2thZ2VzL3RhaWx3aW5kY3NzL3NyYy91dGlsaXRpZXMudHMjTDQxNThcbiAgICAgICAgICovXG4gICAgICAgIFwicmluZy13LWluc2V0XCI6IFtcInJpbmctaW5zZXRcIl0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSaW5nIENvbG9yXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3gtc2hhZG93I3NldHRpbmctdGhlLXJpbmctY29sb3JcbiAgICAgICAgICovXG4gICAgICAgIFwicmluZy1jb2xvclwiOiBbe1xuICAgICAgICAgIHJpbmc6IHNjYWxlQ29sb3IoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJpbmcgT2Zmc2V0IFdpZHRoXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly92My50YWlsd2luZGNzcy5jb20vZG9jcy9yaW5nLW9mZnNldC13aWR0aFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kbGFicy90YWlsd2luZGNzcy9ibG9iL3Y0LjAuMC9wYWNrYWdlcy90YWlsd2luZGNzcy9zcmMvdXRpbGl0aWVzLnRzI0w0MTU4XG4gICAgICAgICAqL1xuICAgICAgICBcInJpbmctb2Zmc2V0LXdcIjogW3tcbiAgICAgICAgICBcInJpbmctb2Zmc2V0XCI6IFtpc051bWJlciwgaXNBcmJpdHJhcnlMZW5ndGhdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogUmluZyBPZmZzZXQgQ29sb3JcbiAgICAgICAgICogQHNlZSBodHRwczovL3YzLnRhaWx3aW5kY3NzLmNvbS9kb2NzL3Jpbmctb2Zmc2V0LWNvbG9yXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4wLjBcbiAgICAgICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzL2Jsb2IvdjQuMC4wL3BhY2thZ2VzL3RhaWx3aW5kY3NzL3NyYy91dGlsaXRpZXMudHMjTDQxNThcbiAgICAgICAgICovXG4gICAgICAgIFwicmluZy1vZmZzZXQtY29sb3JcIjogW3tcbiAgICAgICAgICBcInJpbmctb2Zmc2V0XCI6IHNjYWxlQ29sb3IoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluc2V0IFJpbmcgV2lkdGhcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3cjYWRkaW5nLWFuLWluc2V0LXJpbmdcbiAgICAgICAgICovXG4gICAgICAgIFwiaW5zZXQtcmluZy13XCI6IFt7XG4gICAgICAgICAgXCJpbnNldC1yaW5nXCI6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluc2V0IFJpbmcgQ29sb3JcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3cjc2V0dGluZy10aGUtaW5zZXQtcmluZy1jb2xvclxuICAgICAgICAgKi9cbiAgICAgICAgXCJpbnNldC1yaW5nLWNvbG9yXCI6IFt7XG4gICAgICAgICAgXCJpbnNldC1yaW5nXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHQgU2hhZG93XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LXNoYWRvd1xuICAgICAgICAgKi9cbiAgICAgICAgXCJ0ZXh0LXNoYWRvd1wiOiBbe1xuICAgICAgICAgIFwidGV4dC1zaGFkb3dcIjogW1wibm9uZVwiLCB0aGVtZVRleHRTaGFkb3csIGlzQXJiaXRyYXJ5VmFyaWFibGVTaGFkb3csIGlzQXJiaXRyYXJ5U2hhZG93XVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHQgU2hhZG93IENvbG9yXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LXNoYWRvdyNzZXR0aW5nLXRoZS1zaGFkb3ctY29sb3JcbiAgICAgICAgICovXG4gICAgICAgIFwidGV4dC1zaGFkb3ctY29sb3JcIjogW3tcbiAgICAgICAgICBcInRleHQtc2hhZG93XCI6IHNjYWxlQ29sb3IoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9wYWNpdHlcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL29wYWNpdHlcbiAgICAgICAgICovXG4gICAgICAgIG9wYWNpdHk6IFt7XG4gICAgICAgICAgb3BhY2l0eTogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1peCBCbGVuZCBNb2RlXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9taXgtYmxlbmQtbW9kZVxuICAgICAgICAgKi9cbiAgICAgICAgXCJtaXgtYmxlbmRcIjogW3tcbiAgICAgICAgICBcIm1peC1ibGVuZFwiOiBbLi4uc2NhbGVCbGVuZE1vZGUoKSwgXCJwbHVzLWRhcmtlclwiLCBcInBsdXMtbGlnaHRlclwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhY2tncm91bmQgQmxlbmQgTW9kZVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1ibGVuZC1tb2RlXG4gICAgICAgICAqL1xuICAgICAgICBcImJnLWJsZW5kXCI6IFt7XG4gICAgICAgICAgXCJiZy1ibGVuZFwiOiBzY2FsZUJsZW5kTW9kZSgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogTWFzayBDbGlwXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXNrLWNsaXBcbiAgICAgICAgICovXG4gICAgICAgIFwibWFzay1jbGlwXCI6IFt7XG4gICAgICAgICAgXCJtYXNrLWNsaXBcIjogW1wiYm9yZGVyXCIsIFwicGFkZGluZ1wiLCBcImNvbnRlbnRcIiwgXCJmaWxsXCIsIFwic3Ryb2tlXCIsIFwidmlld1wiXVxuICAgICAgICB9LCBcIm1hc2stbm8tY2xpcFwiXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgQ29tcG9zaXRlXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXNrLWNvbXBvc2l0ZVxuICAgICAgICAgKi9cbiAgICAgICAgXCJtYXNrLWNvbXBvc2l0ZVwiOiBbe1xuICAgICAgICAgIG1hc2s6IFtcImFkZFwiLCBcInN1YnRyYWN0XCIsIFwiaW50ZXJzZWN0XCIsIFwiZXhjbHVkZVwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgSW1hZ2VcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hc2staW1hZ2VcbiAgICAgICAgICovXG4gICAgICAgIFwibWFzay1pbWFnZS1saW5lYXItcG9zXCI6IFt7XG4gICAgICAgICAgXCJtYXNrLWxpbmVhclwiOiBbaXNOdW1iZXJdXG4gICAgICAgIH1dLFxuICAgICAgICBcIm1hc2staW1hZ2UtbGluZWFyLWZyb20tcG9zXCI6IFt7XG4gICAgICAgICAgXCJtYXNrLWxpbmVhci1mcm9tXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgICB9XSxcbiAgICAgICAgXCJtYXNrLWltYWdlLWxpbmVhci10by1wb3NcIjogW3tcbiAgICAgICAgICBcIm1hc2stbGluZWFyLXRvXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgICB9XSxcbiAgICAgICAgXCJtYXNrLWltYWdlLWxpbmVhci1mcm9tLWNvbG9yXCI6IFt7XG4gICAgICAgICAgXCJtYXNrLWxpbmVhci1mcm9tXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgICB9XSxcbiAgICAgICAgXCJtYXNrLWltYWdlLWxpbmVhci10by1jb2xvclwiOiBbe1xuICAgICAgICAgIFwibWFzay1saW5lYXItdG9cIjogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICBcIm1hc2staW1hZ2UtdC1mcm9tLXBvc1wiOiBbe1xuICAgICAgICAgIFwibWFzay10LWZyb21cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICAgIH1dLFxuICAgICAgICBcIm1hc2staW1hZ2UtdC10by1wb3NcIjogW3tcbiAgICAgICAgICBcIm1hc2stdC10b1wiOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgICAgfV0sXG4gICAgICAgIFwibWFzay1pbWFnZS10LWZyb20tY29sb3JcIjogW3tcbiAgICAgICAgICBcIm1hc2stdC1mcm9tXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgICB9XSxcbiAgICAgICAgXCJtYXNrLWltYWdlLXQtdG8tY29sb3JcIjogW3tcbiAgICAgICAgICBcIm1hc2stdC10b1wiOiBzY2FsZUNvbG9yKClcbiAgICAgICAgfV0sXG4gICAgICAgIFwibWFzay1pbWFnZS1yLWZyb20tcG9zXCI6IFt7XG4gICAgICAgICAgXCJtYXNrLXItZnJvbVwiOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgICAgfV0sXG4gICAgICAgIFwibWFzay1pbWFnZS1yLXRvLXBvc1wiOiBbe1xuICAgICAgICAgIFwibWFzay1yLXRvXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgICB9XSxcbiAgICAgICAgXCJtYXNrLWltYWdlLXItZnJvbS1jb2xvclwiOiBbe1xuICAgICAgICAgIFwibWFzay1yLWZyb21cIjogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICBcIm1hc2staW1hZ2Utci10by1jb2xvclwiOiBbe1xuICAgICAgICAgIFwibWFzay1yLXRvXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgICB9XSxcbiAgICAgICAgXCJtYXNrLWltYWdlLWItZnJvbS1wb3NcIjogW3tcbiAgICAgICAgICBcIm1hc2stYi1mcm9tXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgICB9XSxcbiAgICAgICAgXCJtYXNrLWltYWdlLWItdG8tcG9zXCI6IFt7XG4gICAgICAgICAgXCJtYXNrLWItdG9cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICAgIH1dLFxuICAgICAgICBcIm1hc2staW1hZ2UtYi1mcm9tLWNvbG9yXCI6IFt7XG4gICAgICAgICAgXCJtYXNrLWItZnJvbVwiOiBzY2FsZUNvbG9yKClcbiAgICAgICAgfV0sXG4gICAgICAgIFwibWFzay1pbWFnZS1iLXRvLWNvbG9yXCI6IFt7XG4gICAgICAgICAgXCJtYXNrLWItdG9cIjogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICBcIm1hc2staW1hZ2UtbC1mcm9tLXBvc1wiOiBbe1xuICAgICAgICAgIFwibWFzay1sLWZyb21cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICAgIH1dLFxuICAgICAgICBcIm1hc2staW1hZ2UtbC10by1wb3NcIjogW3tcbiAgICAgICAgICBcIm1hc2stbC10b1wiOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgICAgfV0sXG4gICAgICAgIFwibWFzay1pbWFnZS1sLWZyb20tY29sb3JcIjogW3tcbiAgICAgICAgICBcIm1hc2stbC1mcm9tXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgICB9XSxcbiAgICAgICAgXCJtYXNrLWltYWdlLWwtdG8tY29sb3JcIjogW3tcbiAgICAgICAgICBcIm1hc2stbC10b1wiOiBzY2FsZUNvbG9yKClcbiAgICAgICAgfV0sXG4gICAgICAgIFwibWFzay1pbWFnZS14LWZyb20tcG9zXCI6IFt7XG4gICAgICAgICAgXCJtYXNrLXgtZnJvbVwiOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgICAgfV0sXG4gICAgICAgIFwibWFzay1pbWFnZS14LXRvLXBvc1wiOiBbe1xuICAgICAgICAgIFwibWFzay14LXRvXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgICB9XSxcbiAgICAgICAgXCJtYXNrLWltYWdlLXgtZnJvbS1jb2xvclwiOiBbe1xuICAgICAgICAgIFwibWFzay14LWZyb21cIjogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICBcIm1hc2staW1hZ2UteC10by1jb2xvclwiOiBbe1xuICAgICAgICAgIFwibWFzay14LXRvXCI6IHNjYWxlQ29sb3IoKVxuICAgICAgICB9XSxcbiAgICAgICAgXCJtYXNrLWltYWdlLXktZnJvbS1wb3NcIjogW3tcbiAgICAgICAgICBcIm1hc2steS1mcm9tXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgICB9XSxcbiAgICAgICAgXCJtYXNrLWltYWdlLXktdG8tcG9zXCI6IFt7XG4gICAgICAgICAgXCJtYXNrLXktdG9cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICAgIH1dLFxuICAgICAgICBcIm1hc2staW1hZ2UteS1mcm9tLWNvbG9yXCI6IFt7XG4gICAgICAgICAgXCJtYXNrLXktZnJvbVwiOiBzY2FsZUNvbG9yKClcbiAgICAgICAgfV0sXG4gICAgICAgIFwibWFzay1pbWFnZS15LXRvLWNvbG9yXCI6IFt7XG4gICAgICAgICAgXCJtYXNrLXktdG9cIjogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICBcIm1hc2staW1hZ2UtcmFkaWFsXCI6IFt7XG4gICAgICAgICAgXCJtYXNrLXJhZGlhbFwiOiBbaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgICAgfV0sXG4gICAgICAgIFwibWFzay1pbWFnZS1yYWRpYWwtZnJvbS1wb3NcIjogW3tcbiAgICAgICAgICBcIm1hc2stcmFkaWFsLWZyb21cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICAgIH1dLFxuICAgICAgICBcIm1hc2staW1hZ2UtcmFkaWFsLXRvLXBvc1wiOiBbe1xuICAgICAgICAgIFwibWFzay1yYWRpYWwtdG9cIjogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICAgIH1dLFxuICAgICAgICBcIm1hc2staW1hZ2UtcmFkaWFsLWZyb20tY29sb3JcIjogW3tcbiAgICAgICAgICBcIm1hc2stcmFkaWFsLWZyb21cIjogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICBcIm1hc2staW1hZ2UtcmFkaWFsLXRvLWNvbG9yXCI6IFt7XG4gICAgICAgICAgXCJtYXNrLXJhZGlhbC10b1wiOiBzY2FsZUNvbG9yKClcbiAgICAgICAgfV0sXG4gICAgICAgIFwibWFzay1pbWFnZS1yYWRpYWwtc2hhcGVcIjogW3tcbiAgICAgICAgICBcIm1hc2stcmFkaWFsXCI6IFtcImNpcmNsZVwiLCBcImVsbGlwc2VcIl1cbiAgICAgICAgfV0sXG4gICAgICAgIFwibWFzay1pbWFnZS1yYWRpYWwtc2l6ZVwiOiBbe1xuICAgICAgICAgIFwibWFzay1yYWRpYWxcIjogW3tcbiAgICAgICAgICAgIGNsb3Nlc3Q6IFtcInNpZGVcIiwgXCJjb3JuZXJcIl0sXG4gICAgICAgICAgICBmYXJ0aGVzdDogW1wic2lkZVwiLCBcImNvcm5lclwiXVxuICAgICAgICAgIH1dXG4gICAgICAgIH1dLFxuICAgICAgICBcIm1hc2staW1hZ2UtcmFkaWFsLXBvc1wiOiBbe1xuICAgICAgICAgIFwibWFzay1yYWRpYWwtYXRcIjogc2NhbGVQb3NpdGlvbigpXG4gICAgICAgIH1dLFxuICAgICAgICBcIm1hc2staW1hZ2UtY29uaWMtcG9zXCI6IFt7XG4gICAgICAgICAgXCJtYXNrLWNvbmljXCI6IFtpc051bWJlcl1cbiAgICAgICAgfV0sXG4gICAgICAgIFwibWFzay1pbWFnZS1jb25pYy1mcm9tLXBvc1wiOiBbe1xuICAgICAgICAgIFwibWFzay1jb25pYy1mcm9tXCI6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgICB9XSxcbiAgICAgICAgXCJtYXNrLWltYWdlLWNvbmljLXRvLXBvc1wiOiBbe1xuICAgICAgICAgIFwibWFzay1jb25pYy10b1wiOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgICAgfV0sXG4gICAgICAgIFwibWFzay1pbWFnZS1jb25pYy1mcm9tLWNvbG9yXCI6IFt7XG4gICAgICAgICAgXCJtYXNrLWNvbmljLWZyb21cIjogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICBcIm1hc2staW1hZ2UtY29uaWMtdG8tY29sb3JcIjogW3tcbiAgICAgICAgICBcIm1hc2stY29uaWMtdG9cIjogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogTWFzayBNb2RlXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXNrLW1vZGVcbiAgICAgICAgICovXG4gICAgICAgIFwibWFzay1tb2RlXCI6IFt7XG4gICAgICAgICAgbWFzazogW1wiYWxwaGFcIiwgXCJsdW1pbmFuY2VcIiwgXCJtYXRjaFwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgT3JpZ2luXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXNrLW9yaWdpblxuICAgICAgICAgKi9cbiAgICAgICAgXCJtYXNrLW9yaWdpblwiOiBbe1xuICAgICAgICAgIFwibWFzay1vcmlnaW5cIjogW1wiYm9yZGVyXCIsIFwicGFkZGluZ1wiLCBcImNvbnRlbnRcIiwgXCJmaWxsXCIsIFwic3Ryb2tlXCIsIFwidmlld1wiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgUG9zaXRpb25cbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hc2stcG9zaXRpb25cbiAgICAgICAgICovXG4gICAgICAgIFwibWFzay1wb3NpdGlvblwiOiBbe1xuICAgICAgICAgIG1hc2s6IHNjYWxlQmdQb3NpdGlvbigpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogTWFzayBSZXBlYXRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hc2stcmVwZWF0XG4gICAgICAgICAqL1xuICAgICAgICBcIm1hc2stcmVwZWF0XCI6IFt7XG4gICAgICAgICAgbWFzazogc2NhbGVCZ1JlcGVhdCgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogTWFzayBTaXplXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXNrLXNpemVcbiAgICAgICAgICovXG4gICAgICAgIFwibWFzay1zaXplXCI6IFt7XG4gICAgICAgICAgbWFzazogc2NhbGVCZ1NpemUoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgVHlwZVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFzay10eXBlXG4gICAgICAgICAqL1xuICAgICAgICBcIm1hc2stdHlwZVwiOiBbe1xuICAgICAgICAgIFwibWFzay10eXBlXCI6IFtcImFscGhhXCIsIFwibHVtaW5hbmNlXCJdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogTWFzayBJbWFnZVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFzay1pbWFnZVxuICAgICAgICAgKi9cbiAgICAgICAgXCJtYXNrLWltYWdlXCI6IFt7XG4gICAgICAgICAgbWFzazogW1wibm9uZVwiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgICB9XSxcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIC0tLSBGaWx0ZXJzIC0tLVxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpbHRlclxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmlsdGVyXG4gICAgICAgICAqL1xuICAgICAgICBmaWx0ZXI6IFt7XG4gICAgICAgICAgZmlsdGVyOiBbXG4gICAgICAgICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2My4wLjBcbiAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBcIm5vbmVcIixcbiAgICAgICAgICAgIGlzQXJiaXRyYXJ5VmFyaWFibGUsXG4gICAgICAgICAgICBpc0FyYml0cmFyeVZhbHVlXG4gICAgICAgICAgXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJsdXJcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JsdXJcbiAgICAgICAgICovXG4gICAgICAgIGJsdXI6IFt7XG4gICAgICAgICAgYmx1cjogc2NhbGVCbHVyKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCcmlnaHRuZXNzXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9icmlnaHRuZXNzXG4gICAgICAgICAqL1xuICAgICAgICBicmlnaHRuZXNzOiBbe1xuICAgICAgICAgIGJyaWdodG5lc3M6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb250cmFzdFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvY29udHJhc3RcbiAgICAgICAgICovXG4gICAgICAgIGNvbnRyYXN0OiBbe1xuICAgICAgICAgIGNvbnRyYXN0OiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogRHJvcCBTaGFkb3dcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2Ryb3Atc2hhZG93XG4gICAgICAgICAqL1xuICAgICAgICBcImRyb3Atc2hhZG93XCI6IFt7XG4gICAgICAgICAgXCJkcm9wLXNoYWRvd1wiOiBbXG4gICAgICAgICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4wLjBcbiAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBcIm5vbmVcIixcbiAgICAgICAgICAgIHRoZW1lRHJvcFNoYWRvdyxcbiAgICAgICAgICAgIGlzQXJiaXRyYXJ5VmFyaWFibGVTaGFkb3csXG4gICAgICAgICAgICBpc0FyYml0cmFyeVNoYWRvd1xuICAgICAgICAgIF1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEcm9wIFNoYWRvdyBDb2xvclxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmlsdGVyLWRyb3Atc2hhZG93I3NldHRpbmctdGhlLXNoYWRvdy1jb2xvclxuICAgICAgICAgKi9cbiAgICAgICAgXCJkcm9wLXNoYWRvdy1jb2xvclwiOiBbe1xuICAgICAgICAgIFwiZHJvcC1zaGFkb3dcIjogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogR3JheXNjYWxlXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmF5c2NhbGVcbiAgICAgICAgICovXG4gICAgICAgIGdyYXlzY2FsZTogW3tcbiAgICAgICAgICBncmF5c2NhbGU6IFtcIlwiLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIdWUgUm90YXRlXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9odWUtcm90YXRlXG4gICAgICAgICAqL1xuICAgICAgICBcImh1ZS1yb3RhdGVcIjogW3tcbiAgICAgICAgICBcImh1ZS1yb3RhdGVcIjogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludmVydFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvaW52ZXJ0XG4gICAgICAgICAqL1xuICAgICAgICBpbnZlcnQ6IFt7XG4gICAgICAgICAgaW52ZXJ0OiBbXCJcIiwgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogU2F0dXJhdGVcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NhdHVyYXRlXG4gICAgICAgICAqL1xuICAgICAgICBzYXR1cmF0ZTogW3tcbiAgICAgICAgICBzYXR1cmF0ZTogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlcGlhXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zZXBpYVxuICAgICAgICAgKi9cbiAgICAgICAgc2VwaWE6IFt7XG4gICAgICAgICAgc2VwaWE6IFtcIlwiLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYWNrZHJvcCBGaWx0ZXJcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLWZpbHRlclxuICAgICAgICAgKi9cbiAgICAgICAgXCJiYWNrZHJvcC1maWx0ZXJcIjogW3tcbiAgICAgICAgICBcImJhY2tkcm9wLWZpbHRlclwiOiBbXG4gICAgICAgICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2My4wLjBcbiAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBcIm5vbmVcIixcbiAgICAgICAgICAgIGlzQXJiaXRyYXJ5VmFyaWFibGUsXG4gICAgICAgICAgICBpc0FyYml0cmFyeVZhbHVlXG4gICAgICAgICAgXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhY2tkcm9wIEJsdXJcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLWJsdXJcbiAgICAgICAgICovXG4gICAgICAgIFwiYmFja2Ryb3AtYmx1clwiOiBbe1xuICAgICAgICAgIFwiYmFja2Ryb3AtYmx1clwiOiBzY2FsZUJsdXIoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhY2tkcm9wIEJyaWdodG5lc3NcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLWJyaWdodG5lc3NcbiAgICAgICAgICovXG4gICAgICAgIFwiYmFja2Ryb3AtYnJpZ2h0bmVzc1wiOiBbe1xuICAgICAgICAgIFwiYmFja2Ryb3AtYnJpZ2h0bmVzc1wiOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQmFja2Ryb3AgQ29udHJhc3RcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLWNvbnRyYXN0XG4gICAgICAgICAqL1xuICAgICAgICBcImJhY2tkcm9wLWNvbnRyYXN0XCI6IFt7XG4gICAgICAgICAgXCJiYWNrZHJvcC1jb250cmFzdFwiOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQmFja2Ryb3AgR3JheXNjYWxlXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZHJvcC1ncmF5c2NhbGVcbiAgICAgICAgICovXG4gICAgICAgIFwiYmFja2Ryb3AtZ3JheXNjYWxlXCI6IFt7XG4gICAgICAgICAgXCJiYWNrZHJvcC1ncmF5c2NhbGVcIjogW1wiXCIsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhY2tkcm9wIEh1ZSBSb3RhdGVcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLWh1ZS1yb3RhdGVcbiAgICAgICAgICovXG4gICAgICAgIFwiYmFja2Ryb3AtaHVlLXJvdGF0ZVwiOiBbe1xuICAgICAgICAgIFwiYmFja2Ryb3AtaHVlLXJvdGF0ZVwiOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQmFja2Ryb3AgSW52ZXJ0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZHJvcC1pbnZlcnRcbiAgICAgICAgICovXG4gICAgICAgIFwiYmFja2Ryb3AtaW52ZXJ0XCI6IFt7XG4gICAgICAgICAgXCJiYWNrZHJvcC1pbnZlcnRcIjogW1wiXCIsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhY2tkcm9wIE9wYWNpdHlcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLW9wYWNpdHlcbiAgICAgICAgICovXG4gICAgICAgIFwiYmFja2Ryb3Atb3BhY2l0eVwiOiBbe1xuICAgICAgICAgIFwiYmFja2Ryb3Atb3BhY2l0eVwiOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQmFja2Ryb3AgU2F0dXJhdGVcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLXNhdHVyYXRlXG4gICAgICAgICAqL1xuICAgICAgICBcImJhY2tkcm9wLXNhdHVyYXRlXCI6IFt7XG4gICAgICAgICAgXCJiYWNrZHJvcC1zYXR1cmF0ZVwiOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQmFja2Ryb3AgU2VwaWFcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLXNlcGlhXG4gICAgICAgICAqL1xuICAgICAgICBcImJhY2tkcm9wLXNlcGlhXCI6IFt7XG4gICAgICAgICAgXCJiYWNrZHJvcC1zZXBpYVwiOiBbXCJcIiwgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgIH1dLFxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyAtLS0gVGFibGVzIC0tLVxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLVxuICAgICAgICAvKipcbiAgICAgICAgICogQm9yZGVyIENvbGxhcHNlXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItY29sbGFwc2VcbiAgICAgICAgICovXG4gICAgICAgIFwiYm9yZGVyLWNvbGxhcHNlXCI6IFt7XG4gICAgICAgICAgYm9yZGVyOiBbXCJjb2xsYXBzZVwiLCBcInNlcGFyYXRlXCJdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQm9yZGVyIFNwYWNpbmdcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1zcGFjaW5nXG4gICAgICAgICAqL1xuICAgICAgICBcImJvcmRlci1zcGFjaW5nXCI6IFt7XG4gICAgICAgICAgXCJib3JkZXItc3BhY2luZ1wiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQm9yZGVyIFNwYWNpbmcgWFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXNwYWNpbmdcbiAgICAgICAgICovXG4gICAgICAgIFwiYm9yZGVyLXNwYWNpbmcteFwiOiBbe1xuICAgICAgICAgIFwiYm9yZGVyLXNwYWNpbmcteFwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQm9yZGVyIFNwYWNpbmcgWVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXNwYWNpbmdcbiAgICAgICAgICovXG4gICAgICAgIFwiYm9yZGVyLXNwYWNpbmcteVwiOiBbe1xuICAgICAgICAgIFwiYm9yZGVyLXNwYWNpbmcteVwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGFibGUgTGF5b3V0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90YWJsZS1sYXlvdXRcbiAgICAgICAgICovXG4gICAgICAgIFwidGFibGUtbGF5b3V0XCI6IFt7XG4gICAgICAgICAgdGFibGU6IFtcImF1dG9cIiwgXCJmaXhlZFwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhcHRpb24gU2lkZVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvY2FwdGlvbi1zaWRlXG4gICAgICAgICAqL1xuICAgICAgICBjYXB0aW9uOiBbe1xuICAgICAgICAgIGNhcHRpb246IFtcInRvcFwiLCBcImJvdHRvbVwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIC0tLSBUcmFuc2l0aW9ucyBhbmQgQW5pbWF0aW9uIC0tLVxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYW5zaXRpb24gUHJvcGVydHlcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zaXRpb24tcHJvcGVydHlcbiAgICAgICAgICovXG4gICAgICAgIHRyYW5zaXRpb246IFt7XG4gICAgICAgICAgdHJhbnNpdGlvbjogW1wiXCIsIFwiYWxsXCIsIFwiY29sb3JzXCIsIFwib3BhY2l0eVwiLCBcInNoYWRvd1wiLCBcInRyYW5zZm9ybVwiLCBcIm5vbmVcIiwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFuc2l0aW9uIEJlaGF2aW9yXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLWJlaGF2aW9yXG4gICAgICAgICAqL1xuICAgICAgICBcInRyYW5zaXRpb24tYmVoYXZpb3JcIjogW3tcbiAgICAgICAgICB0cmFuc2l0aW9uOiBbXCJub3JtYWxcIiwgXCJkaXNjcmV0ZVwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYW5zaXRpb24gRHVyYXRpb25cbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zaXRpb24tZHVyYXRpb25cbiAgICAgICAgICovXG4gICAgICAgIGR1cmF0aW9uOiBbe1xuICAgICAgICAgIGR1cmF0aW9uOiBbaXNOdW1iZXIsIFwiaW5pdGlhbFwiLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYW5zaXRpb24gVGltaW5nIEZ1bmN0aW9uXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgZWFzZTogW3tcbiAgICAgICAgICBlYXNlOiBbXCJsaW5lYXJcIiwgXCJpbml0aWFsXCIsIHRoZW1lRWFzZSwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFuc2l0aW9uIERlbGF5XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLWRlbGF5XG4gICAgICAgICAqL1xuICAgICAgICBkZWxheTogW3tcbiAgICAgICAgICBkZWxheTogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuaW1hdGlvblxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYW5pbWF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBhbmltYXRlOiBbe1xuICAgICAgICAgIGFuaW1hdGU6IFtcIm5vbmVcIiwgdGhlbWVBbmltYXRlLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgICB9XSxcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIC0tLSBUcmFuc2Zvcm1zIC0tLVxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhY2tmYWNlIFZpc2liaWxpdHlcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tmYWNlLXZpc2liaWxpdHlcbiAgICAgICAgICovXG4gICAgICAgIGJhY2tmYWNlOiBbe1xuICAgICAgICAgIGJhY2tmYWNlOiBbXCJoaWRkZW5cIiwgXCJ2aXNpYmxlXCJdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogUGVyc3BlY3RpdmVcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BlcnNwZWN0aXZlXG4gICAgICAgICAqL1xuICAgICAgICBwZXJzcGVjdGl2ZTogW3tcbiAgICAgICAgICBwZXJzcGVjdGl2ZTogW3RoZW1lUGVyc3BlY3RpdmUsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogUGVyc3BlY3RpdmUgT3JpZ2luXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wZXJzcGVjdGl2ZS1vcmlnaW5cbiAgICAgICAgICovXG4gICAgICAgIFwicGVyc3BlY3RpdmUtb3JpZ2luXCI6IFt7XG4gICAgICAgICAgXCJwZXJzcGVjdGl2ZS1vcmlnaW5cIjogc2NhbGVQb3NpdGlvbldpdGhBcmJpdHJhcnkoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJvdGF0ZVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvcm90YXRlXG4gICAgICAgICAqL1xuICAgICAgICByb3RhdGU6IFt7XG4gICAgICAgICAgcm90YXRlOiBzY2FsZVJvdGF0ZSgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogUm90YXRlIFhcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3JvdGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgXCJyb3RhdGUteFwiOiBbe1xuICAgICAgICAgIFwicm90YXRlLXhcIjogc2NhbGVSb3RhdGUoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJvdGF0ZSBZXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9yb3RhdGVcbiAgICAgICAgICovXG4gICAgICAgIFwicm90YXRlLXlcIjogW3tcbiAgICAgICAgICBcInJvdGF0ZS15XCI6IHNjYWxlUm90YXRlKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSb3RhdGUgWlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvcm90YXRlXG4gICAgICAgICAqL1xuICAgICAgICBcInJvdGF0ZS16XCI6IFt7XG4gICAgICAgICAgXCJyb3RhdGUtelwiOiBzY2FsZVJvdGF0ZSgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGVcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NjYWxlXG4gICAgICAgICAqL1xuICAgICAgICBzY2FsZTogW3tcbiAgICAgICAgICBzY2FsZTogc2NhbGVTY2FsZSgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGUgWFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2NhbGVcbiAgICAgICAgICovXG4gICAgICAgIFwic2NhbGUteFwiOiBbe1xuICAgICAgICAgIFwic2NhbGUteFwiOiBzY2FsZVNjYWxlKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsZSBZXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY2FsZVxuICAgICAgICAgKi9cbiAgICAgICAgXCJzY2FsZS15XCI6IFt7XG4gICAgICAgICAgXCJzY2FsZS15XCI6IHNjYWxlU2NhbGUoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYWxlIFpcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NjYWxlXG4gICAgICAgICAqL1xuICAgICAgICBcInNjYWxlLXpcIjogW3tcbiAgICAgICAgICBcInNjYWxlLXpcIjogc2NhbGVTY2FsZSgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGUgM0RcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NjYWxlXG4gICAgICAgICAqL1xuICAgICAgICBcInNjYWxlLTNkXCI6IFtcInNjYWxlLTNkXCJdLFxuICAgICAgICAvKipcbiAgICAgICAgICogU2tld1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2tld1xuICAgICAgICAgKi9cbiAgICAgICAgc2tldzogW3tcbiAgICAgICAgICBza2V3OiBzY2FsZVNrZXcoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNrZXcgWFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2tld1xuICAgICAgICAgKi9cbiAgICAgICAgXCJza2V3LXhcIjogW3tcbiAgICAgICAgICBcInNrZXcteFwiOiBzY2FsZVNrZXcoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNrZXcgWVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2tld1xuICAgICAgICAgKi9cbiAgICAgICAgXCJza2V3LXlcIjogW3tcbiAgICAgICAgICBcInNrZXcteVwiOiBzY2FsZVNrZXcoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYW5zZm9ybVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdHJhbnNmb3JtXG4gICAgICAgICAqL1xuICAgICAgICB0cmFuc2Zvcm06IFt7XG4gICAgICAgICAgdHJhbnNmb3JtOiBbaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZSwgXCJcIiwgXCJub25lXCIsIFwiZ3B1XCIsIFwiY3B1XCJdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogVHJhbnNmb3JtIE9yaWdpblxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdHJhbnNmb3JtLW9yaWdpblxuICAgICAgICAgKi9cbiAgICAgICAgXCJ0cmFuc2Zvcm0tb3JpZ2luXCI6IFt7XG4gICAgICAgICAgb3JpZ2luOiBzY2FsZVBvc2l0aW9uV2l0aEFyYml0cmFyeSgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogVHJhbnNmb3JtIFN0eWxlXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2Zvcm0tc3R5bGVcbiAgICAgICAgICovXG4gICAgICAgIFwidHJhbnNmb3JtLXN0eWxlXCI6IFt7XG4gICAgICAgICAgdHJhbnNmb3JtOiBbXCIzZFwiLCBcImZsYXRcIl1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFuc2xhdGVcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zbGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdHJhbnNsYXRlOiBbe1xuICAgICAgICAgIHRyYW5zbGF0ZTogc2NhbGVUcmFuc2xhdGUoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYW5zbGF0ZSBYXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2xhdGVcbiAgICAgICAgICovXG4gICAgICAgIFwidHJhbnNsYXRlLXhcIjogW3tcbiAgICAgICAgICBcInRyYW5zbGF0ZS14XCI6IHNjYWxlVHJhbnNsYXRlKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFuc2xhdGUgWVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdHJhbnNsYXRlXG4gICAgICAgICAqL1xuICAgICAgICBcInRyYW5zbGF0ZS15XCI6IFt7XG4gICAgICAgICAgXCJ0cmFuc2xhdGUteVwiOiBzY2FsZVRyYW5zbGF0ZSgpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogVHJhbnNsYXRlIFpcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zbGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgXCJ0cmFuc2xhdGUtelwiOiBbe1xuICAgICAgICAgIFwidHJhbnNsYXRlLXpcIjogc2NhbGVUcmFuc2xhdGUoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYW5zbGF0ZSBOb25lXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2xhdGVcbiAgICAgICAgICovXG4gICAgICAgIFwidHJhbnNsYXRlLW5vbmVcIjogW1widHJhbnNsYXRlLW5vbmVcIl0sXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyAtLS0gSW50ZXJhY3Rpdml0eSAtLS1cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY2NlbnQgQ29sb3JcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FjY2VudC1jb2xvclxuICAgICAgICAgKi9cbiAgICAgICAgYWNjZW50OiBbe1xuICAgICAgICAgIGFjY2VudDogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQXBwZWFyYW5jZVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYXBwZWFyYW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgYXBwZWFyYW5jZTogW3tcbiAgICAgICAgICBhcHBlYXJhbmNlOiBbXCJub25lXCIsIFwiYXV0b1wiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhcmV0IENvbG9yXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9qdXN0LWluLXRpbWUtbW9kZSNjYXJldC1jb2xvci11dGlsaXRpZXNcbiAgICAgICAgICovXG4gICAgICAgIFwiY2FyZXQtY29sb3JcIjogW3tcbiAgICAgICAgICBjYXJldDogc2NhbGVDb2xvcigpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sb3IgU2NoZW1lXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9jb2xvci1zY2hlbWVcbiAgICAgICAgICovXG4gICAgICAgIFwiY29sb3Itc2NoZW1lXCI6IFt7XG4gICAgICAgICAgc2NoZW1lOiBbXCJub3JtYWxcIiwgXCJkYXJrXCIsIFwibGlnaHRcIiwgXCJsaWdodC1kYXJrXCIsIFwib25seS1kYXJrXCIsIFwib25seS1saWdodFwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnNvclxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvY3Vyc29yXG4gICAgICAgICAqL1xuICAgICAgICBjdXJzb3I6IFt7XG4gICAgICAgICAgY3Vyc29yOiBbXCJhdXRvXCIsIFwiZGVmYXVsdFwiLCBcInBvaW50ZXJcIiwgXCJ3YWl0XCIsIFwidGV4dFwiLCBcIm1vdmVcIiwgXCJoZWxwXCIsIFwibm90LWFsbG93ZWRcIiwgXCJub25lXCIsIFwiY29udGV4dC1tZW51XCIsIFwicHJvZ3Jlc3NcIiwgXCJjZWxsXCIsIFwiY3Jvc3NoYWlyXCIsIFwidmVydGljYWwtdGV4dFwiLCBcImFsaWFzXCIsIFwiY29weVwiLCBcIm5vLWRyb3BcIiwgXCJncmFiXCIsIFwiZ3JhYmJpbmdcIiwgXCJhbGwtc2Nyb2xsXCIsIFwiY29sLXJlc2l6ZVwiLCBcInJvdy1yZXNpemVcIiwgXCJuLXJlc2l6ZVwiLCBcImUtcmVzaXplXCIsIFwicy1yZXNpemVcIiwgXCJ3LXJlc2l6ZVwiLCBcIm5lLXJlc2l6ZVwiLCBcIm53LXJlc2l6ZVwiLCBcInNlLXJlc2l6ZVwiLCBcInN3LXJlc2l6ZVwiLCBcImV3LXJlc2l6ZVwiLCBcIm5zLXJlc2l6ZVwiLCBcIm5lc3ctcmVzaXplXCIsIFwibndzZS1yZXNpemVcIiwgXCJ6b29tLWluXCIsIFwiem9vbS1vdXRcIiwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaWVsZCBTaXppbmdcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZpZWxkLXNpemluZ1xuICAgICAgICAgKi9cbiAgICAgICAgXCJmaWVsZC1zaXppbmdcIjogW3tcbiAgICAgICAgICBcImZpZWxkLXNpemluZ1wiOiBbXCJmaXhlZFwiLCBcImNvbnRlbnRcIl1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb2ludGVyIEV2ZW50c1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcG9pbnRlci1ldmVudHNcbiAgICAgICAgICovXG4gICAgICAgIFwicG9pbnRlci1ldmVudHNcIjogW3tcbiAgICAgICAgICBcInBvaW50ZXItZXZlbnRzXCI6IFtcImF1dG9cIiwgXCJub25lXCJdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogUmVzaXplXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9yZXNpemVcbiAgICAgICAgICovXG4gICAgICAgIHJlc2l6ZTogW3tcbiAgICAgICAgICByZXNpemU6IFtcIm5vbmVcIiwgXCJcIiwgXCJ5XCIsIFwieFwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjcm9sbCBCZWhhdmlvclxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLWJlaGF2aW9yXG4gICAgICAgICAqL1xuICAgICAgICBcInNjcm9sbC1iZWhhdmlvclwiOiBbe1xuICAgICAgICAgIHNjcm9sbDogW1wiYXV0b1wiLCBcInNtb290aFwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjcm9sbCBNYXJnaW5cbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1tYXJnaW5cbiAgICAgICAgICovXG4gICAgICAgIFwic2Nyb2xsLW1cIjogW3tcbiAgICAgICAgICBcInNjcm9sbC1tXCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY3JvbGwgTWFyZ2luIFhcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1tYXJnaW5cbiAgICAgICAgICovXG4gICAgICAgIFwic2Nyb2xsLW14XCI6IFt7XG4gICAgICAgICAgXCJzY3JvbGwtbXhcIjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjcm9sbCBNYXJnaW4gWVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICAgKi9cbiAgICAgICAgXCJzY3JvbGwtbXlcIjogW3tcbiAgICAgICAgICBcInNjcm9sbC1teVwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogU2Nyb2xsIE1hcmdpbiBTdGFydFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICAgKi9cbiAgICAgICAgXCJzY3JvbGwtbXNcIjogW3tcbiAgICAgICAgICBcInNjcm9sbC1tc1wiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogU2Nyb2xsIE1hcmdpbiBFbmRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1tYXJnaW5cbiAgICAgICAgICovXG4gICAgICAgIFwic2Nyb2xsLW1lXCI6IFt7XG4gICAgICAgICAgXCJzY3JvbGwtbWVcIjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjcm9sbCBNYXJnaW4gVG9wXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgICAqL1xuICAgICAgICBcInNjcm9sbC1tdFwiOiBbe1xuICAgICAgICAgIFwic2Nyb2xsLW10XCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY3JvbGwgTWFyZ2luIFJpZ2h0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgICAqL1xuICAgICAgICBcInNjcm9sbC1tclwiOiBbe1xuICAgICAgICAgIFwic2Nyb2xsLW1yXCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY3JvbGwgTWFyZ2luIEJvdHRvbVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICAgKi9cbiAgICAgICAgXCJzY3JvbGwtbWJcIjogW3tcbiAgICAgICAgICBcInNjcm9sbC1tYlwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogU2Nyb2xsIE1hcmdpbiBMZWZ0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgICAqL1xuICAgICAgICBcInNjcm9sbC1tbFwiOiBbe1xuICAgICAgICAgIFwic2Nyb2xsLW1sXCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY3JvbGwgUGFkZGluZ1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAgICovXG4gICAgICAgIFwic2Nyb2xsLXBcIjogW3tcbiAgICAgICAgICBcInNjcm9sbC1wXCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY3JvbGwgUGFkZGluZyBYXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtcGFkZGluZ1xuICAgICAgICAgKi9cbiAgICAgICAgXCJzY3JvbGwtcHhcIjogW3tcbiAgICAgICAgICBcInNjcm9sbC1weFwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogU2Nyb2xsIFBhZGRpbmcgWVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAgICovXG4gICAgICAgIFwic2Nyb2xsLXB5XCI6IFt7XG4gICAgICAgICAgXCJzY3JvbGwtcHlcIjogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjcm9sbCBQYWRkaW5nIFN0YXJ0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtcGFkZGluZ1xuICAgICAgICAgKi9cbiAgICAgICAgXCJzY3JvbGwtcHNcIjogW3tcbiAgICAgICAgICBcInNjcm9sbC1wc1wiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogU2Nyb2xsIFBhZGRpbmcgRW5kXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtcGFkZGluZ1xuICAgICAgICAgKi9cbiAgICAgICAgXCJzY3JvbGwtcGVcIjogW3tcbiAgICAgICAgICBcInNjcm9sbC1wZVwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogU2Nyb2xsIFBhZGRpbmcgVG9wXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtcGFkZGluZ1xuICAgICAgICAgKi9cbiAgICAgICAgXCJzY3JvbGwtcHRcIjogW3tcbiAgICAgICAgICBcInNjcm9sbC1wdFwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogU2Nyb2xsIFBhZGRpbmcgUmlnaHRcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1wYWRkaW5nXG4gICAgICAgICAqL1xuICAgICAgICBcInNjcm9sbC1wclwiOiBbe1xuICAgICAgICAgIFwic2Nyb2xsLXByXCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY3JvbGwgUGFkZGluZyBCb3R0b21cbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1wYWRkaW5nXG4gICAgICAgICAqL1xuICAgICAgICBcInNjcm9sbC1wYlwiOiBbe1xuICAgICAgICAgIFwic2Nyb2xsLXBiXCI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY3JvbGwgUGFkZGluZyBMZWZ0XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtcGFkZGluZ1xuICAgICAgICAgKi9cbiAgICAgICAgXCJzY3JvbGwtcGxcIjogW3tcbiAgICAgICAgICBcInNjcm9sbC1wbFwiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogU2Nyb2xsIFNuYXAgQWxpZ25cbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1zbmFwLWFsaWduXG4gICAgICAgICAqL1xuICAgICAgICBcInNuYXAtYWxpZ25cIjogW3tcbiAgICAgICAgICBzbmFwOiBbXCJzdGFydFwiLCBcImVuZFwiLCBcImNlbnRlclwiLCBcImFsaWduLW5vbmVcIl1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY3JvbGwgU25hcCBTdG9wXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtc25hcC1zdG9wXG4gICAgICAgICAqL1xuICAgICAgICBcInNuYXAtc3RvcFwiOiBbe1xuICAgICAgICAgIHNuYXA6IFtcIm5vcm1hbFwiLCBcImFsd2F5c1wiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjcm9sbCBTbmFwIFR5cGVcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1zbmFwLXR5cGVcbiAgICAgICAgICovXG4gICAgICAgIFwic25hcC10eXBlXCI6IFt7XG4gICAgICAgICAgc25hcDogW1wibm9uZVwiLCBcInhcIiwgXCJ5XCIsIFwiYm90aFwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjcm9sbCBTbmFwIFR5cGUgU3RyaWN0bmVzc1xuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXNuYXAtdHlwZVxuICAgICAgICAgKi9cbiAgICAgICAgXCJzbmFwLXN0cmljdG5lc3NcIjogW3tcbiAgICAgICAgICBzbmFwOiBbXCJtYW5kYXRvcnlcIiwgXCJwcm94aW1pdHlcIl1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUb3VjaCBBY3Rpb25cbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvdWNoLWFjdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2g6IFt7XG4gICAgICAgICAgdG91Y2g6IFtcImF1dG9cIiwgXCJub25lXCIsIFwibWFuaXB1bGF0aW9uXCJdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogVG91Y2ggQWN0aW9uIFhcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvdWNoLWFjdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgXCJ0b3VjaC14XCI6IFt7XG4gICAgICAgICAgXCJ0b3VjaC1wYW5cIjogW1wieFwiLCBcImxlZnRcIiwgXCJyaWdodFwiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvdWNoIEFjdGlvbiBZXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3VjaC1hY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIFwidG91Y2gteVwiOiBbe1xuICAgICAgICAgIFwidG91Y2gtcGFuXCI6IFtcInlcIiwgXCJ1cFwiLCBcImRvd25cIl1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUb3VjaCBBY3Rpb24gUGluY2ggWm9vbVxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG91Y2gtYWN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBcInRvdWNoLXB6XCI6IFtcInRvdWNoLXBpbmNoLXpvb21cIl0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VyIFNlbGVjdFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdXNlci1zZWxlY3RcbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdDogW3tcbiAgICAgICAgICBzZWxlY3Q6IFtcIm5vbmVcIiwgXCJ0ZXh0XCIsIFwiYWxsXCIsIFwiYXV0b1wiXVxuICAgICAgICB9XSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdpbGwgQ2hhbmdlXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy93aWxsLWNoYW5nZVxuICAgICAgICAgKi9cbiAgICAgICAgXCJ3aWxsLWNoYW5nZVwiOiBbe1xuICAgICAgICAgIFwid2lsbC1jaGFuZ2VcIjogW1wiYXV0b1wiLCBcInNjcm9sbFwiLCBcImNvbnRlbnRzXCIsIFwidHJhbnNmb3JtXCIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICAgIH1dLFxuICAgICAgICAvLyAtLS0tLS0tLS0tLVxuICAgICAgICAvLyAtLS0gU1ZHIC0tLVxuICAgICAgICAvLyAtLS0tLS0tLS0tLVxuICAgICAgICAvKipcbiAgICAgICAgICogRmlsbFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmlsbFxuICAgICAgICAgKi9cbiAgICAgICAgZmlsbDogW3tcbiAgICAgICAgICBmaWxsOiBbXCJub25lXCIsIC4uLnNjYWxlQ29sb3IoKV1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdHJva2UgV2lkdGhcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3N0cm9rZS13aWR0aFxuICAgICAgICAgKi9cbiAgICAgICAgXCJzdHJva2Utd1wiOiBbe1xuICAgICAgICAgIHN0cm9rZTogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlTGVuZ3RoLCBpc0FyYml0cmFyeUxlbmd0aCwgaXNBcmJpdHJhcnlOdW1iZXJdXG4gICAgICAgIH1dLFxuICAgICAgICAvKipcbiAgICAgICAgICogU3Ryb2tlXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zdHJva2VcbiAgICAgICAgICovXG4gICAgICAgIHN0cm9rZTogW3tcbiAgICAgICAgICBzdHJva2U6IFtcIm5vbmVcIiwgLi4uc2NhbGVDb2xvcigpXVxuICAgICAgICB9XSxcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIC0tLSBBY2Nlc3NpYmlsaXR5IC0tLVxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvcmNlZCBDb2xvciBBZGp1c3RcbiAgICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvcmNlZC1jb2xvci1hZGp1c3RcbiAgICAgICAgICovXG4gICAgICAgIFwiZm9yY2VkLWNvbG9yLWFkanVzdFwiOiBbe1xuICAgICAgICAgIFwiZm9yY2VkLWNvbG9yLWFkanVzdFwiOiBbXCJhdXRvXCIsIFwibm9uZVwiXVxuICAgICAgICB9XVxuICAgICAgfSxcbiAgICAgIGNvbmZsaWN0aW5nQ2xhc3NHcm91cHM6IHtcbiAgICAgICAgb3ZlcmZsb3c6IFtcIm92ZXJmbG93LXhcIiwgXCJvdmVyZmxvdy15XCJdLFxuICAgICAgICBvdmVyc2Nyb2xsOiBbXCJvdmVyc2Nyb2xsLXhcIiwgXCJvdmVyc2Nyb2xsLXlcIl0sXG4gICAgICAgIGluc2V0OiBbXCJpbnNldC14XCIsIFwiaW5zZXQteVwiLCBcInN0YXJ0XCIsIFwiZW5kXCIsIFwidG9wXCIsIFwicmlnaHRcIiwgXCJib3R0b21cIiwgXCJsZWZ0XCJdLFxuICAgICAgICBcImluc2V0LXhcIjogW1wicmlnaHRcIiwgXCJsZWZ0XCJdLFxuICAgICAgICBcImluc2V0LXlcIjogW1widG9wXCIsIFwiYm90dG9tXCJdLFxuICAgICAgICBmbGV4OiBbXCJiYXNpc1wiLCBcImdyb3dcIiwgXCJzaHJpbmtcIl0sXG4gICAgICAgIGdhcDogW1wiZ2FwLXhcIiwgXCJnYXAteVwiXSxcbiAgICAgICAgcDogW1wicHhcIiwgXCJweVwiLCBcInBzXCIsIFwicGVcIiwgXCJwdFwiLCBcInByXCIsIFwicGJcIiwgXCJwbFwiXSxcbiAgICAgICAgcHg6IFtcInByXCIsIFwicGxcIl0sXG4gICAgICAgIHB5OiBbXCJwdFwiLCBcInBiXCJdLFxuICAgICAgICBtOiBbXCJteFwiLCBcIm15XCIsIFwibXNcIiwgXCJtZVwiLCBcIm10XCIsIFwibXJcIiwgXCJtYlwiLCBcIm1sXCJdLFxuICAgICAgICBteDogW1wibXJcIiwgXCJtbFwiXSxcbiAgICAgICAgbXk6IFtcIm10XCIsIFwibWJcIl0sXG4gICAgICAgIHNpemU6IFtcIndcIiwgXCJoXCJdLFxuICAgICAgICBcImZvbnQtc2l6ZVwiOiBbXCJsZWFkaW5nXCJdLFxuICAgICAgICBcImZ2bi1ub3JtYWxcIjogW1wiZnZuLW9yZGluYWxcIiwgXCJmdm4tc2xhc2hlZC16ZXJvXCIsIFwiZnZuLWZpZ3VyZVwiLCBcImZ2bi1zcGFjaW5nXCIsIFwiZnZuLWZyYWN0aW9uXCJdLFxuICAgICAgICBcImZ2bi1vcmRpbmFsXCI6IFtcImZ2bi1ub3JtYWxcIl0sXG4gICAgICAgIFwiZnZuLXNsYXNoZWQtemVyb1wiOiBbXCJmdm4tbm9ybWFsXCJdLFxuICAgICAgICBcImZ2bi1maWd1cmVcIjogW1wiZnZuLW5vcm1hbFwiXSxcbiAgICAgICAgXCJmdm4tc3BhY2luZ1wiOiBbXCJmdm4tbm9ybWFsXCJdLFxuICAgICAgICBcImZ2bi1mcmFjdGlvblwiOiBbXCJmdm4tbm9ybWFsXCJdLFxuICAgICAgICBcImxpbmUtY2xhbXBcIjogW1wiZGlzcGxheVwiLCBcIm92ZXJmbG93XCJdLFxuICAgICAgICByb3VuZGVkOiBbXCJyb3VuZGVkLXNcIiwgXCJyb3VuZGVkLWVcIiwgXCJyb3VuZGVkLXRcIiwgXCJyb3VuZGVkLXJcIiwgXCJyb3VuZGVkLWJcIiwgXCJyb3VuZGVkLWxcIiwgXCJyb3VuZGVkLXNzXCIsIFwicm91bmRlZC1zZVwiLCBcInJvdW5kZWQtZWVcIiwgXCJyb3VuZGVkLWVzXCIsIFwicm91bmRlZC10bFwiLCBcInJvdW5kZWQtdHJcIiwgXCJyb3VuZGVkLWJyXCIsIFwicm91bmRlZC1ibFwiXSxcbiAgICAgICAgXCJyb3VuZGVkLXNcIjogW1wicm91bmRlZC1zc1wiLCBcInJvdW5kZWQtZXNcIl0sXG4gICAgICAgIFwicm91bmRlZC1lXCI6IFtcInJvdW5kZWQtc2VcIiwgXCJyb3VuZGVkLWVlXCJdLFxuICAgICAgICBcInJvdW5kZWQtdFwiOiBbXCJyb3VuZGVkLXRsXCIsIFwicm91bmRlZC10clwiXSxcbiAgICAgICAgXCJyb3VuZGVkLXJcIjogW1wicm91bmRlZC10clwiLCBcInJvdW5kZWQtYnJcIl0sXG4gICAgICAgIFwicm91bmRlZC1iXCI6IFtcInJvdW5kZWQtYnJcIiwgXCJyb3VuZGVkLWJsXCJdLFxuICAgICAgICBcInJvdW5kZWQtbFwiOiBbXCJyb3VuZGVkLXRsXCIsIFwicm91bmRlZC1ibFwiXSxcbiAgICAgICAgXCJib3JkZXItc3BhY2luZ1wiOiBbXCJib3JkZXItc3BhY2luZy14XCIsIFwiYm9yZGVyLXNwYWNpbmcteVwiXSxcbiAgICAgICAgXCJib3JkZXItd1wiOiBbXCJib3JkZXItdy14XCIsIFwiYm9yZGVyLXcteVwiLCBcImJvcmRlci13LXNcIiwgXCJib3JkZXItdy1lXCIsIFwiYm9yZGVyLXctdFwiLCBcImJvcmRlci13LXJcIiwgXCJib3JkZXItdy1iXCIsIFwiYm9yZGVyLXctbFwiXSxcbiAgICAgICAgXCJib3JkZXItdy14XCI6IFtcImJvcmRlci13LXJcIiwgXCJib3JkZXItdy1sXCJdLFxuICAgICAgICBcImJvcmRlci13LXlcIjogW1wiYm9yZGVyLXctdFwiLCBcImJvcmRlci13LWJcIl0sXG4gICAgICAgIFwiYm9yZGVyLWNvbG9yXCI6IFtcImJvcmRlci1jb2xvci14XCIsIFwiYm9yZGVyLWNvbG9yLXlcIiwgXCJib3JkZXItY29sb3Itc1wiLCBcImJvcmRlci1jb2xvci1lXCIsIFwiYm9yZGVyLWNvbG9yLXRcIiwgXCJib3JkZXItY29sb3ItclwiLCBcImJvcmRlci1jb2xvci1iXCIsIFwiYm9yZGVyLWNvbG9yLWxcIl0sXG4gICAgICAgIFwiYm9yZGVyLWNvbG9yLXhcIjogW1wiYm9yZGVyLWNvbG9yLXJcIiwgXCJib3JkZXItY29sb3ItbFwiXSxcbiAgICAgICAgXCJib3JkZXItY29sb3IteVwiOiBbXCJib3JkZXItY29sb3ItdFwiLCBcImJvcmRlci1jb2xvci1iXCJdLFxuICAgICAgICB0cmFuc2xhdGU6IFtcInRyYW5zbGF0ZS14XCIsIFwidHJhbnNsYXRlLXlcIiwgXCJ0cmFuc2xhdGUtbm9uZVwiXSxcbiAgICAgICAgXCJ0cmFuc2xhdGUtbm9uZVwiOiBbXCJ0cmFuc2xhdGVcIiwgXCJ0cmFuc2xhdGUteFwiLCBcInRyYW5zbGF0ZS15XCIsIFwidHJhbnNsYXRlLXpcIl0sXG4gICAgICAgIFwic2Nyb2xsLW1cIjogW1wic2Nyb2xsLW14XCIsIFwic2Nyb2xsLW15XCIsIFwic2Nyb2xsLW1zXCIsIFwic2Nyb2xsLW1lXCIsIFwic2Nyb2xsLW10XCIsIFwic2Nyb2xsLW1yXCIsIFwic2Nyb2xsLW1iXCIsIFwic2Nyb2xsLW1sXCJdLFxuICAgICAgICBcInNjcm9sbC1teFwiOiBbXCJzY3JvbGwtbXJcIiwgXCJzY3JvbGwtbWxcIl0sXG4gICAgICAgIFwic2Nyb2xsLW15XCI6IFtcInNjcm9sbC1tdFwiLCBcInNjcm9sbC1tYlwiXSxcbiAgICAgICAgXCJzY3JvbGwtcFwiOiBbXCJzY3JvbGwtcHhcIiwgXCJzY3JvbGwtcHlcIiwgXCJzY3JvbGwtcHNcIiwgXCJzY3JvbGwtcGVcIiwgXCJzY3JvbGwtcHRcIiwgXCJzY3JvbGwtcHJcIiwgXCJzY3JvbGwtcGJcIiwgXCJzY3JvbGwtcGxcIl0sXG4gICAgICAgIFwic2Nyb2xsLXB4XCI6IFtcInNjcm9sbC1wclwiLCBcInNjcm9sbC1wbFwiXSxcbiAgICAgICAgXCJzY3JvbGwtcHlcIjogW1wic2Nyb2xsLXB0XCIsIFwic2Nyb2xsLXBiXCJdLFxuICAgICAgICB0b3VjaDogW1widG91Y2gteFwiLCBcInRvdWNoLXlcIiwgXCJ0b3VjaC1welwiXSxcbiAgICAgICAgXCJ0b3VjaC14XCI6IFtcInRvdWNoXCJdLFxuICAgICAgICBcInRvdWNoLXlcIjogW1widG91Y2hcIl0sXG4gICAgICAgIFwidG91Y2gtcHpcIjogW1widG91Y2hcIl1cbiAgICAgIH0sXG4gICAgICBjb25mbGljdGluZ0NsYXNzR3JvdXBNb2RpZmllcnM6IHtcbiAgICAgICAgXCJmb250LXNpemVcIjogW1wibGVhZGluZ1wiXVxuICAgICAgfSxcbiAgICAgIG9yZGVyU2Vuc2l0aXZlTW9kaWZpZXJzOiBbXCIqXCIsIFwiKipcIiwgXCJhZnRlclwiLCBcImJhY2tkcm9wXCIsIFwiYmVmb3JlXCIsIFwiZGV0YWlscy1jb250ZW50XCIsIFwiZmlsZVwiLCBcImZpcnN0LWxldHRlclwiLCBcImZpcnN0LWxpbmVcIiwgXCJtYXJrZXJcIiwgXCJwbGFjZWhvbGRlclwiLCBcInNlbGVjdGlvblwiXVxuICAgIH07XG4gIH07XG4gIGNvbnN0IG1lcmdlQ29uZmlncyA9IChiYXNlQ29uZmlnLCB7XG4gICAgY2FjaGVTaXplLFxuICAgIHByZWZpeCxcbiAgICBleHBlcmltZW50YWxQYXJzZUNsYXNzTmFtZSxcbiAgICBleHRlbmQ6IGV4dGVuZDIgPSB7fSxcbiAgICBvdmVycmlkZSA9IHt9XG4gIH0pID0+IHtcbiAgICBvdmVycmlkZVByb3BlcnR5KGJhc2VDb25maWcsIFwiY2FjaGVTaXplXCIsIGNhY2hlU2l6ZSk7XG4gICAgb3ZlcnJpZGVQcm9wZXJ0eShiYXNlQ29uZmlnLCBcInByZWZpeFwiLCBwcmVmaXgpO1xuICAgIG92ZXJyaWRlUHJvcGVydHkoYmFzZUNvbmZpZywgXCJleHBlcmltZW50YWxQYXJzZUNsYXNzTmFtZVwiLCBleHBlcmltZW50YWxQYXJzZUNsYXNzTmFtZSk7XG4gICAgb3ZlcnJpZGVDb25maWdQcm9wZXJ0aWVzKGJhc2VDb25maWcudGhlbWUsIG92ZXJyaWRlLnRoZW1lKTtcbiAgICBvdmVycmlkZUNvbmZpZ1Byb3BlcnRpZXMoYmFzZUNvbmZpZy5jbGFzc0dyb3Vwcywgb3ZlcnJpZGUuY2xhc3NHcm91cHMpO1xuICAgIG92ZXJyaWRlQ29uZmlnUHJvcGVydGllcyhiYXNlQ29uZmlnLmNvbmZsaWN0aW5nQ2xhc3NHcm91cHMsIG92ZXJyaWRlLmNvbmZsaWN0aW5nQ2xhc3NHcm91cHMpO1xuICAgIG92ZXJyaWRlQ29uZmlnUHJvcGVydGllcyhiYXNlQ29uZmlnLmNvbmZsaWN0aW5nQ2xhc3NHcm91cE1vZGlmaWVycywgb3ZlcnJpZGUuY29uZmxpY3RpbmdDbGFzc0dyb3VwTW9kaWZpZXJzKTtcbiAgICBvdmVycmlkZVByb3BlcnR5KGJhc2VDb25maWcsIFwib3JkZXJTZW5zaXRpdmVNb2RpZmllcnNcIiwgb3ZlcnJpZGUub3JkZXJTZW5zaXRpdmVNb2RpZmllcnMpO1xuICAgIG1lcmdlQ29uZmlnUHJvcGVydGllcyhiYXNlQ29uZmlnLnRoZW1lLCBleHRlbmQyLnRoZW1lKTtcbiAgICBtZXJnZUNvbmZpZ1Byb3BlcnRpZXMoYmFzZUNvbmZpZy5jbGFzc0dyb3VwcywgZXh0ZW5kMi5jbGFzc0dyb3Vwcyk7XG4gICAgbWVyZ2VDb25maWdQcm9wZXJ0aWVzKGJhc2VDb25maWcuY29uZmxpY3RpbmdDbGFzc0dyb3VwcywgZXh0ZW5kMi5jb25mbGljdGluZ0NsYXNzR3JvdXBzKTtcbiAgICBtZXJnZUNvbmZpZ1Byb3BlcnRpZXMoYmFzZUNvbmZpZy5jb25mbGljdGluZ0NsYXNzR3JvdXBNb2RpZmllcnMsIGV4dGVuZDIuY29uZmxpY3RpbmdDbGFzc0dyb3VwTW9kaWZpZXJzKTtcbiAgICBtZXJnZUFycmF5UHJvcGVydGllcyhiYXNlQ29uZmlnLCBleHRlbmQyLCBcIm9yZGVyU2Vuc2l0aXZlTW9kaWZpZXJzXCIpO1xuICAgIHJldHVybiBiYXNlQ29uZmlnO1xuICB9O1xuICBjb25zdCBvdmVycmlkZVByb3BlcnR5ID0gKGJhc2VPYmplY3QsIG92ZXJyaWRlS2V5LCBvdmVycmlkZVZhbHVlKSA9PiB7XG4gICAgaWYgKG92ZXJyaWRlVmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgYmFzZU9iamVjdFtvdmVycmlkZUtleV0gPSBvdmVycmlkZVZhbHVlO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgb3ZlcnJpZGVDb25maWdQcm9wZXJ0aWVzID0gKGJhc2VPYmplY3QsIG92ZXJyaWRlT2JqZWN0KSA9PiB7XG4gICAgaWYgKG92ZXJyaWRlT2JqZWN0KSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBvdmVycmlkZU9iamVjdCkge1xuICAgICAgICBvdmVycmlkZVByb3BlcnR5KGJhc2VPYmplY3QsIGtleSwgb3ZlcnJpZGVPYmplY3Rba2V5XSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBtZXJnZUNvbmZpZ1Byb3BlcnRpZXMgPSAoYmFzZU9iamVjdCwgbWVyZ2VPYmplY3QpID0+IHtcbiAgICBpZiAobWVyZ2VPYmplY3QpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG1lcmdlT2JqZWN0KSB7XG4gICAgICAgIG1lcmdlQXJyYXlQcm9wZXJ0aWVzKGJhc2VPYmplY3QsIG1lcmdlT2JqZWN0LCBrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgbWVyZ2VBcnJheVByb3BlcnRpZXMgPSAoYmFzZU9iamVjdCwgbWVyZ2VPYmplY3QsIGtleSkgPT4ge1xuICAgIGNvbnN0IG1lcmdlVmFsdWUgPSBtZXJnZU9iamVjdFtrZXldO1xuICAgIGlmIChtZXJnZVZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgIGJhc2VPYmplY3Rba2V5XSA9IGJhc2VPYmplY3Rba2V5XSA/IGJhc2VPYmplY3Rba2V5XS5jb25jYXQobWVyZ2VWYWx1ZSkgOiBtZXJnZVZhbHVlO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZXh0ZW5kVGFpbHdpbmRNZXJnZSA9IChjb25maWdFeHRlbnNpb24sIC4uLmNyZWF0ZUNvbmZpZykgPT4gdHlwZW9mIGNvbmZpZ0V4dGVuc2lvbiA9PT0gXCJmdW5jdGlvblwiID8gY3JlYXRlVGFpbHdpbmRNZXJnZShnZXREZWZhdWx0Q29uZmlnLCBjb25maWdFeHRlbnNpb24sIC4uLmNyZWF0ZUNvbmZpZykgOiBjcmVhdGVUYWlsd2luZE1lcmdlKCgpID0+IG1lcmdlQ29uZmlncyhnZXREZWZhdWx0Q29uZmlnKCksIGNvbmZpZ0V4dGVuc2lvbiksIC4uLmNyZWF0ZUNvbmZpZyk7XG4gIGNvbnN0IGNvbXBhbmlvbkFuY2hvclRhZ05hbWUgPSBcInN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yXCI7XG4gIGZ1bmN0aW9uIGdldEVsZW1lbnRBdFBvaW50KHgyLCB5Mikge1xuICAgIGNvbnN0IGVsZW1lbnRzQmVsb3dBbm5vdGF0aW9uID0gZG9jdW1lbnQuZWxlbWVudHNGcm9tUG9pbnQoeDIsIHkyKTtcbiAgICBjb25zdCByZWZFbGVtZW50ID0gZWxlbWVudHNCZWxvd0Fubm90YXRpb24uZmluZChcbiAgICAgIChlbGVtZW50KSA9PiBlbGVtZW50Lm5vZGVOYW1lICE9PSBcIlNUQUdFV0lTRS1DT01QQU5JT04tQU5DSE9SXCIgJiYgIWVsZW1lbnQuY2xvc2VzdChjb21wYW5pb25BbmNob3JUYWdOYW1lKSAmJiAhZWxlbWVudC5jbG9zZXN0KFwic3ZnXCIpICYmIGlzRWxlbWVudEF0UG9pbnQoZWxlbWVudCwgeDIsIHkyKVxuICAgICkgfHwgZG9jdW1lbnQuYm9keTtcbiAgICByZXR1cm4gcmVmRWxlbWVudDtcbiAgfVxuICBjb25zdCBpc0VsZW1lbnRBdFBvaW50ID0gKGVsZW1lbnQsIGNsaWVudFgsIGNsaWVudFkpID0+IHtcbiAgICBjb25zdCBib3VuZGluZ1JlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGlzSW5Ib3Jpem9udGFsQm91bmRzID0gY2xpZW50WCA+IGJvdW5kaW5nUmVjdC5sZWZ0ICYmIGNsaWVudFggPCBib3VuZGluZ1JlY3QubGVmdCArIGJvdW5kaW5nUmVjdC53aWR0aDtcbiAgICBjb25zdCBpc0luVmVydGljYWxCb3VuZHMgPSBjbGllbnRZID4gYm91bmRpbmdSZWN0LnRvcCAmJiBjbGllbnRZIDwgYm91bmRpbmdSZWN0LnRvcCArIGJvdW5kaW5nUmVjdC5oZWlnaHQ7XG4gICAgcmV0dXJuIGlzSW5Ib3Jpem9udGFsQm91bmRzICYmIGlzSW5WZXJ0aWNhbEJvdW5kcztcbiAgfTtcbiAgdmFyIEhvdGtleUFjdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gKChIb3RrZXlBY3Rpb25zMikgPT4ge1xuICAgIEhvdGtleUFjdGlvbnMyW0hvdGtleUFjdGlvbnMyW1wiRVNDXCJdID0gMF0gPSBcIkVTQ1wiO1xuICAgIEhvdGtleUFjdGlvbnMyW0hvdGtleUFjdGlvbnMyW1wiQ1RSTF9BTFRfQ1wiXSA9IDFdID0gXCJDVFJMX0FMVF9DXCI7XG4gICAgcmV0dXJuIEhvdGtleUFjdGlvbnMyO1xuICB9KShIb3RrZXlBY3Rpb25zIHx8IHt9KTtcbiAgY29uc3QgaG90a2V5QWN0aW9uRGVmaW5pdGlvbnMgPSB7XG4gICAgW1xuICAgICAgMFxuICAgICAgLyogRVNDICovXG4gICAgXToge1xuICAgICAga2V5Q29tYm9EZWZhdWx0OiBcIkVzY1wiLFxuICAgICAga2V5Q29tYm9NYWM6IFwiZXNjXCIsXG4gICAgICBpc0V2ZW50TWF0Y2hpbmc6IChldikgPT4gZXYuY29kZSA9PT0gXCJFc2NhcGVcIlxuICAgIH0sXG4gICAgW1xuICAgICAgMVxuICAgICAgLyogQ1RSTF9BTFRfQyAqL1xuICAgIF06IHtcbiAgICAgIGtleUNvbWJvRGVmYXVsdDogXCJDdHJsK0FsdCtDXCIsXG4gICAgICBrZXlDb21ib01hYzogXCLijJgr4oylK0NcIixcbiAgICAgIGlzRXZlbnRNYXRjaGluZzogKGV2KSA9PiBldi5jb2RlID09PSBcIktleUNcIiAmJiAoZXYuY3RybEtleSB8fCBldi5tZXRhS2V5KSAmJiBldi5hbHRLZXlcbiAgICB9XG4gIH07XG4gIGNvbnN0IGN1c3RvbVR3TWVyZ2UgPSBleHRlbmRUYWlsd2luZE1lcmdlKHtcbiAgICBleHRlbmQ6IHtcbiAgICAgIGNsYXNzR3JvdXBzOiB7XG4gICAgICAgIFwiYmctaW1hZ2VcIjogW1xuICAgICAgICAgIFwiYmctZ3JhZGllbnRcIixcbiAgICAgICAgICBcImJnLWdyYWRpZW50LWxpZ2h0LTFcIixcbiAgICAgICAgICBcImJnLWdyYWRpZW50LWxpZ2h0LTJcIixcbiAgICAgICAgICBcImJnLWdyYWRpZW50LWxpZ2h0LTNcIlxuICAgICAgICBdXG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgZnVuY3Rpb24gY24oLi4uaW5wdXRzKSB7XG4gICAgcmV0dXJuIGN1c3RvbVR3TWVyZ2UoY2xzeChpbnB1dHMpKTtcbiAgfVxuICBmdW5jdGlvbiBIb3RrZXlMaXN0ZW5lcigpIHtcbiAgICBjb25zdCB7IHN0YXJ0UHJvbXB0Q3JlYXRpb24sIHN0b3BQcm9tcHRDcmVhdGlvbiB9ID0gdXNlQ2hhdFN0YXRlKCk7XG4gICAgY29uc3QgaG90S2V5SGFuZGxlck1hcCA9IFQkNShcbiAgICAgICgpID0+ICh7XG4gICAgICAgIFtIb3RrZXlBY3Rpb25zLkNUUkxfQUxUX0NdOiAoKSA9PiB7XG4gICAgICAgICAgc3RhcnRQcm9tcHRDcmVhdGlvbigpO1xuICAgICAgICB9LFxuICAgICAgICBbSG90a2V5QWN0aW9ucy5FU0NdOiAoKSA9PiB7XG4gICAgICAgICAgc3RvcFByb21wdENyZWF0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgW3N0YXJ0UHJvbXB0Q3JlYXRpb24sIHN0b3BQcm9tcHRDcmVhdGlvbl1cbiAgICApO1xuICAgIGNvbnN0IGhvdEtleUxpc3RlbmVyID0gcSQzKFxuICAgICAgKGV2KSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgW2FjdGlvbiwgZGVmaW5pdGlvbl0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICAgICAgaG90a2V5QWN0aW9uRGVmaW5pdGlvbnNcbiAgICAgICAgKSkge1xuICAgICAgICAgIGlmIChkZWZpbml0aW9uLmlzRXZlbnRNYXRjaGluZyhldikpIHtcbiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGhvdEtleUhhbmRsZXJNYXBbYWN0aW9uXSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgW2hvdEtleUhhbmRsZXJNYXBdXG4gICAgKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBob3RLZXlMaXN0ZW5lciwge1xuICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0ICRmMGEwNGNjZDhkYmRkODNiJGV4cG9ydCRlNWM1YTVmOTE3YTU4NzFjID0gdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiID8gUm4udXNlTGF5b3V0RWZmZWN0IDogKCkgPT4ge1xuICB9O1xuICBmdW5jdGlvbiAkOGFlMDVlYWE1YzExNGU5YyRleHBvcnQkN2Y1NGZjMzE4MDUwOGE1MihmbjIpIHtcbiAgICBjb25zdCByZWYgPSBBJDMobnVsbCk7XG4gICAgJGYwYTA0Y2NkOGRiZGQ4M2IkZXhwb3J0JGU1YzVhNWY5MTdhNTg3MWMoKCkgPT4ge1xuICAgICAgcmVmLmN1cnJlbnQgPSBmbjI7XG4gICAgfSwgW1xuICAgICAgZm4yXG4gICAgXSk7XG4gICAgcmV0dXJuIHEkMygoLi4uYXJncykgPT4ge1xuICAgICAgY29uc3QgZjIgPSByZWYuY3VycmVudDtcbiAgICAgIHJldHVybiBmMiA9PT0gbnVsbCB8fCBmMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogZjIoLi4uYXJncyk7XG4gICAgfSwgW10pO1xuICB9XG4gIGNvbnN0ICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRiMjA0YWYxNTgwNDJmYmFjID0gKGVsKSA9PiB7XG4gICAgdmFyIF9lbF9vd25lckRvY3VtZW50O1xuICAgIHJldHVybiAoX2VsX293bmVyRG9jdW1lbnQgPSBlbCA9PT0gbnVsbCB8fCBlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWwub3duZXJEb2N1bWVudCkgIT09IG51bGwgJiYgX2VsX293bmVyRG9jdW1lbnQgIT09IHZvaWQgMCA/IF9lbF9vd25lckRvY3VtZW50IDogZG9jdW1lbnQ7XG4gIH07XG4gIGNvbnN0ICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRmMjFhMWZmYWUyNjAxNDVhID0gKGVsKSA9PiB7XG4gICAgaWYgKGVsICYmIFwid2luZG93XCIgaW4gZWwgJiYgZWwud2luZG93ID09PSBlbCkgcmV0dXJuIGVsO1xuICAgIGNvbnN0IGRvYyA9ICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRiMjA0YWYxNTgwNDJmYmFjKGVsKTtcbiAgICByZXR1cm4gZG9jLmRlZmF1bHRWaWV3IHx8IHdpbmRvdztcbiAgfTtcbiAgZnVuY3Rpb24gJDQzMWZiZDg2Y2E3ZGMyMTYkdmFyJGlzTm9kZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgXCJub2RlVHlwZVwiIGluIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5ub2RlVHlwZSA9PT0gXCJudW1iZXJcIjtcbiAgfVxuICBmdW5jdGlvbiAkNDMxZmJkODZjYTdkYzIxNiRleHBvcnQkYWY1MWYwZjA2YzBmMzI4YShub2RlKSB7XG4gICAgcmV0dXJuICQ0MzFmYmQ4NmNhN2RjMjE2JHZhciRpc05vZGUobm9kZSkgJiYgbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFICYmIFwiaG9zdFwiIGluIG5vZGU7XG4gIH1cbiAgbGV0ICRmNGUyZGY2YmQxNWY4NTY5JHZhciRfc2hhZG93RE9NID0gZmFsc2U7XG4gIGZ1bmN0aW9uICRmNGUyZGY2YmQxNWY4NTY5JGV4cG9ydCQ5ODY1OGU4YzU5MTI1ZTZhKCkge1xuICAgIHJldHVybiAkZjRlMmRmNmJkMTVmODU2OSR2YXIkX3NoYWRvd0RPTTtcbiAgfVxuICBmdW5jdGlvbiAkZDRlZTEwZGUzMDZmMjUxMCRleHBvcnQkNDI4MmY3MDc5ODA2NGZlMChub2RlLCBvdGhlck5vZGUpIHtcbiAgICBpZiAoISRmNGUyZGY2YmQxNWY4NTY5JGV4cG9ydCQ5ODY1OGU4YzU5MTI1ZTZhKCkpIHJldHVybiBvdGhlck5vZGUgJiYgbm9kZSA/IG5vZGUuY29udGFpbnMob3RoZXJOb2RlKSA6IGZhbHNlO1xuICAgIGlmICghbm9kZSB8fCAhb3RoZXJOb2RlKSByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGN1cnJlbnROb2RlID0gb3RoZXJOb2RlO1xuICAgIHdoaWxlIChjdXJyZW50Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgaWYgKGN1cnJlbnROb2RlID09PSBub2RlKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmIChjdXJyZW50Tm9kZS50YWdOYW1lID09PSBcIlNMT1RcIiAmJiBjdXJyZW50Tm9kZS5hc3NpZ25lZFNsb3QpXG4gICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUuYXNzaWduZWRTbG90LnBhcmVudE5vZGU7XG4gICAgICBlbHNlIGlmICgkNDMxZmJkODZjYTdkYzIxNiRleHBvcnQkYWY1MWYwZjA2YzBmMzI4YShjdXJyZW50Tm9kZSkpXG4gICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUuaG9zdDtcbiAgICAgIGVsc2UgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgJGQ0ZWUxMGRlMzA2ZjI1MTAkZXhwb3J0JGNkNGU1NTczZmJlMmI1NzYgPSAoZG9jID0gZG9jdW1lbnQpID0+IHtcbiAgICB2YXIgX2FjdGl2ZUVsZW1lbnRfc2hhZG93Um9vdDtcbiAgICBpZiAoISRmNGUyZGY2YmQxNWY4NTY5JGV4cG9ydCQ5ODY1OGU4YzU5MTI1ZTZhKCkpIHJldHVybiBkb2MuYWN0aXZlRWxlbWVudDtcbiAgICBsZXQgYWN0aXZlRWxlbWVudCA9IGRvYy5hY3RpdmVFbGVtZW50O1xuICAgIHdoaWxlIChhY3RpdmVFbGVtZW50ICYmIFwic2hhZG93Um9vdFwiIGluIGFjdGl2ZUVsZW1lbnQgJiYgKChfYWN0aXZlRWxlbWVudF9zaGFkb3dSb290ID0gYWN0aXZlRWxlbWVudC5zaGFkb3dSb290KSA9PT0gbnVsbCB8fCBfYWN0aXZlRWxlbWVudF9zaGFkb3dSb290ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYWN0aXZlRWxlbWVudF9zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQpKSBhY3RpdmVFbGVtZW50ID0gYWN0aXZlRWxlbWVudC5zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQ7XG4gICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnQ7XG4gIH07XG4gIGZ1bmN0aW9uICRkNGVlMTBkZTMwNmYyNTEwJGV4cG9ydCRlNThmMDI5ZjBmYmZkYjI5KGV2ZW50KSB7XG4gICAgaWYgKCRmNGUyZGY2YmQxNWY4NTY5JGV4cG9ydCQ5ODY1OGU4YzU5MTI1ZTZhKCkgJiYgZXZlbnQudGFyZ2V0LnNoYWRvd1Jvb3QpIHtcbiAgICAgIGlmIChldmVudC5jb21wb3NlZFBhdGgpIHJldHVybiBldmVudC5jb21wb3NlZFBhdGgoKVswXTtcbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50LnRhcmdldDtcbiAgfVxuICBmdW5jdGlvbiAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkdGVzdFVzZXJBZ2VudChyZSkge1xuICAgIHZhciBfd2luZG93X25hdmlnYXRvcl91c2VyQWdlbnREYXRhO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8IHdpbmRvdy5uYXZpZ2F0b3IgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiAoKF93aW5kb3dfbmF2aWdhdG9yX3VzZXJBZ2VudERhdGEgPSB3aW5kb3cubmF2aWdhdG9yW1widXNlckFnZW50RGF0YVwiXSkgPT09IG51bGwgfHwgX3dpbmRvd19uYXZpZ2F0b3JfdXNlckFnZW50RGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3dpbmRvd19uYXZpZ2F0b3JfdXNlckFnZW50RGF0YS5icmFuZHMuc29tZSgoYnJhbmQpID0+IHJlLnRlc3QoYnJhbmQuYnJhbmQpKSkgfHwgcmUudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIH1cbiAgZnVuY3Rpb24gJGM4NzMxMTQyNGVhMzBhMDUkdmFyJHRlc3RQbGF0Zm9ybShyZSkge1xuICAgIHZhciBfd2luZG93X25hdmlnYXRvcl91c2VyQWdlbnREYXRhO1xuICAgIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5uYXZpZ2F0b3IgIT0gbnVsbCA/IHJlLnRlc3QoKChfd2luZG93X25hdmlnYXRvcl91c2VyQWdlbnREYXRhID0gd2luZG93Lm5hdmlnYXRvcltcInVzZXJBZ2VudERhdGFcIl0pID09PSBudWxsIHx8IF93aW5kb3dfbmF2aWdhdG9yX3VzZXJBZ2VudERhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93aW5kb3dfbmF2aWdhdG9yX3VzZXJBZ2VudERhdGEucGxhdGZvcm0pIHx8IHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0pIDogZmFsc2U7XG4gIH1cbiAgZnVuY3Rpb24gJGM4NzMxMTQyNGVhMzBhMDUkdmFyJGNhY2hlZChmbjIpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwidGVzdFwiKSByZXR1cm4gZm4yO1xuICAgIGxldCByZXMgPSBudWxsO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAocmVzID09IG51bGwpIHJlcyA9IGZuMigpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICB9XG4gIGNvbnN0ICRjODczMTE0MjRlYTMwYTA1JGV4cG9ydCQ5YWMxMDBlNDA2MTNlYTEwID0gJGM4NzMxMTQyNGVhMzBhMDUkdmFyJGNhY2hlZChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJGM4NzMxMTQyNGVhMzBhMDUkdmFyJHRlc3RQbGF0Zm9ybSgvXk1hYy9pKTtcbiAgfSk7XG4gIGNvbnN0ICRjODczMTE0MjRlYTMwYTA1JGV4cG9ydCQxODZjNjk2NGNhMTdkOTkgPSAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkY2FjaGVkKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkdGVzdFBsYXRmb3JtKC9eaVBob25lL2kpO1xuICB9KTtcbiAgY29uc3QgJGM4NzMxMTQyNGVhMzBhMDUkZXhwb3J0JDdiZWYwNDljZTkyZTQyMjQgPSAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkY2FjaGVkKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkdGVzdFBsYXRmb3JtKC9eaVBhZC9pKSB8fCAvLyBpUGFkT1MgMTMgbGllcyBhbmQgc2F5cyBpdCdzIGEgTWFjLCBidXQgd2UgY2FuIGRpc3Rpbmd1aXNoIGJ5IGRldGVjdGluZyB0b3VjaCBzdXBwb3J0LlxuICAgICRjODczMTE0MjRlYTMwYTA1JGV4cG9ydCQ5YWMxMDBlNDA2MTNlYTEwKCkgJiYgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMTtcbiAgfSk7XG4gIGNvbnN0ICRjODczMTE0MjRlYTMwYTA1JGV4cG9ydCRmZWRiMzY5Y2I3MDIwN2YxID0gJGM4NzMxMTQyNGVhMzBhMDUkdmFyJGNhY2hlZChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJGM4NzMxMTQyNGVhMzBhMDUkZXhwb3J0JDE4NmM2OTY0Y2ExN2Q5OSgpIHx8ICRjODczMTE0MjRlYTMwYTA1JGV4cG9ydCQ3YmVmMDQ5Y2U5MmU0MjI0KCk7XG4gIH0pO1xuICAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkY2FjaGVkKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkYzg3MzExNDI0ZWEzMGEwNSRleHBvcnQkOWFjMTAwZTQwNjEzZWExMCgpIHx8ICRjODczMTE0MjRlYTMwYTA1JGV4cG9ydCRmZWRiMzY5Y2I3MDIwN2YxKCk7XG4gIH0pO1xuICAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkY2FjaGVkKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkYzg3MzExNDI0ZWEzMGEwNSR2YXIkdGVzdFVzZXJBZ2VudCgvQXBwbGVXZWJLaXQvaSkgJiYgISRjODczMTE0MjRlYTMwYTA1JGV4cG9ydCQ2NDQ2YTE4NmQwOWUzNzllKCk7XG4gIH0pO1xuICBjb25zdCAkYzg3MzExNDI0ZWEzMGEwNSRleHBvcnQkNjQ0NmExODZkMDllMzc5ZSA9ICRjODczMTE0MjRlYTMwYTA1JHZhciRjYWNoZWQoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICRjODczMTE0MjRlYTMwYTA1JHZhciR0ZXN0VXNlckFnZW50KC9DaHJvbWUvaSk7XG4gIH0pO1xuICBjb25zdCAkYzg3MzExNDI0ZWEzMGEwNSRleHBvcnQkYTExYjAwNTk5MDBjZWVjOCA9ICRjODczMTE0MjRlYTMwYTA1JHZhciRjYWNoZWQoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICRjODczMTE0MjRlYTMwYTA1JHZhciR0ZXN0VXNlckFnZW50KC9BbmRyb2lkL2kpO1xuICB9KTtcbiAgJGM4NzMxMTQyNGVhMzBhMDUkdmFyJGNhY2hlZChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJGM4NzMxMTQyNGVhMzBhMDUkdmFyJHRlc3RVc2VyQWdlbnQoL0ZpcmVmb3gvaSk7XG4gIH0pO1xuICBmdW5jdGlvbiAkMDNkZWIyM2ZmMTQ5MjBjNCRleHBvcnQkNGVhZjA0ZTU0YWE4ZWVkNigpIHtcbiAgICBsZXQgZ2xvYmFsTGlzdGVuZXJzID0gQSQzKC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICAgIGxldCBhZGRHbG9iYWxMaXN0ZW5lciA9IHEkMygoZXZlbnRUYXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSA9PiB7XG4gICAgICBsZXQgZm4yID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5vbmNlKSA/ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGdsb2JhbExpc3RlbmVycy5jdXJyZW50LmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgICAgIGxpc3RlbmVyKC4uLmFyZ3MpO1xuICAgICAgfSA6IGxpc3RlbmVyO1xuICAgICAgZ2xvYmFsTGlzdGVuZXJzLmN1cnJlbnQuc2V0KGxpc3RlbmVyLCB7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIGV2ZW50VGFyZ2V0LFxuICAgICAgICBmbjogZm4yLFxuICAgICAgICBvcHRpb25zXG4gICAgICB9KTtcbiAgICAgIGV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZm4yLCBvcHRpb25zKTtcbiAgICB9LCBbXSk7XG4gICAgbGV0IHJlbW92ZUdsb2JhbExpc3RlbmVyID0gcSQzKChldmVudFRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpID0+IHtcbiAgICAgIHZhciBfZ2xvYmFsTGlzdGVuZXJzX2N1cnJlbnRfZ2V0O1xuICAgICAgbGV0IGZuMiA9ICgoX2dsb2JhbExpc3RlbmVyc19jdXJyZW50X2dldCA9IGdsb2JhbExpc3RlbmVycy5jdXJyZW50LmdldChsaXN0ZW5lcikpID09PSBudWxsIHx8IF9nbG9iYWxMaXN0ZW5lcnNfY3VycmVudF9nZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nbG9iYWxMaXN0ZW5lcnNfY3VycmVudF9nZXQuZm4pIHx8IGxpc3RlbmVyO1xuICAgICAgZXZlbnRUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmbjIsIG9wdGlvbnMpO1xuICAgICAgZ2xvYmFsTGlzdGVuZXJzLmN1cnJlbnQuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICB9LCBbXSk7XG4gICAgbGV0IHJlbW92ZUFsbEdsb2JhbExpc3RlbmVycyA9IHEkMygoKSA9PiB7XG4gICAgICBnbG9iYWxMaXN0ZW5lcnMuY3VycmVudC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgIHJlbW92ZUdsb2JhbExpc3RlbmVyKHZhbHVlLmV2ZW50VGFyZ2V0LCB2YWx1ZS50eXBlLCBrZXksIHZhbHVlLm9wdGlvbnMpO1xuICAgICAgfSk7XG4gICAgfSwgW1xuICAgICAgcmVtb3ZlR2xvYmFsTGlzdGVuZXJcbiAgICBdKTtcbiAgICB5JDYoKCkgPT4ge1xuICAgICAgcmV0dXJuIHJlbW92ZUFsbEdsb2JhbExpc3RlbmVycztcbiAgICB9LCBbXG4gICAgICByZW1vdmVBbGxHbG9iYWxMaXN0ZW5lcnNcbiAgICBdKTtcbiAgICByZXR1cm4ge1xuICAgICAgYWRkR2xvYmFsTGlzdGVuZXIsXG4gICAgICByZW1vdmVHbG9iYWxMaXN0ZW5lcixcbiAgICAgIHJlbW92ZUFsbEdsb2JhbExpc3RlbmVyc1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gJDZhN2RiODU0MzI0NDhmN2YkZXhwb3J0JDYwMjc4ODcxNDU3NjIyZGUoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQubW96SW5wdXRTb3VyY2UgPT09IDAgJiYgZXZlbnQuaXNUcnVzdGVkKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoJGM4NzMxMTQyNGVhMzBhMDUkZXhwb3J0JGExMWIwMDU5OTAwY2VlYzgoKSAmJiBldmVudC5wb2ludGVyVHlwZSkgcmV0dXJuIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBldmVudC5idXR0b25zID09PSAxO1xuICAgIHJldHVybiBldmVudC5kZXRhaWwgPT09IDAgJiYgIWV2ZW50LnBvaW50ZXJUeXBlO1xuICB9XG4gIGZ1bmN0aW9uICQ4YTljYjI3OWRjODdlMTMwJGV4cG9ydCQ1MjViYzQ5MjFkNTZkNGEobmF0aXZlRXZlbnQpIHtcbiAgICBsZXQgZXZlbnQgPSBuYXRpdmVFdmVudDtcbiAgICBldmVudC5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuICAgIGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCA9ICgpID0+IGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSAoKSA9PiBldmVudC5jYW5jZWxCdWJibGU7XG4gICAgZXZlbnQucGVyc2lzdCA9ICgpID0+IHtcbiAgICB9O1xuICAgIHJldHVybiBldmVudDtcbiAgfVxuICBmdW5jdGlvbiAkOGE5Y2IyNzlkYzg3ZTEzMCRleHBvcnQkYzJiN2FiZTVkNjFlYzY5NihldmVudCwgdGFyZ2V0KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV2ZW50LCBcInRhcmdldFwiLCB7XG4gICAgICB2YWx1ZTogdGFyZ2V0XG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV2ZW50LCBcImN1cnJlbnRUYXJnZXRcIiwge1xuICAgICAgdmFsdWU6IHRhcmdldFxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uICQ4YTljYjI3OWRjODdlMTMwJGV4cG9ydCQ3MTVjNjgyZDA5ZDYzOWNjKG9uQmx1cikge1xuICAgIGxldCBzdGF0ZVJlZiA9IEEkMyh7XG4gICAgICBpc0ZvY3VzZWQ6IGZhbHNlLFxuICAgICAgb2JzZXJ2ZXI6IG51bGxcbiAgICB9KTtcbiAgICAkZjBhMDRjY2Q4ZGJkZDgzYiRleHBvcnQkZTVjNWE1ZjkxN2E1ODcxYygoKSA9PiB7XG4gICAgICBjb25zdCBzdGF0ZSA9IHN0YXRlUmVmLmN1cnJlbnQ7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoc3RhdGUub2JzZXJ2ZXIpIHtcbiAgICAgICAgICBzdGF0ZS5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgc3RhdGUub2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICBsZXQgZGlzcGF0Y2hCbHVyID0gJDhhZTA1ZWFhNWMxMTRlOWMkZXhwb3J0JDdmNTRmYzMxODA1MDhhNTIoKGUyKSA9PiB7XG4gICAgICBvbkJsdXIgPT09IG51bGwgfHwgb25CbHVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkJsdXIoZTIpO1xuICAgIH0pO1xuICAgIHJldHVybiBxJDMoKGUyKSA9PiB7XG4gICAgICBpZiAoZTIudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEJ1dHRvbkVsZW1lbnQgfHwgZTIudGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCB8fCBlMi50YXJnZXQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50IHx8IGUyLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50KSB7XG4gICAgICAgIHN0YXRlUmVmLmN1cnJlbnQuaXNGb2N1c2VkID0gdHJ1ZTtcbiAgICAgICAgbGV0IHRhcmdldCA9IGUyLnRhcmdldDtcbiAgICAgICAgbGV0IG9uQmx1ckhhbmRsZXIgPSAoZTMpID0+IHtcbiAgICAgICAgICBzdGF0ZVJlZi5jdXJyZW50LmlzRm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICAgIGlmICh0YXJnZXQuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGxldCBldmVudCA9ICQ4YTljYjI3OWRjODdlMTMwJGV4cG9ydCQ1MjViYzQ5MjFkNTZkNGEoZTMpO1xuICAgICAgICAgICAgZGlzcGF0Y2hCbHVyKGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN0YXRlUmVmLmN1cnJlbnQub2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHN0YXRlUmVmLmN1cnJlbnQub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgc3RhdGVSZWYuY3VycmVudC5vYnNlcnZlciA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIG9uQmx1ckhhbmRsZXIsIHtcbiAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBzdGF0ZVJlZi5jdXJyZW50Lm9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICAgIGlmIChzdGF0ZVJlZi5jdXJyZW50LmlzRm9jdXNlZCAmJiB0YXJnZXQuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHZhciBfc3RhdGVSZWZfY3VycmVudF9vYnNlcnZlcjtcbiAgICAgICAgICAgIChfc3RhdGVSZWZfY3VycmVudF9vYnNlcnZlciA9IHN0YXRlUmVmLmN1cnJlbnQub2JzZXJ2ZXIpID09PSBudWxsIHx8IF9zdGF0ZVJlZl9jdXJyZW50X29ic2VydmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc3RhdGVSZWZfY3VycmVudF9vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBsZXQgcmVsYXRlZFRhcmdldEVsID0gdGFyZ2V0ID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID8gbnVsbCA6IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgRm9jdXNFdmVudChcImJsdXJcIiwge1xuICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0RWxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBGb2N1c0V2ZW50KFwiZm9jdXNvdXRcIiwge1xuICAgICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0RWxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzdGF0ZVJlZi5jdXJyZW50Lm9ic2VydmVyLm9ic2VydmUodGFyZ2V0LCB7XG4gICAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgICBhdHRyaWJ1dGVGaWx0ZXI6IFtcbiAgICAgICAgICAgIFwiZGlzYWJsZWRcIlxuICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwgW1xuICAgICAgZGlzcGF0Y2hCbHVyXG4gICAgXSk7XG4gIH1cbiAgbGV0ICQ4YTljYjI3OWRjODdlMTMwJGV4cG9ydCRmZGE3ZGE3M2FiNWQ0YzQ4ID0gZmFsc2U7XG4gIGxldCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkY3VycmVudE1vZGFsaXR5ID0gbnVsbDtcbiAgbGV0ICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRjaGFuZ2VIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGxldCAkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkZDkwMjQzYjU4ZGFlY2RhNyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGxldCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFzRXZlbnRCZWZvcmVGb2N1cyA9IGZhbHNlO1xuICBsZXQgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhc0JsdXJyZWRXaW5kb3dSZWNlbnRseSA9IGZhbHNlO1xuICBjb25zdCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkRk9DVVNfVklTSUJMRV9JTlBVVF9LRVlTID0ge1xuICAgIFRhYjogdHJ1ZSxcbiAgICBFc2NhcGU6IHRydWVcbiAgfTtcbiAgZnVuY3Rpb24gJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJHRyaWdnZXJDaGFuZ2VIYW5kbGVycyhtb2RhbGl0eSwgZTIpIHtcbiAgICBmb3IgKGxldCBoYW5kbGVyIG9mICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRjaGFuZ2VIYW5kbGVycykgaGFuZGxlcihtb2RhbGl0eSwgZTIpO1xuICB9XG4gIGZ1bmN0aW9uICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRpc1ZhbGlkS2V5KGUyKSB7XG4gICAgcmV0dXJuICEoZTIubWV0YUtleSB8fCAhJGM4NzMxMTQyNGVhMzBhMDUkZXhwb3J0JDlhYzEwMGU0MDYxM2VhMTAoKSAmJiBlMi5hbHRLZXkgfHwgZTIuY3RybEtleSB8fCBlMi5rZXkgPT09IFwiQ29udHJvbFwiIHx8IGUyLmtleSA9PT0gXCJTaGlmdFwiIHx8IGUyLmtleSA9PT0gXCJNZXRhXCIpO1xuICB9XG4gIGZ1bmN0aW9uICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVLZXlib2FyZEV2ZW50KGUyKSB7XG4gICAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhc0V2ZW50QmVmb3JlRm9jdXMgPSB0cnVlO1xuICAgIGlmICgkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaXNWYWxpZEtleShlMikpIHtcbiAgICAgICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRjdXJyZW50TW9kYWxpdHkgPSBcImtleWJvYXJkXCI7XG4gICAgICAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkdHJpZ2dlckNoYW5nZUhhbmRsZXJzKFwia2V5Ym9hcmRcIiwgZTIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlUG9pbnRlckV2ZW50KGUyKSB7XG4gICAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGN1cnJlbnRNb2RhbGl0eSA9IFwicG9pbnRlclwiO1xuICAgIGlmIChlMi50eXBlID09PSBcIm1vdXNlZG93blwiIHx8IGUyLnR5cGUgPT09IFwicG9pbnRlcmRvd25cIikge1xuICAgICAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhc0V2ZW50QmVmb3JlRm9jdXMgPSB0cnVlO1xuICAgICAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJHRyaWdnZXJDaGFuZ2VIYW5kbGVycyhcInBvaW50ZXJcIiwgZTIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlQ2xpY2tFdmVudChlMikge1xuICAgIGlmICgkNmE3ZGI4NTQzMjQ0OGY3ZiRleHBvcnQkNjAyNzg4NzE0NTc2MjJkZShlMikpIHtcbiAgICAgICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYXNFdmVudEJlZm9yZUZvY3VzID0gdHJ1ZTtcbiAgICAgICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRjdXJyZW50TW9kYWxpdHkgPSBcInZpcnR1YWxcIjtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZUZvY3VzRXZlbnQoZTIpIHtcbiAgICBpZiAoZTIudGFyZ2V0ID09PSB3aW5kb3cgfHwgZTIudGFyZ2V0ID09PSBkb2N1bWVudCB8fCAkOGE5Y2IyNzlkYzg3ZTEzMCRleHBvcnQkZmRhN2RhNzNhYjVkNGM0OCB8fCAhZTIuaXNUcnVzdGVkKSByZXR1cm47XG4gICAgaWYgKCEkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFzRXZlbnRCZWZvcmVGb2N1cyAmJiAhJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhc0JsdXJyZWRXaW5kb3dSZWNlbnRseSkge1xuICAgICAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGN1cnJlbnRNb2RhbGl0eSA9IFwidmlydHVhbFwiO1xuICAgICAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJHRyaWdnZXJDaGFuZ2VIYW5kbGVycyhcInZpcnR1YWxcIiwgZTIpO1xuICAgIH1cbiAgICAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFzRXZlbnRCZWZvcmVGb2N1cyA9IGZhbHNlO1xuICAgICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYXNCbHVycmVkV2luZG93UmVjZW50bHkgPSBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlV2luZG93Qmx1cigpIHtcbiAgICAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFzRXZlbnRCZWZvcmVGb2N1cyA9IGZhbHNlO1xuICAgICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYXNCbHVycmVkV2luZG93UmVjZW50bHkgPSB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRzZXR1cEdsb2JhbEZvY3VzRXZlbnRzKGVsZW1lbnQpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fCAkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkZDkwMjQzYjU4ZGFlY2RhNy5nZXQoJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGYyMWExZmZhZTI2MDE0NWEoZWxlbWVudCkpKSByZXR1cm47XG4gICAgY29uc3Qgd2luZG93T2JqZWN0ID0gJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGYyMWExZmZhZTI2MDE0NWEoZWxlbWVudCk7XG4gICAgY29uc3QgZG9jdW1lbnRPYmplY3QgPSAkNDMxZmJkODZjYTdkYzIxNiRleHBvcnQkYjIwNGFmMTU4MDQyZmJhYyhlbGVtZW50KTtcbiAgICBsZXQgZm9jdXMgPSB3aW5kb3dPYmplY3QuSFRNTEVsZW1lbnQucHJvdG90eXBlLmZvY3VzO1xuICAgIHdpbmRvd09iamVjdC5IVE1MRWxlbWVudC5wcm90b3R5cGUuZm9jdXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYXNFdmVudEJlZm9yZUZvY3VzID0gdHJ1ZTtcbiAgICAgIGZvY3VzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICBkb2N1bWVudE9iamVjdC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlS2V5Ym9hcmRFdmVudCwgdHJ1ZSk7XG4gICAgZG9jdW1lbnRPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVLZXlib2FyZEV2ZW50LCB0cnVlKTtcbiAgICBkb2N1bWVudE9iamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZUNsaWNrRXZlbnQsIHRydWUpO1xuICAgIHdpbmRvd09iamVjdC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZUZvY3VzRXZlbnQsIHRydWUpO1xuICAgIHdpbmRvd09iamVjdC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlV2luZG93Qmx1ciwgZmFsc2UpO1xuICAgIGlmICh0eXBlb2YgUG9pbnRlckV2ZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBkb2N1bWVudE9iamVjdC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZVBvaW50ZXJFdmVudCwgdHJ1ZSk7XG4gICAgICBkb2N1bWVudE9iamVjdC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZVBvaW50ZXJFdmVudCwgdHJ1ZSk7XG4gICAgICBkb2N1bWVudE9iamVjdC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVQb2ludGVyRXZlbnQsIHRydWUpO1xuICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwidGVzdFwiKSB7XG4gICAgICBkb2N1bWVudE9iamVjdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVQb2ludGVyRXZlbnQsIHRydWUpO1xuICAgICAgZG9jdW1lbnRPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlUG9pbnRlckV2ZW50LCB0cnVlKTtcbiAgICAgIGRvY3VtZW50T2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVQb2ludGVyRXZlbnQsIHRydWUpO1xuICAgIH1cbiAgICB3aW5kb3dPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCAoKSA9PiB7XG4gICAgICAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkdGVhckRvd25XaW5kb3dGb2N1c1RyYWNraW5nKGVsZW1lbnQpO1xuICAgIH0sIHtcbiAgICAgIG9uY2U6IHRydWVcbiAgICB9KTtcbiAgICAkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkZDkwMjQzYjU4ZGFlY2RhNy5zZXQod2luZG93T2JqZWN0LCB7XG4gICAgICBmb2N1c1xuICAgIH0pO1xuICB9XG4gIGNvbnN0ICQ1MDdmYWJlMTBlNzFjNmZiJHZhciR0ZWFyRG93bldpbmRvd0ZvY3VzVHJhY2tpbmcgPSAoZWxlbWVudCwgbG9hZExpc3RlbmVyKSA9PiB7XG4gICAgY29uc3Qgd2luZG93T2JqZWN0ID0gJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGYyMWExZmZhZTI2MDE0NWEoZWxlbWVudCk7XG4gICAgY29uc3QgZG9jdW1lbnRPYmplY3QgPSAkNDMxZmJkODZjYTdkYzIxNiRleHBvcnQkYjIwNGFmMTU4MDQyZmJhYyhlbGVtZW50KTtcbiAgICBpZiAobG9hZExpc3RlbmVyKSBkb2N1bWVudE9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBsb2FkTGlzdGVuZXIpO1xuICAgIGlmICghJDUwN2ZhYmUxMGU3MWM2ZmIkZXhwb3J0JGQ5MDI0M2I1OGRhZWNkYTcuaGFzKHdpbmRvd09iamVjdCkpIHJldHVybjtcbiAgICB3aW5kb3dPYmplY3QuSFRNTEVsZW1lbnQucHJvdG90eXBlLmZvY3VzID0gJDUwN2ZhYmUxMGU3MWM2ZmIkZXhwb3J0JGQ5MDI0M2I1OGRhZWNkYTcuZ2V0KHdpbmRvd09iamVjdCkuZm9jdXM7XG4gICAgZG9jdW1lbnRPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZUtleWJvYXJkRXZlbnQsIHRydWUpO1xuICAgIGRvY3VtZW50T2JqZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlS2V5Ym9hcmRFdmVudCwgdHJ1ZSk7XG4gICAgZG9jdW1lbnRPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVDbGlja0V2ZW50LCB0cnVlKTtcbiAgICB3aW5kb3dPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVGb2N1c0V2ZW50LCB0cnVlKTtcbiAgICB3aW5kb3dPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZVdpbmRvd0JsdXIsIGZhbHNlKTtcbiAgICBpZiAodHlwZW9mIFBvaW50ZXJFdmVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgZG9jdW1lbnRPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVQb2ludGVyRXZlbnQsIHRydWUpO1xuICAgICAgZG9jdW1lbnRPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRoYW5kbGVQb2ludGVyRXZlbnQsIHRydWUpO1xuICAgICAgZG9jdW1lbnRPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlUG9pbnRlckV2ZW50LCB0cnVlKTtcbiAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInRlc3RcIikge1xuICAgICAgZG9jdW1lbnRPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlUG9pbnRlckV2ZW50LCB0cnVlKTtcbiAgICAgIGRvY3VtZW50T2JqZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGhhbmRsZVBvaW50ZXJFdmVudCwgdHJ1ZSk7XG4gICAgICBkb2N1bWVudE9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkaGFuZGxlUG9pbnRlckV2ZW50LCB0cnVlKTtcbiAgICB9XG4gICAgJDUwN2ZhYmUxMGU3MWM2ZmIkZXhwb3J0JGQ5MDI0M2I1OGRhZWNkYTcuZGVsZXRlKHdpbmRvd09iamVjdCk7XG4gIH07XG4gIGZ1bmN0aW9uICQ1MDdmYWJlMTBlNzFjNmZiJGV4cG9ydCQyZjE4ODgxMTJmNTU4YTdkKGVsZW1lbnQpIHtcbiAgICBjb25zdCBkb2N1bWVudE9iamVjdCA9ICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRiMjA0YWYxNTgwNDJmYmFjKGVsZW1lbnQpO1xuICAgIGxldCBsb2FkTGlzdGVuZXI7XG4gICAgaWYgKGRvY3VtZW50T2JqZWN0LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiKSAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkc2V0dXBHbG9iYWxGb2N1c0V2ZW50cyhlbGVtZW50KTtcbiAgICBlbHNlIHtcbiAgICAgIGxvYWRMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJHNldHVwR2xvYmFsRm9jdXNFdmVudHMoZWxlbWVudCk7XG4gICAgICB9O1xuICAgICAgZG9jdW1lbnRPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgbG9hZExpc3RlbmVyKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+ICQ1MDdmYWJlMTBlNzFjNmZiJHZhciR0ZWFyRG93bldpbmRvd0ZvY3VzVHJhY2tpbmcoZWxlbWVudCwgbG9hZExpc3RlbmVyKTtcbiAgfVxuICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSAkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkMmYxODg4MTEyZjU1OGE3ZCgpO1xuICBmdW5jdGlvbiAkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkYjliM2RmZGRhYjE3ZGIyNygpIHtcbiAgICByZXR1cm4gJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGN1cnJlbnRNb2RhbGl0eSAhPT0gXCJwb2ludGVyXCI7XG4gIH1cbiAgY29uc3QgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJG5vblRleHRJbnB1dFR5cGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW1xuICAgIFwiY2hlY2tib3hcIixcbiAgICBcInJhZGlvXCIsXG4gICAgXCJyYW5nZVwiLFxuICAgIFwiY29sb3JcIixcbiAgICBcImZpbGVcIixcbiAgICBcImltYWdlXCIsXG4gICAgXCJidXR0b25cIixcbiAgICBcInN1Ym1pdFwiLFxuICAgIFwicmVzZXRcIlxuICBdKTtcbiAgZnVuY3Rpb24gJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGlzS2V5Ym9hcmRGb2N1c0V2ZW50KGlzVGV4dElucHV0LCBtb2RhbGl0eSwgZTIpIHtcbiAgICBsZXQgZG9jdW1lbnQxID0gJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGIyMDRhZjE1ODA0MmZiYWMoZTIgPT09IG51bGwgfHwgZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGUyLnRhcmdldCk7XG4gICAgY29uc3QgSUhUTUxJbnB1dEVsZW1lbnQgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGYyMWExZmZhZTI2MDE0NWEoZTIgPT09IG51bGwgfHwgZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGUyLnRhcmdldCkuSFRNTElucHV0RWxlbWVudCA6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgY29uc3QgSUhUTUxUZXh0QXJlYUVsZW1lbnQgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGYyMWExZmZhZTI2MDE0NWEoZTIgPT09IG51bGwgfHwgZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGUyLnRhcmdldCkuSFRNTFRleHRBcmVhRWxlbWVudCA6IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gICAgY29uc3QgSUhUTUxFbGVtZW50ID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/ICQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRmMjFhMWZmYWUyNjAxNDVhKGUyID09PSBudWxsIHx8IGUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlMi50YXJnZXQpLkhUTUxFbGVtZW50IDogSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgSUtleWJvYXJkRXZlbnQgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGYyMWExZmZhZTI2MDE0NWEoZTIgPT09IG51bGwgfHwgZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGUyLnRhcmdldCkuS2V5Ym9hcmRFdmVudCA6IEtleWJvYXJkRXZlbnQ7XG4gICAgaXNUZXh0SW5wdXQgPSBpc1RleHRJbnB1dCB8fCBkb2N1bWVudDEuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIElIVE1MSW5wdXRFbGVtZW50ICYmICEkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkbm9uVGV4dElucHV0VHlwZXMuaGFzKGRvY3VtZW50MS5hY3RpdmVFbGVtZW50LnR5cGUpIHx8IGRvY3VtZW50MS5hY3RpdmVFbGVtZW50IGluc3RhbmNlb2YgSUhUTUxUZXh0QXJlYUVsZW1lbnQgfHwgZG9jdW1lbnQxLmFjdGl2ZUVsZW1lbnQgaW5zdGFuY2VvZiBJSFRNTEVsZW1lbnQgJiYgZG9jdW1lbnQxLmFjdGl2ZUVsZW1lbnQuaXNDb250ZW50RWRpdGFibGU7XG4gICAgcmV0dXJuICEoaXNUZXh0SW5wdXQgJiYgbW9kYWxpdHkgPT09IFwia2V5Ym9hcmRcIiAmJiBlMiBpbnN0YW5jZW9mIElLZXlib2FyZEV2ZW50ICYmICEkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkRk9DVVNfVklTSUJMRV9JTlBVVF9LRVlTW2UyLmtleV0pO1xuICB9XG4gIGZ1bmN0aW9uICQ1MDdmYWJlMTBlNzFjNmZiJGV4cG9ydCRlYzcxYjRiODNhYzA4ZWMzKGZuMiwgZGVwcywgb3B0cykge1xuICAgICQ1MDdmYWJlMTBlNzFjNmZiJHZhciRzZXR1cEdsb2JhbEZvY3VzRXZlbnRzKCk7XG4gICAgeSQ2KCgpID0+IHtcbiAgICAgIGxldCBoYW5kbGVyID0gKG1vZGFsaXR5LCBlMikgPT4ge1xuICAgICAgICBpZiAoISQ1MDdmYWJlMTBlNzFjNmZiJHZhciRpc0tleWJvYXJkRm9jdXNFdmVudCghIShvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMuaXNUZXh0SW5wdXQpLCBtb2RhbGl0eSwgZTIpKSByZXR1cm47XG4gICAgICAgIGZuMigkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkYjliM2RmZGRhYjE3ZGIyNygpKTtcbiAgICAgIH07XG4gICAgICAkNTA3ZmFiZTEwZTcxYzZmYiR2YXIkY2hhbmdlSGFuZGxlcnMuYWRkKGhhbmRsZXIpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgJDUwN2ZhYmUxMGU3MWM2ZmIkdmFyJGNoYW5nZUhhbmRsZXJzLmRlbGV0ZShoYW5kbGVyKTtcbiAgICAgIH07XG4gICAgfSwgZGVwcyk7XG4gIH1cbiAgZnVuY3Rpb24gJGExZWE1OWQ2ODI3MGYwZGQkZXhwb3J0JGY4MTY4ZDhkZDhmZDY2ZTYocHJvcHMpIHtcbiAgICBsZXQgeyBpc0Rpc2FibGVkLCBvbkZvY3VzOiBvbkZvY3VzUHJvcCwgb25CbHVyOiBvbkJsdXJQcm9wLCBvbkZvY3VzQ2hhbmdlIH0gPSBwcm9wcztcbiAgICBjb25zdCBvbkJsdXIgPSBxJDMoKGUyKSA9PiB7XG4gICAgICBpZiAoZTIudGFyZ2V0ID09PSBlMi5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgIGlmIChvbkJsdXJQcm9wKSBvbkJsdXJQcm9wKGUyKTtcbiAgICAgICAgaWYgKG9uRm9jdXNDaGFuZ2UpIG9uRm9jdXNDaGFuZ2UoZmFsc2UpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LCBbXG4gICAgICBvbkJsdXJQcm9wLFxuICAgICAgb25Gb2N1c0NoYW5nZVxuICAgIF0pO1xuICAgIGNvbnN0IG9uU3ludGhldGljRm9jdXMgPSAkOGE5Y2IyNzlkYzg3ZTEzMCRleHBvcnQkNzE1YzY4MmQwOWQ2MzljYyhvbkJsdXIpO1xuICAgIGNvbnN0IG9uRm9jdXMgPSBxJDMoKGUyKSA9PiB7XG4gICAgICBjb25zdCBvd25lckRvY3VtZW50ID0gJDQzMWZiZDg2Y2E3ZGMyMTYkZXhwb3J0JGIyMDRhZjE1ODA0MmZiYWMoZTIudGFyZ2V0KTtcbiAgICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBvd25lckRvY3VtZW50ID8gJGQ0ZWUxMGRlMzA2ZjI1MTAkZXhwb3J0JGNkNGU1NTczZmJlMmI1NzYob3duZXJEb2N1bWVudCkgOiAkZDRlZTEwZGUzMDZmMjUxMCRleHBvcnQkY2Q0ZTU1NzNmYmUyYjU3NigpO1xuICAgICAgaWYgKGUyLnRhcmdldCA9PT0gZTIuY3VycmVudFRhcmdldCAmJiBhY3RpdmVFbGVtZW50ID09PSAkZDRlZTEwZGUzMDZmMjUxMCRleHBvcnQkZTU4ZjAyOWYwZmJmZGIyOShlMi5uYXRpdmVFdmVudCkpIHtcbiAgICAgICAgaWYgKG9uRm9jdXNQcm9wKSBvbkZvY3VzUHJvcChlMik7XG4gICAgICAgIGlmIChvbkZvY3VzQ2hhbmdlKSBvbkZvY3VzQ2hhbmdlKHRydWUpO1xuICAgICAgICBvblN5bnRoZXRpY0ZvY3VzKGUyKTtcbiAgICAgIH1cbiAgICB9LCBbXG4gICAgICBvbkZvY3VzQ2hhbmdlLFxuICAgICAgb25Gb2N1c1Byb3AsXG4gICAgICBvblN5bnRoZXRpY0ZvY3VzXG4gICAgXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZvY3VzUHJvcHM6IHtcbiAgICAgICAgb25Gb2N1czogIWlzRGlzYWJsZWQgJiYgKG9uRm9jdXNQcm9wIHx8IG9uRm9jdXNDaGFuZ2UgfHwgb25CbHVyUHJvcCkgPyBvbkZvY3VzIDogdm9pZCAwLFxuICAgICAgICBvbkJsdXI6ICFpc0Rpc2FibGVkICYmIChvbkJsdXJQcm9wIHx8IG9uRm9jdXNDaGFuZ2UpID8gb25CbHVyIDogdm9pZCAwXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiAkOWFiOTQyNjJiZDAwNDdjNyRleHBvcnQkNDIwZTY4MjczMTY1ZjRlYyhwcm9wcykge1xuICAgIGxldCB7IGlzRGlzYWJsZWQsIG9uQmx1cldpdGhpbiwgb25Gb2N1c1dpdGhpbiwgb25Gb2N1c1dpdGhpbkNoYW5nZSB9ID0gcHJvcHM7XG4gICAgbGV0IHN0YXRlID0gQSQzKHtcbiAgICAgIGlzRm9jdXNXaXRoaW46IGZhbHNlXG4gICAgfSk7XG4gICAgbGV0IHsgYWRkR2xvYmFsTGlzdGVuZXIsIHJlbW92ZUFsbEdsb2JhbExpc3RlbmVycyB9ID0gJDAzZGViMjNmZjE0OTIwYzQkZXhwb3J0JDRlYWYwNGU1NGFhOGVlZDYoKTtcbiAgICBsZXQgb25CbHVyID0gcSQzKChlMikgPT4ge1xuICAgICAgaWYgKCFlMi5jdXJyZW50VGFyZ2V0LmNvbnRhaW5zKGUyLnRhcmdldCkpIHJldHVybjtcbiAgICAgIGlmIChzdGF0ZS5jdXJyZW50LmlzRm9jdXNXaXRoaW4gJiYgIWUyLmN1cnJlbnRUYXJnZXQuY29udGFpbnMoZTIucmVsYXRlZFRhcmdldCkpIHtcbiAgICAgICAgc3RhdGUuY3VycmVudC5pc0ZvY3VzV2l0aGluID0gZmFsc2U7XG4gICAgICAgIHJlbW92ZUFsbEdsb2JhbExpc3RlbmVycygpO1xuICAgICAgICBpZiAob25CbHVyV2l0aGluKSBvbkJsdXJXaXRoaW4oZTIpO1xuICAgICAgICBpZiAob25Gb2N1c1dpdGhpbkNoYW5nZSkgb25Gb2N1c1dpdGhpbkNoYW5nZShmYWxzZSk7XG4gICAgICB9XG4gICAgfSwgW1xuICAgICAgb25CbHVyV2l0aGluLFxuICAgICAgb25Gb2N1c1dpdGhpbkNoYW5nZSxcbiAgICAgIHN0YXRlLFxuICAgICAgcmVtb3ZlQWxsR2xvYmFsTGlzdGVuZXJzXG4gICAgXSk7XG4gICAgbGV0IG9uU3ludGhldGljRm9jdXMgPSAkOGE5Y2IyNzlkYzg3ZTEzMCRleHBvcnQkNzE1YzY4MmQwOWQ2MzljYyhvbkJsdXIpO1xuICAgIGxldCBvbkZvY3VzID0gcSQzKChlMikgPT4ge1xuICAgICAgaWYgKCFlMi5jdXJyZW50VGFyZ2V0LmNvbnRhaW5zKGUyLnRhcmdldCkpIHJldHVybjtcbiAgICAgIGNvbnN0IG93bmVyRG9jdW1lbnQgPSAkNDMxZmJkODZjYTdkYzIxNiRleHBvcnQkYjIwNGFmMTU4MDQyZmJhYyhlMi50YXJnZXQpO1xuICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9ICRkNGVlMTBkZTMwNmYyNTEwJGV4cG9ydCRjZDRlNTU3M2ZiZTJiNTc2KG93bmVyRG9jdW1lbnQpO1xuICAgICAgaWYgKCFzdGF0ZS5jdXJyZW50LmlzRm9jdXNXaXRoaW4gJiYgYWN0aXZlRWxlbWVudCA9PT0gJGQ0ZWUxMGRlMzA2ZjI1MTAkZXhwb3J0JGU1OGYwMjlmMGZiZmRiMjkoZTIubmF0aXZlRXZlbnQpKSB7XG4gICAgICAgIGlmIChvbkZvY3VzV2l0aGluKSBvbkZvY3VzV2l0aGluKGUyKTtcbiAgICAgICAgaWYgKG9uRm9jdXNXaXRoaW5DaGFuZ2UpIG9uRm9jdXNXaXRoaW5DaGFuZ2UodHJ1ZSk7XG4gICAgICAgIHN0YXRlLmN1cnJlbnQuaXNGb2N1c1dpdGhpbiA9IHRydWU7XG4gICAgICAgIG9uU3ludGhldGljRm9jdXMoZTIpO1xuICAgICAgICBsZXQgY3VycmVudFRhcmdldCA9IGUyLmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgIGFkZEdsb2JhbExpc3RlbmVyKG93bmVyRG9jdW1lbnQsIFwiZm9jdXNcIiwgKGUzKSA9PiB7XG4gICAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnQuaXNGb2N1c1dpdGhpbiAmJiAhJGQ0ZWUxMGRlMzA2ZjI1MTAkZXhwb3J0JDQyODJmNzA3OTgwNjRmZTAoY3VycmVudFRhcmdldCwgZTMudGFyZ2V0KSkge1xuICAgICAgICAgICAgbGV0IG5hdGl2ZUV2ZW50ID0gbmV3IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuRm9jdXNFdmVudChcImJsdXJcIiwge1xuICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiBlMy50YXJnZXRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJDhhOWNiMjc5ZGM4N2UxMzAkZXhwb3J0JGMyYjdhYmU1ZDYxZWM2OTYobmF0aXZlRXZlbnQsIGN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgbGV0IGV2ZW50ID0gJDhhOWNiMjc5ZGM4N2UxMzAkZXhwb3J0JDUyNWJjNDkyMWQ1NmQ0YShuYXRpdmVFdmVudCk7XG4gICAgICAgICAgICBvbkJsdXIoZXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwgW1xuICAgICAgb25Gb2N1c1dpdGhpbixcbiAgICAgIG9uRm9jdXNXaXRoaW5DaGFuZ2UsXG4gICAgICBvblN5bnRoZXRpY0ZvY3VzLFxuICAgICAgYWRkR2xvYmFsTGlzdGVuZXIsXG4gICAgICBvbkJsdXJcbiAgICBdKTtcbiAgICBpZiAoaXNEaXNhYmxlZCkgcmV0dXJuIHtcbiAgICAgIGZvY3VzV2l0aGluUHJvcHM6IHtcbiAgICAgICAgLy8gVGhlc2UgY2Fubm90IGJlIG51bGwsIHRoYXQgd291bGQgY29uZmxpY3QgaW4gbWVyZ2VQcm9wc1xuICAgICAgICBvbkZvY3VzOiB2b2lkIDAsXG4gICAgICAgIG9uQmx1cjogdm9pZCAwXG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgZm9jdXNXaXRoaW5Qcm9wczoge1xuICAgICAgICBvbkZvY3VzLFxuICAgICAgICBvbkJsdXJcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGxldCAkNjE3OWI5MzY3MDVlNzZkMyR2YXIkZ2xvYmFsSWdub3JlRW11bGF0ZWRNb3VzZUV2ZW50cyA9IGZhbHNlO1xuICBsZXQgJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJGhvdmVyQ291bnQgPSAwO1xuICBmdW5jdGlvbiAkNjE3OWI5MzY3MDVlNzZkMyR2YXIkc2V0R2xvYmFsSWdub3JlRW11bGF0ZWRNb3VzZUV2ZW50cygpIHtcbiAgICAkNjE3OWI5MzY3MDVlNzZkMyR2YXIkZ2xvYmFsSWdub3JlRW11bGF0ZWRNb3VzZUV2ZW50cyA9IHRydWU7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkNjE3OWI5MzY3MDVlNzZkMyR2YXIkZ2xvYmFsSWdub3JlRW11bGF0ZWRNb3VzZUV2ZW50cyA9IGZhbHNlO1xuICAgIH0sIDUwKTtcbiAgfVxuICBmdW5jdGlvbiAkNjE3OWI5MzY3MDVlNzZkMyR2YXIkaGFuZGxlR2xvYmFsUG9pbnRlckV2ZW50KGUyKSB7XG4gICAgaWYgKGUyLnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpICQ2MTc5YjkzNjcwNWU3NmQzJHZhciRzZXRHbG9iYWxJZ25vcmVFbXVsYXRlZE1vdXNlRXZlbnRzKCk7XG4gIH1cbiAgZnVuY3Rpb24gJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJHNldHVwR2xvYmFsVG91Y2hFdmVudHMoKSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xuICAgIGlmICh0eXBlb2YgUG9pbnRlckV2ZW50ICE9PSBcInVuZGVmaW5lZFwiKSBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsICQ2MTc5YjkzNjcwNWU3NmQzJHZhciRoYW5kbGVHbG9iYWxQb2ludGVyRXZlbnQpO1xuICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInRlc3RcIikgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsICQ2MTc5YjkzNjcwNWU3NmQzJHZhciRzZXRHbG9iYWxJZ25vcmVFbXVsYXRlZE1vdXNlRXZlbnRzKTtcbiAgICAkNjE3OWI5MzY3MDVlNzZkMyR2YXIkaG92ZXJDb3VudCsrO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAkNjE3OWI5MzY3MDVlNzZkMyR2YXIkaG92ZXJDb3VudC0tO1xuICAgICAgaWYgKCQ2MTc5YjkzNjcwNWU3NmQzJHZhciRob3ZlckNvdW50ID4gMCkgcmV0dXJuO1xuICAgICAgaWYgKHR5cGVvZiBQb2ludGVyRXZlbnQgIT09IFwidW5kZWZpbmVkXCIpIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJGhhbmRsZUdsb2JhbFBvaW50ZXJFdmVudCk7XG4gICAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJ0ZXN0XCIpIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCAkNjE3OWI5MzY3MDVlNzZkMyR2YXIkc2V0R2xvYmFsSWdub3JlRW11bGF0ZWRNb3VzZUV2ZW50cyk7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiAkNjE3OWI5MzY3MDVlNzZkMyRleHBvcnQkYWU3ODBkYWYyOWU2ZDQ1Nihwcm9wcykge1xuICAgIGxldCB7IG9uSG92ZXJTdGFydCwgb25Ib3ZlckNoYW5nZSwgb25Ib3ZlckVuZCwgaXNEaXNhYmxlZCB9ID0gcHJvcHM7XG4gICAgbGV0IFtpc0hvdmVyZWQsIHNldEhvdmVyZWRdID0gZCQ0KGZhbHNlKTtcbiAgICBsZXQgc3RhdGUgPSBBJDMoe1xuICAgICAgaXNIb3ZlcmVkOiBmYWxzZSxcbiAgICAgIGlnbm9yZUVtdWxhdGVkTW91c2VFdmVudHM6IGZhbHNlLFxuICAgICAgcG9pbnRlclR5cGU6IFwiXCIsXG4gICAgICB0YXJnZXQ6IG51bGxcbiAgICB9KS5jdXJyZW50O1xuICAgIHkkNigkNjE3OWI5MzY3MDVlNzZkMyR2YXIkc2V0dXBHbG9iYWxUb3VjaEV2ZW50cywgW10pO1xuICAgIGxldCB7IGFkZEdsb2JhbExpc3RlbmVyLCByZW1vdmVBbGxHbG9iYWxMaXN0ZW5lcnMgfSA9ICQwM2RlYjIzZmYxNDkyMGM0JGV4cG9ydCQ0ZWFmMDRlNTRhYThlZWQ2KCk7XG4gICAgbGV0IHsgaG92ZXJQcm9wcywgdHJpZ2dlckhvdmVyRW5kIH0gPSBUJDUoKCkgPT4ge1xuICAgICAgbGV0IHRyaWdnZXJIb3ZlclN0YXJ0ID0gKGV2ZW50LCBwb2ludGVyVHlwZSkgPT4ge1xuICAgICAgICBzdGF0ZS5wb2ludGVyVHlwZSA9IHBvaW50ZXJUeXBlO1xuICAgICAgICBpZiAoaXNEaXNhYmxlZCB8fCBwb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiIHx8IHN0YXRlLmlzSG92ZXJlZCB8fCAhZXZlbnQuY3VycmVudFRhcmdldC5jb250YWlucyhldmVudC50YXJnZXQpKSByZXR1cm47XG4gICAgICAgIHN0YXRlLmlzSG92ZXJlZCA9IHRydWU7XG4gICAgICAgIGxldCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICBzdGF0ZS50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIGFkZEdsb2JhbExpc3RlbmVyKCQ0MzFmYmQ4NmNhN2RjMjE2JGV4cG9ydCRiMjA0YWYxNTgwNDJmYmFjKGV2ZW50LnRhcmdldCksIFwicG9pbnRlcm92ZXJcIiwgKGUyKSA9PiB7XG4gICAgICAgICAgaWYgKHN0YXRlLmlzSG92ZXJlZCAmJiBzdGF0ZS50YXJnZXQgJiYgISRkNGVlMTBkZTMwNmYyNTEwJGV4cG9ydCQ0MjgyZjcwNzk4MDY0ZmUwKHN0YXRlLnRhcmdldCwgZTIudGFyZ2V0KSkgdHJpZ2dlckhvdmVyRW5kMihlMiwgZTIucG9pbnRlclR5cGUpO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG9uSG92ZXJTdGFydCkgb25Ib3ZlclN0YXJ0KHtcbiAgICAgICAgICB0eXBlOiBcImhvdmVyc3RhcnRcIixcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgcG9pbnRlclR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChvbkhvdmVyQ2hhbmdlKSBvbkhvdmVyQ2hhbmdlKHRydWUpO1xuICAgICAgICBzZXRIb3ZlcmVkKHRydWUpO1xuICAgICAgfTtcbiAgICAgIGxldCB0cmlnZ2VySG92ZXJFbmQyID0gKGV2ZW50LCBwb2ludGVyVHlwZSkgPT4ge1xuICAgICAgICBsZXQgdGFyZ2V0ID0gc3RhdGUudGFyZ2V0O1xuICAgICAgICBzdGF0ZS5wb2ludGVyVHlwZSA9IFwiXCI7XG4gICAgICAgIHN0YXRlLnRhcmdldCA9IG51bGw7XG4gICAgICAgIGlmIChwb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiIHx8ICFzdGF0ZS5pc0hvdmVyZWQgfHwgIXRhcmdldCkgcmV0dXJuO1xuICAgICAgICBzdGF0ZS5pc0hvdmVyZWQgPSBmYWxzZTtcbiAgICAgICAgcmVtb3ZlQWxsR2xvYmFsTGlzdGVuZXJzKCk7XG4gICAgICAgIGlmIChvbkhvdmVyRW5kKSBvbkhvdmVyRW5kKHtcbiAgICAgICAgICB0eXBlOiBcImhvdmVyZW5kXCIsXG4gICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgIHBvaW50ZXJUeXBlXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob25Ib3ZlckNoYW5nZSkgb25Ib3ZlckNoYW5nZShmYWxzZSk7XG4gICAgICAgIHNldEhvdmVyZWQoZmFsc2UpO1xuICAgICAgfTtcbiAgICAgIGxldCBob3ZlclByb3BzMiA9IHt9O1xuICAgICAgaWYgKHR5cGVvZiBQb2ludGVyRXZlbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaG92ZXJQcm9wczIub25Qb2ludGVyRW50ZXIgPSAoZTIpID0+IHtcbiAgICAgICAgICBpZiAoJDYxNzliOTM2NzA1ZTc2ZDMkdmFyJGdsb2JhbElnbm9yZUVtdWxhdGVkTW91c2VFdmVudHMgJiYgZTIucG9pbnRlclR5cGUgPT09IFwibW91c2VcIikgcmV0dXJuO1xuICAgICAgICAgIHRyaWdnZXJIb3ZlclN0YXJ0KGUyLCBlMi5wb2ludGVyVHlwZSk7XG4gICAgICAgIH07XG4gICAgICAgIGhvdmVyUHJvcHMyLm9uUG9pbnRlckxlYXZlID0gKGUyKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc0Rpc2FibGVkICYmIGUyLmN1cnJlbnRUYXJnZXQuY29udGFpbnMoZTIudGFyZ2V0KSkgdHJpZ2dlckhvdmVyRW5kMihlMiwgZTIucG9pbnRlclR5cGUpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJ0ZXN0XCIpIHtcbiAgICAgICAgaG92ZXJQcm9wczIub25Ub3VjaFN0YXJ0ID0gKCkgPT4ge1xuICAgICAgICAgIHN0YXRlLmlnbm9yZUVtdWxhdGVkTW91c2VFdmVudHMgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBob3ZlclByb3BzMi5vbk1vdXNlRW50ZXIgPSAoZTIpID0+IHtcbiAgICAgICAgICBpZiAoIXN0YXRlLmlnbm9yZUVtdWxhdGVkTW91c2VFdmVudHMgJiYgISQ2MTc5YjkzNjcwNWU3NmQzJHZhciRnbG9iYWxJZ25vcmVFbXVsYXRlZE1vdXNlRXZlbnRzKSB0cmlnZ2VySG92ZXJTdGFydChlMiwgXCJtb3VzZVwiKTtcbiAgICAgICAgICBzdGF0ZS5pZ25vcmVFbXVsYXRlZE1vdXNlRXZlbnRzID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIGhvdmVyUHJvcHMyLm9uTW91c2VMZWF2ZSA9IChlMikgPT4ge1xuICAgICAgICAgIGlmICghaXNEaXNhYmxlZCAmJiBlMi5jdXJyZW50VGFyZ2V0LmNvbnRhaW5zKGUyLnRhcmdldCkpIHRyaWdnZXJIb3ZlckVuZDIoZTIsIFwibW91c2VcIik7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBob3ZlclByb3BzOiBob3ZlclByb3BzMixcbiAgICAgICAgdHJpZ2dlckhvdmVyRW5kOiB0cmlnZ2VySG92ZXJFbmQyXG4gICAgICB9O1xuICAgIH0sIFtcbiAgICAgIG9uSG92ZXJTdGFydCxcbiAgICAgIG9uSG92ZXJDaGFuZ2UsXG4gICAgICBvbkhvdmVyRW5kLFxuICAgICAgaXNEaXNhYmxlZCxcbiAgICAgIHN0YXRlLFxuICAgICAgYWRkR2xvYmFsTGlzdGVuZXIsXG4gICAgICByZW1vdmVBbGxHbG9iYWxMaXN0ZW5lcnNcbiAgICBdKTtcbiAgICB5JDYoKCkgPT4ge1xuICAgICAgaWYgKGlzRGlzYWJsZWQpIHRyaWdnZXJIb3ZlckVuZCh7XG4gICAgICAgIGN1cnJlbnRUYXJnZXQ6IHN0YXRlLnRhcmdldFxuICAgICAgfSwgc3RhdGUucG9pbnRlclR5cGUpO1xuICAgIH0sIFtcbiAgICAgIGlzRGlzYWJsZWRcbiAgICBdKTtcbiAgICByZXR1cm4ge1xuICAgICAgaG92ZXJQcm9wcyxcbiAgICAgIGlzSG92ZXJlZFxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gJGY3ZGNlZmZjNWFkNzc2OGIkZXhwb3J0JDRlMzI4ZjYxYzUzODY4N2YocHJvcHMgPSB7fSkge1xuICAgIGxldCB7IGF1dG9Gb2N1cyA9IGZhbHNlLCBpc1RleHRJbnB1dCwgd2l0aGluIH0gPSBwcm9wcztcbiAgICBsZXQgc3RhdGUgPSBBJDMoe1xuICAgICAgaXNGb2N1c2VkOiBmYWxzZSxcbiAgICAgIGlzRm9jdXNWaXNpYmxlOiBhdXRvRm9jdXMgfHwgJDUwN2ZhYmUxMGU3MWM2ZmIkZXhwb3J0JGI5YjNkZmRkYWIxN2RiMjcoKVxuICAgIH0pO1xuICAgIGxldCBbaXNGb2N1c2VkLCBzZXRGb2N1c2VkXSA9IGQkNChmYWxzZSk7XG4gICAgbGV0IFtpc0ZvY3VzVmlzaWJsZVN0YXRlLCBzZXRGb2N1c1Zpc2libGVdID0gZCQ0KCgpID0+IHN0YXRlLmN1cnJlbnQuaXNGb2N1c2VkICYmIHN0YXRlLmN1cnJlbnQuaXNGb2N1c1Zpc2libGUpO1xuICAgIGxldCB1cGRhdGVTdGF0ZSA9IHEkMygoKSA9PiBzZXRGb2N1c1Zpc2libGUoc3RhdGUuY3VycmVudC5pc0ZvY3VzZWQgJiYgc3RhdGUuY3VycmVudC5pc0ZvY3VzVmlzaWJsZSksIFtdKTtcbiAgICBsZXQgb25Gb2N1c0NoYW5nZSA9IHEkMygoaXNGb2N1c2VkMikgPT4ge1xuICAgICAgc3RhdGUuY3VycmVudC5pc0ZvY3VzZWQgPSBpc0ZvY3VzZWQyO1xuICAgICAgc2V0Rm9jdXNlZChpc0ZvY3VzZWQyKTtcbiAgICAgIHVwZGF0ZVN0YXRlKCk7XG4gICAgfSwgW1xuICAgICAgdXBkYXRlU3RhdGVcbiAgICBdKTtcbiAgICAkNTA3ZmFiZTEwZTcxYzZmYiRleHBvcnQkZWM3MWI0YjgzYWMwOGVjMygoaXNGb2N1c1Zpc2libGUpID0+IHtcbiAgICAgIHN0YXRlLmN1cnJlbnQuaXNGb2N1c1Zpc2libGUgPSBpc0ZvY3VzVmlzaWJsZTtcbiAgICAgIHVwZGF0ZVN0YXRlKCk7XG4gICAgfSwgW10sIHtcbiAgICAgIGlzVGV4dElucHV0XG4gICAgfSk7XG4gICAgbGV0IHsgZm9jdXNQcm9wcyB9ID0gJGExZWE1OWQ2ODI3MGYwZGQkZXhwb3J0JGY4MTY4ZDhkZDhmZDY2ZTYoe1xuICAgICAgaXNEaXNhYmxlZDogd2l0aGluLFxuICAgICAgb25Gb2N1c0NoYW5nZVxuICAgIH0pO1xuICAgIGxldCB7IGZvY3VzV2l0aGluUHJvcHMgfSA9ICQ5YWI5NDI2MmJkMDA0N2M3JGV4cG9ydCQ0MjBlNjgyNzMxNjVmNGVjKHtcbiAgICAgIGlzRGlzYWJsZWQ6ICF3aXRoaW4sXG4gICAgICBvbkZvY3VzV2l0aGluQ2hhbmdlOiBvbkZvY3VzQ2hhbmdlXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzRm9jdXNlZCxcbiAgICAgIGlzRm9jdXNWaXNpYmxlOiBpc0ZvY3VzVmlzaWJsZVN0YXRlLFxuICAgICAgZm9jdXNQcm9wczogd2l0aGluID8gZm9jdXNXaXRoaW5Qcm9wcyA6IGZvY3VzUHJvcHNcbiAgICB9O1xuICB9XG4gIHZhciBpJDYgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG4gIHZhciBkJDMgPSAodDIsIGUyLCBuMikgPT4gZTIgaW4gdDIgPyBpJDYodDIsIGUyLCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOiBuMiB9KSA6IHQyW2UyXSA9IG4yO1xuICB2YXIgciQyID0gKHQyLCBlMiwgbjIpID0+IChkJDModDIsIHR5cGVvZiBlMiAhPSBcInN5bWJvbFwiID8gZTIgKyBcIlwiIDogZTIsIG4yKSwgbjIpO1xuICBsZXQgbyQ3ID0gY2xhc3MgbyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICByJDIodGhpcywgXCJjdXJyZW50XCIsIHRoaXMuZGV0ZWN0KCkpO1xuICAgICAgciQyKHRoaXMsIFwiaGFuZG9mZlN0YXRlXCIsIFwicGVuZGluZ1wiKTtcbiAgICAgIHIkMih0aGlzLCBcImN1cnJlbnRJZFwiLCAwKTtcbiAgICB9XG4gICAgc2V0KGUyKSB7XG4gICAgICB0aGlzLmN1cnJlbnQgIT09IGUyICYmICh0aGlzLmhhbmRvZmZTdGF0ZSA9IFwicGVuZGluZ1wiLCB0aGlzLmN1cnJlbnRJZCA9IDAsIHRoaXMuY3VycmVudCA9IGUyKTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICB0aGlzLnNldCh0aGlzLmRldGVjdCgpKTtcbiAgICB9XG4gICAgbmV4dElkKCkge1xuICAgICAgcmV0dXJuICsrdGhpcy5jdXJyZW50SWQ7XG4gICAgfVxuICAgIGdldCBpc1NlcnZlcigpIHtcbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQgPT09IFwic2VydmVyXCI7XG4gICAgfVxuICAgIGdldCBpc0NsaWVudCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQgPT09IFwiY2xpZW50XCI7XG4gICAgfVxuICAgIGRldGVjdCgpIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygd2luZG93ID09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIGRvY3VtZW50ID09IFwidW5kZWZpbmVkXCIgPyBcInNlcnZlclwiIDogXCJjbGllbnRcIjtcbiAgICB9XG4gICAgaGFuZG9mZigpIHtcbiAgICAgIHRoaXMuaGFuZG9mZlN0YXRlID09PSBcInBlbmRpbmdcIiAmJiAodGhpcy5oYW5kb2ZmU3RhdGUgPSBcImNvbXBsZXRlXCIpO1xuICAgIH1cbiAgICBnZXQgaXNIYW5kb2ZmQ29tcGxldGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYW5kb2ZmU3RhdGUgPT09IFwiY29tcGxldGVcIjtcbiAgICB9XG4gIH07XG4gIGxldCBzJDcgPSBuZXcgbyQ3KCk7XG4gIGZ1bmN0aW9uIG8kNihuMikge1xuICAgIHZhciBlMiwgcjI7XG4gICAgcmV0dXJuIHMkNy5pc1NlcnZlciA/IG51bGwgOiBuMiA/IFwib3duZXJEb2N1bWVudFwiIGluIG4yID8gbjIub3duZXJEb2N1bWVudCA6IFwiY3VycmVudFwiIGluIG4yID8gKHIyID0gKGUyID0gbjIuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IGUyLm93bmVyRG9jdW1lbnQpICE9IG51bGwgPyByMiA6IGRvY3VtZW50IDogbnVsbCA6IGRvY3VtZW50O1xuICB9XG4gIGZ1bmN0aW9uIHQkMyhlMikge1xuICAgIHR5cGVvZiBxdWV1ZU1pY3JvdGFzayA9PSBcImZ1bmN0aW9uXCIgPyBxdWV1ZU1pY3JvdGFzayhlMikgOiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGUyKS5jYXRjaCgobzIpID0+IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhyb3cgbzI7XG4gICAgfSkpO1xuICB9XG4gIGZ1bmN0aW9uIG8kNSgpIHtcbiAgICBsZXQgbjIgPSBbXSwgcjIgPSB7IGFkZEV2ZW50TGlzdGVuZXIoZTIsIHQyLCBzMiwgYTIpIHtcbiAgICAgIHJldHVybiBlMi5hZGRFdmVudExpc3RlbmVyKHQyLCBzMiwgYTIpLCByMi5hZGQoKCkgPT4gZTIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0MiwgczIsIGEyKSk7XG4gICAgfSwgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKC4uLmUyKSB7XG4gICAgICBsZXQgdDIgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoLi4uZTIpO1xuICAgICAgcmV0dXJuIHIyLmFkZCgoKSA9PiBjYW5jZWxBbmltYXRpb25GcmFtZSh0MikpO1xuICAgIH0sIG5leHRGcmFtZSguLi5lMikge1xuICAgICAgcmV0dXJuIHIyLnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiByMi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoLi4uZTIpKTtcbiAgICB9LCBzZXRUaW1lb3V0KC4uLmUyKSB7XG4gICAgICBsZXQgdDIgPSBzZXRUaW1lb3V0KC4uLmUyKTtcbiAgICAgIHJldHVybiByMi5hZGQoKCkgPT4gY2xlYXJUaW1lb3V0KHQyKSk7XG4gICAgfSwgbWljcm9UYXNrKC4uLmUyKSB7XG4gICAgICBsZXQgdDIgPSB7IGN1cnJlbnQ6IHRydWUgfTtcbiAgICAgIHJldHVybiB0JDMoKCkgPT4ge1xuICAgICAgICB0Mi5jdXJyZW50ICYmIGUyWzBdKCk7XG4gICAgICB9KSwgcjIuYWRkKCgpID0+IHtcbiAgICAgICAgdDIuY3VycmVudCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSwgc3R5bGUoZTIsIHQyLCBzMikge1xuICAgICAgbGV0IGEyID0gZTIuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSh0Mik7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihlMi5zdHlsZSwgeyBbdDJdOiBzMiB9KSwgdGhpcy5hZGQoKCkgPT4ge1xuICAgICAgICBPYmplY3QuYXNzaWduKGUyLnN0eWxlLCB7IFt0Ml06IGEyIH0pO1xuICAgICAgfSk7XG4gICAgfSwgZ3JvdXAoZTIpIHtcbiAgICAgIGxldCB0MiA9IG8kNSgpO1xuICAgICAgcmV0dXJuIGUyKHQyKSwgdGhpcy5hZGQoKCkgPT4gdDIuZGlzcG9zZSgpKTtcbiAgICB9LCBhZGQoZTIpIHtcbiAgICAgIHJldHVybiBuMi5pbmNsdWRlcyhlMikgfHwgbjIucHVzaChlMiksICgpID0+IHtcbiAgICAgICAgbGV0IHQyID0gbjIuaW5kZXhPZihlMik7XG4gICAgICAgIGlmICh0MiA+PSAwKSBmb3IgKGxldCBzMiBvZiBuMi5zcGxpY2UodDIsIDEpKSBzMigpO1xuICAgICAgfTtcbiAgICB9LCBkaXNwb3NlKCkge1xuICAgICAgZm9yIChsZXQgZTIgb2YgbjIuc3BsaWNlKDApKSBlMigpO1xuICAgIH0gfTtcbiAgICByZXR1cm4gcjI7XG4gIH1cbiAgZnVuY3Rpb24gcCQyKCkge1xuICAgIGxldCBbZTJdID0gZCQ0KG8kNSk7XG4gICAgcmV0dXJuIHkkNigoKSA9PiAoKSA9PiBlMi5kaXNwb3NlKCksIFtlMl0pLCBlMjtcbiAgfVxuICBsZXQgbiQzID0gKGUyLCB0MikgPT4ge1xuICAgIHMkNy5pc1NlcnZlciA/IHkkNihlMiwgdDIpIDogXyQzKGUyLCB0Mik7XG4gIH07XG4gIGZ1bmN0aW9uIHMkNihlMikge1xuICAgIGxldCByMiA9IEEkMyhlMik7XG4gICAgcmV0dXJuIG4kMygoKSA9PiB7XG4gICAgICByMi5jdXJyZW50ID0gZTI7XG4gICAgfSwgW2UyXSksIHIyO1xuICB9XG4gIGxldCBvJDQgPSBmdW5jdGlvbih0Mikge1xuICAgIGxldCBlMiA9IHMkNih0Mik7XG4gICAgcmV0dXJuIFJuLnVzZUNhbGxiYWNrKCguLi5yMikgPT4gZTIuY3VycmVudCguLi5yMiksIFtlMl0pO1xuICB9O1xuICBmdW5jdGlvbiBFJDEoZTIpIHtcbiAgICBsZXQgdDIgPSBlMi53aWR0aCAvIDIsIG4yID0gZTIuaGVpZ2h0IC8gMjtcbiAgICByZXR1cm4geyB0b3A6IGUyLmNsaWVudFkgLSBuMiwgcmlnaHQ6IGUyLmNsaWVudFggKyB0MiwgYm90dG9tOiBlMi5jbGllbnRZICsgbjIsIGxlZnQ6IGUyLmNsaWVudFggLSB0MiB9O1xuICB9XG4gIGZ1bmN0aW9uIFAkMyhlMiwgdDIpIHtcbiAgICByZXR1cm4gISghZTIgfHwgIXQyIHx8IGUyLnJpZ2h0IDwgdDIubGVmdCB8fCBlMi5sZWZ0ID4gdDIucmlnaHQgfHwgZTIuYm90dG9tIDwgdDIudG9wIHx8IGUyLnRvcCA+IHQyLmJvdHRvbSk7XG4gIH1cbiAgZnVuY3Rpb24gdyQyKHsgZGlzYWJsZWQ6IGUyID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgbGV0IHQyID0gQSQzKG51bGwpLCBbbjIsIGwyXSA9IGQkNChmYWxzZSksIHIyID0gcCQyKCksIG8yID0gbyQ0KCgpID0+IHtcbiAgICAgIHQyLmN1cnJlbnQgPSBudWxsLCBsMihmYWxzZSksIHIyLmRpc3Bvc2UoKTtcbiAgICB9KSwgZjIgPSBvJDQoKHMyKSA9PiB7XG4gICAgICBpZiAocjIuZGlzcG9zZSgpLCB0Mi5jdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAgIHQyLmN1cnJlbnQgPSBzMi5jdXJyZW50VGFyZ2V0LCBsMih0cnVlKTtcbiAgICAgICAge1xuICAgICAgICAgIGxldCBpMiA9IG8kNihzMi5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICByMi5hZGRFdmVudExpc3RlbmVyKGkyLCBcInBvaW50ZXJ1cFwiLCBvMiwgZmFsc2UpLCByMi5hZGRFdmVudExpc3RlbmVyKGkyLCBcInBvaW50ZXJtb3ZlXCIsIChjMikgPT4ge1xuICAgICAgICAgICAgaWYgKHQyLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgbGV0IHAyID0gRSQxKGMyKTtcbiAgICAgICAgICAgICAgbDIoUCQzKHAyLCB0Mi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgZmFsc2UpLCByMi5hZGRFdmVudExpc3RlbmVyKGkyLCBcInBvaW50ZXJjYW5jZWxcIiwgbzIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB7IHByZXNzZWQ6IG4yLCBwcmVzc1Byb3BzOiBlMiA/IHt9IDogeyBvblBvaW50ZXJEb3duOiBmMiwgb25Qb2ludGVyVXA6IG8yLCBvbkNsaWNrOiBvMiB9IH07XG4gIH1cbiAgbGV0IGUkMyA9IEskMyh2b2lkIDApO1xuICBmdW5jdGlvbiBhJDkoKSB7XG4gICAgcmV0dXJuIHgkNChlJDMpO1xuICB9XG4gIGZ1bmN0aW9uIHQkMiguLi5yMikge1xuICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQocjIuZmxhdE1hcCgobjIpID0+IHR5cGVvZiBuMiA9PSBcInN0cmluZ1wiID8gbjIuc3BsaXQoXCIgXCIpIDogW10pKSkuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpO1xuICB9XG4gIGZ1bmN0aW9uIHUkNyhyMiwgbjIsIC4uLmEyKSB7XG4gICAgaWYgKHIyIGluIG4yKSB7XG4gICAgICBsZXQgZTIgPSBuMltyMl07XG4gICAgICByZXR1cm4gdHlwZW9mIGUyID09IFwiZnVuY3Rpb25cIiA/IGUyKC4uLmEyKSA6IGUyO1xuICAgIH1cbiAgICBsZXQgdDIgPSBuZXcgRXJyb3IoYFRyaWVkIHRvIGhhbmRsZSBcIiR7cjJ9XCIgYnV0IHRoZXJlIGlzIG5vIGhhbmRsZXIgZGVmaW5lZC4gT25seSBkZWZpbmVkIGhhbmRsZXJzIGFyZTogJHtPYmplY3Qua2V5cyhuMikubWFwKChlMikgPT4gYFwiJHtlMn1cImApLmpvaW4oXCIsIFwiKX0uYCk7XG4gICAgdGhyb3cgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgJiYgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodDIsIHUkNyksIHQyO1xuICB9XG4gIHZhciBPJDEgPSAoKGEyKSA9PiAoYTJbYTIuTm9uZSA9IDBdID0gXCJOb25lXCIsIGEyW2EyLlJlbmRlclN0cmF0ZWd5ID0gMV0gPSBcIlJlbmRlclN0cmF0ZWd5XCIsIGEyW2EyLlN0YXRpYyA9IDJdID0gXCJTdGF0aWNcIiwgYTIpKShPJDEgfHwge30pLCBBJDEgPSAoKGUyKSA9PiAoZTJbZTIuVW5tb3VudCA9IDBdID0gXCJVbm1vdW50XCIsIGUyW2UyLkhpZGRlbiA9IDFdID0gXCJIaWRkZW5cIiwgZTIpKShBJDEgfHwge30pO1xuICBmdW5jdGlvbiBMJDIoKSB7XG4gICAgbGV0IG4yID0gVSQyKCk7XG4gICAgcmV0dXJuIHEkMygocjIpID0+IEMkMih7IG1lcmdlUmVmczogbjIsIC4uLnIyIH0pLCBbbjJdKTtcbiAgfVxuICBmdW5jdGlvbiBDJDIoeyBvdXJQcm9wczogbjIsIHRoZWlyUHJvcHM6IHIyLCBzbG90OiBlMiwgZGVmYXVsdFRhZzogYTIsIGZlYXR1cmVzOiBzMiwgdmlzaWJsZTogdDIgPSB0cnVlLCBuYW1lOiBsMiwgbWVyZ2VSZWZzOiBpMiB9KSB7XG4gICAgaTIgPSBpMiAhPSBudWxsID8gaTIgOiAkO1xuICAgIGxldCBvMiA9IFAkMihyMiwgbjIpO1xuICAgIGlmICh0MikgcmV0dXJuIEYkMyhvMiwgZTIsIGEyLCBsMiwgaTIpO1xuICAgIGxldCB5MiA9IHMyICE9IG51bGwgPyBzMiA6IDA7XG4gICAgaWYgKHkyICYgMikge1xuICAgICAgbGV0IHsgc3RhdGljOiBmMiA9IGZhbHNlLCAuLi51MiB9ID0gbzI7XG4gICAgICBpZiAoZjIpIHJldHVybiBGJDModTIsIGUyLCBhMiwgbDIsIGkyKTtcbiAgICB9XG4gICAgaWYgKHkyICYgMSkge1xuICAgICAgbGV0IHsgdW5tb3VudDogZjIgPSB0cnVlLCAuLi51MiB9ID0gbzI7XG4gICAgICByZXR1cm4gdSQ3KGYyID8gMCA6IDEsIHsgWzBdKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0sIFsxXSgpIHtcbiAgICAgICAgcmV0dXJuIEYkMyh7IC4uLnUyLCBoaWRkZW46IHRydWUsIHN0eWxlOiB7IGRpc3BsYXk6IFwibm9uZVwiIH0gfSwgZTIsIGEyLCBsMiwgaTIpO1xuICAgICAgfSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIEYkMyhvMiwgZTIsIGEyLCBsMiwgaTIpO1xuICB9XG4gIGZ1bmN0aW9uIEYkMyhuMiwgcjIgPSB7fSwgZTIsIGEyLCBzMikge1xuICAgIGxldCB7IGFzOiB0MiA9IGUyLCBjaGlsZHJlbjogbDIsIHJlZk5hbWU6IGkyID0gXCJyZWZcIiwgLi4ubzIgfSA9IGgkNChuMiwgW1widW5tb3VudFwiLCBcInN0YXRpY1wiXSksIHkyID0gbjIucmVmICE9PSB2b2lkIDAgPyB7IFtpMl06IG4yLnJlZiB9IDoge30sIGYyID0gdHlwZW9mIGwyID09IFwiZnVuY3Rpb25cIiA/IGwyKHIyKSA6IGwyO1xuICAgIFwiY2xhc3NOYW1lXCIgaW4gbzIgJiYgbzIuY2xhc3NOYW1lICYmIHR5cGVvZiBvMi5jbGFzc05hbWUgPT0gXCJmdW5jdGlvblwiICYmIChvMi5jbGFzc05hbWUgPSBvMi5jbGFzc05hbWUocjIpKSwgbzJbXCJhcmlhLWxhYmVsbGVkYnlcIl0gJiYgbzJbXCJhcmlhLWxhYmVsbGVkYnlcIl0gPT09IG8yLmlkICYmIChvMltcImFyaWEtbGFiZWxsZWRieVwiXSA9IHZvaWQgMCk7XG4gICAgbGV0IHUyID0ge307XG4gICAgaWYgKHIyKSB7XG4gICAgICBsZXQgZDIgPSBmYWxzZSwgcDIgPSBbXTtcbiAgICAgIGZvciAobGV0IFtjMiwgVDJdIG9mIE9iamVjdC5lbnRyaWVzKHIyKSkgdHlwZW9mIFQyID09IFwiYm9vbGVhblwiICYmIChkMiA9IHRydWUpLCBUMiA9PT0gdHJ1ZSAmJiBwMi5wdXNoKGMyLnJlcGxhY2UoLyhbQS1aXSkvZywgKGcyKSA9PiBgLSR7ZzIudG9Mb3dlckNhc2UoKX1gKSk7XG4gICAgICBpZiAoZDIpIHtcbiAgICAgICAgdTJbXCJkYXRhLWhlYWRsZXNzdWktc3RhdGVcIl0gPSBwMi5qb2luKFwiIFwiKTtcbiAgICAgICAgZm9yIChsZXQgYzIgb2YgcDIpIHUyW2BkYXRhLSR7YzJ9YF0gPSBcIlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodDIgPT09IGskMyAmJiAoT2JqZWN0LmtleXMobSQ0KG8yKSkubGVuZ3RoID4gMCB8fCBPYmplY3Qua2V5cyhtJDQodTIpKS5sZW5ndGggPiAwKSkgaWYgKCFtbihmMikgfHwgQXJyYXkuaXNBcnJheShmMikgJiYgZjIubGVuZ3RoID4gMSkge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKG0kNChvMikpLmxlbmd0aCA+IDApIHRocm93IG5ldyBFcnJvcihbJ1Bhc3NpbmcgcHJvcHMgb24gXCJGcmFnbWVudFwiIScsIFwiXCIsIGBUaGUgY3VycmVudCBjb21wb25lbnQgPCR7YTJ9IC8+IGlzIHJlbmRlcmluZyBhIFwiRnJhZ21lbnRcIi5gLCBcIkhvd2V2ZXIgd2UgbmVlZCB0byBwYXNzdGhyb3VnaCB0aGUgZm9sbG93aW5nIHByb3BzOlwiLCBPYmplY3Qua2V5cyhtJDQobzIpKS5jb25jYXQoT2JqZWN0LmtleXMobSQ0KHUyKSkpLm1hcCgoZDIpID0+IGAgIC0gJHtkMn1gKS5qb2luKGBcbmApLCBcIlwiLCBcIllvdSBjYW4gYXBwbHkgYSBmZXcgc29sdXRpb25zOlwiLCBbJ0FkZCBhbiBgYXM9XCIuLi5cImAgcHJvcCwgdG8gZW5zdXJlIHRoYXQgd2UgcmVuZGVyIGFuIGFjdHVhbCBlbGVtZW50IGluc3RlYWQgb2YgYSBcIkZyYWdtZW50XCIuJywgXCJSZW5kZXIgYSBzaW5nbGUgZWxlbWVudCBhcyB0aGUgY2hpbGQgc28gdGhhdCB3ZSBjYW4gZm9yd2FyZCB0aGUgcHJvcHMgb250byB0aGF0IGVsZW1lbnQuXCJdLm1hcCgoZDIpID0+IGAgIC0gJHtkMn1gKS5qb2luKGBcbmApXS5qb2luKGBcbmApKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGQyID0gZjIucHJvcHMsIHAyID0gZDIgPT0gbnVsbCA/IHZvaWQgMCA6IGQyLmNsYXNzTmFtZSwgYzIgPSB0eXBlb2YgcDIgPT0gXCJmdW5jdGlvblwiID8gKC4uLlIyKSA9PiB0JDIocDIoLi4uUjIpLCBvMi5jbGFzc05hbWUpIDogdCQyKHAyLCBvMi5jbGFzc05hbWUpLCBUMiA9IGMyID8geyBjbGFzc05hbWU6IGMyIH0gOiB7fSwgZzIgPSBQJDIoZjIucHJvcHMsIG0kNChoJDQobzIsIFtcInJlZlwiXSkpKTtcbiAgICAgIGZvciAobGV0IFIyIGluIHUyKSBSMiBpbiBnMiAmJiBkZWxldGUgdTJbUjJdO1xuICAgICAgcmV0dXJuIF9uKGYyLCBPYmplY3QuYXNzaWduKHt9LCBnMiwgdTIsIHkyLCB7IHJlZjogczIoSCQ0KGYyKSwgeTIucmVmKSB9LCBUMikpO1xuICAgIH1cbiAgICByZXR1cm4gXyQ0KHQyLCBPYmplY3QuYXNzaWduKHt9LCBoJDQobzIsIFtcInJlZlwiXSksIHQyICE9PSBrJDMgJiYgeTIsIHQyICE9PSBrJDMgJiYgdTIpLCBmMik7XG4gIH1cbiAgZnVuY3Rpb24gVSQyKCkge1xuICAgIGxldCBuMiA9IEEkMyhbXSksIHIyID0gcSQzKChlMikgPT4ge1xuICAgICAgZm9yIChsZXQgYTIgb2YgbjIuY3VycmVudCkgYTIgIT0gbnVsbCAmJiAodHlwZW9mIGEyID09IFwiZnVuY3Rpb25cIiA/IGEyKGUyKSA6IGEyLmN1cnJlbnQgPSBlMik7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiAoLi4uZTIpID0+IHtcbiAgICAgIGlmICghZTIuZXZlcnkoKGEyKSA9PiBhMiA9PSBudWxsKSkgcmV0dXJuIG4yLmN1cnJlbnQgPSBlMiwgcjI7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiAkKC4uLm4yKSB7XG4gICAgcmV0dXJuIG4yLmV2ZXJ5KChyMikgPT4gcjIgPT0gbnVsbCkgPyB2b2lkIDAgOiAocjIpID0+IHtcbiAgICAgIGZvciAobGV0IGUyIG9mIG4yKSBlMiAhPSBudWxsICYmICh0eXBlb2YgZTIgPT0gXCJmdW5jdGlvblwiID8gZTIocjIpIDogZTIuY3VycmVudCA9IHIyKTtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIFAkMiguLi5uMikge1xuICAgIGlmIChuMi5sZW5ndGggPT09IDApIHJldHVybiB7fTtcbiAgICBpZiAobjIubGVuZ3RoID09PSAxKSByZXR1cm4gbjJbMF07XG4gICAgbGV0IHIyID0ge30sIGUyID0ge307XG4gICAgZm9yIChsZXQgczIgb2YgbjIpIGZvciAobGV0IHQyIGluIHMyKSB0Mi5zdGFydHNXaXRoKFwib25cIikgJiYgdHlwZW9mIHMyW3QyXSA9PSBcImZ1bmN0aW9uXCIgPyAoZTJbdDJdICE9IG51bGwgfHwgKGUyW3QyXSA9IFtdKSwgZTJbdDJdLnB1c2goczJbdDJdKSkgOiByMlt0Ml0gPSBzMlt0Ml07XG4gICAgaWYgKHIyLmRpc2FibGVkIHx8IHIyW1wiYXJpYS1kaXNhYmxlZFwiXSkgZm9yIChsZXQgczIgaW4gZTIpIC9eKG9uKD86Q2xpY2t8UG9pbnRlcnxNb3VzZXxLZXkpKD86RG93bnxVcHxQcmVzcyk/KSQvLnRlc3QoczIpICYmIChlMltzMl0gPSBbKHQyKSA9PiB7XG4gICAgICB2YXIgbDI7XG4gICAgICByZXR1cm4gKGwyID0gdDIgPT0gbnVsbCA/IHZvaWQgMCA6IHQyLnByZXZlbnREZWZhdWx0KSA9PSBudWxsID8gdm9pZCAwIDogbDIuY2FsbCh0Mik7XG4gICAgfV0pO1xuICAgIGZvciAobGV0IHMyIGluIGUyKSBPYmplY3QuYXNzaWduKHIyLCB7IFtzMl0odDIsIC4uLmwyKSB7XG4gICAgICBsZXQgaTIgPSBlMltzMl07XG4gICAgICBmb3IgKGxldCBvMiBvZiBpMikge1xuICAgICAgICBpZiAoKHQyIGluc3RhbmNlb2YgRXZlbnQgfHwgKHQyID09IG51bGwgPyB2b2lkIDAgOiB0Mi5uYXRpdmVFdmVudCkgaW5zdGFuY2VvZiBFdmVudCkgJiYgdDIuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuO1xuICAgICAgICBvMih0MiwgLi4ubDIpO1xuICAgICAgfVxuICAgIH0gfSk7XG4gICAgcmV0dXJuIHIyO1xuICB9XG4gIGZ1bmN0aW9uIF8kMiguLi5uMikge1xuICAgIGlmIChuMi5sZW5ndGggPT09IDApIHJldHVybiB7fTtcbiAgICBpZiAobjIubGVuZ3RoID09PSAxKSByZXR1cm4gbjJbMF07XG4gICAgbGV0IHIyID0ge30sIGUyID0ge307XG4gICAgZm9yIChsZXQgczIgb2YgbjIpIGZvciAobGV0IHQyIGluIHMyKSB0Mi5zdGFydHNXaXRoKFwib25cIikgJiYgdHlwZW9mIHMyW3QyXSA9PSBcImZ1bmN0aW9uXCIgPyAoZTJbdDJdICE9IG51bGwgfHwgKGUyW3QyXSA9IFtdKSwgZTJbdDJdLnB1c2goczJbdDJdKSkgOiByMlt0Ml0gPSBzMlt0Ml07XG4gICAgZm9yIChsZXQgczIgaW4gZTIpIE9iamVjdC5hc3NpZ24ocjIsIHsgW3MyXSguLi50Mikge1xuICAgICAgbGV0IGwyID0gZTJbczJdO1xuICAgICAgZm9yIChsZXQgaTIgb2YgbDIpIGkyID09IG51bGwgfHwgaTIoLi4udDIpO1xuICAgIH0gfSk7XG4gICAgcmV0dXJuIHIyO1xuICB9XG4gIGZ1bmN0aW9uIEskMShuMikge1xuICAgIHZhciByMjtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihEJDEobjIpLCB7IGRpc3BsYXlOYW1lOiAocjIgPSBuMi5kaXNwbGF5TmFtZSkgIT0gbnVsbCA/IHIyIDogbjIubmFtZSB9KTtcbiAgfVxuICBmdW5jdGlvbiBtJDQobjIpIHtcbiAgICBsZXQgcjIgPSBPYmplY3QuYXNzaWduKHt9LCBuMik7XG4gICAgZm9yIChsZXQgZTIgaW4gcjIpIHIyW2UyXSA9PT0gdm9pZCAwICYmIGRlbGV0ZSByMltlMl07XG4gICAgcmV0dXJuIHIyO1xuICB9XG4gIGZ1bmN0aW9uIGgkNChuMiwgcjIgPSBbXSkge1xuICAgIGxldCBlMiA9IE9iamVjdC5hc3NpZ24oe30sIG4yKTtcbiAgICBmb3IgKGxldCBhMiBvZiByMikgYTIgaW4gZTIgJiYgZGVsZXRlIGUyW2EyXTtcbiAgICByZXR1cm4gZTI7XG4gIH1cbiAgZnVuY3Rpb24gSCQ0KG4yKSB7XG4gICAgcmV0dXJuIFJuLnZlcnNpb24uc3BsaXQoXCIuXCIpWzBdID49IFwiMTlcIiA/IG4yLnByb3BzLnJlZiA6IG4yLnJlZjtcbiAgfVxuICBsZXQgUiQyID0gXCJidXR0b25cIjtcbiAgZnVuY3Rpb24gdiQxKGEyLCB1Mikge1xuICAgIHZhciBwMjtcbiAgICBsZXQgbDIgPSBhJDkoKSwgeyBkaXNhYmxlZDogZTIgPSBsMiB8fCBmYWxzZSwgYXV0b0ZvY3VzOiB0MiA9IGZhbHNlLCAuLi5vMiB9ID0gYTIsIHsgaXNGb2N1c1Zpc2libGU6IHIyLCBmb2N1c1Byb3BzOiBpMiB9ID0gJGY3ZGNlZmZjNWFkNzc2OGIkZXhwb3J0JDRlMzI4ZjYxYzUzODY4N2YoeyBhdXRvRm9jdXM6IHQyIH0pLCB7IGlzSG92ZXJlZDogczIsIGhvdmVyUHJvcHM6IFQyIH0gPSAkNjE3OWI5MzY3MDVlNzZkMyRleHBvcnQkYWU3ODBkYWYyOWU2ZDQ1Nih7IGlzRGlzYWJsZWQ6IGUyIH0pLCB7IHByZXNzZWQ6IG4yLCBwcmVzc1Byb3BzOiBkMiB9ID0gdyQyKHsgZGlzYWJsZWQ6IGUyIH0pLCBmMiA9IF8kMih7IHJlZjogdTIsIHR5cGU6IChwMiA9IG8yLnR5cGUpICE9IG51bGwgPyBwMiA6IFwiYnV0dG9uXCIsIGRpc2FibGVkOiBlMiB8fCB2b2lkIDAsIGF1dG9Gb2N1czogdDIgfSwgaTIsIFQyLCBkMiksIG0yID0gVCQ1KCgpID0+ICh7IGRpc2FibGVkOiBlMiwgaG92ZXI6IHMyLCBmb2N1czogcjIsIGFjdGl2ZTogbjIsIGF1dG9mb2N1czogdDIgfSksIFtlMiwgczIsIHIyLCBuMiwgdDJdKTtcbiAgICByZXR1cm4gTCQyKCkoeyBvdXJQcm9wczogZjIsIHRoZWlyUHJvcHM6IG8yLCBzbG90OiBtMiwgZGVmYXVsdFRhZzogUiQyLCBuYW1lOiBcIkJ1dHRvblwiIH0pO1xuICB9XG4gIGxldCBIJDMgPSBLJDEodiQxKTtcbiAgbGV0IGUkMiA9IEskMyh2b2lkIDApO1xuICBmdW5jdGlvbiB1JDYoKSB7XG4gICAgcmV0dXJuIHgkNChlJDIpO1xuICB9XG4gIGZ1bmN0aW9uIHIkMShuMikge1xuICAgIGxldCBlMiA9IG4yLnBhcmVudEVsZW1lbnQsIGwyID0gbnVsbDtcbiAgICBmb3IgKDsgZTIgJiYgIShlMiBpbnN0YW5jZW9mIEhUTUxGaWVsZFNldEVsZW1lbnQpOyApIGUyIGluc3RhbmNlb2YgSFRNTExlZ2VuZEVsZW1lbnQgJiYgKGwyID0gZTIpLCBlMiA9IGUyLnBhcmVudEVsZW1lbnQ7XG4gICAgbGV0IHQyID0gKGUyID09IG51bGwgPyB2b2lkIDAgOiBlMi5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSkgPT09IFwiXCI7XG4gICAgcmV0dXJuIHQyICYmIGkkNShsMikgPyBmYWxzZSA6IHQyO1xuICB9XG4gIGZ1bmN0aW9uIGkkNShuMikge1xuICAgIGlmICghbjIpIHJldHVybiBmYWxzZTtcbiAgICBsZXQgZTIgPSBuMi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgIGZvciAoOyBlMiAhPT0gbnVsbDsgKSB7XG4gICAgICBpZiAoZTIgaW5zdGFuY2VvZiBIVE1MTGVnZW5kRWxlbWVudCkgcmV0dXJuIGZhbHNlO1xuICAgICAgZTIgPSBlMi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBsZXQgdSQ1ID0gU3ltYm9sKCk7XG4gIGZ1bmN0aW9uIFQkMyh0MiwgbjIgPSB0cnVlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24odDIsIHsgW3UkNV06IG4yIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHkkNSguLi50Mikge1xuICAgIGxldCBuMiA9IEEkMyh0Mik7XG4gICAgeSQ2KCgpID0+IHtcbiAgICAgIG4yLmN1cnJlbnQgPSB0MjtcbiAgICB9LCBbdDJdKTtcbiAgICBsZXQgYzIgPSBvJDQoKGUyKSA9PiB7XG4gICAgICBmb3IgKGxldCBvMiBvZiBuMi5jdXJyZW50KSBvMiAhPSBudWxsICYmICh0eXBlb2YgbzIgPT0gXCJmdW5jdGlvblwiID8gbzIoZTIpIDogbzIuY3VycmVudCA9IGUyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdDIuZXZlcnkoKGUyKSA9PiBlMiA9PSBudWxsIHx8IChlMiA9PSBudWxsID8gdm9pZCAwIDogZTJbdSQ1XSkpID8gdm9pZCAwIDogYzI7XG4gIH1cbiAgbGV0IGEkOCA9IEskMyhudWxsKTtcbiAgYSQ4LmRpc3BsYXlOYW1lID0gXCJEZXNjcmlwdGlvbkNvbnRleHRcIjtcbiAgZnVuY3Rpb24gZiQ2KCkge1xuICAgIGxldCByMiA9IHgkNChhJDgpO1xuICAgIGlmIChyMiA9PT0gbnVsbCkge1xuICAgICAgbGV0IGUyID0gbmV3IEVycm9yKFwiWW91IHVzZWQgYSA8RGVzY3JpcHRpb24gLz4gY29tcG9uZW50LCBidXQgaXQgaXMgbm90IGluc2lkZSBhIHJlbGV2YW50IHBhcmVudC5cIik7XG4gICAgICB0aHJvdyBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSAmJiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlMiwgZiQ2KSwgZTI7XG4gICAgfVxuICAgIHJldHVybiByMjtcbiAgfVxuICBmdW5jdGlvbiBVJDEoKSB7XG4gICAgdmFyIHIyLCBlMjtcbiAgICByZXR1cm4gKGUyID0gKHIyID0geCQ0KGEkOCkpID09IG51bGwgPyB2b2lkIDAgOiByMi52YWx1ZSkgIT0gbnVsbCA/IGUyIDogdm9pZCAwO1xuICB9XG4gIGZ1bmN0aW9uIHckMSgpIHtcbiAgICBsZXQgW3IyLCBlMl0gPSBkJDQoW10pO1xuICAgIHJldHVybiBbcjIubGVuZ3RoID4gMCA/IHIyLmpvaW4oXCIgXCIpIDogdm9pZCAwLCBUJDUoKCkgPT4gZnVuY3Rpb24odDIpIHtcbiAgICAgIGxldCBpMiA9IG8kNCgobjIpID0+IChlMigoczIpID0+IFsuLi5zMiwgbjJdKSwgKCkgPT4gZTIoKHMyKSA9PiB7XG4gICAgICAgIGxldCBvMiA9IHMyLnNsaWNlKCksIHAyID0gbzIuaW5kZXhPZihuMik7XG4gICAgICAgIHJldHVybiBwMiAhPT0gLTEgJiYgbzIuc3BsaWNlKHAyLCAxKSwgbzI7XG4gICAgICB9KSkpLCBsMiA9IFQkNSgoKSA9PiAoeyByZWdpc3RlcjogaTIsIHNsb3Q6IHQyLnNsb3QsIG5hbWU6IHQyLm5hbWUsIHByb3BzOiB0Mi5wcm9wcywgdmFsdWU6IHQyLnZhbHVlIH0pLCBbaTIsIHQyLnNsb3QsIHQyLm5hbWUsIHQyLnByb3BzLCB0Mi52YWx1ZV0pO1xuICAgICAgcmV0dXJuIFJuLmNyZWF0ZUVsZW1lbnQoYSQ4LlByb3ZpZGVyLCB7IHZhbHVlOiBsMiB9LCB0Mi5jaGlsZHJlbik7XG4gICAgfSwgW2UyXSldO1xuICB9XG4gIGxldCBTJDQgPSBcInBcIjtcbiAgZnVuY3Rpb24gQyQxKHIyLCBlMikge1xuICAgIGxldCBkMiA9IGckMygpLCB0MiA9IGEkOSgpLCB7IGlkOiBpMiA9IGBoZWFkbGVzc3VpLWRlc2NyaXB0aW9uLSR7ZDJ9YCwgLi4ubDIgfSA9IHIyLCBuMiA9IGYkNigpLCBzMiA9IHkkNShlMik7XG4gICAgbiQzKCgpID0+IG4yLnJlZ2lzdGVyKGkyKSwgW2kyLCBuMi5yZWdpc3Rlcl0pO1xuICAgIGxldCBvMiA9IHQyIHx8IGZhbHNlLCBwMiA9IFQkNSgoKSA9PiAoeyAuLi5uMi5zbG90LCBkaXNhYmxlZDogbzIgfSksIFtuMi5zbG90LCBvMl0pLCBEMiA9IHsgcmVmOiBzMiwgLi4ubjIucHJvcHMsIGlkOiBpMiB9O1xuICAgIHJldHVybiBMJDIoKSh7IG91clByb3BzOiBEMiwgdGhlaXJQcm9wczogbDIsIHNsb3Q6IHAyLCBkZWZhdWx0VGFnOiBTJDQsIG5hbWU6IG4yLm5hbWUgfHwgXCJEZXNjcmlwdGlvblwiIH0pO1xuICB9XG4gIGxldCBfJDEgPSBLJDEoQyQxKTtcbiAgT2JqZWN0LmFzc2lnbihfJDEsIHt9KTtcbiAgdmFyIG8kMyA9ICgocjIpID0+IChyMi5TcGFjZSA9IFwiIFwiLCByMi5FbnRlciA9IFwiRW50ZXJcIiwgcjIuRXNjYXBlID0gXCJFc2NhcGVcIiwgcjIuQmFja3NwYWNlID0gXCJCYWNrc3BhY2VcIiwgcjIuRGVsZXRlID0gXCJEZWxldGVcIiwgcjIuQXJyb3dMZWZ0ID0gXCJBcnJvd0xlZnRcIiwgcjIuQXJyb3dVcCA9IFwiQXJyb3dVcFwiLCByMi5BcnJvd1JpZ2h0ID0gXCJBcnJvd1JpZ2h0XCIsIHIyLkFycm93RG93biA9IFwiQXJyb3dEb3duXCIsIHIyLkhvbWUgPSBcIkhvbWVcIiwgcjIuRW5kID0gXCJFbmRcIiwgcjIuUGFnZVVwID0gXCJQYWdlVXBcIiwgcjIuUGFnZURvd24gPSBcIlBhZ2VEb3duXCIsIHIyLlRhYiA9IFwiVGFiXCIsIHIyKSkobyQzIHx8IHt9KTtcbiAgbGV0IGMkNSA9IEskMyhudWxsKTtcbiAgYyQ1LmRpc3BsYXlOYW1lID0gXCJMYWJlbENvbnRleHRcIjtcbiAgZnVuY3Rpb24gUCQxKCkge1xuICAgIGxldCByMiA9IHgkNChjJDUpO1xuICAgIGlmIChyMiA9PT0gbnVsbCkge1xuICAgICAgbGV0IGwyID0gbmV3IEVycm9yKFwiWW91IHVzZWQgYSA8TGFiZWwgLz4gY29tcG9uZW50LCBidXQgaXQgaXMgbm90IGluc2lkZSBhIHJlbGV2YW50IHBhcmVudC5cIik7XG4gICAgICB0aHJvdyBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSAmJiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShsMiwgUCQxKSwgbDI7XG4gICAgfVxuICAgIHJldHVybiByMjtcbiAgfVxuICBmdW5jdGlvbiBJJDIocjIpIHtcbiAgICB2YXIgYTIsIGUyLCBvMjtcbiAgICBsZXQgbDIgPSAoZTIgPSAoYTIgPSB4JDQoYyQ1KSkgPT0gbnVsbCA/IHZvaWQgMCA6IGEyLnZhbHVlKSAhPSBudWxsID8gZTIgOiB2b2lkIDA7XG4gICAgcmV0dXJuICgobzIgPSB2b2lkIDApICE9IG51bGwgPyBvMiA6IDApID4gMCA/IFtsMiwgLi4ucjJdLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKSA6IGwyO1xuICB9XG4gIGZ1bmN0aW9uIEsoeyBpbmhlcml0OiByMiA9IGZhbHNlIH0gPSB7fSkge1xuICAgIGxldCBsMiA9IEkkMigpLCBbYTIsIGUyXSA9IGQkNChbXSksIG8yID0gcjIgPyBbbDIsIC4uLmEyXS5maWx0ZXIoQm9vbGVhbikgOiBhMjtcbiAgICByZXR1cm4gW28yLmxlbmd0aCA+IDAgPyBvMi5qb2luKFwiIFwiKSA6IHZvaWQgMCwgVCQ1KCgpID0+IGZ1bmN0aW9uKHQyKSB7XG4gICAgICBsZXQgczIgPSBvJDQoKGkyKSA9PiAoZTIoKHAyKSA9PiBbLi4ucDIsIGkyXSksICgpID0+IGUyKChwMikgPT4ge1xuICAgICAgICBsZXQgdTIgPSBwMi5zbGljZSgpLCBkMiA9IHUyLmluZGV4T2YoaTIpO1xuICAgICAgICByZXR1cm4gZDIgIT09IC0xICYmIHUyLnNwbGljZShkMiwgMSksIHUyO1xuICAgICAgfSkpKSwgbTIgPSBUJDUoKCkgPT4gKHsgcmVnaXN0ZXI6IHMyLCBzbG90OiB0Mi5zbG90LCBuYW1lOiB0Mi5uYW1lLCBwcm9wczogdDIucHJvcHMsIHZhbHVlOiB0Mi52YWx1ZSB9KSwgW3MyLCB0Mi5zbG90LCB0Mi5uYW1lLCB0Mi5wcm9wcywgdDIudmFsdWVdKTtcbiAgICAgIHJldHVybiBSbi5jcmVhdGVFbGVtZW50KGMkNS5Qcm92aWRlciwgeyB2YWx1ZTogbTIgfSwgdDIuY2hpbGRyZW4pO1xuICAgIH0sIFtlMl0pXTtcbiAgfVxuICBsZXQgTiA9IFwibGFiZWxcIjtcbiAgZnVuY3Rpb24gRyQxKHIyLCBsMikge1xuICAgIHZhciB5MjtcbiAgICBsZXQgYTIgPSBnJDMoKSwgZTIgPSBQJDEoKSwgbzIgPSB1JDYoKSwgZzIgPSBhJDkoKSwgeyBpZDogdDIgPSBgaGVhZGxlc3N1aS1sYWJlbC0ke2EyfWAsIGh0bWxGb3I6IHMyID0gbzIgIT0gbnVsbCA/IG8yIDogKHkyID0gZTIucHJvcHMpID09IG51bGwgPyB2b2lkIDAgOiB5Mi5odG1sRm9yLCBwYXNzaXZlOiBtMiA9IGZhbHNlLCAuLi5pMiB9ID0gcjIsIHAyID0geSQ1KGwyKTtcbiAgICBuJDMoKCkgPT4gZTIucmVnaXN0ZXIodDIpLCBbdDIsIGUyLnJlZ2lzdGVyXSk7XG4gICAgbGV0IHUyID0gbyQ0KChMMikgPT4ge1xuICAgICAgbGV0IGIyID0gTDIuY3VycmVudFRhcmdldDtcbiAgICAgIGlmIChiMiBpbnN0YW5jZW9mIEhUTUxMYWJlbEVsZW1lbnQgJiYgTDIucHJldmVudERlZmF1bHQoKSwgZTIucHJvcHMgJiYgXCJvbkNsaWNrXCIgaW4gZTIucHJvcHMgJiYgdHlwZW9mIGUyLnByb3BzLm9uQ2xpY2sgPT0gXCJmdW5jdGlvblwiICYmIGUyLnByb3BzLm9uQ2xpY2soTDIpLCBiMiBpbnN0YW5jZW9mIEhUTUxMYWJlbEVsZW1lbnQpIHtcbiAgICAgICAgbGV0IG4yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYjIuaHRtbEZvcik7XG4gICAgICAgIGlmIChuMikge1xuICAgICAgICAgIGxldCBFMiA9IG4yLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgICAgICAgIGlmIChFMiA9PT0gXCJ0cnVlXCIgfHwgRTIgPT09IFwiXCIpIHJldHVybjtcbiAgICAgICAgICBsZXQgeDIgPSBuMi5nZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIpO1xuICAgICAgICAgIGlmICh4MiA9PT0gXCJ0cnVlXCIgfHwgeDIgPT09IFwiXCIpIHJldHVybjtcbiAgICAgICAgICAobjIgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIChuMi50eXBlID09PSBcInJhZGlvXCIgfHwgbjIudHlwZSA9PT0gXCJjaGVja2JveFwiKSB8fCBuMi5yb2xlID09PSBcInJhZGlvXCIgfHwgbjIucm9sZSA9PT0gXCJjaGVja2JveFwiIHx8IG4yLnJvbGUgPT09IFwic3dpdGNoXCIpICYmIG4yLmNsaWNrKCksIG4yLmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLCBkMiA9IGcyIHx8IGZhbHNlLCBDMiA9IFQkNSgoKSA9PiAoeyAuLi5lMi5zbG90LCBkaXNhYmxlZDogZDIgfSksIFtlMi5zbG90LCBkMl0pLCBmMiA9IHsgcmVmOiBwMiwgLi4uZTIucHJvcHMsIGlkOiB0MiwgaHRtbEZvcjogczIsIG9uQ2xpY2s6IHUyIH07XG4gICAgcmV0dXJuIG0yICYmIChcIm9uQ2xpY2tcIiBpbiBmMiAmJiAoZGVsZXRlIGYyLmh0bWxGb3IsIGRlbGV0ZSBmMi5vbkNsaWNrKSwgXCJvbkNsaWNrXCIgaW4gaTIgJiYgZGVsZXRlIGkyLm9uQ2xpY2spLCBMJDIoKSh7IG91clByb3BzOiBmMiwgdGhlaXJQcm9wczogaTIsIHNsb3Q6IEMyLCBkZWZhdWx0VGFnOiBzMiA/IE4gOiBcImRpdlwiLCBuYW1lOiBlMi5uYW1lIHx8IFwiTGFiZWxcIiB9KTtcbiAgfVxuICBsZXQgVSA9IEskMShHJDEpO1xuICBPYmplY3QuYXNzaWduKFUsIHt9KTtcbiAgZnVuY3Rpb24gZiQ1KGUyKSB7XG4gICAgaWYgKGUyID09PSBudWxsKSByZXR1cm4geyB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgbGV0IHsgd2lkdGg6IHQyLCBoZWlnaHQ6IHIyIH0gPSBlMi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4geyB3aWR0aDogdDIsIGhlaWdodDogcjIgfTtcbiAgfVxuICBmdW5jdGlvbiBkJDIoZTIsIHQyID0gZmFsc2UpIHtcbiAgICBsZXQgW3IyLCB1Ml0gPSBoJDUoKCkgPT4gKHt9KSwge30pLCBpMiA9IFQkNSgoKSA9PiBmJDUoZTIpLCBbZTIsIHIyXSk7XG4gICAgcmV0dXJuIG4kMygoKSA9PiB7XG4gICAgICBpZiAoIWUyKSByZXR1cm47XG4gICAgICBsZXQgbjIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIodTIpO1xuICAgICAgcmV0dXJuIG4yLm9ic2VydmUoZTIpLCAoKSA9PiB7XG4gICAgICAgIG4yLmRpc2Nvbm5lY3QoKTtcbiAgICAgIH07XG4gICAgfSwgW2UyXSksIHQyID8geyB3aWR0aDogYCR7aTIud2lkdGh9cHhgLCBoZWlnaHQ6IGAke2kyLmhlaWdodH1weGAgfSA6IGkyO1xuICB9XG4gIGxldCBhJDcgPSBjbGFzcyBhIGV4dGVuZHMgTWFwIHtcbiAgICBjb25zdHJ1Y3Rvcih0Mikge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIHRoaXMuZmFjdG9yeSA9IHQyO1xuICAgIH1cbiAgICBnZXQodDIpIHtcbiAgICAgIGxldCBlMiA9IHN1cGVyLmdldCh0Mik7XG4gICAgICByZXR1cm4gZTIgPT09IHZvaWQgMCAmJiAoZTIgPSB0aGlzLmZhY3RvcnkodDIpLCB0aGlzLnNldCh0MiwgZTIpKSwgZTI7XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBhJDYobzIsIHIyKSB7XG4gICAgbGV0IHQyID0gbzIoKSwgbjIgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIHJldHVybiB7IGdldFNuYXBzaG90KCkge1xuICAgICAgcmV0dXJuIHQyO1xuICAgIH0sIHN1YnNjcmliZShlMikge1xuICAgICAgcmV0dXJuIG4yLmFkZChlMiksICgpID0+IG4yLmRlbGV0ZShlMik7XG4gICAgfSwgZGlzcGF0Y2goZTIsIC4uLnMyKSB7XG4gICAgICBsZXQgaTIgPSByMltlMl0uY2FsbCh0MiwgLi4uczIpO1xuICAgICAgaTIgJiYgKHQyID0gaTIsIG4yLmZvckVhY2goKGMyKSA9PiBjMigpKSk7XG4gICAgfSB9O1xuICB9XG4gIGZ1bmN0aW9uIG8kMih0Mikge1xuICAgIHJldHVybiBDJDModDIuc3Vic2NyaWJlLCB0Mi5nZXRTbmFwc2hvdCwgdDIuZ2V0U25hcHNob3QpO1xuICB9XG4gIGxldCBwJDEgPSBuZXcgYSQ3KCgpID0+IGEkNigoKSA9PiBbXSwgeyBBREQocjIpIHtcbiAgICByZXR1cm4gdGhpcy5pbmNsdWRlcyhyMikgPyB0aGlzIDogWy4uLnRoaXMsIHIyXTtcbiAgfSwgUkVNT1ZFKHIyKSB7XG4gICAgbGV0IGUyID0gdGhpcy5pbmRleE9mKHIyKTtcbiAgICBpZiAoZTIgPT09IC0xKSByZXR1cm4gdGhpcztcbiAgICBsZXQgdDIgPSB0aGlzLnNsaWNlKCk7XG4gICAgcmV0dXJuIHQyLnNwbGljZShlMiwgMSksIHQyO1xuICB9IH0pKTtcbiAgZnVuY3Rpb24geCQyKHIyLCBlMikge1xuICAgIGxldCB0MiA9IHAkMS5nZXQoZTIpLCBpMiA9IGckMygpLCBoMiA9IG8kMih0Mik7XG4gICAgaWYgKG4kMygoKSA9PiB7XG4gICAgICBpZiAocjIpIHJldHVybiB0Mi5kaXNwYXRjaChcIkFERFwiLCBpMiksICgpID0+IHQyLmRpc3BhdGNoKFwiUkVNT1ZFXCIsIGkyKTtcbiAgICB9LCBbdDIsIHIyXSksICFyMikgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBzMiA9IGgyLmluZGV4T2YoaTIpLCBvMiA9IGgyLmxlbmd0aDtcbiAgICByZXR1cm4gczIgPT09IC0xICYmIChzMiA9IG8yLCBvMiArPSAxKSwgczIgPT09IG8yIC0gMTtcbiAgfVxuICBsZXQgZiQ0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgdSQ0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgZnVuY3Rpb24gaCQzKHQyKSB7XG4gICAgdmFyIGUyO1xuICAgIGxldCByMiA9IChlMiA9IHUkNC5nZXQodDIpKSAhPSBudWxsID8gZTIgOiAwO1xuICAgIHJldHVybiB1JDQuc2V0KHQyLCByMiArIDEpLCByMiAhPT0gMCA/ICgpID0+IG0kMyh0MikgOiAoZiQ0LnNldCh0MiwgeyBcImFyaWEtaGlkZGVuXCI6IHQyLmdldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIpLCBpbmVydDogdDIuaW5lcnQgfSksIHQyLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKSwgdDIuaW5lcnQgPSB0cnVlLCAoKSA9PiBtJDModDIpKTtcbiAgfVxuICBmdW5jdGlvbiBtJDModDIpIHtcbiAgICB2YXIgaTI7XG4gICAgbGV0IHIyID0gKGkyID0gdSQ0LmdldCh0MikpICE9IG51bGwgPyBpMiA6IDE7XG4gICAgaWYgKHIyID09PSAxID8gdSQ0LmRlbGV0ZSh0MikgOiB1JDQuc2V0KHQyLCByMiAtIDEpLCByMiAhPT0gMSkgcmV0dXJuO1xuICAgIGxldCBlMiA9IGYkNC5nZXQodDIpO1xuICAgIGUyICYmIChlMltcImFyaWEtaGlkZGVuXCJdID09PSBudWxsID8gdDIucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIikgOiB0Mi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBlMltcImFyaWEtaGlkZGVuXCJdKSwgdDIuaW5lcnQgPSBlMi5pbmVydCwgZiQ0LmRlbGV0ZSh0MikpO1xuICB9XG4gIGZ1bmN0aW9uIHkkNCh0MiwgeyBhbGxvd2VkOiByMiwgZGlzYWxsb3dlZDogZTIgfSA9IHt9KSB7XG4gICAgbGV0IGkyID0geCQyKHQyLCBcImluZXJ0LW90aGVyc1wiKTtcbiAgICBuJDMoKCkgPT4ge1xuICAgICAgdmFyIGQyLCBjMjtcbiAgICAgIGlmICghaTIpIHJldHVybjtcbiAgICAgIGxldCBhMiA9IG8kNSgpO1xuICAgICAgZm9yIChsZXQgbjIgb2YgKGQyID0gZTIgPT0gbnVsbCA/IHZvaWQgMCA6IGUyKCkpICE9IG51bGwgPyBkMiA6IFtdKSBuMiAmJiBhMi5hZGQoaCQzKG4yKSk7XG4gICAgICBsZXQgczIgPSAoYzIgPSByMiA9PSBudWxsID8gdm9pZCAwIDogcjIoKSkgIT0gbnVsbCA/IGMyIDogW107XG4gICAgICBmb3IgKGxldCBuMiBvZiBzMikge1xuICAgICAgICBpZiAoIW4yKSBjb250aW51ZTtcbiAgICAgICAgbGV0IGwyID0gbyQ2KG4yKTtcbiAgICAgICAgaWYgKCFsMikgY29udGludWU7XG4gICAgICAgIGxldCBvMiA9IG4yLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGZvciAoOyBvMiAmJiBvMiAhPT0gbDIuYm9keTsgKSB7XG4gICAgICAgICAgZm9yIChsZXQgcDIgb2YgbzIuY2hpbGRyZW4pIHMyLnNvbWUoKEUyKSA9PiBwMi5jb250YWlucyhFMikpIHx8IGEyLmFkZChoJDMocDIpKTtcbiAgICAgICAgICBvMiA9IG8yLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhMi5kaXNwb3NlO1xuICAgIH0sIFtpMiwgcjIsIGUyXSk7XG4gIH1cbiAgZnVuY3Rpb24gbSQyKHMyLCBuMiwgbDIpIHtcbiAgICBsZXQgaTIgPSBzJDYoKHQyKSA9PiB7XG4gICAgICBsZXQgZTIgPSB0Mi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGUyLnggPT09IDAgJiYgZTIueSA9PT0gMCAmJiBlMi53aWR0aCA9PT0gMCAmJiBlMi5oZWlnaHQgPT09IDAgJiYgbDIoKTtcbiAgICB9KTtcbiAgICB5JDYoKCkgPT4ge1xuICAgICAgaWYgKCFzMikgcmV0dXJuO1xuICAgICAgbGV0IHQyID0gbjIgPT09IG51bGwgPyBudWxsIDogbjIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/IG4yIDogbjIuY3VycmVudDtcbiAgICAgIGlmICghdDIpIHJldHVybjtcbiAgICAgIGxldCBlMiA9IG8kNSgpO1xuICAgICAgaWYgKHR5cGVvZiBSZXNpemVPYnNlcnZlciAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGxldCByMiA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiBpMi5jdXJyZW50KHQyKSk7XG4gICAgICAgIHIyLm9ic2VydmUodDIpLCBlMi5hZGQoKCkgPT4gcjIuZGlzY29ubmVjdCgpKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBsZXQgcjIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKCkgPT4gaTIuY3VycmVudCh0MikpO1xuICAgICAgICByMi5vYnNlcnZlKHQyKSwgZTIuYWRkKCgpID0+IHIyLmRpc2Nvbm5lY3QoKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKCkgPT4gZTIuZGlzcG9zZSgpO1xuICAgIH0sIFtuMiwgaTIsIHMyXSk7XG4gIH1cbiAgbGV0IGYkMyA9IFtcIltjb250ZW50RWRpdGFibGU9dHJ1ZV1cIiwgXCJbdGFiaW5kZXhdXCIsIFwiYVtocmVmXVwiLCBcImFyZWFbaHJlZl1cIiwgXCJidXR0b246bm90KFtkaXNhYmxlZF0pXCIsIFwiaWZyYW1lXCIsIFwiaW5wdXQ6bm90KFtkaXNhYmxlZF0pXCIsIFwic2VsZWN0Om5vdChbZGlzYWJsZWRdKVwiLCBcInRleHRhcmVhOm5vdChbZGlzYWJsZWRdKVwiXS5tYXAoKGUyKSA9PiBgJHtlMn06bm90KFt0YWJpbmRleD0nLTEnXSlgKS5qb2luKFwiLFwiKSwgcCA9IFtcIltkYXRhLWF1dG9mb2N1c11cIl0ubWFwKChlMikgPT4gYCR7ZTJ9Om5vdChbdGFiaW5kZXg9Jy0xJ10pYCkuam9pbihcIixcIik7XG4gIHZhciBGJDIgPSAoKG4yKSA9PiAobjJbbjIuRmlyc3QgPSAxXSA9IFwiRmlyc3RcIiwgbjJbbjIuUHJldmlvdXMgPSAyXSA9IFwiUHJldmlvdXNcIiwgbjJbbjIuTmV4dCA9IDRdID0gXCJOZXh0XCIsIG4yW24yLkxhc3QgPSA4XSA9IFwiTGFzdFwiLCBuMltuMi5XcmFwQXJvdW5kID0gMTZdID0gXCJXcmFwQXJvdW5kXCIsIG4yW24yLk5vU2Nyb2xsID0gMzJdID0gXCJOb1Njcm9sbFwiLCBuMltuMi5BdXRvRm9jdXMgPSA2NF0gPSBcIkF1dG9Gb2N1c1wiLCBuMikpKEYkMiB8fCB7fSksIFQkMiA9ICgobzIpID0+IChvMltvMi5FcnJvciA9IDBdID0gXCJFcnJvclwiLCBvMltvMi5PdmVyZmxvdyA9IDFdID0gXCJPdmVyZmxvd1wiLCBvMltvMi5TdWNjZXNzID0gMl0gPSBcIlN1Y2Nlc3NcIiwgbzJbbzIuVW5kZXJmbG93ID0gM10gPSBcIlVuZGVyZmxvd1wiLCBvMikpKFQkMiB8fCB7fSksIHkkMyA9ICgodDIpID0+ICh0Mlt0Mi5QcmV2aW91cyA9IC0xXSA9IFwiUHJldmlvdXNcIiwgdDJbdDIuTmV4dCA9IDFdID0gXCJOZXh0XCIsIHQyKSkoeSQzIHx8IHt9KTtcbiAgZnVuY3Rpb24gYiQzKGUyID0gZG9jdW1lbnQuYm9keSkge1xuICAgIHJldHVybiBlMiA9PSBudWxsID8gW10gOiBBcnJheS5mcm9tKGUyLnF1ZXJ5U2VsZWN0b3JBbGwoZiQzKSkuc29ydCgocjIsIHQyKSA9PiBNYXRoLnNpZ24oKHIyLnRhYkluZGV4IHx8IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSAtICh0Mi50YWJJbmRleCB8fCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikpKTtcbiAgfVxuICBmdW5jdGlvbiBTJDMoZTIgPSBkb2N1bWVudC5ib2R5KSB7XG4gICAgcmV0dXJuIGUyID09IG51bGwgPyBbXSA6IEFycmF5LmZyb20oZTIucXVlcnlTZWxlY3RvckFsbChwKSkuc29ydCgocjIsIHQyKSA9PiBNYXRoLnNpZ24oKHIyLnRhYkluZGV4IHx8IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSAtICh0Mi50YWJJbmRleCB8fCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikpKTtcbiAgfVxuICB2YXIgaCQyID0gKCh0MikgPT4gKHQyW3QyLlN0cmljdCA9IDBdID0gXCJTdHJpY3RcIiwgdDJbdDIuTG9vc2UgPSAxXSA9IFwiTG9vc2VcIiwgdDIpKShoJDIgfHwge30pO1xuICBmdW5jdGlvbiBBKGUyLCByMiA9IDApIHtcbiAgICB2YXIgdDI7XG4gICAgcmV0dXJuIGUyID09PSAoKHQyID0gbyQ2KGUyKSkgPT0gbnVsbCA/IHZvaWQgMCA6IHQyLmJvZHkpID8gZmFsc2UgOiB1JDcocjIsIHsgWzBdKCkge1xuICAgICAgcmV0dXJuIGUyLm1hdGNoZXMoZiQzKTtcbiAgICB9LCBbMV0oKSB7XG4gICAgICBsZXQgdTIgPSBlMjtcbiAgICAgIGZvciAoOyB1MiAhPT0gbnVsbDsgKSB7XG4gICAgICAgIGlmICh1Mi5tYXRjaGVzKGYkMykpIHJldHVybiB0cnVlO1xuICAgICAgICB1MiA9IHUyLnBhcmVudEVsZW1lbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSB9KTtcbiAgfVxuICBmdW5jdGlvbiBHKGUyKSB7XG4gICAgbGV0IHIyID0gbyQ2KGUyKTtcbiAgICBvJDUoKS5uZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgcjIgJiYgIUEocjIuYWN0aXZlRWxlbWVudCwgMCkgJiYgSSQxKGUyKTtcbiAgICB9KTtcbiAgfVxuICB2YXIgSCQyID0gKCh0MikgPT4gKHQyW3QyLktleWJvYXJkID0gMF0gPSBcIktleWJvYXJkXCIsIHQyW3QyLk1vdXNlID0gMV0gPSBcIk1vdXNlXCIsIHQyKSkoSCQyIHx8IHt9KTtcbiAgdHlwZW9mIHdpbmRvdyAhPSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBkb2N1bWVudCAhPSBcInVuZGVmaW5lZFwiICYmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZTIpID0+IHtcbiAgICBlMi5tZXRhS2V5IHx8IGUyLmFsdEtleSB8fCBlMi5jdHJsS2V5IHx8IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZGF0YXNldC5oZWFkbGVzc3VpRm9jdXNWaXNpYmxlID0gXCJcIik7XG4gIH0sIHRydWUpLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUyKSA9PiB7XG4gICAgZTIuZGV0YWlsID09PSAxID8gZGVsZXRlIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kYXRhc2V0LmhlYWRsZXNzdWlGb2N1c1Zpc2libGUgOiBlMi5kZXRhaWwgPT09IDAgJiYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kYXRhc2V0LmhlYWRsZXNzdWlGb2N1c1Zpc2libGUgPSBcIlwiKTtcbiAgfSwgdHJ1ZSkpO1xuICBmdW5jdGlvbiBJJDEoZTIpIHtcbiAgICBlMiA9PSBudWxsIHx8IGUyLmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgfVxuICBsZXQgdyA9IFtcInRleHRhcmVhXCIsIFwiaW5wdXRcIl0uam9pbihcIixcIik7XG4gIGZ1bmN0aW9uIE8oZTIpIHtcbiAgICB2YXIgcjIsIHQyO1xuICAgIHJldHVybiAodDIgPSAocjIgPSBlMiA9PSBudWxsID8gdm9pZCAwIDogZTIubWF0Y2hlcykgPT0gbnVsbCA/IHZvaWQgMCA6IHIyLmNhbGwoZTIsIHcpKSAhPSBudWxsID8gdDIgOiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBfKGUyLCByMiA9ICh0MikgPT4gdDIpIHtcbiAgICByZXR1cm4gZTIuc2xpY2UoKS5zb3J0KCh0MiwgdTIpID0+IHtcbiAgICAgIGxldCBvMiA9IHIyKHQyKSwgYzIgPSByMih1Mik7XG4gICAgICBpZiAobzIgPT09IG51bGwgfHwgYzIgPT09IG51bGwpIHJldHVybiAwO1xuICAgICAgbGV0IGwyID0gbzIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYzIpO1xuICAgICAgcmV0dXJuIGwyICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkcgPyAtMSA6IGwyICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9QUkVDRURJTkcgPyAxIDogMDtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBqJDIoZTIsIHIyKSB7XG4gICAgcmV0dXJuIFAoYiQzKCksIHIyLCB7IHJlbGF0aXZlVG86IGUyIH0pO1xuICB9XG4gIGZ1bmN0aW9uIFAoZTIsIHIyLCB7IHNvcnRlZDogdDIgPSB0cnVlLCByZWxhdGl2ZVRvOiB1MiA9IG51bGwsIHNraXBFbGVtZW50czogbzIgPSBbXSB9ID0ge30pIHtcbiAgICBsZXQgYzIgPSBBcnJheS5pc0FycmF5KGUyKSA/IGUyLmxlbmd0aCA+IDAgPyBlMlswXS5vd25lckRvY3VtZW50IDogZG9jdW1lbnQgOiBlMi5vd25lckRvY3VtZW50LCBsMiA9IEFycmF5LmlzQXJyYXkoZTIpID8gdDIgPyBfKGUyKSA6IGUyIDogcjIgJiA2NCA/IFMkMyhlMikgOiBiJDMoZTIpO1xuICAgIG8yLmxlbmd0aCA+IDAgJiYgbDIubGVuZ3RoID4gMSAmJiAobDIgPSBsMi5maWx0ZXIoKHMyKSA9PiAhbzIuc29tZSgoYTIpID0+IGEyICE9IG51bGwgJiYgXCJjdXJyZW50XCIgaW4gYTIgPyAoYTIgPT0gbnVsbCA/IHZvaWQgMCA6IGEyLmN1cnJlbnQpID09PSBzMiA6IGEyID09PSBzMikpKSwgdTIgPSB1MiAhPSBudWxsID8gdTIgOiBjMi5hY3RpdmVFbGVtZW50O1xuICAgIGxldCBuMiA9ICgoKSA9PiB7XG4gICAgICBpZiAocjIgJiA1KSByZXR1cm4gMTtcbiAgICAgIGlmIChyMiAmIDEwKSByZXR1cm4gLTE7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIEZvY3VzLkZpcnN0LCBGb2N1cy5QcmV2aW91cywgRm9jdXMuTmV4dCBvciBGb2N1cy5MYXN0XCIpO1xuICAgIH0pKCksIHgyID0gKCgpID0+IHtcbiAgICAgIGlmIChyMiAmIDEpIHJldHVybiAwO1xuICAgICAgaWYgKHIyICYgMikgcmV0dXJuIE1hdGgubWF4KDAsIGwyLmluZGV4T2YodTIpKSAtIDE7XG4gICAgICBpZiAocjIgJiA0KSByZXR1cm4gTWF0aC5tYXgoMCwgbDIuaW5kZXhPZih1MikpICsgMTtcbiAgICAgIGlmIChyMiAmIDgpIHJldHVybiBsMi5sZW5ndGggLSAxO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBGb2N1cy5GaXJzdCwgRm9jdXMuUHJldmlvdXMsIEZvY3VzLk5leHQgb3IgRm9jdXMuTGFzdFwiKTtcbiAgICB9KSgpLCBNMiA9IHIyICYgMzIgPyB7IHByZXZlbnRTY3JvbGw6IHRydWUgfSA6IHt9LCBtMiA9IDAsIGQyID0gbDIubGVuZ3RoLCBpMjtcbiAgICBkbyB7XG4gICAgICBpZiAobTIgPj0gZDIgfHwgbTIgKyBkMiA8PSAwKSByZXR1cm4gMDtcbiAgICAgIGxldCBzMiA9IHgyICsgbTI7XG4gICAgICBpZiAocjIgJiAxNikgczIgPSAoczIgKyBkMikgJSBkMjtcbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoczIgPCAwKSByZXR1cm4gMztcbiAgICAgICAgaWYgKHMyID49IGQyKSByZXR1cm4gMTtcbiAgICAgIH1cbiAgICAgIGkyID0gbDJbczJdLCBpMiA9PSBudWxsIHx8IGkyLmZvY3VzKE0yKSwgbTIgKz0gbjI7XG4gICAgfSB3aGlsZSAoaTIgIT09IGMyLmFjdGl2ZUVsZW1lbnQpO1xuICAgIHJldHVybiByMiAmIDYgJiYgTyhpMikgJiYgaTIuc2VsZWN0KCksIDI7XG4gIH1cbiAgZnVuY3Rpb24gdCQxKCkge1xuICAgIHJldHVybiAvaVBob25lL2dpLnRlc3Qod2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSkgfHwgL01hYy9naS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0pICYmIHdpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwO1xuICB9XG4gIGZ1bmN0aW9uIGkkNCgpIHtcbiAgICByZXR1cm4gL0FuZHJvaWQvZ2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIH1cbiAgZnVuY3Rpb24gbiQyKCkge1xuICAgIHJldHVybiB0JDEoKSB8fCBpJDQoKTtcbiAgfVxuICBmdW5jdGlvbiBpJDModDIsIGUyLCBvMiwgbjIpIHtcbiAgICBsZXQgdTIgPSBzJDYobzIpO1xuICAgIHkkNigoKSA9PiB7XG4gICAgICBpZiAoIXQyKSByZXR1cm47XG4gICAgICBmdW5jdGlvbiByMihtMikge1xuICAgICAgICB1Mi5jdXJyZW50KG0yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGUyLCByMiwgbjIpLCAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGUyLCByMiwgbjIpO1xuICAgIH0sIFt0MiwgZTIsIG4yXSk7XG4gIH1cbiAgZnVuY3Rpb24gcyQ1KHQyLCBlMiwgbzIsIG4yKSB7XG4gICAgbGV0IGkyID0gcyQ2KG8yKTtcbiAgICB5JDYoKCkgPT4ge1xuICAgICAgaWYgKCF0MikgcmV0dXJuO1xuICAgICAgZnVuY3Rpb24gcjIoZDIpIHtcbiAgICAgICAgaTIuY3VycmVudChkMik7XG4gICAgICB9XG4gICAgICByZXR1cm4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZTIsIHIyLCBuMiksICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGUyLCByMiwgbjIpO1xuICAgIH0sIFt0MiwgZTIsIG4yXSk7XG4gIH1cbiAgY29uc3QgRSA9IDMwO1xuICBmdW5jdGlvbiBSJDEocDIsIGYyLCBDMikge1xuICAgIGxldCB1MiA9IHgkMihwMiwgXCJvdXRzaWRlLWNsaWNrXCIpLCBtMiA9IHMkNihDMiksIHMyID0gcSQzKGZ1bmN0aW9uKGUyLCBuMikge1xuICAgICAgaWYgKGUyLmRlZmF1bHRQcmV2ZW50ZWQpIHJldHVybjtcbiAgICAgIGxldCByMiA9IG4yKGUyKTtcbiAgICAgIGlmIChyMiA9PT0gbnVsbCB8fCAhcjIuZ2V0Um9vdE5vZGUoKS5jb250YWlucyhyMikgfHwgIXIyLmlzQ29ubmVjdGVkKSByZXR1cm47XG4gICAgICBsZXQgaDIgPSBmdW5jdGlvbiBsMihvMikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG8yID09IFwiZnVuY3Rpb25cIiA/IGwyKG8yKCkpIDogQXJyYXkuaXNBcnJheShvMikgfHwgbzIgaW5zdGFuY2VvZiBTZXQgPyBvMiA6IFtvMl07XG4gICAgICB9KGYyKTtcbiAgICAgIGZvciAobGV0IGwyIG9mIGgyKSBpZiAobDIgIT09IG51bGwgJiYgKGwyLmNvbnRhaW5zKHIyKSB8fCBlMi5jb21wb3NlZCAmJiBlMi5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyhsMikpKSByZXR1cm47XG4gICAgICByZXR1cm4gIUEocjIsIGgkMi5Mb29zZSkgJiYgcjIudGFiSW5kZXggIT09IC0xICYmIGUyLnByZXZlbnREZWZhdWx0KCksIG0yLmN1cnJlbnQoZTIsIHIyKTtcbiAgICB9LCBbbTIsIGYyXSksIGkyID0gQSQzKG51bGwpO1xuICAgIGkkMyh1MiwgXCJwb2ludGVyZG93blwiLCAodDIpID0+IHtcbiAgICAgIHZhciBlMiwgbjI7XG4gICAgICBpMi5jdXJyZW50ID0gKChuMiA9IChlMiA9IHQyLmNvbXBvc2VkUGF0aCkgPT0gbnVsbCA/IHZvaWQgMCA6IGUyLmNhbGwodDIpKSA9PSBudWxsID8gdm9pZCAwIDogbjJbMF0pIHx8IHQyLnRhcmdldDtcbiAgICB9LCB0cnVlKSwgaSQzKHUyLCBcIm1vdXNlZG93blwiLCAodDIpID0+IHtcbiAgICAgIHZhciBlMiwgbjI7XG4gICAgICBpMi5jdXJyZW50ID0gKChuMiA9IChlMiA9IHQyLmNvbXBvc2VkUGF0aCkgPT0gbnVsbCA/IHZvaWQgMCA6IGUyLmNhbGwodDIpKSA9PSBudWxsID8gdm9pZCAwIDogbjJbMF0pIHx8IHQyLnRhcmdldDtcbiAgICB9LCB0cnVlKSwgaSQzKHUyLCBcImNsaWNrXCIsICh0MikgPT4ge1xuICAgICAgbiQyKCkgfHwgaTIuY3VycmVudCAmJiAoczIodDIsICgpID0+IGkyLmN1cnJlbnQpLCBpMi5jdXJyZW50ID0gbnVsbCk7XG4gICAgfSwgdHJ1ZSk7XG4gICAgbGV0IGEyID0gQSQzKHsgeDogMCwgeTogMCB9KTtcbiAgICBpJDModTIsIFwidG91Y2hzdGFydFwiLCAodDIpID0+IHtcbiAgICAgIGEyLmN1cnJlbnQueCA9IHQyLnRvdWNoZXNbMF0uY2xpZW50WCwgYTIuY3VycmVudC55ID0gdDIudG91Y2hlc1swXS5jbGllbnRZO1xuICAgIH0sIHRydWUpLCBpJDModTIsIFwidG91Y2hlbmRcIiwgKHQyKSA9PiB7XG4gICAgICBsZXQgZTIgPSB7IHg6IHQyLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgsIHk6IHQyLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgfTtcbiAgICAgIGlmICghKE1hdGguYWJzKGUyLnggLSBhMi5jdXJyZW50LngpID49IEUgfHwgTWF0aC5hYnMoZTIueSAtIGEyLmN1cnJlbnQueSkgPj0gRSkpIHJldHVybiBzMih0MiwgKCkgPT4gdDIudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPyB0Mi50YXJnZXQgOiBudWxsKTtcbiAgICB9LCB0cnVlKSwgcyQ1KHUyLCBcImJsdXJcIiwgKHQyKSA9PiBzMih0MiwgKCkgPT4gd2luZG93LmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSUZyYW1lRWxlbWVudCA/IHdpbmRvdy5kb2N1bWVudC5hY3RpdmVFbGVtZW50IDogbnVsbCksIHRydWUpO1xuICB9XG4gIGZ1bmN0aW9uIG4kMSguLi5lMikge1xuICAgIHJldHVybiBUJDUoKCkgPT4gbyQ2KC4uLmUyKSwgWy4uLmUyXSk7XG4gIH1cbiAgZnVuY3Rpb24gZSQxKHQyLCB1Mikge1xuICAgIHJldHVybiBUJDUoKCkgPT4ge1xuICAgICAgdmFyIG4yO1xuICAgICAgaWYgKHQyLnR5cGUpIHJldHVybiB0Mi50eXBlO1xuICAgICAgbGV0IHIyID0gKG4yID0gdDIuYXMpICE9IG51bGwgPyBuMiA6IFwiYnV0dG9uXCI7XG4gICAgICBpZiAodHlwZW9mIHIyID09IFwic3RyaW5nXCIgJiYgcjIudG9Mb3dlckNhc2UoKSA9PT0gXCJidXR0b25cIiB8fCAodTIgPT0gbnVsbCA/IHZvaWQgMCA6IHUyLnRhZ05hbWUpID09PSBcIkJVVFRPTlwiICYmICF1Mi5oYXNBdHRyaWJ1dGUoXCJ0eXBlXCIpKSByZXR1cm4gXCJidXR0b25cIjtcbiAgICB9LCBbdDIudHlwZSwgdDIuYXMsIHUyXSk7XG4gIH1cbiAgZnVuY3Rpb24gZCQxKCkge1xuICAgIGxldCByMjtcbiAgICByZXR1cm4geyBiZWZvcmUoeyBkb2M6IGUyIH0pIHtcbiAgICAgIHZhciBsMjtcbiAgICAgIGxldCBvMiA9IGUyLmRvY3VtZW50RWxlbWVudCwgdDIgPSAobDIgPSBlMi5kZWZhdWx0VmlldykgIT0gbnVsbCA/IGwyIDogd2luZG93O1xuICAgICAgcjIgPSBNYXRoLm1heCgwLCB0Mi5pbm5lcldpZHRoIC0gbzIuY2xpZW50V2lkdGgpO1xuICAgIH0sIGFmdGVyKHsgZG9jOiBlMiwgZDogbzIgfSkge1xuICAgICAgbGV0IHQyID0gZTIuZG9jdW1lbnRFbGVtZW50LCBsMiA9IE1hdGgubWF4KDAsIHQyLmNsaWVudFdpZHRoIC0gdDIub2Zmc2V0V2lkdGgpLCBuMiA9IE1hdGgubWF4KDAsIHIyIC0gbDIpO1xuICAgICAgbzIuc3R5bGUodDIsIFwicGFkZGluZ1JpZ2h0XCIsIGAke24yfXB4YCk7XG4gICAgfSB9O1xuICB9XG4gIGZ1bmN0aW9uIGQoKSB7XG4gICAgcmV0dXJuIHQkMSgpID8geyBiZWZvcmUoeyBkb2M6IHIyLCBkOiBuMiwgbWV0YTogYzIgfSkge1xuICAgICAgZnVuY3Rpb24gbzIoYTIpIHtcbiAgICAgICAgcmV0dXJuIGMyLmNvbnRhaW5lcnMuZmxhdE1hcCgobDIpID0+IGwyKCkpLnNvbWUoKGwyKSA9PiBsMi5jb250YWlucyhhMikpO1xuICAgICAgfVxuICAgICAgbjIubWljcm9UYXNrKCgpID0+IHtcbiAgICAgICAgdmFyIHMyO1xuICAgICAgICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUocjIuZG9jdW1lbnRFbGVtZW50KS5zY3JvbGxCZWhhdmlvciAhPT0gXCJhdXRvXCIpIHtcbiAgICAgICAgICBsZXQgdDIgPSBvJDUoKTtcbiAgICAgICAgICB0Mi5zdHlsZShyMi5kb2N1bWVudEVsZW1lbnQsIFwic2Nyb2xsQmVoYXZpb3JcIiwgXCJhdXRvXCIpLCBuMi5hZGQoKCkgPT4gbjIubWljcm9UYXNrKCgpID0+IHQyLmRpc3Bvc2UoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhMiA9IChzMiA9IHdpbmRvdy5zY3JvbGxZKSAhPSBudWxsID8gczIgOiB3aW5kb3cucGFnZVlPZmZzZXQsIGwyID0gbnVsbDtcbiAgICAgICAgbjIuYWRkRXZlbnRMaXN0ZW5lcihyMiwgXCJjbGlja1wiLCAodDIpID0+IHtcbiAgICAgICAgICBpZiAodDIudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHRyeSB7XG4gICAgICAgICAgICBsZXQgZTIgPSB0Mi50YXJnZXQuY2xvc2VzdChcImFcIik7XG4gICAgICAgICAgICBpZiAoIWUyKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgeyBoYXNoOiBmMiB9ID0gbmV3IFVSTChlMi5ocmVmKSwgaTIgPSByMi5xdWVyeVNlbGVjdG9yKGYyKTtcbiAgICAgICAgICAgIGkyICYmICFvMihpMikgJiYgKGwyID0gaTIpO1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSksIG4yLmFkZEV2ZW50TGlzdGVuZXIocjIsIFwidG91Y2hzdGFydFwiLCAodDIpID0+IHtcbiAgICAgICAgICBpZiAodDIudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIGlmIChvMih0Mi50YXJnZXQpKSB7XG4gICAgICAgICAgICBsZXQgZTIgPSB0Mi50YXJnZXQ7XG4gICAgICAgICAgICBmb3IgKDsgZTIucGFyZW50RWxlbWVudCAmJiBvMihlMi5wYXJlbnRFbGVtZW50KTsgKSBlMiA9IGUyLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBuMi5zdHlsZShlMiwgXCJvdmVyc2Nyb2xsQmVoYXZpb3JcIiwgXCJjb250YWluXCIpO1xuICAgICAgICAgIH0gZWxzZSBuMi5zdHlsZSh0Mi50YXJnZXQsIFwidG91Y2hBY3Rpb25cIiwgXCJub25lXCIpO1xuICAgICAgICB9KSwgbjIuYWRkRXZlbnRMaXN0ZW5lcihyMiwgXCJ0b3VjaG1vdmVcIiwgKHQyKSA9PiB7XG4gICAgICAgICAgaWYgKHQyLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAodDIudGFyZ2V0LnRhZ05hbWUgPT09IFwiSU5QVVRcIikgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKG8yKHQyLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgbGV0IGUyID0gdDIudGFyZ2V0O1xuICAgICAgICAgICAgICBmb3IgKDsgZTIucGFyZW50RWxlbWVudCAmJiBlMi5kYXRhc2V0LmhlYWRsZXNzdWlQb3J0YWwgIT09IFwiXCIgJiYgIShlMi5zY3JvbGxIZWlnaHQgPiBlMi5jbGllbnRIZWlnaHQgfHwgZTIuc2Nyb2xsV2lkdGggPiBlMi5jbGllbnRXaWR0aCk7ICkgZTIgPSBlMi5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICBlMi5kYXRhc2V0LmhlYWRsZXNzdWlQb3J0YWwgPT09IFwiXCIgJiYgdDIucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB0Mi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgeyBwYXNzaXZlOiBmYWxzZSB9KSwgbjIuYWRkKCgpID0+IHtcbiAgICAgICAgICB2YXIgZTI7XG4gICAgICAgICAgbGV0IHQyID0gKGUyID0gd2luZG93LnNjcm9sbFkpICE9IG51bGwgPyBlMiA6IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgICAgICBhMiAhPT0gdDIgJiYgd2luZG93LnNjcm9sbFRvKDAsIGEyKSwgbDIgJiYgbDIuaXNDb25uZWN0ZWQgJiYgKGwyLnNjcm9sbEludG9WaWV3KHsgYmxvY2s6IFwibmVhcmVzdFwiIH0pLCBsMiA9IG51bGwpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gfSA6IHt9O1xuICB9XG4gIGZ1bmN0aW9uIHIoKSB7XG4gICAgcmV0dXJuIHsgYmVmb3JlKHsgZG9jOiBlMiwgZDogbzIgfSkge1xuICAgICAgbzIuc3R5bGUoZTIuZG9jdW1lbnRFbGVtZW50LCBcIm92ZXJmbG93XCIsIFwiaGlkZGVuXCIpO1xuICAgIH0gfTtcbiAgfVxuICBmdW5jdGlvbiBtJDEoZTIpIHtcbiAgICBsZXQgbjIgPSB7fTtcbiAgICBmb3IgKGxldCB0MiBvZiBlMikgT2JqZWN0LmFzc2lnbihuMiwgdDIobjIpKTtcbiAgICByZXR1cm4gbjI7XG4gIH1cbiAgbGV0IGEkNSA9IGEkNigoKSA9PiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCB7IFBVU0goZTIsIG4yKSB7XG4gICAgdmFyIG8yO1xuICAgIGxldCB0MiA9IChvMiA9IHRoaXMuZ2V0KGUyKSkgIT0gbnVsbCA/IG8yIDogeyBkb2M6IGUyLCBjb3VudDogMCwgZDogbyQ1KCksIG1ldGE6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCkgfTtcbiAgICByZXR1cm4gdDIuY291bnQrKywgdDIubWV0YS5hZGQobjIpLCB0aGlzLnNldChlMiwgdDIpLCB0aGlzO1xuICB9LCBQT1AoZTIsIG4yKSB7XG4gICAgbGV0IHQyID0gdGhpcy5nZXQoZTIpO1xuICAgIHJldHVybiB0MiAmJiAodDIuY291bnQtLSwgdDIubWV0YS5kZWxldGUobjIpKSwgdGhpcztcbiAgfSwgU0NST0xMX1BSRVZFTlQoeyBkb2M6IGUyLCBkOiBuMiwgbWV0YTogdDIgfSkge1xuICAgIGxldCBvMiA9IHsgZG9jOiBlMiwgZDogbjIsIG1ldGE6IG0kMSh0MikgfSwgYzIgPSBbZCgpLCBkJDEoKSwgcigpXTtcbiAgICBjMi5mb3JFYWNoKCh7IGJlZm9yZTogcjIgfSkgPT4gcjIgPT0gbnVsbCA/IHZvaWQgMCA6IHIyKG8yKSksIGMyLmZvckVhY2goKHsgYWZ0ZXI6IHIyIH0pID0+IHIyID09IG51bGwgPyB2b2lkIDAgOiByMihvMikpO1xuICB9LCBTQ1JPTExfQUxMT1coeyBkOiBlMiB9KSB7XG4gICAgZTIuZGlzcG9zZSgpO1xuICB9LCBURUFSRE9XTih7IGRvYzogZTIgfSkge1xuICAgIHRoaXMuZGVsZXRlKGUyKTtcbiAgfSB9KTtcbiAgYSQ1LnN1YnNjcmliZSgoKSA9PiB7XG4gICAgbGV0IGUyID0gYSQ1LmdldFNuYXBzaG90KCksIG4yID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICBmb3IgKGxldCBbdDJdIG9mIGUyKSBuMi5zZXQodDIsIHQyLmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdyk7XG4gICAgZm9yIChsZXQgdDIgb2YgZTIudmFsdWVzKCkpIHtcbiAgICAgIGxldCBvMiA9IG4yLmdldCh0Mi5kb2MpID09PSBcImhpZGRlblwiLCBjMiA9IHQyLmNvdW50ICE9PSAwO1xuICAgICAgKGMyICYmICFvMiB8fCAhYzIgJiYgbzIpICYmIGEkNS5kaXNwYXRjaCh0Mi5jb3VudCA+IDAgPyBcIlNDUk9MTF9QUkVWRU5UXCIgOiBcIlNDUk9MTF9BTExPV1wiLCB0MiksIHQyLmNvdW50ID09PSAwICYmIGEkNS5kaXNwYXRjaChcIlRFQVJET1dOXCIsIHQyKTtcbiAgICB9XG4gIH0pO1xuICBmdW5jdGlvbiBhJDQocjIsIGUyLCBuMiA9ICgpID0+ICh7IGNvbnRhaW5lcnM6IFtdIH0pKSB7XG4gICAgbGV0IGYyID0gbyQyKGEkNSksIG8yID0gZTIgPyBmMi5nZXQoZTIpIDogdm9pZCAwLCBpMiA9IG8yID8gbzIuY291bnQgPiAwIDogZmFsc2U7XG4gICAgcmV0dXJuIG4kMygoKSA9PiB7XG4gICAgICBpZiAoISghZTIgfHwgIXIyKSkgcmV0dXJuIGEkNS5kaXNwYXRjaChcIlBVU0hcIiwgZTIsIG4yKSwgKCkgPT4gYSQ1LmRpc3BhdGNoKFwiUE9QXCIsIGUyLCBuMik7XG4gICAgfSwgW3IyLCBlMl0pLCBpMjtcbiAgfVxuICBmdW5jdGlvbiBmJDIoZTIsIGMyLCBuMiA9ICgpID0+IFtkb2N1bWVudC5ib2R5XSkge1xuICAgIGxldCByMiA9IHgkMihlMiwgXCJzY3JvbGwtbG9ja1wiKTtcbiAgICBhJDQocjIsIGMyLCAodDIpID0+IHtcbiAgICAgIHZhciBvMjtcbiAgICAgIHJldHVybiB7IGNvbnRhaW5lcnM6IFsuLi4obzIgPSB0Mi5jb250YWluZXJzKSAhPSBudWxsID8gbzIgOiBbXSwgbjJdIH07XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gdChlMikge1xuICAgIHJldHVybiBbZTIuc2NyZWVuWCwgZTIuc2NyZWVuWV07XG4gIH1cbiAgZnVuY3Rpb24gdSQzKCkge1xuICAgIGxldCBlMiA9IEEkMyhbLTEsIC0xXSk7XG4gICAgcmV0dXJuIHsgd2FzTW92ZWQocjIpIHtcbiAgICAgIGxldCBuMiA9IHQocjIpO1xuICAgICAgcmV0dXJuIGUyLmN1cnJlbnRbMF0gPT09IG4yWzBdICYmIGUyLmN1cnJlbnRbMV0gPT09IG4yWzFdID8gZmFsc2UgOiAoZTIuY3VycmVudCA9IG4yLCB0cnVlKTtcbiAgICB9LCB1cGRhdGUocjIpIHtcbiAgICAgIGUyLmN1cnJlbnQgPSB0KHIyKTtcbiAgICB9IH07XG4gIH1cbiAgZnVuY3Rpb24gYyQ0KHUyID0gMCkge1xuICAgIGxldCBbdDIsIGwyXSA9IGQkNCh1MiksIGcyID0gcSQzKChlMikgPT4gbDIoZTIpLCBbdDJdKSwgczIgPSBxJDMoKGUyKSA9PiBsMigoYTIpID0+IGEyIHwgZTIpLCBbdDJdKSwgbTIgPSBxJDMoKGUyKSA9PiAodDIgJiBlMikgPT09IGUyLCBbdDJdKSwgbjIgPSBxJDMoKGUyKSA9PiBsMigoYTIpID0+IGEyICYgfmUyKSwgW2wyXSksIEYyID0gcSQzKChlMikgPT4gbDIoKGEyKSA9PiBhMiBeIGUyKSwgW2wyXSk7XG4gICAgcmV0dXJuIHsgZmxhZ3M6IHQyLCBzZXRGbGFnOiBnMiwgYWRkRmxhZzogczIsIGhhc0ZsYWc6IG0yLCByZW1vdmVGbGFnOiBuMiwgdG9nZ2xlRmxhZzogRjIgfTtcbiAgfVxuICB2YXIgVCQxLCBiJDI7XG4gIHR5cGVvZiBwcm9jZXNzICE9IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGdsb2JhbFRoaXMgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgRWxlbWVudCAhPSBcInVuZGVmaW5lZFwiICYmICgoVCQxID0gcHJvY2VzcyA9PSBudWxsID8gdm9pZCAwIDogcHJvY2Vzcy5lbnYpID09IG51bGwgPyB2b2lkIDAgOiBUJDFbXCJOT0RFX0VOVlwiXSkgPT09IFwidGVzdFwiICYmIHR5cGVvZiAoKGIkMiA9IEVsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IEVsZW1lbnQucHJvdG90eXBlKSA9PSBudWxsID8gdm9pZCAwIDogYiQyLmdldEFuaW1hdGlvbnMpID09IFwidW5kZWZpbmVkXCIgJiYgKEVsZW1lbnQucHJvdG90eXBlLmdldEFuaW1hdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gY29uc29sZS53YXJuKFtcIkhlYWRsZXNzIFVJIGhhcyBwb2x5ZmlsbGVkIGBFbGVtZW50LnByb3RvdHlwZS5nZXRBbmltYXRpb25zYCBmb3IgeW91ciB0ZXN0cy5cIiwgXCJQbGVhc2UgaW5zdGFsbCBhIHByb3BlciBwb2x5ZmlsbCBlLmcuIGBqc2RvbS10ZXN0aW5nLW1vY2tzYCwgdG8gc2lsZW5jZSB0aGVzZSB3YXJuaW5ncy5cIiwgXCJcIiwgXCJFeGFtcGxlIHVzYWdlOlwiLCBcImBgYGpzXCIsIFwiaW1wb3J0IHsgbW9ja0FuaW1hdGlvbnNBcGkgfSBmcm9tICdqc2RvbS10ZXN0aW5nLW1vY2tzJ1wiLCBcIm1vY2tBbmltYXRpb25zQXBpKClcIiwgXCJgYGBcIl0uam9pbihgXG5gKSksIFtdO1xuICB9KTtcbiAgdmFyIEwkMSA9ICgocjIpID0+IChyMltyMi5Ob25lID0gMF0gPSBcIk5vbmVcIiwgcjJbcjIuQ2xvc2VkID0gMV0gPSBcIkNsb3NlZFwiLCByMltyMi5FbnRlciA9IDJdID0gXCJFbnRlclwiLCByMltyMi5MZWF2ZSA9IDRdID0gXCJMZWF2ZVwiLCByMikpKEwkMSB8fCB7fSk7XG4gIGZ1bmN0aW9uIFIodDIpIHtcbiAgICBsZXQgbjIgPSB7fTtcbiAgICBmb3IgKGxldCBlMiBpbiB0MikgdDJbZTJdID09PSB0cnVlICYmIChuMltgZGF0YS0ke2UyfWBdID0gXCJcIik7XG4gICAgcmV0dXJuIG4yO1xuICB9XG4gIGZ1bmN0aW9uIHgkMSh0MiwgbjIsIGUyLCBpMikge1xuICAgIGxldCBbcjIsIG8yXSA9IGQkNChlMiksIHsgaGFzRmxhZzogczIsIGFkZEZsYWc6IGEyLCByZW1vdmVGbGFnOiBsMiB9ID0gYyQ0KHQyICYmIHIyID8gMyA6IDApLCB1MiA9IEEkMyhmYWxzZSksIGYyID0gQSQzKGZhbHNlKSwgRTIgPSBwJDIoKTtcbiAgICByZXR1cm4gbiQzKCgpID0+IHtcbiAgICAgIHZhciBkMjtcbiAgICAgIGlmICh0Mikge1xuICAgICAgICBpZiAoZTIgJiYgbzIodHJ1ZSksICFuMikge1xuICAgICAgICAgIGUyICYmIGEyKDMpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKGQyID0gdm9pZCAwKSA9PSBudWxsIHx8IGQyLmNhbGwoaTIsIGUyKSwgQyhuMiwgeyBpbkZsaWdodDogdTIsIHByZXBhcmUoKSB7XG4gICAgICAgICAgZjIuY3VycmVudCA/IGYyLmN1cnJlbnQgPSBmYWxzZSA6IGYyLmN1cnJlbnQgPSB1Mi5jdXJyZW50LCB1Mi5jdXJyZW50ID0gdHJ1ZSwgIWYyLmN1cnJlbnQgJiYgKGUyID8gKGEyKDMpLCBsMig0KSkgOiAoYTIoNCksIGwyKDIpKSk7XG4gICAgICAgIH0sIHJ1bigpIHtcbiAgICAgICAgICBmMi5jdXJyZW50ID8gZTIgPyAobDIoMyksIGEyKDQpKSA6IChsMig0KSwgYTIoMykpIDogZTIgPyBsMigxKSA6IGEyKDEpO1xuICAgICAgICB9LCBkb25lKCkge1xuICAgICAgICAgIHZhciBwMjtcbiAgICAgICAgICBmMi5jdXJyZW50ICYmIHR5cGVvZiBuMi5nZXRBbmltYXRpb25zID09IFwiZnVuY3Rpb25cIiAmJiBuMi5nZXRBbmltYXRpb25zKCkubGVuZ3RoID4gMCB8fCAodTIuY3VycmVudCA9IGZhbHNlLCBsMig3KSwgZTIgfHwgbzIoZmFsc2UpLCAocDIgPSB2b2lkIDApID09IG51bGwgfHwgcDIuY2FsbChpMiwgZTIpKTtcbiAgICAgICAgfSB9KTtcbiAgICAgIH1cbiAgICB9LCBbdDIsIGUyLCBuMiwgRTJdKSwgdDIgPyBbcjIsIHsgY2xvc2VkOiBzMigxKSwgZW50ZXI6IHMyKDIpLCBsZWF2ZTogczIoNCksIHRyYW5zaXRpb246IHMyKDIpIHx8IHMyKDQpIH1dIDogW2UyLCB7IGNsb3NlZDogdm9pZCAwLCBlbnRlcjogdm9pZCAwLCBsZWF2ZTogdm9pZCAwLCB0cmFuc2l0aW9uOiB2b2lkIDAgfV07XG4gIH1cbiAgZnVuY3Rpb24gQyh0MiwgeyBwcmVwYXJlOiBuMiwgcnVuOiBlMiwgZG9uZTogaTIsIGluRmxpZ2h0OiByMiB9KSB7XG4gICAgbGV0IG8yID0gbyQ1KCk7XG4gICAgcmV0dXJuIGokMSh0MiwgeyBwcmVwYXJlOiBuMiwgaW5GbGlnaHQ6IHIyIH0pLCBvMi5uZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgZTIoKSwgbzIucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgbzIuYWRkKE0kMih0MiwgaTIpKTtcbiAgICAgIH0pO1xuICAgIH0pLCBvMi5kaXNwb3NlO1xuICB9XG4gIGZ1bmN0aW9uIE0kMih0MiwgbjIpIHtcbiAgICB2YXIgbzIsIHMyO1xuICAgIGxldCBlMiA9IG8kNSgpO1xuICAgIGlmICghdDIpIHJldHVybiBlMi5kaXNwb3NlO1xuICAgIGxldCBpMiA9IGZhbHNlO1xuICAgIGUyLmFkZCgoKSA9PiB7XG4gICAgICBpMiA9IHRydWU7XG4gICAgfSk7XG4gICAgbGV0IHIyID0gKHMyID0gKG8yID0gdDIuZ2V0QW5pbWF0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IG8yLmNhbGwodDIpLmZpbHRlcigoYTIpID0+IGEyIGluc3RhbmNlb2YgQ1NTVHJhbnNpdGlvbikpICE9IG51bGwgPyBzMiA6IFtdO1xuICAgIHJldHVybiByMi5sZW5ndGggPT09IDAgPyAobjIoKSwgZTIuZGlzcG9zZSkgOiAoUHJvbWlzZS5hbGxTZXR0bGVkKHIyLm1hcCgoYTIpID0+IGEyLmZpbmlzaGVkKSkudGhlbigoKSA9PiB7XG4gICAgICBpMiB8fCBuMigpO1xuICAgIH0pLCBlMi5kaXNwb3NlKTtcbiAgfVxuICBmdW5jdGlvbiBqJDEodDIsIHsgaW5GbGlnaHQ6IG4yLCBwcmVwYXJlOiBlMiB9KSB7XG4gICAgaWYgKG4yICE9IG51bGwgJiYgbjIuY3VycmVudCkge1xuICAgICAgZTIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGkyID0gdDIuc3R5bGUudHJhbnNpdGlvbjtcbiAgICB0Mi5zdHlsZS50cmFuc2l0aW9uID0gXCJub25lXCIsIGUyKCksIHQyLm9mZnNldEhlaWdodCwgdDIuc3R5bGUudHJhbnNpdGlvbiA9IGkyO1xuICB9XG4gIGZ1bmN0aW9uIEYkMShjMiwgeyBjb250YWluZXI6IGUyLCBhY2NlcHQ6IHQyLCB3YWxrOiByMiB9KSB7XG4gICAgbGV0IG8yID0gQSQzKHQyKSwgbDIgPSBBJDMocjIpO1xuICAgIHkkNigoKSA9PiB7XG4gICAgICBvMi5jdXJyZW50ID0gdDIsIGwyLmN1cnJlbnQgPSByMjtcbiAgICB9LCBbdDIsIHIyXSksIG4kMygoKSA9PiB7XG4gICAgICBpZiAoIWUyIHx8ICFjMikgcmV0dXJuO1xuICAgICAgbGV0IG4yID0gbyQ2KGUyKTtcbiAgICAgIGlmICghbjIpIHJldHVybjtcbiAgICAgIGxldCBmMiA9IG8yLmN1cnJlbnQsIHAyID0gbDIuY3VycmVudCwgaTIgPSBPYmplY3QuYXNzaWduKChtMikgPT4gZjIobTIpLCB7IGFjY2VwdE5vZGU6IGYyIH0pLCB1MiA9IG4yLmNyZWF0ZVRyZWVXYWxrZXIoZTIsIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5ULCBpMiwgZmFsc2UpO1xuICAgICAgZm9yICg7IHUyLm5leHROb2RlKCk7ICkgcDIodTIuY3VycmVudE5vZGUpO1xuICAgIH0sIFtlMiwgYzIsIG8yLCBsMl0pO1xuICB9XG4gIGZ1bmN0aW9uIGhhc1dpbmRvdygpIHtcbiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgfVxuICBmdW5jdGlvbiBnZXROb2RlTmFtZShub2RlKSB7XG4gICAgaWYgKGlzTm9kZShub2RlKSkge1xuICAgICAgcmV0dXJuIChub2RlLm5vZGVOYW1lIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHJldHVybiBcIiNkb2N1bWVudFwiO1xuICB9XG4gIGZ1bmN0aW9uIGdldFdpbmRvdyhub2RlKSB7XG4gICAgdmFyIF9ub2RlJG93bmVyRG9jdW1lbnQ7XG4gICAgcmV0dXJuIChub2RlID09IG51bGwgfHwgKF9ub2RlJG93bmVyRG9jdW1lbnQgPSBub2RlLm93bmVyRG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbm9kZSRvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSB8fCB3aW5kb3c7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0RG9jdW1lbnRFbGVtZW50KG5vZGUpIHtcbiAgICB2YXIgX3JlZjtcbiAgICByZXR1cm4gKF9yZWYgPSAoaXNOb2RlKG5vZGUpID8gbm9kZS5vd25lckRvY3VtZW50IDogbm9kZS5kb2N1bWVudCkgfHwgd2luZG93LmRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX3JlZi5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cbiAgZnVuY3Rpb24gaXNOb2RlKHZhbHVlKSB7XG4gICAgaWYgKCFoYXNXaW5kb3coKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBOb2RlIHx8IHZhbHVlIGluc3RhbmNlb2YgZ2V0V2luZG93KHZhbHVlKS5Ob2RlO1xuICB9XG4gIGZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xuICAgIGlmICghaGFzV2luZG93KCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRWxlbWVudCB8fCB2YWx1ZSBpbnN0YW5jZW9mIGdldFdpbmRvdyh2YWx1ZSkuRWxlbWVudDtcbiAgfVxuICBmdW5jdGlvbiBpc0hUTUxFbGVtZW50KHZhbHVlKSB7XG4gICAgaWYgKCFoYXNXaW5kb3coKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCB2YWx1ZSBpbnN0YW5jZW9mIGdldFdpbmRvdyh2YWx1ZSkuSFRNTEVsZW1lbnQ7XG4gIH1cbiAgZnVuY3Rpb24gaXNTaGFkb3dSb290KHZhbHVlKSB7XG4gICAgaWYgKCFoYXNXaW5kb3coKSB8fCB0eXBlb2YgU2hhZG93Um9vdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBTaGFkb3dSb290IHx8IHZhbHVlIGluc3RhbmNlb2YgZ2V0V2luZG93KHZhbHVlKS5TaGFkb3dSb290O1xuICB9XG4gIGZ1bmN0aW9uIGlzT3ZlcmZsb3dFbGVtZW50KGVsZW1lbnQpIHtcbiAgICBjb25zdCB7XG4gICAgICBvdmVyZmxvdyxcbiAgICAgIG92ZXJmbG93WCxcbiAgICAgIG92ZXJmbG93WSxcbiAgICAgIGRpc3BsYXlcbiAgICB9ID0gZ2V0Q29tcHV0ZWRTdHlsZSQxKGVsZW1lbnQpO1xuICAgIHJldHVybiAvYXV0b3xzY3JvbGx8b3ZlcmxheXxoaWRkZW58Y2xpcC8udGVzdChvdmVyZmxvdyArIG92ZXJmbG93WSArIG92ZXJmbG93WCkgJiYgIVtcImlubGluZVwiLCBcImNvbnRlbnRzXCJdLmluY2x1ZGVzKGRpc3BsYXkpO1xuICB9XG4gIGZ1bmN0aW9uIGlzVGFibGVFbGVtZW50KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gW1widGFibGVcIiwgXCJ0ZFwiLCBcInRoXCJdLmluY2x1ZGVzKGdldE5vZGVOYW1lKGVsZW1lbnQpKTtcbiAgfVxuICBmdW5jdGlvbiBpc1RvcExheWVyKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gW1wiOnBvcG92ZXItb3BlblwiLCBcIjptb2RhbFwiXS5zb21lKChzZWxlY3RvcikgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQubWF0Y2hlcyhzZWxlY3Rvcik7XG4gICAgICB9IGNhdGNoIChlMikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gaXNDb250YWluaW5nQmxvY2soZWxlbWVudE9yQ3NzKSB7XG4gICAgY29uc3Qgd2Via2l0ID0gaXNXZWJLaXQoKTtcbiAgICBjb25zdCBjc3MgPSBpc0VsZW1lbnQoZWxlbWVudE9yQ3NzKSA/IGdldENvbXB1dGVkU3R5bGUkMShlbGVtZW50T3JDc3MpIDogZWxlbWVudE9yQ3NzO1xuICAgIHJldHVybiBbXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGVcIiwgXCJzY2FsZVwiLCBcInJvdGF0ZVwiLCBcInBlcnNwZWN0aXZlXCJdLnNvbWUoKHZhbHVlKSA9PiBjc3NbdmFsdWVdID8gY3NzW3ZhbHVlXSAhPT0gXCJub25lXCIgOiBmYWxzZSkgfHwgKGNzcy5jb250YWluZXJUeXBlID8gY3NzLmNvbnRhaW5lclR5cGUgIT09IFwibm9ybWFsXCIgOiBmYWxzZSkgfHwgIXdlYmtpdCAmJiAoY3NzLmJhY2tkcm9wRmlsdGVyID8gY3NzLmJhY2tkcm9wRmlsdGVyICE9PSBcIm5vbmVcIiA6IGZhbHNlKSB8fCAhd2Via2l0ICYmIChjc3MuZmlsdGVyID8gY3NzLmZpbHRlciAhPT0gXCJub25lXCIgOiBmYWxzZSkgfHwgW1widHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlXCIsIFwic2NhbGVcIiwgXCJyb3RhdGVcIiwgXCJwZXJzcGVjdGl2ZVwiLCBcImZpbHRlclwiXS5zb21lKCh2YWx1ZSkgPT4gKGNzcy53aWxsQ2hhbmdlIHx8IFwiXCIpLmluY2x1ZGVzKHZhbHVlKSkgfHwgW1wicGFpbnRcIiwgXCJsYXlvdXRcIiwgXCJzdHJpY3RcIiwgXCJjb250ZW50XCJdLnNvbWUoKHZhbHVlKSA9PiAoY3NzLmNvbnRhaW4gfHwgXCJcIikuaW5jbHVkZXModmFsdWUpKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRDb250YWluaW5nQmxvY2soZWxlbWVudCkge1xuICAgIGxldCBjdXJyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7XG4gICAgd2hpbGUgKGlzSFRNTEVsZW1lbnQoY3VycmVudE5vZGUpICYmICFpc0xhc3RUcmF2ZXJzYWJsZU5vZGUoY3VycmVudE5vZGUpKSB7XG4gICAgICBpZiAoaXNDb250YWluaW5nQmxvY2soY3VycmVudE5vZGUpKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50Tm9kZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNUb3BMYXllcihjdXJyZW50Tm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjdXJyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUoY3VycmVudE5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiBpc1dlYktpdCgpIHtcbiAgICBpZiAodHlwZW9mIENTUyA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhQ1NTLnN1cHBvcnRzKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIENTUy5zdXBwb3J0cyhcIi13ZWJraXQtYmFja2Ryb3AtZmlsdGVyXCIsIFwibm9uZVwiKTtcbiAgfVxuICBmdW5jdGlvbiBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUobm9kZSkge1xuICAgIHJldHVybiBbXCJodG1sXCIsIFwiYm9keVwiLCBcIiNkb2N1bWVudFwiXS5pbmNsdWRlcyhnZXROb2RlTmFtZShub2RlKSk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZSQxKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZ2V0V2luZG93KGVsZW1lbnQpLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0Tm9kZVNjcm9sbChlbGVtZW50KSB7XG4gICAgaWYgKGlzRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2Nyb2xsTGVmdDogZWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgICAgICBzY3JvbGxUb3A6IGVsZW1lbnQuc2Nyb2xsVG9wXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc2Nyb2xsTGVmdDogZWxlbWVudC5zY3JvbGxYLFxuICAgICAgc2Nyb2xsVG9wOiBlbGVtZW50LnNjcm9sbFlcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGdldFBhcmVudE5vZGUobm9kZSkge1xuICAgIGlmIChnZXROb2RlTmFtZShub2RlKSA9PT0gXCJodG1sXCIpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSAoXG4gICAgICAvLyBTdGVwIGludG8gdGhlIHNoYWRvdyBET00gb2YgdGhlIHBhcmVudCBvZiBhIHNsb3R0ZWQgbm9kZS5cbiAgICAgIG5vZGUuYXNzaWduZWRTbG90IHx8IC8vIERPTSBFbGVtZW50IGRldGVjdGVkLlxuICAgICAgbm9kZS5wYXJlbnROb2RlIHx8IC8vIFNoYWRvd1Jvb3QgZGV0ZWN0ZWQuXG4gICAgICBpc1NoYWRvd1Jvb3Qobm9kZSkgJiYgbm9kZS5ob3N0IHx8IC8vIEZhbGxiYWNrLlxuICAgICAgZ2V0RG9jdW1lbnRFbGVtZW50KG5vZGUpXG4gICAgKTtcbiAgICByZXR1cm4gaXNTaGFkb3dSb290KHJlc3VsdCkgPyByZXN1bHQuaG9zdCA6IHJlc3VsdDtcbiAgfVxuICBmdW5jdGlvbiBnZXROZWFyZXN0T3ZlcmZsb3dBbmNlc3Rvcihub2RlKSB7XG4gICAgY29uc3QgcGFyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUobm9kZSk7XG4gICAgaWYgKGlzTGFzdFRyYXZlcnNhYmxlTm9kZShwYXJlbnROb2RlKSkge1xuICAgICAgcmV0dXJuIG5vZGUub3duZXJEb2N1bWVudCA/IG5vZGUub3duZXJEb2N1bWVudC5ib2R5IDogbm9kZS5ib2R5O1xuICAgIH1cbiAgICBpZiAoaXNIVE1MRWxlbWVudChwYXJlbnROb2RlKSAmJiBpc092ZXJmbG93RWxlbWVudChwYXJlbnROb2RlKSkge1xuICAgICAgcmV0dXJuIHBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBnZXROZWFyZXN0T3ZlcmZsb3dBbmNlc3RvcihwYXJlbnROb2RlKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRPdmVyZmxvd0FuY2VzdG9ycyhub2RlLCBsaXN0LCB0cmF2ZXJzZUlmcmFtZXMpIHtcbiAgICB2YXIgX25vZGUkb3duZXJEb2N1bWVudDI7XG4gICAgaWYgKGxpc3QgPT09IHZvaWQgMCkge1xuICAgICAgbGlzdCA9IFtdO1xuICAgIH1cbiAgICBpZiAodHJhdmVyc2VJZnJhbWVzID09PSB2b2lkIDApIHtcbiAgICAgIHRyYXZlcnNlSWZyYW1lcyA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHNjcm9sbGFibGVBbmNlc3RvciA9IGdldE5lYXJlc3RPdmVyZmxvd0FuY2VzdG9yKG5vZGUpO1xuICAgIGNvbnN0IGlzQm9keSA9IHNjcm9sbGFibGVBbmNlc3RvciA9PT0gKChfbm9kZSRvd25lckRvY3VtZW50MiA9IG5vZGUub3duZXJEb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9ub2RlJG93bmVyRG9jdW1lbnQyLmJvZHkpO1xuICAgIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhzY3JvbGxhYmxlQW5jZXN0b3IpO1xuICAgIGlmIChpc0JvZHkpIHtcbiAgICAgIGNvbnN0IGZyYW1lRWxlbWVudCA9IGdldEZyYW1lRWxlbWVudCh3aW4pO1xuICAgICAgcmV0dXJuIGxpc3QuY29uY2F0KHdpbiwgd2luLnZpc3VhbFZpZXdwb3J0IHx8IFtdLCBpc092ZXJmbG93RWxlbWVudChzY3JvbGxhYmxlQW5jZXN0b3IpID8gc2Nyb2xsYWJsZUFuY2VzdG9yIDogW10sIGZyYW1lRWxlbWVudCAmJiB0cmF2ZXJzZUlmcmFtZXMgPyBnZXRPdmVyZmxvd0FuY2VzdG9ycyhmcmFtZUVsZW1lbnQpIDogW10pO1xuICAgIH1cbiAgICByZXR1cm4gbGlzdC5jb25jYXQoc2Nyb2xsYWJsZUFuY2VzdG9yLCBnZXRPdmVyZmxvd0FuY2VzdG9ycyhzY3JvbGxhYmxlQW5jZXN0b3IsIFtdLCB0cmF2ZXJzZUlmcmFtZXMpKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRGcmFtZUVsZW1lbnQod2luKSB7XG4gICAgcmV0dXJuIHdpbi5wYXJlbnQgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKHdpbi5wYXJlbnQpID8gd2luLmZyYW1lRWxlbWVudCA6IG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0VXNlckFnZW50KCkge1xuICAgIGNvbnN0IHVhRGF0YSA9IG5hdmlnYXRvci51c2VyQWdlbnREYXRhO1xuICAgIGlmICh1YURhdGEgJiYgQXJyYXkuaXNBcnJheSh1YURhdGEuYnJhbmRzKSkge1xuICAgICAgcmV0dXJuIHVhRGF0YS5icmFuZHMubWFwKChfcmVmKSA9PiB7XG4gICAgICAgIGxldCB7XG4gICAgICAgICAgYnJhbmQsXG4gICAgICAgICAgdmVyc2lvblxuICAgICAgICB9ID0gX3JlZjtcbiAgICAgICAgcmV0dXJuIGJyYW5kICsgXCIvXCIgKyB2ZXJzaW9uO1xuICAgICAgfSkuam9pbihcIiBcIik7XG4gICAgfVxuICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50O1xuICB9XG4gIGNvbnN0IG1pbiA9IE1hdGgubWluO1xuICBjb25zdCBtYXggPSBNYXRoLm1heDtcbiAgY29uc3Qgcm91bmQgPSBNYXRoLnJvdW5kO1xuICBjb25zdCBmbG9vciA9IE1hdGguZmxvb3I7XG4gIGNvbnN0IGNyZWF0ZUNvb3JkcyA9ICh2MikgPT4gKHtcbiAgICB4OiB2MixcbiAgICB5OiB2MlxuICB9KTtcbiAgY29uc3Qgb3Bwb3NpdGVTaWRlTWFwID0ge1xuICAgIGxlZnQ6IFwicmlnaHRcIixcbiAgICByaWdodDogXCJsZWZ0XCIsXG4gICAgYm90dG9tOiBcInRvcFwiLFxuICAgIHRvcDogXCJib3R0b21cIlxuICB9O1xuICBjb25zdCBvcHBvc2l0ZUFsaWdubWVudE1hcCA9IHtcbiAgICBzdGFydDogXCJlbmRcIixcbiAgICBlbmQ6IFwic3RhcnRcIlxuICB9O1xuICBmdW5jdGlvbiBjbGFtcChzdGFydCwgdmFsdWUsIGVuZCkge1xuICAgIHJldHVybiBtYXgoc3RhcnQsIG1pbih2YWx1ZSwgZW5kKSk7XG4gIH1cbiAgZnVuY3Rpb24gZXZhbHVhdGUodmFsdWUsIHBhcmFtKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiID8gdmFsdWUocGFyYW0pIDogdmFsdWU7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0U2lkZShwbGFjZW1lbnQpIHtcbiAgICByZXR1cm4gcGxhY2VtZW50LnNwbGl0KFwiLVwiKVswXTtcbiAgfVxuICBmdW5jdGlvbiBnZXRBbGlnbm1lbnQocGxhY2VtZW50KSB7XG4gICAgcmV0dXJuIHBsYWNlbWVudC5zcGxpdChcIi1cIilbMV07XG4gIH1cbiAgZnVuY3Rpb24gZ2V0T3Bwb3NpdGVBeGlzKGF4aXMpIHtcbiAgICByZXR1cm4gYXhpcyA9PT0gXCJ4XCIgPyBcInlcIiA6IFwieFwiO1xuICB9XG4gIGZ1bmN0aW9uIGdldEF4aXNMZW5ndGgoYXhpcykge1xuICAgIHJldHVybiBheGlzID09PSBcInlcIiA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCI7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0U2lkZUF4aXMocGxhY2VtZW50KSB7XG4gICAgcmV0dXJuIFtcInRvcFwiLCBcImJvdHRvbVwiXS5pbmNsdWRlcyhnZXRTaWRlKHBsYWNlbWVudCkpID8gXCJ5XCIgOiBcInhcIjtcbiAgfVxuICBmdW5jdGlvbiBnZXRBbGlnbm1lbnRBeGlzKHBsYWNlbWVudCkge1xuICAgIHJldHVybiBnZXRPcHBvc2l0ZUF4aXMoZ2V0U2lkZUF4aXMocGxhY2VtZW50KSk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0QWxpZ25tZW50U2lkZXMocGxhY2VtZW50LCByZWN0cywgcnRsKSB7XG4gICAgaWYgKHJ0bCA9PT0gdm9pZCAwKSB7XG4gICAgICBydGwgPSBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgYWxpZ25tZW50ID0gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCk7XG4gICAgY29uc3QgYWxpZ25tZW50QXhpcyA9IGdldEFsaWdubWVudEF4aXMocGxhY2VtZW50KTtcbiAgICBjb25zdCBsZW5ndGggPSBnZXRBeGlzTGVuZ3RoKGFsaWdubWVudEF4aXMpO1xuICAgIGxldCBtYWluQWxpZ25tZW50U2lkZSA9IGFsaWdubWVudEF4aXMgPT09IFwieFwiID8gYWxpZ25tZW50ID09PSAocnRsID8gXCJlbmRcIiA6IFwic3RhcnRcIikgPyBcInJpZ2h0XCIgOiBcImxlZnRcIiA6IGFsaWdubWVudCA9PT0gXCJzdGFydFwiID8gXCJib3R0b21cIiA6IFwidG9wXCI7XG4gICAgaWYgKHJlY3RzLnJlZmVyZW5jZVtsZW5ndGhdID4gcmVjdHMuZmxvYXRpbmdbbGVuZ3RoXSkge1xuICAgICAgbWFpbkFsaWdubWVudFNpZGUgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChtYWluQWxpZ25tZW50U2lkZSk7XG4gICAgfVxuICAgIHJldHVybiBbbWFpbkFsaWdubWVudFNpZGUsIGdldE9wcG9zaXRlUGxhY2VtZW50KG1haW5BbGlnbm1lbnRTaWRlKV07XG4gIH1cbiAgZnVuY3Rpb24gZ2V0RXhwYW5kZWRQbGFjZW1lbnRzKHBsYWNlbWVudCkge1xuICAgIGNvbnN0IG9wcG9zaXRlUGxhY2VtZW50ID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTtcbiAgICByZXR1cm4gW2dldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50KHBsYWNlbWVudCksIG9wcG9zaXRlUGxhY2VtZW50LCBnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudChvcHBvc2l0ZVBsYWNlbWVudCldO1xuICB9XG4gIGZ1bmN0aW9uIGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50KHBsYWNlbWVudCkge1xuICAgIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvc3RhcnR8ZW5kL2csIChhbGlnbm1lbnQpID0+IG9wcG9zaXRlQWxpZ25tZW50TWFwW2FsaWdubWVudF0pO1xuICB9XG4gIGZ1bmN0aW9uIGdldFNpZGVMaXN0KHNpZGUsIGlzU3RhcnQsIHJ0bCkge1xuICAgIGNvbnN0IGxyID0gW1wibGVmdFwiLCBcInJpZ2h0XCJdO1xuICAgIGNvbnN0IHJsID0gW1wicmlnaHRcIiwgXCJsZWZ0XCJdO1xuICAgIGNvbnN0IHRiID0gW1widG9wXCIsIFwiYm90dG9tXCJdO1xuICAgIGNvbnN0IGJ0ID0gW1wiYm90dG9tXCIsIFwidG9wXCJdO1xuICAgIHN3aXRjaCAoc2lkZSkge1xuICAgICAgY2FzZSBcInRvcFwiOlxuICAgICAgY2FzZSBcImJvdHRvbVwiOlxuICAgICAgICBpZiAocnRsKSByZXR1cm4gaXNTdGFydCA/IHJsIDogbHI7XG4gICAgICAgIHJldHVybiBpc1N0YXJ0ID8gbHIgOiBybDtcbiAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgcmV0dXJuIGlzU3RhcnQgPyB0YiA6IGJ0O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZXRPcHBvc2l0ZUF4aXNQbGFjZW1lbnRzKHBsYWNlbWVudCwgZmxpcEFsaWdubWVudCwgZGlyZWN0aW9uLCBydGwpIHtcbiAgICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQocGxhY2VtZW50KTtcbiAgICBsZXQgbGlzdCA9IGdldFNpZGVMaXN0KGdldFNpZGUocGxhY2VtZW50KSwgZGlyZWN0aW9uID09PSBcInN0YXJ0XCIsIHJ0bCk7XG4gICAgaWYgKGFsaWdubWVudCkge1xuICAgICAgbGlzdCA9IGxpc3QubWFwKChzaWRlKSA9PiBzaWRlICsgXCItXCIgKyBhbGlnbm1lbnQpO1xuICAgICAgaWYgKGZsaXBBbGlnbm1lbnQpIHtcbiAgICAgICAgbGlzdCA9IGxpc3QuY29uY2F0KGxpc3QubWFwKGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50KSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaXN0O1xuICB9XG4gIGZ1bmN0aW9uIGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICAgIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csIChzaWRlKSA9PiBvcHBvc2l0ZVNpZGVNYXBbc2lkZV0pO1xuICB9XG4gIGZ1bmN0aW9uIGV4cGFuZFBhZGRpbmdPYmplY3QocGFkZGluZykge1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIGJvdHRvbTogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICAuLi5wYWRkaW5nXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBnZXRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIHBhZGRpbmcgIT09IFwibnVtYmVyXCIgPyBleHBhbmRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpIDoge1xuICAgICAgdG9wOiBwYWRkaW5nLFxuICAgICAgcmlnaHQ6IHBhZGRpbmcsXG4gICAgICBib3R0b206IHBhZGRpbmcsXG4gICAgICBsZWZ0OiBwYWRkaW5nXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiByZWN0VG9DbGllbnRSZWN0KHJlY3QpIHtcbiAgICBjb25zdCB7XG4gICAgICB4OiB4MixcbiAgICAgIHk6IHkyLFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHRcbiAgICB9ID0gcmVjdDtcbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICB0b3A6IHkyLFxuICAgICAgbGVmdDogeDIsXG4gICAgICByaWdodDogeDIgKyB3aWR0aCxcbiAgICAgIGJvdHRvbTogeTIgKyBoZWlnaHQsXG4gICAgICB4OiB4MixcbiAgICAgIHk6IHkyXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBjb21wdXRlQ29vcmRzRnJvbVBsYWNlbWVudChfcmVmLCBwbGFjZW1lbnQsIHJ0bCkge1xuICAgIGxldCB7XG4gICAgICByZWZlcmVuY2UsXG4gICAgICBmbG9hdGluZ1xuICAgIH0gPSBfcmVmO1xuICAgIGNvbnN0IHNpZGVBeGlzID0gZ2V0U2lkZUF4aXMocGxhY2VtZW50KTtcbiAgICBjb25zdCBhbGlnbm1lbnRBeGlzID0gZ2V0QWxpZ25tZW50QXhpcyhwbGFjZW1lbnQpO1xuICAgIGNvbnN0IGFsaWduTGVuZ3RoID0gZ2V0QXhpc0xlbmd0aChhbGlnbm1lbnRBeGlzKTtcbiAgICBjb25zdCBzaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpO1xuICAgIGNvbnN0IGlzVmVydGljYWwgPSBzaWRlQXhpcyA9PT0gXCJ5XCI7XG4gICAgY29uc3QgY29tbW9uWCA9IHJlZmVyZW5jZS54ICsgcmVmZXJlbmNlLndpZHRoIC8gMiAtIGZsb2F0aW5nLndpZHRoIC8gMjtcbiAgICBjb25zdCBjb21tb25ZID0gcmVmZXJlbmNlLnkgKyByZWZlcmVuY2UuaGVpZ2h0IC8gMiAtIGZsb2F0aW5nLmhlaWdodCAvIDI7XG4gICAgY29uc3QgY29tbW9uQWxpZ24gPSByZWZlcmVuY2VbYWxpZ25MZW5ndGhdIC8gMiAtIGZsb2F0aW5nW2FsaWduTGVuZ3RoXSAvIDI7XG4gICAgbGV0IGNvb3JkcztcbiAgICBzd2l0Y2ggKHNpZGUpIHtcbiAgICAgIGNhc2UgXCJ0b3BcIjpcbiAgICAgICAgY29vcmRzID0ge1xuICAgICAgICAgIHg6IGNvbW1vblgsXG4gICAgICAgICAgeTogcmVmZXJlbmNlLnkgLSBmbG9hdGluZy5oZWlnaHRcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgICB4OiBjb21tb25YLFxuICAgICAgICAgIHk6IHJlZmVyZW5jZS55ICsgcmVmZXJlbmNlLmhlaWdodFxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICBjb29yZHMgPSB7XG4gICAgICAgICAgeDogcmVmZXJlbmNlLnggKyByZWZlcmVuY2Uud2lkdGgsXG4gICAgICAgICAgeTogY29tbW9uWVxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgICB4OiByZWZlcmVuY2UueCAtIGZsb2F0aW5nLndpZHRoLFxuICAgICAgICAgIHk6IGNvbW1vbllcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb29yZHMgPSB7XG4gICAgICAgICAgeDogcmVmZXJlbmNlLngsXG4gICAgICAgICAgeTogcmVmZXJlbmNlLnlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3dpdGNoIChnZXRBbGlnbm1lbnQocGxhY2VtZW50KSkge1xuICAgICAgY2FzZSBcInN0YXJ0XCI6XG4gICAgICAgIGNvb3Jkc1thbGlnbm1lbnRBeGlzXSAtPSBjb21tb25BbGlnbiAqIChydGwgJiYgaXNWZXJ0aWNhbCA/IC0xIDogMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICBjb29yZHNbYWxpZ25tZW50QXhpc10gKz0gY29tbW9uQWxpZ24gKiAocnRsICYmIGlzVmVydGljYWwgPyAtMSA6IDEpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGNvb3JkcztcbiAgfVxuICBjb25zdCBjb21wdXRlUG9zaXRpb24kMSA9IGFzeW5jIChyZWZlcmVuY2UsIGZsb2F0aW5nLCBjb25maWcpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBwbGFjZW1lbnQgPSBcImJvdHRvbVwiLFxuICAgICAgc3RyYXRlZ3kgPSBcImFic29sdXRlXCIsXG4gICAgICBtaWRkbGV3YXJlID0gW10sXG4gICAgICBwbGF0Zm9ybTogcGxhdGZvcm0yXG4gICAgfSA9IGNvbmZpZztcbiAgICBjb25zdCB2YWxpZE1pZGRsZXdhcmUgPSBtaWRkbGV3YXJlLmZpbHRlcihCb29sZWFuKTtcbiAgICBjb25zdCBydGwgPSBhd2FpdCAocGxhdGZvcm0yLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybTIuaXNSVEwoZmxvYXRpbmcpKTtcbiAgICBsZXQgcmVjdHMgPSBhd2FpdCBwbGF0Zm9ybTIuZ2V0RWxlbWVudFJlY3RzKHtcbiAgICAgIHJlZmVyZW5jZSxcbiAgICAgIGZsb2F0aW5nLFxuICAgICAgc3RyYXRlZ3lcbiAgICB9KTtcbiAgICBsZXQge1xuICAgICAgeDogeDIsXG4gICAgICB5OiB5MlxuICAgIH0gPSBjb21wdXRlQ29vcmRzRnJvbVBsYWNlbWVudChyZWN0cywgcGxhY2VtZW50LCBydGwpO1xuICAgIGxldCBzdGF0ZWZ1bFBsYWNlbWVudCA9IHBsYWNlbWVudDtcbiAgICBsZXQgbWlkZGxld2FyZURhdGEgPSB7fTtcbiAgICBsZXQgcmVzZXRDb3VudCA9IDA7XG4gICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IHZhbGlkTWlkZGxld2FyZS5sZW5ndGg7IGkyKyspIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgZm46IGZuMlxuICAgICAgfSA9IHZhbGlkTWlkZGxld2FyZVtpMl07XG4gICAgICBjb25zdCB7XG4gICAgICAgIHg6IG5leHRYLFxuICAgICAgICB5OiBuZXh0WSxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgcmVzZXRcbiAgICAgIH0gPSBhd2FpdCBmbjIoe1xuICAgICAgICB4OiB4MixcbiAgICAgICAgeTogeTIsXG4gICAgICAgIGluaXRpYWxQbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgICAgcGxhY2VtZW50OiBzdGF0ZWZ1bFBsYWNlbWVudCxcbiAgICAgICAgc3RyYXRlZ3ksXG4gICAgICAgIG1pZGRsZXdhcmVEYXRhLFxuICAgICAgICByZWN0cyxcbiAgICAgICAgcGxhdGZvcm06IHBsYXRmb3JtMixcbiAgICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgICByZWZlcmVuY2UsXG4gICAgICAgICAgZmxvYXRpbmdcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB4MiA9IG5leHRYICE9IG51bGwgPyBuZXh0WCA6IHgyO1xuICAgICAgeTIgPSBuZXh0WSAhPSBudWxsID8gbmV4dFkgOiB5MjtcbiAgICAgIG1pZGRsZXdhcmVEYXRhID0ge1xuICAgICAgICAuLi5taWRkbGV3YXJlRGF0YSxcbiAgICAgICAgW25hbWVdOiB7XG4gICAgICAgICAgLi4ubWlkZGxld2FyZURhdGFbbmFtZV0sXG4gICAgICAgICAgLi4uZGF0YVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaWYgKHJlc2V0ICYmIHJlc2V0Q291bnQgPD0gNTApIHtcbiAgICAgICAgcmVzZXRDb3VudCsrO1xuICAgICAgICBpZiAodHlwZW9mIHJlc2V0ID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgaWYgKHJlc2V0LnBsYWNlbWVudCkge1xuICAgICAgICAgICAgc3RhdGVmdWxQbGFjZW1lbnQgPSByZXNldC5wbGFjZW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZXNldC5yZWN0cykge1xuICAgICAgICAgICAgcmVjdHMgPSByZXNldC5yZWN0cyA9PT0gdHJ1ZSA/IGF3YWl0IHBsYXRmb3JtMi5nZXRFbGVtZW50UmVjdHMoe1xuICAgICAgICAgICAgICByZWZlcmVuY2UsXG4gICAgICAgICAgICAgIGZsb2F0aW5nLFxuICAgICAgICAgICAgICBzdHJhdGVneVxuICAgICAgICAgICAgfSkgOiByZXNldC5yZWN0cztcbiAgICAgICAgICB9XG4gICAgICAgICAgKHtcbiAgICAgICAgICAgIHg6IHgyLFxuICAgICAgICAgICAgeTogeTJcbiAgICAgICAgICB9ID0gY29tcHV0ZUNvb3Jkc0Zyb21QbGFjZW1lbnQocmVjdHMsIHN0YXRlZnVsUGxhY2VtZW50LCBydGwpKTtcbiAgICAgICAgfVxuICAgICAgICBpMiA9IC0xO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgeDogeDIsXG4gICAgICB5OiB5MixcbiAgICAgIHBsYWNlbWVudDogc3RhdGVmdWxQbGFjZW1lbnQsXG4gICAgICBzdHJhdGVneSxcbiAgICAgIG1pZGRsZXdhcmVEYXRhXG4gICAgfTtcbiAgfTtcbiAgYXN5bmMgZnVuY3Rpb24gZGV0ZWN0T3ZlcmZsb3ckMShzdGF0ZSwgb3B0aW9ucykge1xuICAgIHZhciBfYXdhaXQkcGxhdGZvcm0kaXNFbGU7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICB4OiB4MixcbiAgICAgIHk6IHkyLFxuICAgICAgcGxhdGZvcm06IHBsYXRmb3JtMixcbiAgICAgIHJlY3RzLFxuICAgICAgZWxlbWVudHMsXG4gICAgICBzdHJhdGVneVxuICAgIH0gPSBzdGF0ZTtcbiAgICBjb25zdCB7XG4gICAgICBib3VuZGFyeSA9IFwiY2xpcHBpbmdBbmNlc3RvcnNcIixcbiAgICAgIHJvb3RCb3VuZGFyeSA9IFwidmlld3BvcnRcIixcbiAgICAgIGVsZW1lbnRDb250ZXh0ID0gXCJmbG9hdGluZ1wiLFxuICAgICAgYWx0Qm91bmRhcnkgPSBmYWxzZSxcbiAgICAgIHBhZGRpbmcgPSAwXG4gICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICBjb25zdCBwYWRkaW5nT2JqZWN0ID0gZ2V0UGFkZGluZ09iamVjdChwYWRkaW5nKTtcbiAgICBjb25zdCBhbHRDb250ZXh0ID0gZWxlbWVudENvbnRleHQgPT09IFwiZmxvYXRpbmdcIiA/IFwicmVmZXJlbmNlXCIgOiBcImZsb2F0aW5nXCI7XG4gICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2FsdEJvdW5kYXJ5ID8gYWx0Q29udGV4dCA6IGVsZW1lbnRDb250ZXh0XTtcbiAgICBjb25zdCBjbGlwcGluZ0NsaWVudFJlY3QgPSByZWN0VG9DbGllbnRSZWN0KGF3YWl0IHBsYXRmb3JtMi5nZXRDbGlwcGluZ1JlY3Qoe1xuICAgICAgZWxlbWVudDogKChfYXdhaXQkcGxhdGZvcm0kaXNFbGUgPSBhd2FpdCAocGxhdGZvcm0yLmlzRWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0yLmlzRWxlbWVudChlbGVtZW50KSkpICE9IG51bGwgPyBfYXdhaXQkcGxhdGZvcm0kaXNFbGUgOiB0cnVlKSA/IGVsZW1lbnQgOiBlbGVtZW50LmNvbnRleHRFbGVtZW50IHx8IGF3YWl0IChwbGF0Zm9ybTIuZ2V0RG9jdW1lbnRFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybTIuZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnRzLmZsb2F0aW5nKSksXG4gICAgICBib3VuZGFyeSxcbiAgICAgIHJvb3RCb3VuZGFyeSxcbiAgICAgIHN0cmF0ZWd5XG4gICAgfSkpO1xuICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50Q29udGV4dCA9PT0gXCJmbG9hdGluZ1wiID8ge1xuICAgICAgeDogeDIsXG4gICAgICB5OiB5MixcbiAgICAgIHdpZHRoOiByZWN0cy5mbG9hdGluZy53aWR0aCxcbiAgICAgIGhlaWdodDogcmVjdHMuZmxvYXRpbmcuaGVpZ2h0XG4gICAgfSA6IHJlY3RzLnJlZmVyZW5jZTtcbiAgICBjb25zdCBvZmZzZXRQYXJlbnQgPSBhd2FpdCAocGxhdGZvcm0yLmdldE9mZnNldFBhcmVudCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0yLmdldE9mZnNldFBhcmVudChlbGVtZW50cy5mbG9hdGluZykpO1xuICAgIGNvbnN0IG9mZnNldFNjYWxlID0gYXdhaXQgKHBsYXRmb3JtMi5pc0VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtMi5pc0VsZW1lbnQob2Zmc2V0UGFyZW50KSkgPyBhd2FpdCAocGxhdGZvcm0yLmdldFNjYWxlID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybTIuZ2V0U2NhbGUob2Zmc2V0UGFyZW50KSkgfHwge1xuICAgICAgeDogMSxcbiAgICAgIHk6IDFcbiAgICB9IDoge1xuICAgICAgeDogMSxcbiAgICAgIHk6IDFcbiAgICB9O1xuICAgIGNvbnN0IGVsZW1lbnRDbGllbnRSZWN0ID0gcmVjdFRvQ2xpZW50UmVjdChwbGF0Zm9ybTIuY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3QgPyBhd2FpdCBwbGF0Zm9ybTIuY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3Qoe1xuICAgICAgZWxlbWVudHMsXG4gICAgICByZWN0LFxuICAgICAgb2Zmc2V0UGFyZW50LFxuICAgICAgc3RyYXRlZ3lcbiAgICB9KSA6IHJlY3QpO1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IChjbGlwcGluZ0NsaWVudFJlY3QudG9wIC0gZWxlbWVudENsaWVudFJlY3QudG9wICsgcGFkZGluZ09iamVjdC50b3ApIC8gb2Zmc2V0U2NhbGUueSxcbiAgICAgIGJvdHRvbTogKGVsZW1lbnRDbGllbnRSZWN0LmJvdHRvbSAtIGNsaXBwaW5nQ2xpZW50UmVjdC5ib3R0b20gKyBwYWRkaW5nT2JqZWN0LmJvdHRvbSkgLyBvZmZzZXRTY2FsZS55LFxuICAgICAgbGVmdDogKGNsaXBwaW5nQ2xpZW50UmVjdC5sZWZ0IC0gZWxlbWVudENsaWVudFJlY3QubGVmdCArIHBhZGRpbmdPYmplY3QubGVmdCkgLyBvZmZzZXRTY2FsZS54LFxuICAgICAgcmlnaHQ6IChlbGVtZW50Q2xpZW50UmVjdC5yaWdodCAtIGNsaXBwaW5nQ2xpZW50UmVjdC5yaWdodCArIHBhZGRpbmdPYmplY3QucmlnaHQpIC8gb2Zmc2V0U2NhbGUueFxuICAgIH07XG4gIH1cbiAgY29uc3QgZmxpcCQyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IFwiZmxpcFwiLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICAgIHZhciBfbWlkZGxld2FyZURhdGEkYXJyb3csIF9taWRkbGV3YXJlRGF0YSRmbGlwO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICAgIG1pZGRsZXdhcmVEYXRhLFxuICAgICAgICAgIHJlY3RzLFxuICAgICAgICAgIGluaXRpYWxQbGFjZW1lbnQsXG4gICAgICAgICAgcGxhdGZvcm06IHBsYXRmb3JtMixcbiAgICAgICAgICBlbGVtZW50c1xuICAgICAgICB9ID0gc3RhdGU7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBtYWluQXhpczogY2hlY2tNYWluQXhpcyA9IHRydWUsXG4gICAgICAgICAgY3Jvc3NBeGlzOiBjaGVja0Nyb3NzQXhpcyA9IHRydWUsXG4gICAgICAgICAgZmFsbGJhY2tQbGFjZW1lbnRzOiBzcGVjaWZpZWRGYWxsYmFja1BsYWNlbWVudHMsXG4gICAgICAgICAgZmFsbGJhY2tTdHJhdGVneSA9IFwiYmVzdEZpdFwiLFxuICAgICAgICAgIGZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24gPSBcIm5vbmVcIixcbiAgICAgICAgICBmbGlwQWxpZ25tZW50ID0gdHJ1ZSxcbiAgICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnNcbiAgICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgICAgaWYgKChfbWlkZGxld2FyZURhdGEkYXJyb3cgPSBtaWRkbGV3YXJlRGF0YS5hcnJvdykgIT0gbnVsbCAmJiBfbWlkZGxld2FyZURhdGEkYXJyb3cuYWxpZ25tZW50T2Zmc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNpZGUgPSBnZXRTaWRlKHBsYWNlbWVudCk7XG4gICAgICAgIGNvbnN0IGluaXRpYWxTaWRlQXhpcyA9IGdldFNpZGVBeGlzKGluaXRpYWxQbGFjZW1lbnQpO1xuICAgICAgICBjb25zdCBpc0Jhc2VQbGFjZW1lbnQgPSBnZXRTaWRlKGluaXRpYWxQbGFjZW1lbnQpID09PSBpbml0aWFsUGxhY2VtZW50O1xuICAgICAgICBjb25zdCBydGwgPSBhd2FpdCAocGxhdGZvcm0yLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybTIuaXNSVEwoZWxlbWVudHMuZmxvYXRpbmcpKTtcbiAgICAgICAgY29uc3QgZmFsbGJhY2tQbGFjZW1lbnRzID0gc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzIHx8IChpc0Jhc2VQbGFjZW1lbnQgfHwgIWZsaXBBbGlnbm1lbnQgPyBbZ2V0T3Bwb3NpdGVQbGFjZW1lbnQoaW5pdGlhbFBsYWNlbWVudCldIDogZ2V0RXhwYW5kZWRQbGFjZW1lbnRzKGluaXRpYWxQbGFjZW1lbnQpKTtcbiAgICAgICAgY29uc3QgaGFzRmFsbGJhY2tBeGlzU2lkZURpcmVjdGlvbiA9IGZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24gIT09IFwibm9uZVwiO1xuICAgICAgICBpZiAoIXNwZWNpZmllZEZhbGxiYWNrUGxhY2VtZW50cyAmJiBoYXNGYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uKSB7XG4gICAgICAgICAgZmFsbGJhY2tQbGFjZW1lbnRzLnB1c2goLi4uZ2V0T3Bwb3NpdGVBeGlzUGxhY2VtZW50cyhpbml0aWFsUGxhY2VtZW50LCBmbGlwQWxpZ25tZW50LCBmYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uLCBydGwpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwbGFjZW1lbnRzID0gW2luaXRpYWxQbGFjZW1lbnQsIC4uLmZhbGxiYWNrUGxhY2VtZW50c107XG4gICAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3ckMShzdGF0ZSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICAgICAgY29uc3Qgb3ZlcmZsb3dzID0gW107XG4gICAgICAgIGxldCBvdmVyZmxvd3NEYXRhID0gKChfbWlkZGxld2FyZURhdGEkZmxpcCA9IG1pZGRsZXdhcmVEYXRhLmZsaXApID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkZmxpcC5vdmVyZmxvd3MpIHx8IFtdO1xuICAgICAgICBpZiAoY2hlY2tNYWluQXhpcykge1xuICAgICAgICAgIG92ZXJmbG93cy5wdXNoKG92ZXJmbG93W3NpZGVdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hlY2tDcm9zc0F4aXMpIHtcbiAgICAgICAgICBjb25zdCBzaWRlcyA9IGdldEFsaWdubWVudFNpZGVzKHBsYWNlbWVudCwgcmVjdHMsIHJ0bCk7XG4gICAgICAgICAgb3ZlcmZsb3dzLnB1c2gob3ZlcmZsb3dbc2lkZXNbMF1dLCBvdmVyZmxvd1tzaWRlc1sxXV0pO1xuICAgICAgICB9XG4gICAgICAgIG92ZXJmbG93c0RhdGEgPSBbLi4ub3ZlcmZsb3dzRGF0YSwge1xuICAgICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgICBvdmVyZmxvd3NcbiAgICAgICAgfV07XG4gICAgICAgIGlmICghb3ZlcmZsb3dzLmV2ZXJ5KChzaWRlMikgPT4gc2lkZTIgPD0gMCkpIHtcbiAgICAgICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJGZsaXAyLCBfb3ZlcmZsb3dzRGF0YSRmaWx0ZXI7XG4gICAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gKCgoX21pZGRsZXdhcmVEYXRhJGZsaXAyID0gbWlkZGxld2FyZURhdGEuZmxpcCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRmbGlwMi5pbmRleCkgfHwgMCkgKyAxO1xuICAgICAgICAgIGNvbnN0IG5leHRQbGFjZW1lbnQgPSBwbGFjZW1lbnRzW25leHRJbmRleF07XG4gICAgICAgICAgaWYgKG5leHRQbGFjZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBfb3ZlcmZsb3dzRGF0YSQ7XG4gICAgICAgICAgICBjb25zdCBpZ25vcmVDcm9zc0F4aXNPdmVyZmxvdyA9IGNoZWNrQ3Jvc3NBeGlzID09PSBcImFsaWdubWVudFwiID8gaW5pdGlhbFNpZGVBeGlzICE9PSBnZXRTaWRlQXhpcyhuZXh0UGxhY2VtZW50KSA6IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgaGFzSW5pdGlhbE1haW5BeGlzT3ZlcmZsb3cgPSAoKF9vdmVyZmxvd3NEYXRhJCA9IG92ZXJmbG93c0RhdGFbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfb3ZlcmZsb3dzRGF0YSQub3ZlcmZsb3dzWzBdKSA+IDA7XG4gICAgICAgICAgICBpZiAoIWlnbm9yZUNyb3NzQXhpc092ZXJmbG93IHx8IGhhc0luaXRpYWxNYWluQXhpc092ZXJmbG93KSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgaW5kZXg6IG5leHRJbmRleCxcbiAgICAgICAgICAgICAgICAgIG92ZXJmbG93czogb3ZlcmZsb3dzRGF0YVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogbmV4dFBsYWNlbWVudFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHJlc2V0UGxhY2VtZW50ID0gKF9vdmVyZmxvd3NEYXRhJGZpbHRlciA9IG92ZXJmbG93c0RhdGEuZmlsdGVyKChkMikgPT4gZDIub3ZlcmZsb3dzWzBdIDw9IDApLnNvcnQoKGEyLCBiMikgPT4gYTIub3ZlcmZsb3dzWzFdIC0gYjIub3ZlcmZsb3dzWzFdKVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9vdmVyZmxvd3NEYXRhJGZpbHRlci5wbGFjZW1lbnQ7XG4gICAgICAgICAgaWYgKCFyZXNldFBsYWNlbWVudCkge1xuICAgICAgICAgICAgc3dpdGNoIChmYWxsYmFja1N0cmF0ZWd5KSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJiZXN0Rml0XCI6IHtcbiAgICAgICAgICAgICAgICB2YXIgX292ZXJmbG93c0RhdGEkZmlsdGVyMjtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFjZW1lbnQyID0gKF9vdmVyZmxvd3NEYXRhJGZpbHRlcjIgPSBvdmVyZmxvd3NEYXRhLmZpbHRlcigoZDIpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChoYXNGYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTaWRlQXhpcyA9IGdldFNpZGVBeGlzKGQyLnBsYWNlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50U2lkZUF4aXMgPT09IGluaXRpYWxTaWRlQXhpcyB8fCAvLyBDcmVhdGUgYSBiaWFzIHRvIHRoZSBgeWAgc2lkZSBheGlzIGR1ZSB0byBob3Jpem9udGFsXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlYWRpbmcgZGlyZWN0aW9ucyBmYXZvcmluZyBncmVhdGVyIHdpZHRoLlxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2lkZUF4aXMgPT09IFwieVwiO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSkubWFwKChkMikgPT4gW2QyLnBsYWNlbWVudCwgZDIub3ZlcmZsb3dzLmZpbHRlcigob3ZlcmZsb3cyKSA9PiBvdmVyZmxvdzIgPiAwKS5yZWR1Y2UoKGFjYywgb3ZlcmZsb3cyKSA9PiBhY2MgKyBvdmVyZmxvdzIsIDApXSkuc29ydCgoYTIsIGIyKSA9PiBhMlsxXSAtIGIyWzFdKVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9vdmVyZmxvd3NEYXRhJGZpbHRlcjJbMF07XG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlbWVudDIpIHtcbiAgICAgICAgICAgICAgICAgIHJlc2V0UGxhY2VtZW50ID0gcGxhY2VtZW50MjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2FzZSBcImluaXRpYWxQbGFjZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXNldFBsYWNlbWVudCA9IGluaXRpYWxQbGFjZW1lbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwbGFjZW1lbnQgIT09IHJlc2V0UGxhY2VtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgICAgIHBsYWNlbWVudDogcmVzZXRQbGFjZW1lbnRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgIH07XG4gIH07XG4gIGFzeW5jIGZ1bmN0aW9uIGNvbnZlcnRWYWx1ZVRvQ29vcmRzKHN0YXRlLCBvcHRpb25zKSB7XG4gICAgY29uc3Qge1xuICAgICAgcGxhY2VtZW50LFxuICAgICAgcGxhdGZvcm06IHBsYXRmb3JtMixcbiAgICAgIGVsZW1lbnRzXG4gICAgfSA9IHN0YXRlO1xuICAgIGNvbnN0IHJ0bCA9IGF3YWl0IChwbGF0Zm9ybTIuaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtMi5pc1JUTChlbGVtZW50cy5mbG9hdGluZykpO1xuICAgIGNvbnN0IHNpZGUgPSBnZXRTaWRlKHBsYWNlbWVudCk7XG4gICAgY29uc3QgYWxpZ25tZW50ID0gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCk7XG4gICAgY29uc3QgaXNWZXJ0aWNhbCA9IGdldFNpZGVBeGlzKHBsYWNlbWVudCkgPT09IFwieVwiO1xuICAgIGNvbnN0IG1haW5BeGlzTXVsdGkgPSBbXCJsZWZ0XCIsIFwidG9wXCJdLmluY2x1ZGVzKHNpZGUpID8gLTEgOiAxO1xuICAgIGNvbnN0IGNyb3NzQXhpc011bHRpID0gcnRsICYmIGlzVmVydGljYWwgPyAtMSA6IDE7XG4gICAgY29uc3QgcmF3VmFsdWUgPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gICAgbGV0IHtcbiAgICAgIG1haW5BeGlzLFxuICAgICAgY3Jvc3NBeGlzLFxuICAgICAgYWxpZ25tZW50QXhpc1xuICAgIH0gPSB0eXBlb2YgcmF3VmFsdWUgPT09IFwibnVtYmVyXCIgPyB7XG4gICAgICBtYWluQXhpczogcmF3VmFsdWUsXG4gICAgICBjcm9zc0F4aXM6IDAsXG4gICAgICBhbGlnbm1lbnRBeGlzOiBudWxsXG4gICAgfSA6IHtcbiAgICAgIG1haW5BeGlzOiByYXdWYWx1ZS5tYWluQXhpcyB8fCAwLFxuICAgICAgY3Jvc3NBeGlzOiByYXdWYWx1ZS5jcm9zc0F4aXMgfHwgMCxcbiAgICAgIGFsaWdubWVudEF4aXM6IHJhd1ZhbHVlLmFsaWdubWVudEF4aXNcbiAgICB9O1xuICAgIGlmIChhbGlnbm1lbnQgJiYgdHlwZW9mIGFsaWdubWVudEF4aXMgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNyb3NzQXhpcyA9IGFsaWdubWVudCA9PT0gXCJlbmRcIiA/IGFsaWdubWVudEF4aXMgKiAtMSA6IGFsaWdubWVudEF4aXM7XG4gICAgfVxuICAgIHJldHVybiBpc1ZlcnRpY2FsID8ge1xuICAgICAgeDogY3Jvc3NBeGlzICogY3Jvc3NBeGlzTXVsdGksXG4gICAgICB5OiBtYWluQXhpcyAqIG1haW5BeGlzTXVsdGlcbiAgICB9IDoge1xuICAgICAgeDogbWFpbkF4aXMgKiBtYWluQXhpc011bHRpLFxuICAgICAgeTogY3Jvc3NBeGlzICogY3Jvc3NBeGlzTXVsdGlcbiAgICB9O1xuICB9XG4gIGNvbnN0IG9mZnNldCQyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSAwO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogXCJvZmZzZXRcIixcbiAgICAgIG9wdGlvbnMsXG4gICAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJG9mZnNlLCBfbWlkZGxld2FyZURhdGEkYXJyb3c7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICB4OiB4MixcbiAgICAgICAgICB5OiB5MixcbiAgICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgICAgbWlkZGxld2FyZURhdGFcbiAgICAgICAgfSA9IHN0YXRlO1xuICAgICAgICBjb25zdCBkaWZmQ29vcmRzID0gYXdhaXQgY29udmVydFZhbHVlVG9Db29yZHMoc3RhdGUsIG9wdGlvbnMpO1xuICAgICAgICBpZiAocGxhY2VtZW50ID09PSAoKF9taWRkbGV3YXJlRGF0YSRvZmZzZSA9IG1pZGRsZXdhcmVEYXRhLm9mZnNldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRvZmZzZS5wbGFjZW1lbnQpICYmIChfbWlkZGxld2FyZURhdGEkYXJyb3cgPSBtaWRkbGV3YXJlRGF0YS5hcnJvdykgIT0gbnVsbCAmJiBfbWlkZGxld2FyZURhdGEkYXJyb3cuYWxpZ25tZW50T2Zmc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgeDogeDIgKyBkaWZmQ29vcmRzLngsXG4gICAgICAgICAgeTogeTIgKyBkaWZmQ29vcmRzLnksXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgLi4uZGlmZkNvb3JkcyxcbiAgICAgICAgICAgIHBsYWNlbWVudFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICBjb25zdCBzaGlmdCQyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IFwic2hpZnRcIixcbiAgICAgIG9wdGlvbnMsXG4gICAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgeDogeDIsXG4gICAgICAgICAgeTogeTIsXG4gICAgICAgICAgcGxhY2VtZW50XG4gICAgICAgIH0gPSBzdGF0ZTtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIG1haW5BeGlzOiBjaGVja01haW5BeGlzID0gdHJ1ZSxcbiAgICAgICAgICBjcm9zc0F4aXM6IGNoZWNrQ3Jvc3NBeGlzID0gZmFsc2UsXG4gICAgICAgICAgbGltaXRlciA9IHtcbiAgICAgICAgICAgIGZuOiAoX3JlZikgPT4ge1xuICAgICAgICAgICAgICBsZXQge1xuICAgICAgICAgICAgICAgIHg6IHgzLFxuICAgICAgICAgICAgICAgIHk6IHkzXG4gICAgICAgICAgICAgIH0gPSBfcmVmO1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IHgzLFxuICAgICAgICAgICAgICAgIHk6IHkzXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnNcbiAgICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgICAgY29uc3QgY29vcmRzID0ge1xuICAgICAgICAgIHg6IHgyLFxuICAgICAgICAgIHk6IHkyXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3ckMShzdGF0ZSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICAgICAgY29uc3QgY3Jvc3NBeGlzID0gZ2V0U2lkZUF4aXMoZ2V0U2lkZShwbGFjZW1lbnQpKTtcbiAgICAgICAgY29uc3QgbWFpbkF4aXMgPSBnZXRPcHBvc2l0ZUF4aXMoY3Jvc3NBeGlzKTtcbiAgICAgICAgbGV0IG1haW5BeGlzQ29vcmQgPSBjb29yZHNbbWFpbkF4aXNdO1xuICAgICAgICBsZXQgY3Jvc3NBeGlzQ29vcmQgPSBjb29yZHNbY3Jvc3NBeGlzXTtcbiAgICAgICAgaWYgKGNoZWNrTWFpbkF4aXMpIHtcbiAgICAgICAgICBjb25zdCBtaW5TaWRlID0gbWFpbkF4aXMgPT09IFwieVwiID8gXCJ0b3BcIiA6IFwibGVmdFwiO1xuICAgICAgICAgIGNvbnN0IG1heFNpZGUgPSBtYWluQXhpcyA9PT0gXCJ5XCIgPyBcImJvdHRvbVwiIDogXCJyaWdodFwiO1xuICAgICAgICAgIGNvbnN0IG1pbjIgPSBtYWluQXhpc0Nvb3JkICsgb3ZlcmZsb3dbbWluU2lkZV07XG4gICAgICAgICAgY29uc3QgbWF4MiA9IG1haW5BeGlzQ29vcmQgLSBvdmVyZmxvd1ttYXhTaWRlXTtcbiAgICAgICAgICBtYWluQXhpc0Nvb3JkID0gY2xhbXAobWluMiwgbWFpbkF4aXNDb29yZCwgbWF4Mik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoZWNrQ3Jvc3NBeGlzKSB7XG4gICAgICAgICAgY29uc3QgbWluU2lkZSA9IGNyb3NzQXhpcyA9PT0gXCJ5XCIgPyBcInRvcFwiIDogXCJsZWZ0XCI7XG4gICAgICAgICAgY29uc3QgbWF4U2lkZSA9IGNyb3NzQXhpcyA9PT0gXCJ5XCIgPyBcImJvdHRvbVwiIDogXCJyaWdodFwiO1xuICAgICAgICAgIGNvbnN0IG1pbjIgPSBjcm9zc0F4aXNDb29yZCArIG92ZXJmbG93W21pblNpZGVdO1xuICAgICAgICAgIGNvbnN0IG1heDIgPSBjcm9zc0F4aXNDb29yZCAtIG92ZXJmbG93W21heFNpZGVdO1xuICAgICAgICAgIGNyb3NzQXhpc0Nvb3JkID0gY2xhbXAobWluMiwgY3Jvc3NBeGlzQ29vcmQsIG1heDIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpbWl0ZWRDb29yZHMgPSBsaW1pdGVyLmZuKHtcbiAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICBbbWFpbkF4aXNdOiBtYWluQXhpc0Nvb3JkLFxuICAgICAgICAgIFtjcm9zc0F4aXNdOiBjcm9zc0F4aXNDb29yZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5saW1pdGVkQ29vcmRzLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHg6IGxpbWl0ZWRDb29yZHMueCAtIHgyLFxuICAgICAgICAgICAgeTogbGltaXRlZENvb3Jkcy55IC0geTIsXG4gICAgICAgICAgICBlbmFibGVkOiB7XG4gICAgICAgICAgICAgIFttYWluQXhpc106IGNoZWNrTWFpbkF4aXMsXG4gICAgICAgICAgICAgIFtjcm9zc0F4aXNdOiBjaGVja0Nyb3NzQXhpc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICBjb25zdCBzaXplJDIgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogXCJzaXplXCIsXG4gICAgICBvcHRpb25zLFxuICAgICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgICAgdmFyIF9zdGF0ZSRtaWRkbGV3YXJlRGF0YSwgX3N0YXRlJG1pZGRsZXdhcmVEYXRhMjtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgICByZWN0cyxcbiAgICAgICAgICBwbGF0Zm9ybTogcGxhdGZvcm0yLFxuICAgICAgICAgIGVsZW1lbnRzXG4gICAgICAgIH0gPSBzdGF0ZTtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGFwcGx5ID0gKCkgPT4ge1xuICAgICAgICAgIH0sXG4gICAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zXG4gICAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gICAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3ckMShzdGF0ZSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICAgICAgY29uc3Qgc2lkZSA9IGdldFNpZGUocGxhY2VtZW50KTtcbiAgICAgICAgY29uc3QgYWxpZ25tZW50ID0gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCk7XG4gICAgICAgIGNvbnN0IGlzWUF4aXMgPSBnZXRTaWRlQXhpcyhwbGFjZW1lbnQpID09PSBcInlcIjtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGhlaWdodFxuICAgICAgICB9ID0gcmVjdHMuZmxvYXRpbmc7XG4gICAgICAgIGxldCBoZWlnaHRTaWRlO1xuICAgICAgICBsZXQgd2lkdGhTaWRlO1xuICAgICAgICBpZiAoc2lkZSA9PT0gXCJ0b3BcIiB8fCBzaWRlID09PSBcImJvdHRvbVwiKSB7XG4gICAgICAgICAgaGVpZ2h0U2lkZSA9IHNpZGU7XG4gICAgICAgICAgd2lkdGhTaWRlID0gYWxpZ25tZW50ID09PSAoYXdhaXQgKHBsYXRmb3JtMi5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0yLmlzUlRMKGVsZW1lbnRzLmZsb2F0aW5nKSkgPyBcInN0YXJ0XCIgOiBcImVuZFwiKSA/IFwibGVmdFwiIDogXCJyaWdodFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdpZHRoU2lkZSA9IHNpZGU7XG4gICAgICAgICAgaGVpZ2h0U2lkZSA9IGFsaWdubWVudCA9PT0gXCJlbmRcIiA/IFwidG9wXCIgOiBcImJvdHRvbVwiO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1heGltdW1DbGlwcGluZ0hlaWdodCA9IGhlaWdodCAtIG92ZXJmbG93LnRvcCAtIG92ZXJmbG93LmJvdHRvbTtcbiAgICAgICAgY29uc3QgbWF4aW11bUNsaXBwaW5nV2lkdGggPSB3aWR0aCAtIG92ZXJmbG93LmxlZnQgLSBvdmVyZmxvdy5yaWdodDtcbiAgICAgICAgY29uc3Qgb3ZlcmZsb3dBdmFpbGFibGVIZWlnaHQgPSBtaW4oaGVpZ2h0IC0gb3ZlcmZsb3dbaGVpZ2h0U2lkZV0sIG1heGltdW1DbGlwcGluZ0hlaWdodCk7XG4gICAgICAgIGNvbnN0IG92ZXJmbG93QXZhaWxhYmxlV2lkdGggPSBtaW4od2lkdGggLSBvdmVyZmxvd1t3aWR0aFNpZGVdLCBtYXhpbXVtQ2xpcHBpbmdXaWR0aCk7XG4gICAgICAgIGNvbnN0IG5vU2hpZnQgPSAhc3RhdGUubWlkZGxld2FyZURhdGEuc2hpZnQ7XG4gICAgICAgIGxldCBhdmFpbGFibGVIZWlnaHQgPSBvdmVyZmxvd0F2YWlsYWJsZUhlaWdodDtcbiAgICAgICAgbGV0IGF2YWlsYWJsZVdpZHRoID0gb3ZlcmZsb3dBdmFpbGFibGVXaWR0aDtcbiAgICAgICAgaWYgKChfc3RhdGUkbWlkZGxld2FyZURhdGEgPSBzdGF0ZS5taWRkbGV3YXJlRGF0YS5zaGlmdCkgIT0gbnVsbCAmJiBfc3RhdGUkbWlkZGxld2FyZURhdGEuZW5hYmxlZC54KSB7XG4gICAgICAgICAgYXZhaWxhYmxlV2lkdGggPSBtYXhpbXVtQ2xpcHBpbmdXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKF9zdGF0ZSRtaWRkbGV3YXJlRGF0YTIgPSBzdGF0ZS5taWRkbGV3YXJlRGF0YS5zaGlmdCkgIT0gbnVsbCAmJiBfc3RhdGUkbWlkZGxld2FyZURhdGEyLmVuYWJsZWQueSkge1xuICAgICAgICAgIGF2YWlsYWJsZUhlaWdodCA9IG1heGltdW1DbGlwcGluZ0hlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9TaGlmdCAmJiAhYWxpZ25tZW50KSB7XG4gICAgICAgICAgY29uc3QgeE1pbiA9IG1heChvdmVyZmxvdy5sZWZ0LCAwKTtcbiAgICAgICAgICBjb25zdCB4TWF4ID0gbWF4KG92ZXJmbG93LnJpZ2h0LCAwKTtcbiAgICAgICAgICBjb25zdCB5TWluID0gbWF4KG92ZXJmbG93LnRvcCwgMCk7XG4gICAgICAgICAgY29uc3QgeU1heCA9IG1heChvdmVyZmxvdy5ib3R0b20sIDApO1xuICAgICAgICAgIGlmIChpc1lBeGlzKSB7XG4gICAgICAgICAgICBhdmFpbGFibGVXaWR0aCA9IHdpZHRoIC0gMiAqICh4TWluICE9PSAwIHx8IHhNYXggIT09IDAgPyB4TWluICsgeE1heCA6IG1heChvdmVyZmxvdy5sZWZ0LCBvdmVyZmxvdy5yaWdodCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhdmFpbGFibGVIZWlnaHQgPSBoZWlnaHQgLSAyICogKHlNaW4gIT09IDAgfHwgeU1heCAhPT0gMCA/IHlNaW4gKyB5TWF4IDogbWF4KG92ZXJmbG93LnRvcCwgb3ZlcmZsb3cuYm90dG9tKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGFwcGx5KHtcbiAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICBhdmFpbGFibGVXaWR0aCxcbiAgICAgICAgICBhdmFpbGFibGVIZWlnaHRcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG5leHREaW1lbnNpb25zID0gYXdhaXQgcGxhdGZvcm0yLmdldERpbWVuc2lvbnMoZWxlbWVudHMuZmxvYXRpbmcpO1xuICAgICAgICBpZiAod2lkdGggIT09IG5leHREaW1lbnNpb25zLndpZHRoIHx8IGhlaWdodCAhPT0gbmV4dERpbWVuc2lvbnMuaGVpZ2h0KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICAgIHJlY3RzOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbiAgZnVuY3Rpb24gZ2V0Q3NzRGltZW5zaW9ucyhlbGVtZW50KSB7XG4gICAgY29uc3QgY3NzID0gZ2V0Q29tcHV0ZWRTdHlsZSQxKGVsZW1lbnQpO1xuICAgIGxldCB3aWR0aCA9IHBhcnNlRmxvYXQoY3NzLndpZHRoKSB8fCAwO1xuICAgIGxldCBoZWlnaHQgPSBwYXJzZUZsb2F0KGNzcy5oZWlnaHQpIHx8IDA7XG4gICAgY29uc3QgaGFzT2Zmc2V0ID0gaXNIVE1MRWxlbWVudChlbGVtZW50KTtcbiAgICBjb25zdCBvZmZzZXRXaWR0aCA9IGhhc09mZnNldCA/IGVsZW1lbnQub2Zmc2V0V2lkdGggOiB3aWR0aDtcbiAgICBjb25zdCBvZmZzZXRIZWlnaHQgPSBoYXNPZmZzZXQgPyBlbGVtZW50Lm9mZnNldEhlaWdodCA6IGhlaWdodDtcbiAgICBjb25zdCBzaG91bGRGYWxsYmFjayA9IHJvdW5kKHdpZHRoKSAhPT0gb2Zmc2V0V2lkdGggfHwgcm91bmQoaGVpZ2h0KSAhPT0gb2Zmc2V0SGVpZ2h0O1xuICAgIGlmIChzaG91bGRGYWxsYmFjaykge1xuICAgICAgd2lkdGggPSBvZmZzZXRXaWR0aDtcbiAgICAgIGhlaWdodCA9IG9mZnNldEhlaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgICAgJDogc2hvdWxkRmFsbGJhY2tcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHVud3JhcEVsZW1lbnQoZWxlbWVudCkge1xuICAgIHJldHVybiAhaXNFbGVtZW50KGVsZW1lbnQpID8gZWxlbWVudC5jb250ZXh0RWxlbWVudCA6IGVsZW1lbnQ7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0U2NhbGUoZWxlbWVudCkge1xuICAgIGNvbnN0IGRvbUVsZW1lbnQgPSB1bndyYXBFbGVtZW50KGVsZW1lbnQpO1xuICAgIGlmICghaXNIVE1MRWxlbWVudChkb21FbGVtZW50KSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUNvb3JkcygxKTtcbiAgICB9XG4gICAgY29uc3QgcmVjdCA9IGRvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3Qge1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICAkOiAkMlxuICAgIH0gPSBnZXRDc3NEaW1lbnNpb25zKGRvbUVsZW1lbnQpO1xuICAgIGxldCB4MiA9ICgkMiA/IHJvdW5kKHJlY3Qud2lkdGgpIDogcmVjdC53aWR0aCkgLyB3aWR0aDtcbiAgICBsZXQgeTIgPSAoJDIgPyByb3VuZChyZWN0LmhlaWdodCkgOiByZWN0LmhlaWdodCkgLyBoZWlnaHQ7XG4gICAgaWYgKCF4MiB8fCAhTnVtYmVyLmlzRmluaXRlKHgyKSkge1xuICAgICAgeDIgPSAxO1xuICAgIH1cbiAgICBpZiAoIXkyIHx8ICFOdW1iZXIuaXNGaW5pdGUoeTIpKSB7XG4gICAgICB5MiA9IDE7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB4OiB4MixcbiAgICAgIHk6IHkyXG4gICAgfTtcbiAgfVxuICBjb25zdCBub09mZnNldHMgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlQ29vcmRzKDApO1xuICBmdW5jdGlvbiBnZXRWaXN1YWxPZmZzZXRzKGVsZW1lbnQpIHtcbiAgICBjb25zdCB3aW4gPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gICAgaWYgKCFpc1dlYktpdCgpIHx8ICF3aW4udmlzdWFsVmlld3BvcnQpIHtcbiAgICAgIHJldHVybiBub09mZnNldHM7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB4OiB3aW4udmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdCxcbiAgICAgIHk6IHdpbi52aXN1YWxWaWV3cG9ydC5vZmZzZXRUb3BcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHNob3VsZEFkZFZpc3VhbE9mZnNldHMoZWxlbWVudCwgaXNGaXhlZCwgZmxvYXRpbmdPZmZzZXRQYXJlbnQpIHtcbiAgICBpZiAoaXNGaXhlZCA9PT0gdm9pZCAwKSB7XG4gICAgICBpc0ZpeGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICghZmxvYXRpbmdPZmZzZXRQYXJlbnQgfHwgaXNGaXhlZCAmJiBmbG9hdGluZ09mZnNldFBhcmVudCAhPT0gZ2V0V2luZG93KGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBpc0ZpeGVkO1xuICB9XG4gIGZ1bmN0aW9uIGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCBpbmNsdWRlU2NhbGUsIGlzRml4ZWRTdHJhdGVneSwgb2Zmc2V0UGFyZW50KSB7XG4gICAgaWYgKGluY2x1ZGVTY2FsZSA9PT0gdm9pZCAwKSB7XG4gICAgICBpbmNsdWRlU2NhbGUgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGlzRml4ZWRTdHJhdGVneSA9PT0gdm9pZCAwKSB7XG4gICAgICBpc0ZpeGVkU3RyYXRlZ3kgPSBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgY2xpZW50UmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgZG9tRWxlbWVudCA9IHVud3JhcEVsZW1lbnQoZWxlbWVudCk7XG4gICAgbGV0IHNjYWxlID0gY3JlYXRlQ29vcmRzKDEpO1xuICAgIGlmIChpbmNsdWRlU2NhbGUpIHtcbiAgICAgIGlmIChvZmZzZXRQYXJlbnQpIHtcbiAgICAgICAgaWYgKGlzRWxlbWVudChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICAgICAgc2NhbGUgPSBnZXRTY2FsZShvZmZzZXRQYXJlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzY2FsZSA9IGdldFNjYWxlKGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB2aXN1YWxPZmZzZXRzID0gc2hvdWxkQWRkVmlzdWFsT2Zmc2V0cyhkb21FbGVtZW50LCBpc0ZpeGVkU3RyYXRlZ3ksIG9mZnNldFBhcmVudCkgPyBnZXRWaXN1YWxPZmZzZXRzKGRvbUVsZW1lbnQpIDogY3JlYXRlQ29vcmRzKDApO1xuICAgIGxldCB4MiA9IChjbGllbnRSZWN0LmxlZnQgKyB2aXN1YWxPZmZzZXRzLngpIC8gc2NhbGUueDtcbiAgICBsZXQgeTIgPSAoY2xpZW50UmVjdC50b3AgKyB2aXN1YWxPZmZzZXRzLnkpIC8gc2NhbGUueTtcbiAgICBsZXQgd2lkdGggPSBjbGllbnRSZWN0LndpZHRoIC8gc2NhbGUueDtcbiAgICBsZXQgaGVpZ2h0ID0gY2xpZW50UmVjdC5oZWlnaHQgLyBzY2FsZS55O1xuICAgIGlmIChkb21FbGVtZW50KSB7XG4gICAgICBjb25zdCB3aW4gPSBnZXRXaW5kb3coZG9tRWxlbWVudCk7XG4gICAgICBjb25zdCBvZmZzZXRXaW4gPSBvZmZzZXRQYXJlbnQgJiYgaXNFbGVtZW50KG9mZnNldFBhcmVudCkgPyBnZXRXaW5kb3cob2Zmc2V0UGFyZW50KSA6IG9mZnNldFBhcmVudDtcbiAgICAgIGxldCBjdXJyZW50V2luID0gd2luO1xuICAgICAgbGV0IGN1cnJlbnRJRnJhbWUgPSBnZXRGcmFtZUVsZW1lbnQoY3VycmVudFdpbik7XG4gICAgICB3aGlsZSAoY3VycmVudElGcmFtZSAmJiBvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0V2luICE9PSBjdXJyZW50V2luKSB7XG4gICAgICAgIGNvbnN0IGlmcmFtZVNjYWxlID0gZ2V0U2NhbGUoY3VycmVudElGcmFtZSk7XG4gICAgICAgIGNvbnN0IGlmcmFtZVJlY3QgPSBjdXJyZW50SUZyYW1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBjc3MgPSBnZXRDb21wdXRlZFN0eWxlJDEoY3VycmVudElGcmFtZSk7XG4gICAgICAgIGNvbnN0IGxlZnQgPSBpZnJhbWVSZWN0LmxlZnQgKyAoY3VycmVudElGcmFtZS5jbGllbnRMZWZ0ICsgcGFyc2VGbG9hdChjc3MucGFkZGluZ0xlZnQpKSAqIGlmcmFtZVNjYWxlLng7XG4gICAgICAgIGNvbnN0IHRvcCA9IGlmcmFtZVJlY3QudG9wICsgKGN1cnJlbnRJRnJhbWUuY2xpZW50VG9wICsgcGFyc2VGbG9hdChjc3MucGFkZGluZ1RvcCkpICogaWZyYW1lU2NhbGUueTtcbiAgICAgICAgeDIgKj0gaWZyYW1lU2NhbGUueDtcbiAgICAgICAgeTIgKj0gaWZyYW1lU2NhbGUueTtcbiAgICAgICAgd2lkdGggKj0gaWZyYW1lU2NhbGUueDtcbiAgICAgICAgaGVpZ2h0ICo9IGlmcmFtZVNjYWxlLnk7XG4gICAgICAgIHgyICs9IGxlZnQ7XG4gICAgICAgIHkyICs9IHRvcDtcbiAgICAgICAgY3VycmVudFdpbiA9IGdldFdpbmRvdyhjdXJyZW50SUZyYW1lKTtcbiAgICAgICAgY3VycmVudElGcmFtZSA9IGdldEZyYW1lRWxlbWVudChjdXJyZW50V2luKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlY3RUb0NsaWVudFJlY3Qoe1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICB4OiB4MixcbiAgICAgIHk6IHkyXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0V2luZG93U2Nyb2xsQmFyWChlbGVtZW50LCByZWN0KSB7XG4gICAgY29uc3QgbGVmdFNjcm9sbCA9IGdldE5vZGVTY3JvbGwoZWxlbWVudCkuc2Nyb2xsTGVmdDtcbiAgICBpZiAoIXJlY3QpIHtcbiAgICAgIHJldHVybiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpKS5sZWZ0ICsgbGVmdFNjcm9sbDtcbiAgICB9XG4gICAgcmV0dXJuIHJlY3QubGVmdCArIGxlZnRTY3JvbGw7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0SFRNTE9mZnNldChkb2N1bWVudEVsZW1lbnQsIHNjcm9sbCwgaWdub3JlU2Nyb2xsYmFyWCkge1xuICAgIGlmIChpZ25vcmVTY3JvbGxiYXJYID09PSB2b2lkIDApIHtcbiAgICAgIGlnbm9yZVNjcm9sbGJhclggPSBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgaHRtbFJlY3QgPSBkb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgeDIgPSBodG1sUmVjdC5sZWZ0ICsgc2Nyb2xsLnNjcm9sbExlZnQgLSAoaWdub3JlU2Nyb2xsYmFyWCA/IDAgOiAoXG4gICAgICAvLyBSVEwgPGJvZHk+IHNjcm9sbGJhci5cbiAgICAgIGdldFdpbmRvd1Njcm9sbEJhclgoZG9jdW1lbnRFbGVtZW50LCBodG1sUmVjdClcbiAgICApKTtcbiAgICBjb25zdCB5MiA9IGh0bWxSZWN0LnRvcCArIHNjcm9sbC5zY3JvbGxUb3A7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHgyLFxuICAgICAgeTogeTJcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0KF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgZWxlbWVudHMsXG4gICAgICByZWN0LFxuICAgICAgb2Zmc2V0UGFyZW50LFxuICAgICAgc3RyYXRlZ3lcbiAgICB9ID0gX3JlZjtcbiAgICBjb25zdCBpc0ZpeGVkID0gc3RyYXRlZ3kgPT09IFwiZml4ZWRcIjtcbiAgICBjb25zdCBkb2N1bWVudEVsZW1lbnQgPSBnZXREb2N1bWVudEVsZW1lbnQob2Zmc2V0UGFyZW50KTtcbiAgICBjb25zdCB0b3BMYXllciA9IGVsZW1lbnRzID8gaXNUb3BMYXllcihlbGVtZW50cy5mbG9hdGluZykgOiBmYWxzZTtcbiAgICBpZiAob2Zmc2V0UGFyZW50ID09PSBkb2N1bWVudEVsZW1lbnQgfHwgdG9wTGF5ZXIgJiYgaXNGaXhlZCkge1xuICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgfVxuICAgIGxldCBzY3JvbGwgPSB7XG4gICAgICBzY3JvbGxMZWZ0OiAwLFxuICAgICAgc2Nyb2xsVG9wOiAwXG4gICAgfTtcbiAgICBsZXQgc2NhbGUgPSBjcmVhdGVDb29yZHMoMSk7XG4gICAgY29uc3Qgb2Zmc2V0cyA9IGNyZWF0ZUNvb3JkcygwKTtcbiAgICBjb25zdCBpc09mZnNldFBhcmVudEFuRWxlbWVudCA9IGlzSFRNTEVsZW1lbnQob2Zmc2V0UGFyZW50KTtcbiAgICBpZiAoaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgfHwgIWlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ICYmICFpc0ZpeGVkKSB7XG4gICAgICBpZiAoZ2V0Tm9kZU5hbWUob2Zmc2V0UGFyZW50KSAhPT0gXCJib2R5XCIgfHwgaXNPdmVyZmxvd0VsZW1lbnQoZG9jdW1lbnRFbGVtZW50KSkge1xuICAgICAgICBzY3JvbGwgPSBnZXROb2RlU2Nyb2xsKG9mZnNldFBhcmVudCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICAgIGNvbnN0IG9mZnNldFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50KTtcbiAgICAgICAgc2NhbGUgPSBnZXRTY2FsZShvZmZzZXRQYXJlbnQpO1xuICAgICAgICBvZmZzZXRzLnggPSBvZmZzZXRSZWN0LnggKyBvZmZzZXRQYXJlbnQuY2xpZW50TGVmdDtcbiAgICAgICAgb2Zmc2V0cy55ID0gb2Zmc2V0UmVjdC55ICsgb2Zmc2V0UGFyZW50LmNsaWVudFRvcDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaHRtbE9mZnNldCA9IGRvY3VtZW50RWxlbWVudCAmJiAhaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgJiYgIWlzRml4ZWQgPyBnZXRIVE1MT2Zmc2V0KGRvY3VtZW50RWxlbWVudCwgc2Nyb2xsLCB0cnVlKSA6IGNyZWF0ZUNvb3JkcygwKTtcbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IHJlY3Qud2lkdGggKiBzY2FsZS54LFxuICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodCAqIHNjYWxlLnksXG4gICAgICB4OiByZWN0LnggKiBzY2FsZS54IC0gc2Nyb2xsLnNjcm9sbExlZnQgKiBzY2FsZS54ICsgb2Zmc2V0cy54ICsgaHRtbE9mZnNldC54LFxuICAgICAgeTogcmVjdC55ICogc2NhbGUueSAtIHNjcm9sbC5zY3JvbGxUb3AgKiBzY2FsZS55ICsgb2Zmc2V0cy55ICsgaHRtbE9mZnNldC55XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBnZXRDbGllbnRSZWN0cyhlbGVtZW50KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5nZXRDbGllbnRSZWN0cygpKTtcbiAgfVxuICBmdW5jdGlvbiBnZXREb2N1bWVudFJlY3QoZWxlbWVudCkge1xuICAgIGNvbnN0IGh0bWwgPSBnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCk7XG4gICAgY29uc3Qgc2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChlbGVtZW50KTtcbiAgICBjb25zdCBib2R5ID0gZWxlbWVudC5vd25lckRvY3VtZW50LmJvZHk7XG4gICAgY29uc3Qgd2lkdGggPSBtYXgoaHRtbC5zY3JvbGxXaWR0aCwgaHRtbC5jbGllbnRXaWR0aCwgYm9keS5zY3JvbGxXaWR0aCwgYm9keS5jbGllbnRXaWR0aCk7XG4gICAgY29uc3QgaGVpZ2h0ID0gbWF4KGh0bWwuc2Nyb2xsSGVpZ2h0LCBodG1sLmNsaWVudEhlaWdodCwgYm9keS5zY3JvbGxIZWlnaHQsIGJvZHkuY2xpZW50SGVpZ2h0KTtcbiAgICBsZXQgeDIgPSAtc2Nyb2xsLnNjcm9sbExlZnQgKyBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQpO1xuICAgIGNvbnN0IHkyID0gLXNjcm9sbC5zY3JvbGxUb3A7XG4gICAgaWYgKGdldENvbXB1dGVkU3R5bGUkMShib2R5KS5kaXJlY3Rpb24gPT09IFwicnRsXCIpIHtcbiAgICAgIHgyICs9IG1heChodG1sLmNsaWVudFdpZHRoLCBib2R5LmNsaWVudFdpZHRoKSAtIHdpZHRoO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICB4OiB4MixcbiAgICAgIHk6IHkyXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBnZXRWaWV3cG9ydFJlY3QoZWxlbWVudCwgc3RyYXRlZ3kpIHtcbiAgICBjb25zdCB3aW4gPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gICAgY29uc3QgaHRtbCA9IGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KTtcbiAgICBjb25zdCB2aXN1YWxWaWV3cG9ydCA9IHdpbi52aXN1YWxWaWV3cG9ydDtcbiAgICBsZXQgd2lkdGggPSBodG1sLmNsaWVudFdpZHRoO1xuICAgIGxldCBoZWlnaHQgPSBodG1sLmNsaWVudEhlaWdodDtcbiAgICBsZXQgeDIgPSAwO1xuICAgIGxldCB5MiA9IDA7XG4gICAgaWYgKHZpc3VhbFZpZXdwb3J0KSB7XG4gICAgICB3aWR0aCA9IHZpc3VhbFZpZXdwb3J0LndpZHRoO1xuICAgICAgaGVpZ2h0ID0gdmlzdWFsVmlld3BvcnQuaGVpZ2h0O1xuICAgICAgY29uc3QgdmlzdWFsVmlld3BvcnRCYXNlZCA9IGlzV2ViS2l0KCk7XG4gICAgICBpZiAoIXZpc3VhbFZpZXdwb3J0QmFzZWQgfHwgdmlzdWFsVmlld3BvcnRCYXNlZCAmJiBzdHJhdGVneSA9PT0gXCJmaXhlZFwiKSB7XG4gICAgICAgIHgyID0gdmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdDtcbiAgICAgICAgeTIgPSB2aXN1YWxWaWV3cG9ydC5vZmZzZXRUb3A7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIHg6IHgyLFxuICAgICAgeTogeTJcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGdldElubmVyQm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIHN0cmF0ZWd5KSB7XG4gICAgY29uc3QgY2xpZW50UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCB0cnVlLCBzdHJhdGVneSA9PT0gXCJmaXhlZFwiKTtcbiAgICBjb25zdCB0b3AgPSBjbGllbnRSZWN0LnRvcCArIGVsZW1lbnQuY2xpZW50VG9wO1xuICAgIGNvbnN0IGxlZnQgPSBjbGllbnRSZWN0LmxlZnQgKyBlbGVtZW50LmNsaWVudExlZnQ7XG4gICAgY29uc3Qgc2NhbGUgPSBpc0hUTUxFbGVtZW50KGVsZW1lbnQpID8gZ2V0U2NhbGUoZWxlbWVudCkgOiBjcmVhdGVDb29yZHMoMSk7XG4gICAgY29uc3Qgd2lkdGggPSBlbGVtZW50LmNsaWVudFdpZHRoICogc2NhbGUueDtcbiAgICBjb25zdCBoZWlnaHQgPSBlbGVtZW50LmNsaWVudEhlaWdodCAqIHNjYWxlLnk7XG4gICAgY29uc3QgeDIgPSBsZWZ0ICogc2NhbGUueDtcbiAgICBjb25zdCB5MiA9IHRvcCAqIHNjYWxlLnk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgICAgeDogeDIsXG4gICAgICB5OiB5MlxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdEZyb21DbGlwcGluZ0FuY2VzdG9yKGVsZW1lbnQsIGNsaXBwaW5nQW5jZXN0b3IsIHN0cmF0ZWd5KSB7XG4gICAgbGV0IHJlY3Q7XG4gICAgaWYgKGNsaXBwaW5nQW5jZXN0b3IgPT09IFwidmlld3BvcnRcIikge1xuICAgICAgcmVjdCA9IGdldFZpZXdwb3J0UmVjdChlbGVtZW50LCBzdHJhdGVneSk7XG4gICAgfSBlbHNlIGlmIChjbGlwcGluZ0FuY2VzdG9yID09PSBcImRvY3VtZW50XCIpIHtcbiAgICAgIHJlY3QgPSBnZXREb2N1bWVudFJlY3QoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpKTtcbiAgICB9IGVsc2UgaWYgKGlzRWxlbWVudChjbGlwcGluZ0FuY2VzdG9yKSkge1xuICAgICAgcmVjdCA9IGdldElubmVyQm91bmRpbmdDbGllbnRSZWN0KGNsaXBwaW5nQW5jZXN0b3IsIHN0cmF0ZWd5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdmlzdWFsT2Zmc2V0cyA9IGdldFZpc3VhbE9mZnNldHMoZWxlbWVudCk7XG4gICAgICByZWN0ID0ge1xuICAgICAgICB4OiBjbGlwcGluZ0FuY2VzdG9yLnggLSB2aXN1YWxPZmZzZXRzLngsXG4gICAgICAgIHk6IGNsaXBwaW5nQW5jZXN0b3IueSAtIHZpc3VhbE9mZnNldHMueSxcbiAgICAgICAgd2lkdGg6IGNsaXBwaW5nQW5jZXN0b3Iud2lkdGgsXG4gICAgICAgIGhlaWdodDogY2xpcHBpbmdBbmNlc3Rvci5oZWlnaHRcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiByZWN0VG9DbGllbnRSZWN0KHJlY3QpO1xuICB9XG4gIGZ1bmN0aW9uIGhhc0ZpeGVkUG9zaXRpb25BbmNlc3RvcihlbGVtZW50LCBzdG9wTm9kZSkge1xuICAgIGNvbnN0IHBhcmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKGVsZW1lbnQpO1xuICAgIGlmIChwYXJlbnROb2RlID09PSBzdG9wTm9kZSB8fCAhaXNFbGVtZW50KHBhcmVudE5vZGUpIHx8IGlzTGFzdFRyYXZlcnNhYmxlTm9kZShwYXJlbnROb2RlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZSQxKHBhcmVudE5vZGUpLnBvc2l0aW9uID09PSBcImZpeGVkXCIgfHwgaGFzRml4ZWRQb3NpdGlvbkFuY2VzdG9yKHBhcmVudE5vZGUsIHN0b3BOb2RlKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRDbGlwcGluZ0VsZW1lbnRBbmNlc3RvcnMoZWxlbWVudCwgY2FjaGUpIHtcbiAgICBjb25zdCBjYWNoZWRSZXN1bHQgPSBjYWNoZS5nZXQoZWxlbWVudCk7XG4gICAgaWYgKGNhY2hlZFJlc3VsdCkge1xuICAgICAgcmV0dXJuIGNhY2hlZFJlc3VsdDtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IGdldE92ZXJmbG93QW5jZXN0b3JzKGVsZW1lbnQsIFtdLCBmYWxzZSkuZmlsdGVyKChlbCkgPT4gaXNFbGVtZW50KGVsKSAmJiBnZXROb2RlTmFtZShlbCkgIT09IFwiYm9keVwiKTtcbiAgICBsZXQgY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUgPSBudWxsO1xuICAgIGNvbnN0IGVsZW1lbnRJc0ZpeGVkID0gZ2V0Q29tcHV0ZWRTdHlsZSQxKGVsZW1lbnQpLnBvc2l0aW9uID09PSBcImZpeGVkXCI7XG4gICAgbGV0IGN1cnJlbnROb2RlID0gZWxlbWVudElzRml4ZWQgPyBnZXRQYXJlbnROb2RlKGVsZW1lbnQpIDogZWxlbWVudDtcbiAgICB3aGlsZSAoaXNFbGVtZW50KGN1cnJlbnROb2RlKSAmJiAhaXNMYXN0VHJhdmVyc2FibGVOb2RlKGN1cnJlbnROb2RlKSkge1xuICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUkMShjdXJyZW50Tm9kZSk7XG4gICAgICBjb25zdCBjdXJyZW50Tm9kZUlzQ29udGFpbmluZyA9IGlzQ29udGFpbmluZ0Jsb2NrKGN1cnJlbnROb2RlKTtcbiAgICAgIGlmICghY3VycmVudE5vZGVJc0NvbnRhaW5pbmcgJiYgY29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PT0gXCJmaXhlZFwiKSB7XG4gICAgICAgIGN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNob3VsZERyb3BDdXJyZW50Tm9kZSA9IGVsZW1lbnRJc0ZpeGVkID8gIWN1cnJlbnROb2RlSXNDb250YWluaW5nICYmICFjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSA6ICFjdXJyZW50Tm9kZUlzQ29udGFpbmluZyAmJiBjb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSBcInN0YXRpY1wiICYmICEhY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUgJiYgW1wiYWJzb2x1dGVcIiwgXCJmaXhlZFwiXS5pbmNsdWRlcyhjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZS5wb3NpdGlvbikgfHwgaXNPdmVyZmxvd0VsZW1lbnQoY3VycmVudE5vZGUpICYmICFjdXJyZW50Tm9kZUlzQ29udGFpbmluZyAmJiBoYXNGaXhlZFBvc2l0aW9uQW5jZXN0b3IoZWxlbWVudCwgY3VycmVudE5vZGUpO1xuICAgICAgaWYgKHNob3VsZERyb3BDdXJyZW50Tm9kZSkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuZmlsdGVyKChhbmNlc3RvcikgPT4gYW5jZXN0b3IgIT09IGN1cnJlbnROb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlID0gY29tcHV0ZWRTdHlsZTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShjdXJyZW50Tm9kZSk7XG4gICAgfVxuICAgIGNhY2hlLnNldChlbGVtZW50LCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0Q2xpcHBpbmdSZWN0KF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgZWxlbWVudCxcbiAgICAgIGJvdW5kYXJ5LFxuICAgICAgcm9vdEJvdW5kYXJ5LFxuICAgICAgc3RyYXRlZ3lcbiAgICB9ID0gX3JlZjtcbiAgICBjb25zdCBlbGVtZW50Q2xpcHBpbmdBbmNlc3RvcnMgPSBib3VuZGFyeSA9PT0gXCJjbGlwcGluZ0FuY2VzdG9yc1wiID8gaXNUb3BMYXllcihlbGVtZW50KSA/IFtdIDogZ2V0Q2xpcHBpbmdFbGVtZW50QW5jZXN0b3JzKGVsZW1lbnQsIHRoaXMuX2MpIDogW10uY29uY2F0KGJvdW5kYXJ5KTtcbiAgICBjb25zdCBjbGlwcGluZ0FuY2VzdG9ycyA9IFsuLi5lbGVtZW50Q2xpcHBpbmdBbmNlc3RvcnMsIHJvb3RCb3VuZGFyeV07XG4gICAgY29uc3QgZmlyc3RDbGlwcGluZ0FuY2VzdG9yID0gY2xpcHBpbmdBbmNlc3RvcnNbMF07XG4gICAgY29uc3QgY2xpcHBpbmdSZWN0ID0gY2xpcHBpbmdBbmNlc3RvcnMucmVkdWNlKChhY2NSZWN0LCBjbGlwcGluZ0FuY2VzdG9yKSA9PiB7XG4gICAgICBjb25zdCByZWN0ID0gZ2V0Q2xpZW50UmVjdEZyb21DbGlwcGluZ0FuY2VzdG9yKGVsZW1lbnQsIGNsaXBwaW5nQW5jZXN0b3IsIHN0cmF0ZWd5KTtcbiAgICAgIGFjY1JlY3QudG9wID0gbWF4KHJlY3QudG9wLCBhY2NSZWN0LnRvcCk7XG4gICAgICBhY2NSZWN0LnJpZ2h0ID0gbWluKHJlY3QucmlnaHQsIGFjY1JlY3QucmlnaHQpO1xuICAgICAgYWNjUmVjdC5ib3R0b20gPSBtaW4ocmVjdC5ib3R0b20sIGFjY1JlY3QuYm90dG9tKTtcbiAgICAgIGFjY1JlY3QubGVmdCA9IG1heChyZWN0LmxlZnQsIGFjY1JlY3QubGVmdCk7XG4gICAgICByZXR1cm4gYWNjUmVjdDtcbiAgICB9LCBnZXRDbGllbnRSZWN0RnJvbUNsaXBwaW5nQW5jZXN0b3IoZWxlbWVudCwgZmlyc3RDbGlwcGluZ0FuY2VzdG9yLCBzdHJhdGVneSkpO1xuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogY2xpcHBpbmdSZWN0LnJpZ2h0IC0gY2xpcHBpbmdSZWN0LmxlZnQsXG4gICAgICBoZWlnaHQ6IGNsaXBwaW5nUmVjdC5ib3R0b20gLSBjbGlwcGluZ1JlY3QudG9wLFxuICAgICAgeDogY2xpcHBpbmdSZWN0LmxlZnQsXG4gICAgICB5OiBjbGlwcGluZ1JlY3QudG9wXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBnZXREaW1lbnNpb25zKGVsZW1lbnQpIHtcbiAgICBjb25zdCB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodFxuICAgIH0gPSBnZXRDc3NEaW1lbnNpb25zKGVsZW1lbnQpO1xuICAgIHJldHVybiB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodFxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZ2V0UmVjdFJlbGF0aXZlVG9PZmZzZXRQYXJlbnQoZWxlbWVudCwgb2Zmc2V0UGFyZW50LCBzdHJhdGVneSkge1xuICAgIGNvbnN0IGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ID0gaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICAgIGNvbnN0IGRvY3VtZW50RWxlbWVudCA9IGdldERvY3VtZW50RWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICAgIGNvbnN0IGlzRml4ZWQgPSBzdHJhdGVneSA9PT0gXCJmaXhlZFwiO1xuICAgIGNvbnN0IHJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCwgdHJ1ZSwgaXNGaXhlZCwgb2Zmc2V0UGFyZW50KTtcbiAgICBsZXQgc2Nyb2xsID0ge1xuICAgICAgc2Nyb2xsTGVmdDogMCxcbiAgICAgIHNjcm9sbFRvcDogMFxuICAgIH07XG4gICAgY29uc3Qgb2Zmc2V0cyA9IGNyZWF0ZUNvb3JkcygwKTtcbiAgICBmdW5jdGlvbiBzZXRMZWZ0UlRMU2Nyb2xsYmFyT2Zmc2V0KCkge1xuICAgICAgb2Zmc2V0cy54ID0gZ2V0V2luZG93U2Nyb2xsQmFyWChkb2N1bWVudEVsZW1lbnQpO1xuICAgIH1cbiAgICBpZiAoaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgfHwgIWlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ICYmICFpc0ZpeGVkKSB7XG4gICAgICBpZiAoZ2V0Tm9kZU5hbWUob2Zmc2V0UGFyZW50KSAhPT0gXCJib2R5XCIgfHwgaXNPdmVyZmxvd0VsZW1lbnQoZG9jdW1lbnRFbGVtZW50KSkge1xuICAgICAgICBzY3JvbGwgPSBnZXROb2RlU2Nyb2xsKG9mZnNldFBhcmVudCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQpIHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChvZmZzZXRQYXJlbnQsIHRydWUsIGlzRml4ZWQsIG9mZnNldFBhcmVudCk7XG4gICAgICAgIG9mZnNldHMueCA9IG9mZnNldFJlY3QueCArIG9mZnNldFBhcmVudC5jbGllbnRMZWZ0O1xuICAgICAgICBvZmZzZXRzLnkgPSBvZmZzZXRSZWN0LnkgKyBvZmZzZXRQYXJlbnQuY2xpZW50VG9wO1xuICAgICAgfSBlbHNlIGlmIChkb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgICAgc2V0TGVmdFJUTFNjcm9sbGJhck9mZnNldCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNGaXhlZCAmJiAhaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgJiYgZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICBzZXRMZWZ0UlRMU2Nyb2xsYmFyT2Zmc2V0KCk7XG4gICAgfVxuICAgIGNvbnN0IGh0bWxPZmZzZXQgPSBkb2N1bWVudEVsZW1lbnQgJiYgIWlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ICYmICFpc0ZpeGVkID8gZ2V0SFRNTE9mZnNldChkb2N1bWVudEVsZW1lbnQsIHNjcm9sbCkgOiBjcmVhdGVDb29yZHMoMCk7XG4gICAgY29uc3QgeDIgPSByZWN0LmxlZnQgKyBzY3JvbGwuc2Nyb2xsTGVmdCAtIG9mZnNldHMueCAtIGh0bWxPZmZzZXQueDtcbiAgICBjb25zdCB5MiA9IHJlY3QudG9wICsgc2Nyb2xsLnNjcm9sbFRvcCAtIG9mZnNldHMueSAtIGh0bWxPZmZzZXQueTtcbiAgICByZXR1cm4ge1xuICAgICAgeDogeDIsXG4gICAgICB5OiB5MixcbiAgICAgIHdpZHRoOiByZWN0LndpZHRoLFxuICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodFxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gaXNTdGF0aWNQb3NpdGlvbmVkKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZSQxKGVsZW1lbnQpLnBvc2l0aW9uID09PSBcInN0YXRpY1wiO1xuICB9XG4gIGZ1bmN0aW9uIGdldFRydWVPZmZzZXRQYXJlbnQoZWxlbWVudCwgcG9seWZpbGwpIHtcbiAgICBpZiAoIWlzSFRNTEVsZW1lbnQoZWxlbWVudCkgfHwgZ2V0Q29tcHV0ZWRTdHlsZSQxKGVsZW1lbnQpLnBvc2l0aW9uID09PSBcImZpeGVkXCIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAocG9seWZpbGwpIHtcbiAgICAgIHJldHVybiBwb2x5ZmlsbChlbGVtZW50KTtcbiAgICB9XG4gICAgbGV0IHJhd09mZnNldFBhcmVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50O1xuICAgIGlmIChnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCkgPT09IHJhd09mZnNldFBhcmVudCkge1xuICAgICAgcmF3T2Zmc2V0UGFyZW50ID0gcmF3T2Zmc2V0UGFyZW50Lm93bmVyRG9jdW1lbnQuYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHJhd09mZnNldFBhcmVudDtcbiAgfVxuICBmdW5jdGlvbiBnZXRPZmZzZXRQYXJlbnQoZWxlbWVudCwgcG9seWZpbGwpIHtcbiAgICBjb25zdCB3aW4gPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gICAgaWYgKGlzVG9wTGF5ZXIoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybiB3aW47XG4gICAgfVxuICAgIGlmICghaXNIVE1MRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgbGV0IHN2Z09mZnNldFBhcmVudCA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7XG4gICAgICB3aGlsZSAoc3ZnT2Zmc2V0UGFyZW50ICYmICFpc0xhc3RUcmF2ZXJzYWJsZU5vZGUoc3ZnT2Zmc2V0UGFyZW50KSkge1xuICAgICAgICBpZiAoaXNFbGVtZW50KHN2Z09mZnNldFBhcmVudCkgJiYgIWlzU3RhdGljUG9zaXRpb25lZChzdmdPZmZzZXRQYXJlbnQpKSB7XG4gICAgICAgICAgcmV0dXJuIHN2Z09mZnNldFBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBzdmdPZmZzZXRQYXJlbnQgPSBnZXRQYXJlbnROb2RlKHN2Z09mZnNldFBhcmVudCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd2luO1xuICAgIH1cbiAgICBsZXQgb2Zmc2V0UGFyZW50ID0gZ2V0VHJ1ZU9mZnNldFBhcmVudChlbGVtZW50LCBwb2x5ZmlsbCk7XG4gICAgd2hpbGUgKG9mZnNldFBhcmVudCAmJiBpc1RhYmxlRWxlbWVudChvZmZzZXRQYXJlbnQpICYmIGlzU3RhdGljUG9zaXRpb25lZChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICBvZmZzZXRQYXJlbnQgPSBnZXRUcnVlT2Zmc2V0UGFyZW50KG9mZnNldFBhcmVudCwgcG9seWZpbGwpO1xuICAgIH1cbiAgICBpZiAob2Zmc2V0UGFyZW50ICYmIGlzTGFzdFRyYXZlcnNhYmxlTm9kZShvZmZzZXRQYXJlbnQpICYmIGlzU3RhdGljUG9zaXRpb25lZChvZmZzZXRQYXJlbnQpICYmICFpc0NvbnRhaW5pbmdCbG9jayhvZmZzZXRQYXJlbnQpKSB7XG4gICAgICByZXR1cm4gd2luO1xuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGdldENvbnRhaW5pbmdCbG9jayhlbGVtZW50KSB8fCB3aW47XG4gIH1cbiAgY29uc3QgZ2V0RWxlbWVudFJlY3RzID0gYXN5bmMgZnVuY3Rpb24oZGF0YSkge1xuICAgIGNvbnN0IGdldE9mZnNldFBhcmVudEZuID0gdGhpcy5nZXRPZmZzZXRQYXJlbnQgfHwgZ2V0T2Zmc2V0UGFyZW50O1xuICAgIGNvbnN0IGdldERpbWVuc2lvbnNGbiA9IHRoaXMuZ2V0RGltZW5zaW9ucztcbiAgICBjb25zdCBmbG9hdGluZ0RpbWVuc2lvbnMgPSBhd2FpdCBnZXREaW1lbnNpb25zRm4oZGF0YS5mbG9hdGluZyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZmVyZW5jZTogZ2V0UmVjdFJlbGF0aXZlVG9PZmZzZXRQYXJlbnQoZGF0YS5yZWZlcmVuY2UsIGF3YWl0IGdldE9mZnNldFBhcmVudEZuKGRhdGEuZmxvYXRpbmcpLCBkYXRhLnN0cmF0ZWd5KSxcbiAgICAgIGZsb2F0aW5nOiB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDAsXG4gICAgICAgIHdpZHRoOiBmbG9hdGluZ0RpbWVuc2lvbnMud2lkdGgsXG4gICAgICAgIGhlaWdodDogZmxvYXRpbmdEaW1lbnNpb25zLmhlaWdodFxuICAgICAgfVxuICAgIH07XG4gIH07XG4gIGZ1bmN0aW9uIGlzUlRMKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZSQxKGVsZW1lbnQpLmRpcmVjdGlvbiA9PT0gXCJydGxcIjtcbiAgfVxuICBjb25zdCBwbGF0Zm9ybSA9IHtcbiAgICBjb252ZXJ0T2Zmc2V0UGFyZW50UmVsYXRpdmVSZWN0VG9WaWV3cG9ydFJlbGF0aXZlUmVjdCxcbiAgICBnZXREb2N1bWVudEVsZW1lbnQsXG4gICAgZ2V0Q2xpcHBpbmdSZWN0LFxuICAgIGdldE9mZnNldFBhcmVudCxcbiAgICBnZXRFbGVtZW50UmVjdHMsXG4gICAgZ2V0Q2xpZW50UmVjdHMsXG4gICAgZ2V0RGltZW5zaW9ucyxcbiAgICBnZXRTY2FsZSxcbiAgICBpc0VsZW1lbnQsXG4gICAgaXNSVExcbiAgfTtcbiAgZnVuY3Rpb24gcmVjdHNBcmVFcXVhbChhMiwgYjIpIHtcbiAgICByZXR1cm4gYTIueCA9PT0gYjIueCAmJiBhMi55ID09PSBiMi55ICYmIGEyLndpZHRoID09PSBiMi53aWR0aCAmJiBhMi5oZWlnaHQgPT09IGIyLmhlaWdodDtcbiAgfVxuICBmdW5jdGlvbiBvYnNlcnZlTW92ZShlbGVtZW50LCBvbk1vdmUpIHtcbiAgICBsZXQgaW8gPSBudWxsO1xuICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgY29uc3Qgcm9vdCA9IGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KTtcbiAgICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgdmFyIF9pbztcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgKF9pbyA9IGlvKSA9PSBudWxsIHx8IF9pby5kaXNjb25uZWN0KCk7XG4gICAgICBpbyA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlZnJlc2goc2tpcCwgdGhyZXNob2xkKSB7XG4gICAgICBpZiAoc2tpcCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHNraXAgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aHJlc2hvbGQgPT09IHZvaWQgMCkge1xuICAgICAgICB0aHJlc2hvbGQgPSAxO1xuICAgICAgfVxuICAgICAgY2xlYW51cCgpO1xuICAgICAgY29uc3QgZWxlbWVudFJlY3RGb3JSb290TWFyZ2luID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbGVmdCxcbiAgICAgICAgdG9wLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0XG4gICAgICB9ID0gZWxlbWVudFJlY3RGb3JSb290TWFyZ2luO1xuICAgICAgaWYgKCFza2lwKSB7XG4gICAgICAgIG9uTW92ZSgpO1xuICAgICAgfVxuICAgICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGluc2V0VG9wID0gZmxvb3IodG9wKTtcbiAgICAgIGNvbnN0IGluc2V0UmlnaHQgPSBmbG9vcihyb290LmNsaWVudFdpZHRoIC0gKGxlZnQgKyB3aWR0aCkpO1xuICAgICAgY29uc3QgaW5zZXRCb3R0b20gPSBmbG9vcihyb290LmNsaWVudEhlaWdodCAtICh0b3AgKyBoZWlnaHQpKTtcbiAgICAgIGNvbnN0IGluc2V0TGVmdCA9IGZsb29yKGxlZnQpO1xuICAgICAgY29uc3Qgcm9vdE1hcmdpbiA9IC1pbnNldFRvcCArIFwicHggXCIgKyAtaW5zZXRSaWdodCArIFwicHggXCIgKyAtaW5zZXRCb3R0b20gKyBcInB4IFwiICsgLWluc2V0TGVmdCArIFwicHhcIjtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHJvb3RNYXJnaW4sXG4gICAgICAgIHRocmVzaG9sZDogbWF4KDAsIG1pbigxLCB0aHJlc2hvbGQpKSB8fCAxXG4gICAgICB9O1xuICAgICAgbGV0IGlzRmlyc3RVcGRhdGUgPSB0cnVlO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlT2JzZXJ2ZShlbnRyaWVzKSB7XG4gICAgICAgIGNvbnN0IHJhdGlvID0gZW50cmllc1swXS5pbnRlcnNlY3Rpb25SYXRpbztcbiAgICAgICAgaWYgKHJhdGlvICE9PSB0aHJlc2hvbGQpIHtcbiAgICAgICAgICBpZiAoIWlzRmlyc3RVcGRhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiByZWZyZXNoKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghcmF0aW8pIHtcbiAgICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICByZWZyZXNoKGZhbHNlLCAxZS03KTtcbiAgICAgICAgICAgIH0sIDFlMyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlZnJlc2goZmFsc2UsIHJhdGlvKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJhdGlvID09PSAxICYmICFyZWN0c0FyZUVxdWFsKGVsZW1lbnRSZWN0Rm9yUm9vdE1hcmdpbiwgZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSkpIHtcbiAgICAgICAgICByZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaXNGaXJzdFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgaW8gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlT2JzZXJ2ZSwge1xuICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgLy8gSGFuZGxlIDxpZnJhbWU+c1xuICAgICAgICAgIHJvb3Q6IHJvb3Qub3duZXJEb2N1bWVudFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKF9lKSB7XG4gICAgICAgIGlvID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGhhbmRsZU9ic2VydmUsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgaW8ub2JzZXJ2ZShlbGVtZW50KTtcbiAgICB9XG4gICAgcmVmcmVzaCh0cnVlKTtcbiAgICByZXR1cm4gY2xlYW51cDtcbiAgfVxuICBmdW5jdGlvbiBhdXRvVXBkYXRlKHJlZmVyZW5jZSwgZmxvYXRpbmcsIHVwZGF0ZSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgYW5jZXN0b3JTY3JvbGwgPSB0cnVlLFxuICAgICAgYW5jZXN0b3JSZXNpemUgPSB0cnVlLFxuICAgICAgZWxlbWVudFJlc2l6ZSA9IHR5cGVvZiBSZXNpemVPYnNlcnZlciA9PT0gXCJmdW5jdGlvblwiLFxuICAgICAgbGF5b3V0U2hpZnQgPSB0eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPT09IFwiZnVuY3Rpb25cIixcbiAgICAgIGFuaW1hdGlvbkZyYW1lID0gZmFsc2VcbiAgICB9ID0gb3B0aW9ucztcbiAgICBjb25zdCByZWZlcmVuY2VFbCA9IHVud3JhcEVsZW1lbnQocmVmZXJlbmNlKTtcbiAgICBjb25zdCBhbmNlc3RvcnMgPSBhbmNlc3RvclNjcm9sbCB8fCBhbmNlc3RvclJlc2l6ZSA/IFsuLi5yZWZlcmVuY2VFbCA/IGdldE92ZXJmbG93QW5jZXN0b3JzKHJlZmVyZW5jZUVsKSA6IFtdLCAuLi5nZXRPdmVyZmxvd0FuY2VzdG9ycyhmbG9hdGluZyldIDogW107XG4gICAgYW5jZXN0b3JzLmZvckVhY2goKGFuY2VzdG9yKSA9PiB7XG4gICAgICBhbmNlc3RvclNjcm9sbCAmJiBhbmNlc3Rvci5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHVwZGF0ZSwge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIGFuY2VzdG9yUmVzaXplICYmIGFuY2VzdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdXBkYXRlKTtcbiAgICB9KTtcbiAgICBjb25zdCBjbGVhbnVwSW8gPSByZWZlcmVuY2VFbCAmJiBsYXlvdXRTaGlmdCA/IG9ic2VydmVNb3ZlKHJlZmVyZW5jZUVsLCB1cGRhdGUpIDogbnVsbDtcbiAgICBsZXQgcmVvYnNlcnZlRnJhbWUgPSAtMTtcbiAgICBsZXQgcmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xuICAgIGlmIChlbGVtZW50UmVzaXplKSB7XG4gICAgICByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoX3JlZikgPT4ge1xuICAgICAgICBsZXQgW2ZpcnN0RW50cnldID0gX3JlZjtcbiAgICAgICAgaWYgKGZpcnN0RW50cnkgJiYgZmlyc3RFbnRyeS50YXJnZXQgPT09IHJlZmVyZW5jZUVsICYmIHJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgICAgcmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKGZsb2F0aW5nKTtcbiAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyZW9ic2VydmVGcmFtZSk7XG4gICAgICAgICAgcmVvYnNlcnZlRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9yZXNpemVPYnNlcnZlcjtcbiAgICAgICAgICAgIChfcmVzaXplT2JzZXJ2ZXIgPSByZXNpemVPYnNlcnZlcikgPT0gbnVsbCB8fCBfcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShmbG9hdGluZyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlKCk7XG4gICAgICB9KTtcbiAgICAgIGlmIChyZWZlcmVuY2VFbCAmJiAhYW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShyZWZlcmVuY2VFbCk7XG4gICAgICB9XG4gICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGZsb2F0aW5nKTtcbiAgICB9XG4gICAgbGV0IGZyYW1lSWQ7XG4gICAgbGV0IHByZXZSZWZSZWN0ID0gYW5pbWF0aW9uRnJhbWUgPyBnZXRCb3VuZGluZ0NsaWVudFJlY3QocmVmZXJlbmNlKSA6IG51bGw7XG4gICAgaWYgKGFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICBmcmFtZUxvb3AoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZnJhbWVMb29wKCkge1xuICAgICAgY29uc3QgbmV4dFJlZlJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QocmVmZXJlbmNlKTtcbiAgICAgIGlmIChwcmV2UmVmUmVjdCAmJiAhcmVjdHNBcmVFcXVhbChwcmV2UmVmUmVjdCwgbmV4dFJlZlJlY3QpKSB7XG4gICAgICAgIHVwZGF0ZSgpO1xuICAgICAgfVxuICAgICAgcHJldlJlZlJlY3QgPSBuZXh0UmVmUmVjdDtcbiAgICAgIGZyYW1lSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWVMb29wKTtcbiAgICB9XG4gICAgdXBkYXRlKCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHZhciBfcmVzaXplT2JzZXJ2ZXIyO1xuICAgICAgYW5jZXN0b3JzLmZvckVhY2goKGFuY2VzdG9yKSA9PiB7XG4gICAgICAgIGFuY2VzdG9yU2Nyb2xsICYmIGFuY2VzdG9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdXBkYXRlKTtcbiAgICAgICAgYW5jZXN0b3JSZXNpemUgJiYgYW5jZXN0b3IucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB1cGRhdGUpO1xuICAgICAgfSk7XG4gICAgICBjbGVhbnVwSW8gPT0gbnVsbCB8fCBjbGVhbnVwSW8oKTtcbiAgICAgIChfcmVzaXplT2JzZXJ2ZXIyID0gcmVzaXplT2JzZXJ2ZXIpID09IG51bGwgfHwgX3Jlc2l6ZU9ic2VydmVyMi5kaXNjb25uZWN0KCk7XG4gICAgICByZXNpemVPYnNlcnZlciA9IG51bGw7XG4gICAgICBpZiAoYW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWVJZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBjb25zdCBkZXRlY3RPdmVyZmxvdyA9IGRldGVjdE92ZXJmbG93JDE7XG4gIGNvbnN0IG9mZnNldCQxID0gb2Zmc2V0JDI7XG4gIGNvbnN0IHNoaWZ0JDEgPSBzaGlmdCQyO1xuICBjb25zdCBmbGlwJDEgPSBmbGlwJDI7XG4gIGNvbnN0IHNpemUkMSA9IHNpemUkMjtcbiAgY29uc3QgY29tcHV0ZVBvc2l0aW9uID0gKHJlZmVyZW5jZSwgZmxvYXRpbmcsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHtcbiAgICAgIHBsYXRmb3JtLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG4gICAgY29uc3QgcGxhdGZvcm1XaXRoQ2FjaGUgPSB7XG4gICAgICAuLi5tZXJnZWRPcHRpb25zLnBsYXRmb3JtLFxuICAgICAgX2M6IGNhY2hlXG4gICAgfTtcbiAgICByZXR1cm4gY29tcHV0ZVBvc2l0aW9uJDEocmVmZXJlbmNlLCBmbG9hdGluZywge1xuICAgICAgLi4ubWVyZ2VkT3B0aW9ucyxcbiAgICAgIHBsYXRmb3JtOiBwbGF0Zm9ybVdpdGhDYWNoZVxuICAgIH0pO1xuICB9O1xuICB2YXIgaW5kZXgkMSA9IHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiA/IF8kMyA6IHkkNjtcbiAgZnVuY3Rpb24gZGVlcEVxdWFsKGEyLCBiMikge1xuICAgIGlmIChhMiA9PT0gYjIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGEyICE9PSB0eXBlb2YgYjIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhMiA9PT0gXCJmdW5jdGlvblwiICYmIGEyLnRvU3RyaW5nKCkgPT09IGIyLnRvU3RyaW5nKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgbGVuZ3RoO1xuICAgIGxldCBpMjtcbiAgICBsZXQga2V5cztcbiAgICBpZiAoYTIgJiYgYjIgJiYgdHlwZW9mIGEyID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShhMikpIHtcbiAgICAgICAgbGVuZ3RoID0gYTIubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoICE9PSBiMi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgICAgZm9yIChpMiA9IGxlbmd0aDsgaTItLSAhPT0gMDsgKSB7XG4gICAgICAgICAgaWYgKCFkZWVwRXF1YWwoYTJbaTJdLCBiMltpMl0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAga2V5cyA9IE9iamVjdC5rZXlzKGEyKTtcbiAgICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYjIpLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBmb3IgKGkyID0gbGVuZ3RoOyBpMi0tICE9PSAwOyApIHtcbiAgICAgICAgaWYgKCF7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIyLCBrZXlzW2kyXSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAoaTIgPSBsZW5ndGg7IGkyLS0gIT09IDA7ICkge1xuICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2kyXTtcbiAgICAgICAgaWYgKGtleSA9PT0gXCJfb3duZXJcIiAmJiBhMi4kJHR5cGVvZikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVlcEVxdWFsKGEyW2tleV0sIGIyW2tleV0pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGEyICE9PSBhMiAmJiBiMiAhPT0gYjI7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0RFBSKGVsZW1lbnQpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGNvbnN0IHdpbiA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCB3aW5kb3c7XG4gICAgcmV0dXJuIHdpbi5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gIH1cbiAgZnVuY3Rpb24gcm91bmRCeURQUihlbGVtZW50LCB2YWx1ZSkge1xuICAgIGNvbnN0IGRwciA9IGdldERQUihlbGVtZW50KTtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAqIGRwcikgLyBkcHI7XG4gIH1cbiAgZnVuY3Rpb24gdXNlTGF0ZXN0UmVmKHZhbHVlKSB7XG4gICAgY29uc3QgcmVmID0gQSQzKHZhbHVlKTtcbiAgICBpbmRleCQxKCgpID0+IHtcbiAgICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlZjtcbiAgfVxuICBmdW5jdGlvbiB1c2VGbG9hdGluZyQxKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuICAgIGNvbnN0IHtcbiAgICAgIHBsYWNlbWVudCA9IFwiYm90dG9tXCIsXG4gICAgICBzdHJhdGVneSA9IFwiYWJzb2x1dGVcIixcbiAgICAgIG1pZGRsZXdhcmUgPSBbXSxcbiAgICAgIHBsYXRmb3JtOiBwbGF0Zm9ybTIsXG4gICAgICBlbGVtZW50czoge1xuICAgICAgICByZWZlcmVuY2U6IGV4dGVybmFsUmVmZXJlbmNlLFxuICAgICAgICBmbG9hdGluZzogZXh0ZXJuYWxGbG9hdGluZ1xuICAgICAgfSA9IHt9LFxuICAgICAgdHJhbnNmb3JtID0gdHJ1ZSxcbiAgICAgIHdoaWxlRWxlbWVudHNNb3VudGVkLFxuICAgICAgb3BlblxuICAgIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IGQkNCh7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHN0cmF0ZWd5LFxuICAgICAgcGxhY2VtZW50LFxuICAgICAgbWlkZGxld2FyZURhdGE6IHt9LFxuICAgICAgaXNQb3NpdGlvbmVkOiBmYWxzZVxuICAgIH0pO1xuICAgIGNvbnN0IFtsYXRlc3RNaWRkbGV3YXJlLCBzZXRMYXRlc3RNaWRkbGV3YXJlXSA9IGQkNChtaWRkbGV3YXJlKTtcbiAgICBpZiAoIWRlZXBFcXVhbChsYXRlc3RNaWRkbGV3YXJlLCBtaWRkbGV3YXJlKSkge1xuICAgICAgc2V0TGF0ZXN0TWlkZGxld2FyZShtaWRkbGV3YXJlKTtcbiAgICB9XG4gICAgY29uc3QgW19yZWZlcmVuY2UsIF9zZXRSZWZlcmVuY2VdID0gZCQ0KG51bGwpO1xuICAgIGNvbnN0IFtfZmxvYXRpbmcsIF9zZXRGbG9hdGluZ10gPSBkJDQobnVsbCk7XG4gICAgY29uc3Qgc2V0UmVmZXJlbmNlID0gcSQzKChub2RlKSA9PiB7XG4gICAgICBpZiAobm9kZSAhPT0gcmVmZXJlbmNlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgcmVmZXJlbmNlUmVmLmN1cnJlbnQgPSBub2RlO1xuICAgICAgICBfc2V0UmVmZXJlbmNlKG5vZGUpO1xuICAgICAgfVxuICAgIH0sIFtdKTtcbiAgICBjb25zdCBzZXRGbG9hdGluZyA9IHEkMygobm9kZSkgPT4ge1xuICAgICAgaWYgKG5vZGUgIT09IGZsb2F0aW5nUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgZmxvYXRpbmdSZWYuY3VycmVudCA9IG5vZGU7XG4gICAgICAgIF9zZXRGbG9hdGluZyhub2RlKTtcbiAgICAgIH1cbiAgICB9LCBbXSk7XG4gICAgY29uc3QgcmVmZXJlbmNlRWwgPSBleHRlcm5hbFJlZmVyZW5jZSB8fCBfcmVmZXJlbmNlO1xuICAgIGNvbnN0IGZsb2F0aW5nRWwgPSBleHRlcm5hbEZsb2F0aW5nIHx8IF9mbG9hdGluZztcbiAgICBjb25zdCByZWZlcmVuY2VSZWYgPSBBJDMobnVsbCk7XG4gICAgY29uc3QgZmxvYXRpbmdSZWYgPSBBJDMobnVsbCk7XG4gICAgY29uc3QgZGF0YVJlZiA9IEEkMyhkYXRhKTtcbiAgICBjb25zdCBoYXNXaGlsZUVsZW1lbnRzTW91bnRlZCA9IHdoaWxlRWxlbWVudHNNb3VudGVkICE9IG51bGw7XG4gICAgY29uc3Qgd2hpbGVFbGVtZW50c01vdW50ZWRSZWYgPSB1c2VMYXRlc3RSZWYod2hpbGVFbGVtZW50c01vdW50ZWQpO1xuICAgIGNvbnN0IHBsYXRmb3JtUmVmID0gdXNlTGF0ZXN0UmVmKHBsYXRmb3JtMik7XG4gICAgY29uc3Qgb3BlblJlZiA9IHVzZUxhdGVzdFJlZihvcGVuKTtcbiAgICBjb25zdCB1cGRhdGUgPSBxJDMoKCkgPT4ge1xuICAgICAgaWYgKCFyZWZlcmVuY2VSZWYuY3VycmVudCB8fCAhZmxvYXRpbmdSZWYuY3VycmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgc3RyYXRlZ3ksXG4gICAgICAgIG1pZGRsZXdhcmU6IGxhdGVzdE1pZGRsZXdhcmVcbiAgICAgIH07XG4gICAgICBpZiAocGxhdGZvcm1SZWYuY3VycmVudCkge1xuICAgICAgICBjb25maWcucGxhdGZvcm0gPSBwbGF0Zm9ybVJlZi5jdXJyZW50O1xuICAgICAgfVxuICAgICAgY29tcHV0ZVBvc2l0aW9uKHJlZmVyZW5jZVJlZi5jdXJyZW50LCBmbG9hdGluZ1JlZi5jdXJyZW50LCBjb25maWcpLnRoZW4oKGRhdGEyKSA9PiB7XG4gICAgICAgIGNvbnN0IGZ1bGxEYXRhID0ge1xuICAgICAgICAgIC4uLmRhdGEyLFxuICAgICAgICAgIC8vIFRoZSBmbG9hdGluZyBlbGVtZW50J3MgcG9zaXRpb24gbWF5IGJlIHJlY29tcHV0ZWQgd2hpbGUgaXQncyBjbG9zZWRcbiAgICAgICAgICAvLyBidXQgc3RpbGwgbW91bnRlZCAoc3VjaCBhcyB3aGVuIHRyYW5zaXRpb25pbmcgb3V0KS4gVG8gZW5zdXJlXG4gICAgICAgICAgLy8gYGlzUG9zaXRpb25lZGAgd2lsbCBiZSBgZmFsc2VgIGluaXRpYWxseSBvbiB0aGUgbmV4dCBvcGVuLCBhdm9pZFxuICAgICAgICAgIC8vIHNldHRpbmcgaXQgdG8gYHRydWVgIHdoZW4gYG9wZW4gPT09IGZhbHNlYCAobXVzdCBiZSBzcGVjaWZpZWQpLlxuICAgICAgICAgIGlzUG9zaXRpb25lZDogb3BlblJlZi5jdXJyZW50ICE9PSBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICBpZiAoaXNNb3VudGVkUmVmLmN1cnJlbnQgJiYgIWRlZXBFcXVhbChkYXRhUmVmLmN1cnJlbnQsIGZ1bGxEYXRhKSkge1xuICAgICAgICAgIGRhdGFSZWYuY3VycmVudCA9IGZ1bGxEYXRhO1xuICAgICAgICAgIEVuKCgpID0+IHtcbiAgICAgICAgICAgIHNldERhdGEoZnVsbERhdGEpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LCBbbGF0ZXN0TWlkZGxld2FyZSwgcGxhY2VtZW50LCBzdHJhdGVneSwgcGxhdGZvcm1SZWYsIG9wZW5SZWZdKTtcbiAgICBpbmRleCQxKCgpID0+IHtcbiAgICAgIGlmIChvcGVuID09PSBmYWxzZSAmJiBkYXRhUmVmLmN1cnJlbnQuaXNQb3NpdGlvbmVkKSB7XG4gICAgICAgIGRhdGFSZWYuY3VycmVudC5pc1Bvc2l0aW9uZWQgPSBmYWxzZTtcbiAgICAgICAgc2V0RGF0YSgoZGF0YTIpID0+ICh7XG4gICAgICAgICAgLi4uZGF0YTIsXG4gICAgICAgICAgaXNQb3NpdGlvbmVkOiBmYWxzZVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSwgW29wZW5dKTtcbiAgICBjb25zdCBpc01vdW50ZWRSZWYgPSBBJDMoZmFsc2UpO1xuICAgIGluZGV4JDEoKCkgPT4ge1xuICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaXNNb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIGluZGV4JDEoKCkgPT4ge1xuICAgICAgaWYgKHJlZmVyZW5jZUVsKSByZWZlcmVuY2VSZWYuY3VycmVudCA9IHJlZmVyZW5jZUVsO1xuICAgICAgaWYgKGZsb2F0aW5nRWwpIGZsb2F0aW5nUmVmLmN1cnJlbnQgPSBmbG9hdGluZ0VsO1xuICAgICAgaWYgKHJlZmVyZW5jZUVsICYmIGZsb2F0aW5nRWwpIHtcbiAgICAgICAgaWYgKHdoaWxlRWxlbWVudHNNb3VudGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICByZXR1cm4gd2hpbGVFbGVtZW50c01vdW50ZWRSZWYuY3VycmVudChyZWZlcmVuY2VFbCwgZmxvYXRpbmdFbCwgdXBkYXRlKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGUoKTtcbiAgICAgIH1cbiAgICB9LCBbcmVmZXJlbmNlRWwsIGZsb2F0aW5nRWwsIHVwZGF0ZSwgd2hpbGVFbGVtZW50c01vdW50ZWRSZWYsIGhhc1doaWxlRWxlbWVudHNNb3VudGVkXSk7XG4gICAgY29uc3QgcmVmcyA9IFQkNSgoKSA9PiAoe1xuICAgICAgcmVmZXJlbmNlOiByZWZlcmVuY2VSZWYsXG4gICAgICBmbG9hdGluZzogZmxvYXRpbmdSZWYsXG4gICAgICBzZXRSZWZlcmVuY2UsXG4gICAgICBzZXRGbG9hdGluZ1xuICAgIH0pLCBbc2V0UmVmZXJlbmNlLCBzZXRGbG9hdGluZ10pO1xuICAgIGNvbnN0IGVsZW1lbnRzID0gVCQ1KCgpID0+ICh7XG4gICAgICByZWZlcmVuY2U6IHJlZmVyZW5jZUVsLFxuICAgICAgZmxvYXRpbmc6IGZsb2F0aW5nRWxcbiAgICB9KSwgW3JlZmVyZW5jZUVsLCBmbG9hdGluZ0VsXSk7XG4gICAgY29uc3QgZmxvYXRpbmdTdHlsZXMgPSBUJDUoKCkgPT4ge1xuICAgICAgY29uc3QgaW5pdGlhbFN0eWxlcyA9IHtcbiAgICAgICAgcG9zaXRpb246IHN0cmF0ZWd5LFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB0b3A6IDBcbiAgICAgIH07XG4gICAgICBpZiAoIWVsZW1lbnRzLmZsb2F0aW5nKSB7XG4gICAgICAgIHJldHVybiBpbml0aWFsU3R5bGVzO1xuICAgICAgfVxuICAgICAgY29uc3QgeDIgPSByb3VuZEJ5RFBSKGVsZW1lbnRzLmZsb2F0aW5nLCBkYXRhLngpO1xuICAgICAgY29uc3QgeTIgPSByb3VuZEJ5RFBSKGVsZW1lbnRzLmZsb2F0aW5nLCBkYXRhLnkpO1xuICAgICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmluaXRpYWxTdHlsZXMsXG4gICAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZShcIiArIHgyICsgXCJweCwgXCIgKyB5MiArIFwicHgpXCIsXG4gICAgICAgICAgLi4uZ2V0RFBSKGVsZW1lbnRzLmZsb2F0aW5nKSA+PSAxLjUgJiYge1xuICAgICAgICAgICAgd2lsbENoYW5nZTogXCJ0cmFuc2Zvcm1cIlxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBvc2l0aW9uOiBzdHJhdGVneSxcbiAgICAgICAgbGVmdDogeDIsXG4gICAgICAgIHRvcDogeTJcbiAgICAgIH07XG4gICAgfSwgW3N0cmF0ZWd5LCB0cmFuc2Zvcm0sIGVsZW1lbnRzLmZsb2F0aW5nLCBkYXRhLngsIGRhdGEueV0pO1xuICAgIHJldHVybiBUJDUoKCkgPT4gKHtcbiAgICAgIC4uLmRhdGEsXG4gICAgICB1cGRhdGUsXG4gICAgICByZWZzLFxuICAgICAgZWxlbWVudHMsXG4gICAgICBmbG9hdGluZ1N0eWxlc1xuICAgIH0pLCBbZGF0YSwgdXBkYXRlLCByZWZzLCBlbGVtZW50cywgZmxvYXRpbmdTdHlsZXNdKTtcbiAgfVxuICBjb25zdCBvZmZzZXQgPSAob3B0aW9ucywgZGVwcykgPT4gKHtcbiAgICAuLi5vZmZzZXQkMShvcHRpb25zKSxcbiAgICBvcHRpb25zOiBbb3B0aW9ucywgZGVwc11cbiAgfSk7XG4gIGNvbnN0IHNoaWZ0ID0gKG9wdGlvbnMsIGRlcHMpID0+ICh7XG4gICAgLi4uc2hpZnQkMShvcHRpb25zKSxcbiAgICBvcHRpb25zOiBbb3B0aW9ucywgZGVwc11cbiAgfSk7XG4gIGNvbnN0IGZsaXAgPSAob3B0aW9ucywgZGVwcykgPT4gKHtcbiAgICAuLi5mbGlwJDEob3B0aW9ucyksXG4gICAgb3B0aW9uczogW29wdGlvbnMsIGRlcHNdXG4gIH0pO1xuICBjb25zdCBzaXplID0gKG9wdGlvbnMsIGRlcHMpID0+ICh7XG4gICAgLi4uc2l6ZSQxKG9wdGlvbnMpLFxuICAgIG9wdGlvbnM6IFtvcHRpb25zLCBkZXBzXVxuICB9KTtcbiAgY29uc3QgU2FmZVJlYWN0ID0ge1xuICAgIC4uLnQkNFxuICB9O1xuICBjb25zdCB1c2VJbnNlcnRpb25FZmZlY3QgPSBTYWZlUmVhY3QudXNlSW5zZXJ0aW9uRWZmZWN0O1xuICBjb25zdCB1c2VTYWZlSW5zZXJ0aW9uRWZmZWN0ID0gdXNlSW5zZXJ0aW9uRWZmZWN0IHx8ICgoZm4yKSA9PiBmbjIoKSk7XG4gIGZ1bmN0aW9uIHVzZUVmZmVjdEV2ZW50KGNhbGxiYWNrKSB7XG4gICAgY29uc3QgcmVmID0gQSQzKCgpID0+IHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgYW4gZXZlbnQgaGFuZGxlciB3aGlsZSByZW5kZXJpbmcuXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHVzZVNhZmVJbnNlcnRpb25FZmZlY3QoKCkgPT4ge1xuICAgICAgcmVmLmN1cnJlbnQgPSBjYWxsYmFjaztcbiAgICB9KTtcbiAgICByZXR1cm4gcSQzKGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVmLmN1cnJlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHJlZi5jdXJyZW50KC4uLmFyZ3MpO1xuICAgIH0sIFtdKTtcbiAgfVxuICB2YXIgaW5kZXggPSB0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgPyBfJDMgOiB5JDY7XG4gIGxldCBzZXJ2ZXJIYW5kb2ZmQ29tcGxldGUgPSBmYWxzZTtcbiAgbGV0IGNvdW50ID0gMDtcbiAgY29uc3QgZ2VuSWQgPSAoKSA9PiAoXG4gICAgLy8gRW5zdXJlIHRoZSBpZCBpcyB1bmlxdWUgd2l0aCBtdWx0aXBsZSBpbmRlcGVuZGVudCB2ZXJzaW9ucyBvZiBGbG9hdGluZyBVSVxuICAgIC8vIG9uIDxSZWFjdCAxOFxuICAgIFwiZmxvYXRpbmctdWktXCIgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA2KSArIGNvdW50KytcbiAgKTtcbiAgZnVuY3Rpb24gdXNlRmxvYXRpbmdJZCgpIHtcbiAgICBjb25zdCBbaWQsIHNldElkXSA9IGQkNCgoKSA9PiBzZXJ2ZXJIYW5kb2ZmQ29tcGxldGUgPyBnZW5JZCgpIDogdm9pZCAwKTtcbiAgICBpbmRleCgoKSA9PiB7XG4gICAgICBpZiAoaWQgPT0gbnVsbCkge1xuICAgICAgICBzZXRJZChnZW5JZCgpKTtcbiAgICAgIH1cbiAgICB9LCBbXSk7XG4gICAgeSQ2KCgpID0+IHtcbiAgICAgIHNlcnZlckhhbmRvZmZDb21wbGV0ZSA9IHRydWU7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBpZDtcbiAgfVxuICBjb25zdCB1c2VSZWFjdElkID0gU2FmZVJlYWN0LnVzZUlkO1xuICBjb25zdCB1c2VJZCA9IHVzZVJlYWN0SWQgfHwgdXNlRmxvYXRpbmdJZDtcbiAgbGV0IGRldk1lc3NhZ2VTZXQ7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICBkZXZNZXNzYWdlU2V0ID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgfVxuICBmdW5jdGlvbiB3YXJuKCkge1xuICAgIHZhciBfZGV2TWVzc2FnZVNldDtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWVzc2FnZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBtZXNzYWdlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgY29uc3QgbWVzc2FnZSA9IFwiRmxvYXRpbmcgVUk6IFwiICsgbWVzc2FnZXMuam9pbihcIiBcIik7XG4gICAgaWYgKCEoKF9kZXZNZXNzYWdlU2V0ID0gZGV2TWVzc2FnZVNldCkgIT0gbnVsbCAmJiBfZGV2TWVzc2FnZVNldC5oYXMobWVzc2FnZSkpKSB7XG4gICAgICB2YXIgX2Rldk1lc3NhZ2VTZXQyO1xuICAgICAgKF9kZXZNZXNzYWdlU2V0MiA9IGRldk1lc3NhZ2VTZXQpID09IG51bGwgfHwgX2Rldk1lc3NhZ2VTZXQyLmFkZChtZXNzYWdlKTtcbiAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgdmFyIF9kZXZNZXNzYWdlU2V0MztcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1lc3NhZ2VzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBtZXNzYWdlc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cbiAgICBjb25zdCBtZXNzYWdlID0gXCJGbG9hdGluZyBVSTogXCIgKyBtZXNzYWdlcy5qb2luKFwiIFwiKTtcbiAgICBpZiAoISgoX2Rldk1lc3NhZ2VTZXQzID0gZGV2TWVzc2FnZVNldCkgIT0gbnVsbCAmJiBfZGV2TWVzc2FnZVNldDMuaGFzKG1lc3NhZ2UpKSkge1xuICAgICAgdmFyIF9kZXZNZXNzYWdlU2V0NDtcbiAgICAgIChfZGV2TWVzc2FnZVNldDQgPSBkZXZNZXNzYWdlU2V0KSA9PSBudWxsIHx8IF9kZXZNZXNzYWdlU2V0NC5hZGQobWVzc2FnZSk7XG4gICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVQdWJTdWIoKSB7XG4gICAgY29uc3QgbWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICByZXR1cm4ge1xuICAgICAgZW1pdChldmVudCwgZGF0YSkge1xuICAgICAgICB2YXIgX21hcCRnZXQ7XG4gICAgICAgIChfbWFwJGdldCA9IG1hcC5nZXQoZXZlbnQpKSA9PSBudWxsIHx8IF9tYXAkZ2V0LmZvckVhY2goKGhhbmRsZXIpID0+IGhhbmRsZXIoZGF0YSkpO1xuICAgICAgfSxcbiAgICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBtYXAuc2V0KGV2ZW50LCBbLi4ubWFwLmdldChldmVudCkgfHwgW10sIGxpc3RlbmVyXSk7XG4gICAgICB9LFxuICAgICAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIgX21hcCRnZXQyO1xuICAgICAgICBtYXAuc2V0KGV2ZW50LCAoKF9tYXAkZ2V0MiA9IG1hcC5nZXQoZXZlbnQpKSA9PSBudWxsID8gdm9pZCAwIDogX21hcCRnZXQyLmZpbHRlcigobDIpID0+IGwyICE9PSBsaXN0ZW5lcikpIHx8IFtdKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGNvbnN0IEZsb2F0aW5nTm9kZUNvbnRleHQgPSAvKiBAX19QVVJFX18gKi8gSyQzKG51bGwpO1xuICBjb25zdCBGbG9hdGluZ1RyZWVDb250ZXh0ID0gLyogQF9fUFVSRV9fICovIEskMyhudWxsKTtcbiAgY29uc3QgdXNlRmxvYXRpbmdQYXJlbnROb2RlSWQgPSAoKSA9PiB7XG4gICAgdmFyIF9SZWFjdCR1c2VDb250ZXh0O1xuICAgIHJldHVybiAoKF9SZWFjdCR1c2VDb250ZXh0ID0geCQ0KEZsb2F0aW5nTm9kZUNvbnRleHQpKSA9PSBudWxsID8gdm9pZCAwIDogX1JlYWN0JHVzZUNvbnRleHQuaWQpIHx8IG51bGw7XG4gIH07XG4gIGNvbnN0IHVzZUZsb2F0aW5nVHJlZSA9ICgpID0+IHgkNChGbG9hdGluZ1RyZWVDb250ZXh0KTtcbiAgY29uc3QgRk9DVVNBQkxFX0FUVFJJQlVURSA9IFwiZGF0YS1mbG9hdGluZy11aS1mb2N1c2FibGVcIjtcbiAgZnVuY3Rpb24gdXNlRmxvYXRpbmdSb290Q29udGV4dChvcHRpb25zKSB7XG4gICAgY29uc3Qge1xuICAgICAgb3BlbiA9IGZhbHNlLFxuICAgICAgb25PcGVuQ2hhbmdlOiBvbk9wZW5DaGFuZ2VQcm9wLFxuICAgICAgZWxlbWVudHM6IGVsZW1lbnRzUHJvcFxuICAgIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGZsb2F0aW5nSWQgPSB1c2VJZCgpO1xuICAgIGNvbnN0IGRhdGFSZWYgPSBBJDMoe30pO1xuICAgIGNvbnN0IFtldmVudHNdID0gZCQ0KCgpID0+IGNyZWF0ZVB1YlN1YigpKTtcbiAgICBjb25zdCBuZXN0ZWQgPSB1c2VGbG9hdGluZ1BhcmVudE5vZGVJZCgpICE9IG51bGw7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgY29uc3Qgb3B0aW9uRG9tUmVmZXJlbmNlID0gZWxlbWVudHNQcm9wLnJlZmVyZW5jZTtcbiAgICAgIGlmIChvcHRpb25Eb21SZWZlcmVuY2UgJiYgIWlzRWxlbWVudChvcHRpb25Eb21SZWZlcmVuY2UpKSB7XG4gICAgICAgIGVycm9yKFwiQ2Fubm90IHBhc3MgYSB2aXJ0dWFsIGVsZW1lbnQgdG8gdGhlIGBlbGVtZW50cy5yZWZlcmVuY2VgIG9wdGlvbixcIiwgXCJhcyBpdCBtdXN0IGJlIGEgcmVhbCBET00gZWxlbWVudC4gVXNlIGByZWZzLnNldFBvc2l0aW9uUmVmZXJlbmNlKClgXCIsIFwiaW5zdGVhZC5cIik7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IFtwb3NpdGlvblJlZmVyZW5jZSwgc2V0UG9zaXRpb25SZWZlcmVuY2VdID0gZCQ0KGVsZW1lbnRzUHJvcC5yZWZlcmVuY2UpO1xuICAgIGNvbnN0IG9uT3BlbkNoYW5nZSA9IHVzZUVmZmVjdEV2ZW50KChvcGVuMiwgZXZlbnQsIHJlYXNvbikgPT4ge1xuICAgICAgZGF0YVJlZi5jdXJyZW50Lm9wZW5FdmVudCA9IG9wZW4yID8gZXZlbnQgOiB2b2lkIDA7XG4gICAgICBldmVudHMuZW1pdChcIm9wZW5jaGFuZ2VcIiwge1xuICAgICAgICBvcGVuOiBvcGVuMixcbiAgICAgICAgZXZlbnQsXG4gICAgICAgIHJlYXNvbixcbiAgICAgICAgbmVzdGVkXG4gICAgICB9KTtcbiAgICAgIG9uT3BlbkNoYW5nZVByb3AgPT0gbnVsbCB8fCBvbk9wZW5DaGFuZ2VQcm9wKG9wZW4yLCBldmVudCwgcmVhc29uKTtcbiAgICB9KTtcbiAgICBjb25zdCByZWZzID0gVCQ1KCgpID0+ICh7XG4gICAgICBzZXRQb3NpdGlvblJlZmVyZW5jZVxuICAgIH0pLCBbXSk7XG4gICAgY29uc3QgZWxlbWVudHMgPSBUJDUoKCkgPT4gKHtcbiAgICAgIHJlZmVyZW5jZTogcG9zaXRpb25SZWZlcmVuY2UgfHwgZWxlbWVudHNQcm9wLnJlZmVyZW5jZSB8fCBudWxsLFxuICAgICAgZmxvYXRpbmc6IGVsZW1lbnRzUHJvcC5mbG9hdGluZyB8fCBudWxsLFxuICAgICAgZG9tUmVmZXJlbmNlOiBlbGVtZW50c1Byb3AucmVmZXJlbmNlXG4gICAgfSksIFtwb3NpdGlvblJlZmVyZW5jZSwgZWxlbWVudHNQcm9wLnJlZmVyZW5jZSwgZWxlbWVudHNQcm9wLmZsb2F0aW5nXSk7XG4gICAgcmV0dXJuIFQkNSgoKSA9PiAoe1xuICAgICAgZGF0YVJlZixcbiAgICAgIG9wZW4sXG4gICAgICBvbk9wZW5DaGFuZ2UsXG4gICAgICBlbGVtZW50cyxcbiAgICAgIGV2ZW50cyxcbiAgICAgIGZsb2F0aW5nSWQsXG4gICAgICByZWZzXG4gICAgfSksIFtvcGVuLCBvbk9wZW5DaGFuZ2UsIGVsZW1lbnRzLCBldmVudHMsIGZsb2F0aW5nSWQsIHJlZnNdKTtcbiAgfVxuICBmdW5jdGlvbiB1c2VGbG9hdGluZyhvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBub2RlSWRcbiAgICB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBpbnRlcm5hbFJvb3RDb250ZXh0ID0gdXNlRmxvYXRpbmdSb290Q29udGV4dCh7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgcmVmZXJlbmNlOiBudWxsLFxuICAgICAgICBmbG9hdGluZzogbnVsbCxcbiAgICAgICAgLi4ub3B0aW9ucy5lbGVtZW50c1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHJvb3RDb250ZXh0ID0gb3B0aW9ucy5yb290Q29udGV4dCB8fCBpbnRlcm5hbFJvb3RDb250ZXh0O1xuICAgIGNvbnN0IGNvbXB1dGVkRWxlbWVudHMgPSByb290Q29udGV4dC5lbGVtZW50cztcbiAgICBjb25zdCBbX2RvbVJlZmVyZW5jZSwgc2V0RG9tUmVmZXJlbmNlXSA9IGQkNChudWxsKTtcbiAgICBjb25zdCBbcG9zaXRpb25SZWZlcmVuY2UsIF9zZXRQb3NpdGlvblJlZmVyZW5jZV0gPSBkJDQobnVsbCk7XG4gICAgY29uc3Qgb3B0aW9uRG9tUmVmZXJlbmNlID0gY29tcHV0ZWRFbGVtZW50cyA9PSBudWxsID8gdm9pZCAwIDogY29tcHV0ZWRFbGVtZW50cy5kb21SZWZlcmVuY2U7XG4gICAgY29uc3QgZG9tUmVmZXJlbmNlID0gb3B0aW9uRG9tUmVmZXJlbmNlIHx8IF9kb21SZWZlcmVuY2U7XG4gICAgY29uc3QgZG9tUmVmZXJlbmNlUmVmID0gQSQzKG51bGwpO1xuICAgIGNvbnN0IHRyZWUgPSB1c2VGbG9hdGluZ1RyZWUoKTtcbiAgICBpbmRleCgoKSA9PiB7XG4gICAgICBpZiAoZG9tUmVmZXJlbmNlKSB7XG4gICAgICAgIGRvbVJlZmVyZW5jZVJlZi5jdXJyZW50ID0gZG9tUmVmZXJlbmNlO1xuICAgICAgfVxuICAgIH0sIFtkb21SZWZlcmVuY2VdKTtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHVzZUZsb2F0aW5nJDEoe1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGVsZW1lbnRzOiB7XG4gICAgICAgIC4uLmNvbXB1dGVkRWxlbWVudHMsXG4gICAgICAgIC4uLnBvc2l0aW9uUmVmZXJlbmNlICYmIHtcbiAgICAgICAgICByZWZlcmVuY2U6IHBvc2l0aW9uUmVmZXJlbmNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBzZXRQb3NpdGlvblJlZmVyZW5jZSA9IHEkMygobm9kZSkgPT4ge1xuICAgICAgY29uc3QgY29tcHV0ZWRQb3NpdGlvblJlZmVyZW5jZSA9IGlzRWxlbWVudChub2RlKSA/IHtcbiAgICAgICAgZ2V0Qm91bmRpbmdDbGllbnRSZWN0OiAoKSA9PiBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICBjb250ZXh0RWxlbWVudDogbm9kZVxuICAgICAgfSA6IG5vZGU7XG4gICAgICBfc2V0UG9zaXRpb25SZWZlcmVuY2UoY29tcHV0ZWRQb3NpdGlvblJlZmVyZW5jZSk7XG4gICAgICBwb3NpdGlvbi5yZWZzLnNldFJlZmVyZW5jZShjb21wdXRlZFBvc2l0aW9uUmVmZXJlbmNlKTtcbiAgICB9LCBbcG9zaXRpb24ucmVmc10pO1xuICAgIGNvbnN0IHNldFJlZmVyZW5jZSA9IHEkMygobm9kZSkgPT4ge1xuICAgICAgaWYgKGlzRWxlbWVudChub2RlKSB8fCBub2RlID09PSBudWxsKSB7XG4gICAgICAgIGRvbVJlZmVyZW5jZVJlZi5jdXJyZW50ID0gbm9kZTtcbiAgICAgICAgc2V0RG9tUmVmZXJlbmNlKG5vZGUpO1xuICAgICAgfVxuICAgICAgaWYgKGlzRWxlbWVudChwb3NpdGlvbi5yZWZzLnJlZmVyZW5jZS5jdXJyZW50KSB8fCBwb3NpdGlvbi5yZWZzLnJlZmVyZW5jZS5jdXJyZW50ID09PSBudWxsIHx8IC8vIERvbid0IGFsbG93IHNldHRpbmcgdmlydHVhbCBlbGVtZW50cyB1c2luZyB0aGUgb2xkIHRlY2huaXF1ZSBiYWNrIHRvXG4gICAgICAvLyBgbnVsbGAgdG8gc3VwcG9ydCBgcG9zaXRpb25SZWZlcmVuY2VgICsgYW4gdW5zdGFibGUgYHJlZmVyZW5jZWBcbiAgICAgIC8vIGNhbGxiYWNrIHJlZi5cbiAgICAgIG5vZGUgIT09IG51bGwgJiYgIWlzRWxlbWVudChub2RlKSkge1xuICAgICAgICBwb3NpdGlvbi5yZWZzLnNldFJlZmVyZW5jZShub2RlKTtcbiAgICAgIH1cbiAgICB9LCBbcG9zaXRpb24ucmVmc10pO1xuICAgIGNvbnN0IHJlZnMgPSBUJDUoKCkgPT4gKHtcbiAgICAgIC4uLnBvc2l0aW9uLnJlZnMsXG4gICAgICBzZXRSZWZlcmVuY2UsXG4gICAgICBzZXRQb3NpdGlvblJlZmVyZW5jZSxcbiAgICAgIGRvbVJlZmVyZW5jZTogZG9tUmVmZXJlbmNlUmVmXG4gICAgfSksIFtwb3NpdGlvbi5yZWZzLCBzZXRSZWZlcmVuY2UsIHNldFBvc2l0aW9uUmVmZXJlbmNlXSk7XG4gICAgY29uc3QgZWxlbWVudHMgPSBUJDUoKCkgPT4gKHtcbiAgICAgIC4uLnBvc2l0aW9uLmVsZW1lbnRzLFxuICAgICAgZG9tUmVmZXJlbmNlXG4gICAgfSksIFtwb3NpdGlvbi5lbGVtZW50cywgZG9tUmVmZXJlbmNlXSk7XG4gICAgY29uc3QgY29udGV4dCA9IFQkNSgoKSA9PiAoe1xuICAgICAgLi4ucG9zaXRpb24sXG4gICAgICAuLi5yb290Q29udGV4dCxcbiAgICAgIHJlZnMsXG4gICAgICBlbGVtZW50cyxcbiAgICAgIG5vZGVJZFxuICAgIH0pLCBbcG9zaXRpb24sIHJlZnMsIGVsZW1lbnRzLCBub2RlSWQsIHJvb3RDb250ZXh0XSk7XG4gICAgaW5kZXgoKCkgPT4ge1xuICAgICAgcm9vdENvbnRleHQuZGF0YVJlZi5jdXJyZW50LmZsb2F0aW5nQ29udGV4dCA9IGNvbnRleHQ7XG4gICAgICBjb25zdCBub2RlID0gdHJlZSA9PSBudWxsID8gdm9pZCAwIDogdHJlZS5ub2Rlc1JlZi5jdXJyZW50LmZpbmQoKG5vZGUyKSA9PiBub2RlMi5pZCA9PT0gbm9kZUlkKTtcbiAgICAgIGlmIChub2RlKSB7XG4gICAgICAgIG5vZGUuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFQkNSgoKSA9PiAoe1xuICAgICAgLi4ucG9zaXRpb24sXG4gICAgICBjb250ZXh0LFxuICAgICAgcmVmcyxcbiAgICAgIGVsZW1lbnRzXG4gICAgfSksIFtwb3NpdGlvbiwgcmVmcywgZWxlbWVudHMsIGNvbnRleHRdKTtcbiAgfVxuICBjb25zdCBBQ1RJVkVfS0VZID0gXCJhY3RpdmVcIjtcbiAgY29uc3QgU0VMRUNURURfS0VZID0gXCJzZWxlY3RlZFwiO1xuICBmdW5jdGlvbiBtZXJnZVByb3BzKHVzZXJQcm9wcywgcHJvcHNMaXN0LCBlbGVtZW50S2V5KSB7XG4gICAgY29uc3QgbWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICBjb25zdCBpc0l0ZW0gPSBlbGVtZW50S2V5ID09PSBcIml0ZW1cIjtcbiAgICBsZXQgZG9tVXNlclByb3BzID0gdXNlclByb3BzO1xuICAgIGlmIChpc0l0ZW0gJiYgdXNlclByb3BzKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIFtBQ1RJVkVfS0VZXTogXzIsXG4gICAgICAgIFtTRUxFQ1RFRF9LRVldOiBfXyxcbiAgICAgICAgLi4udmFsaWRQcm9wc1xuICAgICAgfSA9IHVzZXJQcm9wcztcbiAgICAgIGRvbVVzZXJQcm9wcyA9IHZhbGlkUHJvcHM7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5lbGVtZW50S2V5ID09PSBcImZsb2F0aW5nXCIgJiYge1xuICAgICAgICB0YWJJbmRleDogLTEsXG4gICAgICAgIFtGT0NVU0FCTEVfQVRUUklCVVRFXTogXCJcIlxuICAgICAgfSxcbiAgICAgIC4uLmRvbVVzZXJQcm9wcyxcbiAgICAgIC4uLnByb3BzTGlzdC5tYXAoKHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb3BzT3JHZXRQcm9wcyA9IHZhbHVlID8gdmFsdWVbZWxlbWVudEtleV0gOiBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIHByb3BzT3JHZXRQcm9wcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgcmV0dXJuIHVzZXJQcm9wcyA/IHByb3BzT3JHZXRQcm9wcyh1c2VyUHJvcHMpIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvcHNPckdldFByb3BzO1xuICAgICAgfSkuY29uY2F0KHVzZXJQcm9wcykucmVkdWNlKChhY2MsIHByb3BzKSA9PiB7XG4gICAgICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHByb3BzKS5mb3JFYWNoKChfcmVmKSA9PiB7XG4gICAgICAgICAgbGV0IFtrZXksIHZhbHVlXSA9IF9yZWY7XG4gICAgICAgICAgaWYgKGlzSXRlbSAmJiBbQUNUSVZFX0tFWSwgU0VMRUNURURfS0VZXS5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChrZXkuaW5kZXhPZihcIm9uXCIpID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoIW1hcC5oYXMoa2V5KSkge1xuICAgICAgICAgICAgICBtYXAuc2V0KGtleSwgW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgIHZhciBfbWFwJGdldDtcbiAgICAgICAgICAgICAgKF9tYXAkZ2V0ID0gbWFwLmdldChrZXkpKSA9PSBudWxsIHx8IF9tYXAkZ2V0LnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICBhY2Nba2V5XSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBfbWFwJGdldDI7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gKF9tYXAkZ2V0MiA9IG1hcC5nZXQoa2V5KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9tYXAkZ2V0Mi5tYXAoKGZuMikgPT4gZm4yKC4uLmFyZ3MpKS5maW5kKCh2YWwpID0+IHZhbCAhPT0gdm9pZCAwKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWNjW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwge30pXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiB1c2VJbnRlcmFjdGlvbnMocHJvcHNMaXN0KSB7XG4gICAgaWYgKHByb3BzTGlzdCA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9wc0xpc3QgPSBbXTtcbiAgICB9XG4gICAgY29uc3QgcmVmZXJlbmNlRGVwcyA9IHByb3BzTGlzdC5tYXAoKGtleSkgPT4ga2V5ID09IG51bGwgPyB2b2lkIDAgOiBrZXkucmVmZXJlbmNlKTtcbiAgICBjb25zdCBmbG9hdGluZ0RlcHMgPSBwcm9wc0xpc3QubWFwKChrZXkpID0+IGtleSA9PSBudWxsID8gdm9pZCAwIDoga2V5LmZsb2F0aW5nKTtcbiAgICBjb25zdCBpdGVtRGVwcyA9IHByb3BzTGlzdC5tYXAoKGtleSkgPT4ga2V5ID09IG51bGwgPyB2b2lkIDAgOiBrZXkuaXRlbSk7XG4gICAgY29uc3QgZ2V0UmVmZXJlbmNlUHJvcHMgPSBxJDMoXG4gICAgICAodXNlclByb3BzKSA9PiBtZXJnZVByb3BzKHVzZXJQcm9wcywgcHJvcHNMaXN0LCBcInJlZmVyZW5jZVwiKSxcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICAgIHJlZmVyZW5jZURlcHNcbiAgICApO1xuICAgIGNvbnN0IGdldEZsb2F0aW5nUHJvcHMgPSBxJDMoXG4gICAgICAodXNlclByb3BzKSA9PiBtZXJnZVByb3BzKHVzZXJQcm9wcywgcHJvcHNMaXN0LCBcImZsb2F0aW5nXCIpLFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgICAgZmxvYXRpbmdEZXBzXG4gICAgKTtcbiAgICBjb25zdCBnZXRJdGVtUHJvcHMgPSBxJDMoXG4gICAgICAodXNlclByb3BzKSA9PiBtZXJnZVByb3BzKHVzZXJQcm9wcywgcHJvcHNMaXN0LCBcIml0ZW1cIiksXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgICBpdGVtRGVwc1xuICAgICk7XG4gICAgcmV0dXJuIFQkNSgoKSA9PiAoe1xuICAgICAgZ2V0UmVmZXJlbmNlUHJvcHMsXG4gICAgICBnZXRGbG9hdGluZ1Byb3BzLFxuICAgICAgZ2V0SXRlbVByb3BzXG4gICAgfSksIFtnZXRSZWZlcmVuY2VQcm9wcywgZ2V0RmxvYXRpbmdQcm9wcywgZ2V0SXRlbVByb3BzXSk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0QXJnc1dpdGhDdXN0b21GbG9hdGluZ0hlaWdodChzdGF0ZSwgaGVpZ2h0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgcmVjdHM6IHtcbiAgICAgICAgLi4uc3RhdGUucmVjdHMsXG4gICAgICAgIGZsb2F0aW5nOiB7XG4gICAgICAgICAgLi4uc3RhdGUucmVjdHMuZmxvYXRpbmcsXG4gICAgICAgICAgaGVpZ2h0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGNvbnN0IGlubmVyID0gKHByb3BzKSA9PiAoe1xuICAgIG5hbWU6IFwiaW5uZXJcIixcbiAgICBvcHRpb25zOiBwcm9wcyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBsaXN0UmVmLFxuICAgICAgICBvdmVyZmxvd1JlZixcbiAgICAgICAgb25GYWxsYmFja0NoYW5nZSxcbiAgICAgICAgb2Zmc2V0OiBpbm5lck9mZnNldCA9IDAsXG4gICAgICAgIGluZGV4OiBpbmRleDIgPSAwLFxuICAgICAgICBtaW5JdGVtc1Zpc2libGUgPSA0LFxuICAgICAgICByZWZlcmVuY2VPdmVyZmxvd1RocmVzaG9sZCA9IDAsXG4gICAgICAgIHNjcm9sbFJlZixcbiAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zXG4gICAgICB9ID0gZXZhbHVhdGUocHJvcHMsIHN0YXRlKTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcmVjdHMsXG4gICAgICAgIGVsZW1lbnRzOiB7XG4gICAgICAgICAgZmxvYXRpbmdcbiAgICAgICAgfVxuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3QgaXRlbSA9IGxpc3RSZWYuY3VycmVudFtpbmRleDJdO1xuICAgICAgY29uc3Qgc2Nyb2xsRWwgPSAoc2Nyb2xsUmVmID09IG51bGwgPyB2b2lkIDAgOiBzY3JvbGxSZWYuY3VycmVudCkgfHwgZmxvYXRpbmc7XG4gICAgICBjb25zdCBjbGllbnRUb3AgPSBmbG9hdGluZy5jbGllbnRUb3AgfHwgc2Nyb2xsRWwuY2xpZW50VG9wO1xuICAgICAgY29uc3QgZmxvYXRpbmdJc0JvcmRlcmVkID0gZmxvYXRpbmcuY2xpZW50VG9wICE9PSAwO1xuICAgICAgY29uc3Qgc2Nyb2xsRWxJc0JvcmRlcmVkID0gc2Nyb2xsRWwuY2xpZW50VG9wICE9PSAwO1xuICAgICAgY29uc3QgZmxvYXRpbmdJc1Njcm9sbEVsID0gZmxvYXRpbmcgPT09IHNjcm9sbEVsO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICBpZiAoIXN0YXRlLnBsYWNlbWVudC5zdGFydHNXaXRoKFwiYm90dG9tXCIpKSB7XG4gICAgICAgICAgd2FybignYHBsYWNlbWVudGAgc2lkZSBtdXN0IGJlIFwiYm90dG9tXCIgd2hlbiB1c2luZyB0aGUgYGlubmVyYCcsIFwibWlkZGxld2FyZS5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBjb25zdCBuZXh0QXJncyA9IHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIC4uLmF3YWl0IG9mZnNldCgtaXRlbS5vZmZzZXRUb3AgLSBmbG9hdGluZy5jbGllbnRUb3AgLSByZWN0cy5yZWZlcmVuY2UuaGVpZ2h0IC8gMiAtIGl0ZW0ub2Zmc2V0SGVpZ2h0IC8gMiAtIGlubmVyT2Zmc2V0KS5mbihzdGF0ZSlcbiAgICAgIH07XG4gICAgICBjb25zdCBvdmVyZmxvdyA9IGF3YWl0IGRldGVjdE92ZXJmbG93KGdldEFyZ3NXaXRoQ3VzdG9tRmxvYXRpbmdIZWlnaHQobmV4dEFyZ3MsIHNjcm9sbEVsLnNjcm9sbEhlaWdodCArIGNsaWVudFRvcCArIGZsb2F0aW5nLmNsaWVudFRvcCksIGRldGVjdE92ZXJmbG93T3B0aW9ucyk7XG4gICAgICBjb25zdCByZWZPdmVyZmxvdyA9IGF3YWl0IGRldGVjdE92ZXJmbG93KG5leHRBcmdzLCB7XG4gICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9ucyxcbiAgICAgICAgZWxlbWVudENvbnRleHQ6IFwicmVmZXJlbmNlXCJcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZGlmZlkgPSBtYXgoMCwgb3ZlcmZsb3cudG9wKTtcbiAgICAgIGNvbnN0IG5leHRZID0gbmV4dEFyZ3MueSArIGRpZmZZO1xuICAgICAgY29uc3QgaXNTY3JvbGxhYmxlID0gc2Nyb2xsRWwuc2Nyb2xsSGVpZ2h0ID4gc2Nyb2xsRWwuY2xpZW50SGVpZ2h0O1xuICAgICAgY29uc3Qgcm91bmRlciA9IGlzU2Nyb2xsYWJsZSA/ICh2MikgPT4gdjIgOiByb3VuZDtcbiAgICAgIGNvbnN0IG1heEhlaWdodCA9IHJvdW5kZXIobWF4KDAsIHNjcm9sbEVsLnNjcm9sbEhlaWdodCArIChmbG9hdGluZ0lzQm9yZGVyZWQgJiYgZmxvYXRpbmdJc1Njcm9sbEVsIHx8IHNjcm9sbEVsSXNCb3JkZXJlZCA/IGNsaWVudFRvcCAqIDIgOiAwKSAtIGRpZmZZIC0gbWF4KDAsIG92ZXJmbG93LmJvdHRvbSkpKTtcbiAgICAgIHNjcm9sbEVsLnN0eWxlLm1heEhlaWdodCA9IG1heEhlaWdodCArIFwicHhcIjtcbiAgICAgIHNjcm9sbEVsLnNjcm9sbFRvcCA9IGRpZmZZO1xuICAgICAgaWYgKG9uRmFsbGJhY2tDaGFuZ2UpIHtcbiAgICAgICAgY29uc3Qgc2hvdWxkRmFsbGJhY2sgPSBzY3JvbGxFbC5vZmZzZXRIZWlnaHQgPCBpdGVtLm9mZnNldEhlaWdodCAqIG1pbihtaW5JdGVtc1Zpc2libGUsIGxpc3RSZWYuY3VycmVudC5sZW5ndGgpIC0gMSB8fCByZWZPdmVyZmxvdy50b3AgPj0gLXJlZmVyZW5jZU92ZXJmbG93VGhyZXNob2xkIHx8IHJlZk92ZXJmbG93LmJvdHRvbSA+PSAtcmVmZXJlbmNlT3ZlcmZsb3dUaHJlc2hvbGQ7XG4gICAgICAgIEVuKCgpID0+IG9uRmFsbGJhY2tDaGFuZ2Uoc2hvdWxkRmFsbGJhY2spKTtcbiAgICAgIH1cbiAgICAgIGlmIChvdmVyZmxvd1JlZikge1xuICAgICAgICBvdmVyZmxvd1JlZi5jdXJyZW50ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coZ2V0QXJnc1dpdGhDdXN0b21GbG9hdGluZ0hlaWdodCh7XG4gICAgICAgICAgLi4ubmV4dEFyZ3MsXG4gICAgICAgICAgeTogbmV4dFlcbiAgICAgICAgfSwgc2Nyb2xsRWwub2Zmc2V0SGVpZ2h0ICsgY2xpZW50VG9wICsgZmxvYXRpbmcuY2xpZW50VG9wKSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHk6IG5leHRZXG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG4gIGZ1bmN0aW9uIHVzZUlubmVyT2Zmc2V0KGNvbnRleHQsIHByb3BzKSB7XG4gICAgY29uc3Qge1xuICAgICAgb3BlbixcbiAgICAgIGVsZW1lbnRzXG4gICAgfSA9IGNvbnRleHQ7XG4gICAgY29uc3Qge1xuICAgICAgZW5hYmxlZCA9IHRydWUsXG4gICAgICBvdmVyZmxvd1JlZixcbiAgICAgIHNjcm9sbFJlZixcbiAgICAgIG9uQ2hhbmdlOiB1bnN0YWJsZV9vbkNoYW5nZVxuICAgIH0gPSBwcm9wcztcbiAgICBjb25zdCBvbkNoYW5nZSA9IHVzZUVmZmVjdEV2ZW50KHVuc3RhYmxlX29uQ2hhbmdlKTtcbiAgICBjb25zdCBjb250cm9sbGVkU2Nyb2xsaW5nUmVmID0gQSQzKGZhbHNlKTtcbiAgICBjb25zdCBwcmV2U2Nyb2xsVG9wUmVmID0gQSQzKG51bGwpO1xuICAgIGNvbnN0IGluaXRpYWxPdmVyZmxvd1JlZiA9IEEkMyhudWxsKTtcbiAgICB5JDYoKCkgPT4ge1xuICAgICAgaWYgKCFlbmFibGVkKSByZXR1cm47XG4gICAgICBmdW5jdGlvbiBvbldoZWVsKGUyKSB7XG4gICAgICAgIGlmIChlMi5jdHJsS2V5IHx8ICFlbCB8fCBvdmVyZmxvd1JlZi5jdXJyZW50ID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZFkgPSBlMi5kZWx0YVk7XG4gICAgICAgIGNvbnN0IGlzQXRUb3AgPSBvdmVyZmxvd1JlZi5jdXJyZW50LnRvcCA+PSAtMC41O1xuICAgICAgICBjb25zdCBpc0F0Qm90dG9tID0gb3ZlcmZsb3dSZWYuY3VycmVudC5ib3R0b20gPj0gLTAuNTtcbiAgICAgICAgY29uc3QgcmVtYWluaW5nU2Nyb2xsID0gZWwuc2Nyb2xsSGVpZ2h0IC0gZWwuY2xpZW50SGVpZ2h0O1xuICAgICAgICBjb25zdCBzaWduID0gZFkgPCAwID8gLTEgOiAxO1xuICAgICAgICBjb25zdCBtZXRob2QgPSBkWSA8IDAgPyBcIm1heFwiIDogXCJtaW5cIjtcbiAgICAgICAgaWYgKGVsLnNjcm9sbEhlaWdodCA8PSBlbC5jbGllbnRIZWlnaHQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0F0VG9wICYmIGRZID4gMCB8fCAhaXNBdEJvdHRvbSAmJiBkWSA8IDApIHtcbiAgICAgICAgICBlMi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIEVuKCgpID0+IHtcbiAgICAgICAgICAgIG9uQ2hhbmdlKChkMikgPT4gZDIgKyBNYXRoW21ldGhvZF0oZFksIHJlbWFpbmluZ1Njcm9sbCAqIHNpZ24pKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICgvZmlyZWZveC9pLnRlc3QoZ2V0VXNlckFnZW50KCkpKSB7XG4gICAgICAgICAgZWwuc2Nyb2xsVG9wICs9IGRZO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBlbCA9IChzY3JvbGxSZWYgPT0gbnVsbCA/IHZvaWQgMCA6IHNjcm9sbFJlZi5jdXJyZW50KSB8fCBlbGVtZW50cy5mbG9hdGluZztcbiAgICAgIGlmIChvcGVuICYmIGVsKSB7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCBvbldoZWVsKTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICBwcmV2U2Nyb2xsVG9wUmVmLmN1cnJlbnQgPSBlbC5zY3JvbGxUb3A7XG4gICAgICAgICAgaWYgKG92ZXJmbG93UmVmLmN1cnJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaW5pdGlhbE92ZXJmbG93UmVmLmN1cnJlbnQgPSB7XG4gICAgICAgICAgICAgIC4uLm92ZXJmbG93UmVmLmN1cnJlbnRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICBwcmV2U2Nyb2xsVG9wUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgIGluaXRpYWxPdmVyZmxvd1JlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgb25XaGVlbCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwgW2VuYWJsZWQsIG9wZW4sIGVsZW1lbnRzLmZsb2F0aW5nLCBvdmVyZmxvd1JlZiwgc2Nyb2xsUmVmLCBvbkNoYW5nZV0pO1xuICAgIGNvbnN0IGZsb2F0aW5nID0gVCQ1KCgpID0+ICh7XG4gICAgICBvbktleURvd24oKSB7XG4gICAgICAgIGNvbnRyb2xsZWRTY3JvbGxpbmdSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICB9LFxuICAgICAgb25XaGVlbCgpIHtcbiAgICAgICAgY29udHJvbGxlZFNjcm9sbGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICB9LFxuICAgICAgb25Qb2ludGVyTW92ZSgpIHtcbiAgICAgICAgY29udHJvbGxlZFNjcm9sbGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICB9LFxuICAgICAgb25TY3JvbGwoKSB7XG4gICAgICAgIGNvbnN0IGVsID0gKHNjcm9sbFJlZiA9PSBudWxsID8gdm9pZCAwIDogc2Nyb2xsUmVmLmN1cnJlbnQpIHx8IGVsZW1lbnRzLmZsb2F0aW5nO1xuICAgICAgICBpZiAoIW92ZXJmbG93UmVmLmN1cnJlbnQgfHwgIWVsIHx8ICFjb250cm9sbGVkU2Nyb2xsaW5nUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXZTY3JvbGxUb3BSZWYuY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IHNjcm9sbERpZmYgPSBlbC5zY3JvbGxUb3AgLSBwcmV2U2Nyb2xsVG9wUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgaWYgKG92ZXJmbG93UmVmLmN1cnJlbnQuYm90dG9tIDwgLTAuNSAmJiBzY3JvbGxEaWZmIDwgLTEgfHwgb3ZlcmZsb3dSZWYuY3VycmVudC50b3AgPCAtMC41ICYmIHNjcm9sbERpZmYgPiAxKSB7XG4gICAgICAgICAgICBFbigoKSA9PiBvbkNoYW5nZSgoZDIpID0+IGQyICsgc2Nyb2xsRGlmZikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHByZXZTY3JvbGxUb3BSZWYuY3VycmVudCA9IGVsLnNjcm9sbFRvcDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSksIFtlbGVtZW50cy5mbG9hdGluZywgb25DaGFuZ2UsIG92ZXJmbG93UmVmLCBzY3JvbGxSZWZdKTtcbiAgICByZXR1cm4gVCQ1KCgpID0+IGVuYWJsZWQgPyB7XG4gICAgICBmbG9hdGluZ1xuICAgIH0gOiB7fSwgW2VuYWJsZWQsIGZsb2F0aW5nXSk7XG4gIH1cbiAgbGV0IHkkMiA9IEskMyh7IHN0eWxlczogdm9pZCAwLCBzZXRSZWZlcmVuY2U6ICgpID0+IHtcbiAgfSwgc2V0RmxvYXRpbmc6ICgpID0+IHtcbiAgfSwgZ2V0UmVmZXJlbmNlUHJvcHM6ICgpID0+ICh7fSksIGdldEZsb2F0aW5nUHJvcHM6ICgpID0+ICh7fSksIHNsb3Q6IHt9IH0pO1xuICB5JDIuZGlzcGxheU5hbWUgPSBcIkZsb2F0aW5nQ29udGV4dFwiO1xuICBsZXQgSCQxID0gSyQzKG51bGwpO1xuICBIJDEuZGlzcGxheU5hbWUgPSBcIlBsYWNlbWVudENvbnRleHRcIjtcbiAgZnVuY3Rpb24geGUoZTIpIHtcbiAgICByZXR1cm4gVCQ1KCgpID0+IGUyID8gdHlwZW9mIGUyID09IFwic3RyaW5nXCIgPyB7IHRvOiBlMiB9IDogZTIgOiBudWxsLCBbZTJdKTtcbiAgfVxuICBmdW5jdGlvbiB5ZSgpIHtcbiAgICByZXR1cm4geCQ0KHkkMikuc2V0UmVmZXJlbmNlO1xuICB9XG4gIGZ1bmN0aW9uIEZlKCkge1xuICAgIHJldHVybiB4JDQoeSQyKS5nZXRSZWZlcmVuY2VQcm9wcztcbiAgfVxuICBmdW5jdGlvbiBiZSgpIHtcbiAgICBsZXQgeyBnZXRGbG9hdGluZ1Byb3BzOiBlMiwgc2xvdDogdDIgfSA9IHgkNCh5JDIpO1xuICAgIHJldHVybiBxJDMoKC4uLm4yKSA9PiBPYmplY3QuYXNzaWduKHt9LCBlMiguLi5uMiksIHsgXCJkYXRhLWFuY2hvclwiOiB0Mi5hbmNob3IgfSksIFtlMiwgdDJdKTtcbiAgfVxuICBmdW5jdGlvbiBSZShlMiA9IG51bGwpIHtcbiAgICBlMiA9PT0gZmFsc2UgJiYgKGUyID0gbnVsbCksIHR5cGVvZiBlMiA9PSBcInN0cmluZ1wiICYmIChlMiA9IHsgdG86IGUyIH0pO1xuICAgIGxldCB0MiA9IHgkNChIJDEpLCBuMiA9IFQkNSgoKSA9PiBlMiwgW0pTT04uc3RyaW5naWZ5KGUyLCAocjIsIG8yKSA9PiB7XG4gICAgICB2YXIgdTI7XG4gICAgICByZXR1cm4gKHUyID0gbzIgPT0gbnVsbCA/IHZvaWQgMCA6IG8yLm91dGVySFRNTCkgIT0gbnVsbCA/IHUyIDogbzI7XG4gICAgfSldKTtcbiAgICBuJDMoKCkgPT4ge1xuICAgICAgdDIgPT0gbnVsbCB8fCB0MihuMiAhPSBudWxsID8gbjIgOiBudWxsKTtcbiAgICB9LCBbdDIsIG4yXSk7XG4gICAgbGV0IGwyID0geCQ0KHkkMik7XG4gICAgcmV0dXJuIFQkNSgoKSA9PiBbbDIuc2V0RmxvYXRpbmcsIGUyID8gbDIuc3R5bGVzIDoge31dLCBbbDIuc2V0RmxvYXRpbmcsIGUyLCBsMi5zdHlsZXNdKTtcbiAgfVxuICBsZXQgcSQxID0gNDtcbiAgZnVuY3Rpb24gTWUoeyBjaGlsZHJlbjogZTIsIGVuYWJsZWQ6IHQyID0gdHJ1ZSB9KSB7XG4gICAgbGV0IFtuMiwgbDJdID0gZCQ0KG51bGwpLCBbcjIsIG8yXSA9IGQkNCgwKSwgdTIgPSBBJDMobnVsbCksIFtmMiwgczJdID0gZCQ0KG51bGwpO1xuICAgIHBlKGYyKTtcbiAgICBsZXQgaTIgPSB0MiAmJiBuMiAhPT0gbnVsbCAmJiBmMiAhPT0gbnVsbCwgeyB0bzogRjIgPSBcImJvdHRvbVwiLCBnYXA6IEUyID0gMCwgb2Zmc2V0OiB2MiA9IDAsIHBhZGRpbmc6IGMyID0gMCwgaW5uZXI6IFAyIH0gPSBjZShuMiwgZjIpLCBbYTIsIHAyID0gXCJjZW50ZXJcIl0gPSBGMi5zcGxpdChcIiBcIik7XG4gICAgbiQzKCgpID0+IHtcbiAgICAgIGkyICYmIG8yKDApO1xuICAgIH0sIFtpMl0pO1xuICAgIGxldCB7IHJlZnM6IGIyLCBmbG9hdGluZ1N0eWxlczogdzIsIGNvbnRleHQ6IGcyIH0gPSB1c2VGbG9hdGluZyh7IG9wZW46IGkyLCBwbGFjZW1lbnQ6IGEyID09PSBcInNlbGVjdGlvblwiID8gcDIgPT09IFwiY2VudGVyXCIgPyBcImJvdHRvbVwiIDogYGJvdHRvbS0ke3AyfWAgOiBwMiA9PT0gXCJjZW50ZXJcIiA/IGAke2EyfWAgOiBgJHthMn0tJHtwMn1gLCBzdHJhdGVneTogXCJhYnNvbHV0ZVwiLCB0cmFuc2Zvcm06IGZhbHNlLCBtaWRkbGV3YXJlOiBbb2Zmc2V0KHsgbWFpbkF4aXM6IGEyID09PSBcInNlbGVjdGlvblwiID8gMCA6IEUyLCBjcm9zc0F4aXM6IHYyIH0pLCBzaGlmdCh7IHBhZGRpbmc6IGMyIH0pLCBhMiAhPT0gXCJzZWxlY3Rpb25cIiAmJiBmbGlwKHsgcGFkZGluZzogYzIgfSksIGEyID09PSBcInNlbGVjdGlvblwiICYmIFAyID8gaW5uZXIoeyAuLi5QMiwgcGFkZGluZzogYzIsIG92ZXJmbG93UmVmOiB1Miwgb2Zmc2V0OiByMiwgbWluSXRlbXNWaXNpYmxlOiBxJDEsIHJlZmVyZW5jZU92ZXJmbG93VGhyZXNob2xkOiBjMiwgb25GYWxsYmFja0NoYW5nZShoMikge1xuICAgICAgdmFyIE8yLCBXMjtcbiAgICAgIGlmICghaDIpIHJldHVybjtcbiAgICAgIGxldCBkMiA9IGcyLmVsZW1lbnRzLmZsb2F0aW5nO1xuICAgICAgaWYgKCFkMikgcmV0dXJuO1xuICAgICAgbGV0IFQyID0gcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKGQyKS5zY3JvbGxQYWRkaW5nQm90dG9tKSB8fCAwLCAkMiA9IE1hdGgubWluKHEkMSwgZDIuY2hpbGRFbGVtZW50Q291bnQpLCBMMiA9IDAsIE4yID0gMDtcbiAgICAgIGZvciAobGV0IG0yIG9mIChXMiA9IChPMiA9IGcyLmVsZW1lbnRzLmZsb2F0aW5nKSA9PSBudWxsID8gdm9pZCAwIDogTzIuY2hpbGROb2RlcykgIT0gbnVsbCA/IFcyIDogW10pIGlmIChtMiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGxldCB4MiA9IG0yLm9mZnNldFRvcCwgazIgPSB4MiArIG0yLmNsaWVudEhlaWdodCArIFQyLCBTMiA9IGQyLnNjcm9sbFRvcCwgVTIgPSBTMiArIGQyLmNsaWVudEhlaWdodDtcbiAgICAgICAgaWYgKHgyID49IFMyICYmIGsyIDw9IFUyKSAkMi0tO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBOMiA9IE1hdGgubWF4KDAsIE1hdGgubWluKGsyLCBVMikgLSBNYXRoLm1heCh4MiwgUzIpKSwgTDIgPSBtMi5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICQyID49IDEgJiYgbzIoKG0yKSA9PiB7XG4gICAgICAgIGxldCB4MiA9IEwyICogJDIgLSBOMiArIFQyO1xuICAgICAgICByZXR1cm4gbTIgPj0geDIgPyBtMiA6IHgyO1xuICAgICAgfSk7XG4gICAgfSB9KSA6IG51bGwsIHNpemUoeyBwYWRkaW5nOiBjMiwgYXBwbHkoeyBhdmFpbGFibGVXaWR0aDogaDIsIGF2YWlsYWJsZUhlaWdodDogZDIsIGVsZW1lbnRzOiBUMiB9KSB7XG4gICAgICBPYmplY3QuYXNzaWduKFQyLmZsb2F0aW5nLnN0eWxlLCB7IG92ZXJmbG93OiBcImF1dG9cIiwgbWF4V2lkdGg6IGAke2gyfXB4YCwgbWF4SGVpZ2h0OiBgbWluKHZhcigtLWFuY2hvci1tYXgtaGVpZ2h0LCAxMDB2aCksICR7ZDJ9cHgpYCB9KTtcbiAgICB9IH0pXS5maWx0ZXIoQm9vbGVhbiksIHdoaWxlRWxlbWVudHNNb3VudGVkOiBhdXRvVXBkYXRlIH0pLCBbSTIgPSBhMiwgQjIgPSBwMl0gPSBnMi5wbGFjZW1lbnQuc3BsaXQoXCItXCIpO1xuICAgIGEyID09PSBcInNlbGVjdGlvblwiICYmIChJMiA9IFwic2VsZWN0aW9uXCIpO1xuICAgIGxldCBHMiA9IFQkNSgoKSA9PiAoeyBhbmNob3I6IFtJMiwgQjJdLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKSB9KSwgW0kyLCBCMl0pLCBLMiA9IHVzZUlubmVyT2Zmc2V0KGcyLCB7IG92ZXJmbG93UmVmOiB1Miwgb25DaGFuZ2U6IG8yIH0pLCB7IGdldFJlZmVyZW5jZVByb3BzOiBRMiwgZ2V0RmxvYXRpbmdQcm9wczogWDIgfSA9IHVzZUludGVyYWN0aW9ucyhbSzJdKSwgWTIgPSBvJDQoKGgyKSA9PiB7XG4gICAgICBzMihoMiksIGIyLnNldEZsb2F0aW5nKGgyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gXyQ0KEgkMS5Qcm92aWRlciwgeyB2YWx1ZTogbDIgfSwgXyQ0KHkkMi5Qcm92aWRlciwgeyB2YWx1ZTogeyBzZXRGbG9hdGluZzogWTIsIHNldFJlZmVyZW5jZTogYjIuc2V0UmVmZXJlbmNlLCBzdHlsZXM6IHcyLCBnZXRSZWZlcmVuY2VQcm9wczogUTIsIGdldEZsb2F0aW5nUHJvcHM6IFgyLCBzbG90OiBHMiB9IH0sIGUyKSk7XG4gIH1cbiAgZnVuY3Rpb24gcGUoZTIpIHtcbiAgICBuJDMoKCkgPT4ge1xuICAgICAgaWYgKCFlMikgcmV0dXJuO1xuICAgICAgbGV0IHQyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICBsZXQgbjIgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlMikubWF4SGVpZ2h0LCBsMiA9IHBhcnNlRmxvYXQobjIpO1xuICAgICAgICBpZiAoaXNOYU4obDIpKSByZXR1cm47XG4gICAgICAgIGxldCByMiA9IHBhcnNlSW50KG4yKTtcbiAgICAgICAgaXNOYU4ocjIpIHx8IGwyICE9PSByMiAmJiAoZTIuc3R5bGUubWF4SGVpZ2h0ID0gYCR7TWF0aC5jZWlsKGwyKX1weGApO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdDIub2JzZXJ2ZShlMiwgeyBhdHRyaWJ1dGVzOiB0cnVlLCBhdHRyaWJ1dGVGaWx0ZXI6IFtcInN0eWxlXCJdIH0pLCAoKSA9PiB7XG4gICAgICAgIHQyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIH07XG4gICAgfSwgW2UyXSk7XG4gIH1cbiAgZnVuY3Rpb24gY2UoZTIsIHQyKSB7XG4gICAgdmFyIG8yLCB1MiwgZjI7XG4gICAgbGV0IG4yID0gVigobzIgPSBlMiA9PSBudWxsID8gdm9pZCAwIDogZTIuZ2FwKSAhPSBudWxsID8gbzIgOiBcInZhcigtLWFuY2hvci1nYXAsIDApXCIsIHQyKSwgbDIgPSBWKCh1MiA9IGUyID09IG51bGwgPyB2b2lkIDAgOiBlMi5vZmZzZXQpICE9IG51bGwgPyB1MiA6IFwidmFyKC0tYW5jaG9yLW9mZnNldCwgMClcIiwgdDIpLCByMiA9IFYoKGYyID0gZTIgPT0gbnVsbCA/IHZvaWQgMCA6IGUyLnBhZGRpbmcpICE9IG51bGwgPyBmMiA6IFwidmFyKC0tYW5jaG9yLXBhZGRpbmcsIDApXCIsIHQyKTtcbiAgICByZXR1cm4geyAuLi5lMiwgZ2FwOiBuMiwgb2Zmc2V0OiBsMiwgcGFkZGluZzogcjIgfTtcbiAgfVxuICBmdW5jdGlvbiBWKGUyLCB0MiwgbjIgPSB2b2lkIDApIHtcbiAgICBsZXQgbDIgPSBwJDIoKSwgcjIgPSBvJDQoKHMyLCBpMikgPT4ge1xuICAgICAgaWYgKHMyID09IG51bGwpIHJldHVybiBbbjIsIG51bGxdO1xuICAgICAgaWYgKHR5cGVvZiBzMiA9PSBcIm51bWJlclwiKSByZXR1cm4gW3MyLCBudWxsXTtcbiAgICAgIGlmICh0eXBlb2YgczIgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoIWkyKSByZXR1cm4gW24yLCBudWxsXTtcbiAgICAgICAgbGV0IEYyID0gSiQyKHMyLCBpMik7XG4gICAgICAgIHJldHVybiBbRjIsIChFMikgPT4ge1xuICAgICAgICAgIGxldCB2MiA9IEQoczIpO1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjMiA9IHYyLm1hcCgoUDIpID0+IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGkyKS5nZXRQcm9wZXJ0eVZhbHVlKFAyKSk7XG4gICAgICAgICAgICBsMi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gUDIoKSB7XG4gICAgICAgICAgICAgIGwyLm5leHRGcmFtZShQMik7XG4gICAgICAgICAgICAgIGxldCBhMiA9IGZhbHNlO1xuICAgICAgICAgICAgICBmb3IgKGxldCBbYjIsIHcyXSBvZiB2Mi5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgZzIgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShpMikuZ2V0UHJvcGVydHlWYWx1ZSh3Mik7XG4gICAgICAgICAgICAgICAgaWYgKGMyW2IyXSAhPT0gZzIpIHtcbiAgICAgICAgICAgICAgICAgIGMyW2IyXSA9IGcyLCBhMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFhMikgcmV0dXJuO1xuICAgICAgICAgICAgICBsZXQgcDIgPSBKJDIoczIsIGkyKTtcbiAgICAgICAgICAgICAgRjIgIT09IHAyICYmIChFMihwMiksIEYyID0gcDIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBsMi5kaXNwb3NlO1xuICAgICAgICB9XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbbjIsIG51bGxdO1xuICAgIH0pLCBvMiA9IFQkNSgoKSA9PiByMihlMiwgdDIpWzBdLCBbZTIsIHQyXSksIFt1MiA9IG8yLCBmMl0gPSBkJDQoKTtcbiAgICByZXR1cm4gbiQzKCgpID0+IHtcbiAgICAgIGxldCBbczIsIGkyXSA9IHIyKGUyLCB0Mik7XG4gICAgICBpZiAoZjIoczIpLCAhIWkyKSByZXR1cm4gaTIoZjIpO1xuICAgIH0sIFtlMiwgdDJdKSwgdTI7XG4gIH1cbiAgZnVuY3Rpb24gRChlMikge1xuICAgIGxldCB0MiA9IC92YXJcXCgoLiopXFwpLy5leGVjKGUyKTtcbiAgICBpZiAodDIpIHtcbiAgICAgIGxldCBuMiA9IHQyWzFdLmluZGV4T2YoXCIsXCIpO1xuICAgICAgaWYgKG4yID09PSAtMSkgcmV0dXJuIFt0MlsxXV07XG4gICAgICBsZXQgbDIgPSB0MlsxXS5zbGljZSgwLCBuMikudHJpbSgpLCByMiA9IHQyWzFdLnNsaWNlKG4yICsgMSkudHJpbSgpO1xuICAgICAgcmV0dXJuIHIyID8gW2wyLCAuLi5EKHIyKV0gOiBbbDJdO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH1cbiAgZnVuY3Rpb24gSiQyKGUyLCB0Mikge1xuICAgIGxldCBuMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdDIuYXBwZW5kQ2hpbGQobjIpLCBuMi5zdHlsZS5zZXRQcm9wZXJ0eShcIm1hcmdpbi10b3BcIiwgXCIwcHhcIiwgXCJpbXBvcnRhbnRcIiksIG4yLnN0eWxlLnNldFByb3BlcnR5KFwibWFyZ2luLXRvcFwiLCBlMiwgXCJpbXBvcnRhbnRcIik7XG4gICAgbGV0IGwyID0gcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuMikubWFyZ2luVG9wKSB8fCAwO1xuICAgIHJldHVybiB0Mi5yZW1vdmVDaGlsZChuMiksIGwyO1xuICB9XG4gIGxldCBuID0gSyQzKG51bGwpO1xuICBuLmRpc3BsYXlOYW1lID0gXCJPcGVuQ2xvc2VkQ29udGV4dFwiO1xuICB2YXIgaSQyID0gKChlMikgPT4gKGUyW2UyLk9wZW4gPSAxXSA9IFwiT3BlblwiLCBlMltlMi5DbG9zZWQgPSAyXSA9IFwiQ2xvc2VkXCIsIGUyW2UyLkNsb3NpbmcgPSA0XSA9IFwiQ2xvc2luZ1wiLCBlMltlMi5PcGVuaW5nID0gOF0gPSBcIk9wZW5pbmdcIiwgZTIpKShpJDIgfHwge30pO1xuICBmdW5jdGlvbiB1JDIoKSB7XG4gICAgcmV0dXJuIHgkNChuKTtcbiAgfVxuICBmdW5jdGlvbiBjJDMoeyB2YWx1ZTogbzIsIGNoaWxkcmVuOiB0MiB9KSB7XG4gICAgcmV0dXJuIFJuLmNyZWF0ZUVsZW1lbnQobi5Qcm92aWRlciwgeyB2YWx1ZTogbzIgfSwgdDIpO1xuICB9XG4gIHZhciB3aXRoU2VsZWN0b3IgPSB7IGV4cG9ydHM6IHt9IH07XG4gIHZhciB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9wcm9kdWN0aW9uID0ge307XG4gIC8qKlxuICAgKiBAbGljZW5zZSBSZWFjdFxuICAgKiB1c2Utc3luYy1leHRlcm5hbC1zdG9yZS13aXRoLXNlbGVjdG9yLnByb2R1Y3Rpb24uanNcbiAgICpcbiAgICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gICAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAgICovXG4gIHZhciBoYXNSZXF1aXJlZFVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX3Byb2R1Y3Rpb247XG4gIGZ1bmN0aW9uIHJlcXVpcmVVc2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9wcm9kdWN0aW9uKCkge1xuICAgIGlmIChoYXNSZXF1aXJlZFVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX3Byb2R1Y3Rpb24pIHJldHVybiB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9wcm9kdWN0aW9uO1xuICAgIGhhc1JlcXVpcmVkVXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3JfcHJvZHVjdGlvbiA9IDE7XG4gICAgdmFyIFJlYWN0ID0gdCQ0O1xuICAgIGZ1bmN0aW9uIGlzKHgyLCB5Mikge1xuICAgICAgcmV0dXJuIHgyID09PSB5MiAmJiAoMCAhPT0geDIgfHwgMSAvIHgyID09PSAxIC8geTIpIHx8IHgyICE9PSB4MiAmJiB5MiAhPT0geTI7XG4gICAgfVxuICAgIHZhciBvYmplY3RJcyA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE9iamVjdC5pcyA/IE9iamVjdC5pcyA6IGlzLCB1c2VTeW5jRXh0ZXJuYWxTdG9yZSA9IFJlYWN0LnVzZVN5bmNFeHRlcm5hbFN0b3JlLCB1c2VSZWYgPSBSZWFjdC51c2VSZWYsIHVzZUVmZmVjdCA9IFJlYWN0LnVzZUVmZmVjdCwgdXNlTWVtbyA9IFJlYWN0LnVzZU1lbW8sIHVzZURlYnVnVmFsdWUgPSBSZWFjdC51c2VEZWJ1Z1ZhbHVlO1xuICAgIHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX3Byb2R1Y3Rpb24udXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3IgPSBmdW5jdGlvbihzdWJzY3JpYmUsIGdldFNuYXBzaG90LCBnZXRTZXJ2ZXJTbmFwc2hvdCwgc2VsZWN0b3IsIGlzRXF1YWwpIHtcbiAgICAgIHZhciBpbnN0UmVmID0gdXNlUmVmKG51bGwpO1xuICAgICAgaWYgKG51bGwgPT09IGluc3RSZWYuY3VycmVudCkge1xuICAgICAgICB2YXIgaW5zdCA9IHsgaGFzVmFsdWU6IGZhbHNlLCB2YWx1ZTogbnVsbCB9O1xuICAgICAgICBpbnN0UmVmLmN1cnJlbnQgPSBpbnN0O1xuICAgICAgfSBlbHNlIGluc3QgPSBpbnN0UmVmLmN1cnJlbnQ7XG4gICAgICBpbnN0UmVmID0gdXNlTWVtbyhcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZnVuY3Rpb24gbWVtb2l6ZWRTZWxlY3RvcihuZXh0U25hcHNob3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzTWVtbykge1xuICAgICAgICAgICAgICBoYXNNZW1vID0gdHJ1ZTtcbiAgICAgICAgICAgICAgbWVtb2l6ZWRTbmFwc2hvdCA9IG5leHRTbmFwc2hvdDtcbiAgICAgICAgICAgICAgbmV4dFNuYXBzaG90ID0gc2VsZWN0b3IobmV4dFNuYXBzaG90KTtcbiAgICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gaXNFcXVhbCAmJiBpbnN0Lmhhc1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRTZWxlY3Rpb24gPSBpbnN0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChpc0VxdWFsKGN1cnJlbnRTZWxlY3Rpb24sIG5leHRTbmFwc2hvdCkpXG4gICAgICAgICAgICAgICAgICByZXR1cm4gbWVtb2l6ZWRTZWxlY3Rpb24gPSBjdXJyZW50U2VsZWN0aW9uO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBtZW1vaXplZFNlbGVjdGlvbiA9IG5leHRTbmFwc2hvdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRTZWxlY3Rpb24gPSBtZW1vaXplZFNlbGVjdGlvbjtcbiAgICAgICAgICAgIGlmIChvYmplY3RJcyhtZW1vaXplZFNuYXBzaG90LCBuZXh0U25hcHNob3QpKSByZXR1cm4gY3VycmVudFNlbGVjdGlvbjtcbiAgICAgICAgICAgIHZhciBuZXh0U2VsZWN0aW9uID0gc2VsZWN0b3IobmV4dFNuYXBzaG90KTtcbiAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGlzRXF1YWwgJiYgaXNFcXVhbChjdXJyZW50U2VsZWN0aW9uLCBuZXh0U2VsZWN0aW9uKSlcbiAgICAgICAgICAgICAgcmV0dXJuIG1lbW9pemVkU25hcHNob3QgPSBuZXh0U25hcHNob3QsIGN1cnJlbnRTZWxlY3Rpb247XG4gICAgICAgICAgICBtZW1vaXplZFNuYXBzaG90ID0gbmV4dFNuYXBzaG90O1xuICAgICAgICAgICAgcmV0dXJuIG1lbW9pemVkU2VsZWN0aW9uID0gbmV4dFNlbGVjdGlvbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGhhc01lbW8gPSBmYWxzZSwgbWVtb2l6ZWRTbmFwc2hvdCwgbWVtb2l6ZWRTZWxlY3Rpb24sIG1heWJlR2V0U2VydmVyU25hcHNob3QgPSB2b2lkIDAgPT09IGdldFNlcnZlclNuYXBzaG90ID8gbnVsbCA6IGdldFNlcnZlclNuYXBzaG90O1xuICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1lbW9pemVkU2VsZWN0b3IoZ2V0U25hcHNob3QoKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbnVsbCA9PT0gbWF5YmVHZXRTZXJ2ZXJTbmFwc2hvdCA/IHZvaWQgMCA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gbWVtb2l6ZWRTZWxlY3RvcihtYXliZUdldFNlcnZlclNuYXBzaG90KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIF07XG4gICAgICAgIH0sXG4gICAgICAgIFtnZXRTbmFwc2hvdCwgZ2V0U2VydmVyU25hcHNob3QsIHNlbGVjdG9yLCBpc0VxdWFsXVxuICAgICAgKTtcbiAgICAgIHZhciB2YWx1ZSA9IHVzZVN5bmNFeHRlcm5hbFN0b3JlKHN1YnNjcmliZSwgaW5zdFJlZlswXSwgaW5zdFJlZlsxXSk7XG4gICAgICB1c2VFZmZlY3QoXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGluc3QuaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgIGluc3QudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgW3ZhbHVlXVxuICAgICAgKTtcbiAgICAgIHVzZURlYnVnVmFsdWUodmFsdWUpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgcmV0dXJuIHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX3Byb2R1Y3Rpb247XG4gIH1cbiAgdmFyIHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX2RldmVsb3BtZW50ID0ge307XG4gIC8qKlxuICAgKiBAbGljZW5zZSBSZWFjdFxuICAgKiB1c2Utc3luYy1leHRlcm5hbC1zdG9yZS13aXRoLXNlbGVjdG9yLmRldmVsb3BtZW50LmpzXG4gICAqXG4gICAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gICAqXG4gICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICAgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gICAqL1xuICB2YXIgaGFzUmVxdWlyZWRVc2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9kZXZlbG9wbWVudDtcbiAgZnVuY3Rpb24gcmVxdWlyZVVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX2RldmVsb3BtZW50KCkge1xuICAgIGlmIChoYXNSZXF1aXJlZFVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX2RldmVsb3BtZW50KSByZXR1cm4gdXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3JfZGV2ZWxvcG1lbnQ7XG4gICAgaGFzUmVxdWlyZWRVc2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9kZXZlbG9wbWVudCA9IDE7XG4gICAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIGZ1bmN0aW9uKCkge1xuICAgICAgZnVuY3Rpb24gaXMoeDIsIHkyKSB7XG4gICAgICAgIHJldHVybiB4MiA9PT0geTIgJiYgKDAgIT09IHgyIHx8IDEgLyB4MiA9PT0gMSAvIHkyKSB8fCB4MiAhPT0geDIgJiYgeTIgIT09IHkyO1xuICAgICAgfVxuICAgICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0ICYmIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQoRXJyb3IoKSk7XG4gICAgICB2YXIgUmVhY3QgPSB0JDQsIG9iamVjdElzID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgT2JqZWN0LmlzID8gT2JqZWN0LmlzIDogaXMsIHVzZVN5bmNFeHRlcm5hbFN0b3JlID0gUmVhY3QudXNlU3luY0V4dGVybmFsU3RvcmUsIHVzZVJlZiA9IFJlYWN0LnVzZVJlZiwgdXNlRWZmZWN0ID0gUmVhY3QudXNlRWZmZWN0LCB1c2VNZW1vID0gUmVhY3QudXNlTWVtbywgdXNlRGVidWdWYWx1ZSA9IFJlYWN0LnVzZURlYnVnVmFsdWU7XG4gICAgICB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9kZXZlbG9wbWVudC51c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3RvciA9IGZ1bmN0aW9uKHN1YnNjcmliZSwgZ2V0U25hcHNob3QsIGdldFNlcnZlclNuYXBzaG90LCBzZWxlY3RvciwgaXNFcXVhbCkge1xuICAgICAgICB2YXIgaW5zdFJlZiA9IHVzZVJlZihudWxsKTtcbiAgICAgICAgaWYgKG51bGwgPT09IGluc3RSZWYuY3VycmVudCkge1xuICAgICAgICAgIHZhciBpbnN0ID0geyBoYXNWYWx1ZTogZmFsc2UsIHZhbHVlOiBudWxsIH07XG4gICAgICAgICAgaW5zdFJlZi5jdXJyZW50ID0gaW5zdDtcbiAgICAgICAgfSBlbHNlIGluc3QgPSBpbnN0UmVmLmN1cnJlbnQ7XG4gICAgICAgIGluc3RSZWYgPSB1c2VNZW1vKFxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gbWVtb2l6ZWRTZWxlY3RvcihuZXh0U25hcHNob3QpIHtcbiAgICAgICAgICAgICAgaWYgKCFoYXNNZW1vKSB7XG4gICAgICAgICAgICAgICAgaGFzTWVtbyA9IHRydWU7XG4gICAgICAgICAgICAgICAgbWVtb2l6ZWRTbmFwc2hvdCA9IG5leHRTbmFwc2hvdDtcbiAgICAgICAgICAgICAgICBuZXh0U25hcHNob3QgPSBzZWxlY3RvcihuZXh0U25hcHNob3QpO1xuICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGlzRXF1YWwgJiYgaW5zdC5oYXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRTZWxlY3Rpb24gPSBpbnN0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgaWYgKGlzRXF1YWwoY3VycmVudFNlbGVjdGlvbiwgbmV4dFNuYXBzaG90KSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lbW9pemVkU2VsZWN0aW9uID0gY3VycmVudFNlbGVjdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lbW9pemVkU2VsZWN0aW9uID0gbmV4dFNuYXBzaG90O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGN1cnJlbnRTZWxlY3Rpb24gPSBtZW1vaXplZFNlbGVjdGlvbjtcbiAgICAgICAgICAgICAgaWYgKG9iamVjdElzKG1lbW9pemVkU25hcHNob3QsIG5leHRTbmFwc2hvdCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRTZWxlY3Rpb247XG4gICAgICAgICAgICAgIHZhciBuZXh0U2VsZWN0aW9uID0gc2VsZWN0b3IobmV4dFNuYXBzaG90KTtcbiAgICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gaXNFcXVhbCAmJiBpc0VxdWFsKGN1cnJlbnRTZWxlY3Rpb24sIG5leHRTZWxlY3Rpb24pKVxuICAgICAgICAgICAgICAgIHJldHVybiBtZW1vaXplZFNuYXBzaG90ID0gbmV4dFNuYXBzaG90LCBjdXJyZW50U2VsZWN0aW9uO1xuICAgICAgICAgICAgICBtZW1vaXplZFNuYXBzaG90ID0gbmV4dFNuYXBzaG90O1xuICAgICAgICAgICAgICByZXR1cm4gbWVtb2l6ZWRTZWxlY3Rpb24gPSBuZXh0U2VsZWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhhc01lbW8gPSBmYWxzZSwgbWVtb2l6ZWRTbmFwc2hvdCwgbWVtb2l6ZWRTZWxlY3Rpb24sIG1heWJlR2V0U2VydmVyU25hcHNob3QgPSB2b2lkIDAgPT09IGdldFNlcnZlclNuYXBzaG90ID8gbnVsbCA6IGdldFNlcnZlclNuYXBzaG90O1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lbW9pemVkU2VsZWN0b3IoZ2V0U25hcHNob3QoKSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG51bGwgPT09IG1heWJlR2V0U2VydmVyU25hcHNob3QgPyB2b2lkIDAgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVtb2l6ZWRTZWxlY3RvcihtYXliZUdldFNlcnZlclNuYXBzaG90KCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgW2dldFNuYXBzaG90LCBnZXRTZXJ2ZXJTbmFwc2hvdCwgc2VsZWN0b3IsIGlzRXF1YWxdXG4gICAgICAgICk7XG4gICAgICAgIHZhciB2YWx1ZSA9IHVzZVN5bmNFeHRlcm5hbFN0b3JlKHN1YnNjcmliZSwgaW5zdFJlZlswXSwgaW5zdFJlZlsxXSk7XG4gICAgICAgIHVzZUVmZmVjdChcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGluc3QuaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgaW5zdC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgW3ZhbHVlXVxuICAgICAgICApO1xuICAgICAgICB1c2VEZWJ1Z1ZhbHVlKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiYgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wICYmIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcChFcnJvcigpKTtcbiAgICB9KCk7XG4gICAgcmV0dXJuIHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yX2RldmVsb3BtZW50O1xuICB9XG4gIHZhciBoYXNSZXF1aXJlZFdpdGhTZWxlY3RvcjtcbiAgZnVuY3Rpb24gcmVxdWlyZVdpdGhTZWxlY3RvcigpIHtcbiAgICBpZiAoaGFzUmVxdWlyZWRXaXRoU2VsZWN0b3IpIHJldHVybiB3aXRoU2VsZWN0b3IuZXhwb3J0cztcbiAgICBoYXNSZXF1aXJlZFdpdGhTZWxlY3RvciA9IDE7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgd2l0aFNlbGVjdG9yLmV4cG9ydHMgPSByZXF1aXJlVXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3JfcHJvZHVjdGlvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aXRoU2VsZWN0b3IuZXhwb3J0cyA9IHJlcXVpcmVVc2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3Rvcl9kZXZlbG9wbWVudCgpO1xuICAgIH1cbiAgICByZXR1cm4gd2l0aFNlbGVjdG9yLmV4cG9ydHM7XG4gIH1cbiAgdmFyIHdpdGhTZWxlY3RvckV4cG9ydHMgPSByZXF1aXJlV2l0aFNlbGVjdG9yKCk7XG4gIHZhciBmJDEgPSAodDIsIGUyLCByMikgPT4ge1xuICAgIGlmICghZTIuaGFzKHQyKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IFwiICsgcjIpO1xuICB9O1xuICB2YXIgYSQzID0gKHQyLCBlMiwgcjIpID0+IChmJDEodDIsIGUyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpLCByMiA/IHIyLmNhbGwodDIpIDogZTIuZ2V0KHQyKSksIGwkMiA9ICh0MiwgZTIsIHIyKSA9PiB7XG4gICAgaWYgKGUyLmhhcyh0MikpIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gICAgZTIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gZTIuYWRkKHQyKSA6IGUyLnNldCh0MiwgcjIpO1xuICB9LCBjJDIgPSAodDIsIGUyLCByMiwgbjIpID0+IChmJDEodDIsIGUyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIiksIGUyLnNldCh0MiwgcjIpLCByMik7XG4gIHZhciBpJDEsIHMkNCwgbyQxO1xuICBjbGFzcyBtIHtcbiAgICBjb25zdHJ1Y3RvcihlMikge1xuICAgICAgbCQyKHRoaXMsIGkkMSwge30pO1xuICAgICAgbCQyKHRoaXMsIHMkNCwgbmV3IGEkNygoKSA9PiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKSk7XG4gICAgICBsJDIodGhpcywgbyQxLCAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKTtcbiAgICAgIGMkMih0aGlzLCBpJDEsIGUyKTtcbiAgICB9XG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgcmV0dXJuIGEkMyh0aGlzLCBpJDEpO1xuICAgIH1cbiAgICBzdWJzY3JpYmUoZTIsIHIyKSB7XG4gICAgICBsZXQgbjIgPSB7IHNlbGVjdG9yOiBlMiwgY2FsbGJhY2s6IHIyLCBjdXJyZW50OiBlMihhJDModGhpcywgaSQxKSkgfTtcbiAgICAgIHJldHVybiBhJDModGhpcywgbyQxKS5hZGQobjIpLCAoKSA9PiB7XG4gICAgICAgIGEkMyh0aGlzLCBvJDEpLmRlbGV0ZShuMik7XG4gICAgICB9O1xuICAgIH1cbiAgICBvbihlMiwgcjIpIHtcbiAgICAgIHJldHVybiBhJDModGhpcywgcyQ0KS5nZXQoZTIpLmFkZChyMiksICgpID0+IHtcbiAgICAgICAgYSQzKHRoaXMsIHMkNCkuZ2V0KGUyKS5kZWxldGUocjIpO1xuICAgICAgfTtcbiAgICB9XG4gICAgc2VuZChlMikge1xuICAgICAgYyQyKHRoaXMsIGkkMSwgdGhpcy5yZWR1Y2UoYSQzKHRoaXMsIGkkMSksIGUyKSk7XG4gICAgICBmb3IgKGxldCByMiBvZiBhJDModGhpcywgbyQxKSkge1xuICAgICAgICBsZXQgbjIgPSByMi5zZWxlY3RvcihhJDModGhpcywgaSQxKSk7XG4gICAgICAgIGgkMShyMi5jdXJyZW50LCBuMikgfHwgKHIyLmN1cnJlbnQgPSBuMiwgcjIuY2FsbGJhY2sobjIpKTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IHIyIG9mIGEkMyh0aGlzLCBzJDQpLmdldChlMi50eXBlKSkgcjIoYSQzKHRoaXMsIGkkMSksIGUyKTtcbiAgICB9XG4gIH1cbiAgaSQxID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksIHMkNCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBvJDEgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbiAgZnVuY3Rpb24gaCQxKHQyLCBlMikge1xuICAgIHJldHVybiBPYmplY3QuaXModDIsIGUyKSA/IHRydWUgOiB0eXBlb2YgdDIgIT0gXCJvYmplY3RcIiB8fCB0MiA9PT0gbnVsbCB8fCB0eXBlb2YgZTIgIT0gXCJvYmplY3RcIiB8fCBlMiA9PT0gbnVsbCA/IGZhbHNlIDogQXJyYXkuaXNBcnJheSh0MikgJiYgQXJyYXkuaXNBcnJheShlMikgPyB0Mi5sZW5ndGggIT09IGUyLmxlbmd0aCA/IGZhbHNlIDogdSQxKHQyW1N5bWJvbC5pdGVyYXRvcl0oKSwgZTJbU3ltYm9sLml0ZXJhdG9yXSgpKSA6IHQyIGluc3RhbmNlb2YgTWFwICYmIGUyIGluc3RhbmNlb2YgTWFwIHx8IHQyIGluc3RhbmNlb2YgU2V0ICYmIGUyIGluc3RhbmNlb2YgU2V0ID8gdDIuc2l6ZSAhPT0gZTIuc2l6ZSA/IGZhbHNlIDogdSQxKHQyLmVudHJpZXMoKSwgZTIuZW50cmllcygpKSA6IFMkMih0MikgJiYgUyQyKGUyKSA/IHUkMShPYmplY3QuZW50cmllcyh0MilbU3ltYm9sLml0ZXJhdG9yXSgpLCBPYmplY3QuZW50cmllcyhlMilbU3ltYm9sLml0ZXJhdG9yXSgpKSA6IGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIHUkMSh0MiwgZTIpIHtcbiAgICBkbyB7XG4gICAgICBsZXQgcjIgPSB0Mi5uZXh0KCksIG4yID0gZTIubmV4dCgpO1xuICAgICAgaWYgKHIyLmRvbmUgJiYgbjIuZG9uZSkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAocjIuZG9uZSB8fCBuMi5kb25lIHx8ICFPYmplY3QuaXMocjIudmFsdWUsIG4yLnZhbHVlKSkgcmV0dXJuIGZhbHNlO1xuICAgIH0gd2hpbGUgKHRydWUpO1xuICB9XG4gIGZ1bmN0aW9uIFMkMih0Mikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodDIpICE9PSBcIltvYmplY3QgT2JqZWN0XVwiKSByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGUyID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHQyKTtcbiAgICByZXR1cm4gZTIgPT09IG51bGwgfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKGUyKSA9PT0gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiBnJDEodDIpIHtcbiAgICBsZXQgW2UyLCByMl0gPSB0MigpLCBuMiA9IG8kNSgpO1xuICAgIHJldHVybiAoLi4uYjIpID0+IHtcbiAgICAgIGUyKC4uLmIyKSwgbjIuZGlzcG9zZSgpLCBuMi5taWNyb1Rhc2socjIpO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gUyQxKGUyLCBuMiwgcjIgPSBoJDEpIHtcbiAgICByZXR1cm4gd2l0aFNlbGVjdG9yRXhwb3J0cy51c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3RvcihvJDQoKGkyKSA9PiBlMi5zdWJzY3JpYmUocyQzLCBpMikpLCBvJDQoKCkgPT4gZTIuc3RhdGUpLCBvJDQoKCkgPT4gZTIuc3RhdGUpLCBvJDQobjIpLCByMik7XG4gIH1cbiAgZnVuY3Rpb24gcyQzKGUyKSB7XG4gICAgcmV0dXJuIGUyO1xuICB9XG4gIGZ1bmN0aW9uIHUobDIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIG9iamVjdDogXCIgKyBsMik7XG4gIH1cbiAgdmFyIGMkMSA9ICgoaTIpID0+IChpMltpMi5GaXJzdCA9IDBdID0gXCJGaXJzdFwiLCBpMltpMi5QcmV2aW91cyA9IDFdID0gXCJQcmV2aW91c1wiLCBpMltpMi5OZXh0ID0gMl0gPSBcIk5leHRcIiwgaTJbaTIuTGFzdCA9IDNdID0gXCJMYXN0XCIsIGkyW2kyLlNwZWNpZmljID0gNF0gPSBcIlNwZWNpZmljXCIsIGkyW2kyLk5vdGhpbmcgPSA1XSA9IFwiTm90aGluZ1wiLCBpMikpKGMkMSB8fCB7fSk7XG4gIGZ1bmN0aW9uIGYobDIsIG4yKSB7XG4gICAgbGV0IHQyID0gbjIucmVzb2x2ZUl0ZW1zKCk7XG4gICAgaWYgKHQyLmxlbmd0aCA8PSAwKSByZXR1cm4gbnVsbDtcbiAgICBsZXQgcjIgPSBuMi5yZXNvbHZlQWN0aXZlSW5kZXgoKSwgczIgPSByMiAhPSBudWxsID8gcjIgOiAtMTtcbiAgICBzd2l0Y2ggKGwyLmZvY3VzKSB7XG4gICAgICBjYXNlIDA6IHtcbiAgICAgICAgZm9yIChsZXQgZTIgPSAwOyBlMiA8IHQyLmxlbmd0aDsgKytlMikgaWYgKCFuMi5yZXNvbHZlRGlzYWJsZWQodDJbZTJdLCBlMiwgdDIpKSByZXR1cm4gZTI7XG4gICAgICAgIHJldHVybiByMjtcbiAgICAgIH1cbiAgICAgIGNhc2UgMToge1xuICAgICAgICBzMiA9PT0gLTEgJiYgKHMyID0gdDIubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgZTIgPSBzMiAtIDE7IGUyID49IDA7IC0tZTIpIGlmICghbjIucmVzb2x2ZURpc2FibGVkKHQyW2UyXSwgZTIsIHQyKSkgcmV0dXJuIGUyO1xuICAgICAgICByZXR1cm4gcjI7XG4gICAgICB9XG4gICAgICBjYXNlIDI6IHtcbiAgICAgICAgZm9yIChsZXQgZTIgPSBzMiArIDE7IGUyIDwgdDIubGVuZ3RoOyArK2UyKSBpZiAoIW4yLnJlc29sdmVEaXNhYmxlZCh0MltlMl0sIGUyLCB0MikpIHJldHVybiBlMjtcbiAgICAgICAgcmV0dXJuIHIyO1xuICAgICAgfVxuICAgICAgY2FzZSAzOiB7XG4gICAgICAgIGZvciAobGV0IGUyID0gdDIubGVuZ3RoIC0gMTsgZTIgPj0gMDsgLS1lMikgaWYgKCFuMi5yZXNvbHZlRGlzYWJsZWQodDJbZTJdLCBlMiwgdDIpKSByZXR1cm4gZTI7XG4gICAgICAgIHJldHVybiByMjtcbiAgICAgIH1cbiAgICAgIGNhc2UgNDoge1xuICAgICAgICBmb3IgKGxldCBlMiA9IDA7IGUyIDwgdDIubGVuZ3RoOyArK2UyKSBpZiAobjIucmVzb2x2ZUlkKHQyW2UyXSwgZTIsIHQyKSA9PT0gbDIuaWQpIHJldHVybiBlMjtcbiAgICAgICAgcmV0dXJuIHIyO1xuICAgICAgfVxuICAgICAgY2FzZSA1OlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHUobDIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjKHQyKSB7XG4gICAgbGV0IHIyID0gbyQ0KHQyKSwgZTIgPSBBJDMoZmFsc2UpO1xuICAgIHkkNigoKSA9PiAoZTIuY3VycmVudCA9IGZhbHNlLCAoKSA9PiB7XG4gICAgICBlMi5jdXJyZW50ID0gdHJ1ZSwgdCQzKCgpID0+IHtcbiAgICAgICAgZTIuY3VycmVudCAmJiByMigpO1xuICAgICAgfSk7XG4gICAgfSksIFtyMl0pO1xuICB9XG4gIGZ1bmN0aW9uIHMkMigpIHtcbiAgICBsZXQgcjIgPSB0eXBlb2YgZG9jdW1lbnQgPT0gXCJ1bmRlZmluZWRcIjtcbiAgICByZXR1cm4gXCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZVwiIGluIHQkNCA/ICgobzIpID0+IG8yLnVzZVN5bmNFeHRlcm5hbFN0b3JlKSh0JDQpKCgpID0+ICgpID0+IHtcbiAgICB9LCAoKSA9PiBmYWxzZSwgKCkgPT4gIXIyKSA6IGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIGwkMSgpIHtcbiAgICBsZXQgcjIgPSBzJDIoKSwgW2UyLCBuMl0gPSBkJDQocyQ3LmlzSGFuZG9mZkNvbXBsZXRlKTtcbiAgICByZXR1cm4gZTIgJiYgcyQ3LmlzSGFuZG9mZkNvbXBsZXRlID09PSBmYWxzZSAmJiBuMihmYWxzZSksIHkkNigoKSA9PiB7XG4gICAgICBlMiAhPT0gdHJ1ZSAmJiBuMih0cnVlKTtcbiAgICB9LCBbZTJdKSwgeSQ2KCgpID0+IHMkNy5oYW5kb2ZmKCksIFtdKSwgcjIgPyBmYWxzZSA6IGUyO1xuICB9XG4gIGxldCBlID0gSyQzKGZhbHNlKTtcbiAgZnVuY3Rpb24gYSQyKCkge1xuICAgIHJldHVybiB4JDQoZSk7XG4gIH1cbiAgZnVuY3Rpb24gaih0Mikge1xuICAgIGxldCBvMiA9IGEkMigpLCBuMiA9IHgkNChiJDEpLCBbcjIsIHUyXSA9IGQkNCgoKSA9PiB7XG4gICAgICB2YXIgczIsIGEyO1xuICAgICAgaWYgKCFvMiAmJiBuMiAhPT0gbnVsbCkgcmV0dXJuIChzMiA9IG4yLmN1cnJlbnQpICE9IG51bGwgPyBzMiA6IG51bGw7XG4gICAgICBpZiAocyQ3LmlzU2VydmVyKSByZXR1cm4gbnVsbDtcbiAgICAgIGxldCBlMiA9IHQyID09IG51bGwgPyB2b2lkIDAgOiB0Mi5nZXRFbGVtZW50QnlJZChcInN0YWdld2lzZS10b29sYmFyLXBvcnRhbC1yb290XCIpO1xuICAgICAgaWYgKGUyKSByZXR1cm4gZTI7XG4gICAgICBpZiAodDIgPT09IG51bGwpIHJldHVybiBudWxsO1xuICAgICAgbGV0IGwyID0gdDIuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHJldHVybiBsMi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInN0YWdld2lzZS10b29sYmFyLXBvcnRhbC1yb290XCIpLCBsMi5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCIsICgoYTIgPSB0Mi5xdWVyeVNlbGVjdG9yKFwic3RhZ2V3aXNlLWNvbXBhbmlvbi1hbmNob3JcIikpICE9IG51bGwgPyBhMiA6IHQyLmJvZHkpLmFwcGVuZENoaWxkKGwyKTtcbiAgICB9KTtcbiAgICByZXR1cm4geSQ2KCgpID0+IHtcbiAgICAgIHZhciBsMjtcbiAgICAgIGlmIChyMiA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgY29uc3QgZTIgPSAobDIgPSB0MiA9PSBudWxsID8gdm9pZCAwIDogdDIucXVlcnlTZWxlY3RvcihcInN0YWdld2lzZS1jb21wYW5pb24tYW5jaG9yXCIpKSAhPSBudWxsID8gbDIgOiB0MiA9PSBudWxsID8gdm9pZCAwIDogdDIuYm9keTtcbiAgICAgIGUyICE9IG51bGwgJiYgZTIuY29udGFpbnMocjIpIHx8IGUyID09IG51bGwgfHwgZTIuYXBwZW5kQ2hpbGQocjIpO1xuICAgIH0sIFtyMiwgdDJdKSwgeSQ2KCgpID0+IHtcbiAgICAgIG8yIHx8IG4yICE9PSBudWxsICYmIHUyKG4yLmN1cnJlbnQpO1xuICAgIH0sIFtuMiwgdTIsIG8yXSksIHIyO1xuICB9XG4gIGxldCBNJDEgPSBrJDMsIEkgPSBLJDEoZnVuY3Rpb24obzIsIG4yKSB7XG4gICAgbGV0IHsgb3duZXJEb2N1bWVudDogcjIgPSBudWxsLCAuLi51MiB9ID0gbzIsIGUyID0gQSQzKG51bGwpLCBsMiA9IHkkNShUJDMoKGkyKSA9PiB7XG4gICAgICBlMi5jdXJyZW50ID0gaTI7XG4gICAgfSksIG4yKSwgUjIgPSBuJDEoZTIpLCBzMiA9IHIyICE9IG51bGwgPyByMiA6IFIyLCBhMiA9IGooczIpLCBbcDJdID0gZCQ0KCgpID0+IHtcbiAgICAgIHZhciBpMjtcbiAgICAgIHJldHVybiBzJDcuaXNTZXJ2ZXIgPyBudWxsIDogKGkyID0gczIgPT0gbnVsbCA/IHZvaWQgMCA6IHMyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpICE9IG51bGwgPyBpMiA6IG51bGw7XG4gICAgfSksIGYyID0geCQ0KHkkMSksIEgyID0gbCQxKCk7XG4gICAgbiQzKCgpID0+IHtcbiAgICAgICFhMiB8fCAhcDIgfHwgYTIuY29udGFpbnMocDIpIHx8IChwMi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWhlYWRsZXNzdWktcG9ydGFsXCIsIFwiXCIpLCBhMi5hcHBlbmRDaGlsZChwMikpO1xuICAgIH0sIFthMiwgcDJdKSwgbiQzKCgpID0+IHtcbiAgICAgIGlmIChwMiAmJiBmMikgcmV0dXJuIGYyLnJlZ2lzdGVyKHAyKTtcbiAgICB9LCBbZjIsIHAyXSksIGMoKCkgPT4ge1xuICAgICAgdmFyIGkyO1xuICAgICAgIWEyIHx8ICFwMiB8fCAocDIgaW5zdGFuY2VvZiBOb2RlICYmIGEyLmNvbnRhaW5zKHAyKSAmJiBhMi5yZW1vdmVDaGlsZChwMiksIGEyLmNoaWxkTm9kZXMubGVuZ3RoIDw9IDAgJiYgKChpMiA9IGEyLnBhcmVudEVsZW1lbnQpID09IG51bGwgfHwgaTIucmVtb3ZlQ2hpbGQoYTIpKSk7XG4gICAgfSk7XG4gICAgbGV0IGgyID0gTCQyKCk7XG4gICAgcmV0dXJuIEgyID8gIWEyIHx8ICFwMiA/IG51bGwgOiAkJDEoaDIoeyBvdXJQcm9wczogeyByZWY6IGwyIH0sIHRoZWlyUHJvcHM6IHUyLCBzbG90OiB7fSwgZGVmYXVsdFRhZzogTSQxLCBuYW1lOiBcIlBvcnRhbFwiIH0pLCBwMikgOiBudWxsO1xuICB9KTtcbiAgZnVuY3Rpb24gcSh0MiwgbzIpIHtcbiAgICBsZXQgbjIgPSB5JDUobzIpLCB7IGVuYWJsZWQ6IHIyID0gdHJ1ZSwgb3duZXJEb2N1bWVudDogdTIsIC4uLmUyIH0gPSB0MiwgbDIgPSBMJDIoKTtcbiAgICByZXR1cm4gcjIgPyBSbi5jcmVhdGVFbGVtZW50KEksIHsgLi4uZTIsIG93bmVyRG9jdW1lbnQ6IHUyLCByZWY6IG4yIH0pIDogbDIoeyBvdXJQcm9wczogeyByZWY6IG4yIH0sIHRoZWlyUHJvcHM6IGUyLCBzbG90OiB7fSwgZGVmYXVsdFRhZzogTSQxLCBuYW1lOiBcIlBvcnRhbFwiIH0pO1xuICB9XG4gIGxldCBKJDEgPSBrJDMsIGIkMSA9IEskMyhudWxsKTtcbiAgZnVuY3Rpb24gWCh0MiwgbzIpIHtcbiAgICBsZXQgeyB0YXJnZXQ6IG4yLCAuLi5yMiB9ID0gdDIsIGUyID0geyByZWY6IHkkNShvMikgfSwgbDIgPSBMJDIoKTtcbiAgICByZXR1cm4gUm4uY3JlYXRlRWxlbWVudChiJDEuUHJvdmlkZXIsIHsgdmFsdWU6IG4yIH0sIGwyKHsgb3VyUHJvcHM6IGUyLCB0aGVpclByb3BzOiByMiwgZGVmYXVsdFRhZzogSiQxLCBuYW1lOiBcIlBvcG92ZXIuR3JvdXBcIiB9KSk7XG4gIH1cbiAgbGV0IHkkMSA9IEskMyhudWxsKTtcbiAgbGV0IGsgPSBLJDEocSksIEIgPSBLJDEoWCksIG9lID0gT2JqZWN0LmFzc2lnbihrLCB7IEdyb3VwOiBCIH0pO1xuICBmdW5jdGlvbiBzJDEobjIsIHQyKSB7XG4gICAgbGV0IGUyID0gQSQzKHsgbGVmdDogMCwgdG9wOiAwIH0pO1xuICAgIGlmIChuJDMoKCkgPT4ge1xuICAgICAgaWYgKCF0MikgcmV0dXJuO1xuICAgICAgbGV0IHIyID0gdDIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICByMiAmJiAoZTIuY3VycmVudCA9IHIyKTtcbiAgICB9LCBbbjIsIHQyXSksIHQyID09IG51bGwgfHwgIW4yIHx8IHQyID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KSByZXR1cm4gZmFsc2U7XG4gICAgbGV0IG8yID0gdDIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIG8yLnRvcCAhPT0gZTIuY3VycmVudC50b3AgfHwgbzIubGVmdCAhPT0gZTIuY3VycmVudC5sZWZ0O1xuICB9XG4gIGxldCBhJDEgPSAvKFtcXHUyNzAwLVxcdTI3QkZdfFtcXHVFMDAwLVxcdUY4RkZdfFxcdUQ4M0NbXFx1REMwMC1cXHVERkZGXXxcXHVEODNEW1xcdURDMDAtXFx1REZGRl18W1xcdTIwMTEtXFx1MjZGRl18XFx1RDgzRVtcXHVERDEwLVxcdURERkZdKS9nO1xuICBmdW5jdGlvbiBvKGUyKSB7XG4gICAgdmFyIHIyLCBpMjtcbiAgICBsZXQgbjIgPSAocjIgPSBlMi5pbm5lclRleHQpICE9IG51bGwgPyByMiA6IFwiXCIsIHQyID0gZTIuY2xvbmVOb2RlKHRydWUpO1xuICAgIGlmICghKHQyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSByZXR1cm4gbjI7XG4gICAgbGV0IHUyID0gZmFsc2U7XG4gICAgZm9yIChsZXQgZjIgb2YgdDIucXVlcnlTZWxlY3RvckFsbCgnW2hpZGRlbl0sW2FyaWEtaGlkZGVuXSxbcm9sZT1cImltZ1wiXScpKSBmMi5yZW1vdmUoKSwgdTIgPSB0cnVlO1xuICAgIGxldCBsMiA9IHUyID8gKGkyID0gdDIuaW5uZXJUZXh0KSAhPSBudWxsID8gaTIgOiBcIlwiIDogbjI7XG4gICAgcmV0dXJuIGEkMS50ZXN0KGwyKSAmJiAobDIgPSBsMi5yZXBsYWNlKGEkMSwgXCJcIikpLCBsMjtcbiAgfVxuICBmdW5jdGlvbiBnKGUyKSB7XG4gICAgbGV0IG4yID0gZTIuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKTtcbiAgICBpZiAodHlwZW9mIG4yID09IFwic3RyaW5nXCIpIHJldHVybiBuMi50cmltKCk7XG4gICAgbGV0IHQyID0gZTIuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIpO1xuICAgIGlmICh0Mikge1xuICAgICAgbGV0IHUyID0gdDIuc3BsaXQoXCIgXCIpLm1hcCgobDIpID0+IHtcbiAgICAgICAgbGV0IHIyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobDIpO1xuICAgICAgICBpZiAocjIpIHtcbiAgICAgICAgICBsZXQgaTIgPSByMi5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpO1xuICAgICAgICAgIHJldHVybiB0eXBlb2YgaTIgPT0gXCJzdHJpbmdcIiA/IGkyLnRyaW0oKSA6IG8ocjIpLnRyaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pLmZpbHRlcihCb29sZWFuKTtcbiAgICAgIGlmICh1Mi5sZW5ndGggPiAwKSByZXR1cm4gdTIuam9pbihcIiwgXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbyhlMikudHJpbSgpO1xuICB9XG4gIGZ1bmN0aW9uIHMoYzIpIHtcbiAgICBsZXQgdDIgPSBBJDMoXCJcIiksIHIyID0gQSQzKFwiXCIpO1xuICAgIHJldHVybiBvJDQoKCkgPT4ge1xuICAgICAgbGV0IGUyID0gYzIuY3VycmVudDtcbiAgICAgIGlmICghZTIpIHJldHVybiBcIlwiO1xuICAgICAgbGV0IHUyID0gZTIuaW5uZXJUZXh0O1xuICAgICAgaWYgKHQyLmN1cnJlbnQgPT09IHUyKSByZXR1cm4gcjIuY3VycmVudDtcbiAgICAgIGxldCBuMiA9IGcoZTIpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIHQyLmN1cnJlbnQgPSB1MiwgcjIuY3VycmVudCA9IG4yLCBuMjtcbiAgICB9KTtcbiAgfVxuICB2YXIgaCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbiAgdmFyIHkgPSAoZTIsIG4yLCB0MikgPT4gbjIgaW4gZTIgPyBoKGUyLCBuMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTogdDIgfSkgOiBlMltuMl0gPSB0MjtcbiAgdmFyIHYgPSAoZTIsIG4yLCB0MikgPT4gKHkoZTIsIHR5cGVvZiBuMiAhPSBcInN5bWJvbFwiID8gbjIgKyBcIlwiIDogbjIsIHQyKSwgdDIpO1xuICB2YXIgTSA9ICgodDIpID0+ICh0Mlt0Mi5PcGVuID0gMF0gPSBcIk9wZW5cIiwgdDJbdDIuQ2xvc2VkID0gMV0gPSBcIkNsb3NlZFwiLCB0MikpKE0gfHwge30pLCBUID0gKCh0MikgPT4gKHQyW3QyLlBvaW50ZXIgPSAwXSA9IFwiUG9pbnRlclwiLCB0Mlt0Mi5PdGhlciA9IDFdID0gXCJPdGhlclwiLCB0MikpKFQgfHwge30pLCBiID0gKChpMikgPT4gKGkyW2kyLk9wZW5NZW51ID0gMF0gPSBcIk9wZW5NZW51XCIsIGkyW2kyLkNsb3NlTWVudSA9IDFdID0gXCJDbG9zZU1lbnVcIiwgaTJbaTIuR29Ub0l0ZW0gPSAyXSA9IFwiR29Ub0l0ZW1cIiwgaTJbaTIuU2VhcmNoID0gM10gPSBcIlNlYXJjaFwiLCBpMltpMi5DbGVhclNlYXJjaCA9IDRdID0gXCJDbGVhclNlYXJjaFwiLCBpMltpMi5SZWdpc3Rlckl0ZW1zID0gNV0gPSBcIlJlZ2lzdGVySXRlbXNcIiwgaTJbaTIuVW5yZWdpc3Rlckl0ZW1zID0gNl0gPSBcIlVucmVnaXN0ZXJJdGVtc1wiLCBpMltpMi5TZXRCdXR0b25FbGVtZW50ID0gN10gPSBcIlNldEJ1dHRvbkVsZW1lbnRcIiwgaTJbaTIuU2V0SXRlbXNFbGVtZW50ID0gOF0gPSBcIlNldEl0ZW1zRWxlbWVudFwiLCBpMltpMi5Tb3J0SXRlbXMgPSA5XSA9IFwiU29ydEl0ZW1zXCIsIGkyKSkoYiB8fCB7fSk7XG4gIGZ1bmN0aW9uIFMoZTIsIG4yID0gKHQyKSA9PiB0Mikge1xuICAgIGxldCB0MiA9IGUyLmFjdGl2ZUl0ZW1JbmRleCAhPT0gbnVsbCA/IGUyLml0ZW1zW2UyLmFjdGl2ZUl0ZW1JbmRleF0gOiBudWxsLCByMiA9IF8objIoZTIuaXRlbXMuc2xpY2UoKSksICh1MikgPT4gdTIuZGF0YVJlZi5jdXJyZW50LmRvbVJlZi5jdXJyZW50KSwgbDIgPSB0MiA/IHIyLmluZGV4T2YodDIpIDogbnVsbDtcbiAgICByZXR1cm4gbDIgPT09IC0xICYmIChsMiA9IG51bGwpLCB7IGl0ZW1zOiByMiwgYWN0aXZlSXRlbUluZGV4OiBsMiB9O1xuICB9XG4gIGxldCBGID0geyBbMV0oZTIpIHtcbiAgICByZXR1cm4gZTIubWVudVN0YXRlID09PSAxID8gZTIgOiB7IC4uLmUyLCBhY3RpdmVJdGVtSW5kZXg6IG51bGwsIHBlbmRpbmdGb2N1czogeyBmb2N1czogYyQxLk5vdGhpbmcgfSwgbWVudVN0YXRlOiAxIH07XG4gIH0sIFswXShlMiwgbjIpIHtcbiAgICByZXR1cm4gZTIubWVudVN0YXRlID09PSAwID8gZTIgOiB7IC4uLmUyLCBfX2RlbW9Nb2RlOiBmYWxzZSwgcGVuZGluZ0ZvY3VzOiBuMi5mb2N1cywgbWVudVN0YXRlOiAwIH07XG4gIH0sIFsyXTogKGUyLCBuMikgPT4ge1xuICAgIHZhciB1MiwgbTIsIGQyLCBhMiwgSTI7XG4gICAgaWYgKGUyLm1lbnVTdGF0ZSA9PT0gMSkgcmV0dXJuIGUyO1xuICAgIGxldCB0MiA9IHsgLi4uZTIsIHNlYXJjaFF1ZXJ5OiBcIlwiLCBhY3RpdmF0aW9uVHJpZ2dlcjogKHUyID0gbjIudHJpZ2dlcikgIT0gbnVsbCA/IHUyIDogMSwgX19kZW1vTW9kZTogZmFsc2UgfTtcbiAgICBpZiAobjIuZm9jdXMgPT09IGMkMS5Ob3RoaW5nKSByZXR1cm4geyAuLi50MiwgYWN0aXZlSXRlbUluZGV4OiBudWxsIH07XG4gICAgaWYgKG4yLmZvY3VzID09PSBjJDEuU3BlY2lmaWMpIHJldHVybiB7IC4uLnQyLCBhY3RpdmVJdGVtSW5kZXg6IGUyLml0ZW1zLmZpbmRJbmRleCgoaTIpID0+IGkyLmlkID09PSBuMi5pZCkgfTtcbiAgICBpZiAobjIuZm9jdXMgPT09IGMkMS5QcmV2aW91cykge1xuICAgICAgbGV0IGkyID0gZTIuYWN0aXZlSXRlbUluZGV4O1xuICAgICAgaWYgKGkyICE9PSBudWxsKSB7XG4gICAgICAgIGxldCBnMiA9IGUyLml0ZW1zW2kyXS5kYXRhUmVmLmN1cnJlbnQuZG9tUmVmLCBvMiA9IGYobjIsIHsgcmVzb2x2ZUl0ZW1zOiAoKSA9PiBlMi5pdGVtcywgcmVzb2x2ZUFjdGl2ZUluZGV4OiAoKSA9PiBlMi5hY3RpdmVJdGVtSW5kZXgsIHJlc29sdmVJZDogKHMyKSA9PiBzMi5pZCwgcmVzb2x2ZURpc2FibGVkOiAoczIpID0+IHMyLmRhdGFSZWYuY3VycmVudC5kaXNhYmxlZCB9KTtcbiAgICAgICAgaWYgKG8yICE9PSBudWxsKSB7XG4gICAgICAgICAgbGV0IHMyID0gZTIuaXRlbXNbbzJdLmRhdGFSZWYuY3VycmVudC5kb21SZWY7XG4gICAgICAgICAgaWYgKCgobTIgPSBnMi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogbTIucHJldmlvdXNFbGVtZW50U2libGluZykgPT09IHMyLmN1cnJlbnQgfHwgKChkMiA9IHMyLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBkMi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSA9PT0gbnVsbCkgcmV0dXJuIHsgLi4udDIsIGFjdGl2ZUl0ZW1JbmRleDogbzIgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobjIuZm9jdXMgPT09IGMkMS5OZXh0KSB7XG4gICAgICBsZXQgaTIgPSBlMi5hY3RpdmVJdGVtSW5kZXg7XG4gICAgICBpZiAoaTIgIT09IG51bGwpIHtcbiAgICAgICAgbGV0IGcyID0gZTIuaXRlbXNbaTJdLmRhdGFSZWYuY3VycmVudC5kb21SZWYsIG8yID0gZihuMiwgeyByZXNvbHZlSXRlbXM6ICgpID0+IGUyLml0ZW1zLCByZXNvbHZlQWN0aXZlSW5kZXg6ICgpID0+IGUyLmFjdGl2ZUl0ZW1JbmRleCwgcmVzb2x2ZUlkOiAoczIpID0+IHMyLmlkLCByZXNvbHZlRGlzYWJsZWQ6IChzMikgPT4gczIuZGF0YVJlZi5jdXJyZW50LmRpc2FibGVkIH0pO1xuICAgICAgICBpZiAobzIgIT09IG51bGwpIHtcbiAgICAgICAgICBsZXQgczIgPSBlMi5pdGVtc1tvMl0uZGF0YVJlZi5jdXJyZW50LmRvbVJlZjtcbiAgICAgICAgICBpZiAoKChhMiA9IGcyLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBhMi5uZXh0RWxlbWVudFNpYmxpbmcpID09PSBzMi5jdXJyZW50IHx8ICgoSTIgPSBzMi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogSTIubmV4dEVsZW1lbnRTaWJsaW5nKSA9PT0gbnVsbCkgcmV0dXJuIHsgLi4udDIsIGFjdGl2ZUl0ZW1JbmRleDogbzIgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgcjIgPSBTKGUyKSwgbDIgPSBmKG4yLCB7IHJlc29sdmVJdGVtczogKCkgPT4gcjIuaXRlbXMsIHJlc29sdmVBY3RpdmVJbmRleDogKCkgPT4gcjIuYWN0aXZlSXRlbUluZGV4LCByZXNvbHZlSWQ6IChpMikgPT4gaTIuaWQsIHJlc29sdmVEaXNhYmxlZDogKGkyKSA9PiBpMi5kYXRhUmVmLmN1cnJlbnQuZGlzYWJsZWQgfSk7XG4gICAgcmV0dXJuIHsgLi4udDIsIC4uLnIyLCBhY3RpdmVJdGVtSW5kZXg6IGwyIH07XG4gIH0sIFszXTogKGUyLCBuMikgPT4ge1xuICAgIGxldCByMiA9IGUyLnNlYXJjaFF1ZXJ5ICE9PSBcIlwiID8gMCA6IDEsIGwyID0gZTIuc2VhcmNoUXVlcnkgKyBuMi52YWx1ZS50b0xvd2VyQ2FzZSgpLCBtMiA9IChlMi5hY3RpdmVJdGVtSW5kZXggIT09IG51bGwgPyBlMi5pdGVtcy5zbGljZShlMi5hY3RpdmVJdGVtSW5kZXggKyByMikuY29uY2F0KGUyLml0ZW1zLnNsaWNlKDAsIGUyLmFjdGl2ZUl0ZW1JbmRleCArIHIyKSkgOiBlMi5pdGVtcykuZmluZCgoYTIpID0+IHtcbiAgICAgIHZhciBJMjtcbiAgICAgIHJldHVybiAoKEkyID0gYTIuZGF0YVJlZi5jdXJyZW50LnRleHRWYWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IEkyLnN0YXJ0c1dpdGgobDIpKSAmJiAhYTIuZGF0YVJlZi5jdXJyZW50LmRpc2FibGVkO1xuICAgIH0pLCBkMiA9IG0yID8gZTIuaXRlbXMuaW5kZXhPZihtMikgOiAtMTtcbiAgICByZXR1cm4gZDIgPT09IC0xIHx8IGQyID09PSBlMi5hY3RpdmVJdGVtSW5kZXggPyB7IC4uLmUyLCBzZWFyY2hRdWVyeTogbDIgfSA6IHsgLi4uZTIsIHNlYXJjaFF1ZXJ5OiBsMiwgYWN0aXZlSXRlbUluZGV4OiBkMiwgYWN0aXZhdGlvblRyaWdnZXI6IDEgfTtcbiAgfSwgWzRdKGUyKSB7XG4gICAgcmV0dXJuIGUyLnNlYXJjaFF1ZXJ5ID09PSBcIlwiID8gZTIgOiB7IC4uLmUyLCBzZWFyY2hRdWVyeTogXCJcIiwgc2VhcmNoQWN0aXZlSXRlbUluZGV4OiBudWxsIH07XG4gIH0sIFs1XTogKGUyLCBuMikgPT4ge1xuICAgIGxldCB0MiA9IGUyLml0ZW1zLmNvbmNhdChuMi5pdGVtcy5tYXAoKGwyKSA9PiBsMikpLCByMiA9IGUyLmFjdGl2ZUl0ZW1JbmRleDtcbiAgICByZXR1cm4gZTIucGVuZGluZ0ZvY3VzLmZvY3VzICE9PSBjJDEuTm90aGluZyAmJiAocjIgPSBmKGUyLnBlbmRpbmdGb2N1cywgeyByZXNvbHZlSXRlbXM6ICgpID0+IHQyLCByZXNvbHZlQWN0aXZlSW5kZXg6ICgpID0+IGUyLmFjdGl2ZUl0ZW1JbmRleCwgcmVzb2x2ZUlkOiAobDIpID0+IGwyLmlkLCByZXNvbHZlRGlzYWJsZWQ6IChsMikgPT4gbDIuZGF0YVJlZi5jdXJyZW50LmRpc2FibGVkIH0pKSwgeyAuLi5lMiwgaXRlbXM6IHQyLCBhY3RpdmVJdGVtSW5kZXg6IHIyLCBwZW5kaW5nRm9jdXM6IHsgZm9jdXM6IGMkMS5Ob3RoaW5nIH0sIHBlbmRpbmdTaG91bGRTb3J0OiB0cnVlIH07XG4gIH0sIFs2XTogKGUyLCBuMikgPT4ge1xuICAgIGxldCB0MiA9IGUyLml0ZW1zLCByMiA9IFtdLCBsMiA9IG5ldyBTZXQobjIuaXRlbXMpO1xuICAgIGZvciAobGV0IFt1MiwgbTJdIG9mIHQyLmVudHJpZXMoKSkgaWYgKGwyLmhhcyhtMi5pZCkgJiYgKHIyLnB1c2godTIpLCBsMi5kZWxldGUobTIuaWQpLCBsMi5zaXplID09PSAwKSkgYnJlYWs7XG4gICAgaWYgKHIyLmxlbmd0aCA+IDApIHtcbiAgICAgIHQyID0gdDIuc2xpY2UoKTtcbiAgICAgIGZvciAobGV0IHUyIG9mIHIyLnJldmVyc2UoKSkgdDIuc3BsaWNlKHUyLCAxKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgLi4uZTIsIGl0ZW1zOiB0MiwgYWN0aXZhdGlvblRyaWdnZXI6IDEgfTtcbiAgfSwgWzddOiAoZTIsIG4yKSA9PiBlMi5idXR0b25FbGVtZW50ID09PSBuMi5lbGVtZW50ID8gZTIgOiB7IC4uLmUyLCBidXR0b25FbGVtZW50OiBuMi5lbGVtZW50IH0sIFs4XTogKGUyLCBuMikgPT4gZTIuaXRlbXNFbGVtZW50ID09PSBuMi5lbGVtZW50ID8gZTIgOiB7IC4uLmUyLCBpdGVtc0VsZW1lbnQ6IG4yLmVsZW1lbnQgfSwgWzldOiAoZTIpID0+IGUyLnBlbmRpbmdTaG91bGRTb3J0ID8geyAuLi5lMiwgLi4uUyhlMiksIHBlbmRpbmdTaG91bGRTb3J0OiBmYWxzZSB9IDogZTIgfTtcbiAgY2xhc3MgeCBleHRlbmRzIG0ge1xuICAgIGNvbnN0cnVjdG9yKHQyKSB7XG4gICAgICBzdXBlcih0Mik7XG4gICAgICB2KHRoaXMsIFwiYWN0aW9uc1wiLCB7IHJlZ2lzdGVySXRlbTogZyQxKCgpID0+IHtcbiAgICAgICAgbGV0IHQzID0gW10sIHIyID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgICAgcmV0dXJuIFsobDIsIHUyKSA9PiB7XG4gICAgICAgICAgcjIuaGFzKHUyKSB8fCAocjIuYWRkKHUyKSwgdDMucHVzaCh7IGlkOiBsMiwgZGF0YVJlZjogdTIgfSkpO1xuICAgICAgICB9LCAoKSA9PiAocjIuY2xlYXIoKSwgdGhpcy5zZW5kKHsgdHlwZTogNSwgaXRlbXM6IHQzLnNwbGljZSgwKSB9KSldO1xuICAgICAgfSksIHVucmVnaXN0ZXJJdGVtOiBnJDEoKCkgPT4ge1xuICAgICAgICBsZXQgdDMgPSBbXTtcbiAgICAgICAgcmV0dXJuIFsocjIpID0+IHQzLnB1c2gocjIpLCAoKSA9PiB0aGlzLnNlbmQoeyB0eXBlOiA2LCBpdGVtczogdDMuc3BsaWNlKDApIH0pXTtcbiAgICAgIH0pIH0pO1xuICAgICAgdih0aGlzLCBcInNlbGVjdG9yc1wiLCB7IGFjdGl2ZURlc2NlbmRhbnRJZCh0Mykge1xuICAgICAgICB2YXIgdTI7XG4gICAgICAgIGxldCByMiA9IHQzLmFjdGl2ZUl0ZW1JbmRleCwgbDIgPSB0My5pdGVtcztcbiAgICAgICAgcmV0dXJuIHIyID09PSBudWxsIHx8ICh1MiA9IGwyW3IyXSkgPT0gbnVsbCA/IHZvaWQgMCA6IHUyLmlkO1xuICAgICAgfSwgaXNBY3RpdmUodDMsIHIyKSB7XG4gICAgICAgIHZhciBtMjtcbiAgICAgICAgbGV0IGwyID0gdDMuYWN0aXZlSXRlbUluZGV4LCB1MiA9IHQzLml0ZW1zO1xuICAgICAgICByZXR1cm4gbDIgIT09IG51bGwgPyAoKG0yID0gdTJbbDJdKSA9PSBudWxsID8gdm9pZCAwIDogbTIuaWQpID09PSByMiA6IGZhbHNlO1xuICAgICAgfSwgc2hvdWxkU2Nyb2xsSW50b1ZpZXcodDMsIHIyKSB7XG4gICAgICAgIHJldHVybiB0My5fX2RlbW9Nb2RlIHx8IHQzLm1lbnVTdGF0ZSAhPT0gMCB8fCB0My5hY3RpdmF0aW9uVHJpZ2dlciA9PT0gMCA/IGZhbHNlIDogdGhpcy5pc0FjdGl2ZSh0MywgcjIpO1xuICAgICAgfSB9KTtcbiAgICAgIHRoaXMub24oNSwgKCkgPT4ge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuc2VuZCh7IHR5cGU6IDkgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBuZXcoeyBfX2RlbW9Nb2RlOiB0MiA9IGZhbHNlIH0gPSB7fSkge1xuICAgICAgcmV0dXJuIG5ldyB4KHsgX19kZW1vTW9kZTogdDIsIG1lbnVTdGF0ZTogdDIgPyAwIDogMSwgYnV0dG9uRWxlbWVudDogbnVsbCwgaXRlbXNFbGVtZW50OiBudWxsLCBpdGVtczogW10sIHNlYXJjaFF1ZXJ5OiBcIlwiLCBhY3RpdmVJdGVtSW5kZXg6IG51bGwsIGFjdGl2YXRpb25UcmlnZ2VyOiAxLCBwZW5kaW5nU2hvdWxkU29ydDogZmFsc2UsIHBlbmRpbmdGb2N1czogeyBmb2N1czogYyQxLk5vdGhpbmcgfSB9KTtcbiAgICB9XG4gICAgcmVkdWNlKHQyLCByMikge1xuICAgICAgcmV0dXJuIHUkNyhyMi50eXBlLCBGLCB0MiwgcjIpO1xuICAgIH1cbiAgfVxuICBjb25zdCBhID0gSyQzKG51bGwpO1xuICBmdW5jdGlvbiBsKGUyKSB7XG4gICAgbGV0IG4yID0geCQ0KGEpO1xuICAgIGlmIChuMiA9PT0gbnVsbCkge1xuICAgICAgbGV0IHQyID0gbmV3IEVycm9yKGA8JHtlMn0gLz4gaXMgbWlzc2luZyBhIHBhcmVudCA8TWVudSAvPiBjb21wb25lbnQuYCk7XG4gICAgICB0aHJvdyBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSAmJiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0MiwgaSksIHQyO1xuICAgIH1cbiAgICByZXR1cm4gbjI7XG4gIH1cbiAgZnVuY3Rpb24gaSh7IF9fZGVtb01vZGU6IGUyID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgcmV0dXJuIFQkNSgoKSA9PiB4Lm5ldyh7IF9fZGVtb01vZGU6IGUyIH0pLCBbXSk7XG4gIH1cbiAgbGV0IHplID0gayQzO1xuICBmdW5jdGlvbiBRZShUMiwgRTIpIHtcbiAgICBsZXQgeyBfX2RlbW9Nb2RlOiBpJDEyID0gZmFsc2UsIC4uLmEkMTIgfSA9IFQyLCBuMiA9IGkoeyBfX2RlbW9Nb2RlOiBpJDEyIH0pLCBbczIsIG8yLCBQMl0gPSBTJDEobjIsIChwMikgPT4gW3AyLm1lbnVTdGF0ZSwgcDIuaXRlbXNFbGVtZW50LCBwMi5idXR0b25FbGVtZW50XSksIGMyID0geSQ1KEUyKSwgXzIgPSBzMiA9PT0gTS5PcGVuO1xuICAgIFIkMShfMiwgW1AyLCBvMl0sIChwMiwgRjIpID0+IHtcbiAgICAgIHZhciBBJDEyO1xuICAgICAgbjIuc2VuZCh7IHR5cGU6IGIuQ2xvc2VNZW51IH0pLCBBKEYyLCBoJDIuTG9vc2UpIHx8IChwMi5wcmV2ZW50RGVmYXVsdCgpLCAoQSQxMiA9IG4yLnN0YXRlLmJ1dHRvbkVsZW1lbnQpID09IG51bGwgfHwgQSQxMi5mb2N1cygpKTtcbiAgICB9KTtcbiAgICBsZXQgdDIgPSBvJDQoKCkgPT4ge1xuICAgICAgbjIuc2VuZCh7IHR5cGU6IGIuQ2xvc2VNZW51IH0pO1xuICAgIH0pLCBSMiA9IFQkNSgoKSA9PiAoeyBvcGVuOiBzMiA9PT0gTS5PcGVuLCBjbG9zZTogdDIgfSksIFtzMiwgdDJdKSwgSTIgPSB7IHJlZjogYzIgfSwgZzIgPSBMJDIoKTtcbiAgICByZXR1cm4gUm4uY3JlYXRlRWxlbWVudChNZSwgbnVsbCwgUm4uY3JlYXRlRWxlbWVudChhLlByb3ZpZGVyLCB7IHZhbHVlOiBuMiB9LCBSbi5jcmVhdGVFbGVtZW50KGMkMywgeyB2YWx1ZTogdSQ3KHMyLCB7IFtNLk9wZW5dOiBpJDIuT3BlbiwgW00uQ2xvc2VkXTogaSQyLkNsb3NlZCB9KSB9LCBnMih7IG91clByb3BzOiBJMiwgdGhlaXJQcm9wczogYSQxMiwgc2xvdDogUjIsIGRlZmF1bHRUYWc6IHplLCBuYW1lOiBcIk1lbnVcIiB9KSkpKTtcbiAgfVxuICBsZXQgWWUgPSBcImJ1dHRvblwiO1xuICBmdW5jdGlvbiBaZShUJDEyLCBFMikge1xuICAgIGxldCBpMiA9IGwoXCJNZW51LkJ1dHRvblwiKSwgYTIgPSBnJDMoKSwgeyBpZDogbjIgPSBgaGVhZGxlc3N1aS1tZW51LWJ1dHRvbi0ke2EyfWAsIGRpc2FibGVkOiBzMiA9IGZhbHNlLCBhdXRvRm9jdXM6IG8yID0gZmFsc2UsIC4uLlAyIH0gPSBUJDEyLCBjMiA9IEEkMyhudWxsKSwgXzIgPSBGZSgpLCB0MiA9IHkkNShFMiwgYzIsIHllKCksIG8kNCgobDIpID0+IGkyLnNlbmQoeyB0eXBlOiBiLlNldEJ1dHRvbkVsZW1lbnQsIGVsZW1lbnQ6IGwyIH0pKSksIFIyID0gbyQ0KChsMikgPT4ge1xuICAgICAgc3dpdGNoIChsMi5rZXkpIHtcbiAgICAgICAgY2FzZSBvJDMuU3BhY2U6XG4gICAgICAgIGNhc2UgbyQzLkVudGVyOlxuICAgICAgICBjYXNlIG8kMy5BcnJvd0Rvd246XG4gICAgICAgICAgbDIucHJldmVudERlZmF1bHQoKSwgbDIuc3RvcFByb3BhZ2F0aW9uKCksIGkyLnNlbmQoeyB0eXBlOiBiLk9wZW5NZW51LCBmb2N1czogeyBmb2N1czogYyQxLkZpcnN0IH0gfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgbyQzLkFycm93VXA6XG4gICAgICAgICAgbDIucHJldmVudERlZmF1bHQoKSwgbDIuc3RvcFByb3BhZ2F0aW9uKCksIGkyLnNlbmQoeyB0eXBlOiBiLk9wZW5NZW51LCBmb2N1czogeyBmb2N1czogYyQxLkxhc3QgfSB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KSwgSTIgPSBvJDQoKGwyKSA9PiB7XG4gICAgICBzd2l0Y2ggKGwyLmtleSkge1xuICAgICAgICBjYXNlIG8kMy5TcGFjZTpcbiAgICAgICAgICBsMi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pLCBbZzIsIHAyXSA9IFMkMShpMiwgKGwyKSA9PiBbbDIubWVudVN0YXRlLCBsMi5pdGVtc0VsZW1lbnRdKSwgRjIgPSBvJDQoKGwyKSA9PiB7XG4gICAgICB2YXIgSDI7XG4gICAgICBpZiAobDIuYnV0dG9uID09PSAwKSB7XG4gICAgICAgIGlmIChyJDEobDIuY3VycmVudFRhcmdldCkpIHJldHVybiBsMi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBzMiB8fCAoZzIgPT09IE0uT3BlbiA/IChFbigoKSA9PiBpMi5zZW5kKHsgdHlwZTogYi5DbG9zZU1lbnUgfSkpLCAoSDIgPSBjMi5jdXJyZW50KSA9PSBudWxsIHx8IEgyLmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KSkgOiAobDIucHJldmVudERlZmF1bHQoKSwgaTIuc2VuZCh7IHR5cGU6IGIuT3Blbk1lbnUsIGZvY3VzOiB7IGZvY3VzOiBjJDEuTm90aGluZyB9LCB0cmlnZ2VyOiBULlBvaW50ZXIgfSkpKTtcbiAgICAgIH1cbiAgICB9KSwgeyBpc0ZvY3VzVmlzaWJsZTogQTIsIGZvY3VzUHJvcHM6IGYyIH0gPSAkZjdkY2VmZmM1YWQ3NzY4YiRleHBvcnQkNGUzMjhmNjFjNTM4Njg3Zih7IGF1dG9Gb2N1czogbzIgfSksIHsgaXNIb3ZlcmVkOiBNJDEyLCBob3ZlclByb3BzOiBMMiB9ID0gJDYxNzliOTM2NzA1ZTc2ZDMkZXhwb3J0JGFlNzgwZGFmMjllNmQ0NTYoeyBpc0Rpc2FibGVkOiBzMiB9KSwgeyBwcmVzc2VkOiBTMiwgcHJlc3NQcm9wczogTzIgfSA9IHckMih7IGRpc2FibGVkOiBzMiB9KSwgeDIgPSBUJDUoKCkgPT4gKHsgb3BlbjogZzIgPT09IE0uT3BlbiwgYWN0aXZlOiBTMiB8fCBnMiA9PT0gTS5PcGVuLCBkaXNhYmxlZDogczIsIGhvdmVyOiBNJDEyLCBmb2N1czogQTIsIGF1dG9mb2N1czogbzIgfSksIFtnMiwgTSQxMiwgQTIsIFMyLCBzMiwgbzJdKSwgVTIgPSBfJDIoXzIoKSwgeyByZWY6IHQyLCBpZDogbjIsIHR5cGU6IGUkMShUJDEyLCBjMi5jdXJyZW50KSwgXCJhcmlhLWhhc3BvcHVwXCI6IFwibWVudVwiLCBcImFyaWEtY29udHJvbHNcIjogcDIgPT0gbnVsbCA/IHZvaWQgMCA6IHAyLmlkLCBcImFyaWEtZXhwYW5kZWRcIjogZzIgPT09IE0uT3BlbiwgZGlzYWJsZWQ6IHMyIHx8IHZvaWQgMCwgYXV0b0ZvY3VzOiBvMiwgb25LZXlEb3duOiBSMiwgb25LZXlVcDogSTIsIG9uTW91c2VEb3duOiBGMiB9LCBmMiwgTDIsIE8yKTtcbiAgICByZXR1cm4gTCQyKCkoeyBvdXJQcm9wczogVTIsIHRoZWlyUHJvcHM6IFAyLCBzbG90OiB4MiwgZGVmYXVsdFRhZzogWWUsIG5hbWU6IFwiTWVudS5CdXR0b25cIiB9KTtcbiAgfVxuICBsZXQgZXQgPSBcImRpdlwiLCB0dCA9IE8kMS5SZW5kZXJTdHJhdGVneSB8IE8kMS5TdGF0aWM7XG4gIGZ1bmN0aW9uIG90KFQyLCBFMikge1xuICAgIGxldCBpMiA9IGckMygpLCB7IGlkOiBhMiA9IGBoZWFkbGVzc3VpLW1lbnUtaXRlbXMtJHtpMn1gLCBhbmNob3I6IG4yLCBwb3J0YWw6IHMyID0gZmFsc2UsIG1vZGFsOiBvMiA9IHRydWUsIHRyYW5zaXRpb246IFAyID0gZmFsc2UsIC4uLmMyIH0gPSBUMiwgXzIgPSB4ZShuMiksIHQyID0gbChcIk1lbnUuSXRlbXNcIiksIFtSJDEyLCBJMl0gPSBSZShfMiksIGcyID0gYmUoKSwgW3AyLCBGMl0gPSBkJDQobnVsbCksIEEyID0geSQ1KEUyLCBfMiA/IFIkMTIgOiBudWxsLCBvJDQoKGUyKSA9PiB0Mi5zZW5kKHsgdHlwZTogYi5TZXRJdGVtc0VsZW1lbnQsIGVsZW1lbnQ6IGUyIH0pKSwgRjIpLCBbZjIsIE0kMTJdID0gUyQxKHQyLCAoZTIpID0+IFtlMi5tZW51U3RhdGUsIGUyLmJ1dHRvbkVsZW1lbnRdKSwgTDIgPSBuJDEoTSQxMiksIFMyID0gbiQxKHAyKTtcbiAgICBfMiAmJiAoczIgPSB0cnVlKTtcbiAgICBsZXQgTzIgPSB1JDIoKSwgW3gyLCBVMl0gPSB4JDEoUDIsIHAyLCBPMiAhPT0gbnVsbCA/IChPMiAmIGkkMi5PcGVuKSA9PT0gaSQyLk9wZW4gOiBmMiA9PT0gTS5PcGVuKTtcbiAgICBtJDIoeDIsIE0kMTIsICgpID0+IHtcbiAgICAgIHQyLnNlbmQoeyB0eXBlOiBiLkNsb3NlTWVudSB9KTtcbiAgICB9KTtcbiAgICBsZXQgRyQxMiA9IFMkMSh0MiwgKGUyKSA9PiBlMi5fX2RlbW9Nb2RlKSwgbCQxMiA9IEckMTIgPyBmYWxzZSA6IG8yICYmIGYyID09PSBNLk9wZW47XG4gICAgZiQyKGwkMTIsIFMyKTtcbiAgICBsZXQgSDIgPSBHJDEyID8gZmFsc2UgOiBvMiAmJiBmMiA9PT0gTS5PcGVuO1xuICAgIHkkNChIMiwgeyBhbGxvd2VkOiBxJDMoKCkgPT4gW00kMTIsIHAyXSwgW00kMTIsIHAyXSkgfSk7XG4gICAgbGV0IHUyID0gZjIgIT09IE0uT3BlbiwgYWUgPSBzJDEodTIsIE0kMTIpID8gZmFsc2UgOiB4MjtcbiAgICB5JDYoKCkgPT4ge1xuICAgICAgbGV0IGUyID0gcDI7XG4gICAgICBlMiAmJiBmMiA9PT0gTS5PcGVuICYmIGUyICE9PSAoUzIgPT0gbnVsbCA/IHZvaWQgMCA6IFMyLmFjdGl2ZUVsZW1lbnQpICYmIGUyLmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICB9LCBbZjIsIHAyLCBTMl0pLCBGJDEoZjIgPT09IE0uT3BlbiwgeyBjb250YWluZXI6IHAyLCBhY2NlcHQoZTIpIHtcbiAgICAgIHJldHVybiBlMi5nZXRBdHRyaWJ1dGUoXCJyb2xlXCIpID09PSBcIm1lbnVpdGVtXCIgPyBOb2RlRmlsdGVyLkZJTFRFUl9SRUpFQ1QgOiBlMi5oYXNBdHRyaWJ1dGUoXCJyb2xlXCIpID8gTm9kZUZpbHRlci5GSUxURVJfU0tJUCA6IE5vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVDtcbiAgICB9LCB3YWxrKGUyKSB7XG4gICAgICBlMi5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwibm9uZVwiKTtcbiAgICB9IH0pO1xuICAgIGxldCBxMiA9IHAkMigpLCBzZSA9IG8kNCgoZTIpID0+IHtcbiAgICAgIHZhciBOMiwgejIsIFEyO1xuICAgICAgc3dpdGNoIChxMi5kaXNwb3NlKCksIGUyLmtleSkge1xuICAgICAgICBjYXNlIG8kMy5TcGFjZTpcbiAgICAgICAgICBpZiAodDIuc3RhdGUuc2VhcmNoUXVlcnkgIT09IFwiXCIpIHJldHVybiBlMi5wcmV2ZW50RGVmYXVsdCgpLCBlMi5zdG9wUHJvcGFnYXRpb24oKSwgdDIuc2VuZCh7IHR5cGU6IGIuU2VhcmNoLCB2YWx1ZTogZTIua2V5IH0pO1xuICAgICAgICBjYXNlIG8kMy5FbnRlcjpcbiAgICAgICAgICBpZiAoZTIucHJldmVudERlZmF1bHQoKSwgZTIuc3RvcFByb3BhZ2F0aW9uKCksIHQyLnN0YXRlLmFjdGl2ZUl0ZW1JbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IHsgZGF0YVJlZjogZGUgfSA9IHQyLnN0YXRlLml0ZW1zW3QyLnN0YXRlLmFjdGl2ZUl0ZW1JbmRleF07XG4gICAgICAgICAgICAoejIgPSAoTjIgPSBkZS5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogTjIuZG9tUmVmLmN1cnJlbnQpID09IG51bGwgfHwgejIuY2xpY2soKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdDIuc2VuZCh7IHR5cGU6IGIuQ2xvc2VNZW51IH0pLCBHKHQyLnN0YXRlLmJ1dHRvbkVsZW1lbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIG8kMy5BcnJvd0Rvd246XG4gICAgICAgICAgcmV0dXJuIGUyLnByZXZlbnREZWZhdWx0KCksIGUyLnN0b3BQcm9wYWdhdGlvbigpLCB0Mi5zZW5kKHsgdHlwZTogYi5Hb1RvSXRlbSwgZm9jdXM6IGMkMS5OZXh0IH0pO1xuICAgICAgICBjYXNlIG8kMy5BcnJvd1VwOlxuICAgICAgICAgIHJldHVybiBlMi5wcmV2ZW50RGVmYXVsdCgpLCBlMi5zdG9wUHJvcGFnYXRpb24oKSwgdDIuc2VuZCh7IHR5cGU6IGIuR29Ub0l0ZW0sIGZvY3VzOiBjJDEuUHJldmlvdXMgfSk7XG4gICAgICAgIGNhc2UgbyQzLkhvbWU6XG4gICAgICAgIGNhc2UgbyQzLlBhZ2VVcDpcbiAgICAgICAgICByZXR1cm4gZTIucHJldmVudERlZmF1bHQoKSwgZTIuc3RvcFByb3BhZ2F0aW9uKCksIHQyLnNlbmQoeyB0eXBlOiBiLkdvVG9JdGVtLCBmb2N1czogYyQxLkZpcnN0IH0pO1xuICAgICAgICBjYXNlIG8kMy5FbmQ6XG4gICAgICAgIGNhc2UgbyQzLlBhZ2VEb3duOlxuICAgICAgICAgIHJldHVybiBlMi5wcmV2ZW50RGVmYXVsdCgpLCBlMi5zdG9wUHJvcGFnYXRpb24oKSwgdDIuc2VuZCh7IHR5cGU6IGIuR29Ub0l0ZW0sIGZvY3VzOiBjJDEuTGFzdCB9KTtcbiAgICAgICAgY2FzZSBvJDMuRXNjYXBlOlxuICAgICAgICAgIGUyLnByZXZlbnREZWZhdWx0KCksIGUyLnN0b3BQcm9wYWdhdGlvbigpLCBFbigoKSA9PiB0Mi5zZW5kKHsgdHlwZTogYi5DbG9zZU1lbnUgfSkpLCAoUTIgPSB0Mi5zdGF0ZS5idXR0b25FbGVtZW50KSA9PSBudWxsIHx8IFEyLmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBvJDMuVGFiOlxuICAgICAgICAgIGUyLnByZXZlbnREZWZhdWx0KCksIGUyLnN0b3BQcm9wYWdhdGlvbigpLCBFbigoKSA9PiB0Mi5zZW5kKHsgdHlwZTogYi5DbG9zZU1lbnUgfSkpLCBqJDIodDIuc3RhdGUuYnV0dG9uRWxlbWVudCwgZTIuc2hpZnRLZXkgPyBGJDIuUHJldmlvdXMgOiBGJDIuTmV4dCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgZTIua2V5Lmxlbmd0aCA9PT0gMSAmJiAodDIuc2VuZCh7IHR5cGU6IGIuU2VhcmNoLCB2YWx1ZTogZTIua2V5IH0pLCBxMi5zZXRUaW1lb3V0KCgpID0+IHQyLnNlbmQoeyB0eXBlOiBiLkNsZWFyU2VhcmNoIH0pLCAzNTApKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KSwgbGUgPSBvJDQoKGUyKSA9PiB7XG4gICAgICBzd2l0Y2ggKGUyLmtleSkge1xuICAgICAgICBjYXNlIG8kMy5TcGFjZTpcbiAgICAgICAgICBlMi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pLCBwZTIgPSBUJDUoKCkgPT4gKHsgb3BlbjogZjIgPT09IE0uT3BlbiB9KSwgW2YyXSksIGllID0gXyQyKF8yID8gZzIoKSA6IHt9LCB7IFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCI6IFMkMSh0MiwgdDIuc2VsZWN0b3JzLmFjdGl2ZURlc2NlbmRhbnRJZCksIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IFMkMSh0MiwgKGUyKSA9PiB7XG4gICAgICB2YXIgTjI7XG4gICAgICByZXR1cm4gKE4yID0gZTIuYnV0dG9uRWxlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IE4yLmlkO1xuICAgIH0pLCBpZDogYTIsIG9uS2V5RG93bjogc2UsIG9uS2V5VXA6IGxlLCByb2xlOiBcIm1lbnVcIiwgdGFiSW5kZXg6IGYyID09PSBNLk9wZW4gPyAwIDogdm9pZCAwLCByZWY6IEEyLCBzdHlsZTogeyAuLi5jMi5zdHlsZSwgLi4uSTIsIFwiLS1idXR0b24td2lkdGhcIjogZCQyKE0kMTIsIHRydWUpLndpZHRoIH0sIC4uLlIoVTIpIH0pLCB1ZSA9IEwkMigpO1xuICAgIHJldHVybiBSbi5jcmVhdGVFbGVtZW50KG9lLCB7IGVuYWJsZWQ6IHMyID8gVDIuc3RhdGljIHx8IHgyIDogZmFsc2UsIG93bmVyRG9jdW1lbnQ6IEwyIH0sIHVlKHsgb3VyUHJvcHM6IGllLCB0aGVpclByb3BzOiBjMiwgc2xvdDogcGUyLCBkZWZhdWx0VGFnOiBldCwgZmVhdHVyZXM6IHR0LCB2aXNpYmxlOiBhZSwgbmFtZTogXCJNZW51Lkl0ZW1zXCIgfSkpO1xuICB9XG4gIGxldCBudCA9IGskMztcbiAgZnVuY3Rpb24gcnQoVCQxMiwgRTIpIHtcbiAgICBsZXQgaTIgPSBnJDMoKSwgeyBpZDogYTIgPSBgaGVhZGxlc3N1aS1tZW51LWl0ZW0tJHtpMn1gLCBkaXNhYmxlZDogbjIgPSBmYWxzZSwgLi4ucyQxMiB9ID0gVCQxMiwgbzIgPSBsKFwiTWVudS5JdGVtXCIpLCBQMiA9IFMkMShvMiwgKHUyKSA9PiBvMi5zZWxlY3RvcnMuaXNBY3RpdmUodTIsIGEyKSksIGMyID0gQSQzKG51bGwpLCBfMiA9IHkkNShFMiwgYzIpLCB0MiA9IFMkMShvMiwgKHUyKSA9PiBvMi5zZWxlY3RvcnMuc2hvdWxkU2Nyb2xsSW50b1ZpZXcodTIsIGEyKSk7XG4gICAgbiQzKCgpID0+IHtcbiAgICAgIGlmICh0MikgcmV0dXJuIG8kNSgpLnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHZhciB1MiwgSjI7XG4gICAgICAgIChKMiA9ICh1MiA9IGMyLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiB1Mi5zY3JvbGxJbnRvVmlldykgPT0gbnVsbCB8fCBKMi5jYWxsKHUyLCB7IGJsb2NrOiBcIm5lYXJlc3RcIiB9KTtcbiAgICAgIH0pO1xuICAgIH0sIFt0MiwgYzJdKTtcbiAgICBsZXQgUjIgPSBzKGMyKSwgSTIgPSBBJDMoeyBkaXNhYmxlZDogbjIsIGRvbVJlZjogYzIsIGdldCB0ZXh0VmFsdWUoKSB7XG4gICAgICByZXR1cm4gUjIoKTtcbiAgICB9IH0pO1xuICAgIG4kMygoKSA9PiB7XG4gICAgICBJMi5jdXJyZW50LmRpc2FibGVkID0gbjI7XG4gICAgfSwgW0kyLCBuMl0pLCBuJDMoKCkgPT4gKG8yLmFjdGlvbnMucmVnaXN0ZXJJdGVtKGEyLCBJMiksICgpID0+IG8yLmFjdGlvbnMudW5yZWdpc3Rlckl0ZW0oYTIpKSwgW0kyLCBhMl0pO1xuICAgIGxldCBnMiA9IG8kNCgoKSA9PiB7XG4gICAgICBvMi5zZW5kKHsgdHlwZTogYi5DbG9zZU1lbnUgfSk7XG4gICAgfSksIHAyID0gbyQ0KCh1MikgPT4ge1xuICAgICAgaWYgKG4yKSByZXR1cm4gdTIucHJldmVudERlZmF1bHQoKTtcbiAgICAgIG8yLnNlbmQoeyB0eXBlOiBiLkNsb3NlTWVudSB9KSwgRyhvMi5zdGF0ZS5idXR0b25FbGVtZW50KTtcbiAgICB9KSwgRjIgPSBvJDQoKCkgPT4ge1xuICAgICAgaWYgKG4yKSByZXR1cm4gbzIuc2VuZCh7IHR5cGU6IGIuR29Ub0l0ZW0sIGZvY3VzOiBjJDEuTm90aGluZyB9KTtcbiAgICAgIG8yLnNlbmQoeyB0eXBlOiBiLkdvVG9JdGVtLCBmb2N1czogYyQxLlNwZWNpZmljLCBpZDogYTIgfSk7XG4gICAgfSksIEEyID0gdSQzKCksIGYyID0gbyQ0KCh1MikgPT4ge1xuICAgICAgQTIudXBkYXRlKHUyKSwgIW4yICYmIChQMiB8fCBvMi5zZW5kKHsgdHlwZTogYi5Hb1RvSXRlbSwgZm9jdXM6IGMkMS5TcGVjaWZpYywgaWQ6IGEyLCB0cmlnZ2VyOiBULlBvaW50ZXIgfSkpO1xuICAgIH0pLCBNMiA9IG8kNCgodTIpID0+IHtcbiAgICAgIEEyLndhc01vdmVkKHUyKSAmJiAobjIgfHwgUDIgfHwgbzIuc2VuZCh7IHR5cGU6IGIuR29Ub0l0ZW0sIGZvY3VzOiBjJDEuU3BlY2lmaWMsIGlkOiBhMiwgdHJpZ2dlcjogVC5Qb2ludGVyIH0pKTtcbiAgICB9KSwgTDIgPSBvJDQoKHUyKSA9PiB7XG4gICAgICBBMi53YXNNb3ZlZCh1MikgJiYgKG4yIHx8IFAyICYmIG8yLnNlbmQoeyB0eXBlOiBiLkdvVG9JdGVtLCBmb2N1czogYyQxLk5vdGhpbmcgfSkpO1xuICAgIH0pLCBbUzIsIE8yXSA9IEsoKSwgW3gyLCBVMl0gPSB3JDEoKSwgRyQxMiA9IFQkNSgoKSA9PiAoeyBhY3RpdmU6IFAyLCBmb2N1czogUDIsIGRpc2FibGVkOiBuMiwgY2xvc2U6IGcyIH0pLCBbUDIsIG4yLCBnMl0pLCBsJDEyID0geyBpZDogYTIsIHJlZjogXzIsIHJvbGU6IFwibWVudWl0ZW1cIiwgdGFiSW5kZXg6IG4yID09PSB0cnVlID8gdm9pZCAwIDogLTEsIFwiYXJpYS1kaXNhYmxlZFwiOiBuMiA9PT0gdHJ1ZSA/IHRydWUgOiB2b2lkIDAsIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IFMyLCBcImFyaWEtZGVzY3JpYmVkYnlcIjogeDIsIGRpc2FibGVkOiB2b2lkIDAsIG9uQ2xpY2s6IHAyLCBvbkZvY3VzOiBGMiwgb25Qb2ludGVyRW50ZXI6IGYyLCBvbk1vdXNlRW50ZXI6IGYyLCBvblBvaW50ZXJNb3ZlOiBNMiwgb25Nb3VzZU1vdmU6IE0yLCBvblBvaW50ZXJMZWF2ZTogTDIsIG9uTW91c2VMZWF2ZTogTDIgfSwgSDIgPSBMJDIoKTtcbiAgICByZXR1cm4gUm4uY3JlYXRlRWxlbWVudChPMiwgbnVsbCwgUm4uY3JlYXRlRWxlbWVudChVMiwgbnVsbCwgSDIoeyBvdXJQcm9wczogbCQxMiwgdGhlaXJQcm9wczogcyQxMiwgc2xvdDogRyQxMiwgZGVmYXVsdFRhZzogbnQsIG5hbWU6IFwiTWVudS5JdGVtXCIgfSkpKTtcbiAgfVxuICBsZXQgYXQgPSBcImRpdlwiO1xuICBmdW5jdGlvbiBzdChUMiwgRTIpIHtcbiAgICBsZXQgW2kyLCBhMl0gPSBLKCksIG4yID0gVDIsIHMyID0geyByZWY6IEUyLCBcImFyaWEtbGFiZWxsZWRieVwiOiBpMiwgcm9sZTogXCJncm91cFwiIH0sIG8yID0gTCQyKCk7XG4gICAgcmV0dXJuIFJuLmNyZWF0ZUVsZW1lbnQoYTIsIG51bGwsIG8yKHsgb3VyUHJvcHM6IHMyLCB0aGVpclByb3BzOiBuMiwgc2xvdDoge30sIGRlZmF1bHRUYWc6IGF0LCBuYW1lOiBcIk1lbnUuU2VjdGlvblwiIH0pKTtcbiAgfVxuICBsZXQgbHQgPSBcImhlYWRlclwiO1xuICBmdW5jdGlvbiBwdChUMiwgRTIpIHtcbiAgICBsZXQgaTIgPSBnJDMoKSwgeyBpZDogYTIgPSBgaGVhZGxlc3N1aS1tZW51LWhlYWRpbmctJHtpMn1gLCAuLi5uMiB9ID0gVDIsIHMyID0gUCQxKCk7XG4gICAgbiQzKCgpID0+IHMyLnJlZ2lzdGVyKGEyKSwgW2EyLCBzMi5yZWdpc3Rlcl0pO1xuICAgIGxldCBvMiA9IHsgaWQ6IGEyLCByZWY6IEUyLCByb2xlOiBcInByZXNlbnRhdGlvblwiLCAuLi5zMi5wcm9wcyB9O1xuICAgIHJldHVybiBMJDIoKSh7IG91clByb3BzOiBvMiwgdGhlaXJQcm9wczogbjIsIHNsb3Q6IHt9LCBkZWZhdWx0VGFnOiBsdCwgbmFtZTogXCJNZW51LkhlYWRpbmdcIiB9KTtcbiAgfVxuICBsZXQgaXQgPSBcImRpdlwiO1xuICBmdW5jdGlvbiB1dChUMiwgRTIpIHtcbiAgICBsZXQgaTIgPSBUMiwgYTIgPSB7IHJlZjogRTIsIHJvbGU6IFwic2VwYXJhdG9yXCIgfTtcbiAgICByZXR1cm4gTCQyKCkoeyBvdXJQcm9wczogYTIsIHRoZWlyUHJvcHM6IGkyLCBzbG90OiB7fSwgZGVmYXVsdFRhZzogaXQsIG5hbWU6IFwiTWVudS5TZXBhcmF0b3JcIiB9KTtcbiAgfVxuICBsZXQgZHQgPSBLJDEoUWUpLCBtdCA9IEskMShaZSksIFR0ID0gSyQxKG90KSwgZnQgPSBLJDEocnQpLCBjdCA9IEskMShzdCksIHl0ID0gSyQxKHB0KSwgRXQgPSBLJDEodXQpLCB0byA9IE9iamVjdC5hc3NpZ24oZHQsIHsgQnV0dG9uOiBtdCwgSXRlbXM6IFR0LCBJdGVtOiBmdCwgU2VjdGlvbjogY3QsIEhlYWRpbmc6IHl0LCBTZXBhcmF0b3I6IEV0IH0pO1xuICBsZXQgTCA9IFwidGV4dGFyZWFcIjtcbiAgZnVuY3Rpb24gSChzMiwgbDIpIHtcbiAgICBsZXQgaTIgPSBnJDMoKSwgZDIgPSB1JDYoKSwgbjIgPSBhJDkoKSwgeyBpZDogcDIgPSBkMiB8fCBgaGVhZGxlc3N1aS10ZXh0YXJlYS0ke2kyfWAsIGRpc2FibGVkOiBlMiA9IG4yIHx8IGZhbHNlLCBhdXRvRm9jdXM6IHIyID0gZmFsc2UsIGludmFsaWQ6IGEyID0gZmFsc2UsIC4uLlQyIH0gPSBzMiwgZjIgPSBJJDIoKSwgbTIgPSBVJDEoKSwgeyBpc0ZvY3VzZWQ6IG8yLCBmb2N1c1Byb3BzOiB1MiB9ID0gJGY3ZGNlZmZjNWFkNzc2OGIkZXhwb3J0JDRlMzI4ZjYxYzUzODY4N2YoeyBhdXRvRm9jdXM6IHIyIH0pLCB7IGlzSG92ZXJlZDogdDIsIGhvdmVyUHJvcHM6IGIyIH0gPSAkNjE3OWI5MzY3MDVlNzZkMyRleHBvcnQkYWU3ODBkYWYyOWU2ZDQ1Nih7IGlzRGlzYWJsZWQ6IGUyIH0pLCB5MiA9IF8kMih7IHJlZjogbDIsIGlkOiBwMiwgXCJhcmlhLWxhYmVsbGVkYnlcIjogZjIsIFwiYXJpYS1kZXNjcmliZWRieVwiOiBtMiwgXCJhcmlhLWludmFsaWRcIjogYTIgPyBcInRydWVcIiA6IHZvaWQgMCwgZGlzYWJsZWQ6IGUyIHx8IHZvaWQgMCwgYXV0b0ZvY3VzOiByMiB9LCB1MiwgYjIpLCB4MiA9IFQkNSgoKSA9PiAoeyBkaXNhYmxlZDogZTIsIGludmFsaWQ6IGEyLCBob3ZlcjogdDIsIGZvY3VzOiBvMiwgYXV0b2ZvY3VzOiByMiB9KSwgW2UyLCBhMiwgdDIsIG8yLCByMl0pO1xuICAgIHJldHVybiBMJDIoKSh7IG91clByb3BzOiB5MiwgdGhlaXJQcm9wczogVDIsIHNsb3Q6IHgyLCBkZWZhdWx0VGFnOiBMLCBuYW1lOiBcIlRleHRhcmVhXCIgfSk7XG4gIH1cbiAgbGV0IEogPSBLJDEoSCk7XG4gIC8qKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTAzLjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKi9cbiAgY29uc3QgdG9LZWJhYkNhc2UgPSAoc3RyaW5nKSA9PiBzdHJpbmcucmVwbGFjZSgvKFthLXowLTldKShbQS1aXSkvZywgXCIkMS0kMlwiKS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCB0b0NhbWVsQ2FzZSA9IChzdHJpbmcpID0+IHN0cmluZy5yZXBsYWNlKFxuICAgIC9eKFtBLVpdKXxbXFxzLV9dKyhcXHcpL2csXG4gICAgKG1hdGNoLCBwMSwgcDIpID0+IHAyID8gcDIudG9VcHBlckNhc2UoKSA6IHAxLnRvTG93ZXJDYXNlKClcbiAgKTtcbiAgY29uc3QgdG9QYXNjYWxDYXNlID0gKHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGNhbWVsQ2FzZSA9IHRvQ2FtZWxDYXNlKHN0cmluZyk7XG4gICAgcmV0dXJuIGNhbWVsQ2FzZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNhbWVsQ2FzZS5zbGljZSgxKTtcbiAgfTtcbiAgY29uc3QgbWVyZ2VDbGFzc2VzID0gKC4uLmNsYXNzZXMpID0+IGNsYXNzZXMuZmlsdGVyKChjbGFzc05hbWUsIGluZGV4MiwgYXJyYXkpID0+IHtcbiAgICByZXR1cm4gQm9vbGVhbihjbGFzc05hbWUpICYmIGNsYXNzTmFtZS50cmltKCkgIT09IFwiXCIgJiYgYXJyYXkuaW5kZXhPZihjbGFzc05hbWUpID09PSBpbmRleDI7XG4gIH0pLmpvaW4oXCIgXCIpLnRyaW0oKTtcbiAgY29uc3QgaGFzQTExeVByb3AgPSAocHJvcHMpID0+IHtcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gcHJvcHMpIHtcbiAgICAgIGlmIChwcm9wLnN0YXJ0c1dpdGgoXCJhcmlhLVwiKSB8fCBwcm9wID09PSBcInJvbGVcIiB8fCBwcm9wID09PSBcInRpdGxlXCIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUwMy4wIC0gSVNDXG4gICAqXG4gICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICAgKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAgICovXG4gIHZhciBkZWZhdWx0QXR0cmlidXRlcyA9IHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiAyNCxcbiAgICBoZWlnaHQ6IDI0LFxuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIHN0cm9rZVdpZHRoOiAyLFxuICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gIH07XG4gIC8qKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTAzLjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKi9cbiAgY29uc3QgSWNvbiA9IEQkMShcbiAgICAoe1xuICAgICAgY29sb3IgPSBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgc2l6ZTogc2l6ZTIgPSAyNCxcbiAgICAgIHN0cm9rZVdpZHRoID0gMixcbiAgICAgIGFic29sdXRlU3Ryb2tlV2lkdGgsXG4gICAgICBjbGFzc05hbWUgPSBcIlwiLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBpY29uTm9kZSxcbiAgICAgIC4uLnJlc3RcbiAgICB9LCByZWYpID0+IHtcbiAgICAgIHJldHVybiBfJDQoXG4gICAgICAgIFwic3ZnXCIsXG4gICAgICAgIHtcbiAgICAgICAgICByZWYsXG4gICAgICAgICAgLi4uZGVmYXVsdEF0dHJpYnV0ZXMsXG4gICAgICAgICAgd2lkdGg6IHNpemUyLFxuICAgICAgICAgIGhlaWdodDogc2l6ZTIsXG4gICAgICAgICAgc3Ryb2tlOiBjb2xvcixcbiAgICAgICAgICBzdHJva2VXaWR0aDogYWJzb2x1dGVTdHJva2VXaWR0aCA/IE51bWJlcihzdHJva2VXaWR0aCkgKiAyNCAvIE51bWJlcihzaXplMikgOiBzdHJva2VXaWR0aCxcbiAgICAgICAgICBjbGFzc05hbWU6IG1lcmdlQ2xhc3NlcyhcImx1Y2lkZVwiLCBjbGFzc05hbWUpLFxuICAgICAgICAgIC4uLiFjaGlsZHJlbiAmJiAhaGFzQTExeVByb3AocmVzdCkgJiYgeyBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiIH0sXG4gICAgICAgICAgLi4ucmVzdFxuICAgICAgICB9LFxuICAgICAgICBbXG4gICAgICAgICAgLi4uaWNvbk5vZGUubWFwKChbdGFnLCBhdHRyc10pID0+IF8kNCh0YWcsIGF0dHJzKSksXG4gICAgICAgICAgLi4uQXJyYXkuaXNBcnJheShjaGlsZHJlbikgPyBjaGlsZHJlbiA6IFtjaGlsZHJlbl1cbiAgICAgICAgXVxuICAgICAgKTtcbiAgICB9XG4gICk7XG4gIC8qKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTAzLjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKi9cbiAgY29uc3QgY3JlYXRlTHVjaWRlSWNvbiA9IChpY29uTmFtZSwgaWNvbk5vZGUpID0+IHtcbiAgICBjb25zdCBDb21wb25lbnQgPSBEJDEoXG4gICAgICAoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gXyQ0KEljb24sIHtcbiAgICAgICAgcmVmLFxuICAgICAgICBpY29uTm9kZSxcbiAgICAgICAgY2xhc3NOYW1lOiBtZXJnZUNsYXNzZXMoXG4gICAgICAgICAgYGx1Y2lkZS0ke3RvS2ViYWJDYXNlKHRvUGFzY2FsQ2FzZShpY29uTmFtZSkpfWAsXG4gICAgICAgICAgYGx1Y2lkZS0ke2ljb25OYW1lfWAsXG4gICAgICAgICAgY2xhc3NOYW1lXG4gICAgICAgICksXG4gICAgICAgIC4uLnByb3BzXG4gICAgICB9KVxuICAgICk7XG4gICAgQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gdG9QYXNjYWxDYXNlKGljb25OYW1lKTtcbiAgICByZXR1cm4gQ29tcG9uZW50O1xuICB9O1xuICAvKipcbiAgICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUwMy4wIC0gSVNDXG4gICAqXG4gICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICAgKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAgICovXG4gIGNvbnN0IF9faWNvbk5vZGUkNiA9IFtbXCJwYXRoXCIsIHsgZDogXCJtNiA5IDYgNiA2LTZcIiwga2V5OiBcInFydW5zbFwiIH1dXTtcbiAgY29uc3QgQ2hldnJvbkRvd24gPSBjcmVhdGVMdWNpZGVJY29uKFwiY2hldnJvbi1kb3duXCIsIF9faWNvbk5vZGUkNik7XG4gIC8qKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTAzLjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKi9cbiAgY29uc3QgX19pY29uTm9kZSQ1ID0gW1tcInBhdGhcIiwgeyBkOiBcIm0xOCAxNS02LTYtNiA2XCIsIGtleTogXCIxNTN1ZHpcIiB9XV07XG4gIGNvbnN0IENoZXZyb25VcCA9IGNyZWF0ZUx1Y2lkZUljb24oXCJjaGV2cm9uLXVwXCIsIF9faWNvbk5vZGUkNSk7XG4gIC8qKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTAzLjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKi9cbiAgY29uc3QgX19pY29uTm9kZSQ0ID0gW1xuICAgIFtcImNpcmNsZVwiLCB7IGN4OiBcIjEyXCIsIGN5OiBcIjEyXCIsIHI6IFwiMVwiLCBrZXk6IFwiNDFoaWxmXCIgfV0sXG4gICAgW1wiY2lyY2xlXCIsIHsgY3g6IFwiMTlcIiwgY3k6IFwiMTJcIiwgcjogXCIxXCIsIGtleTogXCIxd2psOGlcIiB9XSxcbiAgICBbXCJjaXJjbGVcIiwgeyBjeDogXCI1XCIsIGN5OiBcIjEyXCIsIHI6IFwiMVwiLCBrZXk6IFwiMXBjejhjXCIgfV1cbiAgXTtcbiAgY29uc3QgRWxsaXBzaXMgPSBjcmVhdGVMdWNpZGVJY29uKFwiZWxsaXBzaXNcIiwgX19pY29uTm9kZSQ0KTtcbiAgLyoqXG4gICAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MDMuMCAtIElTQ1xuICAgKlxuICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAgICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gICAqL1xuICBjb25zdCBfX2ljb25Ob2RlJDMgPSBbXG4gICAgW1wicG9seWxpbmVcIiwgeyBwb2ludHM6IFwiNCAxNCAxMCAxNCAxMCAyMFwiLCBrZXk6IFwiMTFrZm5yXCIgfV0sXG4gICAgW1wicG9seWxpbmVcIiwgeyBwb2ludHM6IFwiMjAgMTAgMTQgMTAgMTQgNFwiLCBrZXk6IFwicmxtc2NlXCIgfV0sXG4gICAgW1wibGluZVwiLCB7IHgxOiBcIjE0XCIsIHgyOiBcIjIxXCIsIHkxOiBcIjEwXCIsIHkyOiBcIjNcIiwga2V5OiBcIm81bGFmelwiIH1dLFxuICAgIFtcImxpbmVcIiwgeyB4MTogXCIzXCIsIHgyOiBcIjEwXCIsIHkxOiBcIjIxXCIsIHkyOiBcIjE0XCIsIGtleTogXCIxYXRsMHJcIiB9XVxuICBdO1xuICBjb25zdCBNaW5pbWl6ZTIgPSBjcmVhdGVMdWNpZGVJY29uKFwibWluaW1pemUtMlwiLCBfX2ljb25Ob2RlJDMpO1xuICAvKipcbiAgICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUwMy4wIC0gSVNDXG4gICAqXG4gICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICAgKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAgICovXG4gIGNvbnN0IF9faWNvbk5vZGUkMiA9IFtcbiAgICBbXCJwYXRoXCIsIHsgZDogXCJNNSAxMmgxNFwiLCBrZXk6IFwiMWF5czBoXCIgfV0sXG4gICAgW1wicGF0aFwiLCB7IGQ6IFwiTTEyIDV2MTRcIiwga2V5OiBcInM2OTlsZVwiIH1dXG4gIF07XG4gIGNvbnN0IFBsdXMgPSBjcmVhdGVMdWNpZGVJY29uKFwicGx1c1wiLCBfX2ljb25Ob2RlJDIpO1xuICAvKipcbiAgICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUwMy4wIC0gSVNDXG4gICAqXG4gICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICAgKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAgICovXG4gIGNvbnN0IF9faWNvbk5vZGUkMSA9IFtcbiAgICBbXG4gICAgICBcInBhdGhcIixcbiAgICAgIHtcbiAgICAgICAgZDogXCJNMTQuNTM2IDIxLjY4NmEuNS41IDAgMCAwIC45MzctLjAyNGw2LjUtMTlhLjQ5Ni40OTYgMCAwIDAtLjYzNS0uNjM1bC0xOSA2LjVhLjUuNSAwIDAgMC0uMDI0LjkzN2w3LjkzIDMuMThhMiAyIDAgMCAxIDEuMTEyIDEuMTF6XCIsXG4gICAgICAgIGtleTogXCIxZmZ4eTNcIlxuICAgICAgfVxuICAgIF0sXG4gICAgW1wicGF0aFwiLCB7IGQ6IFwibTIxLjg1NCAyLjE0Ny0xMC45NCAxMC45MzlcIiwga2V5OiBcIjEyY2pwYVwiIH1dXG4gIF07XG4gIGNvbnN0IFNlbmQgPSBjcmVhdGVMdWNpZGVJY29uKFwic2VuZFwiLCBfX2ljb25Ob2RlJDEpO1xuICAvKipcbiAgICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUwMy4wIC0gSVNDXG4gICAqXG4gICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICAgKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAgICovXG4gIGNvbnN0IF9faWNvbk5vZGUgPSBbXG4gICAgW1wicGF0aFwiLCB7IGQ6IFwiTTMgNmgxOFwiLCBrZXk6IFwiZDB3bTBqXCIgfV0sXG4gICAgW1wicGF0aFwiLCB7IGQ6IFwiTTE5IDZ2MTRjMCAxLTEgMi0yIDJIN2MtMSAwLTItMS0yLTJWNlwiLCBrZXk6IFwiNGFscnQ0XCIgfV0sXG4gICAgW1wicGF0aFwiLCB7IGQ6IFwiTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MlwiLCBrZXk6IFwidjA3czBlXCIgfV0sXG4gICAgW1wibGluZVwiLCB7IHgxOiBcIjEwXCIsIHgyOiBcIjEwXCIsIHkxOiBcIjExXCIsIHkyOiBcIjE3XCIsIGtleTogXCIxdXVmcjVcIiB9XSxcbiAgICBbXCJsaW5lXCIsIHsgeDE6IFwiMTRcIiwgeDI6IFwiMTRcIiwgeTE6IFwiMTFcIiwgeTI6IFwiMTdcIiwga2V5OiBcInh0eGtkXCIgfV1cbiAgXTtcbiAgY29uc3QgVHJhc2gyID0gY3JlYXRlTHVjaWRlSWNvbihcInRyYXNoLTJcIiwgX19pY29uTm9kZSk7XG4gIGNvbnN0IENoYXRBcmVhID0gTSQzKCgpID0+IHtcbiAgICBjb25zdCB7IGNoYXRBcmVhU3RhdGUgfSA9IHVzZUNoYXRTdGF0ZSgpO1xuICAgIGlmIChjaGF0QXJlYVN0YXRlID09PSBcImhpZGRlblwiKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShDaGF0QXJlYUJveCwgeyBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIHUkOShDaGF0QXJlYVJlc2l6ZUJhciwge30pLFxuICAgICAgY2hhdEFyZWFTdGF0ZSA9PT0gXCJjb21wYWN0XCIgJiYgLyogQF9fUFVSRV9fICovIHUkOShDaGF0QXJlYUNvbXBhY3QsIHt9KSxcbiAgICAgIGNoYXRBcmVhU3RhdGUgPT09IFwiZXhwYW5kZWRcIiAmJiAvKiBAX19QVVJFX18gKi8gdSQ5KENoYXRBcmVhRXhwYW5kZWQsIHt9KVxuICAgIF0gfSk7XG4gIH0pO1xuICBjb25zdCBDaGF0QXJlYUJveCA9IE0kMygoeyBjaGlsZHJlbiB9KSA9PiAvKiBAX19QVVJFX18gKi8gdSQ5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImgtYXV0byB3LWZ1bGwgb3ZlcmZsb3cteC1oaWRkZW5cIiwgY2hpbGRyZW4gfSkpO1xuICBjb25zdCBDaGF0QXJlYVJlc2l6ZUJhciA9IE0kMygoKSA9PiB7XG4gICAgY29uc3QgeyBjaGF0QXJlYVN0YXRlLCBzZXRDaGF0QXJlYVN0YXRlLCBzdG9wUHJvbXB0Q3JlYXRpb24gfSA9IHVzZUNoYXRTdGF0ZSgpO1xuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZUJhckNsaWNrID0gcSQzKCgpID0+IHtcbiAgICAgIHNldENoYXRBcmVhU3RhdGUoY2hhdEFyZWFTdGF0ZSA9PT0gXCJjb21wYWN0XCIgPyBcImV4cGFuZGVkXCIgOiBcImNvbXBhY3RcIik7XG4gICAgfSwgW2NoYXRBcmVhU3RhdGUsIHNldENoYXRBcmVhU3RhdGVdKTtcbiAgICBjb25zdCBoYW5kbGVDbG9zZUNoYXRBcmVhID0gcSQzKCgpID0+IHtcbiAgICAgIHN0b3BQcm9tcHRDcmVhdGlvbigpO1xuICAgICAgc2V0Q2hhdEFyZWFTdGF0ZShcImhpZGRlblwiKTtcbiAgICB9LCBbc2V0Q2hhdEFyZWFTdGF0ZSwgc3RvcFByb21wdENyZWF0aW9uXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCB3LWZ1bGwgZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtdC0zeGwgcHgtMyBweS0xXCIsIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgICBIJDMsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwic2l6ZS01IGJnLXRyYW5zcGFyZW50IHRleHQtbXV0ZWQtZm9yZWdyb3VuZC8zMCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xMDAgaG92ZXI6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCIsXG4gICAgICAgICAgb25DbGljazogaGFuZGxlUmVzaXplQmFyQ2xpY2ssXG4gICAgICAgICAgY2hpbGRyZW46IGNoYXRBcmVhU3RhdGUgPT09IFwiY29tcGFjdFwiID8gLyogQF9fUFVSRV9fICovIHUkOShDaGV2cm9uVXAsIHsgY2xhc3NOYW1lOiBcInNpemUtNVwiIH0pIDogLyogQF9fUFVSRV9fICovIHUkOShDaGV2cm9uRG93biwgeyBjbGFzc05hbWU6IFwic2l6ZS01XCIgfSlcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICAgIEgkMyxcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJhYnNvbHV0ZSByaWdodC0yIGZsZXggaC1maXQgdy1maXQgZmxleC1yb3cgaXRlbXMtY2VudGVyIGdhcC0xIGJnLXRyYW5zcGFyZW50IHAtMSB0ZXh0LXhzIHRleHQtemluYy05NTAgb3BhY2l0eS01MCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xMDAgaG92ZXI6b3BhY2l0eS0xMDBcIixcbiAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVDbG9zZUNoYXRBcmVhLFxuICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICBcIkNsb3NlIG1lbnVcIixcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicm91bmRlZC1tZCBiZy16aW5jLTYwMCBweC0wLjUgcHktMCB0ZXh0LXhzIHRleHQtemluYy01MFwiLCBjaGlsZHJlbjogXCJlc2NcIiB9KVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgKVxuICAgIF0gfSk7XG4gIH0pO1xuICBjb25zdCBDaGF0QXJlYUNvbXBhY3QgPSBNJDMoKCkgPT4gLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IHctZnVsbCBmbGV4LWNvbCBnYXAtMSBwLTNcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQtc20gdGV4dC16aW5jLTk1MC81MFwiLCBjaGlsZHJlbjogXCJUaGlzIGlzIHRoZSBjb21wYWN0IGNoYXQgYXJlYS4uLiBTaG93aW5nIGp1c3QgdGhlIGxhc3QgcmVzcG9uc2UgZnJvbSB0aGUgYXNzaXN0YW50LlwiIH0pIH0pKTtcbiAgY29uc3QgQ2hhdEFyZWFFeHBhbmRlZCA9IE0kMygoKSA9PiB7XG4gICAgY29uc3QgeyBjaGF0cywgY3VycmVudENoYXRJZCwgc2V0Q3VycmVudENoYXQsIGNyZWF0ZUNoYXQgfSA9IHVzZUNoYXRTdGF0ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRDaGF0ID0gY2hhdHMuZmluZCgoY2hhdCkgPT4gY2hhdC5pZCA9PT0gY3VycmVudENoYXRJZCk7XG4gICAgY29uc3QgaGFzTmV3Q2hhdCA9IGNoYXRzLnNvbWUoKGNoYXQpID0+IGNoYXQuaWQgPT09IFwibmV3X2NoYXRcIik7XG4gICAgY29uc3QgaGFuZGxlQ3JlYXRlQ2hhdCA9IHEkMygoKSA9PiB7XG4gICAgICBjcmVhdGVDaGF0KCk7XG4gICAgfSwgW2NyZWF0ZUNoYXRdKTtcbiAgICBjb25zdCBoYW5kbGVTZXRDdXJyZW50Q2hhdCA9IHEkMyhcbiAgICAgIChjaGF0SWQpID0+IHtcbiAgICAgICAgc2V0Q3VycmVudENoYXQoY2hhdElkKTtcbiAgICAgIH0sXG4gICAgICBbc2V0Q3VycmVudENoYXRdXG4gICAgKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IG1heC1oLVs1MHZoXSB3LWZ1bGwgZmxleC1jb2wgZ2FwLTMgcC0zIHBiLTBcIiwgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LTEgZmxleC1jb2wgZ2FwLTIgb3ZlcmZsb3cteS1hdXRvIHAtMVwiLCBjaGlsZHJlbjogY3VycmVudENoYXQgPT0gbnVsbCA/IHZvaWQgMCA6IGN1cnJlbnRDaGF0Lm1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4gLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogYGZsZXggJHttZXNzYWdlLnNlbmRlciA9PT0gXCJhc3Npc3RhbnRcIiA/IFwianVzdGlmeS1zdGFydFwiIDogXCJqdXN0aWZ5LWVuZFwifWAsXG4gICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IGBtYXgtdy1bODAlXSByb3VuZGVkLXhsIHB4LTIgcHktMSB0ZXh0LXNtICR7bWVzc2FnZS5zZW5kZXIgPT09IFwiYXNzaXN0YW50XCIgPyBcImJnLXppbmMtOTUwLzUgdGV4dC16aW5jLTk1MFwiIDogXCJiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlXCJ9YCxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IG1lc3NhZ2UuY29udGVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZS5pZFxuICAgICAgKSkgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktc3RhcnQgZ2FwLTIgb3ZlcmZsb3cteC1hdXRvIG92ZXJmbG93LXktdmlzaWJsZSBib3JkZXItYm9yZGVyLzEwIGJvcmRlci10IHB0LTIgcGItMlwiLCBjaGlsZHJlbjogW1xuICAgICAgICAhaGFzTmV3Q2hhdCAmJiAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgICAgIEgkMyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwiaC02IGZsZXgtc2hyaW5rLTAgcm91bmRlZC1mdWxsIGJnLXppbmMtOTUwLzUgcHgtMiBmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZCB0ZXh0LXhzXCIsXG4gICAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVDcmVhdGVDaGF0LFxuICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoUGx1cywgeyBjbGFzc05hbWU6IFwic2l6ZS0zXCIgfSlcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIGNoYXRzLm1hcCgoY2hhdCkgPT4gLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgICAgICBIJDMsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbihcbiAgICAgICAgICAgICAgXCJoLTUgbWF4LXctNDggZmxleC1zaHJpbmstMCBvdmVyZmxvdy1oaWRkZW4gdHJ1bmNhdGUgcm91bmRlZC1mdWxsIGJnLXppbmMtOTUwLzUgcHgtMiB0ZXh0LW11dGVkLWZvcmVncm91bmQgdGV4dC14c1wiLFxuICAgICAgICAgICAgICBjaGF0LmlkID09PSBjdXJyZW50Q2hhdElkICYmIFwiYmctd2hpdGUvNjAgdGV4dC16aW5jLTk1MCBzaGFkb3ctYmx1ZS02MDAvNTAgc2hhZG93LXNtXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBoYW5kbGVTZXRDdXJyZW50Q2hhdChjaGF0LmlkKSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBjaGF0LnRpdGxlIHx8IFwiTmV3IGNoYXRcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2hhdC5pZFxuICAgICAgICApKVxuICAgICAgXSB9KVxuICAgIF0gfSk7XG4gIH0pO1xuICB2YXIgTElCVkVSU0lPTiA9IFwiMi4wLjNcIiwgVUFfTUFYX0xFTkdUSCA9IDUwMCwgVVNFUl9BR0VOVCA9IFwidXNlci1hZ2VudFwiLCBFTVBUWSA9IFwiXCIsIFVOS05PV04gPSBcIj9cIiwgRlVOQ19UWVBFID0gXCJmdW5jdGlvblwiLCBVTkRFRl9UWVBFID0gXCJ1bmRlZmluZWRcIiwgT0JKX1RZUEUgPSBcIm9iamVjdFwiLCBTVFJfVFlQRSA9IFwic3RyaW5nXCIsIFVBX0JST1dTRVIgPSBcImJyb3dzZXJcIiwgVUFfQ1BVID0gXCJjcHVcIiwgVUFfREVWSUNFID0gXCJkZXZpY2VcIiwgVUFfRU5HSU5FID0gXCJlbmdpbmVcIiwgVUFfT1MgPSBcIm9zXCIsIFVBX1JFU1VMVCA9IFwicmVzdWx0XCIsIE5BTUUgPSBcIm5hbWVcIiwgVFlQRSA9IFwidHlwZVwiLCBWRU5ET1IgPSBcInZlbmRvclwiLCBWRVJTSU9OID0gXCJ2ZXJzaW9uXCIsIEFSQ0hJVEVDVFVSRSA9IFwiYXJjaGl0ZWN0dXJlXCIsIE1BSk9SID0gXCJtYWpvclwiLCBNT0RFTCA9IFwibW9kZWxcIiwgQ09OU09MRSA9IFwiY29uc29sZVwiLCBNT0JJTEUgPSBcIm1vYmlsZVwiLCBUQUJMRVQgPSBcInRhYmxldFwiLCBTTUFSVFRWID0gXCJzbWFydHR2XCIsIFdFQVJBQkxFID0gXCJ3ZWFyYWJsZVwiLCBYUiA9IFwieHJcIiwgRU1CRURERUQgPSBcImVtYmVkZGVkXCIsIElOQVBQID0gXCJpbmFwcFwiLCBCUkFORFMgPSBcImJyYW5kc1wiLCBGT1JNRkFDVE9SUyA9IFwiZm9ybUZhY3RvcnNcIiwgRlVMTFZFUkxJU1QgPSBcImZ1bGxWZXJzaW9uTGlzdFwiLCBQTEFURk9STSA9IFwicGxhdGZvcm1cIiwgUExBVEZPUk1WRVIgPSBcInBsYXRmb3JtVmVyc2lvblwiLCBCSVRORVNTID0gXCJiaXRuZXNzXCIsIENIX0hFQURFUiA9IFwic2VjLWNoLXVhXCIsIENIX0hFQURFUl9GVUxMX1ZFUl9MSVNUID0gQ0hfSEVBREVSICsgXCItZnVsbC12ZXJzaW9uLWxpc3RcIiwgQ0hfSEVBREVSX0FSQ0ggPSBDSF9IRUFERVIgKyBcIi1hcmNoXCIsIENIX0hFQURFUl9CSVRORVNTID0gQ0hfSEVBREVSICsgXCItXCIgKyBCSVRORVNTLCBDSF9IRUFERVJfRk9STV9GQUNUT1JTID0gQ0hfSEVBREVSICsgXCItZm9ybS1mYWN0b3JzXCIsIENIX0hFQURFUl9NT0JJTEUgPSBDSF9IRUFERVIgKyBcIi1cIiArIE1PQklMRSwgQ0hfSEVBREVSX01PREVMID0gQ0hfSEVBREVSICsgXCItXCIgKyBNT0RFTCwgQ0hfSEVBREVSX1BMQVRGT1JNID0gQ0hfSEVBREVSICsgXCItXCIgKyBQTEFURk9STSwgQ0hfSEVBREVSX1BMQVRGT1JNX1ZFUiA9IENIX0hFQURFUl9QTEFURk9STSArIFwiLXZlcnNpb25cIiwgQ0hfQUxMX1ZBTFVFUyA9IFtCUkFORFMsIEZVTExWRVJMSVNULCBNT0JJTEUsIE1PREVMLCBQTEFURk9STSwgUExBVEZPUk1WRVIsIEFSQ0hJVEVDVFVSRSwgRk9STUZBQ1RPUlMsIEJJVE5FU1NdLCBBTUFaT04gPSBcIkFtYXpvblwiLCBBUFBMRSA9IFwiQXBwbGVcIiwgQVNVUyA9IFwiQVNVU1wiLCBCTEFDS0JFUlJZID0gXCJCbGFja0JlcnJ5XCIsIEdPT0dMRSA9IFwiR29vZ2xlXCIsIEhVQVdFSSA9IFwiSHVhd2VpXCIsIExFTk9WTyA9IFwiTGVub3ZvXCIsIEhPTk9SID0gXCJIb25vclwiLCBMRyA9IFwiTEdcIiwgTUlDUk9TT0ZUID0gXCJNaWNyb3NvZnRcIiwgTU9UT1JPTEEgPSBcIk1vdG9yb2xhXCIsIE5WSURJQSA9IFwiTnZpZGlhXCIsIE9ORVBMVVMgPSBcIk9uZVBsdXNcIiwgT1BQTyA9IFwiT1BQT1wiLCBTQU1TVU5HID0gXCJTYW1zdW5nXCIsIFNIQVJQID0gXCJTaGFycFwiLCBTT05ZID0gXCJTb255XCIsIFhJQU9NSSA9IFwiWGlhb21pXCIsIFpFQlJBID0gXCJaZWJyYVwiLCBDSFJPTUUgPSBcIkNocm9tZVwiLCBDSFJPTUlVTSA9IFwiQ2hyb21pdW1cIiwgQ0hST01FQ0FTVCA9IFwiQ2hyb21lY2FzdFwiLCBFREdFID0gXCJFZGdlXCIsIEZJUkVGT1ggPSBcIkZpcmVmb3hcIiwgT1BFUkEgPSBcIk9wZXJhXCIsIEZBQ0VCT09LID0gXCJGYWNlYm9va1wiLCBTT0dPVSA9IFwiU29nb3VcIiwgUFJFRklYX01PQklMRSA9IFwiTW9iaWxlIFwiLCBTVUZGSVhfQlJPV1NFUiA9IFwiIEJyb3dzZXJcIiwgV0lORE9XUyA9IFwiV2luZG93c1wiO1xuICB2YXIgaXNXaW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSBVTkRFRl9UWVBFLCBOQVZJR0FUT1IgPSBpc1dpbmRvdyAmJiB3aW5kb3cubmF2aWdhdG9yID8gd2luZG93Lm5hdmlnYXRvciA6IHZvaWQgMCwgTkFWSUdBVE9SX1VBREFUQSA9IE5BVklHQVRPUiAmJiBOQVZJR0FUT1IudXNlckFnZW50RGF0YSA/IE5BVklHQVRPUi51c2VyQWdlbnREYXRhIDogdm9pZCAwO1xuICB2YXIgZXh0ZW5kID0gZnVuY3Rpb24oZGVmYXVsdFJneCwgZXh0ZW5zaW9ucykge1xuICAgIHZhciBtZXJnZWRSZ3ggPSB7fTtcbiAgICB2YXIgZXh0cmFSZ3ggPSBleHRlbnNpb25zO1xuICAgIGlmICghaXNFeHRlbnNpb25zKGV4dGVuc2lvbnMpKSB7XG4gICAgICBleHRyYVJneCA9IHt9O1xuICAgICAgZm9yICh2YXIgaTIgaW4gZXh0ZW5zaW9ucykge1xuICAgICAgICBmb3IgKHZhciBqMiBpbiBleHRlbnNpb25zW2kyXSkge1xuICAgICAgICAgIGV4dHJhUmd4W2oyXSA9IGV4dGVuc2lvbnNbaTJdW2oyXS5jb25jYXQoZXh0cmFSZ3hbajJdID8gZXh0cmFSZ3hbajJdIDogW10pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGsyIGluIGRlZmF1bHRSZ3gpIHtcbiAgICAgIG1lcmdlZFJneFtrMl0gPSBleHRyYVJneFtrMl0gJiYgZXh0cmFSZ3hbazJdLmxlbmd0aCAlIDIgPT09IDAgPyBleHRyYVJneFtrMl0uY29uY2F0KGRlZmF1bHRSZ3hbazJdKSA6IGRlZmF1bHRSZ3hbazJdO1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VkUmd4O1xuICB9LCBlbnVtZXJpemUgPSBmdW5jdGlvbihhcnIpIHtcbiAgICB2YXIgZW51bXMgPSB7fTtcbiAgICBmb3IgKHZhciBpMiA9IDA7IGkyIDwgYXJyLmxlbmd0aDsgaTIrKykge1xuICAgICAgZW51bXNbYXJyW2kyXS50b1VwcGVyQ2FzZSgpXSA9IGFycltpMl07XG4gICAgfVxuICAgIHJldHVybiBlbnVtcztcbiAgfSwgaGFzID0gZnVuY3Rpb24oc3RyMSwgc3RyMikge1xuICAgIGlmICh0eXBlb2Ygc3RyMSA9PT0gT0JKX1RZUEUgJiYgc3RyMS5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKHZhciBpMiBpbiBzdHIxKSB7XG4gICAgICAgIGlmIChsb3dlcml6ZShzdHIxW2kyXSkgPT0gbG93ZXJpemUoc3RyMikpIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gaXNTdHJpbmcoc3RyMSkgPyBsb3dlcml6ZShzdHIyKS5pbmRleE9mKGxvd2VyaXplKHN0cjEpKSAhPT0gLTEgOiBmYWxzZTtcbiAgfSwgaXNFeHRlbnNpb25zID0gZnVuY3Rpb24ob2JqLCBkZWVwKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgIHJldHVybiAvXihicm93c2VyfGNwdXxkZXZpY2V8ZW5naW5lfG9zKSQvLnRlc3QocHJvcCkgfHwgKGRlZXAgPyBpc0V4dGVuc2lvbnMob2JqW3Byb3BdKSA6IGZhbHNlKTtcbiAgICB9XG4gIH0sIGlzU3RyaW5nID0gZnVuY3Rpb24odmFsKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWwgPT09IFNUUl9UWVBFO1xuICB9LCBpdGVtTGlzdFRvQXJyYXkgPSBmdW5jdGlvbihoZWFkZXIpIHtcbiAgICBpZiAoIWhlYWRlcikgcmV0dXJuIHZvaWQgMDtcbiAgICB2YXIgYXJyID0gW107XG4gICAgdmFyIHRva2VucyA9IHN0cmlwKC9cXFxcP1xcXCIvZywgaGVhZGVyKS5zcGxpdChcIixcIik7XG4gICAgZm9yICh2YXIgaTIgPSAwOyBpMiA8IHRva2Vucy5sZW5ndGg7IGkyKyspIHtcbiAgICAgIGlmICh0b2tlbnNbaTJdLmluZGV4T2YoXCI7XCIpID4gLTEpIHtcbiAgICAgICAgdmFyIHRva2VuID0gdHJpbSh0b2tlbnNbaTJdKS5zcGxpdChcIjt2PVwiKTtcbiAgICAgICAgYXJyW2kyXSA9IHsgYnJhbmQ6IHRva2VuWzBdLCB2ZXJzaW9uOiB0b2tlblsxXSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXJyW2kyXSA9IHRyaW0odG9rZW5zW2kyXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH0sIGxvd2VyaXplID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgcmV0dXJuIGlzU3RyaW5nKHN0cikgPyBzdHIudG9Mb3dlckNhc2UoKSA6IHN0cjtcbiAgfSwgbWFqb3JpemUgPSBmdW5jdGlvbih2ZXJzaW9uKSB7XG4gICAgcmV0dXJuIGlzU3RyaW5nKHZlcnNpb24pID8gc3RyaXAoL1teXFxkXFwuXS9nLCB2ZXJzaW9uKS5zcGxpdChcIi5cIilbMF0gOiB2b2lkIDA7XG4gIH0sIHNldFByb3BzID0gZnVuY3Rpb24oYXJyKSB7XG4gICAgZm9yICh2YXIgaTIgaW4gYXJyKSB7XG4gICAgICB2YXIgcHJvcE5hbWUgPSBhcnJbaTJdO1xuICAgICAgaWYgKHR5cGVvZiBwcm9wTmFtZSA9PSBPQkpfVFlQRSAmJiBwcm9wTmFtZS5sZW5ndGggPT0gMikge1xuICAgICAgICB0aGlzW3Byb3BOYW1lWzBdXSA9IHByb3BOYW1lWzFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpc1twcm9wTmFtZV0gPSB2b2lkIDA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LCBzdHJpcCA9IGZ1bmN0aW9uKHBhdHRlcm4sIHN0cikge1xuICAgIHJldHVybiBpc1N0cmluZyhzdHIpID8gc3RyLnJlcGxhY2UocGF0dGVybiwgRU1QVFkpIDogc3RyO1xuICB9LCBzdHJpcFF1b3RlcyA9IGZ1bmN0aW9uKHN0cikge1xuICAgIHJldHVybiBzdHJpcCgvXFxcXD9cXFwiL2csIHN0cik7XG4gIH0sIHRyaW0gPSBmdW5jdGlvbihzdHIsIGxlbikge1xuICAgIGlmIChpc1N0cmluZyhzdHIpKSB7XG4gICAgICBzdHIgPSBzdHJpcCgvXlxcc1xccyovLCBzdHIpO1xuICAgICAgcmV0dXJuIHR5cGVvZiBsZW4gPT09IFVOREVGX1RZUEUgPyBzdHIgOiBzdHIuc3Vic3RyaW5nKDAsIFVBX01BWF9MRU5HVEgpO1xuICAgIH1cbiAgfTtcbiAgdmFyIHJneE1hcHBlciA9IGZ1bmN0aW9uKHVhLCBhcnJheXMpIHtcbiAgICBpZiAoIXVhIHx8ICFhcnJheXMpIHJldHVybjtcbiAgICB2YXIgaTIgPSAwLCBqMiwgazIsIHAyLCBxMiwgbWF0Y2hlcywgbWF0Y2g7XG4gICAgd2hpbGUgKGkyIDwgYXJyYXlzLmxlbmd0aCAmJiAhbWF0Y2hlcykge1xuICAgICAgdmFyIHJlZ2V4ID0gYXJyYXlzW2kyXSwgcHJvcHMgPSBhcnJheXNbaTIgKyAxXTtcbiAgICAgIGoyID0gazIgPSAwO1xuICAgICAgd2hpbGUgKGoyIDwgcmVnZXgubGVuZ3RoICYmICFtYXRjaGVzKSB7XG4gICAgICAgIGlmICghcmVnZXhbajJdKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbWF0Y2hlcyA9IHJlZ2V4W2oyKytdLmV4ZWModWEpO1xuICAgICAgICBpZiAoISFtYXRjaGVzKSB7XG4gICAgICAgICAgZm9yIChwMiA9IDA7IHAyIDwgcHJvcHMubGVuZ3RoOyBwMisrKSB7XG4gICAgICAgICAgICBtYXRjaCA9IG1hdGNoZXNbKytrMl07XG4gICAgICAgICAgICBxMiA9IHByb3BzW3AyXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcTIgPT09IE9CSl9UWVBFICYmIHEyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgaWYgKHEyLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcTJbMV0gPT0gRlVOQ19UWVBFKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzW3EyWzBdXSA9IHEyWzFdLmNhbGwodGhpcywgbWF0Y2gpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aGlzW3EyWzBdXSA9IHEyWzFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChxMi5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHEyWzFdID09PSBGVU5DX1RZUEUgJiYgIShxMlsxXS5leGVjICYmIHEyWzFdLnRlc3QpKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzW3EyWzBdXSA9IG1hdGNoID8gcTJbMV0uY2FsbCh0aGlzLCBtYXRjaCwgcTJbMl0pIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aGlzW3EyWzBdXSA9IG1hdGNoID8gbWF0Y2gucmVwbGFjZShxMlsxXSwgcTJbMl0pIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChxMi5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICAgICAgICB0aGlzW3EyWzBdXSA9IG1hdGNoID8gcTJbM10uY2FsbCh0aGlzLCBtYXRjaC5yZXBsYWNlKHEyWzFdLCBxMlsyXSkpIDogdm9pZCAwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzW3EyXSA9IG1hdGNoID8gbWF0Y2ggOiB2b2lkIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpMiArPSAyO1xuICAgIH1cbiAgfSwgc3RyTWFwcGVyID0gZnVuY3Rpb24oc3RyLCBtYXApIHtcbiAgICBmb3IgKHZhciBpMiBpbiBtYXApIHtcbiAgICAgIGlmICh0eXBlb2YgbWFwW2kyXSA9PT0gT0JKX1RZUEUgJiYgbWFwW2kyXS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAodmFyIGoyID0gMDsgajIgPCBtYXBbaTJdLmxlbmd0aDsgajIrKykge1xuICAgICAgICAgIGlmIChoYXMobWFwW2kyXVtqMl0sIHN0cikpIHtcbiAgICAgICAgICAgIHJldHVybiBpMiA9PT0gVU5LTk9XTiA/IHZvaWQgMCA6IGkyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChoYXMobWFwW2kyXSwgc3RyKSkge1xuICAgICAgICByZXR1cm4gaTIgPT09IFVOS05PV04gPyB2b2lkIDAgOiBpMjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hcC5oYXNPd25Qcm9wZXJ0eShcIipcIikgPyBtYXBbXCIqXCJdIDogc3RyO1xuICB9O1xuICB2YXIgd2luZG93c1ZlcnNpb25NYXAgPSB7XG4gICAgXCJNRVwiOiBcIjQuOTBcIixcbiAgICBcIk5UIDMuMTFcIjogXCJOVDMuNTFcIixcbiAgICBcIk5UIDQuMFwiOiBcIk5UNC4wXCIsXG4gICAgXCIyMDAwXCI6IFwiTlQgNS4wXCIsXG4gICAgXCJYUFwiOiBbXCJOVCA1LjFcIiwgXCJOVCA1LjJcIl0sXG4gICAgXCJWaXN0YVwiOiBcIk5UIDYuMFwiLFxuICAgIFwiN1wiOiBcIk5UIDYuMVwiLFxuICAgIFwiOFwiOiBcIk5UIDYuMlwiLFxuICAgIFwiOC4xXCI6IFwiTlQgNi4zXCIsXG4gICAgXCIxMFwiOiBbXCJOVCA2LjRcIiwgXCJOVCAxMC4wXCJdLFxuICAgIFwiUlRcIjogXCJBUk1cIlxuICB9LCBmb3JtRmFjdG9yc01hcCA9IHtcbiAgICBcImVtYmVkZGVkXCI6IFwiQXV0b21vdGl2ZVwiLFxuICAgIFwibW9iaWxlXCI6IFwiTW9iaWxlXCIsXG4gICAgXCJ0YWJsZXRcIjogW1wiVGFibGV0XCIsIFwiRUlua1wiXSxcbiAgICBcInNtYXJ0dHZcIjogXCJUVlwiLFxuICAgIFwid2VhcmFibGVcIjogXCJXYXRjaFwiLFxuICAgIFwieHJcIjogW1wiVlJcIiwgXCJYUlwiXSxcbiAgICBcIj9cIjogW1wiRGVza3RvcFwiLCBcIlVua25vd25cIl0sXG4gICAgXCIqXCI6IHZvaWQgMFxuICB9O1xuICB2YXIgZGVmYXVsdFJlZ2V4ZXMgPSB7XG4gICAgYnJvd3NlcjogW1xuICAgICAgW1xuICAgICAgICAvLyBNb3N0IGNvbW1vbiByZWdhcmRsZXNzIGVuZ2luZVxuICAgICAgICAvXFxiKD86Y3Jtb3xjcmlvcylcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAgIC8vIENocm9tZSBmb3IgQW5kcm9pZC9pT1NcbiAgICAgIF0sXG4gICAgICBbVkVSU0lPTiwgW05BTUUsIFBSRUZJWF9NT0JJTEUgKyBcIkNocm9tZVwiXV0sXG4gICAgICBbXG4gICAgICAgIC9lZGcoPzplfGlvc3xhKT9cXC8oW1xcd1xcLl0rKS9pXG4gICAgICAgIC8vIE1pY3Jvc29mdCBFZGdlXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBcIkVkZ2VcIl1dLFxuICAgICAgW1xuICAgICAgICAvLyBQcmVzdG8gYmFzZWRcbiAgICAgICAgLyhvcGVyYSBtaW5pKVxcLyhbLVxcd1xcLl0rKS9pLFxuICAgICAgICAvLyBPcGVyYSBNaW5pXG4gICAgICAgIC8ob3BlcmEgW21vYmlsZXRhYl17Myw2fSlcXGIuK3ZlcnNpb25cXC8oWy1cXHdcXC5dKykvaSxcbiAgICAgICAgLy8gT3BlcmEgTW9iaS9UYWJsZXRcbiAgICAgICAgLyhvcGVyYSkoPzouK3ZlcnNpb25cXC98W1xcLyBdKykoW1xcd1xcLl0rKS9pXG4gICAgICAgIC8vIE9wZXJhXG4gICAgICBdLFxuICAgICAgW05BTUUsIFZFUlNJT05dLFxuICAgICAgW1xuICAgICAgICAvb3Bpb3NbXFwvIF0rKFtcXHdcXC5dKykvaVxuICAgICAgICAvLyBPcGVyYSBtaW5pIG9uIGlwaG9uZSA+PSA4LjBcbiAgICAgIF0sXG4gICAgICBbVkVSU0lPTiwgW05BTUUsIE9QRVJBICsgXCIgTWluaVwiXV0sXG4gICAgICBbXG4gICAgICAgIC9cXGJvcCg/OnJnKT94XFwvKFtcXHdcXC5dKykvaVxuICAgICAgICAvLyBPcGVyYSBHWFxuICAgICAgXSxcbiAgICAgIFtWRVJTSU9OLCBbTkFNRSwgT1BFUkEgKyBcIiBHWFwiXV0sXG4gICAgICBbXG4gICAgICAgIC9cXGJvcHJcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAgIC8vIE9wZXJhIFdlYmtpdFxuICAgICAgXSxcbiAgICAgIFtWRVJTSU9OLCBbTkFNRSwgT1BFUkFdXSxcbiAgICAgIFtcbiAgICAgICAgLy8gTWl4ZWRcbiAgICAgICAgL1xcYmJbYWldKmQoPzp1aGR8W3ViXSpbYWVrb3Byc3d4XXs1LDZ9KVtcXC8gXT8oW1xcd1xcLl0rKS9pXG4gICAgICAgIC8vIEJhaWR1XG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBcIkJhaWR1XCJdXSxcbiAgICAgIFtcbiAgICAgICAgL1xcYig/Om14YnJvd3NlcnxteGlvc3xteWllMilcXC8/KFstXFx3XFwuXSopXFxiL2lcbiAgICAgICAgLy8gTWF4dGhvblxuICAgICAgXSxcbiAgICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJNYXh0aG9uXCJdXSxcbiAgICAgIFtcbiAgICAgICAgLyhraW5kbGUpXFwvKFtcXHdcXC5dKykvaSxcbiAgICAgICAgLy8gS2luZGxlXG4gICAgICAgIC8obHVuYXNjYXBlfG1heHRob258bmV0ZnJvbnR8amFzbWluZXxibGF6ZXJ8c2xlaXBuaXIpW1xcLyBdPyhbXFx3XFwuXSopL2ksXG4gICAgICAgIC8vIEx1bmFzY2FwZS9NYXh0aG9uL05ldGZyb250L0phc21pbmUvQmxhemVyL1NsZWlwbmlyXG4gICAgICAgIC8vIFRyaWRlbnQgYmFzZWRcbiAgICAgICAgLyhhdmFudHxpZW1vYmlsZXxzbGltKD86YnJvd3Nlcnxib2F0fGpldCkpW1xcLyBdPyhbXFxkXFwuXSopL2ksXG4gICAgICAgIC8vIEF2YW50L0lFTW9iaWxlL1NsaW1Ccm93c2VyL1NsaW1Cb2F0L1NsaW1qZXRcbiAgICAgICAgLyg/Om1zfFxcKCkoaWUpIChbXFx3XFwuXSspL2ksXG4gICAgICAgIC8vIEludGVybmV0IEV4cGxvcmVyXG4gICAgICAgIC8vIEJsaW5rL1dlYmtpdC9LSFRNTCBiYXNlZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmxvY2svUm9ja01lbHQvTWlkb3JpL0VwaXBoYW55L1NpbGsvU2t5ZmlyZS9Cb2x0L0lyb24vSXJpZGl1bS9QaGFudG9tSlMvQm93c2VyL1F1cFppbGxhL0ZhbGtvbi9MRyBCcm93c2VyL090dGVyL3F1dGVicm93c2VyL0Rvb2JsZVxuICAgICAgICAvKGZsb2NrfHJvY2ttZWx0fG1pZG9yaXxlcGlwaGFueXxzaWxrfHNreWZpcmV8b3ZpYnJvd3Nlcnxib2x0fGlyb258dml2YWxkaXxpcmlkaXVtfHBoYW50b21qc3xib3dzZXJ8cXVwemlsbGF8ZmFsa29ufHJla29ucXxwdWZmaW58YnJhdmV8d2hhbGUoPyEuK25hdmVyKXxxcWJyb3dzZXJsaXRlfGR1Y2tkdWNrZ298a2xhcnxoZWxpb3woPz1jb21vZG9fKT9kcmFnb258b3R0ZXJ8ZG9vYmxlfCg/OmxnIHxxdXRlKWJyb3dzZXIpXFwvKFstXFx3XFwuXSspL2ksXG4gICAgICAgIC8vIFJla29ucS9QdWZmaW4vQnJhdmUvV2hhbGUvUVFCcm93c2VyTGl0ZS9RUS8vVml2YWxkaS9EdWNrRHVja0dvL0tsYXIvSGVsaW8vRHJhZ29uXG4gICAgICAgIC8oaGV5dGFwfG92aXwxMTV8c3VyZilicm93c2VyXFwvKFtcXGRcXC5dKykvaSxcbiAgICAgICAgLy8gSGV5VGFwL092aS8xMTUvU3VyZlxuICAgICAgICAvKGVjb3NpYXx3ZWlibykoPzpfX3wgXFx3K0ApKFtcXGRcXC5dKykvaVxuICAgICAgICAvLyBFY29zaWEvV2VpYm9cbiAgICAgIF0sXG4gICAgICBbTkFNRSwgVkVSU0lPTl0sXG4gICAgICBbXG4gICAgICAgIC9xdWFyayg/OnBjKT9cXC8oWy1cXHdcXC5dKykvaVxuICAgICAgICAvLyBRdWFya1xuICAgICAgXSxcbiAgICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJRdWFya1wiXV0sXG4gICAgICBbXG4gICAgICAgIC9cXGJkZGdcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAgIC8vIER1Y2tEdWNrR29cbiAgICAgIF0sXG4gICAgICBbVkVSU0lPTiwgW05BTUUsIFwiRHVja0R1Y2tHb1wiXV0sXG4gICAgICBbXG4gICAgICAgIC8oPzpcXGJ1Yz8gP2Jyb3dzZXJ8KD86anVjLispdWN3ZWIpW1xcLyBdPyhbXFx3XFwuXSspL2lcbiAgICAgICAgLy8gVUNCcm93c2VyXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBcIlVDQnJvd3NlclwiXV0sXG4gICAgICBbXG4gICAgICAgIC9taWNyb20uK1xcYnFiY29yZVxcLyhbXFx3XFwuXSspL2ksXG4gICAgICAgIC8vIFdlQ2hhdCBEZXNrdG9wIGZvciBXaW5kb3dzIEJ1aWx0LWluIEJyb3dzZXJcbiAgICAgICAgL1xcYnFiY29yZVxcLyhbXFx3XFwuXSspLittaWNyb20vaSxcbiAgICAgICAgL21pY3JvbWVzc2VuZ2VyXFwvKFtcXHdcXC5dKykvaVxuICAgICAgICAvLyBXZUNoYXRcbiAgICAgIF0sXG4gICAgICBbVkVSU0lPTiwgW05BTUUsIFwiV2VDaGF0XCJdXSxcbiAgICAgIFtcbiAgICAgICAgL2tvbnF1ZXJvclxcLyhbXFx3XFwuXSspL2lcbiAgICAgICAgLy8gS29ucXVlcm9yXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBcIktvbnF1ZXJvclwiXV0sXG4gICAgICBbXG4gICAgICAgIC90cmlkZW50Litydls6IF0oW1xcd1xcLl17MSw5fSlcXGIuK2xpa2UgZ2Vja28vaVxuICAgICAgICAvLyBJRTExXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBcIklFXCJdXSxcbiAgICAgIFtcbiAgICAgICAgL3lhKD86c2VhcmNoKT9icm93c2VyXFwvKFtcXHdcXC5dKykvaVxuICAgICAgICAvLyBZYW5kZXhcbiAgICAgIF0sXG4gICAgICBbVkVSU0lPTiwgW05BTUUsIFwiWWFuZGV4XCJdXSxcbiAgICAgIFtcbiAgICAgICAgL3NsYnJvd3NlclxcLyhbXFx3XFwuXSspL2lcbiAgICAgICAgLy8gU21hcnQgTGVub3ZvIEJyb3dzZXJcbiAgICAgIF0sXG4gICAgICBbVkVSU0lPTiwgW05BTUUsIFwiU21hcnQgXCIgKyBMRU5PVk8gKyBTVUZGSVhfQlJPV1NFUl1dLFxuICAgICAgW1xuICAgICAgICAvKGF2YXN0fGF2ZylcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAgIC8vIEF2YXN0L0FWRyBTZWN1cmUgQnJvd3NlclxuICAgICAgXSxcbiAgICAgIFtbTkFNRSwgLyguKykvLCBcIiQxIFNlY3VyZVwiICsgU1VGRklYX0JST1dTRVJdLCBWRVJTSU9OXSxcbiAgICAgIFtcbiAgICAgICAgL1xcYmZvY3VzXFwvKFtcXHdcXC5dKykvaVxuICAgICAgICAvLyBGaXJlZm94IEZvY3VzXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBGSVJFRk9YICsgXCIgRm9jdXNcIl1dLFxuICAgICAgW1xuICAgICAgICAvXFxib3B0XFwvKFtcXHdcXC5dKykvaVxuICAgICAgICAvLyBPcGVyYSBUb3VjaFxuICAgICAgXSxcbiAgICAgIFtWRVJTSU9OLCBbTkFNRSwgT1BFUkEgKyBcIiBUb3VjaFwiXV0sXG4gICAgICBbXG4gICAgICAgIC9jb2NfY29jXFx3K1xcLyhbXFx3XFwuXSspL2lcbiAgICAgICAgLy8gQ29jIENvYyBCcm93c2VyXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBcIkNvYyBDb2NcIl1dLFxuICAgICAgW1xuICAgICAgICAvZG9sZmluXFwvKFtcXHdcXC5dKykvaVxuICAgICAgICAvLyBEb2xwaGluXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBcIkRvbHBoaW5cIl1dLFxuICAgICAgW1xuICAgICAgICAvY29hc3RcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAgIC8vIE9wZXJhIENvYXN0XG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBPUEVSQSArIFwiIENvYXN0XCJdXSxcbiAgICAgIFtcbiAgICAgICAgL21pdWlicm93c2VyXFwvKFtcXHdcXC5dKykvaVxuICAgICAgICAvLyBNSVVJIEJyb3dzZXJcbiAgICAgIF0sXG4gICAgICBbVkVSU0lPTiwgW05BTUUsIFwiTUlVSVwiICsgU1VGRklYX0JST1dTRVJdXSxcbiAgICAgIFtcbiAgICAgICAgL2Z4aW9zXFwvKFtcXHdcXC4tXSspL2lcbiAgICAgICAgLy8gRmlyZWZveCBmb3IgaU9TXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBQUkVGSVhfTU9CSUxFICsgRklSRUZPWF1dLFxuICAgICAgW1xuICAgICAgICAvXFxicWlob29icm93c2VyXFwvPyhbXFx3XFwuXSopL2lcbiAgICAgICAgLy8gMzYwXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBcIjM2MFwiXV0sXG4gICAgICBbXG4gICAgICAgIC9cXGIocXEpXFwvKFtcXHdcXC5dKykvaVxuICAgICAgICAvLyBRUVxuICAgICAgXSxcbiAgICAgIFtbTkFNRSwgLyguKykvLCBcIiQxQnJvd3NlclwiXSwgVkVSU0lPTl0sXG4gICAgICBbXG4gICAgICAgIC8ob2N1bHVzfHNhaWxmaXNofGh1YXdlaXx2aXZvfHBpY28pYnJvd3NlclxcLyhbXFx3XFwuXSspL2lcbiAgICAgIF0sXG4gICAgICBbW05BTUUsIC8oLispLywgXCIkMVwiICsgU1VGRklYX0JST1dTRVJdLCBWRVJTSU9OXSxcbiAgICAgIFtcbiAgICAgICAgLy8gT2N1bHVzL1NhaWxmaXNoL0h1YXdlaUJyb3dzZXIvVml2b0Jyb3dzZXIvUGljb0Jyb3dzZXJcbiAgICAgICAgL3NhbXN1bmdicm93c2VyXFwvKFtcXHdcXC5dKykvaVxuICAgICAgICAvLyBTYW1zdW5nIEludGVybmV0XG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBTQU1TVU5HICsgXCIgSW50ZXJuZXRcIl1dLFxuICAgICAgW1xuICAgICAgICAvbWV0YXNyW1xcLyBdPyhbXFxkXFwuXSspL2lcbiAgICAgICAgLy8gU29nb3UgRXhwbG9yZXJcbiAgICAgIF0sXG4gICAgICBbVkVSU0lPTiwgW05BTUUsIFNPR09VICsgXCIgRXhwbG9yZXJcIl1dLFxuICAgICAgW1xuICAgICAgICAvKHNvZ291KW1vXFx3K1xcLyhbXFxkXFwuXSspL2lcbiAgICAgICAgLy8gU29nb3UgTW9iaWxlXG4gICAgICBdLFxuICAgICAgW1tOQU1FLCBTT0dPVSArIFwiIE1vYmlsZVwiXSwgVkVSU0lPTl0sXG4gICAgICBbXG4gICAgICAgIC8oZWxlY3Ryb24pXFwvKFtcXHdcXC5dKykgc2FmYXJpL2ksXG4gICAgICAgIC8vIEVsZWN0cm9uLWJhc2VkIEFwcFxuICAgICAgICAvKHRlc2xhKSg/OiBxdGNhcmJyb3dzZXJ8XFwvKDIwXFxkXFxkXFwuWy1cXHdcXC5dKykpL2ksXG4gICAgICAgIC8vIFRlc2xhXG4gICAgICAgIC9tPyhxcWJyb3dzZXJ8MjM0NSg/PWJyb3dzZXJ8Y2hyb21lfGV4cGxvcmVyKSlcXHcqW1xcLyBdP3Y/KFtcXHdcXC5dKykvaVxuICAgICAgICAvLyBRUS8yMzQ1XG4gICAgICBdLFxuICAgICAgW05BTUUsIFZFUlNJT05dLFxuICAgICAgW1xuICAgICAgICAvKGxiYnJvd3NlcnxyZWtvbnEpL2lcbiAgICAgICAgLy8gTGllQmFvIEJyb3dzZXIvUmVrb25xXG4gICAgICBdLFxuICAgICAgW05BTUVdLFxuICAgICAgW1xuICAgICAgICAvb21lXFwvKFtcXHdcXC5dKykgXFx3KiA/KGlyb24pIHNhZi9pLFxuICAgICAgICAvLyBJcm9uXG4gICAgICAgIC9vbWVcXC8oW1xcd1xcLl0rKS4rcWlodSAoMzYwKVtlc11lL2lcbiAgICAgICAgLy8gMzYwXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIE5BTUVdLFxuICAgICAgW1xuICAgICAgICAvLyBXZWJWaWV3XG4gICAgICAgIC8oKD86ZmJhblxcL2ZiaW9zfGZiX2lhYlxcL2ZiNGEpKD8hLitmYmF2KXw7ZmJhdlxcLyhbXFx3XFwuXSspOykvaVxuICAgICAgICAvLyBGYWNlYm9vayBBcHAgZm9yIGlPUyAmIEFuZHJvaWRcbiAgICAgIF0sXG4gICAgICBbW05BTUUsIEZBQ0VCT09LXSwgVkVSU0lPTiwgW1RZUEUsIElOQVBQXV0sXG4gICAgICBbXG4gICAgICAgIC8oS2xhcm5hKVxcLyhbXFx3XFwuXSspL2ksXG4gICAgICAgIC8vIEtsYXJuYSBTaG9wcGluZyBCcm93c2VyIGZvciBpT1MgJiBBbmRyb2lkXG4gICAgICAgIC8oa2FrYW8oPzp0YWxrfHN0b3J5KSlbXFwvIF0oW1xcd1xcLl0rKS9pLFxuICAgICAgICAvLyBLYWthbyBBcHBcbiAgICAgICAgLyhuYXZlcilcXCguKj8oXFxkK1xcLltcXHdcXC5dKykuKlxcKS9pLFxuICAgICAgICAvLyBOYXZlciBJbkFwcFxuICAgICAgICAvKGRhdW0pYXBwc1tcXC8gXShbXFx3XFwuXSspL2ksXG4gICAgICAgIC8vIERhdW0gQXBwXG4gICAgICAgIC9zYWZhcmkgKGxpbmUpXFwvKFtcXHdcXC5dKykvaSxcbiAgICAgICAgLy8gTGluZSBBcHAgZm9yIGlPU1xuICAgICAgICAvXFxiKGxpbmUpXFwvKFtcXHdcXC5dKylcXC9pYWIvaSxcbiAgICAgICAgLy8gTGluZSBBcHAgZm9yIEFuZHJvaWRcbiAgICAgICAgLyhhbGlwYXkpY2xpZW50XFwvKFtcXHdcXC5dKykvaSxcbiAgICAgICAgLy8gQWxpcGF5XG4gICAgICAgIC8odHdpdHRlcikoPzphbmR8IGYuK2VcXC8oW1xcd1xcLl0rKSkvaSxcbiAgICAgICAgLy8gVHdpdHRlclxuICAgICAgICAvKGluc3RhZ3JhbXxzbmFwY2hhdClbXFwvIF0oWy1cXHdcXC5dKykvaVxuICAgICAgICAvLyBJbnN0YWdyYW0vU25hcGNoYXRcbiAgICAgIF0sXG4gICAgICBbTkFNRSwgVkVSU0lPTiwgW1RZUEUsIElOQVBQXV0sXG4gICAgICBbXG4gICAgICAgIC9cXGJnc2FcXC8oW1xcd1xcLl0rKSAuKnNhZmFyaVxcLy9pXG4gICAgICAgIC8vIEdvb2dsZSBTZWFyY2ggQXBwbGlhbmNlIG9uIGlPU1xuICAgICAgXSxcbiAgICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJHU0FcIl0sIFtUWVBFLCBJTkFQUF1dLFxuICAgICAgW1xuICAgICAgICAvbXVzaWNhbF9seSg/Oi4rYXBwXz92ZXJzaW9uXFwvfF8pKFtcXHdcXC5dKykvaVxuICAgICAgICAvLyBUaWtUb2tcbiAgICAgIF0sXG4gICAgICBbVkVSU0lPTiwgW05BTUUsIFwiVGlrVG9rXCJdLCBbVFlQRSwgSU5BUFBdXSxcbiAgICAgIFtcbiAgICAgICAgL1xcWyhsaW5rZWRpbilhcHBcXF0vaVxuICAgICAgICAvLyBMaW5rZWRJbiBBcHAgZm9yIGlPUyAmIEFuZHJvaWRcbiAgICAgIF0sXG4gICAgICBbTkFNRSwgW1RZUEUsIElOQVBQXV0sXG4gICAgICBbXG4gICAgICAgIC8oY2hyb21pdW0pW1xcLyBdKFstXFx3XFwuXSspL2lcbiAgICAgICAgLy8gQ2hyb21pdW1cbiAgICAgIF0sXG4gICAgICBbTkFNRSwgVkVSU0lPTl0sXG4gICAgICBbXG4gICAgICAgIC9oZWFkbGVzc2Nocm9tZSg/OlxcLyhbXFx3XFwuXSspfCApL2lcbiAgICAgICAgLy8gQ2hyb21lIEhlYWRsZXNzXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBDSFJPTUUgKyBcIiBIZWFkbGVzc1wiXV0sXG4gICAgICBbXG4gICAgICAgIC8gd3ZcXCkuKyhjaHJvbWUpXFwvKFtcXHdcXC5dKykvaVxuICAgICAgICAvLyBDaHJvbWUgV2ViVmlld1xuICAgICAgXSxcbiAgICAgIFtbTkFNRSwgQ0hST01FICsgXCIgV2ViVmlld1wiXSwgVkVSU0lPTl0sXG4gICAgICBbXG4gICAgICAgIC9kcm9pZC4rIHZlcnNpb25cXC8oW1xcd1xcLl0rKVxcYi4rKD86bW9iaWxlIHNhZmFyaXxzYWZhcmkpL2lcbiAgICAgICAgLy8gQW5kcm9pZCBCcm93c2VyXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBcIkFuZHJvaWRcIiArIFNVRkZJWF9CUk9XU0VSXV0sXG4gICAgICBbXG4gICAgICAgIC9jaHJvbWVcXC8oW1xcd1xcLl0rKSBtb2JpbGUvaVxuICAgICAgICAvLyBDaHJvbWUgTW9iaWxlXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBQUkVGSVhfTU9CSUxFICsgXCJDaHJvbWVcIl1dLFxuICAgICAgW1xuICAgICAgICAvKGNocm9tZXxvbW5pd2VifGFyb3JhfFt0aXplbm9rYV17NX0gP2Jyb3dzZXIpXFwvdj8oW1xcd1xcLl0rKS9pXG4gICAgICAgIC8vIENocm9tZS9PbW5pV2ViL0Fyb3JhL1RpemVuL05va2lhXG4gICAgICBdLFxuICAgICAgW05BTUUsIFZFUlNJT05dLFxuICAgICAgW1xuICAgICAgICAvdmVyc2lvblxcLyhbXFx3XFwuXFwsXSspIC4qbW9iaWxlKD86XFwvXFx3KyB8ID8pc2FmYXJpL2lcbiAgICAgICAgLy8gU2FmYXJpIE1vYmlsZVxuICAgICAgXSxcbiAgICAgIFtWRVJTSU9OLCBbTkFNRSwgUFJFRklYX01PQklMRSArIFwiU2FmYXJpXCJdXSxcbiAgICAgIFtcbiAgICAgICAgL2lwaG9uZSAuKm1vYmlsZSg/OlxcL1xcdysgfCA/KXNhZmFyaS9pXG4gICAgICBdLFxuICAgICAgW1tOQU1FLCBQUkVGSVhfTU9CSUxFICsgXCJTYWZhcmlcIl1dLFxuICAgICAgW1xuICAgICAgICAvdmVyc2lvblxcLyhbXFx3XFwuXFwsXSspIC4qKHNhZmFyaSkvaVxuICAgICAgICAvLyBTYWZhcmlcbiAgICAgIF0sXG4gICAgICBbVkVSU0lPTiwgTkFNRV0sXG4gICAgICBbXG4gICAgICAgIC93ZWJraXQuKz8obW9iaWxlID9zYWZhcml8c2FmYXJpKShcXC9bXFx3XFwuXSspL2lcbiAgICAgICAgLy8gU2FmYXJpIDwgMy4wXG4gICAgICBdLFxuICAgICAgW05BTUUsIFtWRVJTSU9OLCBcIjFcIl1dLFxuICAgICAgW1xuICAgICAgICAvKHdlYmtpdHxraHRtbClcXC8oW1xcd1xcLl0rKS9pXG4gICAgICBdLFxuICAgICAgW05BTUUsIFZFUlNJT05dLFxuICAgICAgW1xuICAgICAgICAvLyBHZWNrbyBiYXNlZFxuICAgICAgICAvKD86bW9iaWxlfHRhYmxldCk7LiooZmlyZWZveClcXC8oW1xcd1xcLi1dKykvaVxuICAgICAgICAvLyBGaXJlZm94IE1vYmlsZVxuICAgICAgXSxcbiAgICAgIFtbTkFNRSwgUFJFRklYX01PQklMRSArIEZJUkVGT1hdLCBWRVJTSU9OXSxcbiAgICAgIFtcbiAgICAgICAgLyhuYXZpZ2F0b3J8bmV0c2NhcGVcXGQ/KVxcLyhbLVxcd1xcLl0rKS9pXG4gICAgICAgIC8vIE5ldHNjYXBlXG4gICAgICBdLFxuICAgICAgW1tOQU1FLCBcIk5ldHNjYXBlXCJdLCBWRVJTSU9OXSxcbiAgICAgIFtcbiAgICAgICAgLyh3b2x2aWN8bGlicmV3b2xmKVxcLyhbXFx3XFwuXSspL2lcbiAgICAgICAgLy8gV29sdmljL0xpYnJlV29sZlxuICAgICAgXSxcbiAgICAgIFtOQU1FLCBWRVJTSU9OXSxcbiAgICAgIFtcbiAgICAgICAgL21vYmlsZSB2cjsgcnY6KFtcXHdcXC5dKylcXCkuK2ZpcmVmb3gvaVxuICAgICAgICAvLyBGaXJlZm94IFJlYWxpdHlcbiAgICAgIF0sXG4gICAgICBbVkVSU0lPTiwgW05BTUUsIEZJUkVGT1ggKyBcIiBSZWFsaXR5XCJdXSxcbiAgICAgIFtcbiAgICAgICAgL2VraW9oZi4rKGZsb3cpXFwvKFtcXHdcXC5dKykvaSxcbiAgICAgICAgLy8gRmxvd1xuICAgICAgICAvKHN3aWZ0Zm94KS9pLFxuICAgICAgICAvLyBTd2lmdGZveFxuICAgICAgICAvKGljZWRyYWdvbnxpY2V3ZWFzZWx8Y2FtaW5vfGNoaW1lcmF8ZmVubmVjfG1hZW1vIGJyb3dzZXJ8bWluaW1vfGNvbmtlcm9yKVtcXC8gXT8oW1xcd1xcLlxcK10rKS9pLFxuICAgICAgICAvLyBJY2VEcmFnb24vSWNld2Vhc2VsL0NhbWluby9DaGltZXJhL0Zlbm5lYy9NYWVtby9NaW5pbW8vQ29ua2Vyb3JcbiAgICAgICAgLyhzZWFtb25rZXl8ay1tZWxlb258aWNlY2F0fGljZWFwZXxmaXJlYmlyZHxwaG9lbml4fHBhbGVtb29ufGJhc2lsaXNrfHdhdGVyZm94KVxcLyhbLVxcd1xcLl0rKSQvaSxcbiAgICAgICAgLy8gRmlyZWZveC9TZWFNb25rZXkvSy1NZWxlb24vSWNlQ2F0L0ljZUFwZS9GaXJlYmlyZC9QaG9lbml4XG4gICAgICAgIC8oZmlyZWZveClcXC8oW1xcd1xcLl0rKS9pLFxuICAgICAgICAvLyBPdGhlciBGaXJlZm94LWJhc2VkXG4gICAgICAgIC8obW96aWxsYSlcXC8oW1xcd1xcLl0rKSAuK3J2XFw6LitnZWNrb1xcL1xcZCsvaSxcbiAgICAgICAgLy8gTW96aWxsYVxuICAgICAgICAvLyBPdGhlclxuICAgICAgICAvKGFtYXlhfGRpbGxvfGRvcmlzfGljYWJ8bGFkeWJpcmR8bHlueHxtb3NhaWN8bmV0c3VyZnxvYmlnb3xwb2xhcmlzfHczbXwoPzpnb3xpY2V8dXApW1xcLiBdP2Jyb3dzZXIpWy1cXC8gXT92PyhbXFx3XFwuXSspL2ksXG4gICAgICAgIC8vIFBvbGFyaXMvTHlueC9EaWxsby9pQ2FiL0RvcmlzL0FtYXlhL3czbS9OZXRTdXJmL09iaWdvL01vc2FpYy9Hby9JQ0UvVVAuQnJvd3Nlci9MYWR5YmlyZFxuICAgICAgICAvXFxiKGxpbmtzKSBcXCgoW1xcd1xcLl0rKS9pXG4gICAgICAgIC8vIExpbmtzXG4gICAgICBdLFxuICAgICAgW05BTUUsIFtWRVJTSU9OLCAvXy9nLCBcIi5cIl1dLFxuICAgICAgW1xuICAgICAgICAvKGNvYmFsdClcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAgIC8vIENvYmFsdFxuICAgICAgXSxcbiAgICAgIFtOQU1FLCBbVkVSU0lPTiwgL1teXFxkXFwuXSsuLywgRU1QVFldXVxuICAgIF0sXG4gICAgY3B1OiBbXG4gICAgICBbXG4gICAgICAgIC9cXGIoKGFtZHx4fHg4NlstX10/fHdvd3x3aW4pNjQpXFxiL2lcbiAgICAgICAgLy8gQU1ENjQgKHg2NClcbiAgICAgIF0sXG4gICAgICBbW0FSQ0hJVEVDVFVSRSwgXCJhbWQ2NFwiXV0sXG4gICAgICBbXG4gICAgICAgIC8oaWEzMig/PTspKS9pLFxuICAgICAgICAvLyBJQTMyIChxdWlja3RpbWUpXG4gICAgICAgIC9cXGIoKGlbMzQ2XXx4KTg2KShwYyk/XFxiL2lcbiAgICAgICAgLy8gSUEzMiAoeDg2KVxuICAgICAgXSxcbiAgICAgIFtbQVJDSElURUNUVVJFLCBcImlhMzJcIl1dLFxuICAgICAgW1xuICAgICAgICAvXFxiKGFhcmNoNjR8YXJtKHY/Wzg5XWU/bD98Xz82NCkpXFxiL2lcbiAgICAgICAgLy8gQVJNNjRcbiAgICAgIF0sXG4gICAgICBbW0FSQ0hJVEVDVFVSRSwgXCJhcm02NFwiXV0sXG4gICAgICBbXG4gICAgICAgIC9cXGIoYXJtKHZbNjddKT9odD9uP1tmbF1wPylcXGIvaVxuICAgICAgICAvLyBBUk1IRlxuICAgICAgXSxcbiAgICAgIFtbQVJDSElURUNUVVJFLCBcImFybWhmXCJdXSxcbiAgICAgIFtcbiAgICAgICAgLy8gUG9ja2V0UEMgbWlzdGFrZW5seSBpZGVudGlmaWVkIGFzIFBvd2VyUENcbiAgICAgICAgLyggKGNlfG1vYmlsZSk7IHBwYzt8XFwvW1xcd1xcLl0rYXJtXFxiKS9pXG4gICAgICBdLFxuICAgICAgW1tBUkNISVRFQ1RVUkUsIFwiYXJtXCJdXSxcbiAgICAgIFtcbiAgICAgICAgLygocHBjfHBvd2VycGMpKDY0KT8pKCBtYWN8O3xcXCkpL2lcbiAgICAgICAgLy8gUG93ZXJQQ1xuICAgICAgXSxcbiAgICAgIFtbQVJDSElURUNUVVJFLCAvb3dlci8sIEVNUFRZLCBsb3dlcml6ZV1dLFxuICAgICAgW1xuICAgICAgICAvIHN1bjRcXHdbO1xcKV0vaVxuICAgICAgICAvLyBTUEFSQ1xuICAgICAgXSxcbiAgICAgIFtbQVJDSElURUNUVVJFLCBcInNwYXJjXCJdXSxcbiAgICAgIFtcbiAgICAgICAgL1xcYihhdnIzMnxpYTY0KD89Oyl8NjhrKD89XFwpKXxcXGJhcm0oPz12KFsxLTddfFs1LTddMSlsP3w7fGVhYmkpfChpcml4fG1pcHN8c3BhcmMpKDY0KT9cXGJ8cGEtcmlzYykvaVxuICAgICAgICAvLyBJQTY0LCA2OEssIEFSTS82NCwgQVZSLzMyLCBJUklYLzY0LCBNSVBTLzY0LCBTUEFSQy82NCwgUEEtUklTQ1xuICAgICAgXSxcbiAgICAgIFtbQVJDSElURUNUVVJFLCBsb3dlcml6ZV1dXG4gICAgXSxcbiAgICBkZXZpY2U6IFtcbiAgICAgIFtcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gTU9CSUxFUyAmIFRBQkxFVFNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBTYW1zdW5nXG4gICAgICAgIC9cXGIoc2NoLWlbODldMFxcZHxzaHctbTM4MHN8c20tW3B0eF1cXHd7Miw0fXxndC1bcG5dXFxkezIsNH18c2doLXQ4WzU2XTl8bmV4dXMgMTApL2lcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIFNBTVNVTkddLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgICBbXG4gICAgICAgIC9cXGIoKD86c1tjZ3BdaHxndHxzbSktKD8hW2xyXSlcXHcrfHNjW2ctXT9bXFxkXSthP3xnYWxheHkgbmV4dXMpL2ksXG4gICAgICAgIC9zYW1zdW5nWy0gXSgoPyFzbS1bbHJdKVstXFx3XSspL2ksXG4gICAgICAgIC9zZWMtKHNnaFxcdyspL2lcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIFNBTVNVTkddLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgICBbXG4gICAgICAgIC8vIEFwcGxlXG4gICAgICAgIC8oPzpcXC98XFwoKShpcCg/OmhvbmV8b2QpW1xcdywgXSopKD86XFwvfDspL2lcbiAgICAgICAgLy8gaVBvZC9pUGhvbmVcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIEFQUExFXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgICAgW1xuICAgICAgICAvXFwoKGlwYWQpO1stXFx3XFwpLDsgXSthcHBsZS9pLFxuICAgICAgICAvLyBpUGFkXG4gICAgICAgIC9hcHBsZWNvcmVtZWRpYVxcL1tcXHdcXC5dKyBcXCgoaXBhZCkvaSxcbiAgICAgICAgL1xcYihpcGFkKVxcZFxcZD8sXFxkXFxkP1s7XFxdXS4raW9zL2lcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIEFQUExFXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgICAgW1xuICAgICAgICAvKG1hY2ludG9zaCk7L2lcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIEFQUExFXV0sXG4gICAgICBbXG4gICAgICAgIC8vIFNoYXJwXG4gICAgICAgIC9cXGIoc2gtP1thbHR2el0/XFxkXFxkW2EtZWttXT8pL2lcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIFNIQVJQXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgICAgW1xuICAgICAgICAvLyBIb25vclxuICAgICAgICAvXFxiKCg/OmJydHxlbG58aGV5Mj98Z2RpfGpkbiktYT9bbG53XTA5fCg/OmFnW3JtXTM/fGpkbjJ8a29iMiktYT9bbHddMFswOV1obikoPzogYnVpfFxcKXw7KS9pXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBIT05PUl0sIFtUWVBFLCBUQUJMRVRdXSxcbiAgICAgIFtcbiAgICAgICAgL2hvbm9yKFstXFx3IF0rKVs7XFwpXS9pXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBIT05PUl0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICAgIFtcbiAgICAgICAgLy8gSHVhd2VpXG4gICAgICAgIC9cXGIoKD86YWdbcnNdWzIzNTZdP2s/fGJhaFsyMzRdP3xiZ1syb118YnRba3ZdfGNtcnxjcG58ZGJbcnldMj98amRuMnxnb3R8a29iMj9rP3xtb258cGNlfHNjbXxzaHQ/fFt0d11ncnx2cmQpLVthZF0/W2x3XVswMTI1XVswOV1iP3w2MDVod3xiZzItdTAzfCg/OmdlbXxmZHJ8bTJ8cGxlfHQxKS1bN2FdMFsxLTRdW2x1XXx0MS1hMlsxM11bbHddfG1lZGlhcGFkW1xcd1xcLiBdKig/PSBidWl8XFwpKSlcXGIoPyEuK2RcXC9zKS9pXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBIVUFXRUldLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgICBbXG4gICAgICAgIC8oPzpodWF3ZWkpKFstXFx3IF0rKVs7XFwpXS9pLFxuICAgICAgICAvXFxiKG5leHVzIDZwfFxcd3syLDR9ZT8tW2F0dV0/W2xuXVtcXGR4XVswMTIzNTljXVthZG5dPylcXGIoPyEuK2RcXC9zKS9pXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBIVUFXRUldLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgICBbXG4gICAgICAgIC8vIFhpYW9taVxuICAgICAgICAvb2lkW15cXCldKzsgKDJbXFxkYmNdezR9KDE4MnwyODN8cnBcXHd7Mn0pW2NnbF18bTIxMDVrODFhP2MpKD86IGJ1aXxcXCkpL2ksXG4gICAgICAgIC9cXGIoKD86cmVkKT9taVstXyBdP3BhZFtcXHctIF0qKSg/OiBidWl8XFwpKS9pXG4gICAgICAgIC8vIE1pIFBhZCB0YWJsZXRzXG4gICAgICBdLFxuICAgICAgW1tNT0RFTCwgL18vZywgXCIgXCJdLCBbVkVORE9SLCBYSUFPTUldLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgICBbXG4gICAgICAgIC9cXGIocG9jb1tcXHcgXSt8bTJcXGR7M31qXFxkXFxkW2Etel17Mn0pKD86IGJ1aXxcXCkpL2ksXG4gICAgICAgIC8vIFhpYW9taSBQT0NPXG4gICAgICAgIC9cXGI7IChcXHcrKSBidWlsZFxcL2htXFwxL2ksXG4gICAgICAgIC8vIFhpYW9taSBIb25nbWkgJ251bWVyaWMnIG1vZGVsc1xuICAgICAgICAvXFxiKGhtWy1fIF0/bm90ZT9bXyBdPyg/OlxcZFxcdyk/KSBidWkvaSxcbiAgICAgICAgLy8gWGlhb21pIEhvbmdtaVxuICAgICAgICAvXFxiKHJlZG1pW1xcLV8gXT8oPzpub3RlfGspP1tcXHdfIF0rKSg/OiBidWl8XFwpKS9pLFxuICAgICAgICAvLyBYaWFvbWkgUmVkbWlcbiAgICAgICAgL29pZFteXFwpXSs7IChtP1sxMl1bMC0zODldWzAxXVxcd3szLDZ9W2MteV0pKCBidWl8OyB3dnxcXCkpL2ksXG4gICAgICAgIC8vIFhpYW9taSBSZWRtaSAnbnVtZXJpYycgbW9kZWxzXG4gICAgICAgIC9cXGIobWlbLV8gXT8oPzphXFxkfG9uZXxvbmVbXyBdcGx1c3xub3RlIGx0ZXxtYXh8Y2MpP1tfIF0/KD86XFxkP1xcdz8pW18gXT8oPzpwbHVzfHNlfGxpdGV8cHJvKT8pKD86IGJ1aXxcXCkpL2ksXG4gICAgICAgIC8vIFhpYW9taSBNaVxuICAgICAgICAvIChbXFx3IF0rKSBtaXVpXFwvdj9cXGQvaVxuICAgICAgXSxcbiAgICAgIFtbTU9ERUwsIC9fL2csIFwiIFwiXSwgW1ZFTkRPUiwgWElBT01JXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgICAgW1xuICAgICAgICAvLyBPUFBPXG4gICAgICAgIC87IChcXHcrKSBidWkuKyBvcHBvL2ksXG4gICAgICAgIC9cXGIoY3BoWzEyXVxcZHszfXxwKD86YWZ8Y1thbF18ZFxcd3xlW2FyXSlbbXRdXFxkMHx4OTAwN3xhMTAxb3ApXFxiL2lcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIE9QUE9dLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgICBbXG4gICAgICAgIC9cXGIob3BkMihcXGR7M31hPykpKD86IGJ1aXxcXCkpL2lcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIHN0ck1hcHBlciwgeyBcIk9uZVBsdXNcIjogW1wiMzA0XCIsIFwiNDAzXCIsIFwiMjAzXCJdLCBcIipcIjogT1BQTyB9XSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgICAgW1xuICAgICAgICAvLyBCTFUgVml2byBTZXJpZXNcbiAgICAgICAgLyh2aXZvICg1cj98Nnw4bD98Z298b25lfHN8eFtpbF0/WzItNF0/KVtcXHdcXCsgXSopKD86IGJ1aXxcXCkpL2lcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIFwiQkxVXCJdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgICBbXG4gICAgICAgIC8vIFZpdm9cbiAgICAgICAgLzsgdml2byAoXFx3KykoPzogYnVpfFxcKSkvaSxcbiAgICAgICAgL1xcYih2WzEyXVxcZHszfVxcdz9bYXRdKSg/OiBidWl8OykvaVxuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1ZFTkRPUiwgXCJWaXZvXCJdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgICBbXG4gICAgICAgIC8vIFJlYWxtZVxuICAgICAgICAvXFxiKHJteFsxLTNdXFxkezN9KSg/OiBidWl8O3xcXCkpL2lcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIFwiUmVhbG1lXCJdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgICBbXG4gICAgICAgIC8vIE1vdG9yb2xhXG4gICAgICAgIC9cXGIobWlsZXN0b25lfGRyb2lkKD86WzItNHhdfCAoPzpiaW9uaWN8eDJ8cHJvfHJhenIpKT86PyggNGcpPylcXGJbXFx3IF0rYnVpbGRcXC8vaSxcbiAgICAgICAgL1xcYm1vdCg/Om9yb2xhKT9bLSBdKFxcdyopL2ksXG4gICAgICAgIC8oKD86bW90byg/ISAzNjApW1xcd1xcKFxcKSBdK3x4dFxcZHszLDR9fG5leHVzIDYpKD89IGJ1aXxcXCkpKS9pXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBNT1RPUk9MQV0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICAgIFtcbiAgICAgICAgL1xcYihtejYwXFxkfHhvb21bMiBdezAsMn0pIGJ1aWxkXFwvL2lcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIE1PVE9ST0xBXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgICAgW1xuICAgICAgICAvLyBMR1xuICAgICAgICAvKCg/PWxnKT9bdmxda1xcLT9cXGR7M30pIGJ1aXwgM1xcLlstXFx3OyBdezEwfWxnPy0oWzA2Y3Y5XXszLDR9KS9pXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBMR10sIFtUWVBFLCBUQUJMRVRdXSxcbiAgICAgIFtcbiAgICAgICAgLyhsbSg/Oi0/ZjEwMFtudl0/fC1bXFx3XFwuXSspKD89IGJ1aXxcXCkpfG5leHVzIFs0NV0pL2ksXG4gICAgICAgIC9cXGJsZ1stZTtcXC8gXSsoPyEuKig/OmJyb3dzZXJ8bmV0Y2FzdHxhbmRyb2lkIHR2fHdhdGNoKSkoXFx3KykvaSxcbiAgICAgICAgL1xcYmxnLT8oW1xcZFxcd10rKSBidWkvaVxuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1ZFTkRPUiwgTEddLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgICBbXG4gICAgICAgIC8vIExlbm92b1xuICAgICAgICAvKGlkZWF0YWJbLVxcdyBdK3w2MDJsdnxkLTQyYXxhMTAxbHZ8YTIxMDlhfGEzNTAwLWh2fHNbNTZdMDAwfHBiLTY1MDVbbXldfHRiLT94P1xcZHszLDR9KD86ZltjdV18eHV8W2F2XSl8eXRcXGQ/LVtqeF0/XFxkK1tsZm14XSkoIGJ1aXw7fFxcKXxcXC8pL2ksXG4gICAgICAgIC9sZW5vdm8gPyhiWzY4XTBbMDhdMC0/W2hmXT98dGFiKD86W1xcdy0gXSs/KXx0YltcXHctXXs2LDd9KSggYnVpfDt8XFwpfFxcLykvaVxuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1ZFTkRPUiwgTEVOT1ZPXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgICAgW1xuICAgICAgICAvLyBOb2tpYVxuICAgICAgICAvKG5va2lhKSAodFsxMl1bMDFdKS9pXG4gICAgICBdLFxuICAgICAgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBUQUJMRVRdXSxcbiAgICAgIFtcbiAgICAgICAgLyg/Om1hZW1vfG5va2lhKS4qKG45MDB8bHVtaWEgXFxkK3xybS1cXGQrKS9pLFxuICAgICAgICAvbm9raWFbLV8gXT8oKFstXFx3XFwuIF0qKSkvaVxuICAgICAgXSxcbiAgICAgIFtbTU9ERUwsIC9fL2csIFwiIFwiXSwgW1RZUEUsIE1PQklMRV0sIFtWRU5ET1IsIFwiTm9raWFcIl1dLFxuICAgICAgW1xuICAgICAgICAvLyBHb29nbGVcbiAgICAgICAgLyhwaXhlbCAoY3x0YWJsZXQpKVxcYi9pXG4gICAgICAgIC8vIEdvb2dsZSBQaXhlbCBDL1RhYmxldFxuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1ZFTkRPUiwgR09PR0xFXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgICAgW1xuICAgICAgICAvZHJvaWQuKzsgKHBpeGVsW1xcZGF4bCBdezAsNn0pKD86IGJ1aXxcXCkpL2lcbiAgICAgICAgLy8gR29vZ2xlIFBpeGVsXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBHT09HTEVdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgICBbXG4gICAgICAgIC8vIFNvbnlcbiAgICAgICAgL2Ryb2lkLis7IChhP1xcZFswLTJdezJ9c298W2MtZ11cXGR7NH18c29bLWdsXVxcdyt8eHEtYVxcd1s0LTddWzEyXSkoPz0gYnVpfFxcKS4rY2hyb21lXFwvKD8hWzEtNl17MCwxfVxcZFxcLikpL2lcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIFNPTlldLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgICBbXG4gICAgICAgIC9zb255IHRhYmxldCBbcHNdL2ksXG4gICAgICAgIC9cXGIoPzpzb255KT9zZ3BcXHcrKD86IGJ1aXxcXCkpL2lcbiAgICAgIF0sXG4gICAgICBbW01PREVMLCBcIlhwZXJpYSBUYWJsZXRcIl0sIFtWRU5ET1IsIFNPTlldLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgICBbXG4gICAgICAgIC8vIE9uZVBsdXNcbiAgICAgICAgLyAoa2IyMDA1fGluMjBbMTJdNXxiZTIwWzEyXVs1OV0pXFxiL2ksXG4gICAgICAgIC8oPzpvbmUpPyg/OnBsdXMpPyAoYVxcZDBcXGRcXGQpKD86IGJ8XFwpKS9pXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBPTkVQTFVTXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgICAgW1xuICAgICAgICAvLyBBbWF6b25cbiAgICAgICAgLyhhbGV4YSl3ZWJtL2ksXG4gICAgICAgIC8oa2ZbYS16XXsyfXdpfGFlbyg/IWJjKVxcd1xcdykoIGJ1aXxcXCkpL2ksXG4gICAgICAgIC8vIEtpbmRsZSBGaXJlIHdpdGhvdXQgU2lsayAvIEVjaG8gU2hvd1xuICAgICAgICAvKGtmW2Etel0rKSggYnVpfFxcKSkuK3NpbGtcXC8vaVxuICAgICAgICAvLyBLaW5kbGUgRmlyZSBIRFxuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1ZFTkRPUiwgQU1BWk9OXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgICAgW1xuICAgICAgICAvKCg/OnNkfGtmKVswMzQ5aGlqb3JzdHV3XSspKCBidWl8XFwpKS4rc2lsa1xcLy9pXG4gICAgICAgIC8vIEZpcmUgUGhvbmVcbiAgICAgIF0sXG4gICAgICBbW01PREVMLCAvKC4rKS9nLCBcIkZpcmUgUGhvbmUgJDFcIl0sIFtWRU5ET1IsIEFNQVpPTl0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICAgIFtcbiAgICAgICAgLy8gQmxhY2tCZXJyeVxuICAgICAgICAvKHBsYXlib29rKTtbLVxcd1xcKSw7IF0rKHJpbSkvaVxuICAgICAgICAvLyBCbGFja0JlcnJ5IFBsYXlCb29rXG4gICAgICBdLFxuICAgICAgW01PREVMLCBWRU5ET1IsIFtUWVBFLCBUQUJMRVRdXSxcbiAgICAgIFtcbiAgICAgICAgL1xcYigoPzpiYlthLWZdfHN0W2h2XSkxMDAtXFxkKS9pLFxuICAgICAgICAvXFwoYmIxMDsgKFxcdyspL2lcbiAgICAgICAgLy8gQmxhY2tCZXJyeSAxMFxuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1ZFTkRPUiwgQkxBQ0tCRVJSWV0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICAgIFtcbiAgICAgICAgLy8gQXN1c1xuICAgICAgICAvKD86XFxifGFzdXNfKSh0cmFuc2ZvW3ByaW1lIF17NCwxMH0gXFx3K3xlZWVwY3xzbGlkZXIgXFx3K3xuZXh1cyA3fHBhZGZvbmV8cDAwW2NqXSkvaVxuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1ZFTkRPUiwgQVNVU10sIFtUWVBFLCBUQUJMRVRdXSxcbiAgICAgIFtcbiAgICAgICAgLyAoeltiZXNdNlswMjddWzAxMl1ba21dW2xzXXx6ZW5mb25lIFxcZFxcdz8pXFxiL2lcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIEFTVVNdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgICBbXG4gICAgICAgIC8vIEhUQ1xuICAgICAgICAvKG5leHVzIDkpL2lcbiAgICAgICAgLy8gSFRDIE5leHVzIDlcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIFwiSFRDXCJdLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgICBbXG4gICAgICAgIC8oaHRjKVstO18gXXsxLDJ9KFtcXHcgXSsoPz1cXCl8IGJ1aSl8XFx3KykvaSxcbiAgICAgICAgLy8gSFRDXG4gICAgICAgIC8vIFpURVxuICAgICAgICAvKHp0ZSlbLSBdKFtcXHcgXSs/KSg/OiBidWl8XFwvfFxcKSkvaSxcbiAgICAgICAgLyhhbGNhdGVsfGdlZWtzcGhvbmV8bmV4aWFufHBhbmFzb25pYyg/ISg/Ojt8XFwuKSl8c29ueSg/IS1icmEpKVstXyBdPyhbLVxcd10qKS9pXG4gICAgICAgIC8vIEFsY2F0ZWwvR2Vla3NQaG9uZS9OZXhpYW4vUGFuYXNvbmljL1NvbnlcbiAgICAgIF0sXG4gICAgICBbVkVORE9SLCBbTU9ERUwsIC9fL2csIFwiIFwiXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgICAgW1xuICAgICAgICAvLyBUQ0xcbiAgICAgICAgL3RjbCAoeGVzcyBwMTdhYSkvaSxcbiAgICAgICAgL2Ryb2lkIFtcXHdcXC5dKzsgKCg/OjhbMTRdOVsxNl18OSg/OjAoPzo0OHw2MHw4WzAxXSl8MSg/OjNbMjddfDY2KXwyKD86Nls2OV18OVs1Nl0pfDQ2NikpW2dxc3d4XSkoX1xcdyhcXHd8XFx3XFx3KSk/KFxcKXwgYnVpKS9pXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBcIlRDTFwiXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgICAgW1xuICAgICAgICAvZHJvaWQgW1xcd1xcLl0rOyAoNDE4KD86N2R8OHYpfDUwODd6fDUxMDJsfDYxKD86MDJbZGhdfDI1W2FkZmhdfDI3W2FpXXw1NltkaF18NTlrfDY1W2FoXSl8YTUwOWRsfHQoPzo0Myg/OjB3fDFbYWRlcHF1XSl8NTAoPzo2ZHw3W2FkanVdKXw2KD86MDlkbHwxMGt8MTJifDcxW2VmaG9dfDc2W2hqa10pfDcoPzo2NlthaGp1XXw2N1tod118N1swNDVdW2JoXXw3MVtoa118NzNvfDc2W2hvXXw3OXd8ODFbaGtzXT98ODJofDkwW2Joc3ldfDk5Yil8ODEwW2hzXSkpKF9cXHcoXFx3fFxcd1xcdykpPyhcXCl8IGJ1aSkvaVxuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1ZFTkRPUiwgXCJUQ0xcIl0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICAgIFtcbiAgICAgICAgLy8gaXRlbFxuICAgICAgICAvKGl0ZWwpICgoXFx3KykpL2lcbiAgICAgIF0sXG4gICAgICBbW1ZFTkRPUiwgbG93ZXJpemVdLCBNT0RFTCwgW1RZUEUsIHN0ck1hcHBlciwgeyBcInRhYmxldFwiOiBbXCJwMTAwMDFsXCIsIFwidzcwMDFcIl0sIFwiKlwiOiBcIm1vYmlsZVwiIH1dXSxcbiAgICAgIFtcbiAgICAgICAgLy8gQWNlclxuICAgICAgICAvZHJvaWQuKzsgKFthYl1bMS03XS0/WzAxNzhhXVxcZFxcZD8pL2lcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIFwiQWNlclwiXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgICAgW1xuICAgICAgICAvLyBNZWl6dVxuICAgICAgICAvZHJvaWQuKzsgKG1bMS01XSBub3RlKSBidWkvaSxcbiAgICAgICAgL1xcYm16LShbLVxcd117Mix9KS9pXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBcIk1laXp1XCJdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgICBbXG4gICAgICAgIC8vIFVsZWZvbmVcbiAgICAgICAgLzsgKCg/OnBvd2VyICk/YXJtb3IoPzpbXFx3IF17MCw4fSkpKD86IGJ1aXxcXCkpL2lcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIFwiVWxlZm9uZVwiXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgICAgW1xuICAgICAgICAvLyBFbmVyZ2l6ZXJcbiAgICAgICAgLzsgKGVuZXJneSA/XFx3KykoPzogYnVpfFxcKSkvaSxcbiAgICAgICAgLzsgZW5lcmdpemVyIChbXFx3IF0rKSg/OiBidWl8XFwpKS9pXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBcIkVuZXJnaXplclwiXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgICAgW1xuICAgICAgICAvLyBDYXRcbiAgICAgICAgLzsgY2F0IChiMzUpOy9pLFxuICAgICAgICAvOyAoYjE1cT98czIyIGZsaXB8czQ4Y3xzNjIgcHJvKSg/OiBidWl8XFwpKS9pXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBcIkNhdFwiXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgICAgW1xuICAgICAgICAvLyBTbWFydGZyZW5cbiAgICAgICAgLygoPzpuZXcgKT9hbmRyb21heFtcXHctIF0rKSg/OiBidWl8XFwpKS9pXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBcIlNtYXJ0ZnJlblwiXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgICAgW1xuICAgICAgICAvLyBOb3RoaW5nXG4gICAgICAgIC9kcm9pZC4rOyAoYSg/OjAxNXwwNlszNV18MTQycD8pKS9pXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBcIk5vdGhpbmdcIl0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICAgIFtcbiAgICAgICAgLy8gQXJjaG9zXG4gICAgICAgIC87ICh4NjcgNWd8dGlrZWFzeSBcXHcrfGFjWzE3ODldXFxkXFx3KykoIGJ8XFwpKS9pLFxuICAgICAgICAvYXJjaG9zID8oNXxnYW1lcGFkMj98KFtcXHcgXSpbdDE3ODldfGhlbGxvKSA/XFxkK1tcXHcgXSopKCBifFxcKSkvaVxuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1ZFTkRPUiwgXCJBcmNob3NcIl0sIFtUWVBFLCBUQUJMRVRdXSxcbiAgICAgIFtcbiAgICAgICAgL2FyY2hvcyAoW1xcdyBdKykoIGJ8XFwpKS9pLFxuICAgICAgICAvOyAoYWNbMy02XVxcZFxcd3syLDh9KSggYnxcXCkpL2lcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIFwiQXJjaG9zXCJdLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgICBbXG4gICAgICAgIC8vIE1JWEVEXG4gICAgICAgIC8oaW1vKSAodGFiIFxcdyspL2ksXG4gICAgICAgIC8vIElNT1xuICAgICAgICAvKGluZmluaXgpICh4MTEwMWI/KS9pXG4gICAgICAgIC8vIEluZmluaXggWFBhZFxuICAgICAgXSxcbiAgICAgIFtWRU5ET1IsIE1PREVMLCBbVFlQRSwgVEFCTEVUXV0sXG4gICAgICBbXG4gICAgICAgIC8oYmxhY2tiZXJyeXxiZW5xfHBhbG0oPz1cXC0pfHNvbnllcmljc3NvbnxhY2VyfGFzdXMoPyEgemVudyl8ZGVsbHxqb2xsYXxtZWl6dXxtb3Rvcm9sYXxwb2x5dHJvbnxpbmZpbml4fHRlY25vfG1pY3JvbWF4fGFkdmFuKVstXyBdPyhbLVxcd10qKS9pLFxuICAgICAgICAvLyBCbGFja0JlcnJ5L0JlblEvUGFsbS9Tb255LUVyaWNzc29uL0FjZXIvQXN1cy9EZWxsL01laXp1L01vdG9yb2xhL1BvbHl0cm9uL0luZmluaXgvVGVjbm8vTWljcm9tYXgvQWR2YW5cbiAgICAgICAgLzsgKGJsdXxobWR8aW1vfHRjbClbXyBdKFtcXHdcXCsgXSs/KSg/OiBidWl8XFwpfDsgcikvaSxcbiAgICAgICAgLy8gQkxVL0hNRC9JTU8vVENMXG4gICAgICAgIC8oaHApIChbXFx3IF0rXFx3KS9pLFxuICAgICAgICAvLyBIUCBpUEFRXG4gICAgICAgIC8obWljcm9zb2Z0KTsgKGx1bWlhW1xcdyBdKykvaSxcbiAgICAgICAgLy8gTWljcm9zb2Z0IEx1bWlhXG4gICAgICAgIC8obGVub3ZvKVstXyBdPyhbLVxcdyBdKz8pKD86IGJ1aXxcXCl8XFwvKS9pLFxuICAgICAgICAvLyBMZW5vdm9cbiAgICAgICAgLyhvcHBvKSA/KFtcXHcgXSspIGJ1aS9pXG4gICAgICAgIC8vIE9QUE9cbiAgICAgIF0sXG4gICAgICBbVkVORE9SLCBNT0RFTCwgW1RZUEUsIE1PQklMRV1dLFxuICAgICAgW1xuICAgICAgICAvKGtvYm8pXFxzKGVyZWFkZXJ8dG91Y2gpL2ksXG4gICAgICAgIC8vIEtvYm9cbiAgICAgICAgLyhocCkuKyh0b3VjaHBhZCg/IS4rdGFibGV0KXx0YWJsZXQpL2ksXG4gICAgICAgIC8vIEhQIFRvdWNoUGFkXG4gICAgICAgIC8oa2luZGxlKVxcLyhbXFx3XFwuXSspL2lcbiAgICAgICAgLy8gS2luZGxlXG4gICAgICBdLFxuICAgICAgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBUQUJMRVRdXSxcbiAgICAgIFtcbiAgICAgICAgLyhzdXJmYWNlIGR1bykvaVxuICAgICAgICAvLyBTdXJmYWNlIER1b1xuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1ZFTkRPUiwgTUlDUk9TT0ZUXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgICAgW1xuICAgICAgICAvZHJvaWQgW1xcZFxcLl0rOyAoZnBcXGR1PykoPzogYnxcXCkpL2lcbiAgICAgICAgLy8gRmFpcnBob25lXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBcIkZhaXJwaG9uZVwiXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgICAgW1xuICAgICAgICAvKCg/OnRlZ3Jhbm90ZXxzaGllbGQgdCg/IS4rZCB0dikpW1xcdy0gXSo/KSg/OiBifFxcKSkvaVxuICAgICAgICAvLyBOdmlkaWEgVGFibGV0c1xuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1ZFTkRPUiwgTlZJRElBXSwgW1RZUEUsIFRBQkxFVF1dLFxuICAgICAgW1xuICAgICAgICAvKHNwcmludCkgKFxcdyspL2lcbiAgICAgICAgLy8gU3ByaW50IFBob25lc1xuICAgICAgXSxcbiAgICAgIFtWRU5ET1IsIE1PREVMLCBbVFlQRSwgTU9CSUxFXV0sXG4gICAgICBbXG4gICAgICAgIC8oa2luXFwuW29uZXR3XXszfSkvaVxuICAgICAgICAvLyBNaWNyb3NvZnQgS2luXG4gICAgICBdLFxuICAgICAgW1tNT0RFTCwgL1xcLi9nLCBcIiBcIl0sIFtWRU5ET1IsIE1JQ1JPU09GVF0sIFtUWVBFLCBNT0JJTEVdXSxcbiAgICAgIFtcbiAgICAgICAgL2Ryb2lkLis7IChbYzZdK3xldDVbMTZdfG1jWzIzOV1bMjNdeD98dmM4WzAzXXg/KVxcKS9pXG4gICAgICAgIC8vIFplYnJhXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBaRUJSQV0sIFtUWVBFLCBUQUJMRVRdXSxcbiAgICAgIFtcbiAgICAgICAgL2Ryb2lkLis7IChlYzMwfHBzMjB8dGNbMi04XVxcZFtreF0pXFwpL2lcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIFpFQlJBXSwgW1RZUEUsIE1PQklMRV1dLFxuICAgICAgW1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFNNQVJUVFZTXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgL3NtYXJ0LXR2Lisoc2Ftc3VuZykvaVxuICAgICAgICAvLyBTYW1zdW5nXG4gICAgICBdLFxuICAgICAgW1ZFTkRPUiwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICAgIFtcbiAgICAgICAgL2hiYnR2LittYXBsZTsoXFxkKykvaVxuICAgICAgXSxcbiAgICAgIFtbTU9ERUwsIC9eLywgXCJTbWFydFRWXCJdLCBbVkVORE9SLCBTQU1TVU5HXSwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICAgIFtcbiAgICAgICAgL3RjYXN0LisobGcpZT8uIChbLVxcd10rKS9pXG4gICAgICAgIC8vIExHIFNtYXJ0VFZcbiAgICAgIF0sXG4gICAgICBbVkVORE9SLCBNT0RFTCwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICAgIFtcbiAgICAgICAgLyhudXg7IG5ldGNhc3QuK3NtYXJ0dHZ8bGcgKG5ldGNhc3RcXC50di0yMDFcXGR8YW5kcm9pZCB0dikpL2lcbiAgICAgIF0sXG4gICAgICBbW1ZFTkRPUiwgTEddLCBbVFlQRSwgU01BUlRUVl1dLFxuICAgICAgW1xuICAgICAgICAvKGFwcGxlKSA/dHYvaVxuICAgICAgICAvLyBBcHBsZSBUVlxuICAgICAgXSxcbiAgICAgIFtWRU5ET1IsIFtNT0RFTCwgQVBQTEUgKyBcIiBUVlwiXSwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICAgIFtcbiAgICAgICAgL2Nya2V5LipkZXZpY2V0eXBlXFwvY2hyb21lY2FzdC9pXG4gICAgICAgIC8vIEdvb2dsZSBDaHJvbWVjYXN0IFRoaXJkIEdlbmVyYXRpb25cbiAgICAgIF0sXG4gICAgICBbW01PREVMLCBDSFJPTUVDQVNUICsgXCIgVGhpcmQgR2VuZXJhdGlvblwiXSwgW1ZFTkRPUiwgR09PR0xFXSwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICAgIFtcbiAgICAgICAgL2Nya2V5LipkZXZpY2V0eXBlXFwvKFteL10qKS9pXG4gICAgICAgIC8vIEdvb2dsZSBDaHJvbWVjYXN0IHdpdGggc3BlY2lmaWMgZGV2aWNlIHR5cGVcbiAgICAgIF0sXG4gICAgICBbW01PREVMLCAvXi8sIFwiQ2hyb21lY2FzdCBcIl0sIFtWRU5ET1IsIEdPT0dMRV0sIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgICBbXG4gICAgICAgIC9mdWNoc2lhLipjcmtleS9pXG4gICAgICAgIC8vIEdvb2dsZSBDaHJvbWVjYXN0IE5lc3QgSHViXG4gICAgICBdLFxuICAgICAgW1tNT0RFTCwgQ0hST01FQ0FTVCArIFwiIE5lc3QgSHViXCJdLCBbVkVORE9SLCBHT09HTEVdLCBbVFlQRSwgU01BUlRUVl1dLFxuICAgICAgW1xuICAgICAgICAvY3JrZXkvaVxuICAgICAgICAvLyBHb29nbGUgQ2hyb21lY2FzdCwgTGludXgtYmFzZWQgb3IgdW5rbm93blxuICAgICAgXSxcbiAgICAgIFtbTU9ERUwsIENIUk9NRUNBU1RdLCBbVkVORE9SLCBHT09HTEVdLCBbVFlQRSwgU01BUlRUVl1dLFxuICAgICAgW1xuICAgICAgICAvKHBvcnRhbHR2KS9pXG4gICAgICAgIC8vIEZhY2Vib29rIFBvcnRhbCBUVlxuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1ZFTkRPUiwgRkFDRUJPT0tdLCBbVFlQRSwgU01BUlRUVl1dLFxuICAgICAgW1xuICAgICAgICAvZHJvaWQuK2FmdChcXHcrKSggYnVpfFxcKSkvaVxuICAgICAgICAvLyBGaXJlIFRWXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBBTUFaT05dLCBbVFlQRSwgU01BUlRUVl1dLFxuICAgICAgW1xuICAgICAgICAvKHNoaWVsZCBcXHcrIHR2KS9pXG4gICAgICAgIC8vIE52aWRpYSBTaGllbGQgVFZcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIE5WSURJQV0sIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgICBbXG4gICAgICAgIC9cXChkdHZbXFwpO10uKyhhcXVvcykvaSxcbiAgICAgICAgLyhhcXVvcy10dltcXHcgXSspXFwpL2lcbiAgICAgICAgLy8gU2hhcnBcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIFNIQVJQXSwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICAgIFtcbiAgICAgICAgLyhicmF2aWFbXFx3IF0rKSggYnVpfFxcKSkvaVxuICAgICAgICAvLyBTb255XG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBTT05ZXSwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICAgIFtcbiAgICAgICAgLyhtaSh0dnxib3gpLT9cXHcrKSBidWkvaVxuICAgICAgICAvLyBYaWFvbWlcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIFhJQU9NSV0sIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgICBbXG4gICAgICAgIC9IYmJ0di4qKHRlY2huaXNhdCkgKC4qKTsvaVxuICAgICAgICAvLyBUZWNobmlTQVRcbiAgICAgIF0sXG4gICAgICBbVkVORE9SLCBNT0RFTCwgW1RZUEUsIFNNQVJUVFZdXSxcbiAgICAgIFtcbiAgICAgICAgL1xcYihyb2t1KVtcXGR4XSpbXFwpXFwvXSgoPzpkdnAtKT9bXFxkXFwuXSopL2ksXG4gICAgICAgIC8vIFJva3VcbiAgICAgICAgL2hiYnR2XFwvXFxkK1xcLlxcZCtcXC5cXGQrICtcXChbXFx3XFwrIF0qOyAqKFtcXHdcXGRdW147XSopOyhbXjtdKikvaVxuICAgICAgICAvLyBIYmJUViBkZXZpY2VzXG4gICAgICBdLFxuICAgICAgW1tWRU5ET1IsIHRyaW1dLCBbTU9ERUwsIHRyaW1dLCBbVFlQRSwgU01BUlRUVl1dLFxuICAgICAgW1xuICAgICAgICAvLyBTbWFydFRWIGZyb20gVW5pZGVudGlmaWVkIFZlbmRvcnNcbiAgICAgICAgL2Ryb2lkLis7IChbXFx3LSBdKykgKD86YW5kcm9pZCB0dnxzbWFydFstIF0/dHYpL2lcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtUWVBFLCBTTUFSVFRWXV0sXG4gICAgICBbXG4gICAgICAgIC9cXGIoYW5kcm9pZCB0dnxzbWFydFstIF0/dHZ8b3BlcmEgdHZ8dHY7IHJ2OilcXGIvaVxuICAgICAgXSxcbiAgICAgIFtbVFlQRSwgU01BUlRUVl1dLFxuICAgICAgW1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIENPTlNPTEVTXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLyhvdXlhKS9pLFxuICAgICAgICAvLyBPdXlhXG4gICAgICAgIC8obmludGVuZG8pIChcXHcrKS9pXG4gICAgICAgIC8vIE5pbnRlbmRvXG4gICAgICBdLFxuICAgICAgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBDT05TT0xFXV0sXG4gICAgICBbXG4gICAgICAgIC9kcm9pZC4rOyAoc2hpZWxkKSggYnVpfFxcKSkvaVxuICAgICAgICAvLyBOdmlkaWEgUG9ydGFibGVcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIE5WSURJQV0sIFtUWVBFLCBDT05TT0xFXV0sXG4gICAgICBbXG4gICAgICAgIC8ocGxheXN0YXRpb24gXFx3KykvaVxuICAgICAgICAvLyBQbGF5c3RhdGlvblxuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1ZFTkRPUiwgU09OWV0sIFtUWVBFLCBDT05TT0xFXV0sXG4gICAgICBbXG4gICAgICAgIC9cXGIoeGJveCg/OiBvbmUpPyg/ITsgeGJveCkpW1xcKTsgXS9pXG4gICAgICAgIC8vIE1pY3Jvc29mdCBYYm94XG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBNSUNST1NPRlRdLCBbVFlQRSwgQ09OU09MRV1dLFxuICAgICAgW1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFdFQVJBQkxFU1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC9cXGIoc20tW2xyXVxcZFxcZFswMTU2XVtmbnV3XT9zP3xnZWFyIGxpdmUpXFxiL2lcbiAgICAgICAgLy8gU2Ftc3VuZyBHYWxheHkgV2F0Y2hcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIFNBTVNVTkddLCBbVFlQRSwgV0VBUkFCTEVdXSxcbiAgICAgIFtcbiAgICAgICAgLygocGViYmxlKSlhcHAvaSxcbiAgICAgICAgLy8gUGViYmxlXG4gICAgICAgIC8oYXN1c3xnb29nbGV8bGd8b3BwbykgKChwaXhlbCB8emVuKT93YXRjaFtcXHcgXSopKCBidWl8XFwpKS9pXG4gICAgICAgIC8vIEFzdXMgWmVuV2F0Y2ggLyBMRyBXYXRjaCAvIFBpeGVsIFdhdGNoXG4gICAgICBdLFxuICAgICAgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBXRUFSQUJMRV1dLFxuICAgICAgW1xuICAgICAgICAvKG93KD86MTl8MjApP3dlP1sxLTNdezEsM30pL2lcbiAgICAgICAgLy8gT3BwbyBXYXRjaFxuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1ZFTkRPUiwgT1BQT10sIFtUWVBFLCBXRUFSQUJMRV1dLFxuICAgICAgW1xuICAgICAgICAvKHdhdGNoKSg/OiA/b3NbLFxcL118XFxkLFxcZFxcLylbXFxkXFwuXSsvaVxuICAgICAgICAvLyBBcHBsZSBXYXRjaFxuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1ZFTkRPUiwgQVBQTEVdLCBbVFlQRSwgV0VBUkFCTEVdXSxcbiAgICAgIFtcbiAgICAgICAgLyhvcHd3ZVxcZHszfSkvaVxuICAgICAgICAvLyBPbmVQbHVzIFdhdGNoXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBPTkVQTFVTXSwgW1RZUEUsIFdFQVJBQkxFXV0sXG4gICAgICBbXG4gICAgICAgIC8obW90byAzNjApL2lcbiAgICAgICAgLy8gTW90b3JvbGEgMzYwXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBNT1RPUk9MQV0sIFtUWVBFLCBXRUFSQUJMRV1dLFxuICAgICAgW1xuICAgICAgICAvKHNtYXJ0d2F0Y2ggMykvaVxuICAgICAgICAvLyBTb255IFNtYXJ0V2F0Y2hcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIFNPTlldLCBbVFlQRSwgV0VBUkFCTEVdXSxcbiAgICAgIFtcbiAgICAgICAgLyhnIHdhdGNoIHIpL2lcbiAgICAgICAgLy8gTEcgRyBXYXRjaCBSXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBMR10sIFtUWVBFLCBXRUFSQUJMRV1dLFxuICAgICAgW1xuICAgICAgICAvZHJvaWQuKzsgKHd0NjM/MHsyLDN9KVxcKS9pXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBaRUJSQV0sIFtUWVBFLCBXRUFSQUJMRV1dLFxuICAgICAgW1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIFhSXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgL2Ryb2lkLis7IChnbGFzcykgXFxkL2lcbiAgICAgICAgLy8gR29vZ2xlIEdsYXNzXG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBHT09HTEVdLCBbVFlQRSwgWFJdXSxcbiAgICAgIFtcbiAgICAgICAgLyhwaWNvKSAoNHxuZW8zKD86IGxpbmt8cHJvKT8pL2lcbiAgICAgICAgLy8gUGljb1xuICAgICAgXSxcbiAgICAgIFtWRU5ET1IsIE1PREVMLCBbVFlQRSwgWFJdXSxcbiAgICAgIFtcbiAgICAgICAgLyhxdWVzdCggXFxkfCBwcm8pP3M/KS4rdnIvaVxuICAgICAgICAvLyBNZXRhIFF1ZXN0XG4gICAgICBdLFxuICAgICAgW01PREVMLCBbVkVORE9SLCBGQUNFQk9PS10sIFtUWVBFLCBYUl1dLFxuICAgICAgW1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIEVNQkVEREVEXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLyh0ZXNsYSkoPzogcXRjYXJicm93c2VyfFxcL1stXFx3XFwuXSspL2lcbiAgICAgICAgLy8gVGVzbGFcbiAgICAgIF0sXG4gICAgICBbVkVORE9SLCBbVFlQRSwgRU1CRURERURdXSxcbiAgICAgIFtcbiAgICAgICAgLyhhZW9iYylcXGIvaVxuICAgICAgICAvLyBFY2hvIERvdFxuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1ZFTkRPUiwgQU1BWk9OXSwgW1RZUEUsIEVNQkVEREVEXV0sXG4gICAgICBbXG4gICAgICAgIC8oaG9tZXBvZCkuK21hYyBvcy9pXG4gICAgICAgIC8vIEFwcGxlIEhvbWVQb2RcbiAgICAgIF0sXG4gICAgICBbTU9ERUwsIFtWRU5ET1IsIEFQUExFXSwgW1RZUEUsIEVNQkVEREVEXV0sXG4gICAgICBbXG4gICAgICAgIC93aW5kb3dzIGlvdC9pXG4gICAgICBdLFxuICAgICAgW1tUWVBFLCBFTUJFRERFRF1dLFxuICAgICAgW1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBNSVhFRCAoR0VORVJJQylcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvZHJvaWQgLis/OyAoW147XSs/KSg/OiBidWl8OyB3dlxcKXxcXCkgYXBwbGV3KS4rPyhtb2JpbGV8dnJ8XFxkKSBzYWZhcmkvaVxuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1RZUEUsIHN0ck1hcHBlciwgeyBcIm1vYmlsZVwiOiBcIk1vYmlsZVwiLCBcInhyXCI6IFwiVlJcIiwgXCIqXCI6IFRBQkxFVCB9XV0sXG4gICAgICBbXG4gICAgICAgIC9cXGIoKHRhYmxldHx0YWIpWztcXC9dfGZvY3VzXFwvXFxkKD8hLittb2JpbGUpKS9pXG4gICAgICAgIC8vIFVuaWRlbnRpZmlhYmxlIFRhYmxldFxuICAgICAgXSxcbiAgICAgIFtbVFlQRSwgVEFCTEVUXV0sXG4gICAgICBbXG4gICAgICAgIC8ocGhvbmV8bW9iaWxlKD86WztcXC9dfCBbIFxcd1xcL1xcLl0qc2FmYXJpKXxwZGEoPz0uK3dpbmRvd3MgY2UpKS9pXG4gICAgICAgIC8vIFVuaWRlbnRpZmlhYmxlIE1vYmlsZVxuICAgICAgXSxcbiAgICAgIFtbVFlQRSwgTU9CSUxFXV0sXG4gICAgICBbXG4gICAgICAgIC9kcm9pZCAuKz87IChbXFx3XFwuIC1dKykoIGJ1aXxcXCkpL2lcbiAgICAgICAgLy8gR2VuZXJpYyBBbmRyb2lkIERldmljZVxuICAgICAgXSxcbiAgICAgIFtNT0RFTCwgW1ZFTkRPUiwgXCJHZW5lcmljXCJdXVxuICAgIF0sXG4gICAgZW5naW5lOiBbXG4gICAgICBbXG4gICAgICAgIC93aW5kb3dzLisgZWRnZVxcLyhbXFx3XFwuXSspL2lcbiAgICAgICAgLy8gRWRnZUhUTUxcbiAgICAgIF0sXG4gICAgICBbVkVSU0lPTiwgW05BTUUsIEVER0UgKyBcIkhUTUxcIl1dLFxuICAgICAgW1xuICAgICAgICAvKGFya3dlYilcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAgIC8vIEFya1dlYlxuICAgICAgXSxcbiAgICAgIFtOQU1FLCBWRVJTSU9OXSxcbiAgICAgIFtcbiAgICAgICAgL3dlYmtpdFxcLzUzN1xcLjM2LitjaHJvbWVcXC8oPyEyNykoW1xcd1xcLl0rKS9pXG4gICAgICAgIC8vIEJsaW5rXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBcIkJsaW5rXCJdXSxcbiAgICAgIFtcbiAgICAgICAgLyhwcmVzdG8pXFwvKFtcXHdcXC5dKykvaSxcbiAgICAgICAgLy8gUHJlc3RvXG4gICAgICAgIC8od2Via2l0fHRyaWRlbnR8bmV0ZnJvbnR8bmV0c3VyZnxhbWF5YXxseW54fHczbXxnb2FubmF8c2Vydm8pXFwvKFtcXHdcXC5dKykvaSxcbiAgICAgICAgLy8gV2ViS2l0L1RyaWRlbnQvTmV0RnJvbnQvTmV0U3VyZi9BbWF5YS9MeW54L3czbS9Hb2FubmEvU2Vydm9cbiAgICAgICAgL2VraW9oKGZsb3cpXFwvKFtcXHdcXC5dKykvaSxcbiAgICAgICAgLy8gRmxvd1xuICAgICAgICAvKGtodG1sfHRhc21hbnxsaW5rcylbXFwvIF1cXCg/KFtcXHdcXC5dKykvaSxcbiAgICAgICAgLy8gS0hUTUwvVGFzbWFuL0xpbmtzXG4gICAgICAgIC8oaWNhYilbXFwvIF0oWzIzXVxcLltcXGRcXC5dKykvaSxcbiAgICAgICAgLy8gaUNhYlxuICAgICAgICAvXFxiKGxpYndlYikvaVxuICAgICAgICAvLyBMaWJXZWJcbiAgICAgIF0sXG4gICAgICBbTkFNRSwgVkVSU0lPTl0sXG4gICAgICBbXG4gICAgICAgIC9sYWR5YmlyZFxcLy9pXG4gICAgICBdLFxuICAgICAgW1tOQU1FLCBcIkxpYldlYlwiXV0sXG4gICAgICBbXG4gICAgICAgIC9ydlxcOihbXFx3XFwuXXsxLDl9KVxcYi4rKGdlY2tvKS9pXG4gICAgICAgIC8vIEdlY2tvXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIE5BTUVdXG4gICAgXSxcbiAgICBvczogW1xuICAgICAgW1xuICAgICAgICAvLyBXaW5kb3dzXG4gICAgICAgIC9taWNyb3NvZnQgKHdpbmRvd3MpICh2aXN0YXx4cCkvaVxuICAgICAgICAvLyBXaW5kb3dzIChpVHVuZXMpXG4gICAgICBdLFxuICAgICAgW05BTUUsIFZFUlNJT05dLFxuICAgICAgW1xuICAgICAgICAvKHdpbmRvd3MgKD86cGhvbmUoPzogb3MpP3xtb2JpbGV8aW90KSlbXFwvIF0/KFtcXGRcXC5cXHcgXSopL2lcbiAgICAgICAgLy8gV2luZG93cyBQaG9uZVxuICAgICAgXSxcbiAgICAgIFtOQU1FLCBbVkVSU0lPTiwgc3RyTWFwcGVyLCB3aW5kb3dzVmVyc2lvbk1hcF1dLFxuICAgICAgW1xuICAgICAgICAvd2luZG93cyBudCA2XFwuMjsgKGFybSkvaSxcbiAgICAgICAgLy8gV2luZG93cyBSVFxuICAgICAgICAvd2luZG93c1tcXC8gXShbbnRjZVxcZFxcLiBdK1xcdykoPyEuK3hib3gpL2ksXG4gICAgICAgIC8oPzp3aW4oPz0zfDl8bil8d2luIDl4ICkoW250XFxkXFwuXSspL2lcbiAgICAgIF0sXG4gICAgICBbW1ZFUlNJT04sIHN0ck1hcHBlciwgd2luZG93c1ZlcnNpb25NYXBdLCBbTkFNRSwgV0lORE9XU11dLFxuICAgICAgW1xuICAgICAgICAvLyBpT1MvbWFjT1NcbiAgICAgICAgL1thZGVoaW1ub3BdezQsN31cXGIoPzouKm9zIChbXFx3XSspIGxpa2UgbWFjfDsgb3BlcmEpL2ksXG4gICAgICAgIC8vIGlPU1xuICAgICAgICAvKD86aW9zO2Zic3ZcXC98aXBob25lLitpb3NbXFwvIF0pKFtcXGRcXC5dKykvaSxcbiAgICAgICAgL2NmbmV0d29ya1xcLy4rZGFyd2luL2lcbiAgICAgIF0sXG4gICAgICBbW1ZFUlNJT04sIC9fL2csIFwiLlwiXSwgW05BTUUsIFwiaU9TXCJdXSxcbiAgICAgIFtcbiAgICAgICAgLyhtYWMgb3MgeCkgPyhbXFx3XFwuIF0qKS9pLFxuICAgICAgICAvKG1hY2ludG9zaHxtYWNfcG93ZXJwY1xcYikoPyEuK2hhaWt1KS9pXG4gICAgICAgIC8vIE1hYyBPU1xuICAgICAgXSxcbiAgICAgIFtbTkFNRSwgXCJtYWNPU1wiXSwgW1ZFUlNJT04sIC9fL2csIFwiLlwiXV0sXG4gICAgICBbXG4gICAgICAgIC8vIEdvb2dsZSBDaHJvbWVjYXN0XG4gICAgICAgIC9hbmRyb2lkIChbXFxkXFwuXSspLipjcmtleS9pXG4gICAgICAgIC8vIEdvb2dsZSBDaHJvbWVjYXN0LCBBbmRyb2lkLWJhc2VkXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBDSFJPTUVDQVNUICsgXCIgQW5kcm9pZFwiXV0sXG4gICAgICBbXG4gICAgICAgIC9mdWNoc2lhLipjcmtleVxcLyhbXFxkXFwuXSspL2lcbiAgICAgICAgLy8gR29vZ2xlIENocm9tZWNhc3QsIEZ1Y2hzaWEtYmFzZWRcbiAgICAgIF0sXG4gICAgICBbVkVSU0lPTiwgW05BTUUsIENIUk9NRUNBU1QgKyBcIiBGdWNoc2lhXCJdXSxcbiAgICAgIFtcbiAgICAgICAgL2Nya2V5XFwvKFtcXGRcXC5dKykuKmRldmljZXR5cGVcXC9zbWFydHNwZWFrZXIvaVxuICAgICAgICAvLyBHb29nbGUgQ2hyb21lY2FzdCwgTGludXgtYmFzZWQgU21hcnQgU3BlYWtlclxuICAgICAgXSxcbiAgICAgIFtWRVJTSU9OLCBbTkFNRSwgQ0hST01FQ0FTVCArIFwiIFNtYXJ0U3BlYWtlclwiXV0sXG4gICAgICBbXG4gICAgICAgIC9saW51eC4qY3JrZXlcXC8oW1xcZFxcLl0rKS9pXG4gICAgICAgIC8vIEdvb2dsZSBDaHJvbWVjYXN0LCBMZWdhY3kgTGludXgtYmFzZWRcbiAgICAgIF0sXG4gICAgICBbVkVSU0lPTiwgW05BTUUsIENIUk9NRUNBU1QgKyBcIiBMaW51eFwiXV0sXG4gICAgICBbXG4gICAgICAgIC9jcmtleVxcLyhbXFxkXFwuXSspL2lcbiAgICAgICAgLy8gR29vZ2xlIENocm9tZWNhc3QsIHVua25vd25cbiAgICAgIF0sXG4gICAgICBbVkVSU0lPTiwgW05BTUUsIENIUk9NRUNBU1RdXSxcbiAgICAgIFtcbiAgICAgICAgLy8gTW9iaWxlIE9TZXNcbiAgICAgICAgL2Ryb2lkIChbXFx3XFwuXSspXFxiLisoYW5kcm9pZFstIF14ODZ8aGFybW9ueW9zKS9pXG4gICAgICAgIC8vIEFuZHJvaWQteDg2L0hhcm1vbnlPU1xuICAgICAgXSxcbiAgICAgIFtWRVJTSU9OLCBOQU1FXSxcbiAgICAgIFtcbiAgICAgICAgLyh1YnVudHUpIChbXFx3XFwuXSspIGxpa2UgYW5kcm9pZC9pXG4gICAgICAgIC8vIFVidW50dSBUb3VjaFxuICAgICAgXSxcbiAgICAgIFtbTkFNRSwgLyguKykvLCBcIiQxIFRvdWNoXCJdLCBWRVJTSU9OXSxcbiAgICAgIFtcbiAgICAgICAgLy8gQW5kcm9pZC9CbGFja2JlcnJ5L1dlYk9TL1FOWC9CYWRhL1JJTS9LYWlPUy9NYWVtby9NZWVHby9TNDAvU2FpbGZpc2ggT1MvT3Blbkhhcm1vbnkvVGl6ZW5cbiAgICAgICAgLyhhbmRyb2lkfGJhZGF8YmxhY2tiZXJyeXxrYWlvc3xtYWVtb3xtZWVnb3xvcGVuaGFybW9ueXxxbnh8cmltIHRhYmxldCBvc3xzYWlsZmlzaHxzZXJpZXM0MHxzeW1iaWFufHRpemVufHdlYm9zKVxcdypbLVxcL1xcLjsgXT8oW1xcZFxcLl0qKS9pXG4gICAgICBdLFxuICAgICAgW05BTUUsIFZFUlNJT05dLFxuICAgICAgW1xuICAgICAgICAvXFwoYmIoMTApOy9pXG4gICAgICAgIC8vIEJsYWNrQmVycnkgMTBcbiAgICAgIF0sXG4gICAgICBbVkVSU0lPTiwgW05BTUUsIEJMQUNLQkVSUlldXSxcbiAgICAgIFtcbiAgICAgICAgLyg/OnN5bWJpYW4gP29zfHN5bWJvc3xzNjAoPz07KXxzZXJpZXMgPzYwKVstXFwvIF0/KFtcXHdcXC5dKikvaVxuICAgICAgICAvLyBTeW1iaWFuXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBcIlN5bWJpYW5cIl1dLFxuICAgICAgW1xuICAgICAgICAvbW96aWxsYVxcL1tcXGRcXC5dKyBcXCgoPzptb2JpbGV8dGFibGV0fHR2fG1vYmlsZTsgW1xcdyBdKyk7IHJ2Oi4rIGdlY2tvXFwvKFtcXHdcXC5dKykvaVxuICAgICAgICAvLyBGaXJlZm94IE9TXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBGSVJFRk9YICsgXCIgT1NcIl1dLFxuICAgICAgW1xuICAgICAgICAvd2ViMHM7LitydCh0dikvaSxcbiAgICAgICAgL1xcYig/OmhwKT93b3MoPzpicm93c2VyKT9cXC8oW1xcd1xcLl0rKS9pXG4gICAgICAgIC8vIFdlYk9TXG4gICAgICBdLFxuICAgICAgW1ZFUlNJT04sIFtOQU1FLCBcIndlYk9TXCJdXSxcbiAgICAgIFtcbiAgICAgICAgL3dhdGNoKD86ID9vc1ssXFwvXXxcXGQsXFxkXFwvKShbXFxkXFwuXSspL2lcbiAgICAgICAgLy8gd2F0Y2hPU1xuICAgICAgXSxcbiAgICAgIFtWRVJTSU9OLCBbTkFNRSwgXCJ3YXRjaE9TXCJdXSxcbiAgICAgIFtcbiAgICAgICAgLy8gR29vZ2xlIENocm9tZU9TXG4gICAgICAgIC8oY3JvcykgW1xcd10rKD86XFwpfCAoW1xcd1xcLl0rKVxcYikvaVxuICAgICAgICAvLyBDaHJvbWl1bSBPU1xuICAgICAgXSxcbiAgICAgIFtbTkFNRSwgXCJDaHJvbWUgT1NcIl0sIFZFUlNJT05dLFxuICAgICAgW1xuICAgICAgICAvLyBTbWFydCBUVnNcbiAgICAgICAgL3BhbmFzb25pYzsodmllcmEpL2ksXG4gICAgICAgIC8vIFBhbmFzb25pYyBWaWVyYVxuICAgICAgICAvKG5ldHJhbmdlKW1taC9pLFxuICAgICAgICAvLyBOZXRyYW5nZVxuICAgICAgICAvKG5ldHR2KVxcLyhcXGQrXFwuW1xcd1xcLl0rKS9pLFxuICAgICAgICAvLyBOZXRUVlxuICAgICAgICAvLyBDb25zb2xlXG4gICAgICAgIC8obmludGVuZG98cGxheXN0YXRpb24pIChcXHcrKS9pLFxuICAgICAgICAvLyBOaW50ZW5kby9QbGF5c3RhdGlvblxuICAgICAgICAvKHhib3gpOyAreGJveCAoW15cXCk7XSspL2ksXG4gICAgICAgIC8vIE1pY3Jvc29mdCBYYm94ICgzNjAsIE9uZSwgWCwgUywgU2VyaWVzIFgsIFNlcmllcyBTKVxuICAgICAgICAvKHBpY28pIC4rb3MoW1xcd1xcLl0rKS9pLFxuICAgICAgICAvLyBQaWNvXG4gICAgICAgIC8vIE90aGVyXG4gICAgICAgIC9cXGIoam9saXxwYWxtKVxcYiA/KD86b3MpP1xcLz8oW1xcd1xcLl0qKS9pLFxuICAgICAgICAvLyBKb2xpL1BhbG1cbiAgICAgICAgLyhtaW50KVtcXC9cXChcXCkgXT8oXFx3KikvaSxcbiAgICAgICAgLy8gTWludFxuICAgICAgICAvKG1hZ2VpYXx2ZWN0b3JsaW51eClbOyBdL2ksXG4gICAgICAgIC8vIE1hZ2VpYS9WZWN0b3JMaW51eFxuICAgICAgICAvKFtreGxuXT91YnVudHV8ZGViaWFufHN1c2V8b3BlbnN1c2V8Z2VudG9vfGFyY2goPz0gbGludXgpfHNsYWNrd2FyZXxmZWRvcmF8bWFuZHJpdmF8Y2VudG9zfHBjbGludXhvc3xyZWQgP2hhdHx6ZW53YWxrfGxpbnB1c3xyYXNwYmlhbnxwbGFuIDl8bWluaXh8cmlzYyBvc3xjb250aWtpfGRlZXBpbnxtYW5qYXJvfGVsZW1lbnRhcnkgb3N8c2FiYXlvbnxsaW5zcGlyZSkoPzogZ251XFwvbGludXgpPyg/OiBlbnRlcnByaXNlKT8oPzpbLSBdbGludXgpPyg/Oi1nbnUpP1stXFwvIF0/KD8hY2hyb218cGFja2FnZSkoWy1cXHdcXC5dKikvaSxcbiAgICAgICAgLy8gVWJ1bnR1L0RlYmlhbi9TVVNFL0dlbnRvby9BcmNoL1NsYWNrd2FyZS9GZWRvcmEvTWFuZHJpdmEvQ2VudE9TL1BDTGludXhPUy9SZWRIYXQvWmVud2Fsay9MaW5wdXMvUmFzcGJpYW4vUGxhbjkvTWluaXgvUklTQ09TL0NvbnRpa2kvRGVlcGluL01hbmphcm8vZWxlbWVudGFyeS9TYWJheW9uL0xpbnNwaXJlXG4gICAgICAgIC8oaHVyZHxsaW51eCkoPzogYXJtXFx3KnwgeDg2XFx3KnwgPykoW1xcd1xcLl0qKS9pLFxuICAgICAgICAvLyBIdXJkL0xpbnV4XG4gICAgICAgIC8oZ251KSA/KFtcXHdcXC5dKikvaSxcbiAgICAgICAgLy8gR05VXG4gICAgICAgIC9cXGIoWy1mcmVudG9wY2doc117MCw1fWJzZHxkcmFnb25mbHkpW1xcLyBdPyg/IWFtZHxbaXgzNDZdezEsMn04NikoW1xcd1xcLl0qKS9pLFxuICAgICAgICAvLyBGcmVlQlNEL05ldEJTRC9PcGVuQlNEL1BDLUJTRC9HaG9zdEJTRC9EcmFnb25GbHlcbiAgICAgICAgLyhoYWlrdSkgKFxcdyspL2lcbiAgICAgICAgLy8gSGFpa3VcbiAgICAgIF0sXG4gICAgICBbTkFNRSwgVkVSU0lPTl0sXG4gICAgICBbXG4gICAgICAgIC8oc3Vub3MpID8oW1xcd1xcLlxcZF0qKS9pXG4gICAgICAgIC8vIFNvbGFyaXNcbiAgICAgIF0sXG4gICAgICBbW05BTUUsIFwiU29sYXJpc1wiXSwgVkVSU0lPTl0sXG4gICAgICBbXG4gICAgICAgIC8oKD86b3Blbik/c29sYXJpcylbLVxcLyBdPyhbXFx3XFwuXSopL2ksXG4gICAgICAgIC8vIFNvbGFyaXNcbiAgICAgICAgLyhhaXgpICgoXFxkKSg/PVxcLnxcXCl8IClbXFx3XFwuXSkqL2ksXG4gICAgICAgIC8vIEFJWFxuICAgICAgICAvXFxiKGJlb3N8b3NcXC8yfGFtaWdhb3N8bW9ycGhvc3xvcGVudm1zfGZ1Y2hzaWF8aHAtdXh8c2VyZW5pdHlvcykvaSxcbiAgICAgICAgLy8gQmVPUy9PUzIvQW1pZ2FPUy9Nb3JwaE9TL09wZW5WTVMvRnVjaHNpYS9IUC1VWC9TZXJlbml0eU9TXG4gICAgICAgIC8odW5peCkgPyhbXFx3XFwuXSopL2lcbiAgICAgICAgLy8gVU5JWFxuICAgICAgXSxcbiAgICAgIFtOQU1FLCBWRVJTSU9OXVxuICAgIF1cbiAgfTtcbiAgdmFyIGRlZmF1bHRQcm9wcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwcm9wcyA9IHsgaW5pdDoge30sIGlzSWdub3JlOiB7fSwgaXNJZ25vcmVSZ3g6IHt9LCB0b1N0cmluZzoge30gfTtcbiAgICBzZXRQcm9wcy5jYWxsKHByb3BzLmluaXQsIFtcbiAgICAgIFtVQV9CUk9XU0VSLCBbTkFNRSwgVkVSU0lPTiwgTUFKT1IsIFRZUEVdXSxcbiAgICAgIFtVQV9DUFUsIFtBUkNISVRFQ1RVUkVdXSxcbiAgICAgIFtVQV9ERVZJQ0UsIFtUWVBFLCBNT0RFTCwgVkVORE9SXV0sXG4gICAgICBbVUFfRU5HSU5FLCBbTkFNRSwgVkVSU0lPTl1dLFxuICAgICAgW1VBX09TLCBbTkFNRSwgVkVSU0lPTl1dXG4gICAgXSk7XG4gICAgc2V0UHJvcHMuY2FsbChwcm9wcy5pc0lnbm9yZSwgW1xuICAgICAgW1VBX0JST1dTRVIsIFtWRVJTSU9OLCBNQUpPUl1dLFxuICAgICAgW1VBX0VOR0lORSwgW1ZFUlNJT05dXSxcbiAgICAgIFtVQV9PUywgW1ZFUlNJT05dXVxuICAgIF0pO1xuICAgIHNldFByb3BzLmNhbGwocHJvcHMuaXNJZ25vcmVSZ3gsIFtcbiAgICAgIFtVQV9CUk9XU0VSLCAvID9icm93c2VyJC9pXSxcbiAgICAgIFtVQV9PUywgLyA/b3MkL2ldXG4gICAgXSk7XG4gICAgc2V0UHJvcHMuY2FsbChwcm9wcy50b1N0cmluZywgW1xuICAgICAgW1VBX0JST1dTRVIsIFtOQU1FLCBWRVJTSU9OXV0sXG4gICAgICBbVUFfQ1BVLCBbQVJDSElURUNUVVJFXV0sXG4gICAgICBbVUFfREVWSUNFLCBbVkVORE9SLCBNT0RFTF1dLFxuICAgICAgW1VBX0VOR0lORSwgW05BTUUsIFZFUlNJT05dXSxcbiAgICAgIFtVQV9PUywgW05BTUUsIFZFUlNJT05dXVxuICAgIF0pO1xuICAgIHJldHVybiBwcm9wcztcbiAgfSgpO1xuICB2YXIgY3JlYXRlSURhdGEgPSBmdW5jdGlvbihpdGVtLCBpdGVtVHlwZSkge1xuICAgIHZhciBpbml0X3Byb3BzID0gZGVmYXVsdFByb3BzLmluaXRbaXRlbVR5cGVdLCBpc19pZ25vcmVQcm9wcyA9IGRlZmF1bHRQcm9wcy5pc0lnbm9yZVtpdGVtVHlwZV0gfHwgMCwgaXNfaWdub3JlUmd4ID0gZGVmYXVsdFByb3BzLmlzSWdub3JlUmd4W2l0ZW1UeXBlXSB8fCAwLCB0b1N0cmluZ19wcm9wcyA9IGRlZmF1bHRQcm9wcy50b1N0cmluZ1tpdGVtVHlwZV0gfHwgMDtcbiAgICBmdW5jdGlvbiBJRGF0YSgpIHtcbiAgICAgIHNldFByb3BzLmNhbGwodGhpcywgaW5pdF9wcm9wcyk7XG4gICAgfVxuICAgIElEYXRhLnByb3RvdHlwZS5nZXRJdGVtID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9O1xuICAgIElEYXRhLnByb3RvdHlwZS53aXRoQ2xpZW50SGludHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghTkFWSUdBVE9SX1VBREFUQSkge1xuICAgICAgICByZXR1cm4gaXRlbS5wYXJzZUNIKCkuZ2V0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gTkFWSUdBVE9SX1VBREFUQS5nZXRIaWdoRW50cm9weVZhbHVlcyhDSF9BTExfVkFMVUVTKS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICByZXR1cm4gaXRlbS5zZXRDSChuZXcgVUFDSERhdGEocmVzLCBmYWxzZSkpLnBhcnNlQ0goKS5nZXQoKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgSURhdGEucHJvdG90eXBlLndpdGhGZWF0dXJlQ2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpdGVtLmRldGVjdEZlYXR1cmUoKS5nZXQoKTtcbiAgICB9O1xuICAgIGlmIChpdGVtVHlwZSAhPSBVQV9SRVNVTFQpIHtcbiAgICAgIElEYXRhLnByb3RvdHlwZS5pcyA9IGZ1bmN0aW9uKHN0clRvQ2hlY2spIHtcbiAgICAgICAgdmFyIGlzID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkyIGluIHRoaXMpIHtcbiAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShpMikgJiYgIWhhcyhpc19pZ25vcmVQcm9wcywgaTIpICYmIGxvd2VyaXplKGlzX2lnbm9yZVJneCA/IHN0cmlwKGlzX2lnbm9yZVJneCwgdGhpc1tpMl0pIDogdGhpc1tpMl0pID09IGxvd2VyaXplKGlzX2lnbm9yZVJneCA/IHN0cmlwKGlzX2lnbm9yZVJneCwgc3RyVG9DaGVjaykgOiBzdHJUb0NoZWNrKSkge1xuICAgICAgICAgICAgaXMgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHN0clRvQ2hlY2sgIT0gVU5ERUZfVFlQRSkgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdHJUb0NoZWNrID09IFVOREVGX1RZUEUgJiYgaXMpIHtcbiAgICAgICAgICAgIGlzID0gIWlzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpcztcbiAgICAgIH07XG4gICAgICBJRGF0YS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0ciA9IEVNUFRZO1xuICAgICAgICBmb3IgKHZhciBpMiBpbiB0b1N0cmluZ19wcm9wcykge1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpc1t0b1N0cmluZ19wcm9wc1tpMl1dICE9PSBVTkRFRl9UWVBFKSB7XG4gICAgICAgICAgICBzdHIgKz0gKHN0ciA/IFwiIFwiIDogRU1QVFkpICsgdGhpc1t0b1N0cmluZ19wcm9wc1tpMl1dO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyIHx8IFVOREVGX1RZUEU7XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoIU5BVklHQVRPUl9VQURBVEEpIHtcbiAgICAgIElEYXRhLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24oY2IpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICB2YXIgSURhdGFSZXNvbHZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiB0aGF0KSB7XG4gICAgICAgICAgICBpZiAodGhhdC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgICB0aGlzW3Byb3BdID0gdGhhdFtwcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIElEYXRhUmVzb2x2ZS5wcm90b3R5cGUgPSB7XG4gICAgICAgICAgaXM6IElEYXRhLnByb3RvdHlwZS5pcyxcbiAgICAgICAgICB0b1N0cmluZzogSURhdGEucHJvdG90eXBlLnRvU3RyaW5nXG4gICAgICAgIH07XG4gICAgICAgIHZhciByZXNvbHZlRGF0YSA9IG5ldyBJRGF0YVJlc29sdmUoKTtcbiAgICAgICAgY2IocmVzb2x2ZURhdGEpO1xuICAgICAgICByZXR1cm4gcmVzb2x2ZURhdGE7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IElEYXRhKCk7XG4gIH07XG4gIGZ1bmN0aW9uIFVBQ0hEYXRhKHVhY2gsIGlzSHR0cFVBQ0gpIHtcbiAgICB1YWNoID0gdWFjaCB8fCB7fTtcbiAgICBzZXRQcm9wcy5jYWxsKHRoaXMsIENIX0FMTF9WQUxVRVMpO1xuICAgIGlmIChpc0h0dHBVQUNIKSB7XG4gICAgICBzZXRQcm9wcy5jYWxsKHRoaXMsIFtcbiAgICAgICAgW0JSQU5EUywgaXRlbUxpc3RUb0FycmF5KHVhY2hbQ0hfSEVBREVSXSldLFxuICAgICAgICBbRlVMTFZFUkxJU1QsIGl0ZW1MaXN0VG9BcnJheSh1YWNoW0NIX0hFQURFUl9GVUxMX1ZFUl9MSVNUXSldLFxuICAgICAgICBbTU9CSUxFLCAvXFw/MS8udGVzdCh1YWNoW0NIX0hFQURFUl9NT0JJTEVdKV0sXG4gICAgICAgIFtNT0RFTCwgc3RyaXBRdW90ZXModWFjaFtDSF9IRUFERVJfTU9ERUxdKV0sXG4gICAgICAgIFtQTEFURk9STSwgc3RyaXBRdW90ZXModWFjaFtDSF9IRUFERVJfUExBVEZPUk1dKV0sXG4gICAgICAgIFtQTEFURk9STVZFUiwgc3RyaXBRdW90ZXModWFjaFtDSF9IRUFERVJfUExBVEZPUk1fVkVSXSldLFxuICAgICAgICBbQVJDSElURUNUVVJFLCBzdHJpcFF1b3Rlcyh1YWNoW0NIX0hFQURFUl9BUkNIXSldLFxuICAgICAgICBbRk9STUZBQ1RPUlMsIGl0ZW1MaXN0VG9BcnJheSh1YWNoW0NIX0hFQURFUl9GT1JNX0ZBQ1RPUlNdKV0sXG4gICAgICAgIFtCSVRORVNTLCBzdHJpcFF1b3Rlcyh1YWNoW0NIX0hFQURFUl9CSVRORVNTXSldXG4gICAgICBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgcHJvcCBpbiB1YWNoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KHByb3ApICYmIHR5cGVvZiB1YWNoW3Byb3BdICE9PSBVTkRFRl9UWVBFKSB0aGlzW3Byb3BdID0gdWFjaFtwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gVUFJdGVtKGl0ZW1UeXBlLCB1YSwgcmd4TWFwLCB1YUNIKSB7XG4gICAgdGhpcy5nZXQgPSBmdW5jdGlvbihwcm9wKSB7XG4gICAgICBpZiAoIXByb3ApIHJldHVybiB0aGlzLmRhdGE7XG4gICAgICByZXR1cm4gdGhpcy5kYXRhLmhhc093blByb3BlcnR5KHByb3ApID8gdGhpcy5kYXRhW3Byb3BdIDogdm9pZCAwO1xuICAgIH07XG4gICAgdGhpcy5zZXQgPSBmdW5jdGlvbihwcm9wLCB2YWwpIHtcbiAgICAgIHRoaXMuZGF0YVtwcm9wXSA9IHZhbDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgdGhpcy5zZXRDSCA9IGZ1bmN0aW9uKGNoKSB7XG4gICAgICB0aGlzLnVhQ0ggPSBjaDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgdGhpcy5kZXRlY3RGZWF0dXJlID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoTkFWSUdBVE9SICYmIE5BVklHQVRPUi51c2VyQWdlbnQgPT0gdGhpcy51YSkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuaXRlbVR5cGUpIHtcbiAgICAgICAgICBjYXNlIFVBX0JST1dTRVI6XG4gICAgICAgICAgICBpZiAoTkFWSUdBVE9SLmJyYXZlICYmIHR5cGVvZiBOQVZJR0FUT1IuYnJhdmUuaXNCcmF2ZSA9PSBGVU5DX1RZUEUpIHtcbiAgICAgICAgICAgICAgdGhpcy5zZXQoTkFNRSwgXCJCcmF2ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgVUFfREVWSUNFOlxuICAgICAgICAgICAgaWYgKCF0aGlzLmdldChUWVBFKSAmJiBOQVZJR0FUT1JfVUFEQVRBICYmIE5BVklHQVRPUl9VQURBVEFbTU9CSUxFXSkge1xuICAgICAgICAgICAgICB0aGlzLnNldChUWVBFLCBNT0JJTEUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KE1PREVMKSA9PSBcIk1hY2ludG9zaFwiICYmIE5BVklHQVRPUiAmJiB0eXBlb2YgTkFWSUdBVE9SLnN0YW5kYWxvbmUgIT09IFVOREVGX1RZUEUgJiYgTkFWSUdBVE9SLm1heFRvdWNoUG9pbnRzICYmIE5BVklHQVRPUi5tYXhUb3VjaFBvaW50cyA+IDIpIHtcbiAgICAgICAgICAgICAgdGhpcy5zZXQoTU9ERUwsIFwiaVBhZFwiKS5zZXQoVFlQRSwgVEFCTEVUKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgVUFfT1M6XG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2V0KE5BTUUpICYmIE5BVklHQVRPUl9VQURBVEEgJiYgTkFWSUdBVE9SX1VBREFUQVtQTEFURk9STV0pIHtcbiAgICAgICAgICAgICAgdGhpcy5zZXQoTkFNRSwgTkFWSUdBVE9SX1VBREFUQVtQTEFURk9STV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBVQV9SRVNVTFQ6XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgICAgIHZhciBkZXRlY3QgPSBmdW5jdGlvbihpdGVtVHlwZTIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRhdGFbaXRlbVR5cGUyXS5nZXRJdGVtKCkuZGV0ZWN0RmVhdHVyZSgpLmdldCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2V0KFVBX0JST1dTRVIsIGRldGVjdChVQV9CUk9XU0VSKSkuc2V0KFVBX0NQVSwgZGV0ZWN0KFVBX0NQVSkpLnNldChVQV9ERVZJQ0UsIGRldGVjdChVQV9ERVZJQ0UpKS5zZXQoVUFfRU5HSU5FLCBkZXRlY3QoVUFfRU5HSU5FKSkuc2V0KFVBX09TLCBkZXRlY3QoVUFfT1MpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICB0aGlzLnBhcnNlVUEgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLml0ZW1UeXBlICE9IFVBX1JFU1VMVCkge1xuICAgICAgICByZ3hNYXBwZXIuY2FsbCh0aGlzLmRhdGEsIHRoaXMudWEsIHRoaXMucmd4TWFwKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLml0ZW1UeXBlID09IFVBX0JST1dTRVIpIHtcbiAgICAgICAgdGhpcy5zZXQoTUFKT1IsIG1ham9yaXplKHRoaXMuZ2V0KFZFUlNJT04pKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHRoaXMucGFyc2VDSCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHVhQ0gyID0gdGhpcy51YUNILCByZ3hNYXAyID0gdGhpcy5yZ3hNYXA7XG4gICAgICBzd2l0Y2ggKHRoaXMuaXRlbVR5cGUpIHtcbiAgICAgICAgY2FzZSBVQV9CUk9XU0VSOlxuICAgICAgICBjYXNlIFVBX0VOR0lORTpcbiAgICAgICAgICB2YXIgYnJhbmRzID0gdWFDSDJbRlVMTFZFUkxJU1RdIHx8IHVhQ0gyW0JSQU5EU10sIHByZXZOYW1lO1xuICAgICAgICAgIGlmIChicmFuZHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkyIGluIGJyYW5kcykge1xuICAgICAgICAgICAgICB2YXIgYnJhbmROYW1lID0gYnJhbmRzW2kyXS5icmFuZCB8fCBicmFuZHNbaTJdLCBicmFuZFZlcnNpb24gPSBicmFuZHNbaTJdLnZlcnNpb247XG4gICAgICAgICAgICAgIGlmICh0aGlzLml0ZW1UeXBlID09IFVBX0JST1dTRVIgJiYgIS9ub3QuYS5icmFuZC9pLnRlc3QoYnJhbmROYW1lKSAmJiAoIXByZXZOYW1lIHx8IC9jaHJvbS9pLnRlc3QocHJldk5hbWUpICYmIGJyYW5kTmFtZSAhPSBDSFJPTUlVTSkpIHtcbiAgICAgICAgICAgICAgICBicmFuZE5hbWUgPSBzdHJNYXBwZXIoYnJhbmROYW1lLCB7XG4gICAgICAgICAgICAgICAgICBcIkNocm9tZVwiOiBcIkdvb2dsZSBDaHJvbWVcIixcbiAgICAgICAgICAgICAgICAgIFwiRWRnZVwiOiBcIk1pY3Jvc29mdCBFZGdlXCIsXG4gICAgICAgICAgICAgICAgICBcIkNocm9tZSBXZWJWaWV3XCI6IFwiQW5kcm9pZCBXZWJWaWV3XCIsXG4gICAgICAgICAgICAgICAgICBcIkNocm9tZSBIZWFkbGVzc1wiOiBcIkhlYWRsZXNzQ2hyb21lXCIsXG4gICAgICAgICAgICAgICAgICBcIkh1YXdlaSBCcm93c2VyXCI6IFwiSHVhd2VpQnJvd3NlclwiLFxuICAgICAgICAgICAgICAgICAgXCJNSVVJIEJyb3dzZXJcIjogXCJNaXVpIEJyb3dzZXJcIixcbiAgICAgICAgICAgICAgICAgIFwiT3BlcmEgTW9iaVwiOiBcIk9wZXJhTW9iaWxlXCIsXG4gICAgICAgICAgICAgICAgICBcIllhbmRleFwiOiBcIllhQnJvd3NlclwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoTkFNRSwgYnJhbmROYW1lKS5zZXQoVkVSU0lPTiwgYnJhbmRWZXJzaW9uKS5zZXQoTUFKT1IsIG1ham9yaXplKGJyYW5kVmVyc2lvbikpO1xuICAgICAgICAgICAgICAgIHByZXZOYW1lID0gYnJhbmROYW1lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0aGlzLml0ZW1UeXBlID09IFVBX0VOR0lORSAmJiBicmFuZE5hbWUgPT0gQ0hST01JVU0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChWRVJTSU9OLCBicmFuZFZlcnNpb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFVBX0NQVTpcbiAgICAgICAgICB2YXIgYXJjaE5hbWUgPSB1YUNIMltBUkNISVRFQ1RVUkVdO1xuICAgICAgICAgIGlmIChhcmNoTmFtZSkge1xuICAgICAgICAgICAgaWYgKGFyY2hOYW1lICYmIHVhQ0gyW0JJVE5FU1NdID09IFwiNjRcIikgYXJjaE5hbWUgKz0gXCI2NFwiO1xuICAgICAgICAgICAgcmd4TWFwcGVyLmNhbGwodGhpcy5kYXRhLCBhcmNoTmFtZSArIFwiO1wiLCByZ3hNYXAyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVUFfREVWSUNFOlxuICAgICAgICAgIGlmICh1YUNIMltNT0JJTEVdKSB7XG4gICAgICAgICAgICB0aGlzLnNldChUWVBFLCBNT0JJTEUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodWFDSDJbTU9ERUxdKSB7XG4gICAgICAgICAgICB0aGlzLnNldChNT0RFTCwgdWFDSDJbTU9ERUxdKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5nZXQoVFlQRSkgfHwgIXRoaXMuZ2V0KFZFTkRPUikpIHtcbiAgICAgICAgICAgICAgdmFyIHJlUGFyc2UgPSB7fTtcbiAgICAgICAgICAgICAgcmd4TWFwcGVyLmNhbGwocmVQYXJzZSwgXCJkcm9pZCA5OyBcIiArIHVhQ0gyW01PREVMXSArIFwiKVwiLCByZ3hNYXAyKTtcbiAgICAgICAgICAgICAgaWYgKCF0aGlzLmdldChUWVBFKSAmJiAhIXJlUGFyc2UudHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KFRZUEUsIHJlUGFyc2UudHlwZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCF0aGlzLmdldChWRU5ET1IpICYmICEhcmVQYXJzZS52ZW5kb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChWRU5ET1IsIHJlUGFyc2UudmVuZG9yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodWFDSDJbRk9STUZBQ1RPUlNdKSB7XG4gICAgICAgICAgICB2YXIgZmY7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHVhQ0gyW0ZPUk1GQUNUT1JTXSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgICAgICAgd2hpbGUgKCFmZiAmJiBpZHggPCB1YUNIMltGT1JNRkFDVE9SU10ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZmYgPSBzdHJNYXBwZXIodWFDSDJbRk9STUZBQ1RPUlNdW2lkeCsrXSwgZm9ybUZhY3RvcnNNYXApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmZiA9IHN0ck1hcHBlcih1YUNIMltGT1JNRkFDVE9SU10sIGZvcm1GYWN0b3JzTWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0KFRZUEUsIGZmKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVUFfT1M6XG4gICAgICAgICAgdmFyIG9zTmFtZSA9IHVhQ0gyW1BMQVRGT1JNXTtcbiAgICAgICAgICBpZiAob3NOYW1lKSB7XG4gICAgICAgICAgICB2YXIgb3NWZXJzaW9uID0gdWFDSDJbUExBVEZPUk1WRVJdO1xuICAgICAgICAgICAgaWYgKG9zTmFtZSA9PSBXSU5ET1dTKSBvc1ZlcnNpb24gPSBwYXJzZUludChtYWpvcml6ZShvc1ZlcnNpb24pLCAxMCkgPj0gMTMgPyBcIjExXCIgOiBcIjEwXCI7XG4gICAgICAgICAgICB0aGlzLnNldChOQU1FLCBvc05hbWUpLnNldChWRVJTSU9OLCBvc1ZlcnNpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5nZXQoTkFNRSkgPT0gV0lORE9XUyAmJiB1YUNIMltNT0RFTF0gPT0gXCJYYm94XCIpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KE5BTUUsIFwiWGJveFwiKS5zZXQoVkVSU0lPTiwgdm9pZCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVUFfUkVTVUxUOlxuICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgICAgICAgIHZhciBwYXJzZSA9IGZ1bmN0aW9uKGl0ZW1UeXBlMikge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGFbaXRlbVR5cGUyXS5nZXRJdGVtKCkuc2V0Q0godWFDSDIpLnBhcnNlQ0goKS5nZXQoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRoaXMuc2V0KFVBX0JST1dTRVIsIHBhcnNlKFVBX0JST1dTRVIpKS5zZXQoVUFfQ1BVLCBwYXJzZShVQV9DUFUpKS5zZXQoVUFfREVWSUNFLCBwYXJzZShVQV9ERVZJQ0UpKS5zZXQoVUFfRU5HSU5FLCBwYXJzZShVQV9FTkdJTkUpKS5zZXQoVUFfT1MsIHBhcnNlKFVBX09TKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHNldFByb3BzLmNhbGwodGhpcywgW1xuICAgICAgW1wiaXRlbVR5cGVcIiwgaXRlbVR5cGVdLFxuICAgICAgW1widWFcIiwgdWFdLFxuICAgICAgW1widWFDSFwiLCB1YUNIXSxcbiAgICAgIFtcInJneE1hcFwiLCByZ3hNYXBdLFxuICAgICAgW1wiZGF0YVwiLCBjcmVhdGVJRGF0YSh0aGlzLCBpdGVtVHlwZSldXG4gICAgXSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZnVuY3Rpb24gVUFQYXJzZXIodWEsIGV4dGVuc2lvbnMsIGhlYWRlcnMpIHtcbiAgICBpZiAodHlwZW9mIHVhID09PSBPQkpfVFlQRSkge1xuICAgICAgaWYgKGlzRXh0ZW5zaW9ucyh1YSwgdHJ1ZSkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBleHRlbnNpb25zID09PSBPQkpfVFlQRSkge1xuICAgICAgICAgIGhlYWRlcnMgPSBleHRlbnNpb25zO1xuICAgICAgICB9XG4gICAgICAgIGV4dGVuc2lvbnMgPSB1YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhlYWRlcnMgPSB1YTtcbiAgICAgICAgZXh0ZW5zaW9ucyA9IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIHVhID0gdm9pZCAwO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHVhID09PSBTVFJfVFlQRSAmJiAhaXNFeHRlbnNpb25zKGV4dGVuc2lvbnMsIHRydWUpKSB7XG4gICAgICBoZWFkZXJzID0gZXh0ZW5zaW9ucztcbiAgICAgIGV4dGVuc2lvbnMgPSB2b2lkIDA7XG4gICAgfVxuICAgIGlmIChoZWFkZXJzICYmIHR5cGVvZiBoZWFkZXJzLmFwcGVuZCA9PT0gRlVOQ19UWVBFKSB7XG4gICAgICB2YXIga3YgPSB7fTtcbiAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2MiwgazIpIHtcbiAgICAgICAga3ZbazJdID0gdjI7XG4gICAgICB9KTtcbiAgICAgIGhlYWRlcnMgPSBrdjtcbiAgICB9XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFVBUGFyc2VyKSkge1xuICAgICAgcmV0dXJuIG5ldyBVQVBhcnNlcih1YSwgZXh0ZW5zaW9ucywgaGVhZGVycykuZ2V0UmVzdWx0KCk7XG4gICAgfVxuICAgIHZhciB1c2VyQWdlbnQgPSB0eXBlb2YgdWEgPT09IFNUUl9UWVBFID8gdWEgOiAoXG4gICAgICAvLyBQYXNzZWQgdXNlci1hZ2VudCBzdHJpbmdcbiAgICAgIGhlYWRlcnMgJiYgaGVhZGVyc1tVU0VSX0FHRU5UXSA/IGhlYWRlcnNbVVNFUl9BR0VOVF0gOiAoXG4gICAgICAgIC8vIFVzZXItQWdlbnQgZnJvbSBwYXNzZWQgaGVhZGVyc1xuICAgICAgICBOQVZJR0FUT1IgJiYgTkFWSUdBVE9SLnVzZXJBZ2VudCA/IE5BVklHQVRPUi51c2VyQWdlbnQgOiAoXG4gICAgICAgICAgLy8gbmF2aWdhdG9yLnVzZXJBZ2VudFxuICAgICAgICAgIEVNUFRZXG4gICAgICAgIClcbiAgICAgIClcbiAgICApLCBodHRwVUFDSCA9IG5ldyBVQUNIRGF0YShoZWFkZXJzLCB0cnVlKSwgcmVnZXhNYXAgPSBleHRlbnNpb25zID8gZXh0ZW5kKGRlZmF1bHRSZWdleGVzLCBleHRlbnNpb25zKSA6IGRlZmF1bHRSZWdleGVzLCBjcmVhdGVJdGVtRnVuYyA9IGZ1bmN0aW9uKGl0ZW1UeXBlKSB7XG4gICAgICBpZiAoaXRlbVR5cGUgPT0gVUFfUkVTVUxUKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFVBSXRlbShpdGVtVHlwZSwgdXNlckFnZW50LCByZWdleE1hcCwgaHR0cFVBQ0gpLnNldChcInVhXCIsIHVzZXJBZ2VudCkuc2V0KFVBX0JST1dTRVIsIHRoaXMuZ2V0QnJvd3NlcigpKS5zZXQoVUFfQ1BVLCB0aGlzLmdldENQVSgpKS5zZXQoVUFfREVWSUNFLCB0aGlzLmdldERldmljZSgpKS5zZXQoVUFfRU5HSU5FLCB0aGlzLmdldEVuZ2luZSgpKS5zZXQoVUFfT1MsIHRoaXMuZ2V0T1MoKSkuZ2V0KCk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVQUl0ZW0oaXRlbVR5cGUsIHVzZXJBZ2VudCwgcmVnZXhNYXBbaXRlbVR5cGVdLCBodHRwVUFDSCkucGFyc2VVQSgpLmdldCgpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gICAgc2V0UHJvcHMuY2FsbCh0aGlzLCBbXG4gICAgICBbXCJnZXRCcm93c2VyXCIsIGNyZWF0ZUl0ZW1GdW5jKFVBX0JST1dTRVIpXSxcbiAgICAgIFtcImdldENQVVwiLCBjcmVhdGVJdGVtRnVuYyhVQV9DUFUpXSxcbiAgICAgIFtcImdldERldmljZVwiLCBjcmVhdGVJdGVtRnVuYyhVQV9ERVZJQ0UpXSxcbiAgICAgIFtcImdldEVuZ2luZVwiLCBjcmVhdGVJdGVtRnVuYyhVQV9FTkdJTkUpXSxcbiAgICAgIFtcImdldE9TXCIsIGNyZWF0ZUl0ZW1GdW5jKFVBX09TKV0sXG4gICAgICBbXCJnZXRSZXN1bHRcIiwgY3JlYXRlSXRlbUZ1bmMoVUFfUkVTVUxUKV0sXG4gICAgICBbXCJnZXRVQVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJBZ2VudDtcbiAgICAgIH1dLFxuICAgICAgW1wic2V0VUFcIiwgZnVuY3Rpb24odWEyKSB7XG4gICAgICAgIGlmIChpc1N0cmluZyh1YTIpKVxuICAgICAgICAgIHVzZXJBZ2VudCA9IHVhMi5sZW5ndGggPiBVQV9NQVhfTEVOR1RIID8gdHJpbSh1YTIsIFVBX01BWF9MRU5HVEgpIDogdWEyO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1dXG4gICAgXSkuc2V0VUEodXNlckFnZW50KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBVQVBhcnNlci5WRVJTSU9OID0gTElCVkVSU0lPTjtcbiAgVUFQYXJzZXIuQlJPV1NFUiA9IGVudW1lcml6ZShbTkFNRSwgVkVSU0lPTiwgTUFKT1IsIFRZUEVdKTtcbiAgVUFQYXJzZXIuQ1BVID0gZW51bWVyaXplKFtBUkNISVRFQ1RVUkVdKTtcbiAgVUFQYXJzZXIuREVWSUNFID0gZW51bWVyaXplKFtNT0RFTCwgVkVORE9SLCBUWVBFLCBDT05TT0xFLCBNT0JJTEUsIFNNQVJUVFYsIFRBQkxFVCwgV0VBUkFCTEUsIEVNQkVEREVEXSk7XG4gIFVBUGFyc2VyLkVOR0lORSA9IFVBUGFyc2VyLk9TID0gZW51bWVyaXplKFtOQU1FLCBWRVJTSU9OXSk7XG4gIGNvbnN0IHVzZUJyb3dzZXJJbmZvID0gKCkgPT4ge1xuICAgIGNvbnN0IGJyb3dzZXJJbmZvID0gVCQ1KCgpID0+IHtcbiAgICAgIHtcbiAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IFVBUGFyc2VyKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci5nZXRSZXN1bHQoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBicm93c2VyOiByZXN1bHQuYnJvd3NlcixcbiAgICAgICAgICBlbmdpbmU6IHJlc3VsdC5lbmdpbmUsXG4gICAgICAgICAgb3M6IHJlc3VsdC5vcyxcbiAgICAgICAgICBkZXZpY2U6IHJlc3VsdC5kZXZpY2UsXG4gICAgICAgICAgY3B1OiByZXN1bHQuY3B1XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBicm93c2VySW5mbztcbiAgfTtcbiAgZnVuY3Rpb24gdXNlSG90a2V5TGlzdGVuZXJDb21ib1RleHQoYWN0aW9uKSB7XG4gICAgY29uc3QgdXNlckFnZW50ID0gdXNlQnJvd3NlckluZm8oKTtcbiAgICByZXR1cm4gdXNlckFnZW50Lm9zLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcIm1hY1wiKSA/IGhvdGtleUFjdGlvbkRlZmluaXRpb25zW2FjdGlvbl0ua2V5Q29tYm9NYWMgOiBob3RrZXlBY3Rpb25EZWZpbml0aW9uc1thY3Rpb25dLmtleUNvbWJvRGVmYXVsdDtcbiAgfVxuICBmdW5jdGlvbiBDaGF0Qm94KCkge1xuICAgIGNvbnN0IGNoYXRTdGF0ZSA9IHVzZUNoYXRTdGF0ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRDaGF0ID0gVCQ1KFxuICAgICAgKCkgPT4gY2hhdFN0YXRlLmNoYXRzLmZpbmQoKGMyKSA9PiBjMi5pZCA9PT0gY2hhdFN0YXRlLmN1cnJlbnRDaGF0SWQpLFxuICAgICAgW2NoYXRTdGF0ZS5jaGF0cywgY2hhdFN0YXRlLmN1cnJlbnRDaGF0SWRdXG4gICAgKTtcbiAgICBjb25zdCBjdXJyZW50SW5wdXQgPSBUJDUoXG4gICAgICAoKSA9PiAoY3VycmVudENoYXQgPT0gbnVsbCA/IHZvaWQgMCA6IGN1cnJlbnRDaGF0LmlucHV0VmFsdWUpIHx8IFwiXCIsXG4gICAgICBbY3VycmVudENoYXQgPT0gbnVsbCA/IHZvaWQgMCA6IGN1cnJlbnRDaGF0LmlucHV0VmFsdWVdXG4gICAgKTtcbiAgICBjb25zdCBzaG93QmlnQm94ID0gVCQ1KCgpID0+IHtcbiAgICAgIHJldHVybiBjdXJyZW50SW5wdXQuc3BsaXQoXCJcXG5cIikubGVuZ3RoID4gMSB8fCBjdXJyZW50SW5wdXQubGVuZ3RoID4gMzA7XG4gICAgfSwgW2N1cnJlbnRJbnB1dF0pO1xuICAgIGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gcSQzKFxuICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgIGNoYXRTdGF0ZS5zZXRDaGF0SW5wdXQoY2hhdFN0YXRlLmN1cnJlbnRDaGF0SWQsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBbY2hhdFN0YXRlLnNldENoYXRJbnB1dCwgY2hhdFN0YXRlLmN1cnJlbnRDaGF0SWRdXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVTdWJtaXQgPSBxJDMoKCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50Q2hhdCB8fCAhY3VycmVudElucHV0LnRyaW0oKSkgcmV0dXJuO1xuICAgICAgY2hhdFN0YXRlLmFkZE1lc3NhZ2UoY3VycmVudENoYXQuaWQsIGN1cnJlbnRJbnB1dCk7XG4gICAgfSwgW2N1cnJlbnRDaGF0LCBjdXJyZW50SW5wdXQsIGNoYXRTdGF0ZS5hZGRNZXNzYWdlXSk7XG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IHEkMyhcbiAgICAgIChlMikgPT4ge1xuICAgICAgICBpZiAoZTIua2V5ID09PSBcIkVudGVyXCIgJiYgIWUyLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgZTIucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBoYW5kbGVTdWJtaXQoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFtoYW5kbGVTdWJtaXRdXG4gICAgKTtcbiAgICBjb25zdCBpbnB1dFJlZiA9IEEkMyhudWxsKTtcbiAgICB5JDYoKCkgPT4ge1xuICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICBjb25zdCBibHVySGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgcmV0dXJuIChfYTIgPSBpbnB1dFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmZvY3VzKCk7XG4gICAgICB9O1xuICAgICAgaWYgKGNoYXRTdGF0ZS5pc1Byb21wdENyZWF0aW9uQWN0aXZlKSB7XG4gICAgICAgIChfYSA9IGlucHV0UmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5mb2N1cygpO1xuICAgICAgICAoX2IgPSBpbnB1dFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2IuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgYmx1ckhhbmRsZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKF9jID0gaW5wdXRSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmJsdXIoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHZhciBfYTI7XG4gICAgICAgIChfYTIgPSBpbnB1dFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIGJsdXJIYW5kbGVyKTtcbiAgICAgIH07XG4gICAgfSwgW2NoYXRTdGF0ZS5pc1Byb21wdENyZWF0aW9uQWN0aXZlXSk7XG4gICAgY29uc3QgYnV0dG9uQ2xhc3NOYW1lID0gVCQ1KFxuICAgICAgKCkgPT4gY24oXG4gICAgICAgIFwiZmxleCBzaXplLTYgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtZnVsbCBiZy10cmFuc3BhcmVudCBwLTEgdGV4dC16aW5jLTk1MCBvcGFjaXR5LTIwXCIsXG4gICAgICAgIGN1cnJlbnRJbnB1dC5sZW5ndGggPiAwICYmIFwiYmctYmx1ZS02MDAgdGV4dC13aGl0ZSBvcGFjaXR5LTEwMFwiXG4gICAgICApLFxuICAgICAgW2N1cnJlbnRJbnB1dC5sZW5ndGhdXG4gICAgKTtcbiAgICBjb25zdCB0ZXh0YXJlYUNsYXNzTmFtZSA9IFQkNShcbiAgICAgICgpID0+IGNuKFxuICAgICAgICBcInctZnVsbCBmbGV4LTEgcmVzaXplLW5vbmUgYmctdHJhbnNwYXJlbnQgdGV4dC16aW5jLTk1MCBwbGFjZWhvbGRlcjp0ZXh0LXppbmMtOTUwLzUwIGZvY3VzOm91dGxpbmUtbm9uZVwiLFxuICAgICAgICBzaG93QmlnQm94ID8gXCJoLVs0LjVlbV1cIiA6IFwiaC02XCJcbiAgICAgICksXG4gICAgICBbc2hvd0JpZ0JveF1cbiAgICApO1xuICAgIGNvbnN0IGN0cmxBbHRDVGV4dCA9IHVzZUhvdGtleUxpc3RlbmVyQ29tYm9UZXh0KEhvdGtleUFjdGlvbnMuQ1RSTF9BTFRfQyk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICBcImRpdlwiLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IGNuKFxuICAgICAgICAgIFwiZmxleCBoLWZpdCB3LTgwIGZsZXgtMSBmbGV4LXJvdyBpdGVtcy1lbmQgZ2FwLTEgcm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci1ib3JkZXIvMTAgYmctemluYy05NTAvNSBwLTEuNSBwbC0yIHRleHQtc20gdGV4dC16aW5jLTk1MCBzaGFkb3ctaW5uZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwIHBsYWNlaG9sZGVyOnRleHQtemluYy05NTAvNzBcIixcbiAgICAgICAgICBjaGF0U3RhdGUuaXNQcm9tcHRDcmVhdGlvbkFjdGl2ZSAmJiBcInJpbmctMiByaW5nLWJsdWUtNjAwXCJcbiAgICAgICAgKSxcbiAgICAgICAgb25DbGljazogKCkgPT4gY2hhdFN0YXRlLnN0YXJ0UHJvbXB0Q3JlYXRpb24oKSxcbiAgICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgICAgdGFiSW5kZXg6IDAsXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgICAgICAgIEosXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJlZjogaW5wdXRSZWYsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogdGV4dGFyZWFDbGFzc05hbWUsXG4gICAgICAgICAgICAgIHJvd3M6IHNob3dCaWdCb3ggPyA0IDogMSxcbiAgICAgICAgICAgICAgdmFsdWU6IGN1cnJlbnRJbnB1dCxcbiAgICAgICAgICAgICAgb25DaGFuZ2U6IChlMikgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoZTIuY3VycmVudFRhcmdldC52YWx1ZSksXG4gICAgICAgICAgICAgIG9uS2V5RG93bjogaGFuZGxlS2V5RG93bixcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IGNoYXRTdGF0ZS5pc1Byb21wdENyZWF0aW9uQWN0aXZlID8gXCJFbnRlciBwcm9tcHQuLi5cIiA6IGBXaGF0IGRvIHlvdSB3YW50IHRvIGNoYW5nZT8gKCR7Y3RybEFsdENUZXh0fSlgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKSxcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgICAgICAgSCQzLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IGJ1dHRvbkNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgZGlzYWJsZWQ6IGN1cnJlbnRJbnB1dC5sZW5ndGggPT09IDAsXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IGhhbmRsZVN1Ym1pdCxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoU2VuZCwgeyBjbGFzc05hbWU6IFwic2l6ZS0zXCIgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICApO1xuICB9XG4gIGNvbnN0IERyb3Bkb3duTWVudSA9IHRvO1xuICBjb25zdCBEcm9wZG93bk1lbnVCdXR0b24gPSBEJDEoXG4gICAgKHByb3BzLCByZWYpID0+IHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KG10LCB7IGFzOiBrJDMsIHJlZiwgLi4ucHJvcHMgfSk7XG4gICAgfVxuICApO1xuICBjb25zdCBEcm9wZG93bk1lbnVDb250ZW50ID0gRCQxKFxuICAgIChwcm9wcywgcmVmKSA9PiB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgICAgVHQsXG4gICAgICAgIHtcbiAgICAgICAgICByZWYsXG4gICAgICAgICAgYW5jaG9yOiBcImJvdHRvbVwiLFxuICAgICAgICAgIHRyYW5zaXRpb246IHRydWUsXG4gICAgICAgICAgcG9ydGFsOiB0cnVlLFxuICAgICAgICAgIC4uLnByb3BzLFxuICAgICAgICAgIGNsYXNzTmFtZTogY24oXG4gICAgICAgICAgICBcInotNTAgZmxleCB3LWZpdCBtaW4tdy0yNCBtYXgtdy05MCBmbGV4LWNvbCBpdGVtcy1zdHJldGNoIGp1c3RpZnktc3RhcnQgZ2FwLTEgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWJvcmRlci8zMCBib3JkZXItc29saWQgYmctYmFja2dyb3VuZC82MCBwLTEgc2hhZG93LWJsYWNrLzUwIHNoYWRvdy1sZyBvdXRsaW5lLW5vbmUgYmFja2Ryb3AtYmx1ci1tZCBkYXRhLWZvY3VzOm91dGxpbmUtbm9uZVwiLFxuICAgICAgICAgICAgcHJvcHMuY2xhc3NOYW1lXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgKTtcbiAgY29uc3QgRHJvcGRvd25NZW51SXRlbVN0eWxlcyA9IFwidy1mdWxsIGZsZXggZmxleC1yb3cgc2VsZWN0LW5vbmUgaXRlbXMtY2VudGVyIGp1c3RpZnktc3RhcnQgZ2FwLTIgcC0yIHByLTYgdHJ1bmNhdGUgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbWQgaG92ZXI6YmctemluYy05NTAvMTAgZm9jdXM6dGV4dC16aW5jLTkwMCBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWNvbG9yIGR1cmF0aW9uLTE1MCB0ZXh0LXNtIGZvbnQtbm9ybWFsIHRleHQtZm9yZWdyb3VuZFwiO1xuICBjb25zdCBEcm9wZG93bk1lbnVCdXR0dG9uSXRlbSA9IEQkMShcbiAgICAocHJvcHMsIHJlZikgPT4ge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoZnQsIHsgcmVmLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgICAgSCQzLFxuICAgICAgICB7XG4gICAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbihEcm9wZG93bk1lbnVJdGVtU3R5bGVzLCBwcm9wcy5jbGFzc05hbWUpXG4gICAgICAgIH1cbiAgICAgICkgfSk7XG4gICAgfVxuICApO1xuICBEJDEoXG4gICAgKHByb3BzLCByZWYpID0+IHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KGZ0LCB7IHJlZiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJhXCIsIHsgLi4ucHJvcHMsIGNsYXNzTmFtZTogY24oRHJvcGRvd25NZW51SXRlbVN0eWxlcywgcHJvcHMuY2xhc3NOYW1lKSB9KSB9KTtcbiAgICB9XG4gICk7XG4gIGZ1bmN0aW9uIFRvb2xiYXJJdGVtKHByb3BzKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBoLWZ1bGwgc2hyaW5rLTAgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCIsIGNoaWxkcmVuOiBbXG4gICAgICBwcm9wcy5jaGlsZHJlbixcbiAgICAgIHByb3BzLmJhZGdlQ29udGVudCAmJiAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBjbihcbiAgICAgICAgICAgIFwiYmctYmx1ZS02MDAgdGV4dC13aGl0ZVwiLFxuICAgICAgICAgICAgcHJvcHMuYmFkZ2VDbGFzc05hbWUsXG4gICAgICAgICAgICBcIi1ib3R0b20tMC41IC1yaWdodC0xIHBvaW50ZXItZXZlbnRzLW5vbmUgYWJzb2x1dGUgZmxleCBoLTQgdy1tYXggbWluLXctNCBtYXgtdy04IHNlbGVjdC1ub25lIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0cnVuY2F0ZSByb3VuZGVkLWZ1bGwgcHgtMSBmb250LXNlbWlib2xkIHRleHQteHNcIlxuICAgICAgICAgICksXG4gICAgICAgICAgY2hpbGRyZW46IHByb3BzLmJhZGdlQ29udGVudFxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgcHJvcHMuc3RhdHVzRG90ICYmIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNuKFxuICAgICAgICAgICAgXCJiZy1yb3NlLTYwMFwiLFxuICAgICAgICAgICAgcHJvcHMuc3RhdHVzRG90Q2xhc3NOYW1lLFxuICAgICAgICAgICAgXCJwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIHRvcC0wIHJpZ2h0LTAgc2l6ZS0xLjUgcm91bmRlZC1mdWxsXCJcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIClcbiAgICBdIH0pO1xuICB9XG4gIGNvbnN0IFRvb2xiYXJCdXR0b24gPSBEJDEoXG4gICAgKHtcbiAgICAgIGJhZGdlQ29udGVudCxcbiAgICAgIGJhZGdlQ2xhc3NOYW1lLFxuICAgICAgc3RhdHVzRG90LFxuICAgICAgc3RhdHVzRG90Q2xhc3NOYW1lLFxuICAgICAgdG9vbHRpcEhpbnQsXG4gICAgICB2YXJpYW50ID0gXCJkZWZhdWx0XCIsXG4gICAgICAuLi5wcm9wc1xuICAgIH0sIHJlZikgPT4ge1xuICAgICAgY29uc3QgYnV0dG9uID0gLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgICAgSCQzLFxuICAgICAgICB7XG4gICAgICAgICAgcmVmLFxuICAgICAgICAgIC4uLnByb3BzLFxuICAgICAgICAgIGNsYXNzTmFtZTogY24oXG4gICAgICAgICAgICBcImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtZnVsbCBwLTEgdGV4dC16aW5jLTk1MCBob3ZlcjpiZy16aW5jLTk1MC81XCIsXG4gICAgICAgICAgICB2YXJpYW50ID09PSBcImRlZmF1bHRcIiA/IFwic2l6ZS04XCIgOiBcImgtOCByb3VuZGVkLWZ1bGxcIlxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgICBUb29sYmFySXRlbSxcbiAgICAgICAge1xuICAgICAgICAgIGJhZGdlQ29udGVudCxcbiAgICAgICAgICBiYWRnZUNsYXNzTmFtZSxcbiAgICAgICAgICBzdGF0dXNEb3QsXG4gICAgICAgICAgc3RhdHVzRG90Q2xhc3NOYW1lLFxuICAgICAgICAgIGNoaWxkcmVuOiBidXR0b25cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gICk7XG4gIFRvb2xiYXJCdXR0b24uZGlzcGxheU5hbWUgPSBcIlRvb2xiYXJCdXR0b25cIjtcbiAgZnVuY3Rpb24gVG9vbGJhclNlY3Rpb24oeyBjaGlsZHJlbiB9KSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmFkZS1pbiBzbGlkZS1pbi1mcm9tLWJvdHRvbS0yIGZsZXggbWF4LWgtZnVsbCBtYXgtdy1zbSBhbmltYXRlLWluIHNuYXAtc3RhcnQgZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMiBib3JkZXIteCBib3JkZXItci1ib3JkZXIvMzAgYm9yZGVyLWwtdHJhbnNwYXJlbnQgcHgtMyBmaXJzdDpwbC0wIGxhc3Q6Ym9yZGVyLXItdHJhbnNwYXJlbnQgbGFzdDpwci0wXCIsIGNoaWxkcmVuIH0pO1xuICB9XG4gIGZ1bmN0aW9uIE1vcmVBY3Rpb25zQnV0dG9uKCkge1xuICAgIGNvbnN0IG1pbmltaXplQ29tcGFuaW9uID0gdXNlQXBwU3RhdGUoKHN0YXRlKSA9PiBzdGF0ZS5taW5pbWl6ZSk7XG4gICAgY29uc3QgcGx1Z2lucyA9IHVzZVBsdWdpbnMoKTtcbiAgICBjb25zdCBwbHVnaW5Ub29scyA9IFQkNSgoKSA9PiB7XG4gICAgICByZXR1cm4gcGx1Z2lucy5mbGF0TWFwKChwbHVnaW4pID0+IHBsdWdpbi5hY3Rpb25zKTtcbiAgICB9LCBbcGx1Z2luc10pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KFRvb2xiYXJTZWN0aW9uLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gdSQ5KERyb3Bkb3duTWVudSwgeyBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIHUkOShEcm9wZG93bk1lbnVCdXR0b24sIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoVG9vbGJhckJ1dHRvbiwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShFbGxpcHNpcywgeyBjbGFzc05hbWU6IFwic2l6ZS00XCIgfSkgfSkgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KERyb3Bkb3duTWVudUNvbnRlbnQsIHsgY2hpbGRyZW46IFtcbiAgICAgICAgcGx1Z2luVG9vbHMubWFwKCh0b29sKSA9PiAvKiBAX19QVVJFX18gKi8gdSQ5KERyb3Bkb3duTWVudUJ1dHR0b25JdGVtLCB7IG9uQ2xpY2s6IHRvb2wuZXhlY3V0ZSwgY2hpbGRyZW46IHRvb2wubmFtZSB9KSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoRHJvcGRvd25NZW51QnV0dHRvbkl0ZW0sIHsgb25DbGljazogbWluaW1pemVDb21wYW5pb24sIGNoaWxkcmVuOiBbXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIHUkOShNaW5pbWl6ZTIsIHsgY2xhc3NOYW1lOiBcInNpemUtNFwiIH0pLFxuICAgICAgICAgIFwiTWluaW1pemUgY29tcGFuaW9uXCJcbiAgICAgICAgXSB9KVxuICAgICAgXSB9KVxuICAgIF0gfSkgfSk7XG4gIH1cbiAgY29uc3QgRHJhZ2dhYmxlQ29udGV4dCA9IEskMyhcbiAgICBudWxsXG4gICk7XG4gIGNvbnN0IERyYWdnYWJsZVByb3ZpZGVyID0gKHtcbiAgICBjb250YWluZXJSZWYsXG4gICAgY2hpbGRyZW4sXG4gICAgc25hcEFyZWFzLFxuICAgIG9uRHJhZ1N0YXJ0LFxuICAgIG9uRHJhZ0VuZFxuICB9KSA9PiB7XG4gICAgY29uc3QgW2JvcmRlckxvY2F0aW9uLCBzZXRCb3JkZXJMb2NhdGlvbl0gPSBkJDQoe1xuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgYm90dG9tOiAwXG4gICAgfSk7XG4gICAgY29uc3QgZHJhZ1N0YXJ0TGlzdGVuZXJzID0gQSQzKC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCkpO1xuICAgIGNvbnN0IGRyYWdFbmRMaXN0ZW5lcnMgPSBBJDMoLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gICAgY29uc3QgcmVnaXN0ZXJEcmFnU3RhcnQgPSBxJDMoKGNiKSA9PiB7XG4gICAgICBkcmFnU3RhcnRMaXN0ZW5lcnMuY3VycmVudC5hZGQoY2IpO1xuICAgICAgcmV0dXJuICgpID0+IGRyYWdTdGFydExpc3RlbmVycy5jdXJyZW50LmRlbGV0ZShjYik7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IHJlZ2lzdGVyRHJhZ0VuZCA9IHEkMygoY2IpID0+IHtcbiAgICAgIGRyYWdFbmRMaXN0ZW5lcnMuY3VycmVudC5hZGQoY2IpO1xuICAgICAgcmV0dXJuICgpID0+IGRyYWdFbmRMaXN0ZW5lcnMuY3VycmVudC5kZWxldGUoY2IpO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBlbWl0RHJhZ1N0YXJ0ID0gcSQzKCgpID0+IHtcbiAgICAgIGlmIChvbkRyYWdTdGFydCkgb25EcmFnU3RhcnQoKTtcbiAgICAgIGRyYWdTdGFydExpc3RlbmVycy5jdXJyZW50LmZvckVhY2goKGNiKSA9PiBjYigpKTtcbiAgICB9LCBbb25EcmFnU3RhcnRdKTtcbiAgICBjb25zdCBlbWl0RHJhZ0VuZCA9IHEkMygoKSA9PiB7XG4gICAgICBpZiAob25EcmFnRW5kKSBvbkRyYWdFbmQoKTtcbiAgICAgIGRyYWdFbmRMaXN0ZW5lcnMuY3VycmVudC5mb3JFYWNoKChjYikgPT4gY2IoKSk7XG4gICAgfSwgW29uRHJhZ0VuZF0pO1xuICAgIGNvbnN0IGNvbnRleHRWYWx1ZSA9IHtcbiAgICAgIGJvcmRlckxvY2F0aW9uLFxuICAgICAgc25hcEFyZWFzLFxuICAgICAgcmVnaXN0ZXJEcmFnU3RhcnQsXG4gICAgICByZWdpc3RlckRyYWdFbmQsXG4gICAgICBlbWl0RHJhZ1N0YXJ0LFxuICAgICAgZW1pdERyYWdFbmRcbiAgICB9O1xuICAgIHkkNigoKSA9PiB7XG4gICAgICBpZiAoIWNvbnRhaW5lclJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICBjb25zdCB1cGRhdGVCb3JkZXJMb2NhdGlvbiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVjdCA9IGNvbnRhaW5lclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBzZXRCb3JkZXJMb2NhdGlvbih7XG4gICAgICAgICAgdG9wOiByZWN0LnRvcCxcbiAgICAgICAgICBsZWZ0OiByZWN0LmxlZnQsXG4gICAgICAgICAgcmlnaHQ6IHJlY3QucmlnaHQsXG4gICAgICAgICAgYm90dG9tOiByZWN0LmJvdHRvbVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICB1cGRhdGVCb3JkZXJMb2NhdGlvbigpO1xuICAgICAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIodXBkYXRlQm9yZGVyTG9jYXRpb24pO1xuICAgICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShjb250YWluZXJSZWYuY3VycmVudCk7XG4gICAgICBjb25zdCBoYW5kbGVTY3JvbGwgPSAoKSA9PiB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVCb3JkZXJMb2NhdGlvbik7XG4gICAgICB9O1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2Nyb2xsLCB0cnVlKTtcbiAgICAgIGxldCBwYXJlbnQgPSBjb250YWluZXJSZWYuY3VycmVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwpO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwsIHRydWUpO1xuICAgICAgICBwYXJlbnQgPSAoX2EgPSBjb250YWluZXJSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgICBwYXJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwpO1xuICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sIFtjb250YWluZXJSZWZdKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShEcmFnZ2FibGVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0VmFsdWUsIGNoaWxkcmVuIH0pO1xuICB9O1xuICBmdW5jdGlvbiB1c2VEcmFnZ2FibGUoY29uZmlnKSB7XG4gICAgY29uc3QgcHJvdmlkZXJEYXRhID0geCQ0KERyYWdnYWJsZUNvbnRleHQpO1xuICAgIGNvbnN0IGxhdGVzdFByb3ZpZGVyRGF0YVJlZiA9IEEkMyhwcm92aWRlckRhdGEpO1xuICAgIHkkNigoKSA9PiB7XG4gICAgICBsYXRlc3RQcm92aWRlckRhdGFSZWYuY3VycmVudCA9IHByb3ZpZGVyRGF0YTtcbiAgICB9LCBbcHJvdmlkZXJEYXRhXSk7XG4gICAgY29uc3QgbW92aW5nRWxlbWVudFJlZiA9IEEkMyhudWxsKTtcbiAgICBjb25zdCBkcmFnSW5pdGlhdG9yUmVmID0gQSQzKG51bGwpO1xuICAgIGNvbnN0IFttb3ZpbmdFbGVtZW50Tm9kZSwgc2V0TW92aW5nRWxlbWVudE5vZGVdID0gZCQ0KG51bGwpO1xuICAgIGNvbnN0IFtkcmFnSW5pdGlhdG9yTm9kZSwgc2V0RHJhZ0luaXRpYXRvck5vZGVdID0gZCQ0KG51bGwpO1xuICAgIGNvbnN0IG1vdXNlVG9EcmFnZ2FibGVDZW50ZXJPZmZzZXRSZWYgPSBBJDMobnVsbCk7XG4gICAgY29uc3QgbW91c2VEb3duUG9zUmVmID0gQSQzKG51bGwpO1xuICAgIGNvbnN0IGN1cnJlbnRNb3VzZVBvc1JlZiA9IEEkMyhudWxsKTtcbiAgICBjb25zdCBpc0RyYWdnaW5nUmVmID0gQSQzKGZhbHNlKTtcbiAgICBjb25zdCBwZXJzaXN0ZWRSZWxhdGl2ZUNlbnRlclJlZiA9IEEkMyhjb25maWcuaW5pdGlhbFJlbGF0aXZlQ2VudGVyKTtcbiAgICBjb25zdCBbY3VycmVudFNuYXBBcmVhLCBzZXRDdXJyZW50U25hcEFyZWFdID0gZCQ0KG51bGwpO1xuICAgIGNvbnN0IHtcbiAgICAgIHN0YXJ0VGhyZXNob2xkID0gMyxcbiAgICAgIGFyZWFTbmFwVGhyZXNob2xkID0gNjAsXG4gICAgICAvLyBweCwgZGVmYXVsdCB0aHJlc2hvbGQgZm9yIHNuYXBwaW5nXG4gICAgICBvbkRyYWdTdGFydCxcbiAgICAgIG9uRHJhZ0VuZCxcbiAgICAgIGluaXRpYWxTbmFwQXJlYSxcbiAgICAgIHNwcmluZ1N0aWZmbmVzcyA9IDAuMyxcbiAgICAgIC8vIERlZmF1bHQgc3ByaW5nIHN0aWZmbmVzc1xuICAgICAgc3ByaW5nRGFtcG5lc3MgPSAwLjVcbiAgICAgIC8vIERlZmF1bHQgc3ByaW5nIGRhbXBuZXNzXG4gICAgICAvLyBpbml0aWFsUmVsYXRpdmVDZW50ZXIgaXMgdXNlZCB0byBpbml0aWFsaXplIHBlcnNpc3RlZFJlbGF0aXZlQ2VudGVyUmVmXG4gICAgfSA9IGNvbmZpZztcbiAgICBjb25zdCBhbmltYXRlZFBvc2l0aW9uUmVmID0gQSQzKG51bGwpO1xuICAgIGNvbnN0IHZlbG9jaXR5UmVmID0gQSQzKHsgeDogMCwgeTogMCB9KTtcbiAgICBjb25zdCBoYXNBbmltYXRlZE9uY2VSZWYgPSBBJDMoZmFsc2UpO1xuICAgIHkkNigoKSA9PiB7XG4gICAgICBpZiAoaW5pdGlhbFNuYXBBcmVhICYmIHByb3ZpZGVyRGF0YSAmJiBwcm92aWRlckRhdGEuYm9yZGVyTG9jYXRpb24gJiYgcHJvdmlkZXJEYXRhLnNuYXBBcmVhcyAmJiBwcm92aWRlckRhdGEuc25hcEFyZWFzW2luaXRpYWxTbmFwQXJlYV0gJiYgIWlzRHJhZ2dpbmdSZWYuY3VycmVudCkge1xuICAgICAgICBjb25zdCB7IHRvcCwgbGVmdCwgcmlnaHQsIGJvdHRvbSB9ID0gcHJvdmlkZXJEYXRhLmJvcmRlckxvY2F0aW9uO1xuICAgICAgICBjb25zdCB3aWR0aCA9IHJpZ2h0IC0gbGVmdDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gYm90dG9tIC0gdG9wO1xuICAgICAgICBjb25zdCBhcmVhQ2VudGVycyA9IHtcbiAgICAgICAgICB0b3BMZWZ0OiB7IHg6IGxlZnQsIHk6IHRvcCB9LFxuICAgICAgICAgIHRvcENlbnRlcjogeyB4OiBsZWZ0ICsgd2lkdGggLyAyLCB5OiB0b3AgfSxcbiAgICAgICAgICB0b3BSaWdodDogeyB4OiByaWdodCwgeTogdG9wIH0sXG4gICAgICAgICAgY2VudGVyTGVmdDogeyB4OiBsZWZ0LCB5OiB0b3AgKyBoZWlnaHQgLyAyIH0sXG4gICAgICAgICAgY2VudGVyOiB7IHg6IGxlZnQgKyB3aWR0aCAvIDIsIHk6IHRvcCArIGhlaWdodCAvIDIgfSxcbiAgICAgICAgICBjZW50ZXJSaWdodDogeyB4OiByaWdodCwgeTogdG9wICsgaGVpZ2h0IC8gMiB9LFxuICAgICAgICAgIGJvdHRvbUxlZnQ6IHsgeDogbGVmdCwgeTogYm90dG9tIH0sXG4gICAgICAgICAgYm90dG9tQ2VudGVyOiB7IHg6IGxlZnQgKyB3aWR0aCAvIDIsIHk6IGJvdHRvbSB9LFxuICAgICAgICAgIGJvdHRvbVJpZ2h0OiB7IHg6IHJpZ2h0LCB5OiBib3R0b20gfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBhcmVhQ2VudGVyc1tpbml0aWFsU25hcEFyZWFdO1xuICAgICAgICBpZiAoY2VudGVyICYmIHdpbmRvdy5pbm5lcldpZHRoID4gMCAmJiB3aW5kb3cuaW5uZXJIZWlnaHQgPiAwKSB7XG4gICAgICAgICAgY29uc3QgcmVsWCA9IChjZW50ZXIueCAtIGxlZnQpIC8gKHJpZ2h0IC0gbGVmdCk7XG4gICAgICAgICAgY29uc3QgcmVsWSA9IChjZW50ZXIueSAtIHRvcCkgLyAoYm90dG9tIC0gdG9wKTtcbiAgICAgICAgICBwZXJzaXN0ZWRSZWxhdGl2ZUNlbnRlclJlZi5jdXJyZW50ID0geyB4OiByZWxYLCB5OiByZWxZIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbaW5pdGlhbFNuYXBBcmVhLCBwcm92aWRlckRhdGFdKTtcbiAgICBmdW5jdGlvbiBnZXRTbmFwQXJlYUNlbnRlcnMoYm9yZGVyTG9jYXRpb24pIHtcbiAgICAgIGNvbnN0IHsgdG9wLCBsZWZ0LCByaWdodCwgYm90dG9tIH0gPSBib3JkZXJMb2NhdGlvbjtcbiAgICAgIGNvbnN0IHdpZHRoID0gcmlnaHQgLSBsZWZ0O1xuICAgICAgY29uc3QgaGVpZ2h0ID0gYm90dG9tIC0gdG9wO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wTGVmdDogeyB4OiBsZWZ0LCB5OiB0b3AgfSxcbiAgICAgICAgdG9wQ2VudGVyOiB7IHg6IGxlZnQgKyB3aWR0aCAvIDIsIHk6IHRvcCB9LFxuICAgICAgICB0b3BSaWdodDogeyB4OiByaWdodCwgeTogdG9wIH0sXG4gICAgICAgIGNlbnRlckxlZnQ6IHsgeDogbGVmdCwgeTogdG9wICsgaGVpZ2h0IC8gMiB9LFxuICAgICAgICBjZW50ZXI6IHsgeDogbGVmdCArIHdpZHRoIC8gMiwgeTogdG9wICsgaGVpZ2h0IC8gMiB9LFxuICAgICAgICBjZW50ZXJSaWdodDogeyB4OiByaWdodCwgeTogdG9wICsgaGVpZ2h0IC8gMiB9LFxuICAgICAgICBib3R0b21MZWZ0OiB7IHg6IGxlZnQsIHk6IGJvdHRvbSB9LFxuICAgICAgICBib3R0b21DZW50ZXI6IHsgeDogbGVmdCArIHdpZHRoIC8gMiwgeTogYm90dG9tIH0sXG4gICAgICAgIGJvdHRvbVJpZ2h0OiB7IHg6IHJpZ2h0LCB5OiBib3R0b20gfVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlRHJhZ2dhYmxlUG9zaXRpb24gPSBxJDMoKCkgPT4ge1xuICAgICAgdmFyIF9hLCBfYjtcbiAgICAgIGNvbnN0IGRyYWdnYWJsZUVsID0gbW92aW5nRWxlbWVudFJlZi5jdXJyZW50O1xuICAgICAgaWYgKCFkcmFnZ2FibGVFbCkgcmV0dXJuO1xuICAgICAgY29uc3QgZHJhZ2dhYmxlV2lkdGggPSBkcmFnZ2FibGVFbC5vZmZzZXRXaWR0aDtcbiAgICAgIGNvbnN0IGRyYWdnYWJsZUhlaWdodCA9IGRyYWdnYWJsZUVsLm9mZnNldEhlaWdodDtcbiAgICAgIGNvbnN0IG9mZnNldFBhcmVudCA9IGRyYWdnYWJsZUVsLm9mZnNldFBhcmVudDtcbiAgICAgIGxldCBwYXJlbnRWaWV3cG9ydExlZnQgPSAwO1xuICAgICAgbGV0IHBhcmVudFZpZXdwb3J0VG9wID0gMDtcbiAgICAgIGxldCBwYXJlbnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgbGV0IHBhcmVudEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIGlmIChvZmZzZXRQYXJlbnQpIHtcbiAgICAgICAgY29uc3Qgb3BSZWN0ID0gb2Zmc2V0UGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBwYXJlbnRWaWV3cG9ydExlZnQgPSBvcFJlY3QubGVmdDtcbiAgICAgICAgcGFyZW50Vmlld3BvcnRUb3AgPSBvcFJlY3QudG9wO1xuICAgICAgICBwYXJlbnRXaWR0aCA9IG9mZnNldFBhcmVudC5vZmZzZXRXaWR0aCB8fCB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgcGFyZW50SGVpZ2h0ID0gb2Zmc2V0UGFyZW50Lm9mZnNldEhlaWdodCB8fCB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB9XG4gICAgICBsZXQgdGFyZ2V0Vmlld3BvcnRDZW50ZXJYID0gbnVsbDtcbiAgICAgIGxldCB0YXJnZXRWaWV3cG9ydENlbnRlclkgPSBudWxsO1xuICAgICAgY29uc3QgY3VycmVudERlc2lyZWRSZWxhdGl2ZUNlbnRlciA9IHBlcnNpc3RlZFJlbGF0aXZlQ2VudGVyUmVmLmN1cnJlbnQ7XG4gICAgICBsZXQgc25hcEFyZWEgPSBudWxsO1xuICAgICAgbGV0IHNuYXBUYXJnZXQgPSBudWxsO1xuICAgICAgY29uc3QgcHJvdmlkZXIgPSBsYXRlc3RQcm92aWRlckRhdGFSZWYuY3VycmVudDtcbiAgICAgIGlmIChpc0RyYWdnaW5nUmVmLmN1cnJlbnQgJiYgbW91c2VUb0RyYWdnYWJsZUNlbnRlck9mZnNldFJlZi5jdXJyZW50ICYmIGN1cnJlbnRNb3VzZVBvc1JlZi5jdXJyZW50ICYmIHByb3ZpZGVyICYmIHByb3ZpZGVyLmJvcmRlckxvY2F0aW9uICYmIHByb3ZpZGVyLnNuYXBBcmVhcykge1xuICAgICAgICBjb25zdCBkcmFnQ2VudGVyID0ge1xuICAgICAgICAgIHg6IGN1cnJlbnRNb3VzZVBvc1JlZi5jdXJyZW50LnggLSBtb3VzZVRvRHJhZ2dhYmxlQ2VudGVyT2Zmc2V0UmVmLmN1cnJlbnQueCxcbiAgICAgICAgICB5OiBjdXJyZW50TW91c2VQb3NSZWYuY3VycmVudC55IC0gbW91c2VUb0RyYWdnYWJsZUNlbnRlck9mZnNldFJlZi5jdXJyZW50LnlcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYXJlYUNlbnRlcnMgPSBnZXRTbmFwQXJlYUNlbnRlcnMocHJvdmlkZXIuYm9yZGVyTG9jYXRpb24pO1xuICAgICAgICBsZXQgbWluRGlzdCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgbGV0IGNsb3Nlc3RBcmVhID0gbnVsbDtcbiAgICAgICAgbGV0IGNsb3Nlc3RDZW50ZXIgPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGFyZWEgaW4gcHJvdmlkZXIuc25hcEFyZWFzKSB7XG4gICAgICAgICAgaWYgKHByb3ZpZGVyLnNuYXBBcmVhc1thcmVhXSkge1xuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gYXJlYUNlbnRlcnNbYXJlYV07XG4gICAgICAgICAgICBpZiAoIWNlbnRlcikgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCBkaXN0ID0gTWF0aC5oeXBvdChcbiAgICAgICAgICAgICAgY2VudGVyLnggLSBkcmFnQ2VudGVyLngsXG4gICAgICAgICAgICAgIGNlbnRlci55IC0gZHJhZ0NlbnRlci55XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGRpc3QgPCBtaW5EaXN0KSB7XG4gICAgICAgICAgICAgIG1pbkRpc3QgPSBkaXN0O1xuICAgICAgICAgICAgICBjbG9zZXN0QXJlYSA9IGFyZWE7XG4gICAgICAgICAgICAgIGNsb3Nlc3RDZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjbG9zZXN0QXJlYSAmJiBjbG9zZXN0Q2VudGVyICYmIG1pbkRpc3QgPD0gYXJlYVNuYXBUaHJlc2hvbGQpIHtcbiAgICAgICAgICBzbmFwQXJlYSA9IGNsb3Nlc3RBcmVhO1xuICAgICAgICAgIHNuYXBUYXJnZXQgPSBjbG9zZXN0Q2VudGVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNEcmFnZ2luZ1JlZi5jdXJyZW50ICYmIHNuYXBUYXJnZXQpIHtcbiAgICAgICAgdGFyZ2V0Vmlld3BvcnRDZW50ZXJYID0gc25hcFRhcmdldC54O1xuICAgICAgICB0YXJnZXRWaWV3cG9ydENlbnRlclkgPSBzbmFwVGFyZ2V0Lnk7XG4gICAgICAgIHNldEN1cnJlbnRTbmFwQXJlYShzbmFwQXJlYSk7XG4gICAgICB9IGVsc2UgaWYgKGlzRHJhZ2dpbmdSZWYuY3VycmVudCAmJiBtb3VzZVRvRHJhZ2dhYmxlQ2VudGVyT2Zmc2V0UmVmLmN1cnJlbnQgJiYgY3VycmVudE1vdXNlUG9zUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdGFyZ2V0Vmlld3BvcnRDZW50ZXJYID0gY3VycmVudE1vdXNlUG9zUmVmLmN1cnJlbnQueCAtIG1vdXNlVG9EcmFnZ2FibGVDZW50ZXJPZmZzZXRSZWYuY3VycmVudC54O1xuICAgICAgICB0YXJnZXRWaWV3cG9ydENlbnRlclkgPSBjdXJyZW50TW91c2VQb3NSZWYuY3VycmVudC55IC0gbW91c2VUb0RyYWdnYWJsZUNlbnRlck9mZnNldFJlZi5jdXJyZW50Lnk7XG4gICAgICAgIHNldEN1cnJlbnRTbmFwQXJlYShudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyICYmIHBhcmVudFdpZHRoID4gMCAmJiBwYXJlbnRIZWlnaHQgPiAwKSB7XG4gICAgICAgICAgY29uc3QgaXNUb3BIYWxmMiA9IGN1cnJlbnREZXNpcmVkUmVsYXRpdmVDZW50ZXIueSA8PSAwLjU7XG4gICAgICAgICAgY29uc3QgaXNMZWZ0SGFsZjIgPSBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyLnggPD0gMC41O1xuICAgICAgICAgIGlmIChpc0xlZnRIYWxmMikge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q2VudGVyWEluUGFyZW50ID0gcGFyZW50V2lkdGggKiBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyLng7XG4gICAgICAgICAgICB0YXJnZXRWaWV3cG9ydENlbnRlclggPSBwYXJlbnRWaWV3cG9ydExlZnQgKyB0YXJnZXRDZW50ZXJYSW5QYXJlbnQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldENlbnRlclhJblBhcmVudCA9IHBhcmVudFdpZHRoICogKDEgLSBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyLngpO1xuICAgICAgICAgICAgdGFyZ2V0Vmlld3BvcnRDZW50ZXJYID0gcGFyZW50Vmlld3BvcnRMZWZ0ICsgcGFyZW50V2lkdGggLSB0YXJnZXRDZW50ZXJYSW5QYXJlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc1RvcEhhbGYyKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRDZW50ZXJZSW5QYXJlbnQgPSBwYXJlbnRIZWlnaHQgKiBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyLnk7XG4gICAgICAgICAgICB0YXJnZXRWaWV3cG9ydENlbnRlclkgPSBwYXJlbnRWaWV3cG9ydFRvcCArIHRhcmdldENlbnRlcllJblBhcmVudDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q2VudGVyWUluUGFyZW50ID0gcGFyZW50SGVpZ2h0ICogKDEgLSBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyLnkpO1xuICAgICAgICAgICAgdGFyZ2V0Vmlld3BvcnRDZW50ZXJZID0gcGFyZW50Vmlld3BvcnRUb3AgKyBwYXJlbnRIZWlnaHQgLSB0YXJnZXRDZW50ZXJZSW5QYXJlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghKChfYSA9IG1vdmluZ0VsZW1lbnRSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnN0eWxlLmxlZnQpICYmICEoKF9iID0gbW92aW5nRWxlbWVudFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2Iuc3R5bGUudG9wKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBcInVzZURyYWdnYWJsZTogQ2Fubm90IGRldGVybWluZSBwb3NpdGlvbi4gUGFyZW50IGhhcyBubyBkaW1lbnNpb25zIG9yIGluaXRpYWxSZWxhdGl2ZUNlbnRlciB3YXMgbm90IGVmZmVjdGl2ZWx5IHNldC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEN1cnJlbnRTbmFwQXJlYShudWxsKTtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXRWaWV3cG9ydENlbnRlclggPT09IG51bGwgfHwgdGFyZ2V0Vmlld3BvcnRDZW50ZXJZID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgYm9yZGVyTG9jYXRpb24gfSA9IGxhdGVzdFByb3ZpZGVyRGF0YVJlZi5jdXJyZW50IHx8IHtcbiAgICAgICAgYm9yZGVyTG9jYXRpb246IHZvaWQgMFxuICAgICAgfTtcbiAgICAgIGlmIChib3JkZXJMb2NhdGlvbiAmJiBkcmFnZ2FibGVXaWR0aCA+IDAgJiYgZHJhZ2dhYmxlSGVpZ2h0ID4gMCkge1xuICAgICAgICBjb25zdCBwcm92aWRlclJlY3RXaWR0aCA9IGJvcmRlckxvY2F0aW9uLnJpZ2h0IC0gYm9yZGVyTG9jYXRpb24ubGVmdDtcbiAgICAgICAgY29uc3QgcHJvdmlkZXJSZWN0SGVpZ2h0ID0gYm9yZGVyTG9jYXRpb24uYm90dG9tIC0gYm9yZGVyTG9jYXRpb24udG9wO1xuICAgICAgICBsZXQgY2xhbXBlZENlbnRlclggPSB0YXJnZXRWaWV3cG9ydENlbnRlclg7XG4gICAgICAgIGxldCBjbGFtcGVkQ2VudGVyWSA9IHRhcmdldFZpZXdwb3J0Q2VudGVyWTtcbiAgICAgICAgaWYgKGRyYWdnYWJsZVdpZHRoID49IHByb3ZpZGVyUmVjdFdpZHRoKSB7XG4gICAgICAgICAgY2xhbXBlZENlbnRlclggPSBib3JkZXJMb2NhdGlvbi5sZWZ0ICsgcHJvdmlkZXJSZWN0V2lkdGggLyAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IG1pblggPSBib3JkZXJMb2NhdGlvbi5sZWZ0ICsgZHJhZ2dhYmxlV2lkdGggLyAyO1xuICAgICAgICAgIGNvbnN0IG1heFggPSBib3JkZXJMb2NhdGlvbi5yaWdodCAtIGRyYWdnYWJsZVdpZHRoIC8gMjtcbiAgICAgICAgICBjbGFtcGVkQ2VudGVyWCA9IE1hdGgubWF4KG1pblgsIE1hdGgubWluKGNsYW1wZWRDZW50ZXJYLCBtYXhYKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRyYWdnYWJsZUhlaWdodCA+PSBwcm92aWRlclJlY3RIZWlnaHQpIHtcbiAgICAgICAgICBjbGFtcGVkQ2VudGVyWSA9IGJvcmRlckxvY2F0aW9uLnRvcCArIHByb3ZpZGVyUmVjdEhlaWdodCAvIDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbWluWSA9IGJvcmRlckxvY2F0aW9uLnRvcCArIGRyYWdnYWJsZUhlaWdodCAvIDI7XG4gICAgICAgICAgY29uc3QgbWF4WSA9IGJvcmRlckxvY2F0aW9uLmJvdHRvbSAtIGRyYWdnYWJsZUhlaWdodCAvIDI7XG4gICAgICAgICAgY2xhbXBlZENlbnRlclkgPSBNYXRoLm1heChtaW5ZLCBNYXRoLm1pbihjbGFtcGVkQ2VudGVyWSwgbWF4WSkpO1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldFZpZXdwb3J0Q2VudGVyWCA9IGNsYW1wZWRDZW50ZXJYO1xuICAgICAgICB0YXJnZXRWaWV3cG9ydENlbnRlclkgPSBjbGFtcGVkQ2VudGVyWTtcbiAgICAgIH1cbiAgICAgIGlmICghYW5pbWF0ZWRQb3NpdGlvblJlZi5jdXJyZW50KSB7XG4gICAgICAgIGFuaW1hdGVkUG9zaXRpb25SZWYuY3VycmVudCA9IHtcbiAgICAgICAgICB4OiB0YXJnZXRWaWV3cG9ydENlbnRlclgsXG4gICAgICAgICAgeTogdGFyZ2V0Vmlld3BvcnRDZW50ZXJZXG4gICAgICAgIH07XG4gICAgICAgIHZlbG9jaXR5UmVmLmN1cnJlbnQgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudFN0eWxlWDIgPSB0YXJnZXRWaWV3cG9ydENlbnRlclggLSBkcmFnZ2FibGVXaWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnRTdHlsZVkyID0gdGFyZ2V0Vmlld3BvcnRDZW50ZXJZIC0gZHJhZ2dhYmxlSGVpZ2h0IC8gMjtcbiAgICAgICAgY29uc3QgaXNUb3BIYWxmMiA9IGN1cnJlbnREZXNpcmVkUmVsYXRpdmVDZW50ZXIgPyBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyLnkgPD0gMC41IDogdHJ1ZTtcbiAgICAgICAgY29uc3QgaXNMZWZ0SGFsZjIgPSBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyID8gY3VycmVudERlc2lyZWRSZWxhdGl2ZUNlbnRlci54IDw9IDAuNSA6IHRydWU7XG4gICAgICAgIGNvbnN0IGVsU3R5bGUyID0gZHJhZ2dhYmxlRWwuc3R5bGU7XG4gICAgICAgIGVsU3R5bGUyLnJpZ2h0ID0gXCJcIjtcbiAgICAgICAgZWxTdHlsZTIuYm90dG9tID0gXCJcIjtcbiAgICAgICAgZWxTdHlsZTIubGVmdCA9IFwiXCI7XG4gICAgICAgIGVsU3R5bGUyLnRvcCA9IFwiXCI7XG4gICAgICAgIGlmIChpc0xlZnRIYWxmMikge1xuICAgICAgICAgIGNvbnN0IHN0eWxlTGVmdFB4ID0gdGFyZ2V0RWxlbWVudFN0eWxlWDIgLSBwYXJlbnRWaWV3cG9ydExlZnQ7XG4gICAgICAgICAgZWxTdHlsZTIubGVmdCA9IHBhcmVudFdpZHRoID4gMCA/IGAkeyhzdHlsZUxlZnRQeCAvIHBhcmVudFdpZHRoICogMTAwKS50b0ZpeGVkKDIpfSVgIDogXCIwcHhcIjtcbiAgICAgICAgICBlbFN0eWxlMi5yaWdodCA9IFwiXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3Qgc3R5bGVSaWdodFB4ID0gcGFyZW50Vmlld3BvcnRMZWZ0ICsgcGFyZW50V2lkdGggLSAodGFyZ2V0RWxlbWVudFN0eWxlWDIgKyBkcmFnZ2FibGVXaWR0aCk7XG4gICAgICAgICAgZWxTdHlsZTIucmlnaHQgPSBwYXJlbnRXaWR0aCA+IDAgPyBgJHsoc3R5bGVSaWdodFB4IC8gcGFyZW50V2lkdGggKiAxMDApLnRvRml4ZWQoMil9JWAgOiBcIjBweFwiO1xuICAgICAgICAgIGVsU3R5bGUyLmxlZnQgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1RvcEhhbGYyKSB7XG4gICAgICAgICAgY29uc3Qgc3R5bGVUb3BQeCA9IHRhcmdldEVsZW1lbnRTdHlsZVkyIC0gcGFyZW50Vmlld3BvcnRUb3A7XG4gICAgICAgICAgZWxTdHlsZTIudG9wID0gcGFyZW50SGVpZ2h0ID4gMCA/IGAkeyhzdHlsZVRvcFB4IC8gcGFyZW50SGVpZ2h0ICogMTAwKS50b0ZpeGVkKDIpfSVgIDogXCIwcHhcIjtcbiAgICAgICAgICBlbFN0eWxlMi5ib3R0b20gPSBcIlwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHN0eWxlQm90dG9tUHggPSBwYXJlbnRWaWV3cG9ydFRvcCArIHBhcmVudEhlaWdodCAtICh0YXJnZXRFbGVtZW50U3R5bGVZMiArIGRyYWdnYWJsZUhlaWdodCk7XG4gICAgICAgICAgZWxTdHlsZTIuYm90dG9tID0gcGFyZW50SGVpZ2h0ID4gMCA/IGAkeyhzdHlsZUJvdHRvbVB4IC8gcGFyZW50SGVpZ2h0ICogMTAwKS50b0ZpeGVkKDIpfSVgIDogXCIwcHhcIjtcbiAgICAgICAgICBlbFN0eWxlMi50b3AgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGhhc0FuaW1hdGVkT25jZVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFoYXNBbmltYXRlZE9uY2VSZWYuY3VycmVudCkge1xuICAgICAgICBoYXNBbmltYXRlZE9uY2VSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBvcyA9IGFuaW1hdGVkUG9zaXRpb25SZWYuY3VycmVudDtcbiAgICAgIGNvbnN0IHZlbCA9IHZlbG9jaXR5UmVmLmN1cnJlbnQ7XG4gICAgICBjb25zdCBkeCA9IHRhcmdldFZpZXdwb3J0Q2VudGVyWCAtIHBvcy54O1xuICAgICAgY29uc3QgZHkgPSB0YXJnZXRWaWV3cG9ydENlbnRlclkgLSBwb3MueTtcbiAgICAgIGNvbnN0IGF4ID0gc3ByaW5nU3RpZmZuZXNzICogZHggLSBzcHJpbmdEYW1wbmVzcyAqIHZlbC54O1xuICAgICAgY29uc3QgYXkgPSBzcHJpbmdTdGlmZm5lc3MgKiBkeSAtIHNwcmluZ0RhbXBuZXNzICogdmVsLnk7XG4gICAgICB2ZWwueCArPSBheDtcbiAgICAgIHZlbC55ICs9IGF5O1xuICAgICAgcG9zLnggKz0gdmVsLng7XG4gICAgICBwb3MueSArPSB2ZWwueTtcbiAgICAgIGNvbnN0IHRocmVzaG9sZCA9IDAuNTtcbiAgICAgIGlmIChNYXRoLmFicyhkeCkgPCB0aHJlc2hvbGQgJiYgTWF0aC5hYnMoZHkpIDwgdGhyZXNob2xkICYmIE1hdGguYWJzKHZlbC54KSA8IHRocmVzaG9sZCAmJiBNYXRoLmFicyh2ZWwueSkgPCB0aHJlc2hvbGQpIHtcbiAgICAgICAgcG9zLnggPSB0YXJnZXRWaWV3cG9ydENlbnRlclg7XG4gICAgICAgIHBvcy55ID0gdGFyZ2V0Vmlld3BvcnRDZW50ZXJZO1xuICAgICAgICB2ZWwueCA9IDA7XG4gICAgICAgIHZlbC55ID0gMDtcbiAgICAgIH1cbiAgICAgIGFuaW1hdGVkUG9zaXRpb25SZWYuY3VycmVudCA9IHsgLi4ucG9zIH07XG4gICAgICB2ZWxvY2l0eVJlZi5jdXJyZW50ID0geyAuLi52ZWwgfTtcbiAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnRTdHlsZVggPSBwb3MueCAtIGRyYWdnYWJsZVdpZHRoIC8gMjtcbiAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnRTdHlsZVkgPSBwb3MueSAtIGRyYWdnYWJsZUhlaWdodCAvIDI7XG4gICAgICBjb25zdCBpc1RvcEhhbGYgPSBjdXJyZW50RGVzaXJlZFJlbGF0aXZlQ2VudGVyID8gY3VycmVudERlc2lyZWRSZWxhdGl2ZUNlbnRlci55IDw9IDAuNSA6IHRydWU7XG4gICAgICBjb25zdCBpc0xlZnRIYWxmID0gY3VycmVudERlc2lyZWRSZWxhdGl2ZUNlbnRlciA/IGN1cnJlbnREZXNpcmVkUmVsYXRpdmVDZW50ZXIueCA8PSAwLjUgOiB0cnVlO1xuICAgICAgY29uc3QgZWxTdHlsZSA9IGRyYWdnYWJsZUVsLnN0eWxlO1xuICAgICAgZWxTdHlsZS5yaWdodCA9IFwiXCI7XG4gICAgICBlbFN0eWxlLmJvdHRvbSA9IFwiXCI7XG4gICAgICBlbFN0eWxlLmxlZnQgPSBcIlwiO1xuICAgICAgZWxTdHlsZS50b3AgPSBcIlwiO1xuICAgICAgaWYgKGlzTGVmdEhhbGYpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVMZWZ0UHggPSB0YXJnZXRFbGVtZW50U3R5bGVYIC0gcGFyZW50Vmlld3BvcnRMZWZ0O1xuICAgICAgICBlbFN0eWxlLmxlZnQgPSBwYXJlbnRXaWR0aCA+IDAgPyBgJHsoc3R5bGVMZWZ0UHggLyBwYXJlbnRXaWR0aCAqIDEwMCkudG9GaXhlZCgyKX0lYCA6IFwiMHB4XCI7XG4gICAgICAgIGVsU3R5bGUucmlnaHQgPSBcIlwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc3R5bGVSaWdodFB4ID0gcGFyZW50Vmlld3BvcnRMZWZ0ICsgcGFyZW50V2lkdGggLSAodGFyZ2V0RWxlbWVudFN0eWxlWCArIGRyYWdnYWJsZVdpZHRoKTtcbiAgICAgICAgZWxTdHlsZS5yaWdodCA9IHBhcmVudFdpZHRoID4gMCA/IGAkeyhzdHlsZVJpZ2h0UHggLyBwYXJlbnRXaWR0aCAqIDEwMCkudG9GaXhlZCgyKX0lYCA6IFwiMHB4XCI7XG4gICAgICAgIGVsU3R5bGUubGVmdCA9IFwiXCI7XG4gICAgICB9XG4gICAgICBpZiAoaXNUb3BIYWxmKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlVG9wUHggPSB0YXJnZXRFbGVtZW50U3R5bGVZIC0gcGFyZW50Vmlld3BvcnRUb3A7XG4gICAgICAgIGVsU3R5bGUudG9wID0gcGFyZW50SGVpZ2h0ID4gMCA/IGAkeyhzdHlsZVRvcFB4IC8gcGFyZW50SGVpZ2h0ICogMTAwKS50b0ZpeGVkKDIpfSVgIDogXCIwcHhcIjtcbiAgICAgICAgZWxTdHlsZS5ib3R0b20gPSBcIlwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc3R5bGVCb3R0b21QeCA9IHBhcmVudFZpZXdwb3J0VG9wICsgcGFyZW50SGVpZ2h0IC0gKHRhcmdldEVsZW1lbnRTdHlsZVkgKyBkcmFnZ2FibGVIZWlnaHQpO1xuICAgICAgICBlbFN0eWxlLmJvdHRvbSA9IHBhcmVudEhlaWdodCA+IDAgPyBgJHsoc3R5bGVCb3R0b21QeCAvIHBhcmVudEhlaWdodCAqIDEwMCkudG9GaXhlZCgyKX0lYCA6IFwiMHB4XCI7XG4gICAgICAgIGVsU3R5bGUudG9wID0gXCJcIjtcbiAgICAgIH1cbiAgICAgIGlmIChNYXRoLmFicyhwb3MueCAtIHRhcmdldFZpZXdwb3J0Q2VudGVyWCkgPiB0aHJlc2hvbGQgfHwgTWF0aC5hYnMocG9zLnkgLSB0YXJnZXRWaWV3cG9ydENlbnRlclkpID4gdGhyZXNob2xkIHx8IE1hdGguYWJzKHZlbC54KSA+IHRocmVzaG9sZCB8fCBNYXRoLmFicyh2ZWwueSkgPiB0aHJlc2hvbGQgfHwgaXNEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVEcmFnZ2FibGVQb3NpdGlvbik7XG4gICAgICB9XG4gICAgfSwgW2FyZWFTbmFwVGhyZXNob2xkLCBzcHJpbmdTdGlmZm5lc3MsIHNwcmluZ0RhbXBuZXNzXSk7XG4gICAgY29uc3QgbW91c2VVcEhhbmRsZXIgPSBxJDMoXG4gICAgICAoZTIpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoaXNEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgaWYgKG9uRHJhZ0VuZCkgb25EcmFnRW5kKCk7XG4gICAgICAgICAgaWYgKChfYSA9IGxhdGVzdFByb3ZpZGVyRGF0YVJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EuZW1pdERyYWdFbmQpIHtcbiAgICAgICAgICAgIGxhdGVzdFByb3ZpZGVyRGF0YVJlZi5jdXJyZW50LmVtaXREcmFnRW5kKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGRyYWdnYWJsZUVsID0gbW92aW5nRWxlbWVudFJlZi5jdXJyZW50O1xuICAgICAgICAgIGNvbnN0IHByb3ZpZGVyID0gbGF0ZXN0UHJvdmlkZXJEYXRhUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgaWYgKGRyYWdnYWJsZUVsICYmIHByb3ZpZGVyICYmIHByb3ZpZGVyLmJvcmRlckxvY2F0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBkcmFnZ2FibGVXaWR0aCA9IGRyYWdnYWJsZUVsLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgY29uc3QgZHJhZ2dhYmxlSGVpZ2h0ID0gZHJhZ2dhYmxlRWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0UGFyZW50ID0gZHJhZ2dhYmxlRWwub2Zmc2V0UGFyZW50O1xuICAgICAgICAgICAgbGV0IHBhcmVudFZpZXdwb3J0TGVmdCA9IDA7XG4gICAgICAgICAgICBsZXQgcGFyZW50Vmlld3BvcnRUb3AgPSAwO1xuICAgICAgICAgICAgbGV0IHBhcmVudFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgICBsZXQgcGFyZW50SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICAgICAgaWYgKG9mZnNldFBhcmVudCkge1xuICAgICAgICAgICAgICBjb25zdCBvcFJlY3QgPSBvZmZzZXRQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgIHBhcmVudFZpZXdwb3J0TGVmdCA9IG9wUmVjdC5sZWZ0O1xuICAgICAgICAgICAgICBwYXJlbnRWaWV3cG9ydFRvcCA9IG9wUmVjdC50b3A7XG4gICAgICAgICAgICAgIHBhcmVudFdpZHRoID0gb2Zmc2V0UGFyZW50Lm9mZnNldFdpZHRoIHx8IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICAgICAgICBwYXJlbnRIZWlnaHQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0SGVpZ2h0IHx8IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCByZWxlYXNlZENlbnRlclggPSAwO1xuICAgICAgICAgICAgbGV0IHJlbGVhc2VkQ2VudGVyWSA9IDA7XG4gICAgICAgICAgICBpZiAoY3VycmVudE1vdXNlUG9zUmVmLmN1cnJlbnQgJiYgbW91c2VUb0RyYWdnYWJsZUNlbnRlck9mZnNldFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgIHJlbGVhc2VkQ2VudGVyWCA9IGN1cnJlbnRNb3VzZVBvc1JlZi5jdXJyZW50LnggLSBtb3VzZVRvRHJhZ2dhYmxlQ2VudGVyT2Zmc2V0UmVmLmN1cnJlbnQueDtcbiAgICAgICAgICAgICAgcmVsZWFzZWRDZW50ZXJZID0gY3VycmVudE1vdXNlUG9zUmVmLmN1cnJlbnQueSAtIG1vdXNlVG9EcmFnZ2FibGVDZW50ZXJPZmZzZXRSZWYuY3VycmVudC55O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKGFuaW1hdGVkUG9zaXRpb25SZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHJlbGVhc2VkQ2VudGVyWCA9IGFuaW1hdGVkUG9zaXRpb25SZWYuY3VycmVudC54O1xuICAgICAgICAgICAgICAgIHJlbGVhc2VkQ2VudGVyWSA9IGFuaW1hdGVkUG9zaXRpb25SZWYuY3VycmVudC55O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBib3JkZXJMb2NhdGlvbiA9IHByb3ZpZGVyLmJvcmRlckxvY2F0aW9uO1xuICAgICAgICAgICAgY29uc3QgbWluWCA9IGJvcmRlckxvY2F0aW9uLmxlZnQgKyBkcmFnZ2FibGVXaWR0aCAvIDI7XG4gICAgICAgICAgICBjb25zdCBtYXhYID0gYm9yZGVyTG9jYXRpb24ucmlnaHQgLSBkcmFnZ2FibGVXaWR0aCAvIDI7XG4gICAgICAgICAgICBjb25zdCBtaW5ZID0gYm9yZGVyTG9jYXRpb24udG9wICsgZHJhZ2dhYmxlSGVpZ2h0IC8gMjtcbiAgICAgICAgICAgIGNvbnN0IG1heFkgPSBib3JkZXJMb2NhdGlvbi5ib3R0b20gLSBkcmFnZ2FibGVIZWlnaHQgLyAyO1xuICAgICAgICAgICAgcmVsZWFzZWRDZW50ZXJYID0gTWF0aC5tYXgobWluWCwgTWF0aC5taW4ocmVsZWFzZWRDZW50ZXJYLCBtYXhYKSk7XG4gICAgICAgICAgICByZWxlYXNlZENlbnRlclkgPSBNYXRoLm1heChtaW5ZLCBNYXRoLm1pbihyZWxlYXNlZENlbnRlclksIG1heFkpKTtcbiAgICAgICAgICAgIGNvbnN0IGFyZWFDZW50ZXJzID0gZ2V0U25hcEFyZWFDZW50ZXJzKGJvcmRlckxvY2F0aW9uKTtcbiAgICAgICAgICAgIGxldCBtaW5EaXN0ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICAgICAgbGV0IGNsb3Nlc3RBcmVhID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBjbG9zZXN0Q2VudGVyID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYXJlYSBpbiBwcm92aWRlci5zbmFwQXJlYXMpIHtcbiAgICAgICAgICAgICAgaWYgKHByb3ZpZGVyLnNuYXBBcmVhc1thcmVhXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9IGFyZWFDZW50ZXJzW2FyZWFdO1xuICAgICAgICAgICAgICAgIGlmICghY2VudGVyKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0ID0gTWF0aC5oeXBvdChcbiAgICAgICAgICAgICAgICAgIGNlbnRlci54IC0gcmVsZWFzZWRDZW50ZXJYLFxuICAgICAgICAgICAgICAgICAgY2VudGVyLnkgLSByZWxlYXNlZENlbnRlcllcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChkaXN0IDwgbWluRGlzdCkge1xuICAgICAgICAgICAgICAgICAgbWluRGlzdCA9IGRpc3Q7XG4gICAgICAgICAgICAgICAgICBjbG9zZXN0QXJlYSA9IGFyZWE7XG4gICAgICAgICAgICAgICAgICBjbG9zZXN0Q2VudGVyID0gY2VudGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNsb3Nlc3RBcmVhICYmIGNsb3Nlc3RDZW50ZXIgJiYgbWluRGlzdCA8PSBhcmVhU25hcFRocmVzaG9sZCkge1xuICAgICAgICAgICAgICBzZXRDdXJyZW50U25hcEFyZWEoY2xvc2VzdEFyZWEpO1xuICAgICAgICAgICAgICBjb25zdCByZWxYID0gKGNsb3Nlc3RDZW50ZXIueCAtIHBhcmVudFZpZXdwb3J0TGVmdCkgLyBwYXJlbnRXaWR0aDtcbiAgICAgICAgICAgICAgY29uc3QgcmVsWSA9IChjbG9zZXN0Q2VudGVyLnkgLSBwYXJlbnRWaWV3cG9ydFRvcCkgLyBwYXJlbnRIZWlnaHQ7XG4gICAgICAgICAgICAgIHBlcnNpc3RlZFJlbGF0aXZlQ2VudGVyUmVmLmN1cnJlbnQgPSB7IHg6IHJlbFgsIHk6IHJlbFkgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNldEN1cnJlbnRTbmFwQXJlYShudWxsKTtcbiAgICAgICAgICAgICAgY29uc3QgcmVsWCA9IChyZWxlYXNlZENlbnRlclggLSBwYXJlbnRWaWV3cG9ydExlZnQpIC8gcGFyZW50V2lkdGg7XG4gICAgICAgICAgICAgIGNvbnN0IHJlbFkgPSAocmVsZWFzZWRDZW50ZXJZIC0gcGFyZW50Vmlld3BvcnRUb3ApIC8gcGFyZW50SGVpZ2h0O1xuICAgICAgICAgICAgICBwZXJzaXN0ZWRSZWxhdGl2ZUNlbnRlclJlZi5jdXJyZW50ID0geyB4OiByZWxYLCB5OiByZWxZIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1vdXNlRG93blBvc1JlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgaXNEcmFnZ2luZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU3RvcCBtb3ZpbmdcIik7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG1vdXNlTW92ZUhhbmRsZXIsIHtcbiAgICAgICAgICBjYXB0dXJlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgbW91c2VVcEhhbmRsZXIsIHtcbiAgICAgICAgICBjYXB0dXJlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobW92aW5nRWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgbW92aW5nRWxlbWVudFJlZi5jdXJyZW50LnN0eWxlLnVzZXJTZWxlY3QgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudXNlclNlbGVjdCA9IFwiXCI7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJcIjtcbiAgICAgIH0sXG4gICAgICBbb25EcmFnRW5kLCBhcmVhU25hcFRocmVzaG9sZF1cbiAgICApO1xuICAgIGNvbnN0IG1vdXNlTW92ZUhhbmRsZXIgPSBxJDMoXG4gICAgICAoZTIpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIW1vdXNlRG93blBvc1JlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5oeXBvdChcbiAgICAgICAgICBlMi5jbGllbnRYIC0gbW91c2VEb3duUG9zUmVmLmN1cnJlbnQueCxcbiAgICAgICAgICBlMi5jbGllbnRZIC0gbW91c2VEb3duUG9zUmVmLmN1cnJlbnQueVxuICAgICAgICApO1xuICAgICAgICBpZiAoZGlzdGFuY2UgPiBzdGFydFRocmVzaG9sZCAmJiAhaXNEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgaXNEcmFnZ2luZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICBpZiAobW92aW5nRWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBtb3ZpbmdFbGVtZW50UmVmLmN1cnJlbnQuc3R5bGUudXNlclNlbGVjdCA9IFwibm9uZVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnVzZXJTZWxlY3QgPSBcIm5vbmVcIjtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZ3JhYmJpbmdcIjtcbiAgICAgICAgICBpZiAob25EcmFnU3RhcnQpIG9uRHJhZ1N0YXJ0KCk7XG4gICAgICAgICAgaWYgKChfYSA9IGxhdGVzdFByb3ZpZGVyRGF0YVJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EuZW1pdERyYWdTdGFydCkge1xuICAgICAgICAgICAgbGF0ZXN0UHJvdmlkZXJEYXRhUmVmLmN1cnJlbnQuZW1pdERyYWdTdGFydCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlRHJhZ2dhYmxlUG9zaXRpb24pO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3RhcnQgZHJhZ2dpbmdcIik7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudE1vdXNlUG9zUmVmLmN1cnJlbnQgPSB7IHg6IGUyLmNsaWVudFgsIHk6IGUyLmNsaWVudFkgfTtcbiAgICAgIH0sXG4gICAgICBbc3RhcnRUaHJlc2hvbGQsIG9uRHJhZ1N0YXJ0LCB1cGRhdGVEcmFnZ2FibGVQb3NpdGlvbl1cbiAgICApO1xuICAgIGNvbnN0IG1vdXNlRG93bkhhbmRsZXIgPSBxJDMoXG4gICAgICAoZTIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJNb3VzZSBkb3duIG9uIGRyYWdnYWJsZS9oYW5kbGUgYXJlYVwiKTtcbiAgICAgICAgaWYgKGUyLmJ1dHRvbiAhPT0gMCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYW5kbGVOb2RlID0gZHJhZ0luaXRpYXRvclJlZi5jdXJyZW50O1xuICAgICAgICBjb25zdCBkcmFnZ2FibGVJdGVtTm9kZSA9IG1vdmluZ0VsZW1lbnRSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKGhhbmRsZU5vZGUpIHtcbiAgICAgICAgICBpZiAoIWhhbmRsZU5vZGUuY29udGFpbnMoZTIudGFyZ2V0KSAmJiBlMi50YXJnZXQgIT09IGhhbmRsZU5vZGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICBcIk1vdXNlZG93biB3YXMgbm90IG9uIHRoZSBoYW5kbGUgZWxlbWVudCBvciBpdHMgY2hpbGRyZW4uIEN1cnJlbnQgdGFyZ2V0OlwiLFxuICAgICAgICAgICAgICBlMi50YXJnZXQsXG4gICAgICAgICAgICAgIFwiRXhwZWN0ZWQgaGFuZGxlOlwiLFxuICAgICAgICAgICAgICBoYW5kbGVOb2RlLFxuICAgICAgICAgICAgICBcIklnbm9yaW5nIGRyYWcgc3RhcnQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRyYWdnYWJsZUl0ZW1Ob2RlKSB7XG4gICAgICAgICAgaWYgKCFkcmFnZ2FibGVJdGVtTm9kZS5jb250YWlucyhlMi50YXJnZXQpICYmIGUyLnRhcmdldCAhPT0gZHJhZ2dhYmxlSXRlbU5vZGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICBcIk1vdXNlZG93biB3YXMgbm90IG9uIHRoZSBkcmFnZ2FibGUgaXRlbSBvciBpdHMgY2hpbGRyZW4gKG5vIGhhbmRsZSBzcGVjaWZpZWQpLiBDdXJyZW50IHRhcmdldDpcIixcbiAgICAgICAgICAgICAgZTIudGFyZ2V0LFxuICAgICAgICAgICAgICBcIkV4cGVjdGVkIGRyYWdnYWJsZSBpdGVtOlwiLFxuICAgICAgICAgICAgICBkcmFnZ2FibGVJdGVtTm9kZSxcbiAgICAgICAgICAgICAgXCJJZ25vcmluZyBkcmFnIHN0YXJ0LlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJEcmFnZ2FibGUgZWxlbWVudCBvciBoYW5kbGUgcmVmIG5vdCBzZXQgaW4gbW91c2VEb3duSGFuZGxlclwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJWYWxpZCBkcmFnIHRhcmdldC4gUHJvY2VlZGluZyB3aXRoIGRyYWcgc2V0dXAuXCIpO1xuICAgICAgICBtb3VzZURvd25Qb3NSZWYuY3VycmVudCA9IHsgeDogZTIuY2xpZW50WCwgeTogZTIuY2xpZW50WSB9O1xuICAgICAgICBpZiAoIW1vdmluZ0VsZW1lbnRSZWYuY3VycmVudCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJEcmFnZ2FibGUgZWxlbWVudCByZWYgbm90IHNldCBpbiBtb3VzZURvd25IYW5kbGVyXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWN0ID0gbW92aW5nRWxlbWVudFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBjdXJyZW50RHJhZ2dhYmxlQ2VudGVyWCA9IHJlY3QubGVmdCArIHJlY3Qud2lkdGggLyAyO1xuICAgICAgICBjb25zdCBjdXJyZW50RHJhZ2dhYmxlQ2VudGVyWSA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xuICAgICAgICBtb3VzZVRvRHJhZ2dhYmxlQ2VudGVyT2Zmc2V0UmVmLmN1cnJlbnQgPSB7XG4gICAgICAgICAgeDogZTIuY2xpZW50WCAtIGN1cnJlbnREcmFnZ2FibGVDZW50ZXJYLFxuICAgICAgICAgIHk6IGUyLmNsaWVudFkgLSBjdXJyZW50RHJhZ2dhYmxlQ2VudGVyWVxuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBtb3VzZU1vdmVIYW5kbGVyLCB7XG4gICAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG1vdXNlVXBIYW5kbGVyLCB7XG4gICAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBbbW91c2VNb3ZlSGFuZGxlciwgbW91c2VVcEhhbmRsZXJdXG4gICAgKTtcbiAgICB5JDYoKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudFRvTGlzdGVuT24gPSBkcmFnSW5pdGlhdG9yTm9kZSB8fCBtb3ZpbmdFbGVtZW50Tm9kZTtcbiAgICAgIGlmIChlbGVtZW50VG9MaXN0ZW5Pbikge1xuICAgICAgICBlbGVtZW50VG9MaXN0ZW5Pbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIG1vdXNlRG93bkhhbmRsZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKGVsZW1lbnRUb0xpc3Rlbk9uKSB7XG4gICAgICAgICAgZWxlbWVudFRvTGlzdGVuT24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBtb3VzZURvd25IYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgaWYgKG9uRHJhZ0VuZCkge1xuICAgICAgICAgICAgb25EcmFnRW5kKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlzRHJhZ2dpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgIGlmIChtb3ZpbmdFbGVtZW50Tm9kZSkge1xuICAgICAgICAgICAgbW92aW5nRWxlbWVudE5vZGUuc3R5bGUudXNlclNlbGVjdCA9IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudXNlclNlbGVjdCA9IFwiXCI7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcIlwiO1xuICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG1vdXNlTW92ZUhhbmRsZXIsIHtcbiAgICAgICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgbW91c2VVcEhhbmRsZXIsIHtcbiAgICAgICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LCBbXG4gICAgICBtb3ZpbmdFbGVtZW50Tm9kZSxcbiAgICAgIGRyYWdJbml0aWF0b3JOb2RlLFxuICAgICAgbW91c2VEb3duSGFuZGxlcixcbiAgICAgIG9uRHJhZ0VuZCxcbiAgICAgIG1vdXNlTW92ZUhhbmRsZXIsXG4gICAgICBtb3VzZVVwSGFuZGxlclxuICAgIF0pO1xuICAgIHkkNigoKSA9PiB7XG4gICAgICBpZiAobW92aW5nRWxlbWVudE5vZGUgJiYgcGVyc2lzdGVkUmVsYXRpdmVDZW50ZXJSZWYuY3VycmVudCAmJiAhaXNEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVEcmFnZ2FibGVQb3NpdGlvbik7XG4gICAgICB9XG4gICAgfSwgW1xuICAgICAgbW92aW5nRWxlbWVudE5vZGUsXG4gICAgICBwcm92aWRlckRhdGEsXG4gICAgICAvLyBUcmlnZ2VycyBvbiBjb250YWluZXIgcmVzaXplL3Njcm9sbCB2aWEgRHJhZ2dhYmxlUHJvdmlkZXJcbiAgICAgIHBlcnNpc3RlZFJlbGF0aXZlQ2VudGVyUmVmLFxuICAgICAgLy8gVHJpZ2dlcnMgaWYgdGhlIHBlcnNpc3RlZFJlbGF0aXZlQ2VudGVyUmVmIGNoYW5nZXNcbiAgICAgIHVwZGF0ZURyYWdnYWJsZVBvc2l0aW9uXG4gICAgICAvLyBTdGFibGUgY2FsbGJhY2tcbiAgICBdKTtcbiAgICBjb25zdCBkcmFnZ2FibGVSZWZDYWxsYmFjayA9IHEkMygobm9kZSkgPT4ge1xuICAgICAgc2V0TW92aW5nRWxlbWVudE5vZGUobm9kZSk7XG4gICAgICBtb3ZpbmdFbGVtZW50UmVmLmN1cnJlbnQgPSBub2RlO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBoYW5kbGVSZWZDYWxsYmFjayA9IHEkMygobm9kZSkgPT4ge1xuICAgICAgc2V0RHJhZ0luaXRpYXRvck5vZGUobm9kZSk7XG4gICAgICBkcmFnSW5pdGlhdG9yUmVmLmN1cnJlbnQgPSBub2RlO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4ge1xuICAgICAgZHJhZ2dhYmxlUmVmOiBkcmFnZ2FibGVSZWZDYWxsYmFjayxcbiAgICAgIGhhbmRsZVJlZjogaGFuZGxlUmVmQ2FsbGJhY2ssXG4gICAgICBwb3NpdGlvbjoge1xuICAgICAgICBzbmFwQXJlYTogY3VycmVudFNuYXBBcmVhLFxuICAgICAgICBpc1RvcEhhbGY6IHBlcnNpc3RlZFJlbGF0aXZlQ2VudGVyUmVmLmN1cnJlbnQgPyBwZXJzaXN0ZWRSZWxhdGl2ZUNlbnRlclJlZi5jdXJyZW50LnkgPD0gMC41IDogdHJ1ZSxcbiAgICAgICAgaXNMZWZ0SGFsZjogcGVyc2lzdGVkUmVsYXRpdmVDZW50ZXJSZWYuY3VycmVudCA/IHBlcnNpc3RlZFJlbGF0aXZlQ2VudGVyUmVmLmN1cnJlbnQueCA8PSAwLjUgOiB0cnVlXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBUb29sYmFyRHJhZ2dhYmxlQm94KCkge1xuICAgIGNvbnN0IHByb3ZpZGVyID0geCQ0KERyYWdnYWJsZUNvbnRleHQpO1xuICAgIGNvbnN0IGJvcmRlckxvY2F0aW9uID0gcHJvdmlkZXIgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3ZpZGVyLmJvcmRlckxvY2F0aW9uO1xuICAgIGNvbnN0IGlzUmVhZHkgPSAhIWJvcmRlckxvY2F0aW9uICYmIGJvcmRlckxvY2F0aW9uLnJpZ2h0IC0gYm9yZGVyTG9jYXRpb24ubGVmdCA+IDAgJiYgYm9yZGVyTG9jYXRpb24uYm90dG9tIC0gYm9yZGVyTG9jYXRpb24udG9wID4gMDtcbiAgICBjb25zdCBkcmFnZ2FibGUgPSB1c2VEcmFnZ2FibGUoe1xuICAgICAgc3RhcnRUaHJlc2hvbGQ6IDEwLFxuICAgICAgaW5pdGlhbFNuYXBBcmVhOiBcImJvdHRvbUNlbnRlclwiXG4gICAgfSk7XG4gICAgaWYgKCFpc1JlYWR5KSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7XG4gICAgICAgIHJlZjogZHJhZ2dhYmxlLmRyYWdnYWJsZVJlZixcbiAgICAgICAgY2xhc3NOYW1lOiBcInBvaW50ZXItZXZlbnRzLWF1dG8gYWJzb2x1dGUgcC0wLjVcIixcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicG9pbnRlci1ldmVudHMtYXV0byBmbGV4IHctOTYgbWF4LXctWzgwdnddIGZsZXgtY29sIGl0ZW1zLXN0YXJ0IGp1c3RpZnktY2VudGVyIHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItYm9yZGVyLzMwIGJvcmRlci1zb2xpZCBiZy16aW5jLTUwLzgwIHAtMCBzaGFkb3ctbGcgYmFja2Ryb3AtYmx1ci1sZyB0cmFuc2l0aW9uLWNvbG9yc1wiLCBjaGlsZHJlbjogW1xuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoQ2hhdEFyZWEsIHt9KSxcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcmVmOiBkcmFnZ2FibGUuaGFuZGxlUmVmLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiZmxleCB3LWZ1bGwgZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtM3hsIGJvcmRlci1ib3JkZXIvMzAgYm9yZGVyLXQgYmctYmFja2dyb3VuZC80MCBwLTEuNSBzaGFkb3ctbGcgdHJhbnNpdGlvbi1jb2xvcnMgZmlyc3Q6Ym9yZGVyLW5vbmVcIixcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KENoYXRCb3gsIHt9KSxcbiAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KE1vcmVBY3Rpb25zQnV0dG9uLCB7fSlcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgXSB9KVxuICAgICAgfVxuICAgICk7XG4gIH1cbiAgZnVuY3Rpb24gVG9vbGJhckFyZWEoKSB7XG4gICAgY29uc3QgY29udGFpbmVyUmVmID0gQSQzKG51bGwpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gdSQ5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImFic29sdXRlIHNpemUtZnVsbFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJhYnNvbHV0ZSBpbnNldC00XCIsIHJlZjogY29udGFpbmVyUmVmLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgIERyYWdnYWJsZVByb3ZpZGVyLFxuICAgICAge1xuICAgICAgICBjb250YWluZXJSZWYsXG4gICAgICAgIHNuYXBBcmVhczoge1xuICAgICAgICAgIHRvcExlZnQ6IHRydWUsXG4gICAgICAgICAgdG9wQ2VudGVyOiB0cnVlLFxuICAgICAgICAgIHRvcFJpZ2h0OiB0cnVlLFxuICAgICAgICAgIGNlbnRlckxlZnQ6IHRydWUsXG4gICAgICAgICAgY2VudGVyOiB0cnVlLFxuICAgICAgICAgIGNlbnRlclJpZ2h0OiB0cnVlLFxuICAgICAgICAgIGJvdHRvbUxlZnQ6IHRydWUsXG4gICAgICAgICAgYm90dG9tQ2VudGVyOiB0cnVlLFxuICAgICAgICAgIGJvdHRvbVJpZ2h0OiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gdSQ5KFRvb2xiYXJEcmFnZ2FibGVCb3gsIHt9KVxuICAgICAgfVxuICAgICkgfSkgfSk7XG4gIH1cbiAgY29uc3QgTG9nbyA9ICh7XG4gICAgY29sb3IgPSBcImRlZmF1bHRcIixcbiAgICBsb2FkaW5nID0gZmFsc2UsXG4gICAgbG9hZGluZ1NwZWVkID0gXCJzbG93XCIsXG4gICAgLi4ucHJvcHNcbiAgfSkgPT4ge1xuICAgIGNvbnN0IGNvbG9yU3R5bGUgPSB7XG4gICAgICBkZWZhdWx0OiBcImZpbGwtc3RhZ2V3aXNlLTcwMCBzdHJva2Utbm9uZVwiLFxuICAgICAgYmxhY2s6IFwiZmlsbC16aW5jLTk1MCBzdHJva2Utbm9uZVwiLFxuICAgICAgd2hpdGU6IFwiZmlsbC13aGl0ZSBzdHJva2Utbm9uZVwiLFxuICAgICAgZ3JheTogXCJmaWxsLXppbmMtNTAwLzUwIHN0cm9rZS1ub25lXCIsXG4gICAgICBjdXJyZW50OiBcImZpbGwtY3VycmVudCBzdHJva2Utbm9uZVwiLFxuICAgICAgZ3JhZGllbnQ6IFwiZmlsbC13aGl0ZSBzdHJva2UtYmxhY2svMzAgc3Ryb2tlLTFcIlxuICAgIH07XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICBcImRpdlwiLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IGByZWxhdGl2ZSAke2NvbG9yID09PSBcImdyYWRpZW50XCIgPyBcIm92ZXJmbG93LWhpZGRlbiByb3VuZGVkLWZ1bGxcIiA6IFwib3ZlcmZsb3ctdmlzaWJsZVwifSAke3Byb3BzLmNsYXNzTmFtZSB8fCBcIlwifSAke2xvYWRpbmcgPyBcImRyb3Atc2hhZG93LXhsXCIgOiBcIlwifSBhc3BlY3Qtc3F1YXJlYCxcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICBjb2xvciA9PT0gXCJncmFkaWVudFwiICYmIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYWJzb2x1dGUgaW5zZXQtMFwiLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJhYnNvbHV0ZSBpbnNldC0wIHNpemUtZnVsbCBiZy1ncmFkaWVudC10by10ciBmcm9tLWluZGlnby03MDAgdmlhLWJsdWUtNTAwIHRvLXRlYWwtNTAwXCIgfSksXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImFic29sdXRlIHRvcC0xLzIgbGVmdC0xLzIgc2l6ZS05LzEyIGJnLVtyYWRpYWwtZ3JhZGllbnQoY2lyY2xlLHJnYmEoMjE5LDM5LDExOSwwLjIpXzAlLHJnYmEoMjE5LDM5LDExOSwwKV8xMDAlKV1cIiB9KSxcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYWJzb2x1dGUgcmlnaHQtMS8yIGJvdHRvbS0xLzIgc2l6ZS1mdWxsIGJnLVtyYWRpYWwtZ3JhZGllbnQoY2lyY2xlLHJnYmEoMjE5LDM5LDExOSwwLjIpXzAlLHJnYmEoMjE5LDM5LDExOSwwKV8xMDAlKV1cIiB9KSxcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYWJzb2x1dGUgdG9wLTAgbGVmdC1bLTEwJV0gc2l6ZS1bMTIwJV0gYmctW3JhZGlhbC1ncmFkaWVudChjaXJjbGUscmdiYSgyNTUsMjU1LDI1NSwwKV82MCUscmdiYSgyNTUsMjU1LDI1NSwwLjIpXzcwJSldXCIgfSksXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImFic29sdXRlIHRvcC1bLTIwJV0gbGVmdC0wIGgtWzEyMCVdIHctZnVsbCBiZy1bcmFkaWFsLWdyYWRpZW50KGNpcmNsZSxyZ2JhKDU1LDQ4LDE2MywwKV81NSUscmdiYSg1NSw0OCwxNjMsMC4zNSlfNzMlKV1cIiB9KVxuICAgICAgICAgIF0gfSksXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgICAgICAgIFwic3ZnXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogYGFic29sdXRlIG92ZXJmbG93LXZpc2libGUgJHtjb2xvciA9PT0gXCJncmFkaWVudFwiID8gXCJ0b3AtWzI1JV0gbGVmdC1bMjUlXSBoLVs1MCVdIHctWzUwJV0gZHJvcC1zaGFkb3ctaW5kaWdvLTk1MCBkcm9wLXNoYWRvdy14c1wiIDogXCJ0b3AtMCBsZWZ0LTAgaC1mdWxsIHctZnVsbFwifWAsXG4gICAgICAgICAgICAgIHZpZXdCb3g6IFwiMCAwIDIwNDggMjA0OFwiLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXCJ0aXRsZVwiLCB7IGNoaWxkcmVuOiBcInN0YWdld2lzZVwiIH0pLFxuICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICAgICAgICAgICAgICBcImVsbGlwc2VcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjb2xvclN0eWxlW2NvbG9yXSArIChsb2FkaW5nID8gXCIgYW5pbWF0ZS1wdWxzZVwiIDogXCJcIiksXG4gICAgICAgICAgICAgICAgICAgIGlkOiBcInBhdGgzXCIsXG4gICAgICAgICAgICAgICAgICAgIHJ5OiBcIjYyNFwiLFxuICAgICAgICAgICAgICAgICAgICByeDogXCI2MjRcIixcbiAgICAgICAgICAgICAgICAgICAgY3k6IFwiMTAyNFwiLFxuICAgICAgICAgICAgICAgICAgICBjeDogXCIxMDI0XCJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApLFxuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICAgICAgICBcInN2Z1wiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IGBhYnNvbHV0ZSBvdmVyZmxvdy12aXNpYmxlICR7Y29sb3IgPT09IFwiZ3JhZGllbnRcIiA/IFwidG9wLVsyNSVdIGxlZnQtWzI1JV0gaC1bNTAlXSB3LVs1MCVdXCIgOiBcInRvcC0wIGxlZnQtMCBoLWZ1bGwgdy1mdWxsXCJ9YCxcbiAgICAgICAgICAgICAgdmlld0JveDogXCIwIDAgMjA0OCAyMDQ4XCIsXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgICAgICAgICAgIFwicGF0aFwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGlkOiBcInBhdGg0XCIsXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGBvcmlnaW4tY2VudGVyICR7Y29sb3JTdHlsZVtjb2xvcl19JHtsb2FkaW5nID8gbG9hZGluZ1NwZWVkID09PSBcImZhc3RcIiA/IFwiIGFuaW1hdGUtc3Bpbi1mYXN0XCIgOiBcIiBhbmltYXRlLXNwaW4tc2xvd1wiIDogXCJcIn1gLFxuICAgICAgICAgICAgICAgICAgZDogXCJNIDEwMjQgMCBBIDEwMjQgMTAyNCAwIDAgMCAwIDEwMjQgQSAxMDI0IDEwMjQgMCAwIDAgMTAyNCAyMDQ4IEwgMTczNiAyMDQ4IEwgMTg0OCAyMDQ4IEMgMTk1OC43OTk4IDIwNDggMjA0OCAxOTU4Ljc5OTggMjA0OCAxODQ4IEwgMjA0OCAxNzM2IEwgMjA0OCAxMDI0IEEgMTAyNCAxMDI0IDAgMCAwIDEwMjQgMCB6IE0gMTAyNC45NDE0IDIwMCBBIDgyNCA4MjQgMCAwIDEgMTg0OC45NDE0IDEwMjQgQSA4MjQgODI0IDAgMCAxIDEwMjQuOTQxNCAxODQ4IEEgODI0IDgyNCAwIDAgMSAyMDAuOTQxNDEgMTAyNCBBIDgyNCA4MjQgMCAwIDEgMTAyNC45NDE0IDIwMCB6IFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICBdXG4gICAgICB9XG4gICAgKTtcbiAgfTtcbiAgZnVuY3Rpb24gRXhwYW5kQnV0dG9uKCkge1xuICAgIGNvbnN0IGV4cGFuZCA9IHVzZUFwcFN0YXRlKChzdGF0ZSkgPT4gc3RhdGUuZXhwYW5kKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgIFwiYnV0dG9uXCIsXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IGV4cGFuZCgpLFxuICAgICAgICBjbGFzc05hbWU6IFwicG9pbnRlci1ldmVudHMtYXV0byBhYnNvbHV0ZSBib3R0b20tMyBsZWZ0LTMgc2l6ZS0xMiByb3VuZGVkLWZ1bGwgYmctdHJhbnNwYXJlbnQgb3BhY2l0eS04MCBzaGFkb3ctc20gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tNTAwIGhvdmVyOm9wYWNpdHktMTAwIGhvdmVyOnNoYWRvdy1sZ1wiLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShMb2dvLCB7IGNvbG9yOiBcImdyYWRpZW50XCIgfSlcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIGZ1bmN0aW9uIEVsZW1lbnRTZWxlY3Rvcihwcm9wcykge1xuICAgIGNvbnN0IGxhc3RIb3ZlcmVkRWxlbWVudCA9IEEkMyhudWxsKTtcbiAgICBjb25zdCBoYW5kbGVNb3VzZU1vdmUgPSBxJDMoXG4gICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoXCIuY29tcGFuaW9uXCIpKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHJlZkVsZW1lbnQgPSBnZXRFbGVtZW50QXRQb2ludChldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgICAgICAgaWYgKHByb3BzLmlnbm9yZUxpc3QuaW5jbHVkZXMocmVmRWxlbWVudCkpIHJldHVybjtcbiAgICAgICAgaWYgKGxhc3RIb3ZlcmVkRWxlbWVudC5jdXJyZW50ICE9PSByZWZFbGVtZW50KSB7XG4gICAgICAgICAgbGFzdEhvdmVyZWRFbGVtZW50LmN1cnJlbnQgPSByZWZFbGVtZW50O1xuICAgICAgICAgIHByb3BzLm9uRWxlbWVudEhvdmVyZWQocmVmRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBbcHJvcHNdXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVNb3VzZUxlYXZlID0gcSQzKCgpID0+IHtcbiAgICAgIGxhc3RIb3ZlcmVkRWxlbWVudC5jdXJyZW50ID0gbnVsbDtcbiAgICAgIHByb3BzLm9uRWxlbWVudFVuaG92ZXJlZCgpO1xuICAgIH0sIFtwcm9wc10pO1xuICAgIGNvbnN0IGhhbmRsZU1vdXNlQ2xpY2sgPSBxJDMoKCkgPT4ge1xuICAgICAgaWYgKCFsYXN0SG92ZXJlZEVsZW1lbnQuY3VycmVudCkgcmV0dXJuO1xuICAgICAgaWYgKHByb3BzLmlnbm9yZUxpc3QuaW5jbHVkZXMobGFzdEhvdmVyZWRFbGVtZW50LmN1cnJlbnQpKSByZXR1cm47XG4gICAgICBwcm9wcy5vbkVsZW1lbnRTZWxlY3RlZChsYXN0SG92ZXJlZEVsZW1lbnQuY3VycmVudCk7XG4gICAgfSwgW3Byb3BzXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICBcImRpdlwiLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IFwicG9pbnRlci1ldmVudHMtYXV0byBmaXhlZCBpbnNldC0wIGgtc2NyZWVuIHctc2NyZWVuXCIsXG4gICAgICAgIG9uTW91c2VNb3ZlOiBoYW5kbGVNb3VzZU1vdmUsXG4gICAgICAgIG9uTW91c2VMZWF2ZTogaGFuZGxlTW91c2VMZWF2ZSxcbiAgICAgICAgb25DbGljazogaGFuZGxlTW91c2VDbGljayxcbiAgICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgICAgdGFiSW5kZXg6IDBcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIGZ1bmN0aW9uIHVzZVdpbmRvd1NpemUoKSB7XG4gICAgY29uc3QgW3NpemUyLCBzZXRTaXplXSA9IGQkNCh7XG4gICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodFxuICAgIH0pO1xuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9IHEkMyhcbiAgICAgICgpID0+IHNldFNpemUoe1xuICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0XG4gICAgICB9KSxcbiAgICAgIFtdXG4gICAgKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XG4gICAgcmV0dXJuIHNpemUyO1xuICB9XG4gIGZ1bmN0aW9uIENvbnRleHRJdGVtUHJvcG9zYWwoe1xuICAgIHJlZkVsZW1lbnQsXG4gICAgLi4ucHJvcHNcbiAgfSkge1xuICAgIGNvbnN0IGJveFJlZiA9IEEkMyhudWxsKTtcbiAgICBjb25zdCB3aW5kb3dTaXplID0gdXNlV2luZG93U2l6ZSgpO1xuICAgIGNvbnN0IHVwZGF0ZUJveFBvc2l0aW9uID0gcSQzKCgpID0+IHtcbiAgICAgIGlmIChib3hSZWYuY3VycmVudCkge1xuICAgICAgICBpZiAocmVmRWxlbWVudCkge1xuICAgICAgICAgIGNvbnN0IHJlZmVyZW5jZVJlY3QgPSByZWZFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgIGJveFJlZi5jdXJyZW50LnN0eWxlLnRvcCA9IGAke3JlZmVyZW5jZVJlY3QudG9wfXB4YDtcbiAgICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS5sZWZ0ID0gYCR7cmVmZXJlbmNlUmVjdC5sZWZ0fXB4YDtcbiAgICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS53aWR0aCA9IGAke3JlZmVyZW5jZVJlY3Qud2lkdGh9cHhgO1xuICAgICAgICAgIGJveFJlZi5jdXJyZW50LnN0eWxlLmhlaWdodCA9IGAke3JlZmVyZW5jZVJlY3QuaGVpZ2h0fXB4YDtcbiAgICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gdm9pZCAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJveFJlZi5jdXJyZW50LnN0eWxlLmhlaWdodCA9IFwiMHB4XCI7XG4gICAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUud2lkdGggPSBcIjBweFwiO1xuICAgICAgICAgIGJveFJlZi5jdXJyZW50LnN0eWxlLnRvcCA9IGAke3dpbmRvd1NpemUuaGVpZ2h0IC8gMn1weGA7XG4gICAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUubGVmdCA9IGAke3dpbmRvd1NpemUud2lkdGggLyAyfXB4YDtcbiAgICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbcmVmRWxlbWVudCwgd2luZG93U2l6ZS5oZWlnaHQsIHdpbmRvd1NpemUud2lkdGhdKTtcbiAgICB1c2VDeWNsaWNVcGRhdGUodXBkYXRlQm94UG9zaXRpb24sIDMwKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7XG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICBjbGFzc05hbWU6IFwiZml4ZWQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbGcgYm9yZGVyLTIgYm9yZGVyLWJsdWUtNjAwLzgwIGJnLWJsdWUtNjAwLzIwIHRleHQtd2hpdGUgYmFja2Ryb3AtYmx1ci14cyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xMDBcIixcbiAgICAgICAgcmVmOiBib3hSZWYsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gdSQ5KFBsdXMsIHsgY2xhc3NOYW1lOiBcInNpemUtNiBkcm9wLXNoYWRvdy1ibGFjayBkcm9wLXNoYWRvdy1tZFwiIH0pXG4gICAgICB9XG4gICAgKTtcbiAgfVxuICBmdW5jdGlvbiBDb250ZXh0SXRlbSh7IHJlZkVsZW1lbnQsIC4uLnByb3BzIH0pIHtcbiAgICBjb25zdCBib3hSZWYgPSBBJDMobnVsbCk7XG4gICAgY29uc3Qgd2luZG93U2l6ZSA9IHVzZVdpbmRvd1NpemUoKTtcbiAgICBjb25zdCB1cGRhdGVCb3hQb3NpdGlvbiA9IHEkMygoKSA9PiB7XG4gICAgICBpZiAoYm94UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgaWYgKHJlZkVsZW1lbnQpIHtcbiAgICAgICAgICBjb25zdCByZWZlcmVuY2VSZWN0ID0gcmVmRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS50b3AgPSBgJHtyZWZlcmVuY2VSZWN0LnRvcH1weGA7XG4gICAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUubGVmdCA9IGAke3JlZmVyZW5jZVJlY3QubGVmdH1weGA7XG4gICAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUud2lkdGggPSBgJHtyZWZlcmVuY2VSZWN0LndpZHRofXB4YDtcbiAgICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS5oZWlnaHQgPSBgJHtyZWZlcmVuY2VSZWN0LmhlaWdodH1weGA7XG4gICAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUuZGlzcGxheSA9IHZvaWQgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS5oZWlnaHQgPSBcIjBweFwiO1xuICAgICAgICAgIGJveFJlZi5jdXJyZW50LnN0eWxlLndpZHRoID0gXCIwcHhcIjtcbiAgICAgICAgICBib3hSZWYuY3VycmVudC5zdHlsZS50b3AgPSBgJHt3aW5kb3dTaXplLmhlaWdodCAvIDJ9cHhgO1xuICAgICAgICAgIGJveFJlZi5jdXJyZW50LnN0eWxlLmxlZnQgPSBgJHt3aW5kb3dTaXplLndpZHRoIC8gMn1weGA7XG4gICAgICAgICAgYm94UmVmLmN1cnJlbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgW3JlZkVsZW1lbnQsIHdpbmRvd1NpemUuaGVpZ2h0LCB3aW5kb3dTaXplLndpZHRoXSk7XG4gICAgdXNlQ3ljbGljVXBkYXRlKHVwZGF0ZUJveFBvc2l0aW9uLCAzMCk7XG4gICAgY29uc3QgY2hhdFN0YXRlID0gdXNlQ2hhdFN0YXRlKCk7XG4gICAgY29uc3QgaGFuZGxlRGVsZXRlQ2xpY2sgPSBxJDMoKCkgPT4ge1xuICAgICAgY2hhdFN0YXRlLnJlbW92ZUNoYXREb21Db250ZXh0KGNoYXRTdGF0ZS5jdXJyZW50Q2hhdElkLCByZWZFbGVtZW50KTtcbiAgICB9LCBbY2hhdFN0YXRlLCByZWZFbGVtZW50XSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICBcImRpdlwiLFxuICAgICAge1xuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgY2xhc3NOYW1lOiBcInBvaW50ZXItZXZlbnRzLWF1dG8gZml4ZWQgZmxleCBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbGcgYm9yZGVyLTIgYm9yZGVyLWdyZWVuLTYwMC84MCBiZy1ncmVlbi02MDAvNSB0ZXh0LXRyYW5zcGFyZW50IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTAgaG92ZXI6Ym9yZGVyLXJlZC02MDAvODAgaG92ZXI6YmctcmVkLTYwMC8yMCBob3Zlcjp0ZXh0LXdoaXRlIGhvdmVyOmJhY2tkcm9wLWJsdXItc21cIixcbiAgICAgICAgcmVmOiBib3hSZWYsXG4gICAgICAgIG9uQ2xpY2s6IGhhbmRsZURlbGV0ZUNsaWNrLFxuICAgICAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgICAgICB0YWJJbmRleDogMCxcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyB1JDkoVHJhc2gyLCB7IGNsYXNzTmFtZTogXCJzaXplLTYgZHJvcC1zaGFkb3ctYmxhY2sgZHJvcC1zaGFkb3ctbWRcIiB9KVxuICAgICAgfVxuICAgICk7XG4gIH1cbiAgZnVuY3Rpb24gU2VsZWN0b3JDYW52YXMoKSB7XG4gICAgY29uc3QgeyBjaGF0cywgY3VycmVudENoYXRJZCwgYWRkQ2hhdERvbUNvbnRleHQsIGlzUHJvbXB0Q3JlYXRpb25BY3RpdmUgfSA9IHVzZUNoYXRTdGF0ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRDaGF0ID0gVCQ1KFxuICAgICAgKCkgPT4gY2hhdHMuZmluZCgoY2hhdCkgPT4gY2hhdC5pZCA9PT0gY3VycmVudENoYXRJZCksXG4gICAgICBbY3VycmVudENoYXRJZCwgY2hhdHNdXG4gICAgKTtcbiAgICBjb25zdCBzaG91bGRTaG93ID0gaXNQcm9tcHRDcmVhdGlvbkFjdGl2ZTtcbiAgICBjb25zdCBjb250ZXh0RWxlbWVudHMgPSBUJDUoKCkgPT4ge1xuICAgICAgcmV0dXJuIChjdXJyZW50Q2hhdCA9PSBudWxsID8gdm9pZCAwIDogY3VycmVudENoYXQuZG9tQ29udGV4dEVsZW1lbnRzKSB8fCBbXTtcbiAgICB9LCBbY3VycmVudENoYXRdKTtcbiAgICBjb25zdCBbaG92ZXJlZEVsZW1lbnQsIHNldEhvdmVyZWRFbGVtZW50XSA9IGQkNChcbiAgICAgIG51bGxcbiAgICApO1xuICAgIGNvbnN0IGFkZEVsZW1lbnRUb0NvbnRleHQgPSBxJDMoXG4gICAgICAoZWwpID0+IHtcbiAgICAgICAgYWRkQ2hhdERvbUNvbnRleHQoY3VycmVudENoYXRJZCwgZWwpO1xuICAgICAgfSxcbiAgICAgIFthZGRDaGF0RG9tQ29udGV4dCwgY3VycmVudENoYXRJZF1cbiAgICApO1xuICAgIGlmICghc2hvdWxkU2hvdykgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoayQzLCB7IGNoaWxkcmVuOiBbXG4gICAgICBob3ZlcmVkRWxlbWVudCAmJiAvKiBAX19QVVJFX18gKi8gdSQ5KENvbnRleHRJdGVtUHJvcG9zYWwsIHsgcmVmRWxlbWVudDogaG92ZXJlZEVsZW1lbnQgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KFxuICAgICAgICBFbGVtZW50U2VsZWN0b3IsXG4gICAgICAgIHtcbiAgICAgICAgICBpZ25vcmVMaXN0OiBjb250ZXh0RWxlbWVudHMsXG4gICAgICAgICAgb25FbGVtZW50SG92ZXJlZDogc2V0SG92ZXJlZEVsZW1lbnQsXG4gICAgICAgICAgb25FbGVtZW50U2VsZWN0ZWQ6IGFkZEVsZW1lbnRUb0NvbnRleHQsXG4gICAgICAgICAgb25FbGVtZW50VW5ob3ZlcmVkOiAoKSA9PiBzZXRIb3ZlcmVkRWxlbWVudChudWxsKVxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgY29udGV4dEVsZW1lbnRzLm1hcCgoZWwpID0+IC8qIEBfX1BVUkVfXyAqLyB1JDkoQ29udGV4dEl0ZW0sIHsgcmVmRWxlbWVudDogZWwgfSkpXG4gICAgXSB9KTtcbiAgfVxuICBmdW5jdGlvbiBEZXNrdG9wTGF5b3V0KCkge1xuICAgIGNvbnN0IG1pbmltaXplZCA9IHVzZUFwcFN0YXRlKChzdGF0ZSkgPT4gc3RhdGUubWluaW1pemVkKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHUkOShcImRpdlwiLCB7IGNsYXNzTmFtZTogY24oXCJmaXhlZCBpbnNldC0wIGgtc2NyZWVuIHctc2NyZWVuXCIpLCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIHUkOShTZWxlY3RvckNhbnZhcywge30pLFxuICAgICAgIW1pbmltaXplZCAmJiAvKiBAX19QVVJFX18gKi8gdSQ5KFRvb2xiYXJBcmVhLCB7fSksXG4gICAgICBtaW5pbWl6ZWQgJiYgLyogQF9fUFVSRV9fICovIHUkOShFeHBhbmRCdXR0b24sIHt9KVxuICAgIF0gfSk7XG4gIH1cbiAgZnVuY3Rpb24gQ2xpY2tCbG9ja2VyKHByb3BzKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoXG4gICAgICBcImRpdlwiLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IGNuKFxuICAgICAgICAgIHR5cGVvZiBwcm9wcy5lbmFibGUgPT09IFwidW5kZWZpbmVkXCIgfHwgcHJvcHMuZW5hYmxlID8gXCJwb2ludGVyLWV2ZW50cy1hdXRvXCIgOiBcInBvaW50ZXItZXZlbnRzLW5vbmVcIixcbiAgICAgICAgICBwcm9wcy5jbGFzc05hbWVcbiAgICAgICAgKSxcbiAgICAgICAgb25DbGljazogcHJvcHMub25DbGljayxcbiAgICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgICAgdGFiSW5kZXg6IDBcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIGZ1bmN0aW9uIEZvY3VzTG9jaygpIHtcbiAgICBjb25zdCBmb2N1c0luQ29tcGFuaW9uID0gQSQzKGZhbHNlKTtcbiAgICB5JDYoKCkgPT4ge1xuICAgICAgY29uc3Qgb3JpZ2luYWxGb2N1cyA9IEhUTUxFbGVtZW50LnByb3RvdHlwZS5mb2N1cztcbiAgICAgIEhUTUxFbGVtZW50LnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3Qgc2hhZG93Um9vdCA9IHRoaXMuZ2V0Um9vdE5vZGUoKTtcbiAgICAgICAgY29uc3QgaXNJbkNvbXBhbmlvbiA9IHNoYWRvd1Jvb3QgaW5zdGFuY2VvZiBTaGFkb3dSb290ICYmIHNoYWRvd1Jvb3QuaG9zdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIHNoYWRvd1Jvb3QuaG9zdC5ub2RlTmFtZSA9PT0gXCJTVEFHRVdJU0UtQ09NUEFOSU9OLUFOQ0hPUlwiO1xuICAgICAgICBpZiAoIWlzSW5Db21wYW5pb24gJiYgZm9jdXNJbkNvbXBhbmlvbi5jdXJyZW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9yaWdpbmFsRm9jdXMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9O1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgSFRNTEVsZW1lbnQucHJvdG90eXBlLmZvY3VzID0gb3JpZ2luYWxGb2N1cztcbiAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgICBcImZvY3VzaW5cIixcbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmxvY2FsTmFtZSA9PT0gY29tcGFuaW9uQW5jaG9yVGFnTmFtZSkge1xuICAgICAgICAgIGZvY3VzSW5Db21wYW5pb24uY3VycmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7IGNhcHR1cmU6IHRydWUgfVxuICAgICk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiZm9jdXNvdXRcIixcbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmxvY2FsTmFtZSA9PT0gY29tcGFuaW9uQW5jaG9yVGFnTmFtZSkge1xuICAgICAgICAgIGZvY3VzSW5Db21wYW5pb24uY3VycmVudCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgeyBjYXB0dXJlOiB0cnVlIH1cbiAgICApO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIFZpc2liaWxpdHlNYW5hZ2VyKHsgY2hpbGRyZW4gfSkge1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICBmdW5jdGlvbiBBcHAoY29uZmlnKSB7XG4gICAgY29uc3QgaXNNYWluQXBwQmxvY2tlZCA9IHVzZUFwcFN0YXRlKChzdGF0ZSkgPT4gc3RhdGUuaXNNYWluQXBwQmxvY2tlZCk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyB1JDkoayQzLCB7IGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8gdSQ5KEZvY3VzTG9jaywge30pLFxuICAgICAgLyogQF9fUFVSRV9fICovIHUkOShcbiAgICAgICAgQ2xpY2tCbG9ja2VyLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImZpeGVkIGluc2V0LTAgaC1zY3JlZW4gdy1zY3JlZW5cIixcbiAgICAgICAgICBlbmFibGU6IGlzTWFpbkFwcEJsb2NrZWRcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoQ29udGV4dFByb3ZpZGVycywgeyBjb25maWcsIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyB1JDkoSG90a2V5TGlzdGVuZXIsIHt9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIHUkOShWaXNpYmlsaXR5TWFuYWdlciwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHUkOShEZXNrdG9wTGF5b3V0LCB7fSkgfSlcbiAgICAgIF0gfSlcbiAgICBdIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGluaXRUb29sYmFyKGNvbmZpZykge1xuICAgIGlmICghZG9jdW1lbnQuYm9keSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInN0YWdld2lzZSBjb21wYW5pb24gY2Fubm90IGZpbmQgZG9jdW1lbnQuYm9keVwiKTtcbiAgICBpZiAoZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKGNvbXBhbmlvbkFuY2hvclRhZ05hbWUpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiQSBzdGFnZXdpc2UgY29tcGFuaW9uIGFuY2hvciBhbHJlYWR5IGV4aXN0cy4gQWJvcnRpbmcgdGhpcyBpbnN0YW5jZS5cIlxuICAgICAgKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgc3RhZ2V3aXNlIGNvbXBhbmlvbiBhbmNob3IgYWxyZWFkeSBleGlzdHMuXCIpO1xuICAgIH1cbiAgICBjb25zdCBzaGFkb3dEb21BbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGNvbXBhbmlvbkFuY2hvclRhZ05hbWUpO1xuICAgIHNoYWRvd0RvbUFuY2hvci5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgICBzaGFkb3dEb21BbmNob3Iuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICBzaGFkb3dEb21BbmNob3Iuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgc2hhZG93RG9tQW5jaG9yLnN0eWxlLnJpZ2h0ID0gXCIwcHhcIjtcbiAgICBzaGFkb3dEb21BbmNob3Iuc3R5bGUuYm90dG9tID0gXCIwcHhcIjtcbiAgICBzaGFkb3dEb21BbmNob3Iuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuICAgIHNoYWRvd0RvbUFuY2hvci5zdHlsZS56SW5kZXggPSBcIjIxNDc0ODM2NDdcIjtcbiAgICBjb25zdCBldmVudEJsb2NrZXIgPSAoZXYpID0+IHtcbiAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH07XG4gICAgc2hhZG93RG9tQW5jaG9yLm9uY2xpY2sgPSBldmVudEJsb2NrZXI7XG4gICAgc2hhZG93RG9tQW5jaG9yLm9ubW91c2Vkb3duID0gZXZlbnRCbG9ja2VyO1xuICAgIHNoYWRvd0RvbUFuY2hvci5vbm1vdXNldXAgPSBldmVudEJsb2NrZXI7XG4gICAgc2hhZG93RG9tQW5jaG9yLm9ubW91c2Vtb3ZlID0gZXZlbnRCbG9ja2VyO1xuICAgIHNoYWRvd0RvbUFuY2hvci5vbmRibGNsaWNrID0gZXZlbnRCbG9ja2VyO1xuICAgIHNoYWRvd0RvbUFuY2hvci5vbmNvbnRleHRtZW51ID0gZXZlbnRCbG9ja2VyO1xuICAgIHNoYWRvd0RvbUFuY2hvci5vbndoZWVsID0gZXZlbnRCbG9ja2VyO1xuICAgIHNoYWRvd0RvbUFuY2hvci5vbmZvY3VzID0gZXZlbnRCbG9ja2VyO1xuICAgIHNoYWRvd0RvbUFuY2hvci5vbmJsdXIgPSBldmVudEJsb2NrZXI7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzaGFkb3dEb21BbmNob3IpO1xuICAgIGNvbnN0IGZvbnRMaW5rTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICAgIGZvbnRMaW5rTm9kZS5yZWwgPSBcInN0eWxlc2hlZXRcIjtcbiAgICBmb250TGlua05vZGUuaHJlZiA9IGBodHRwczovL3JzbXMubWUvaW50ZXIvaW50ZXIuY3NzYDtcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGZvbnRMaW5rTm9kZSk7XG4gICAgY29uc3Qgc3R5bGVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgIHN0eWxlTm9kZS5hcHBlbmQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYXBwU3R5bGUpKTtcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlTm9kZSk7XG4gICAgRSQzKF8kNChBcHAsIGNvbmZpZyksIHNoYWRvd0RvbUFuY2hvcik7XG4gIH1cbiAgZXhwb3J0czIuaW5pdFRvb2xiYXIgPSBpbml0VG9vbGJhcjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMyLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6IFwiTW9kdWxlXCIgfSk7XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stagewise/toolbar/dist/index.umd.cjs\n");

/***/ })

};
;